<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cetusDatasetCategory">

    <select id="getDatasetCategoryList" parameterType="SearchCategory" resultType="CategoryList">
        /* cetusDatasetCategory.getDatasetCategoryList */
        SELECT CDC.UID AS CATEGORY_UID
              ,CDC.CATEGORY_NM AS CATEGORY_NM
          FROM CETUS_DATASET_CATEGORY CDC
         WHERE CDC.WORKPLACE_UID = #{workplaceUid}
        <if test="@Ognl@isNotEmpty(categoryNm)">
           AND CDC.CATEGORY_NM LIKE '%' || #{categoryNm} || '%'
        </if>
    </select>

    <insert id="insert" parameterType="CetusDatasetCategory" useGeneratedKeys="true" keyProperty="uid">
        /* cetusDatasetCategory.insert */
        INSERT INTO CETUS_DATASET_CATEGORY (
             WORKPLACE_UID
            ,CATEGORY_NM
            ,REG_UID
            ,REG_DT
            ,UPDT_UID
            ,UPDT_DT
        ) VALUES (
             #{workplaceUid}
            ,#{categoryNm}
            ,#{regUid}
            ,NOW()
            ,#{updtUid}
            ,NOW()
        )
    </insert>
</mapper>