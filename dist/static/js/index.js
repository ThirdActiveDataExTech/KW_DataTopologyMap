(()=>{"use strict";var t={462:function(t,e,a){var o,n=a("2676"),r=a("8751"),s=a("6614"),i=a("4461"),l=a("4102");let c=function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];return(0,l.m6)((0,i.W)(e))};var d=a("9831");let u={props:{canvas:{shadows:!0,orthographic:!0,dpr:[1,2],camera:{position:[25,50,50],fov:20,zoom:50}},shadow:{frames:60,color:"#f1f5f9",colorBlend:2,toneMapped:!0,alphaTest:.75,opacity:.9,scale:16},light:{intensity:3.5,amount:8,radius:4,ambient:.5,position:[-25,50,25],bias:.001,size:16},grid:{args:[10.5,10.5],cellSize:.5,cellThickness:.5,cellColor:"#a3a3a3",sectionSize:3,sectionThickness:1,sectionColor:"#a3a3a3",fadeStrength:1,followCamera:!1,infiniteGrid:!0},camera:{makeDefault:!0,dollyToCursor:!0,maxPolarAngle:Math.PI/2.2,minZoom:25,maxZoom:150,minDistance:5,maxDistance:15},background:{attach:"background",args:["#f5f5f5"]},fog:{attach:"fog",args:["#f5f5f5",60,100]}},offset:{focus:new d.Vector3}};var p=a("5271"),h=a("2957"),f=a("2098"),m=a("4861");let g=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("color",{...u.props.background}),(0,n.jsx)("fog",{...u.props.fog}),(0,n.jsx)(h.qA,{path:"/assets/hdri/",files:"venice_sunset_1k.hdr"}),(0,n.jsx)(f.r,{...u.props.grid,position:[0,-.01,0]}),(0,n.jsx)(m.B,{...u.props.camera})]});a("6913"),a("5662");var x=a("3438");var v=((o=v||{}).Basket="basket",o.Box="box",o.Slope="slope",o.Switchboard="switchboard",o.Tank="tank",o.WaterTank="waterTank",o);class j{static getPath(t){return`${this.config.basePath}/${t}${this.config.extension}`}}(0,x._)(j,"config",{basePath:"/assets/models",extension:".glb"});let b={models:[{path:j.getPath(v.Tank),title:"유입수",position:[4,0,3],metadata:{tankId:"65AF1-IW1"}},{path:j.getPath(v.Box),title:"유량계1",position:[4,0,-2],metadata:{tankId:"65AF1-FWM1"}},{path:j.getPath(v.Box),title:"유량계2",position:[2,0,-2],metadata:{tankId:"65AF1-FWM2"}},{path:j.getPath(v.Slope),title:"해수펌프1",position:[0,0,0],metadata:{tankId:"65AF1-SWP1"}},{path:j.getPath(v.Slope),title:"해수펌프2",position:[2,0,0],metadata:{tankId:"65AF1-SWP2"}},{path:j.getPath(v.Slope),title:"해수펌프3",position:[4,0,0],metadata:{tankId:"65AF1-SWP3"}},{path:j.getPath(v.Switchboard),title:"배전반 메인",position:[4,0,-4],metadata:{tankId:"65AF1-DPM"}},{path:j.getPath(v.Switchboard),title:"배전반A",position:[0,0,-4],metadata:{tankId:"65AF1-DPA"}},{path:j.getPath(v.Switchboard),title:"배전반B",position:[-2,0,-4],metadata:{tankId:"65AF1-DPB"}},{path:j.getPath(v.Box),title:"사료급이기",position:[-2,0,3],metadata:{tankId:"SAMPLE1"}},{path:j.getPath(v.Basket),title:"퀀텀 센서 연결 PC",position:[-4,0,-4],metadata:{tankId:"SAMPLE2"}},{path:j.getPath(v.Basket),title:"명선 센서 연결 PC",position:[-4,0,5],metadata:{tankId:"SAMPLE3"}},{path:j.getPath(v.WaterTank),title:"수조 1",position:[0,0,6],metadata:{tankId:"65AF1-RT1"}},{path:j.getPath(v.WaterTank),title:"수조 2",position:[2,0,6],metadata:{tankId:"65AF1-RT2"}},{path:j.getPath(v.WaterTank),title:"수조 3",position:[4,0,6],metadata:{tankId:"65AF1-RT3"}}]},y=async()=>{let t=await fetch("/assets/data/sample.json");return await t.json()},w=b;var k=a("2837"),P=a("8686"),S=a("4830"),T=a("3838"),F=a("8801");let O=(0,T.U)()((0,F.mW)(t=>({focused:null,setFocused:e=>t({focused:e}),fullscreen:!1,setFullscreen:(e,a)=>{t(t=>{var o;return(null===(o=t.focused)||void 0===o?void 0:o.objectName)!==e&&t.fullscreen?t:{target:{objectName:e},fullscreen:a}})}}))),N=(0,n.jsx)("meshStandardMaterial",{color:"#404040",roughness:.7,metalness:.2,transparent:!0,opacity:.25,depthWrite:!1}),A=t=>{let{data:e}=t,{scene:a}=(0,k.L)(e.path),{focused:o,setFocused:r,fullscreen:s}=O(),i=(0,p.useMemo)(()=>(0,S.DO)(),[]),l=(0,p.useMemo)(()=>i===(null==o?void 0:o.objectName),[o,i]),c=(0,p.useCallback)(()=>{!s&&r(l?null:{objectName:i})},[s,l,i,r]);return(0,n.jsx)(P.o,{name:i,object:a,position:e.position,castShadow:!0,receiveShadow:!0,onPointerDown:c,inject:o&&!l&&N})};var M=a("6457");let I=()=>(0,n.jsx)(M.iA,{...u.props.shadow,children:(0,n.jsx)(M.mI,{...u.props.light})}),C=()=>{let[t,e]=(0,p.useState)();(0,p.useEffect)(()=>{y().then(t=>e(t))},[]);let a=(0,p.useMemo)(()=>null==t?void 0:t.models.map((t,e)=>(0,n.jsx)(A,{data:t},e)),[t]);return(0,n.jsxs)("group",{children:[a,(0,n.jsx)(I,{})]})},W=()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(C,{})});var _=a("3930");let B=t=>{let{children:e,className:a,...o}=t;return(0,n.jsx)(_.z,{className:c(`
        inline-flex items-center gap-2 rounded-md border border-neutral-200
        bg-neutral-100 px-3 py-1.5 text-xs/6 text-neutral-700 shadow-inner
        shadow-white/10

        hover:bg-neutral-50

        ${a}
      `),...o,children:e})};var D=a("2000"),z=a("1949");let E=t=>{let{isOpen:e=!1,onClose:a,title:o,children:r,extraButtons:s}=t,i=(0,p.useCallback)(t=>{t.target===t.currentTarget&&(null==a||a())},[a]);return(0,n.jsxs)(D.u,{show:e,as:p.Fragment,children:[(0,n.jsx)(D.u.Child,{as:p.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"})}),(0,n.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",onClick:i,children:(0,n.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",onClick:i,children:(0,n.jsx)(D.u.Child,{as:p.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,n.jsxs)("div",{className:"w-full max-w-md transform overflow-hidden rounded-lg bg-white p-4 shadow-xl transition-all",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:o}),(0,n.jsxs)("div",{className:"flex gap-2",children:[s,(0,n.jsx)("button",{onPointerDown:a,className:"rounded-full p-1 hover:bg-gray-100 transition-colors",children:(0,n.jsx)(z.Z,{className:"h-5 w-5 text-gray-500"})})]})]}),(0,n.jsx)("div",{className:"mt-2 max-h-96 overflow-y-auto",children:r})]})})})})]})};var L=a("4155"),Z=a("8303"),R=a("9459");let $=JSON.stringify(w.models,null,2),J=()=>{let[t,e]=(0,p.useState)(!1),[a,o]=(0,p.useState)(!1),r=(0,p.useMemo)(()=>(0,R.td)(-1),[]),s=(0,p.useCallback)(()=>{window.navigator.clipboard.writeText($),window.clearTimeout(r.value),o(!0),r.value=window.setTimeout(()=>o(!1),3e3)},[r]);return(0,n.jsxs)("div",{className:"fixed left-0 top-0 p-3",children:[(0,n.jsx)(B,{onPointerDown:()=>e(!0),children:"JSON"}),(0,n.jsx)(E,{title:"Models",isOpen:t,onClose:()=>e(!1),extraButtons:(0,n.jsx)("button",{onPointerDown:s,className:`
              rounded-full p-1 transition-colors

              hover:bg-gray-100
            `,children:a?(0,n.jsx)(L.Z,{className:"h-5 w-5 text-gray-500"}):(0,n.jsx)(Z.Z,{className:"h-5 w-5 text-gray-500"})}),children:(0,n.jsx)("pre",{className:"rounded border bg-neutral-50 p-3 text-xs",children:$})})]})};var K=a("2348");let q=()=>{let t=O(t=>t.focused),{scene:e,controls:a}=(0,K.D)();return(0,p.useEffect)(()=>{if(!!a)if(t){let o=e.getObjectByName(t.objectName).position.clone().add(u.offset.focus);a.setLookAt(-50,25,50,o.x,o.y,o.z,!0),a.zoomTo(window.innerWidth>767?150:100,!0)}else a.setLookAt(25,50,50,0,0,0,!0),a.zoomTo(70,!0)},[a,t,e]),(0,n.jsx)(n.Fragment,{})},G=document.getElementById("root");G&&r.createRoot(G).render((0,n.jsx)(p.StrictMode,{children:(0,n.jsx)(()=>(0,n.jsxs)("div",{className:c("fixed left-0 top-0 !size-full slate-300"),children:[(0,n.jsxs)(s.Xz,{...u.props.canvas,children:[(0,n.jsx)(g,{}),(0,n.jsx)(q,{}),(0,n.jsx)(p.Suspense,{fallback:null,children:(0,n.jsx)(W,{})})]}),(0,n.jsx)(J,{})]}),{})}))}},e={};function a(o){var n=e[o];if(void 0!==n)return n.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,a),r.exports}a.m=t,a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};a.t=function(o,n){if(1&n&&(o=this(o)),8&n||"object"==typeof o&&o&&(4&n&&o.__esModule||16&n&&"function"==typeof o.then))return o;var r=Object.create(null);a.r(r);var s={};t=t||[null,e({}),e([]),e(e)];for(var i=2&n&&o;"object"==typeof i&&!~t.indexOf(i);i=e(i))Object.getOwnPropertyNames(i).forEach(function(t){s[t]=function(){return o[t]}});return s.default=function(){return o},a.d(r,s),r}})(),a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=[];a.O=function(e,o,n,r){if(o){r=r||0;for(var s=t.length;s>0&&t[s-1][2]>r;s--)t[s]=t[s-1];t[s]=[o,n,r];return}for(var i=1/0,s=0;s<t.length;s++){for(var o=t[s][0],n=t[s][1],r=t[s][2],l=!0,c=0;c<o.length;c++)(!1&r||i>=r)&&Object.keys(a.O).every(function(t){return a.O[t](o[c])})?o.splice(c--,1):(l=!1,r<i&&(i=r));if(l){t.splice(s--,1);var d=n();void 0!==d&&(e=d)}}return e}})(),a.rv=function(){return"1.1.1"},(()=>{var t={980:0};a.O.j=function(e){return 0===t[e]};var e=function(e,o){var n=o[0],r=o[1],s=o[2],i,l,c=0;if(n.some(function(e){return 0!==t[e]})){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(s)var d=s(a)}for(e&&e(o);c<n.length;c++)l=n[c],a.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return a.O(d)},o=self.webpackChunkKW_DataTopologyMap=self.webpackChunkKW_DataTopologyMap||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})(),a.ruid="bundler=rspack@1.1.1";var o=a.O(void 0,["126","361","130"],function(){return a("462")});o=a.O(o)})();