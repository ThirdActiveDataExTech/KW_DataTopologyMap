/*! For license information please see index.js.LICENSE.txt */
!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("kw",[],r):"object"==typeof exports?exports.kw=r():t.kw=r()}(this,()=>(()=>{var t={438:function(t){"use strict";t.exports=function(t,r){if(null==t)throw TypeError("expected first argument to be an object.");if(void 0===r||"undefined"==typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return t;for(var i=Object.prototype.propertyIsEnumerable,s=Object(t),u=arguments.length,c=0;++c<u;){for(var h=Object(arguments[c]),f=Object.getOwnPropertySymbols(h),p=0;p<f.length;p++){var v=f[p];i.call(h,v)&&(s[v]=h[v])}}return s}},1253:function(t,r){"use strict";r.default=function(t,r){if(t&&r){var i=Array.isArray(r)?r:r.split(",");if(0===i.length)return!0;var s=t.name||"",u=(t.type||"").toLowerCase(),c=u.replace(/\/.*$/,"");return i.some(function(t){var r=t.trim().toLowerCase();return"."===r.charAt(0)?s.toLowerCase().endsWith(r):r.endsWith("/*")?c===r.replace(/\/.*$/,""):u===r})}return!0}},6483:function(t){var r,i;r=0,i=function(){"use strict";var t="millisecond",r="second",i="minute",s="hour",u="week",c="month",h="quarter",f="year",p="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_=function(t,r,i){var s=String(t);return!s||s.length>=r?t:""+Array(r+1-s.length).join(i)+t},b="en",w={};w[b]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var r=["th","st","nd","rd"],i=t%100;return"["+t+(r[(i-20)%10]||r[i]||"th")+"]"}};var S="$isDayjsObject",A=function(t){return t instanceof I||!(!t||!t[S])},M=function t(r,i,s){var u;if(!r)return b;if("string"==typeof r){var c=r.toLowerCase();w[c]&&(u=c),i&&(w[c]=i,u=c);var h=r.split("-");if(!u&&h.length>1)return t(h[0])}else{var f=r.name;w[f]=r,u=f}return!s&&u&&(b=u),u||!s&&b},C=function(t,r){if(A(t))return t.clone();var i="object"==typeof r?r:{};return i.date=t,i.args=arguments,new I(i)},T={s:_,z:function(t){var r=-t.utcOffset(),i=Math.abs(r);return(r<=0?"+":"-")+_(Math.floor(i/60),2,"0")+":"+_(i%60,2,"0")},m:function t(r,i){if(r.date()<i.date())return-t(i,r);var s=12*(i.year()-r.year())+(i.month()-r.month()),u=r.clone().add(s,c),h=i-u<0,f=r.clone().add(s+(h?-1:1),c);return+(-(s+(i-u)/(h?u-f:f-u))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(v){return({M:c,y:f,w:u,d:"day",D:p,h:s,m:i,s:r,ms:t,Q:h})[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}};T.l=M,T.i=A,T.w=function(t,r){return C(t,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var I=function(){function _(t){this.$L=M(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[S]=!0}var b=_.prototype;return b.parse=function(t){this.$d=function(t){var r=t.date,i=t.utc;if(null===r)return new Date(NaN);if(T.u(r))return new Date;if(r instanceof Date)return new Date(r);if("string"==typeof r&&!/Z$/i.test(r)){var s=r.match(y);if(s){var u=s[2]-1||0,c=(s[7]||"0").substring(0,3);return i?new Date(Date.UTC(s[1],u,s[3]||1,s[4]||0,s[5]||0,s[6]||0,c)):new Date(s[1],u,s[3]||1,s[4]||0,s[5]||0,s[6]||0,c)}}return new Date(r)}(t),this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return T},b.isValid=function(){return this.$d.toString()!==v},b.isSame=function(t,r){var i=C(t);return this.startOf(r)<=i&&i<=this.endOf(r)},b.isAfter=function(t,r){return C(t)<this.startOf(r)},b.isBefore=function(t,r){return this.endOf(r)<C(t)},b.$g=function(t,r,i){return T.u(t)?this[r]:this.set(i,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,h){var v=this,y=!!T.u(h)||h,x=T.p(t),_=function(t,r){var i=T.w(v.$u?Date.UTC(v.$y,r,t):new Date(v.$y,r,t),v);return y?i:i.endOf("day")},b=function(t,r){return T.w(v.toDate()[t].apply(v.toDate("s"),(y?[0,0,0,0]:[23,59,59,999]).slice(r)),v)},w=this.$W,S=this.$M,A=this.$D,M="set"+(this.$u?"UTC":"");switch(x){case f:return y?_(1,0):_(31,11);case c:return y?_(1,S):_(0,S+1);case u:var C=this.$locale().weekStart||0,I=(w<C?w+7:w)-C;return _(y?A-I:A+(6-I),S);case"day":case p:return b(M+"Hours",0);case s:return b(M+"Minutes",1);case i:return b(M+"Seconds",2);case r:return b(M+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(u,h){var v,y=T.p(u),x="set"+(this.$u?"UTC":""),_=((v={}).day=x+"Date",v[p]=x+"Date",v[c]=x+"Month",v[f]=x+"FullYear",v[s]=x+"Hours",v[i]=x+"Minutes",v[r]=x+"Seconds",v[t]=x+"Milliseconds",v)[y],b="day"===y?this.$D+(h-this.$W):h;if(y===c||y===f){var w=this.clone().set(p,1);w.$d[_](b),w.init(),this.$d=w.set(p,Math.min(this.$D,w.daysInMonth())).$d}else _&&this.$d[_](b);return this.init(),this},b.set=function(t,r){return this.clone().$set(t,r)},b.get=function(t){return this[T.p(t)]()},b.add=function(t,h){var p,v=this;t=Number(t);var y=T.p(h),x=function(r){var i=C(v);return T.w(i.date(i.date()+Math.round(r*t)),v)};if(y===c)return this.set(c,this.$M+t);if(y===f)return this.set(f,this.$y+t);if("day"===y)return x(1);if(y===u)return x(7);var _=((p={})[i]=6e4,p[s]=36e5,p[r]=1e3,p)[y]||1,b=this.$d.getTime()+t*_;return T.w(b,this)},b.subtract=function(t,r){return this.add(-1*t,r)},b.format=function(t){var r=this,i=this.$locale();if(!this.isValid())return i.invalidDate||v;var s=t||"YYYY-MM-DDTHH:mm:ssZ",u=T.z(this),c=this.$H,h=this.$m,f=this.$M,p=i.weekdays,y=i.months,_=i.meridiem,b=function(t,i,u,c){return t&&(t[i]||t(r,s))||u[i].slice(0,c)},w=function(t){return T.s(c%12||12,t,"0")},S=_||function(t,r,i){var s=t<12?"AM":"PM";return i?s.toLowerCase():s};return s.replace(x,function(t,s){return s||function(t){switch(t){case"YY":return String(r.$y).slice(-2);case"YYYY":return T.s(r.$y,4,"0");case"M":return f+1;case"MM":return T.s(f+1,2,"0");case"MMM":return b(i.monthsShort,f,y,3);case"MMMM":return b(y,f);case"D":return r.$D;case"DD":return T.s(r.$D,2,"0");case"d":return String(r.$W);case"dd":return b(i.weekdaysMin,r.$W,p,2);case"ddd":return b(i.weekdaysShort,r.$W,p,3);case"dddd":return p[r.$W];case"H":return String(c);case"HH":return T.s(c,2,"0");case"h":return w(1);case"hh":return w(2);case"a":return S(c,h,!0);case"A":return S(c,h,!1);case"m":return String(h);case"mm":return T.s(h,2,"0");case"s":return String(r.$s);case"ss":return T.s(r.$s,2,"0");case"SSS":return T.s(r.$ms,3,"0");case"Z":return u}return null}(t)||u.replace(":","")})},b.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},b.diff=function(t,p,v){var y,x=this,_=T.p(p),b=C(t),w=(b.utcOffset()-this.utcOffset())*6e4,S=this-b,A=function(){return T.m(x,b)};switch(_){case f:y=A()/12;break;case c:y=A();break;case h:y=A()/3;break;case u:y=(S-w)/6048e5;break;case"day":y=(S-w)/864e5;break;case s:y=S/36e5;break;case i:y=S/6e4;break;case r:y=S/1e3;break;default:y=S}return v?y:T.a(y)},b.daysInMonth=function(){return this.endOf(c).$D},b.$locale=function(){return w[this.$L]},b.locale=function(t,r){if(!t)return this.$L;var i=this.clone(),s=M(t,r,!0);return s&&(i.$L=s),i},b.clone=function(){return T.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},_}(),D=I.prototype;return C.prototype=D,[["$ms",t],["$s",r],["$m",i],["$H",s],["$W","day"],["$M",c],["$y",f],["$D",p]].forEach(function(t){D[t[1]]=function(r){return this.$g(r,t[0],t[1])}}),C.extend=function(t,r){return t.$i||(t(r,I,C),t.$i=!0),C},C.locale=M,C.isDayjs=A,C.unix=function(t){return C(1e3*t)},C.en=w[b],C.Ls=w,C.p={},C},t.exports=i()},1110:function(t){function r(t,r,i){function s(){var v=Date.now()-f;v<r&&v>=0?u=setTimeout(s,r-v):(u=null,!i&&(p=t.apply(h,c),h=c=null))}null==r&&(r=100);var u,c,h,f,p,v=function(){h=this,c=arguments,f=Date.now();var v=i&&!u;return!u&&(u=setTimeout(s,r)),v&&(p=t.apply(h,c),h=c=null),p};return v.clear=function(){u&&(clearTimeout(u),u=null)},v.flush=function(){u&&(p=t.apply(h,c),h=c=null,clearTimeout(u),u=null)},v}r.debounce=r,t.exports=r},1312:function(t){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function s(){}function u(t,r,i){this.fn=t,this.context=r,this.once=i||!1}function c(t,r,s,c,h){if("function"!=typeof s)throw TypeError("The listener must be a function");var f=new u(s,c||t,h),p=i?i+r:r;return t._events[p]?t._events[p].fn?t._events[p]=[t._events[p],f]:t._events[p].push(f):(t._events[p]=f,t._eventsCount++),t}function h(t,r){0==--t._eventsCount?t._events=new s:delete t._events[r]}function f(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),!new s().__proto__&&(i=!1)),f.prototype.eventNames=function(){var t,s,u=[];if(0===this._eventsCount)return u;for(s in t=this._events)r.call(t,s)&&u.push(i?s.slice(1):s);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(t)):u},f.prototype.listeners=function(t){var r=i?i+t:t,s=this._events[r];if(!s)return[];if(s.fn)return[s.fn];for(var u=0,c=s.length,h=Array(c);u<c;u++)h[u]=s[u].fn;return h},f.prototype.listenerCount=function(t){var r=i?i+t:t,s=this._events[r];return s?s.fn?1:s.length:0},f.prototype.emit=function(t,r,s,u,c,h){var f=i?i+t:t;if(!this._events[f])return!1;var p,v,y=this._events[f],x=arguments.length;if(y.fn){switch(y.once&&this.removeListener(t,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,r),!0;case 3:return y.fn.call(y.context,r,s),!0;case 4:return y.fn.call(y.context,r,s,u),!0;case 5:return y.fn.call(y.context,r,s,u,c),!0;case 6:return y.fn.call(y.context,r,s,u,c,h),!0}for(v=1,p=Array(x-1);v<x;v++)p[v-1]=arguments[v];y.fn.apply(y.context,p)}else{var _,b=y.length;for(v=0;v<b;v++)switch(y[v].once&&this.removeListener(t,y[v].fn,void 0,!0),x){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,r);break;case 3:y[v].fn.call(y[v].context,r,s);break;case 4:y[v].fn.call(y[v].context,r,s,u);break;default:if(!p)for(_=1,p=Array(x-1);_<x;_++)p[_-1]=arguments[_];y[v].fn.apply(y[v].context,p)}}return!0},f.prototype.on=function(t,r,i){return c(this,t,r,i,!1)},f.prototype.once=function(t,r,i){return c(this,t,r,i,!0)},f.prototype.removeListener=function(t,r,s,u){var c=i?i+t:t;if(!this._events[c])return this;if(!r)return h(this,c),this;var f=this._events[c];if(f.fn)f.fn===r&&(!u||f.once)&&(!s||f.context===s)&&h(this,c);else{for(var p=0,v=[],y=f.length;p<y;p++)(f[p].fn!==r||u&&!f[p].once||s&&f[p].context!==s)&&v.push(f[p]);v.length?this._events[c]=1===v.length?v[0]:v:h(this,c)}return this},f.prototype.removeAllListeners=function(t){var r;return t?(r=i?i+t:t,this._events[r]&&h(this,r)):(this._events=new s,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=i,f.EventEmitter=f;t.exports=f},8396:function(t,r,i){"use strict";var s=i(3566);t.exports=function(t){!s(t)&&(t={});for(var r=arguments.length,i=1;i<r;i++){var u=arguments[i];s(u)&&function(t,r){for(var i in r)(function(t,r){return Object.prototype.hasOwnProperty.call(t,r)})(r,i)&&(t[i]=r[i])}(t,u)}return t}},5582:function(t,r,i){"use strict";var s=i(2723),u=i(438);t.exports=Object.assign||function(t){if(null==t)throw TypeError("Cannot convert undefined or null to object");!c(t)&&(t={});for(var r=1;r<arguments.length;r++){var i=arguments[r];(function(t){return t&&"string"==typeof t})(i)&&(i=function(t){var r={};for(var i in t)r[i]=t[i];return r}(i)),c(i)&&(function(t,r){for(var i in r)(function(t,r){return Object.prototype.hasOwnProperty.call(t,r)})(r,i)&&(t[i]=r[i])}(t,i),u(t,i))}return t};function c(t){return t&&"object"==typeof t||s(t)}},3341:function(t){"use strict";t.exports=function t(r,i){if(r===i)return!0;if(r&&i&&"object"==typeof r&&"object"==typeof i){if(r.constructor!==i.constructor)return!1;if(Array.isArray(r)){if((s=r.length)!=i.length)return!1;for(u=s;0!=u--;)if(!t(r[u],i[u]))return!1;return!0}if(r.constructor===RegExp)return r.source===i.source&&r.flags===i.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===i.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===i.toString();if((s=(c=Object.keys(r)).length)!==Object.keys(i).length)return!1;for(u=s;0!=u--;)if(!Object.prototype.hasOwnProperty.call(i,c[u]))return!1;for(u=s;0!=u--;){var s,u,c,h=c[u];if(!t(r[h],i[h]))return!1}return!0}return r!=r&&i!=i}},1603:function(t){"use strict";t.exports=function(t,r,i){for(var s in t)if(!1===r.call(i,t[s],s,t))break}},3780:function(t){t.exports=function(t,i,s,u,c){if(!function(t){return null!==t&&("object"==typeof t||"function"==typeof t)}(t)||!i)return t;if(i=r(i),s&&(i+="."+r(s)),u&&(i+="."+r(u)),c&&(i+="."+r(c)),i in t)return t[i];for(var h=i.split("."),f=h.length,p=-1;t&&++p<f;){for(var v=h[p];"\\"===v[v.length-1];)v=v.slice(0,-1)+"."+h[++p];t=t[v]}return t};function r(t){return t?Array.isArray(t)?t.join("."):t:""}},3566:function(t){"use strict";t.exports=function(t){return null!=t&&("object"==typeof t||"function"==typeof t)}},2723:function(t,r,i){"use strict";var s=i(6805);t.exports=function(t){return s(t)||"function"==typeof t||Array.isArray(t)}},6805:function(t,r,i){"use strict";var s=i(8646);function u(t){return!0===s(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var r,i;return!1!==u(t)&&"function"==typeof(r=t.constructor)&&!1!==u(i=r.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf")&&!0}},8646:function(t){"use strict";t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},1378:function(t,r,i){"use strict";var s=i(2723),u=i(2793),c=i(3780),h=i(8930);t.exports=function(t,r,i){if(!s(t))throw TypeError("expected an object");if("string"!=typeof r||null==i)return u.apply(null,arguments);if("string"==typeof i)return h(t,r,i),t;var f=c(t,r);return s(i)&&s(f)&&(i=u({},f,i)),h(t,r,i),t}},2793:function(t,r,i){"use strict";var s=i(2723),u=i(1603);function c(t,r){for(var i=arguments.length,s=0;++s<i;){var c=arguments[s];f(c)&&u(c,h,t)}return t}function h(t,r){if(!!function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t}(r)){var i=this[r];f(t)&&f(i)?c(i,t):this[r]=t}}function f(t){return s(t)&&!Array.isArray(t)}t.exports=c},4049:function(t,r,i){"use strict";var s=i(6257);function u(){}function c(){}c.resetWarningCache=u,t.exports=function(){function t(t,r,i,u,c,h){if(h!==s){var f=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}function r(){return t}t.isRequired=t;var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,elementType:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:c,resetWarningCache:u};return i.PropTypes=i,i}},507:function(t,r,i){t.exports=i(4049)()},6257:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6521:function(t,r,i){"use strict";var s,u,c,h,f,p,v=i(5271),y=i(7537);function x(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _=new Set,b={};function w(t,r){S(t,r),S(t+"Capture",r)}function S(t,r){for(b[t]=r,t=0;t<r.length;t++)_.add(r[t])}var A=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),M=Object.prototype.hasOwnProperty,C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},I={};function D(t,r,i,s,u,c,h){this.acceptsBooleans=2===r||3===r||4===r,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=t,this.type=r,this.sanitizeURL=c,this.removeEmptyString=h}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){R[t]=new D(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];R[r]=new D(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){R[t]=new D(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){R[t]=new D(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){R[t]=new D(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){R[t]=new D(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){R[t]=new D(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){R[t]=new D(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){R[t]=new D(t,5,!1,t.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function L(t){return t[1].toUpperCase()}function B(t,r,i,s){var u,c=R.hasOwnProperty(r)?R[r]:null;if(null!==c?0!==c.type:s||!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1]){;(function(t,r,i,s){if(null==r||function(t,r,i,s){if(null!==i&&0===i.type)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":if(s)return!1;if(null!==i)return!i.acceptsBooleans;return"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t;default:return!1}}(t,r,i,s))return!0;if(s)return!1;if(null!==i)switch(i.type){case 3:return!r;case 4:return!1===r;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1})(r,i,c,s)&&(i=null),s||null===c?(u=r,(!!M.call(I,u)||!M.call(T,u)&&(C.test(u)?I[u]=!0:(T[u]=!0,!1)))&&(null===i?t.removeAttribute(r):t.setAttribute(r,""+i))):c.mustUseProperty?t[c.propertyName]=null===i?3!==c.type&&"":i:(r=c.attributeName,s=c.attributeNamespace,null===i?t.removeAttribute(r):(i=3===(c=c.type)||4===c&&!0===i?"":""+i,s?t.setAttributeNS(s,r,i):t.setAttribute(r,i)))}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(P,L);R[r]=new D(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(P,L);R[r]=new D(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(P,L);R[r]=new D(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){R[t]=new D(t,1,!1,t.toLowerCase(),null,!1,!1)}),R.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){R[t]=new D(t,1,!1,t.toLowerCase(),null,!0,!0)});var k=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),N=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),H=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Y=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var Z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var K=Symbol.iterator;function J(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=K&&t[K]||t["@@iterator"])?t:null}var Q,q=Object.assign;function $(t){if(void 0===Q)try{throw Error()}catch(t){var r=t.stack.trim().match(/\n( *(at )?)/);Q=r&&r[1]||""}return"\n"+Q+t}var ee=!1;function et(t,r){if(!t||ee)return"";ee=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r){if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(t){var s=t}Reflect.construct(t,[],r)}else{try{r.call()}catch(t){s=t}t.call(r.prototype)}}else{try{throw Error()}catch(t){s=t}t()}}catch(r){if(r&&s&&"string"==typeof r.stack){for(var u=r.stack.split("\n"),c=s.stack.split("\n"),h=u.length-1,f=c.length-1;1<=h&&0<=f&&u[h]!==c[f];)f--;for(;1<=h&&0<=f;h--,f--)if(u[h]!==c[f]){if(1!==h||1!==f)do if(h--,0>--f||u[h]!==c[f]){var p="\n"+u[h].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=h&&0<=f);break}}}finally{ee=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?$(t):""}function en(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function er(t){var r=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===r||"radio"===r)}function ei(t){t._valueTracker||(t._valueTracker=function(t){var r=er(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),s=""+t[r];if(!t.hasOwnProperty(r)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var u=i.get,c=i.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return u.call(this)},set:function(t){s=""+t,c.call(this,t)}}),Object.defineProperty(t,r,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(t){s=""+t},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}(t))}function ea(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var i=r.getValue(),s="";return t&&(s=er(t)?t.checked?"true":"false":t.value),(t=s)!==i&&(r.setValue(t),!0)}function eo(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(r){return t.body}}function es(t,r){var i=r.checked;return q({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function el(t,r){var i=null==r.defaultValue?"":r.defaultValue,s=null!=r.checked?r.checked:r.defaultChecked;i=en(null!=r.value?r.value:i),t._wrapperState={initialChecked:s,initialValue:i,controlled:"checkbox"===r.type||"radio"===r.type?null!=r.checked:null!=r.value}}function eu(t,r){null!=(r=r.checked)&&B(t,"checked",r,!1)}function ec(t,r){eu(t,r);var i=en(r.value),s=r.type;if(null!=i)"number"===s?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===s||"reset"===s){t.removeAttribute("value");return}r.hasOwnProperty("value")?ed(t,r.type,i):r.hasOwnProperty("defaultValue")&&ed(t,r.type,en(r.defaultValue)),null==r.checked&&null!=r.defaultChecked&&(t.defaultChecked=!!r.defaultChecked)}function eh(t,r,i){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!("submit"!==s&&"reset"!==s||void 0!==r.value&&null!==r.value))return;r=""+t._wrapperState.initialValue,i||r===t.value||(t.value=r),t.defaultValue=r}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function ed(t,r,i){("number"!==r||eo(t.ownerDocument)!==t)&&(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var ef=Array.isArray;function ep(t,r,i,s){if(t=t.options,r){r={};for(var u=0;u<i.length;u++)r["$"+i[u]]=!0;for(i=0;i<t.length;i++)u=r.hasOwnProperty("$"+t[i].value),t[i].selected!==u&&(t[i].selected=u),u&&s&&(t[i].defaultSelected=!0)}else{for(u=0,i=""+en(i),r=null;u<t.length;u++){if(t[u].value===i){t[u].selected=!0,s&&(t[u].defaultSelected=!0);return}null!==r||t[u].disabled||(r=t[u])}null!==r&&(r.selected=!0)}}function eg(t,r){if(null!=r.dangerouslySetInnerHTML)throw Error(x(91));return q({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function em(t,r){var i=r.value;if(null==i){if(i=r.children,r=r.defaultValue,null!=i){if(null!=r)throw Error(x(92));if(ef(i)){if(1<i.length)throw Error(x(93));i=i[0]}r=i}null==r&&(r=""),i=r}t._wrapperState={initialValue:en(i)}}function ev(t,r){var i=en(r.value),s=en(r.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==r.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=s&&(t.defaultValue=""+s)}function ey(t){var r=t.textContent;r===t._wrapperState.initialValue&&""!==r&&null!==r&&(t.value=r)}function ex(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e_(t,r){return null==t||"http://www.w3.org/1999/xhtml"===t?ex(r):"http://www.w3.org/2000/svg"===t&&"foreignObject"===r?"http://www.w3.org/1999/xhtml":t}var eb,ew,eS=(eb=function(t,r){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=r;else{for((ew=ew||document.createElement("div")).innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ew.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,i,s){MSApp.execUnsafeLocalFunction(function(){return eb(t,r,i,s)})}:eb);function eA(t,r){if(r){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType){i.nodeValue=r;return}}t.textContent=r}var eM={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eC=["Webkit","ms","Moz","O"];function eT(t,r,i){return null==r||"boolean"==typeof r||""===r?"":i||"number"!=typeof r||0===r||eM.hasOwnProperty(t)&&eM[t]?(""+r).trim():r+"px"}function eE(t,r){for(var i in t=t.style,r)if(r.hasOwnProperty(i)){var s=0===i.indexOf("--"),u=eT(i,r[i],s);"float"===i&&(i="cssFloat"),s?t.setProperty(i,u):t[i]=u}}Object.keys(eM).forEach(function(t){eC.forEach(function(r){eM[r=r+t.charAt(0).toUpperCase()+t.substring(1)]=eM[t]})});var eI=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eD(t,r){if(r){if(eI[t]&&(null!=r.children||null!=r.dangerouslySetInnerHTML))throw Error(x(137,t));if(null!=r.dangerouslySetInnerHTML){if(null!=r.children)throw Error(x(60));if("object"!=typeof r.dangerouslySetInnerHTML||!("__html"in r.dangerouslySetInnerHTML))throw Error(x(61))}if(null!=r.style&&"object"!=typeof r.style)throw Error(x(62))}}function eR(t,r){if(-1===t.indexOf("-"))return"string"==typeof r.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eP=null;function eL(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var eB=null,ek=null,eO=null;function eN(t){if(t=rW(t)){if("function"!=typeof eB)throw Error(x(280));var r=t.stateNode;r&&(r=rY(r),eB(t.stateNode,t.type,r))}}function eF(t){ek?eO?eO.push(t):eO=[t]:ek=t}function eU(){if(ek){var t=ek,r=eO;if(eO=ek=null,eN(t),r)for(t=0;t<r.length;t++)eN(r[t])}}function ez(t,r){return t(r)}function eG(){}var eH=!1;function eV(t,r,i){if(eH)return t(r,i);eH=!0;try{return ez(t,r,i)}finally{eH=!1,(null!==ek||null!==eO)&&(eG(),eU())}}function ej(t,r){var i=t.stateNode;if(null===i)return null;var s=rY(i);if(null===s)return null;switch(i=s[r],r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!s;break;default:t=!1}if(t)return null;if(i&&"function"!=typeof i)throw Error(x(231,r,typeof i));return i}var eW=!1;if(A)try{var eX={};Object.defineProperty(eX,"passive",{get:function(){eW=!0}}),window.addEventListener("test",eX,eX),window.removeEventListener("test",eX,eX)}catch(t){eW=!1}function eY(t,r,i,s,u,c,h,f,p){var v=Array.prototype.slice.call(arguments,3);try{r.apply(i,v)}catch(t){this.onError(t)}}var eZ=!1,eK=null,eJ=!1,eQ=null,eq={onError:function(t){eZ=!0,eK=t}};function e$(t,r,i,s,u,c,h,f,p){eZ=!1,eK=null,eY.apply(eq,arguments)}function e0(t){var r=t,i=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do 0!=(4098&(r=t).flags)&&(i=r.return),t=r.return;while(t)}return 3===r.tag?i:null}function e1(t){if(13===t.tag){var r=t.memoizedState;if(null===r&&null!==(t=t.alternate)&&(r=t.memoizedState),null!==r)return r.dehydrated}return null}function e2(t){if(e0(t)!==t)throw Error(x(188))}function e3(t){return null!==(t=function(t){var r=t.alternate;if(!r){if(null===(r=e0(t)))throw Error(x(188));return r!==t?null:t}for(var i=t,s=r;;){var u=i.return;if(null===u)break;var c=u.alternate;if(null===c){if(null!==(s=u.return)){i=s;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===i)return e2(u),t;if(c===s)return e2(u),r;c=c.sibling}throw Error(x(188))}if(i.return!==s.return)i=u,s=c;else{for(var h=!1,f=u.child;f;){if(f===i){h=!0,i=u,s=c;break}if(f===s){h=!0,s=u,i=c;break}f=f.sibling}if(!h){for(f=c.child;f;){if(f===i){h=!0,i=c,s=u;break}if(f===s){h=!0,s=c,i=u;break}f=f.sibling}if(!h)throw Error(x(189))}}if(i.alternate!==s)throw Error(x(190))}if(3!==i.tag)throw Error(x(188));return i.stateNode.current===i?t:r}(t))?function t(r){if(5===r.tag||6===r.tag)return r;for(r=r.child;null!==r;){var i=t(r);if(null!==i)return i;r=r.sibling}return null}(t):null}var e5=y.unstable_scheduleCallback,e4=y.unstable_cancelCallback,e9=y.unstable_shouldYield,e8=y.unstable_requestPaint,e6=y.unstable_now,e7=y.unstable_getCurrentPriorityLevel,te=y.unstable_ImmediatePriority,tt=y.unstable_UserBlockingPriority,tn=y.unstable_NormalPriority,tr=y.unstable_LowPriority,ti=y.unstable_IdlePriority,ta=null,to=null,ts=Math.clz32?Math.clz32:function(t){return 0==(t>>>=0)?32:31-(tl(t)/tu|0)|0},tl=Math.log,tu=Math.LN2,tc=64,th=4194304;function td(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return 0x7c00000&t;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return t}}function tf(t,r){var i=t.pendingLanes;if(0===i)return 0;var s=0,u=t.suspendedLanes,c=t.pingedLanes,h=0xfffffff&i;if(0!==h){var f=h&~u;0!==f?s=td(f):0!=(c&=h)&&(s=td(c))}else 0!=(h=i&~u)?s=td(h):0!==c&&(s=td(c));if(0===s)return 0;if(0!==r&&r!==s&&0==(r&u)&&((u=s&-s)>=(c=r&-r)||16===u&&0!=(4194240&c)))return r;if(0!=(4&s)&&(s|=16&i),0!==(r=t.entangledLanes))for(t=t.entanglements,r&=s;0<r;)u=1<<(i=31-ts(r)),s|=t[i],r&=~u;return s}function tp(t){return 0!=(t=-0x40000001&t.pendingLanes)?t:0x40000000&t?0x40000000:0}function tg(){var t=tc;return 0==(4194240&(tc<<=1))&&(tc=64),t}function tm(t){for(var r=[],i=0;31>i;i++)r.push(t);return r}function tv(t,r,i){t.pendingLanes|=r,0x20000000!==r&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,t[r=31-ts(r)]=i}function ty(t,r){var i=t.entangledLanes|=r;for(t=t.entanglements;i;){var s=31-ts(i),u=1<<s;u&r|t[s]&r&&(t[s]|=r),i&=~u}}var tx=0;function t_(t){return 1<(t&=-t)?4<t?0!=(0xfffffff&t)?16:0x20000000:4:1}var tb,tw,tS,tA,tM,tC=!1,tT=[],tE=null,tI=null,tD=null,tR=new Map,tP=new Map,tL=[],tB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tk(t,r){switch(t){case"focusin":case"focusout":tE=null;break;case"dragenter":case"dragleave":tI=null;break;case"mouseover":case"mouseout":tD=null;break;case"pointerover":case"pointerout":tR.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":tP.delete(r.pointerId)}}function tO(t,r,i,s,u,c){return null===t||t.nativeEvent!==c?(t={blockedOn:r,domEventName:i,eventSystemFlags:s,nativeEvent:c,targetContainers:[u]},null!==r&&null!==(r=rW(r))&&tw(r),t):(t.eventSystemFlags|=s,r=t.targetContainers,null!==u&&-1===r.indexOf(u)&&r.push(u),t)}function tN(t){var r=rj(t.target);if(null!==r){var i=e0(r);if(null!==i){if(13===(r=i.tag)){if(null!==(r=e1(i))){t.blockedOn=r,tM(t.priority,function(){tS(i)});return}}else if(3===r&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=3===i.tag?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tF(t){if(null!==t.blockedOn)return!1;for(var r=t.targetContainers;0<r.length;){var i=tK(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(null!==i)return null!==(r=rW(i))&&tw(r),t.blockedOn=i,!1;var s=new(i=t.nativeEvent).constructor(i.type,i);eP=s,i.target.dispatchEvent(s),eP=null;r.shift()}return!0}function tU(t,r,i){tF(t)&&i.delete(r)}function tz(){tC=!1,null!==tE&&tF(tE)&&(tE=null),null!==tI&&tF(tI)&&(tI=null),null!==tD&&tF(tD)&&(tD=null),tR.forEach(tU),tP.forEach(tU)}function tG(t,r){t.blockedOn===r&&(t.blockedOn=null,tC||(tC=!0,y.unstable_scheduleCallback(y.unstable_NormalPriority,tz)))}function tH(t){function r(r){return tG(r,t)}if(0<tT.length){tG(tT[0],t);for(var i=1;i<tT.length;i++){var s=tT[i];s.blockedOn===t&&(s.blockedOn=null)}}for(null!==tE&&tG(tE,t),null!==tI&&tG(tI,t),null!==tD&&tG(tD,t),tR.forEach(r),tP.forEach(r),i=0;i<tL.length;i++)(s=tL[i]).blockedOn===t&&(s.blockedOn=null);for(;0<tL.length&&null===(i=tL[0]).blockedOn;)tN(i),null===i.blockedOn&&tL.shift()}var tV=k.ReactCurrentBatchConfig,tj=!0;function tW(t,r,i,s){var u=tx,c=tV.transition;tV.transition=null;try{tx=1,tY(t,r,i,s)}finally{tx=u,tV.transition=c}}function tX(t,r,i,s){var u=tx,c=tV.transition;tV.transition=null;try{tx=4,tY(t,r,i,s)}finally{tx=u,tV.transition=c}}function tY(t,r,i,s){if(tj){var u=tK(t,r,i,s);if(null===u)rm(t,r,s,tZ,i),tk(t,s);else if(function(t,r,i,s,u){switch(r){case"focusin":return tE=tO(tE,t,r,i,s,u),!0;case"dragenter":return tI=tO(tI,t,r,i,s,u),!0;case"mouseover":return tD=tO(tD,t,r,i,s,u),!0;case"pointerover":var c=u.pointerId;return tR.set(c,tO(tR.get(c)||null,t,r,i,s,u)),!0;case"gotpointercapture":return c=u.pointerId,tP.set(c,tO(tP.get(c)||null,t,r,i,s,u)),!0}return!1}(u,t,r,i,s))s.stopPropagation();else if(tk(t,s),4&r&&-1<tB.indexOf(t)){for(;null!==u;){var c=rW(u);if(null!==c&&tb(c),null===(c=tK(t,r,i,s))&&rm(t,r,s,tZ,i),c===u)break;u=c}null!==u&&s.stopPropagation()}else rm(t,r,s,null,i)}}var tZ=null;function tK(t,r,i,s){if(tZ=null,null!==(t=rj(t=eL(s)))){if(null===(r=e0(t)))t=null;else if(13===(i=r.tag)){if(null!==(t=e1(r)))return t;t=null}else if(3===i){if(r.stateNode.current.memoizedState.isDehydrated)return 3===r.tag?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}return tZ=t,null}function tJ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e7()){case te:return 1;case tt:return 4;case tn:case tr:return 16;case ti:return 0x20000000;default:return 16}default:return 16}}var tQ=null,tq=null,t$=null;function t0(){if(t$)return t$;var t,r,i=tq,s=i.length,u="value"in tQ?tQ.value:tQ.textContent,c=u.length;for(t=0;t<s&&i[t]===u[t];t++);var h=s-t;for(r=1;r<=h&&i[s-r]===u[c-r];r++);return t$=u.slice(t,1<r?1-r:void 0)}function t1(t){var r=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===r&&(t=13):t=r,10===t&&(t=13),32<=t||13===t?t:0}function t2(){return!0}function t3(){return!1}function t5(t){function r(r,i,s,u,c){for(var h in this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=u,this.target=c,this.currentTarget=null,t)t.hasOwnProperty(h)&&(r=t[h],this[h]=r?r(u):u[h]);return this.isDefaultPrevented=(null!=u.defaultPrevented?u.defaultPrevented:!1===u.returnValue)?t2:t3,this.isPropagationStopped=t3,this}return q(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=t2)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=t2)},persist:function(){},isPersistent:t2}),r}var t4,t9,t8,t6={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t7=t5(t6),ne=q({},t6,{view:0,detail:0}),nt=t5(ne),nn=q({},ne,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==t8&&(t8&&"mousemove"===t.type?(t4=t.screenX-t8.screenX,t9=t.screenY-t8.screenY):t9=t4=0,t8=t),t4)},movementY:function(t){return"movementY"in t?t.movementY:t9}}),nr=t5(nn),ni=t5(q({},nn,{dataTransfer:0})),na=t5(q({},ne,{relatedTarget:0})),no=t5(q({},t6,{animationName:0,elapsedTime:0,pseudoElement:0})),ns=t5(q({},t6,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),nl=t5(q({},t6,{data:0})),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):!!(t=nh[t])&&!!r[t]}function nf(){return nd}var np=t5(q({},ne,{key:function(t){if(t.key){var r=nu[t.key]||t.key;if("Unidentified"!==r)return r}return"keypress"===t.type?13===(t=t1(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?nc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(t){return"keypress"===t.type?t1(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?t1(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),ng=t5(q({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),nm=t5(q({},ne,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf})),nv=t5(q({},t6,{propertyName:0,elapsedTime:0,pseudoElement:0})),ny=t5(q({},nn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),nx=[9,13,27,32],n_=A&&"CompositionEvent"in window,nb=null;A&&"documentMode"in document&&(nb=document.documentMode);var nw=A&&"TextEvent"in window&&!nb,nS=A&&(!n_||nb&&8<nb&&11>=nb),nA=!1;function nM(t,r){switch(t){case"keyup":return -1!==nx.indexOf(r.keyCode);case"keydown":return 229!==r.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nC(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var nT=!1,nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nI(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===r?!!nE[t.type]:"textarea"===r}function nD(t,r,i,s){eF(s),0<(r=ry(r,"onChange")).length&&(i=new t7("onChange","change",null,i,s),t.push({event:i,listeners:r}))}var nR=null,nP=null;function nL(t){rc(t,0)}function nB(t){if(ea(rX(t)))return t}function nk(t,r){if("change"===t)return r}var nO=!1;if(A){if(A){var nN="oninput"in document;if(!nN){var nF=document.createElement("div");nF.setAttribute("oninput","return;"),nN="function"==typeof nF.oninput}s=nN}else s=!1;nO=s&&(!document.documentMode||9<document.documentMode)}function nU(){nR&&(nR.detachEvent("onpropertychange",nz),nP=nR=null)}function nz(t){if("value"===t.propertyName&&nB(nP)){var r=[];nD(r,nP,t,eL(t)),eV(nL,r)}}function nG(t,r,i){"focusin"===t?(nU(),nR=r,nP=i,nR.attachEvent("onpropertychange",nz)):"focusout"===t&&nU()}function nH(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return nB(nP)}function nV(t,r){if("click"===t)return nB(r)}function nj(t,r){if("input"===t||"change"===t)return nB(r)}var nW="function"==typeof Object.is?Object.is:function(t,r){return t===r&&(0!==t||1/t==1/r)||t!=t&&r!=r};function nX(t,r){if(nW(t,r))return!0;if("object"!=typeof t||null===t||"object"!=typeof r||null===r)return!1;var i=Object.keys(t),s=Object.keys(r);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var u=i[s];if(!M.call(r,u)||!nW(t[u],r[u]))return!1}return!0}function nY(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nZ(t,r){var i,s=nY(t);for(t=0;s;){if(3===s.nodeType){if(i=t+s.textContent.length,t<=r&&i>=r)return{node:s,offset:r-t};t=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=nY(s)}}function nK(){for(var t=window,r=eo();r instanceof t.HTMLIFrameElement;){try{var i="string"==typeof r.contentWindow.location.href}catch(t){i=!1}if(i)t=r.contentWindow;else break;r=eo(t.document)}return r}function nJ(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&("input"===r&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===r||"true"===t.contentEditable)}var nQ=A&&"documentMode"in document&&11>=document.documentMode,nq=null,n$=null,n0=null,n1=!1;function n2(t,r,i){var s=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;n1||null==nq||nq!==eo(s)||(s="selectionStart"in(s=nq)&&nJ(s)?{start:s.selectionStart,end:s.selectionEnd}:{anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},n0&&nX(n0,s)||(n0=s,0<(s=ry(n$,"onSelect")).length&&(r=new t7("onSelect","select",null,r,i),t.push({event:r,listeners:s}),r.target=nq)))}function n3(t,r){var i={};return i[t.toLowerCase()]=r.toLowerCase(),i["Webkit"+t]="webkit"+r,i["Moz"+t]="moz"+r,i}var n5={animationend:n3("Animation","AnimationEnd"),animationiteration:n3("Animation","AnimationIteration"),animationstart:n3("Animation","AnimationStart"),transitionend:n3("Transition","TransitionEnd")},n4={},n9={};function n8(t){if(n4[t])return n4[t];if(!n5[t])return t;var r,i=n5[t];for(r in i)if(i.hasOwnProperty(r)&&r in n9)return n4[t]=i[r];return t}A&&(n9=document.createElement("div").style,"AnimationEvent"in window||(delete n5.animationend.animation,delete n5.animationiteration.animation,delete n5.animationstart.animation),"TransitionEvent"in window||delete n5.transitionend.transition);var n6=n8("animationend"),n7=n8("animationiteration"),re=n8("animationstart"),rt=n8("transitionend"),rn=new Map,rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(t,r){rn.set(t,r),w(r,[t])}for(var ra=0;ra<rr.length;ra++){var ro=rr[ra];ri(ro.toLowerCase(),"on"+(ro[0].toUpperCase()+ro.slice(1)))}ri(n6,"onAnimationEnd"),ri(n7,"onAnimationIteration"),ri(re,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(rt,"onTransitionEnd"),S("onMouseEnter",["mouseout","mouseover"]),S("onMouseLeave",["mouseout","mouseover"]),S("onPointerEnter",["pointerout","pointerover"]),S("onPointerLeave",["pointerout","pointerover"]),w("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),w("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),w("onBeforeInput",["compositionend","keypress","textInput","paste"]),w("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),w("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),w("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rl=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function ru(t,r,i){var s=t.type||"unknown-event";t.currentTarget=i,!function(t,r,i,s,u,c,h,f,p){if(e$.apply(this,arguments),eZ){if(eZ){var v=eK;eZ=!1,eK=null}else throw Error(x(198));eJ||(eJ=!0,eQ=v)}}(s,r,void 0,t),t.currentTarget=null}function rc(t,r){r=0!=(4&r);for(var i=0;i<t.length;i++){var s=t[i],u=s.event;s=s.listeners;e:{var c=void 0;if(r)for(var h=s.length-1;0<=h;h--){var f=s[h],p=f.instance,v=f.currentTarget;if(f=f.listener,p!==c&&u.isPropagationStopped())break e;ru(u,f,v),c=p}else for(h=0;h<s.length;h++){if(p=(f=s[h]).instance,v=f.currentTarget,f=f.listener,p!==c&&u.isPropagationStopped())break e;ru(u,f,v),c=p}}}if(eJ)throw t=eQ,eJ=!1,eQ=null,t}function rh(t,r){var i=r[rG];void 0===i&&(i=r[rG]=new Set);var s=t+"__bubble";i.has(s)||(rg(r,t,2,!1),i.add(s))}function rd(t,r,i){var s=0;r&&(s|=4),rg(i,t,s,r)}var rf="_reactListening"+Math.random().toString(36).slice(2);function rp(t){if(!t[rf]){t[rf]=!0,_.forEach(function(r){"selectionchange"!==r&&(rl.has(r)||rd(r,!1,t),rd(r,!0,t))});var r=9===t.nodeType?t:t.ownerDocument;null===r||r[rf]||(r[rf]=!0,rd("selectionchange",!1,r))}}function rg(t,r,i,s){switch(tJ(r)){case 1:var u=tW;break;case 4:u=tX;break;default:u=tY}i=u.bind(null,r,i,t),u=void 0,eW&&("touchstart"===r||"touchmove"===r||"wheel"===r)&&(u=!0),s?void 0!==u?t.addEventListener(r,i,{capture:!0,passive:u}):t.addEventListener(r,i,!0):void 0!==u?t.addEventListener(r,i,{passive:u}):t.addEventListener(r,i,!1)}function rm(t,r,i,s,u){var c=s;if(0==(1&r)&&0==(2&r)&&null!==s)e:for(;;){if(null===s)return;var h=s.tag;if(3===h||4===h){var f=s.stateNode.containerInfo;if(f===u||8===f.nodeType&&f.parentNode===u)break;if(4===h)for(h=s.return;null!==h;){var p=h.tag;if((3===p||4===p)&&((p=h.stateNode.containerInfo)===u||8===p.nodeType&&p.parentNode===u))return;h=h.return}for(;null!==f;){if(null===(h=rj(f)))return;if(5===(p=h.tag)||6===p){s=c=h;continue e}f=f.parentNode}}s=s.return}eV(function(){var s=c,u=eL(i),h=[];e:{var f=rn.get(t);if(void 0!==f){var p=t7,v=t;switch(t){case"keypress":if(0===t1(i))break e;case"keydown":case"keyup":p=np;break;case"focusin":v="focus",p=na;break;case"focusout":v="blur",p=na;break;case"beforeblur":case"afterblur":p=na;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ni;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nm;break;case n6:case n7:case re:p=no;break;case rt:p=nv;break;case"scroll":p=nt;break;case"wheel":p=ny;break;case"copy":case"cut":case"paste":p=ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ng}var y=0!=(4&r),x=!y&&"scroll"===t,_=y?null!==f?f+"Capture":null:f;y=[];for(var b,w=s;null!==w;){var S=(b=w).stateNode;if(5===b.tag&&null!==S&&(b=S,null!==_&&null!=(S=ej(w,_))&&y.push(rv(w,S,b))),x)break;w=w.return}0<y.length&&(f=new p(f,v,null,i,u),h.push({event:f,listeners:y}))}}if(0==(7&r)){e:if(f="mouseover"===t||"pointerover"===t,p="mouseout"===t||"pointerout"===t,!(f&&i!==eP&&(v=i.relatedTarget||i.fromElement)&&(rj(v)||v[rz]))){if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=i.relatedTarget||i.toElement,p=s,null!==(v=v?rj(v):null)&&(x=e0(v),v!==x||5!==v.tag&&6!==v.tag)&&(v=null)):(p=null,v=s),p!==v)){if(y=nr,S="onMouseLeave",_="onMouseEnter",w="mouse",("pointerout"===t||"pointerover"===t)&&(y=ng,S="onPointerLeave",_="onPointerEnter",w="pointer"),x=null==p?f:rX(p),b=null==v?f:rX(v),(f=new y(S,w+"leave",p,i,u)).target=x,f.relatedTarget=b,S=null,rj(u)===s&&((y=new y(_,w+"enter",v,i,u)).target=b,y.relatedTarget=x,S=y),x=S,p&&v)t:{for(y=p,_=v,w=0,b=y;b;b=rx(b))w++;for(b=0,S=_;S;S=rx(S))b++;for(;0<w-b;)y=rx(y),w--;for(;0<b-w;)_=rx(_),b--;for(;w--;){if(y===_||null!==_&&y===_.alternate)break t;y=rx(y),_=rx(_)}y=null}else y=null;null!==p&&r_(h,f,p,y,!1),null!==v&&null!==x&&r_(h,x,v,y,!0)}}e:{if("select"===(p=(f=s?rX(s):window).nodeName&&f.nodeName.toLowerCase())||"input"===p&&"file"===f.type)var A,M=nk;else if(nI(f)){if(nO)M=nj;else{M=nH;var C=nG}}else(p=f.nodeName)&&"input"===p.toLowerCase()&&("checkbox"===f.type||"radio"===f.type)&&(M=nV);if(M&&(M=M(t,s))){nD(h,M,i,u);break e}C&&C(t,f,s),"focusout"===t&&(C=f._wrapperState)&&C.controlled&&"number"===f.type&&ed(f,"number",f.value)}switch(C=s?rX(s):window,t){case"focusin":(nI(C)||"true"===C.contentEditable)&&(nq=C,n$=s,n0=null);break;case"focusout":n0=n$=nq=null;break;case"mousedown":n1=!0;break;case"contextmenu":case"mouseup":case"dragend":n1=!1,n2(h,i,u);break;case"selectionchange":if(nQ)break;case"keydown":case"keyup":n2(h,i,u)}if(n_)t:{switch(t){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else nT?nM(t,i)&&(T="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(T="onCompositionStart");T&&(nS&&"ko"!==i.locale&&(nT||"onCompositionStart"!==T?"onCompositionEnd"===T&&nT&&(A=t0()):(tq="value"in(tQ=u)?tQ.value:tQ.textContent,nT=!0)),0<(C=ry(s,T)).length&&(T=new nl(T,t,null,i,u),h.push({event:T,listeners:C}),A?T.data=A:null!==(A=nC(i))&&(T.data=A))),(A=nw?function(t,r){switch(t){case"compositionend":return nC(r);case"keypress":if(32!==r.which)return null;return nA=!0," ";case"textInput":return" "===(t=r.data)&&nA?null:t;default:return null}}(t,i):function(t,r){if(nT)return"compositionend"===t||!n_&&nM(t,r)?(t=t0(),t$=tq=tQ=null,nT=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return nS&&"ko"!==r.locale?null:r.data}}(t,i))&&0<(s=ry(s,"onBeforeInput")).length&&(u=new nl("onBeforeInput","beforeinput",null,i,u),h.push({event:u,listeners:s}),u.data=A)}rc(h,r)})}function rv(t,r,i){return{instance:t,listener:r,currentTarget:i}}function ry(t,r){for(var i=r+"Capture",s=[];null!==t;){var u=t,c=u.stateNode;5===u.tag&&null!==c&&(u=c,null!=(c=ej(t,i))&&s.unshift(rv(t,c,u)),null!=(c=ej(t,r))&&s.push(rv(t,c,u))),t=t.return}return s}function rx(t){if(null===t)return null;do t=t.return;while(t&&5!==t.tag);return t||null}function r_(t,r,i,s,u){for(var c=r._reactName,h=[];null!==i&&i!==s;){var f=i,p=f.alternate,v=f.stateNode;if(null!==p&&p===s)break;5===f.tag&&null!==v&&(f=v,u?null!=(p=ej(i,c))&&h.unshift(rv(i,p,f)):u||null!=(p=ej(i,c))&&h.push(rv(i,p,f))),i=i.return}0!==h.length&&t.push({event:r,listeners:h})}var rb=/\r\n?/g,rw=/\u0000|\uFFFD/g;function rS(t){return("string"==typeof t?t:""+t).replace(rb,"\n").replace(rw,"")}function rA(t,r,i){if(r=rS(r),rS(t)!==r&&i)throw Error(x(425))}function rM(){}var rC=null,rT=null;function rE(t,r){return"textarea"===t||"noscript"===t||"string"==typeof r.children||"number"==typeof r.children||"object"==typeof r.dangerouslySetInnerHTML&&null!==r.dangerouslySetInnerHTML&&null!=r.dangerouslySetInnerHTML.__html}var rI="function"==typeof setTimeout?setTimeout:void 0,rD="function"==typeof clearTimeout?clearTimeout:void 0,rR="function"==typeof Promise?Promise:void 0,rP="function"==typeof queueMicrotask?queueMicrotask:void 0!==rR?function(t){return rR.resolve(null).then(t).catch(rL)}:rI;function rL(t){setTimeout(function(){throw t})}function rB(t,r){var i=r,s=0;do{var u=i.nextSibling;if(t.removeChild(i),u&&8===u.nodeType){if("/$"===(i=u.data)){if(0===s){t.removeChild(u),tH(r);return}s--}else"$"!==i&&"$?"!==i&&"$!"!==i||s++}i=u}while(i);tH(r)}function rk(t){for(;null!=t;t=t.nextSibling){var r=t.nodeType;if(1===r||3===r)break;if(8===r){if("$"===(r=t.data)||"$!"===r||"$?"===r)break;if("/$"===r)return null}}return t}function rO(t){t=t.previousSibling;for(var r=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===r)return t;r--}else"/$"===i&&r++}t=t.previousSibling}return null}var rN=Math.random().toString(36).slice(2),rF="__reactFiber$"+rN,rU="__reactProps$"+rN,rz="__reactContainer$"+rN,rG="__reactEvents$"+rN,rH="__reactListeners$"+rN,rV="__reactHandles$"+rN;function rj(t){var r=t[rF];if(r)return r;for(var i=t.parentNode;i;){if(r=i[rz]||i[rF]){if(i=r.alternate,null!==r.child||null!==i&&null!==i.child)for(t=rO(t);null!==t;){if(i=t[rF])return i;t=rO(t)}return r}i=(t=i).parentNode}return null}function rW(t){return(t=t[rF]||t[rz])&&(5===t.tag||6===t.tag||13===t.tag||3===t.tag)?t:null}function rX(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(x(33))}function rY(t){return t[rU]||null}var rZ=[],rK=-1;function rJ(t){return{current:t}}function rQ(t){0>rK||(t.current=rZ[rK],rZ[rK]=null,rK--)}function rq(t,r){rZ[++rK]=t.current,t.current=r}var r$={},r0=rJ(r$),r1=rJ(!1),r2=r$;function r3(t,r){var i=t.type.contextTypes;if(!i)return r$;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var u,c={};for(u in i)c[u]=r[u];return s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=c),c}function r5(t){return null!=(t=t.childContextTypes)}function r4(){rQ(r1),rQ(r0)}function r9(t,r,i){if(r0.current!==r$)throw Error(x(168));rq(r0,r),rq(r1,i)}function r8(t,r,i){var s=t.stateNode;if(r=r.childContextTypes,"function"!=typeof s.getChildContext)return i;for(var u in s=s.getChildContext())if(!(u in r))throw Error(x(108,function(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=r.render).displayName||t.name||"",r.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function t(r){if(null==r)return null;if("function"==typeof r)return r.displayName||r.name||null;if("string"==typeof r)return r;switch(r){case F:return"Fragment";case N:return"Portal";case z:return"Profiler";case U:return"StrictMode";case j:return"Suspense";case W:return"SuspenseList"}if("object"==typeof r)switch(r.$$typeof){case H:return(r.displayName||"Context")+".Consumer";case G:return(r._context.displayName||"Context")+".Provider";case V:var i=r.render;return(r=r.displayName)||(r=""!==(r=i.displayName||i.name||"")?"ForwardRef("+r+")":"ForwardRef"),r;case X:return null!==(i=r.displayName||null)?i:t(r.type)||"Memo";case Y:i=r._payload,r=r._init;try{return t(r(i))}catch(t){}}return null}(r);case 8:return r===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof r)return r.displayName||r.name||null;if("string"==typeof r)return r}return null}(t)||"Unknown",u));return q({},i,s)}function r6(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||r$,r2=r0.current,rq(r0,t),rq(r1,r1.current),!0}function r7(t,r,i){var s=t.stateNode;if(!s)throw Error(x(169));i?(t=r8(t,r,r2),s.__reactInternalMemoizedMergedChildContext=t,rQ(r1),rQ(r0),rq(r0,t)):rQ(r1),rq(r1,i)}var ie=null,it=!1,ir=!1;function ii(t){null===ie?ie=[t]:ie.push(t)}function ia(){if(!ir&&null!==ie){ir=!0;var t=0,r=tx;try{var i=ie;for(tx=1;t<i.length;t++){var s=i[t];do s=s(!0);while(null!==s)}ie=null,it=!1}catch(r){throw null!==ie&&(ie=ie.slice(t+1)),e5(te,ia),r}finally{tx=r,ir=!1}}return null}var io=[],is=0,il=null,iu=0,ic=[],ih=0,id=null,ip=1,ig="";function im(t,r){io[is++]=iu,io[is++]=il,il=t,iu=r}function iv(t,r,i){ic[ih++]=ip,ic[ih++]=ig,ic[ih++]=id,id=t;var s=ip;t=ig;var u=32-ts(s)-1;s&=~(1<<u),i+=1;var c=32-ts(r)+u;if(30<c){var h=u-u%5;c=(s&(1<<h)-1).toString(32),s>>=h,u-=h,ip=1<<32-ts(r)+u|i<<u|s,ig=c+t}else ip=1<<c|i<<u|s,ig=t}function iy(t){null!==t.return&&(im(t,1),iv(t,1,0))}function ix(t){for(;t===il;)il=io[--is],io[is]=null,iu=io[--is],io[is]=null;for(;t===id;)id=ic[--ih],ic[ih]=null,ig=ic[--ih],ic[ih]=null,ip=ic[--ih],ic[ih]=null}var i_=null,ib=null,iw=!1,iS=null;function iA(t,r){var i=s5(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=t,null===(r=t.deletions)?(t.deletions=[i],t.flags|=16):r.push(i)}function iM(t,r){switch(t.tag){case 5:var i=t.type;return null!==(r=1!==r.nodeType||i.toLowerCase()!==r.nodeName.toLowerCase()?null:r)&&(t.stateNode=r,i_=t,ib=rk(r.firstChild),!0);case 6:return null!==(r=""===t.pendingProps||3!==r.nodeType?null:r)&&(t.stateNode=r,i_=t,ib=null,!0);case 13:return null!==(r=8!==r.nodeType?null:r)&&(i=null!==id?{id:ip,overflow:ig}:null,t.memoizedState={dehydrated:r,treeContext:i,retryLane:0x40000000},(i=s5(18,null,null,0)).stateNode=r,i.return=t,t.child=i,i_=t,ib=null,!0);default:return!1}}function iC(t){return 0!=(1&t.mode)&&0==(128&t.flags)}function iT(t){if(iw){var r=ib;if(r){var i=r;if(!iM(t,r)){if(iC(t))throw Error(x(418));r=rk(i.nextSibling);var s=i_;r&&iM(t,r)?iA(s,i):(t.flags=-4097&t.flags|2,iw=!1,i_=t)}}else{if(iC(t))throw Error(x(418));t.flags=-4097&t.flags|2,iw=!1,i_=t}}}function iE(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;i_=t}function iI(t){if(t!==i_)return!1;if(!iw)return iE(t),iw=!0,!1;if((r=3!==t.tag)&&!(r=5!==t.tag)&&(r="head"!==(r=t.type)&&"body"!==r&&!rE(t.type,t.memoizedProps)),r&&(r=ib)){if(iC(t))throw iD(),Error(x(418));for(;r;)iA(t,r),r=rk(r.nextSibling)}if(iE(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(x(317));e:{for(r=0,t=t.nextSibling;t;){if(8===t.nodeType){var r,i=t.data;if("/$"===i){if(0===r){ib=rk(t.nextSibling);break e}r--}else"$"!==i&&"$!"!==i&&"$?"!==i||r++}t=t.nextSibling}ib=null}}else ib=i_?rk(t.stateNode.nextSibling):null;return!0}function iD(){for(var t=ib;t;)t=rk(t.nextSibling)}function iR(){ib=i_=null,iw=!1}function iP(t){null===iS?iS=[t]:iS.push(t)}var iL=k.ReactCurrentBatchConfig;function iB(t,r,i){if(null!==(t=i.ref)&&"function"!=typeof t&&"object"!=typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(x(309));var s=i.stateNode}if(!s)throw Error(x(147,t));var u=s,c=""+t;return null!==r&&null!==r.ref&&"function"==typeof r.ref&&r.ref._stringRef===c?r.ref:((r=function(t){var r=u.refs;null===t?delete r[c]:r[c]=t})._stringRef=c,r)}if("string"!=typeof t)throw Error(x(284));if(!i._owner)throw Error(x(290,t))}return t}function ik(t,r){throw Error(x(31,"[object Object]"===(t=Object.prototype.toString.call(r))?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function iO(t){return(0,t._init)(t._payload)}function iN(t){function r(r,i){if(t){var s=r.deletions;null===s?(r.deletions=[i],r.flags|=16):s.push(i)}}function i(i,s){if(!t)return null;for(;null!==s;)r(i,s),s=s.sibling;return null}function s(t,r){for(t=new Map;null!==r;)null!==r.key?t.set(r.key,r):t.set(r.index,r),r=r.sibling;return t}function u(t,r){return(t=s9(t,r)).index=0,t.sibling=null,t}function c(r,i,s){return(r.index=s,t)?null!==(s=r.alternate)?(s=s.index)<i?(r.flags|=2,i):s:(r.flags|=2,i):(r.flags|=1048576,i)}function h(r){return t&&null===r.alternate&&(r.flags|=2),r}function f(t,r,i,s){return null===r||6!==r.tag?((r=le(i,t.mode,s)).return=t,r):((r=u(r,i)).return=t,r)}function p(t,r,i,s){var c=i.type;return c===F?y(t,r,i.props.children,s,i.key):null!==r&&(r.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===Y&&iO(c)===r.type)?((s=u(r,i.props)).ref=iB(t,r,i),s.return=t,s):((s=s8(i.type,i.key,i.props,null,t.mode,s)).ref=iB(t,r,i),s.return=t,s)}function v(t,r,i,s){return null===r||4!==r.tag||r.stateNode.containerInfo!==i.containerInfo||r.stateNode.implementation!==i.implementation?((r=lt(i,t.mode,s)).return=t,r):((r=u(r,i.children||[])).return=t,r)}function y(t,r,i,s,c){return null===r||7!==r.tag?((r=s6(i,t.mode,s,c)).return=t,r):((r=u(r,i)).return=t,r)}function _(t,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return(r=le(""+r,t.mode,i)).return=t,r;if("object"==typeof r&&null!==r){switch(r.$$typeof){case O:return(i=s8(r.type,r.key,r.props,null,t.mode,i)).ref=iB(t,null,r),i.return=t,i;case N:return(r=lt(r,t.mode,i)).return=t,r;case Y:return _(t,(0,r._init)(r._payload),i)}if(ef(r)||J(r))return(r=s6(r,t.mode,i,null)).return=t,r;ik(t,r)}return null}function b(t,r,i,s){var u=null!==r?r.key:null;if("string"==typeof i&&""!==i||"number"==typeof i)return null!==u?null:f(t,r,""+i,s);if("object"==typeof i&&null!==i){switch(i.$$typeof){case O:return i.key===u?p(t,r,i,s):null;case N:return i.key===u?v(t,r,i,s):null;case Y:return b(t,r,(u=i._init)(i._payload),s)}if(ef(i)||J(i))return null!==u?null:y(t,r,i,s,null);ik(t,i)}return null}function w(t,r,i,s,u){if("string"==typeof s&&""!==s||"number"==typeof s)return f(r,t=t.get(i)||null,""+s,u);if("object"==typeof s&&null!==s){switch(s.$$typeof){case O:return p(r,t=t.get(null===s.key?i:s.key)||null,s,u);case N:return v(r,t=t.get(null===s.key?i:s.key)||null,s,u);case Y:return w(t,r,i,(0,s._init)(s._payload),u)}if(ef(s)||J(s))return y(r,t=t.get(i)||null,s,u,null);ik(r,s)}return null}return function f(p,v,y,S){if("object"==typeof y&&null!==y&&y.type===F&&null===y.key&&(y=y.props.children),"object"==typeof y&&null!==y){switch(y.$$typeof){case O:e:{for(var A=y.key,M=v;null!==M;){if(M.key===A){if((A=y.type)===F){if(7===M.tag){i(p,M.sibling),(v=u(M,y.props.children)).return=p,p=v;break e}}else if(M.elementType===A||"object"==typeof A&&null!==A&&A.$$typeof===Y&&iO(A)===M.type){i(p,M.sibling),(v=u(M,y.props)).ref=iB(p,M,y),v.return=p,p=v;break e}i(p,M);break}r(p,M);M=M.sibling}y.type===F?((v=s6(y.props.children,p.mode,S,y.key)).return=p,p=v):((S=s8(y.type,y.key,y.props,null,p.mode,S)).ref=iB(p,v,y),S.return=p,p=S)}return h(p);case N:e:{for(M=y.key;null!==v;){if(v.key===M){if(4===v.tag&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){i(p,v.sibling),(v=u(v,y.children||[])).return=p,p=v;break e}else{i(p,v);break}}r(p,v);v=v.sibling}(v=lt(y,p.mode,S)).return=p,p=v}return h(p);case Y:return f(p,v,(M=y._init)(y._payload),S)}if(ef(y))return function(u,h,f,p){for(var v=null,y=null,x=h,S=h=0,A=null;null!==x&&S<f.length;S++){x.index>S?(A=x,x=null):A=x.sibling;var M=b(u,x,f[S],p);if(null===M){null===x&&(x=A);break}t&&x&&null===M.alternate&&r(u,x),h=c(M,h,S),null===y?v=M:y.sibling=M,y=M,x=A}if(S===f.length)return i(u,x),iw&&im(u,S),v;if(null===x){for(;S<f.length;S++)null!==(x=_(u,f[S],p))&&(h=c(x,h,S),null===y?v=x:y.sibling=x,y=x);return iw&&im(u,S),v}for(x=s(u,x);S<f.length;S++)null!==(A=w(x,u,S,f[S],p))&&(t&&null!==A.alternate&&x.delete(null===A.key?S:A.key),h=c(A,h,S),null===y?v=A:y.sibling=A,y=A);return t&&x.forEach(function(t){return r(u,t)}),iw&&im(u,S),v}(p,v,y,S);if(J(y))return function(u,h,f,p){var v=J(f);if("function"!=typeof v)throw Error(x(150));if(null==(f=v.call(f)))throw Error(x(151));for(var y=v=null,S=h,A=h=0,M=null,C=f.next();null!==S&&!C.done;A++,C=f.next()){S.index>A?(M=S,S=null):M=S.sibling;var T=b(u,S,C.value,p);if(null===T){null===S&&(S=M);break}t&&S&&null===T.alternate&&r(u,S),h=c(T,h,A),null===y?v=T:y.sibling=T,y=T,S=M}if(C.done)return i(u,S),iw&&im(u,A),v;if(null===S){for(;!C.done;A++,C=f.next())null!==(C=_(u,C.value,p))&&(h=c(C,h,A),null===y?v=C:y.sibling=C,y=C);return iw&&im(u,A),v}for(S=s(u,S);!C.done;A++,C=f.next())null!==(C=w(S,u,A,C.value,p))&&(t&&null!==C.alternate&&S.delete(null===C.key?A:C.key),h=c(C,h,A),null===y?v=C:y.sibling=C,y=C);return t&&S.forEach(function(t){return r(u,t)}),iw&&im(u,A),v}(p,v,y,S);ik(p,y)}return"string"==typeof y&&""!==y||"number"==typeof y?(y=""+y,null!==v&&6===v.tag?(i(p,v.sibling),(v=u(v,y)).return=p):(i(p,v),(v=le(y,p.mode,S)).return=p),h(p=v)):i(p,v)}}var iF=iN(!0),iU=iN(!1),iz=rJ(null),iG=null,iH=null,iV=null;function ij(){iV=iH=iG=null}function iW(t){var r=iz.current;rQ(iz),t._currentValue=r}function iX(t,r,i){for(;null!==t;){var s=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,null!==s&&(s.childLanes|=r)):null!==s&&(s.childLanes&r)!==r&&(s.childLanes|=r),t===i)break;t=t.return}}function iY(t,r){iG=t,iV=iH=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&r)&&(om=!0),t.firstContext=null)}function iZ(t){var r=t._currentValue;if(iV!==t){if(t={context:t,memoizedValue:r,next:null},null===iH){if(null===iG)throw Error(x(308));iH=t,iG.dependencies={lanes:0,firstContext:t}}else iH=iH.next=t}return r}var iK=null;function iJ(t){null===iK?iK=[t]:iK.push(t)}function iQ(t,r,i,s){var u=r.interleaved;return null===u?(i.next=i,iJ(r)):(i.next=u.next,u.next=i),r.interleaved=i,iq(t,s)}function iq(t,r){t.lanes|=r;var i=t.alternate;for(null!==i&&(i.lanes|=r),i=t,t=t.return;null!==t;)t.childLanes|=r,null!==(i=t.alternate)&&(i.childLanes|=r),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var i$=!1;function i0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i1(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function i2(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function i3(t,r,i){var s=t.updateQueue;if(null===s)return null;if(s=s.shared,0!=(2&sr)){var u=s.pending;return null===u?r.next=r:(r.next=u.next,u.next=r),s.pending=r,iq(t,i)}return null===(u=s.interleaved)?(r.next=r,iJ(s)):(r.next=u.next,u.next=r),s.interleaved=r,iq(t,i)}function i5(t,r,i){if(null!==(r=r.updateQueue)&&(r=r.shared,0!=(4194240&i))){var s=r.lanes;s&=t.pendingLanes,i|=s,r.lanes=i,ty(t,i)}}function i4(t,r){var i=t.updateQueue,s=t.alternate;if(null!==s&&i===(s=s.updateQueue)){var u=null,c=null;if(null!==(i=i.firstBaseUpdate)){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===c?u=c=h:c=c.next=h,i=i.next}while(null!==i);null===c?u=c=r:c=c.next=r}else u=c=r;i={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:s.shared,effects:s.effects},t.updateQueue=i;return}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=r:t.next=r,i.lastBaseUpdate=r}function i9(t,r,i,s){var u=t.updateQueue;i$=!1;var c=u.firstBaseUpdate,h=u.lastBaseUpdate,f=u.shared.pending;if(null!==f){u.shared.pending=null;var p=f,v=p.next;p.next=null,null===h?c=v:h.next=v,h=p;var y=t.alternate;null!==y&&(f=(y=y.updateQueue).lastBaseUpdate)!==h&&(null===f?y.firstBaseUpdate=v:f.next=v,y.lastBaseUpdate=p)}if(null!==c){var x=u.baseState;for(h=0,y=v=p=null,f=c;;){var _=f.lane,b=f.eventTime;if((s&_)===_){null!==y&&(y=y.next={eventTime:b,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var w=t,S=f;switch(_=r,b=i,S.tag){case 1:if("function"==typeof(w=S.payload)){x=w.call(b,x,_);break e}x=w;break e;case 3:w.flags=-65537&w.flags|128;case 0:if(null==(_="function"==typeof(w=S.payload)?w.call(b,x,_):w))break e;x=q({},x,_);break e;case 2:i$=!0}}null!==f.callback&&0!==f.lane&&(t.flags|=64,null===(_=u.effects)?u.effects=[f]:_.push(f))}else b={eventTime:b,lane:_,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===y?(v=y=b,p=x):y=y.next=b,h|=_;if(null===(f=f.next)){if(null===(f=u.shared.pending))break;else f=(_=f).next,_.next=null,u.lastBaseUpdate=_,u.shared.pending=null}}if(null===y&&(p=x),u.baseState=p,u.firstBaseUpdate=v,u.lastBaseUpdate=y,null!==(r=u.shared.interleaved)){u=r;do h|=u.lane,u=u.next;while(u!==r)}else null===c&&(u.shared.lanes=0);sh|=h,t.lanes=h,t.memoizedState=x}}function i8(t,r,i){if(t=r.effects,r.effects=null,null!==t)for(r=0;r<t.length;r++){var s=t[r],u=s.callback;if(null!==u){if(s.callback=null,s=i,"function"!=typeof u)throw Error(x(191,u));u.call(s)}}}var i6={},i7=rJ(i6),ae=rJ(i6),at=rJ(i6);function an(t){if(t===i6)throw Error(x(174));return t}function ar(t,r){switch(rq(at,r),rq(ae,t),rq(i7,i6),t=r.nodeType){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:e_(null,"");break;default:r=(t=8===t?r.parentNode:r).namespaceURI||null,r=e_(r,t=t.tagName)}rQ(i7),rq(i7,r)}function ai(){rQ(i7),rQ(ae),rQ(at)}function aa(t){an(at.current);var r=an(i7.current),i=e_(r,t.type);r!==i&&(rq(ae,t),rq(i7,i))}function ao(t){ae.current===t&&(rQ(i7),rQ(ae))}var as=rJ(0);function al(t){for(var r=t;null!==r;){if(13===r.tag){var i=r.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return r}else if(19===r.tag&&void 0!==r.memoizedProps.revealOrder){if(0!=(128&r.flags))return r}else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var au=[];function ac(){for(var t=0;t<au.length;t++)au[t]._workInProgressVersionPrimary=null;au.length=0}var ah=k.ReactCurrentDispatcher,ad=k.ReactCurrentBatchConfig,af=0,ap=null,ag=null,am=null,av=!1,ay=!1,ax=0,a_=0;function ab(){throw Error(x(321))}function aw(t,r){if(null===r)return!1;for(var i=0;i<r.length&&i<t.length;i++)if(!nW(t[i],r[i]))return!1;return!0}function aS(t,r,i,s,u,c){if(af=c,ap=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ah.current=null===t||null===t.memoizedState?a9:a8,t=i(s,u),ay){c=0;do{if(ay=!1,ax=0,25<=c)throw Error(x(301));c+=1,am=ag=null,r.updateQueue=null,ah.current=a6,t=i(s,u)}while(ay)}if(ah.current=a4,r=null!==ag&&null!==ag.next,af=0,am=ag=ap=null,av=!1,r)throw Error(x(300));return t}function aA(){var t=0!==ax;return ax=0,t}function aM(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===am?ap.memoizedState=am=t:am=am.next=t,am}function aC(){if(null===ag){var t=ap.alternate;t=null!==t?t.memoizedState:null}else t=ag.next;var r=null===am?ap.memoizedState:am.next;if(null!==r)am=r,ag=t;else{if(null===t)throw Error(x(310));t={memoizedState:(ag=t).memoizedState,baseState:ag.baseState,baseQueue:ag.baseQueue,queue:ag.queue,next:null},null===am?ap.memoizedState=am=t:am=am.next=t}return am}function aT(t,r){return"function"==typeof r?r(t):r}function aE(t){var r=aC(),i=r.queue;if(null===i)throw Error(x(311));i.lastRenderedReducer=t;var s=ag,u=s.baseQueue,c=i.pending;if(null!==c){if(null!==u){var h=u.next;u.next=c.next,c.next=h}s.baseQueue=u=c,i.pending=null}if(null!==u){c=u.next,s=s.baseState;var f=h=null,p=null,v=c;do{var y=v.lane;if((af&y)===y)null!==p&&(p=p.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),s=v.hasEagerState?v.eagerState:t(s,v.action);else{var _={lane:y,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};null===p?(f=p=_,h=s):p=p.next=_,ap.lanes|=y,sh|=y}v=v.next}while(null!==v&&v!==c);null===p?h=s:p.next=f,nW(s,r.memoizedState)||(om=!0),r.memoizedState=s,r.baseState=h,r.baseQueue=p,i.lastRenderedState=s}if(null!==(t=i.interleaved)){u=t;do c=u.lane,ap.lanes|=c,sh|=c,u=u.next;while(u!==t)}else null===u&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function aI(t){var r=aC(),i=r.queue;if(null===i)throw Error(x(311));i.lastRenderedReducer=t;var s=i.dispatch,u=i.pending,c=r.memoizedState;if(null!==u){i.pending=null;var h=u=u.next;do c=t(c,h.action),h=h.next;while(h!==u);nW(c,r.memoizedState)||(om=!0),r.memoizedState=c,null===r.baseQueue&&(r.baseState=c),i.lastRenderedState=c}return[c,s]}function aD(){}function aR(t,r){var i=ap,s=aC(),u=r(),c=!nW(s.memoizedState,u);if(c&&(s.memoizedState=u,om=!0),s=s.queue,aV(aB.bind(null,i,s,t),[t]),s.getSnapshot!==r||c||null!==am&&1&am.memoizedState.tag){if(i.flags|=2048,aF(9,aL.bind(null,i,s,u,r),void 0,null),null===si)throw Error(x(349));0!=(30&af)||aP(i,r,u)}return u}function aP(t,r,i){t.flags|=16384,t={getSnapshot:r,value:i},null===(r=ap.updateQueue)?(r={lastEffect:null,stores:null},ap.updateQueue=r,r.stores=[t]):null===(i=r.stores)?r.stores=[t]:i.push(t)}function aL(t,r,i,s){r.value=i,r.getSnapshot=s,ak(r)&&aO(t)}function aB(t,r,i){return i(function(){ak(r)&&aO(t)})}function ak(t){var r=t.getSnapshot;t=t.value;try{var i=r();return!nW(t,i)}catch(t){return!0}}function aO(t){var r=iq(t,1);null!==r&&sR(r,t,1,-1)}function aN(t){var r=aM();return"function"==typeof t&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aT,lastRenderedState:t},r.queue=t,t=t.dispatch=a1.bind(null,ap,t),[r.memoizedState,t]}function aF(t,r,i,s){return t={tag:t,create:r,destroy:i,deps:s,next:null},null===(r=ap.updateQueue)?(r={lastEffect:null,stores:null},ap.updateQueue=r,r.lastEffect=t.next=t):null===(i=r.lastEffect)?r.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,r.lastEffect=t),t}function aU(){return aC().memoizedState}function az(t,r,i,s){var u=aM();ap.flags|=t,u.memoizedState=aF(1|r,i,void 0,void 0===s?null:s)}function aG(t,r,i,s){var u=aC();s=void 0===s?null:s;var c=void 0;if(null!==ag){var h=ag.memoizedState;if(c=h.destroy,null!==s&&aw(s,h.deps)){u.memoizedState=aF(r,i,c,s);return}}ap.flags|=t,u.memoizedState=aF(1|r,i,c,s)}function aH(t,r){return az(8390656,8,t,r)}function aV(t,r){return aG(2048,8,t,r)}function aj(t,r){return aG(4,2,t,r)}function aW(t,r){return aG(4,4,t,r)}function aX(t,r){return"function"==typeof r?(r(t=t()),function(){r(null)}):null!=r?(t=t(),r.current=t,function(){r.current=null}):void 0}function aY(t,r,i){return i=null!=i?i.concat([t]):null,aG(4,4,aX.bind(null,r,t),i)}function aZ(){}function aK(t,r){var i=aC();r=void 0===r?null:r;var s=i.memoizedState;return null!==s&&null!==r&&aw(r,s[1])?s[0]:(i.memoizedState=[t,r],t)}function aJ(t,r){var i=aC();r=void 0===r?null:r;var s=i.memoizedState;return null!==s&&null!==r&&aw(r,s[1])?s[0]:(t=t(),i.memoizedState=[t,r],t)}function aQ(t,r,i){return 0==(21&af)?(t.baseState&&(t.baseState=!1,om=!0),t.memoizedState=i):(nW(i,r)||(i=tg(),ap.lanes|=i,sh|=i,t.baseState=!0),r)}function aq(t,r){var i=tx;tx=0!==i&&4>i?i:4,t(!0);var s=ad.transition;ad.transition={};try{t(!1),r()}finally{tx=i,ad.transition=s}}function a$(){return aC().memoizedState}function a0(t,r,i){var s=sD(t);i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},a2(t)?a3(r,i):null!==(i=iQ(t,r,i,s))&&(sR(i,t,s,sI()),a5(i,r,s))}function a1(t,r,i){var s=sD(t),u={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(a2(t))a3(r,u);else{var c=t.alternate;if(0===t.lanes&&(null===c||0===c.lanes)&&null!==(c=r.lastRenderedReducer))try{var h=r.lastRenderedState,f=c(h,i);if(u.hasEagerState=!0,u.eagerState=f,nW(f,h)){var p=r.interleaved;null===p?(u.next=u,iJ(r)):(u.next=p.next,p.next=u),r.interleaved=u;return}}catch(t){}finally{}null!==(i=iQ(t,r,u,s))&&(sR(i,t,s,u=sI()),a5(i,r,s))}}function a2(t){var r=t.alternate;return t===ap||null!==r&&r===ap}function a3(t,r){ay=av=!0;var i=t.pending;null===i?r.next=r:(r.next=i.next,i.next=r),t.pending=r}function a5(t,r,i){if(0!=(4194240&i)){var s=r.lanes;s&=t.pendingLanes,i|=s,r.lanes=i,ty(t,i)}}var a4={readContext:iZ,useCallback:ab,useContext:ab,useEffect:ab,useImperativeHandle:ab,useInsertionEffect:ab,useLayoutEffect:ab,useMemo:ab,useReducer:ab,useRef:ab,useState:ab,useDebugValue:ab,useDeferredValue:ab,useTransition:ab,useMutableSource:ab,useSyncExternalStore:ab,useId:ab,unstable_isNewReconciler:!1},a9={readContext:iZ,useCallback:function(t,r){return aM().memoizedState=[t,void 0===r?null:r],t},useContext:iZ,useEffect:aH,useImperativeHandle:function(t,r,i){return i=null!=i?i.concat([t]):null,az(4194308,4,aX.bind(null,r,t),i)},useLayoutEffect:function(t,r){return az(4194308,4,t,r)},useInsertionEffect:function(t,r){return az(4,2,t,r)},useMemo:function(t,r){var i=aM();return r=void 0===r?null:r,t=t(),i.memoizedState=[t,r],t},useReducer:function(t,r,i){var s=aM();return r=void 0!==i?i(r):r,s.memoizedState=s.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=a0.bind(null,ap,t),[s.memoizedState,t]},useRef:function(t){var r=aM();return t={current:t},r.memoizedState=t},useState:aN,useDebugValue:aZ,useDeferredValue:function(t){return aM().memoizedState=t},useTransition:function(){var t=aN(!1),r=t[0];return t=aq.bind(null,t[1]),aM().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,i){var s=ap,u=aM();if(iw){if(void 0===i)throw Error(x(407));i=i()}else{if(i=r(),null===si)throw Error(x(349));0!=(30&af)||aP(s,r,i)}u.memoizedState=i;var c={value:i,getSnapshot:r};return u.queue=c,aH(aB.bind(null,s,c,t),[t]),s.flags|=2048,aF(9,aL.bind(null,s,c,i,r),void 0,null),i},useId:function(){var t=aM(),r=si.identifierPrefix;if(iw){var i=ig,s=ip;r=":"+r+"R"+(i=(s&~(1<<32-ts(s)-1)).toString(32)+i),0<(i=ax++)&&(r+="H"+i.toString(32)),r+=":"}else r=":"+r+"r"+(i=a_++).toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},a8={readContext:iZ,useCallback:aK,useContext:iZ,useEffect:aV,useImperativeHandle:aY,useInsertionEffect:aj,useLayoutEffect:aW,useMemo:aJ,useReducer:aE,useRef:aU,useState:function(){return aE(aT)},useDebugValue:aZ,useDeferredValue:function(t){return aQ(aC(),ag.memoizedState,t)},useTransition:function(){return[aE(aT)[0],aC().memoizedState]},useMutableSource:aD,useSyncExternalStore:aR,useId:a$,unstable_isNewReconciler:!1},a6={readContext:iZ,useCallback:aK,useContext:iZ,useEffect:aV,useImperativeHandle:aY,useInsertionEffect:aj,useLayoutEffect:aW,useMemo:aJ,useReducer:aI,useRef:aU,useState:function(){return aI(aT)},useDebugValue:aZ,useDeferredValue:function(t){var r=aC();return null===ag?r.memoizedState=t:aQ(r,ag.memoizedState,t)},useTransition:function(){return[aI(aT)[0],aC().memoizedState]},useMutableSource:aD,useSyncExternalStore:aR,useId:a$,unstable_isNewReconciler:!1};function a7(t,r){if(t&&t.defaultProps)for(var i in r=q({},r),t=t.defaultProps)void 0===r[i]&&(r[i]=t[i]);return r}function oe(t,r,i,s){i=null==(i=i(s,r=t.memoizedState))?r:q({},r,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var ot={isMounted:function(t){return!!(t=t._reactInternals)&&e0(t)===t},enqueueSetState:function(t,r,i){t=t._reactInternals;var s=sI(),u=sD(t),c=i2(s,u);c.payload=r,null!=i&&(c.callback=i),null!==(r=i3(t,c,u))&&(sR(r,t,u,s),i5(r,t,u))},enqueueReplaceState:function(t,r,i){t=t._reactInternals;var s=sI(),u=sD(t),c=i2(s,u);c.tag=1,c.payload=r,null!=i&&(c.callback=i),null!==(r=i3(t,c,u))&&(sR(r,t,u,s),i5(r,t,u))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var i=sI(),s=sD(t),u=i2(i,s);u.tag=2,null!=r&&(u.callback=r),null!==(r=i3(t,u,s))&&(sR(r,t,s,i),i5(r,t,s))}};function on(t,r,i,s,u,c,h){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(s,c,h):!r.prototype||!r.prototype.isPureReactComponent||!nX(i,s)||!nX(u,c)}function or(t,r,i){var s=!1,u=r$,c=r.contextType;return"object"==typeof c&&null!==c?c=iZ(c):(u=r5(r)?r2:r0.current,c=(s=null!=(s=r.contextTypes))?r3(t,u):r$),r=new r(i,c),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=ot,t.stateNode=r,r._reactInternals=t,s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,t.__reactInternalMemoizedMaskedChildContext=c),r}function oi(t,r,i,s){t=r.state,"function"==typeof r.componentWillReceiveProps&&r.componentWillReceiveProps(i,s),"function"==typeof r.UNSAFE_componentWillReceiveProps&&r.UNSAFE_componentWillReceiveProps(i,s),r.state!==t&&ot.enqueueReplaceState(r,r.state,null)}function oa(t,r,i,s){var u=t.stateNode;u.props=i,u.state=t.memoizedState,u.refs={},i0(t);var c=r.contextType;"object"==typeof c&&null!==c?u.context=iZ(c):(c=r5(r)?r2:r0.current,u.context=r3(t,c)),u.state=t.memoizedState,"function"==typeof(c=r.getDerivedStateFromProps)&&(oe(t,r,c,i),u.state=t.memoizedState),"function"==typeof r.getDerivedStateFromProps||"function"==typeof u.getSnapshotBeforeUpdate||"function"!=typeof u.UNSAFE_componentWillMount&&"function"!=typeof u.componentWillMount||(r=u.state,"function"==typeof u.componentWillMount&&u.componentWillMount(),"function"==typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount(),r!==u.state&&ot.enqueueReplaceState(u,u.state,null),i9(t,i,u,s),u.state=t.memoizedState),"function"==typeof u.componentDidMount&&(t.flags|=4194308)}function oo(t,r){try{var i="",s=r;do i+=function(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=et(t.type,!1);case 11:return t=et(t.type.render,!1);case 1:return t=et(t.type,!0);default:return""}}(s),s=s.return;while(s);var u=i}catch(t){u="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:r,stack:u,digest:null}}function os(t,r,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=r?r:null}}function ol(t,r){}var ou="function"==typeof WeakMap?WeakMap:Map;function oc(t,r,i){(i=i2(-1,i)).tag=3,i.payload={element:null};var s=r.value;return i.callback=function(){sx||(sx=!0,s_=s),ol(t,r)},i}function oh(t,r,i){(i=i2(-1,i)).tag=3;var s=t.type.getDerivedStateFromError;if("function"==typeof s){var u=r.value;i.payload=function(){return s(u)},i.callback=function(){ol(t,r)}}var c=t.stateNode;return null!==c&&"function"==typeof c.componentDidCatch&&(i.callback=function(){ol(t,r),"function"!=typeof s&&(null===sb?sb=new Set([this]):sb.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:null!==i?i:""})}),i}function od(t,r,i){var s=t.pingCache;if(null===s){s=t.pingCache=new ou;var u=new Set;s.set(r,u)}else void 0===(u=s.get(r))&&(u=new Set,s.set(r,u));u.has(i)||(u.add(i),t=sq.bind(null,t,r,i),r.then(t,t))}function of(t){do{var r;if((r=13===t.tag)&&(r=null===(r=t.memoizedState)||null!==r.dehydrated),r)return t;t=t.return}while(null!==t);return null}function op(t,r,i,s,u){return 0==(1&t.mode)?(t===r?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((r=i2(-1,1)).tag=2,i3(i,r,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=u,t)}var og=k.ReactCurrentOwner,om=!1;function ov(t,r,i,s){r.child=null===t?iU(r,null,i,s):iF(r,t.child,i,s)}function oy(t,r,i,s,u){i=i.render;var c=r.ref;return(iY(r,u),s=aS(t,r,i,s,c,u),i=aA(),null===t||om)?(iw&&i&&iy(r),r.flags|=1,ov(t,r,s,u),r.child):(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~u,oN(t,r,u))}function ox(t,r,i,s,u){if(null===t){var c=i.type;return"function"!=typeof c||s4(c)||void 0!==c.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=s8(i.type,null,s,r,r.mode,u)).ref=r.ref,t.return=r,r.child=t):(r.tag=15,r.type=c,o_(t,r,c,s,u))}if(c=t.child,0==(t.lanes&u)){var h=c.memoizedProps;if((i=null!==(i=i.compare)?i:nX)(h,s)&&t.ref===r.ref)return oN(t,r,u)}return r.flags|=1,(t=s9(c,s)).ref=r.ref,t.return=r,r.child=t}function o_(t,r,i,s,u){if(null!==t){var c=t.memoizedProps;if(nX(c,s)&&t.ref===r.ref){if(om=!1,r.pendingProps=s=c,0==(t.lanes&u))return r.lanes=t.lanes,oN(t,r,u);else 0!=(131072&t.flags)&&(om=!0)}}return oS(t,r,i,s,u)}function ob(t,r,i){var s=r.pendingProps,u=s.children,c=null!==t?t.memoizedState:null;if("hidden"===s.mode){if(0==(1&r.mode))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},rq(sl,ss),ss|=i;else{if(0==(0x40000000&i))return t=null!==c?c.baseLanes|i:i,r.lanes=r.childLanes=0x40000000,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,rq(sl,ss),ss|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==c?c.baseLanes:i,rq(sl,ss),ss|=s}}else null!==c?(s=c.baseLanes|i,r.memoizedState=null):s=i,rq(sl,ss),ss|=s;return ov(t,r,u,i),r.child}function ow(t,r){var i=r.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function oS(t,r,i,s,u){var c=r5(i)?r2:r0.current;return(c=r3(r,c),iY(r,u),i=aS(t,r,i,s,c,u),s=aA(),null===t||om)?(iw&&s&&iy(r),r.flags|=1,ov(t,r,i,u),r.child):(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~u,oN(t,r,u))}function oA(t,r,i,s,u){if(r5(i)){var c=!0;r6(r)}else c=!1;if(iY(r,u),null===r.stateNode)oO(t,r),or(r,i,s),oa(r,i,s,u),s=!0;else if(null===t){var h=r.stateNode,f=r.memoizedProps;h.props=f;var p=h.context,v=i.contextType;v="object"==typeof v&&null!==v?iZ(v):r3(r,v=r5(i)?r2:r0.current);var y=i.getDerivedStateFromProps,x="function"==typeof y||"function"==typeof h.getSnapshotBeforeUpdate;x||"function"!=typeof h.UNSAFE_componentWillReceiveProps&&"function"!=typeof h.componentWillReceiveProps||(f!==s||p!==v)&&oi(r,h,s,v),i$=!1;var _=r.memoizedState;h.state=_,i9(r,s,h,u),p=r.memoizedState,f!==s||_!==p||r1.current||i$?("function"==typeof y&&(oe(r,i,y,s),p=r.memoizedState),(f=i$||on(r,i,f,s,_,p,v))?(x||"function"!=typeof h.UNSAFE_componentWillMount&&"function"!=typeof h.componentWillMount||("function"==typeof h.componentWillMount&&h.componentWillMount(),"function"==typeof h.UNSAFE_componentWillMount&&h.UNSAFE_componentWillMount()),"function"==typeof h.componentDidMount&&(r.flags|=4194308)):("function"==typeof h.componentDidMount&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=p),h.props=s,h.state=p,h.context=v,s=f):("function"==typeof h.componentDidMount&&(r.flags|=4194308),s=!1)}else{h=r.stateNode,i1(t,r),f=r.memoizedProps,v=r.type===r.elementType?f:a7(r.type,f),h.props=v,x=r.pendingProps,_=h.context,p="object"==typeof(p=i.contextType)&&null!==p?iZ(p):r3(r,p=r5(i)?r2:r0.current);var b=i.getDerivedStateFromProps;(y="function"==typeof b||"function"==typeof h.getSnapshotBeforeUpdate)||"function"!=typeof h.UNSAFE_componentWillReceiveProps&&"function"!=typeof h.componentWillReceiveProps||(f!==x||_!==p)&&oi(r,h,s,p),i$=!1,_=r.memoizedState,h.state=_,i9(r,s,h,u);var w=r.memoizedState;f!==x||_!==w||r1.current||i$?("function"==typeof b&&(oe(r,i,b,s),w=r.memoizedState),(v=i$||on(r,i,v,s,_,w,p)||!1)?(y||"function"!=typeof h.UNSAFE_componentWillUpdate&&"function"!=typeof h.componentWillUpdate||("function"==typeof h.componentWillUpdate&&h.componentWillUpdate(s,w,p),"function"==typeof h.UNSAFE_componentWillUpdate&&h.UNSAFE_componentWillUpdate(s,w,p)),"function"==typeof h.componentDidUpdate&&(r.flags|=4),"function"==typeof h.getSnapshotBeforeUpdate&&(r.flags|=1024)):("function"!=typeof h.componentDidUpdate||f===t.memoizedProps&&_===t.memoizedState||(r.flags|=4),"function"!=typeof h.getSnapshotBeforeUpdate||f===t.memoizedProps&&_===t.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=w),h.props=s,h.state=w,h.context=p,s=v):("function"!=typeof h.componentDidUpdate||f===t.memoizedProps&&_===t.memoizedState||(r.flags|=4),"function"!=typeof h.getSnapshotBeforeUpdate||f===t.memoizedProps&&_===t.memoizedState||(r.flags|=1024),s=!1)}return oM(t,r,i,s,c,u)}function oM(t,r,i,s,u,c){ow(t,r);var h=0!=(128&r.flags);if(!s&&!h)return u&&r7(r,i,!1),oN(t,r,c);s=r.stateNode,og.current=r;var f=h&&"function"!=typeof i.getDerivedStateFromError?null:s.render();return r.flags|=1,null!==t&&h?(r.child=iF(r,t.child,null,c),r.child=iF(r,null,f,c)):ov(t,r,f,c),r.memoizedState=s.state,u&&r7(r,i,!0),r.child}function oC(t){var r=t.stateNode;r.pendingContext?r9(t,r.pendingContext,r.pendingContext!==r.context):r.context&&r9(t,r.context,!1),ar(t,r.containerInfo)}function oT(t,r,i,s,u){return iR(),iP(u),r.flags|=256,ov(t,r,i,s),r.child}var oE={dehydrated:null,treeContext:null,retryLane:0};function oI(t){return{baseLanes:t,cachePool:null,transitions:null}}function oD(t,r,i){var s,u=r.pendingProps,c=as.current,h=!1,f=0!=(128&r.flags);if((s=f)||(s=(null===t||null!==t.memoizedState)&&0!=(2&c)),s?(h=!0,r.flags&=-129):(null===t||null!==t.memoizedState)&&(c|=1),rq(as,1&c),null===t)return(iT(r),null!==(t=r.memoizedState)&&null!==(t=t.dehydrated))?(0==(1&r.mode)?r.lanes=1:"$!"===t.data?r.lanes=8:r.lanes=0x40000000,null):(f=u.children,t=u.fallback,h?(u=r.mode,h=r.child,f={mode:"hidden",children:f},0==(1&u)&&null!==h?(h.childLanes=0,h.pendingProps=f):h=s7(f,u,0,null),t=s6(t,u,i,null),h.return=r,t.return=r,h.sibling=t,r.child=h,r.child.memoizedState=oI(i),r.memoizedState=oE,t):oR(r,f));if(null!==(c=t.memoizedState)&&null!==(s=c.dehydrated))return function(t,r,i,s,u,c,h){if(i)return 256&r.flags?(r.flags&=-257,oP(t,r,h,s=os(Error(x(422))))):null!==r.memoizedState?(r.child=t.child,r.flags|=128,null):(c=s.fallback,u=r.mode,s=s7({mode:"visible",children:s.children},u,0,null),c=s6(c,u,h,null),c.flags|=2,s.return=r,c.return=r,s.sibling=c,r.child=s,0!=(1&r.mode)&&iF(r,t.child,null,h),r.child.memoizedState=oI(h),r.memoizedState=oE,c);if(0==(1&r.mode))return oP(t,r,h,null);if("$!"===u.data){if(s=u.nextSibling&&u.nextSibling.dataset)var f=s.dgst;return s=f,oP(t,r,h,s=os(c=Error(x(419)),s,void 0))}if(f=0!=(h&t.childLanes),om||f){if(null!==(s=si)){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:u=32;break;case 0x20000000:u=0x10000000;break;default:u=0}0!==(u=0!=(u&(s.suspendedLanes|h))?0:u)&&u!==c.retryLane&&(c.retryLane=u,iq(t,u),sR(s,t,u,-1))}return sj(),oP(t,r,h,s=os(Error(x(421))))}return"$?"===u.data?(r.flags|=128,r.child=t.child,r=s0.bind(null,t),u._reactRetry=r,null):(t=c.treeContext,ib=rk(u.nextSibling),i_=r,iw=!0,iS=null,null!==t&&(ic[ih++]=ip,ic[ih++]=ig,ic[ih++]=id,ip=t.id,ig=t.overflow,id=r),r=oR(r,s.children),r.flags|=4096,r)}(t,r,f,u,s,c,i);if(h){h=u.fallback,f=r.mode,s=(c=t.child).sibling;var p={mode:"hidden",children:u.children};return 0==(1&f)&&r.child!==c?((u=r.child).childLanes=0,u.pendingProps=p,r.deletions=null):(u=s9(c,p)).subtreeFlags=0xe00000&c.subtreeFlags,null!==s?h=s9(s,h):(h=s6(h,f,i,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,f=null===(f=t.child.memoizedState)?oI(i):{baseLanes:f.baseLanes|i,cachePool:null,transitions:f.transitions},h.memoizedState=f,h.childLanes=t.childLanes&~i,r.memoizedState=oE,u}return t=(h=t.child).sibling,u=s9(h,{mode:"visible",children:u.children}),0==(1&r.mode)&&(u.lanes=i),u.return=r,u.sibling=null,null!==t&&(null===(i=r.deletions)?(r.deletions=[t],r.flags|=16):i.push(t)),r.child=u,r.memoizedState=null,u}function oR(t,r){return(r=s7({mode:"visible",children:r},t.mode,0,null)).return=t,t.child=r}function oP(t,r,i,s){return null!==s&&iP(s),iF(r,t.child,null,i),t=oR(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function oL(t,r,i){t.lanes|=r;var s=t.alternate;null!==s&&(s.lanes|=r),iX(t.return,r,i)}function oB(t,r,i,s,u){var c=t.memoizedState;null===c?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:u}:(c.isBackwards=r,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=i,c.tailMode=u)}function ok(t,r,i){var s=r.pendingProps,u=s.revealOrder,c=s.tail;if(ov(t,r,s.children,i),0!=(2&(s=as.current)))s=1&s|2,r.flags|=128;else{if(null!==t&&0!=(128&t.flags))e:for(t=r.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&oL(t,i,r);else if(19===t.tag)oL(t,i,r);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===r)break;for(;null===t.sibling;){if(null===t.return||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(rq(as,s),0==(1&r.mode))r.memoizedState=null;else switch(u){case"forwards":for(u=null,i=r.child;null!==i;)null!==(t=i.alternate)&&null===al(t)&&(u=i),i=i.sibling;null===(i=u)?(u=r.child,r.child=null):(u=i.sibling,i.sibling=null),oB(r,!1,u,i,c);break;case"backwards":for(i=null,u=r.child,r.child=null;null!==u;){if(null!==(t=u.alternate)&&null===al(t)){r.child=u;break}t=u.sibling,u.sibling=i,i=u,u=t}oB(r,!0,i,null,c);break;case"together":oB(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function oO(t,r){0==(1&r.mode)&&null!==t&&(t.alternate=null,r.alternate=null,r.flags|=2)}function oN(t,r,i){if(null!==t&&(r.dependencies=t.dependencies),sh|=r.lanes,0==(i&r.childLanes))return null;if(null!==t&&r.child!==t.child)throw Error(x(153));if(null!==r.child){for(i=s9(t=r.child,t.pendingProps),r.child=i,i.return=r;null!==t.sibling;)t=t.sibling,(i=i.sibling=s9(t,t.pendingProps)).return=r;i.sibling=null}return r.child}function oF(t,r){if(!iw)switch(t.tailMode){case"hidden":r=t.tail;for(var i=null;null!==r;)null!==r.alternate&&(i=r),r=r.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;null!==i;)null!==i.alternate&&(s=i),i=i.sibling;null===s?r||null===t.tail?t.tail=null:t.tail.sibling=null:s.sibling=null}}function oU(t){var r=null!==t.alternate&&t.alternate.child===t.child,i=0,s=0;if(r)for(var u=t.child;null!==u;)i|=u.lanes|u.childLanes,s|=0xe00000&u.subtreeFlags,s|=0xe00000&u.flags,u.return=t,u=u.sibling;else for(u=t.child;null!==u;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=s,t.childLanes=i,r}u=function(t,r){for(var i=r.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===r)break;for(;null===i.sibling;){if(null===i.return||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},c=function(){},h=function(t,r,i,s){var u=t.memoizedProps;if(u!==s){t=r.stateNode,an(i7.current);var c,h=null;switch(i){case"input":u=es(t,u),s=es(t,s),h=[];break;case"select":u=q({},u,{value:void 0}),s=q({},s,{value:void 0}),h=[];break;case"textarea":u=eg(t,u),s=eg(t,s),h=[];break;default:"function"!=typeof u.onClick&&"function"==typeof s.onClick&&(t.onclick=rM)}for(v in eD(i,s),i=null,u)if(!s.hasOwnProperty(v)&&u.hasOwnProperty(v)&&null!=u[v]){if("style"===v){var f=u[v];for(c in f)f.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else"dangerouslySetInnerHTML"!==v&&"children"!==v&&"suppressContentEditableWarning"!==v&&"suppressHydrationWarning"!==v&&"autoFocus"!==v&&(b.hasOwnProperty(v)?h||(h=[]):(h=h||[]).push(v,null))}for(v in s){var p=s[v];if(f=null!=u?u[v]:void 0,s.hasOwnProperty(v)&&p!==f&&(null!=p||null!=f)){if("style"===v){if(f){for(c in f)!f.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in p)p.hasOwnProperty(c)&&f[c]!==p[c]&&(i||(i={}),i[c]=p[c])}else i||(h||(h=[]),h.push(v,i)),i=p}else"dangerouslySetInnerHTML"===v?(p=p?p.__html:void 0,f=f?f.__html:void 0,null!=p&&f!==p&&(h=h||[]).push(v,p)):"children"===v?"string"!=typeof p&&"number"!=typeof p||(h=h||[]).push(v,""+p):"suppressContentEditableWarning"!==v&&"suppressHydrationWarning"!==v&&(b.hasOwnProperty(v)?(null!=p&&"onScroll"===v&&rh("scroll",t),h||f===p||(h=[])):(h=h||[]).push(v,p))}}i&&(h=h||[]).push("style",i);var v=h;(r.updateQueue=v)&&(r.flags|=4)}},f=function(t,r,i,s){i!==s&&(r.flags|=4)};var oz=!1,oG=!1,oH="function"==typeof WeakSet?WeakSet:Set,oV=null;function oj(t,r){var i=t.ref;if(null!==i){if("function"==typeof i)try{i(null)}catch(i){sQ(t,r,i)}else i.current=null}}function oW(t,r,i){try{i()}catch(i){sQ(t,r,i)}}var oX=!1;function oY(t,r,i){var s=r.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var u=s=s.next;do{if((u.tag&t)===t){var c=u.destroy;u.destroy=void 0,void 0!==c&&oW(r,i,c)}u=u.next}while(u!==s)}}function oZ(t,r){if(null!==(r=null!==(r=r.updateQueue)?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var s=i.create;i.destroy=s()}i=i.next}while(i!==r)}}function oK(t){var r=t.ref;if(null!==r){var i=t.stateNode;t.tag;t=i;"function"==typeof r?r(t):r.current=t}}function oJ(t){return 5===t.tag||3===t.tag||4===t.tag}function oQ(t){e:for(;;){for(;null===t.sibling;){if(null===t.return||oJ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue e;if(null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}var oq=null,o$=!1;function o0(t,r,i){for(i=i.child;null!==i;)o1(t,r,i),i=i.sibling}function o1(t,r,i){if(to&&"function"==typeof to.onCommitFiberUnmount)try{to.onCommitFiberUnmount(ta,i)}catch(t){}switch(i.tag){case 5:oG||oj(i,r);case 6:var s=oq,u=o$;oq=null,o0(t,r,i),oq=s,o$=u,null!==oq&&(o$?(t=oq,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):oq.removeChild(i.stateNode));break;case 18:null!==oq&&(o$?(t=oq,i=i.stateNode,8===t.nodeType?rB(t.parentNode,i):1===t.nodeType&&rB(t,i),tH(t)):rB(oq,i.stateNode));break;case 4:s=oq,u=o$,oq=i.stateNode.containerInfo,o$=!0,o0(t,r,i),oq=s,o$=u;break;case 0:case 11:case 14:case 15:if(!oG&&null!==(s=i.updateQueue)&&null!==(s=s.lastEffect)){u=s=s.next;do{var c=u,h=c.destroy;c=c.tag,void 0!==h&&(0!=(2&c)?oW(i,r,h):0!=(4&c)&&oW(i,r,h)),u=u.next}while(u!==s)}o0(t,r,i);break;case 1:if(!oG&&(oj(i,r),"function"==typeof(s=i.stateNode).componentWillUnmount))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(t){sQ(i,r,t)}o0(t,r,i);break;case 21:default:o0(t,r,i);break;case 22:1&i.mode?(oG=(s=oG)||null!==i.memoizedState,o0(t,r,i),oG=s):o0(t,r,i)}}function o2(t){var r=t.updateQueue;if(null!==r){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new oH),r.forEach(function(r){var s=s1.bind(null,t,r);i.has(r)||(i.add(r),r.then(s,s))})}}function o3(t,r){var i=r.deletions;if(null!==i)for(var s=0;s<i.length;s++){var u=i[s];try{var c=r,h=c;e:for(;null!==h;){switch(h.tag){case 5:oq=h.stateNode,o$=!1;break e;case 3:case 4:oq=h.stateNode.containerInfo,o$=!0;break e}h=h.return}if(null===oq)throw Error(x(160));o1(t,c,u),oq=null,o$=!1;var f=u.alternate;null!==f&&(f.return=null),u.return=null}catch(t){sQ(u,r,t)}}if(12854&r.subtreeFlags)for(r=r.child;null!==r;)o5(r,t),r=r.sibling}function o5(t,r){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(o3(r,t),o4(t),4&s){try{oY(3,t,t.return),oZ(3,t)}catch(r){sQ(t,t.return,r)}try{oY(5,t,t.return)}catch(r){sQ(t,t.return,r)}}break;case 1:o3(r,t),o4(t),512&s&&null!==i&&oj(i,i.return);break;case 5:if(o3(r,t),o4(t),512&s&&null!==i&&oj(i,i.return),32&t.flags){var u=t.stateNode;try{eA(u,"")}catch(r){sQ(t,t.return,r)}}if(4&s&&null!=(u=t.stateNode)){var c=t.memoizedProps,h=null!==i?i.memoizedProps:c,f=t.type,p=t.updateQueue;if(t.updateQueue=null,null!==p)try{"input"===f&&"radio"===c.type&&null!=c.name&&eu(u,c),eR(f,h);var v=eR(f,c);for(h=0;h<p.length;h+=2){var y=p[h],_=p[h+1];"style"===y?eE(u,_):"dangerouslySetInnerHTML"===y?eS(u,_):"children"===y?eA(u,_):B(u,y,_,v)}switch(f){case"input":ec(u,c);break;case"textarea":ev(u,c);break;case"select":var b=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!c.multiple;var w=c.value;null!=w?ep(u,!!c.multiple,w,!1):!!c.multiple!==b&&(null!=c.defaultValue?ep(u,!!c.multiple,c.defaultValue,!0):ep(u,!!c.multiple,c.multiple?[]:"",!1))}u[rU]=c}catch(r){sQ(t,t.return,r)}}break;case 6:if(o3(r,t),o4(t),4&s){if(null===t.stateNode)throw Error(x(162));u=t.stateNode,c=t.memoizedProps;try{u.nodeValue=c}catch(r){sQ(t,t.return,r)}}break;case 3:if(o3(r,t),o4(t),4&s&&null!==i&&i.memoizedState.isDehydrated)try{tH(r.containerInfo)}catch(r){sQ(t,t.return,r)}break;case 4:default:o3(r,t),o4(t);break;case 13:o3(r,t),o4(t),8192&(u=t.child).flags&&(c=null!==u.memoizedState,u.stateNode.isHidden=c,c&&(null===u.alternate||null===u.alternate.memoizedState)&&(sm=e6())),4&s&&o2(t);break;case 22:if(y=null!==i&&null!==i.memoizedState,1&t.mode?(oG=(v=oG)||y,o3(r,t),oG=v):o3(r,t),o4(t),8192&s){if(v=null!==t.memoizedState,(t.stateNode.isHidden=v)&&!y&&0!=(1&t.mode))for(oV=t,y=t.child;null!==y;){for(_=oV=y;null!==oV;){switch(w=(b=oV).child,b.tag){case 0:case 11:case 14:case 15:oY(4,b,b.return);break;case 1:oj(b,b.return);var S=b.stateNode;if("function"==typeof S.componentWillUnmount){s=b,i=b.return;try{r=s,S.props=r.memoizedProps,S.state=r.memoizedState,S.componentWillUnmount()}catch(t){sQ(s,i,t)}}break;case 5:oj(b,b.return);break;case 22:if(null!==b.memoizedState){o8(_);continue}}null!==w?(w.return=b,oV=w):o8(_)}y=y.sibling}e:for(y=null,_=t;;){if(5===_.tag){if(null===y){y=_;try{u=_.stateNode,v?(c=u.style,"function"==typeof c.setProperty?c.setProperty("display","none","important"):c.display="none"):(f=_.stateNode,h=null!=(p=_.memoizedProps.style)&&p.hasOwnProperty("display")?p.display:null,f.style.display=eT("display",h))}catch(r){sQ(t,t.return,r)}}}else if(6===_.tag){if(null===y)try{_.stateNode.nodeValue=v?"":_.memoizedProps}catch(r){sQ(t,t.return,r)}}else if((22!==_.tag&&23!==_.tag||null===_.memoizedState||_===t)&&null!==_.child){_.child.return=_,_=_.child;continue}if(_===t)break;for(;null===_.sibling;){if(null===_.return||_.return===t)break e;y===_&&(y=null),_=_.return}y===_&&(y=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:o3(r,t),o4(t),4&s&&o2(t);case 21:}}function o4(t){var r=t.flags;if(2&r){try{e:{for(var i=t.return;null!==i;){if(oJ(i)){var s=i;break e}i=i.return}throw Error(x(160))}switch(s.tag){case 5:var u=s.stateNode;32&s.flags&&(eA(u,""),s.flags&=-33);var c=oQ(t);!function t(r,i,s){var u=r.tag;if(5===u||6===u)r=r.stateNode,i?s.insertBefore(r,i):s.appendChild(r);else if(4!==u&&null!==(r=r.child))for(t(r,i,s),r=r.sibling;null!==r;)t(r,i,s),r=r.sibling}(t,c,u);break;case 3:case 4:var h=s.stateNode.containerInfo,f=oQ(t);!function t(r,i,s){var u=r.tag;if(5===u||6===u)r=r.stateNode,i?8===s.nodeType?s.parentNode.insertBefore(r,i):s.insertBefore(r,i):(8===s.nodeType?(i=s.parentNode).insertBefore(r,s):(i=s).appendChild(r),null!=(s=s._reactRootContainer)||null!==i.onclick||(i.onclick=rM));else if(4!==u&&null!==(r=r.child))for(t(r,i,s),r=r.sibling;null!==r;)t(r,i,s),r=r.sibling}(t,f,h);break;default:throw Error(x(161))}}catch(r){sQ(t,t.return,r)}t.flags&=-3}4096&r&&(t.flags&=-4097)}function o9(t){for(;null!==oV;){var r=oV;if(0!=(8772&r.flags)){var i=r.alternate;try{if(0!=(8772&r.flags))switch(r.tag){case 0:case 11:case 15:oG||oZ(5,r);break;case 1:var s=r.stateNode;if(4&r.flags&&!oG){if(null===i)s.componentDidMount();else{var u=r.elementType===r.type?i.memoizedProps:a7(r.type,i.memoizedProps);s.componentDidUpdate(u,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}}var c=r.updateQueue;null!==c&&i8(r,c,s);break;case 3:var h=r.updateQueue;if(null!==h){if(i=null,null!==r.child)switch(r.child.tag){case 5:case 1:i=r.child.stateNode}i8(r,h,i)}break;case 5:var f=r.stateNode;if(null===i&&4&r.flags){i=f;var p=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===r.memoizedState){var v=r.alternate;if(null!==v){var y=v.memoizedState;if(null!==y){var _=y.dehydrated;null!==_&&tH(_)}}}break;default:throw Error(x(163))}oG||512&r.flags&&oK(r)}catch(t){sQ(r,r.return,t)}}if(r===t){oV=null;break}if(null!==(i=r.sibling)){i.return=r.return,oV=i;break}oV=r.return}}function o8(t){for(;null!==oV;){var r=oV;if(r===t){oV=null;break}var i=r.sibling;if(null!==i){i.return=r.return,oV=i;break}oV=r.return}}function o6(t){for(;null!==oV;){var r=oV;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{oZ(4,r)}catch(t){sQ(r,i,t)}break;case 1:var s=r.stateNode;if("function"==typeof s.componentDidMount){var u=r.return;try{s.componentDidMount()}catch(t){sQ(r,u,t)}}var c=r.return;try{oK(r)}catch(t){sQ(r,c,t)}break;case 5:var h=r.return;try{oK(r)}catch(t){sQ(r,h,t)}}}catch(t){sQ(r,r.return,t)}if(r===t){oV=null;break}var f=r.sibling;if(null!==f){f.return=r.return,oV=f;break}oV=r.return}}var o7=Math.ceil,se=k.ReactCurrentDispatcher,st=k.ReactCurrentOwner,sn=k.ReactCurrentBatchConfig,sr=0,si=null,sa=null,so=0,ss=0,sl=rJ(0),su=0,sc=null,sh=0,sd=0,sf=0,sp=null,sg=null,sm=0,sv=1/0,sy=null,sx=!1,s_=null,sb=null,sw=!1,sS=null,sA=0,sM=0,sC=null,sT=-1,sE=0;function sI(){return 0!=(6&sr)?e6():-1!==sT?sT:sT=e6()}function sD(t){return 0==(1&t.mode)?1:0!=(2&sr)&&0!==so?so&-so:null!==iL.transition?(0===sE&&(sE=tg()),sE):0!==(t=tx)?t:t=void 0===(t=window.event)?16:tJ(t.type)}function sR(t,r,i,s){if(50<sM)throw sM=0,sC=null,Error(x(185));tv(t,i,s),(0==(2&sr)||t!==si)&&(t===si&&(0==(2&sr)&&(sd|=i),4===su&&sO(t,so)),sP(t,s),1===i&&0===sr&&0==(1&r.mode)&&(sv=e6()+500,it&&ia()))}function sP(t,r){var i,s=t.callbackNode;!function(t,r){for(var i=t.suspendedLanes,s=t.pingedLanes,u=t.expirationTimes,c=t.pendingLanes;0<c;){var h=31-ts(c),f=1<<h,p=u[h];-1===p?(0==(f&i)||0!=(f&s))&&(u[h]=function(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;default:return -1}}(f,r)):p<=r&&(t.expiredLanes|=f),c&=~f}}(t,r);var u=tf(t,t===si?so:0);if(0===u)null!==s&&e4(s),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(null!=s&&e4(s),1===r){;0===t.tag?(i=sN.bind(null,t),it=!0,ii(i)):ii(sN.bind(null,t)),rP(function(){0==(6&sr)&&ia()}),s=null}else{switch(t_(u)){case 1:s=te;break;case 4:s=tt;break;case 16:default:s=tn;break;case 0x20000000:s=ti}s=function(t,r){return e5(t,r)}(s,sL.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function sL(t,r){if(sT=-1,sE=0,0!=(6&sr))throw Error(x(327));var i=t.callbackNode;if(sK()&&t.callbackNode!==i)return null;var s=tf(t,t===si?so:0);if(0===s)return null;if(0!=(30&s)||0!=(s&t.expiredLanes)||r)r=sW(t,s);else{r=s;var u=sr;sr|=2;var c=sV();for((si!==t||so!==r)&&(sy=null,sv=e6()+500,sG(t,r));;)try{(function(){for(;null!==sa&&!e9();)sX(sa)})();break}catch(r){sH(t,r)}ij(),se.current=c,sr=u,null!==sa?r=0:(si=null,so=0,r=su)}if(0!==r){if(2===r&&0!==(u=tp(t))&&(s=u,r=sB(t,u)),1===r)throw i=sc,sG(t,0),sO(t,s),sP(t,e6()),i;if(6===r)sO(t,s);else{if(u=t.current.alternate,0==(30&s)&&!function(t){for(var r=t;;){if(16384&r.flags){var i=r.updateQueue;if(null!==i&&null!==(i=i.stores))for(var s=0;s<i.length;s++){var u=i[s],c=u.getSnapshot;u=u.value;try{if(!nW(c(),u))return!1}catch(t){return!1}}}if(i=r.child,16384&r.subtreeFlags&&null!==i)i.return=r,r=i;else{if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}(u)&&(2===(r=sW(t,s))&&0!==(c=tp(t))&&(s=c,r=sB(t,c)),1===r))throw i=sc,sG(t,0),sO(t,s),sP(t,e6()),i;switch(t.finishedWork=u,t.finishedLanes=s,r){case 0:case 1:throw Error(x(345));case 2:case 5:sZ(t,sg,sy);break;case 3:if(sO(t,s),(0x7c00000&s)===s&&10<(r=sm+500-e6())){if(0!==tf(t,0))break;if(((u=t.suspendedLanes)&s)!==s){sI(),t.pingedLanes|=t.suspendedLanes&u;break}t.timeoutHandle=rI(sZ.bind(null,t,sg,sy),r);break}sZ(t,sg,sy);break;case 4:if(sO(t,s),(4194240&s)===s)break;for(u=-1,r=t.eventTimes;0<s;){var h=31-ts(s);c=1<<h,(h=r[h])>u&&(u=h),s&=~c}if(s=u,10<(s=(120>(s=e6()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*o7(s/1960))-s)){t.timeoutHandle=rI(sZ.bind(null,t,sg,sy),s);break}sZ(t,sg,sy);break;default:throw Error(x(329))}}}return sP(t,e6()),t.callbackNode===i?sL.bind(null,t):null}function sB(t,r){var i=sp;return t.current.memoizedState.isDehydrated&&(sG(t,r).flags|=256),2!==(t=sW(t,r))&&(r=sg,sg=i,null!==r&&sk(r)),t}function sk(t){null===sg?sg=t:sg.push.apply(sg,t)}function sO(t,r){for(r&=~sf,r&=~sd,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var i=31-ts(r),s=1<<i;t[i]=-1,r&=~s}}function sN(t){if(0!=(6&sr))throw Error(x(327));sK();var r=tf(t,0);if(0==(1&r))return sP(t,e6()),null;var i=sW(t,r);if(0!==t.tag&&2===i){var s=tp(t);0!==s&&(r=s,i=sB(t,s))}if(1===i)throw i=sc,sG(t,0),sO(t,r),sP(t,e6()),i;if(6===i)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,sZ(t,sg,sy),sP(t,e6()),null}function sF(t,r){var i=sr;sr|=1;try{return t(r)}finally{0===(sr=i)&&(sv=e6()+500,it&&ia())}}function sU(t){null!==sS&&0===sS.tag&&0==(6&sr)&&sK();var r=sr;sr|=1;var i=sn.transition,s=tx;try{if(sn.transition=null,tx=1,t)return t()}finally{tx=s,sn.transition=i,0==(6&(sr=r))&&ia()}}function sz(){ss=sl.current,rQ(sl)}function sG(t,r){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,rD(i)),null!==sa)for(i=sa.return;null!==i;){var s=i;switch(ix(s),s.tag){case 1:null!=(s=s.type.childContextTypes)&&r4();break;case 3:ai(),rQ(r1),rQ(r0),ac();break;case 5:ao(s);break;case 4:ai();break;case 13:case 19:rQ(as);break;case 10:iW(s.type._context);break;case 22:case 23:sz()}i=i.return}if(si=t,sa=t=s9(t.current,null),so=ss=r,su=0,sc=null,sf=sd=sh=0,sg=sp=null,null!==iK){for(r=0;r<iK.length;r++)if(null!==(s=(i=iK[r]).interleaved)){i.interleaved=null;var u=s.next,c=i.pending;if(null!==c){var h=c.next;c.next=u,s.next=h}i.pending=s}iK=null}return t}function sH(t,r){for(;;){var i=sa;try{if(ij(),ah.current=a4,av){for(var s=ap.memoizedState;null!==s;){var u=s.queue;null!==u&&(u.pending=null),s=s.next}av=!1}if(af=0,am=ag=ap=null,ay=!1,ax=0,st.current=null,null===i||null===i.return){su=1,sc=r,sa=null;break}e:{var c=t,h=i.return,f=i,p=r;if(r=so,f.flags|=32768,null!==p&&"object"==typeof p&&"function"==typeof p.then){var v=p,y=f,_=y.tag;if(0==(1&y.mode)&&(0===_||11===_||15===_)){var b=y.alternate;b?(y.updateQueue=b.updateQueue,y.memoizedState=b.memoizedState,y.lanes=b.lanes):(y.updateQueue=null,y.memoizedState=null)}var w=of(h);if(null!==w){w.flags&=-257,op(w,h,f,c,r),1&w.mode&&od(c,v,r),r=w,p=v;var S=r.updateQueue;if(null===S){var A=new Set;A.add(p),r.updateQueue=A}else S.add(p);break e}if(0==(1&r)){od(c,v,r),sj();break e}p=Error(x(426))}else if(iw&&1&f.mode){var M=of(h);if(null!==M){0==(65536&M.flags)&&(M.flags|=256),op(M,h,f,c,r),iP(oo(p,f));break e}}c=p=oo(p,f),4!==su&&(su=2),null===sp?sp=[c]:sp.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,r&=-r,c.lanes|=r;var C=oc(c,p,r);i4(c,C);break e;case 1:f=p;var T=c.type,I=c.stateNode;if(0==(128&c.flags)&&("function"==typeof T.getDerivedStateFromError||null!==I&&"function"==typeof I.componentDidCatch&&(null===sb||!sb.has(I)))){c.flags|=65536,r&=-r,c.lanes|=r;var D=oh(c,f,r);i4(c,D);break e}}c=c.return}while(null!==c)}sY(i)}catch(t){r=t,sa===i&&null!==i&&(sa=i=i.return);continue}break}}function sV(){var t=se.current;return se.current=a4,null===t?a4:t}function sj(){(0===su||3===su||2===su)&&(su=4),null===si||0==(0xfffffff&sh)&&0==(0xfffffff&sd)||sO(si,so)}function sW(t,r){var i=sr;sr|=2;var s=sV();for((si!==t||so!==r)&&(sy=null,sG(t,r));;)try{(function(){for(;null!==sa;)sX(sa)})();break}catch(r){sH(t,r)}if(ij(),sr=i,se.current=s,null!==sa)throw Error(x(261));return si=null,so=0,su}function sX(t){var r=p(t.alternate,t,ss);t.memoizedProps=t.pendingProps,null===r?sY(t):sa=r,st.current=null}function sY(t){var r=t;do{var i=r.alternate;if(t=r.return,0==(32768&r.flags)){if(null!==(i=function(t,r,i){var s=r.pendingProps;switch(ix(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oU(r),null;case 1:case 17:return r5(r.type)&&r4(),oU(r),null;case 3:return s=r.stateNode,ai(),rQ(r1),rQ(r0),ac(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(null===t||null===t.child)&&(iI(r)?r.flags|=4:null===t||t.memoizedState.isDehydrated&&0==(256&r.flags)||(r.flags|=1024,null!==iS&&(sk(iS),iS=null))),c(t,r),oU(r),null;case 5:ao(r);var p=an(at.current);if(i=r.type,null!==t&&null!=r.stateNode)h(t,r,i,s,p),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(null===r.stateNode)throw Error(x(166));return oU(r),null}if(t=an(i7.current),iI(r)){s=r.stateNode,i=r.type;var v=r.memoizedProps;switch(s[rF]=r,s[rU]=v,t=0!=(1&r.mode),i){case"dialog":rh("cancel",s),rh("close",s);break;case"iframe":case"object":case"embed":rh("load",s);break;case"video":case"audio":for(p=0;p<rs.length;p++)rh(rs[p],s);break;case"source":rh("error",s);break;case"img":case"image":case"link":rh("error",s),rh("load",s);break;case"details":rh("toggle",s);break;case"input":el(s,v),rh("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!v.multiple},rh("invalid",s);break;case"textarea":em(s,v),rh("invalid",s)}for(var y in eD(i,v),p=null,v)if(v.hasOwnProperty(y)){var _=v[y];"children"===y?"string"==typeof _?s.textContent!==_&&(!0!==v.suppressHydrationWarning&&rA(s.textContent,_,t),p=["children",_]):"number"==typeof _&&s.textContent!==""+_&&(!0!==v.suppressHydrationWarning&&rA(s.textContent,_,t),p=["children",""+_]):b.hasOwnProperty(y)&&null!=_&&"onScroll"===y&&rh("scroll",s)}switch(i){case"input":ei(s),eh(s,v,!0);break;case"textarea":ei(s),ey(s);break;case"select":case"option":break;default:"function"==typeof v.onClick&&(s.onclick=rM)}s=p,r.updateQueue=s,null!==s&&(r.flags|=4)}else{y=9===p.nodeType?p:p.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=ex(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=y.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof s.is?t=y.createElement(i,{is:s.is}):(t=y.createElement(i),"select"===i&&(y=t,s.multiple?y.multiple=!0:s.size&&(y.size=s.size))):t=y.createElementNS(t,i),t[rF]=r,t[rU]=s,u(t,r,!1,!1),r.stateNode=t;e:{switch(y=eR(i,s),i){case"dialog":rh("cancel",t),rh("close",t),p=s;break;case"iframe":case"object":case"embed":rh("load",t),p=s;break;case"video":case"audio":for(p=0;p<rs.length;p++)rh(rs[p],t);p=s;break;case"source":rh("error",t),p=s;break;case"img":case"image":case"link":rh("error",t),rh("load",t),p=s;break;case"details":rh("toggle",t),p=s;break;case"input":el(t,s),p=es(t,s),rh("invalid",t);break;case"option":default:p=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},p=q({},s,{value:void 0}),rh("invalid",t);break;case"textarea":em(t,s),p=eg(t,s),rh("invalid",t)}for(v in eD(i,p),_=p)if(_.hasOwnProperty(v)){var w=_[v];"style"===v?eE(t,w):"dangerouslySetInnerHTML"===v?null!=(w=w?w.__html:void 0)&&eS(t,w):"children"===v?"string"==typeof w?("textarea"!==i||""!==w)&&eA(t,w):"number"==typeof w&&eA(t,""+w):"suppressContentEditableWarning"!==v&&"suppressHydrationWarning"!==v&&"autoFocus"!==v&&(b.hasOwnProperty(v)?null!=w&&"onScroll"===v&&rh("scroll",t):null!=w&&B(t,v,w,y))}switch(i){case"input":ei(t),eh(t,s,!1);break;case"textarea":ei(t),ey(t);break;case"option":null!=s.value&&t.setAttribute("value",""+en(s.value));break;case"select":t.multiple=!!s.multiple,null!=(v=s.value)?ep(t,!!s.multiple,v,!1):null!=s.defaultValue&&ep(t,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof p.onClick&&(t.onclick=rM)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}null!==r.ref&&(r.flags|=512,r.flags|=2097152)}return oU(r),null;case 6:if(t&&null!=r.stateNode)f(t,r,t.memoizedProps,s);else{if("string"!=typeof s&&null===r.stateNode)throw Error(x(166));if(i=an(at.current),an(i7.current),iI(r)){if(s=r.stateNode,i=r.memoizedProps,s[rF]=r,(v=s.nodeValue!==i)&&null!==(t=i_))switch(t.tag){case 3:rA(s.nodeValue,i,0!=(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&rA(s.nodeValue,i,0!=(1&t.mode))}v&&(r.flags|=4)}else(s=(9===i.nodeType?i:i.ownerDocument).createTextNode(s))[rF]=r,r.stateNode=s}return oU(r),null;case 13:if(rQ(as),s=r.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(iw&&null!==ib&&0!=(1&r.mode)&&0==(128&r.flags))iD(),iR(),r.flags|=98560,v=!1;else if(v=iI(r),null!==s&&null!==s.dehydrated){if(null===t){if(!v)throw Error(x(318));if(!(v=null!==(v=r.memoizedState)?v.dehydrated:null))throw Error(x(317));v[rF]=r}else iR(),0==(128&r.flags)&&(r.memoizedState=null),r.flags|=4;oU(r),v=!1}else null!==iS&&(sk(iS),iS=null),v=!0;if(!v)return 65536&r.flags?r:null}if(0!=(128&r.flags))return r.lanes=i,r;return(s=null!==s)!=(null!==t&&null!==t.memoizedState)&&s&&(r.child.flags|=8192,0!=(1&r.mode)&&(null===t||0!=(1&as.current)?0===su&&(su=3):sj())),null!==r.updateQueue&&(r.flags|=4),oU(r),null;case 4:return ai(),c(t,r),null===t&&rp(r.stateNode.containerInfo),oU(r),null;case 10:return iW(r.type._context),oU(r),null;case 19:if(rQ(as),null===(v=r.memoizedState))return oU(r),null;if(s=0!=(128&r.flags),null===(y=v.rendering)){if(s)oF(v,!1);else{if(0!==su||null!==t&&0!=(128&t.flags))for(t=r.child;null!==t;){if(null!==(y=al(t))){for(r.flags|=128,oF(v,!1),null!==(s=y.updateQueue)&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=i,i=r.child;null!==i;)v=i,t=s,v.flags&=0xe00002,null===(y=v.alternate)?(v.childLanes=0,v.lanes=t,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=y.childLanes,v.lanes=y.lanes,v.child=y.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=y.memoizedProps,v.memoizedState=y.memoizedState,v.updateQueue=y.updateQueue,v.type=y.type,t=y.dependencies,v.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return rq(as,1&as.current|2),r.child}t=t.sibling}null!==v.tail&&e6()>sv&&(r.flags|=128,s=!0,oF(v,!1),r.lanes=4194304)}}else{if(!s){if(null!==(t=al(y))){if(r.flags|=128,s=!0,null!==(i=t.updateQueue)&&(r.updateQueue=i,r.flags|=4),oF(v,!0),null===v.tail&&"hidden"===v.tailMode&&!y.alternate&&!iw)return oU(r),null}else 2*e6()-v.renderingStartTime>sv&&0x40000000!==i&&(r.flags|=128,s=!0,oF(v,!1),r.lanes=4194304)}v.isBackwards?(y.sibling=r.child,r.child=y):(null!==(i=v.last)?i.sibling=y:r.child=y,v.last=y)}if(null!==v.tail)return r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=e6(),r.sibling=null,i=as.current,rq(as,s?1&i|2:1&i),r;return oU(r),null;case 22:case 23:return sz(),s=null!==r.memoizedState,null!==t&&null!==t.memoizedState!==s&&(r.flags|=8192),s&&0!=(1&r.mode)?0!=(0x40000000&ss)&&(oU(r),6&r.subtreeFlags&&(r.flags|=8192)):oU(r),null;case 24:case 25:return null}throw Error(x(156,r.tag))}(i,r,ss))){sa=i;return}}else{if(null!==(i=function(t,r){switch(ix(r),r.tag){case 1:return r5(r.type)&&r4(),65536&(t=r.flags)?(r.flags=-65537&t|128,r):null;case 3:return ai(),rQ(r1),rQ(r0),ac(),0!=(65536&(t=r.flags))&&0==(128&t)?(r.flags=-65537&t|128,r):null;case 5:return ao(r),null;case 13:if(rQ(as),null!==(t=r.memoizedState)&&null!==t.dehydrated){if(null===r.alternate)throw Error(x(340));iR()}return 65536&(t=r.flags)?(r.flags=-65537&t|128,r):null;case 19:return rQ(as),null;case 4:return ai(),null;case 10:return iW(r.type._context),null;case 22:case 23:return sz(),null;default:return null}}(i,r))){i.flags&=32767,sa=i;return}if(null!==t)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{su=6,sa=null;return}}if(null!==(r=r.sibling)){sa=r;return}sa=r=t}while(null!==r);0===su&&(su=5)}function sZ(t,r,i){var s=tx,u=sn.transition;try{sn.transition=null,tx=1,function(t,r,i,s){do sK();while(null!==sS);if(0!=(6&sr))throw Error(x(327));i=t.finishedWork;var u=t.finishedLanes;if(null===i)return;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var c=i.lanes|i.childLanes;if(!function(t,r){var i=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<i;){var u=31-ts(i),c=1<<u;r[u]=0,s[u]=-1,t[u]=-1,i&=~c}}(t,c),t===si&&(sa=si=null,so=0),0==(2064&i.subtreeFlags)&&0==(2064&i.flags)||sw||(sw=!0,function(t,r){e5(t,r)}(tn,function(){return sK(),null})),c=0!=(15990&i.flags),0!=(15990&i.subtreeFlags)||c){c=sn.transition,sn.transition=null;var h,f,p,v=tx;tx=1;var y=sr;sr|=4,st.current=null,!function(t,r){if(rC=tj,nJ(t=nK())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{var s=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(s&&0!==s.rangeCount){i=s.anchorNode;var u,c=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{i.nodeType,h.nodeType}catch(t){i=null;break e}var f=0,p=-1,v=-1,y=0,_=0,b=t,w=null;t:for(;;){for(;b!==i||0!==c&&3!==b.nodeType||(p=f+c),b!==h||0!==s&&3!==b.nodeType||(v=f+s),3===b.nodeType&&(f+=b.nodeValue.length),null!==(u=b.firstChild);){;w=b,b=u}for(;;){if(b===t)break t;if(w===i&&++y===c&&(p=f),w===h&&++_===s&&(v=f),null!==(u=b.nextSibling))break;w=(b=w).parentNode}b=u}i=-1===p||-1===v?null:{start:p,end:v}}else i=null}i=i||{start:0,end:0}}else i=null;for(rT={focusedElem:t,selectionRange:i},tj=!1,oV=r;null!==oV;)if(t=(r=oV).child,0!=(1028&r.subtreeFlags)&&null!==t)t.return=r,oV=t;else for(;null!==oV;){r=oV;try{var S=r.alternate;if(0!=(1024&r.flags))switch(r.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==S){var A=S.memoizedProps,M=S.memoizedState,C=r.stateNode,T=C.getSnapshotBeforeUpdate(r.elementType===r.type?A:a7(r.type,A),M);C.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=r.stateNode.containerInfo;1===I.nodeType?I.textContent="":9===I.nodeType&&I.documentElement&&I.removeChild(I.documentElement);break;default:throw Error(x(163))}}catch(t){sQ(r,r.return,t)}if(null!==(t=r.sibling)){t.return=r.return,oV=t;break}oV=r.return}S=oX,oX=!1}(t,i),o5(i,t),!function(t){var r=nK(),i=t.focusedElem,s=t.selectionRange;if(r!==i&&i&&i.ownerDocument&&function t(r,i){return!!r&&!!i&&(r===i||(!r||3!==r.nodeType)&&(i&&3===i.nodeType?t(r,i.parentNode):"contains"in r?r.contains(i):!!r.compareDocumentPosition&&!!(16&r.compareDocumentPosition(i))))}(i.ownerDocument.documentElement,i)){if(null!==s&&nJ(i)){if(r=s.start,void 0===(t=s.end)&&(t=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(t,i.value.length);else if((t=(r=i.ownerDocument||document)&&r.defaultView||window).getSelection){t=t.getSelection();var u=i.textContent.length,c=Math.min(s.start,u);s=void 0===s.end?c:Math.min(s.end,u),!t.extend&&c>s&&(u=s,s=c,c=u),u=nZ(i,c);var h=nZ(i,s);u&&h&&(1!==t.rangeCount||t.anchorNode!==u.node||t.anchorOffset!==u.offset||t.focusNode!==h.node||t.focusOffset!==h.offset)&&((r=r.createRange()).setStart(u.node,u.offset),t.removeAllRanges(),c>s?(t.addRange(r),t.extend(h.node,h.offset)):(r.setEnd(h.node,h.offset),t.addRange(r)))}}for(r=[],t=i;t=t.parentNode;)1===t.nodeType&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<r.length;i++)(t=r[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}(rT),tj=!!rC,rT=rC=null,t.current=i,h=i,f=t,p=u,oV=h,function t(r,i,s){for(var u=0!=(1&r.mode);null!==oV;){var c=oV,h=c.child;if(22===c.tag&&u){var f=null!==c.memoizedState||oz;if(!f){var p=c.alternate,v=null!==p&&null!==p.memoizedState||oG;p=oz;var y=oG;if(oz=f,(oG=v)&&!y)for(oV=c;null!==oV;)v=(f=oV).child,22===f.tag&&null!==f.memoizedState?o6(c):null!==v?(v.return=f,oV=v):o6(c);for(;null!==h;)oV=h,t(h,i,s),h=h.sibling;oV=c,oz=p,oG=y}o9(r,i,s)}else 0!=(8772&c.subtreeFlags)&&null!==h?(h.return=c,oV=h):o9(r,i,s)}}(h,f,p),e8(),sr=y,tx=v,sn.transition=c}else t.current=i;if(sw&&(sw=!1,sS=t,sA=u),0===(c=t.pendingLanes)&&(sb=null),!function(t){if(to&&"function"==typeof to.onCommitFiberRoot)try{to.onCommitFiberRoot(ta,t,void 0,128==(128&t.current.flags))}catch(t){}}(i.stateNode,s),sP(t,e6()),null!==r)for(s=t.onRecoverableError,i=0;i<r.length;i++)s((u=r[i]).value,{componentStack:u.stack,digest:u.digest});if(sx)throw sx=!1,t=s_,s_=null,t;0!=(1&sA)&&0!==t.tag&&sK(),0!=(1&(c=t.pendingLanes))?t===sC?sM++:(sM=0,sC=t):sM=0,ia()}(t,r,i,s)}finally{sn.transition=u,tx=s}return null}function sK(){if(null!==sS){var t=t_(sA),r=sn.transition,i=tx;try{if(sn.transition=null,tx=16>t?16:t,null===sS)var s=!1;else{if(t=sS,sS=null,sA=0,0!=(6&sr))throw Error(x(331));var u=sr;for(sr|=4,oV=t.current;null!==oV;){var c=oV,h=c.child;if(0!=(16&oV.flags)){var f=c.deletions;if(null!==f){for(var p=0;p<f.length;p++){var v=f[p];for(oV=v;null!==oV;){var y=oV;switch(y.tag){case 0:case 11:case 15:oY(8,y,c)}var _=y.child;if(null!==_)_.return=y,oV=_;else for(;null!==oV;){var b=(y=oV).sibling,w=y.return;if(!function t(r){var i=r.alternate;null!==i&&(r.alternate=null,t(i)),r.child=null,r.deletions=null,r.sibling=null,5===r.tag&&null!==(i=r.stateNode)&&(delete i[rF],delete i[rU],delete i[rG],delete i[rH],delete i[rV]),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}(y),y===v){oV=null;break}if(null!==b){b.return=w,oV=b;break}oV=w}}}var S=c.alternate;if(null!==S){var A=S.child;if(null!==A){S.child=null;do{var M=A.sibling;A.sibling=null,A=M}while(null!==A)}}oV=c}}if(0!=(2064&c.subtreeFlags)&&null!==h)h.return=c,oV=h;else for(;null!==oV;){if(c=oV,0!=(2048&c.flags))switch(c.tag){case 0:case 11:case 15:oY(9,c,c.return)}var C=c.sibling;if(null!==C){C.return=c.return,oV=C;break}oV=c.return}}var T=t.current;for(oV=T;null!==oV;){var I=(h=oV).child;if(0!=(2064&h.subtreeFlags)&&null!==I)I.return=h,oV=I;else for(h=T;null!==oV;){if(f=oV,0!=(2048&f.flags))try{switch(f.tag){case 0:case 11:case 15:oZ(9,f)}}catch(t){sQ(f,f.return,t)}if(f===h){oV=null;break}var D=f.sibling;if(null!==D){D.return=f.return,oV=D;break}oV=f.return}}if(sr=u,ia(),to&&"function"==typeof to.onPostCommitFiberRoot)try{to.onPostCommitFiberRoot(ta,t)}catch(t){}s=!0}return s}finally{tx=i,sn.transition=r}}return!1}function sJ(t,r,i){r=oc(t,r=oo(i,r),1),t=i3(t,r,1),r=sI(),null!==t&&(tv(t,1,r),sP(t,r))}function sQ(t,r,i){if(3===t.tag)sJ(t,t,i);else for(;null!==r;){if(3===r.tag){sJ(r,t,i);break}if(1===r.tag){var s=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof s.componentDidCatch&&(null===sb||!sb.has(s))){t=oh(r,t=oo(i,t),1),r=i3(r,t,1),t=sI(),null!==r&&(tv(r,1,t),sP(r,t));break}}r=r.return}}function sq(t,r,i){var s=t.pingCache;null!==s&&s.delete(r),r=sI(),t.pingedLanes|=t.suspendedLanes&i,si===t&&(so&i)===i&&(4===su||3===su&&(0x7c00000&so)===so&&500>e6()-sm?sG(t,0):sf|=i),sP(t,r)}function s$(t,r){0===r&&(0==(1&t.mode)?r=1:(r=th,0==(0x7c00000&(th<<=1))&&(th=4194304)));var i=sI();null!==(t=iq(t,r))&&(tv(t,r,i),sP(t,i))}function s0(t){var r=t.memoizedState,i=0;null!==r&&(i=r.retryLane),s$(t,i)}function s1(t,r){var i=0;switch(t.tag){case 13:var s=t.stateNode,u=t.memoizedState;null!==u&&(i=u.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(x(314))}null!==s&&s.delete(r),s$(t,i)}function s2(t,r){return e5(t,r)}function s3(t,r,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function s5(t,r,i,s){return new s3(t,r,i,s)}function s4(t){return!(!(t=t.prototype)||!t.isReactComponent)}p=function(t,r,i){if(null!==t){if(t.memoizedProps!==r.pendingProps||r1.current)om=!0;else{if(0==(t.lanes&i)&&0==(128&r.flags))return om=!1,function(t,r,i){switch(r.tag){case 3:oC(r),iR();break;case 5:aa(r);break;case 1:r5(r.type)&&r6(r);break;case 4:ar(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,u=r.memoizedProps.value;rq(iz,s._currentValue),s._currentValue=u;break;case 13:if(null!==(s=r.memoizedState)){if(null!==s.dehydrated)return rq(as,1&as.current),r.flags|=128,null;if(0!=(i&r.child.childLanes))return oD(t,r,i);return rq(as,1&as.current),null!==(t=oN(t,r,i))?t.sibling:null}rq(as,1&as.current);break;case 19:if(s=0!=(i&r.childLanes),0!=(128&t.flags)){if(s)return ok(t,r,i);r.flags|=128}if(null!==(u=r.memoizedState)&&(u.rendering=null,u.tail=null,u.lastEffect=null),rq(as,as.current),!s)return null;break;case 22:case 23:return r.lanes=0,ob(t,r,i)}return oN(t,r,i)}(t,r,i);om=0!=(131072&t.flags)}}else om=!1,iw&&0!=(1048576&r.flags)&&iv(r,iu,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;oO(t,r),t=r.pendingProps;var u=r3(r,r0.current);iY(r,i),u=aS(null,r,s,t,u,i);var c=aA();return r.flags|=1,"object"==typeof u&&null!==u&&"function"==typeof u.render&&void 0===u.$$typeof?(r.tag=1,r.memoizedState=null,r.updateQueue=null,r5(s)?(c=!0,r6(r)):c=!1,r.memoizedState=null!==u.state&&void 0!==u.state?u.state:null,i0(r),u.updater=ot,r.stateNode=u,u._reactInternals=r,oa(r,s,t,i),r=oM(null,r,s,!0,c,i)):(r.tag=0,iw&&c&&iy(r),ov(null,r,u,i),r=r.child),r;case 16:s=r.elementType;e:{switch(oO(t,r),t=r.pendingProps,s=(u=s._init)(s._payload),r.type=s,u=r.tag=function(t){if("function"==typeof t)return s4(t)?1:0;if(null!=t){if((t=t.$$typeof)===V)return 11;if(t===X)return 14}return 2}(s),t=a7(s,t),u){case 0:r=oS(null,r,s,t,i);break e;case 1:r=oA(null,r,s,t,i);break e;case 11:r=oy(null,r,s,t,i);break e;case 14:r=ox(null,r,s,a7(s.type,t),i);break e}throw Error(x(306,s,""))}return r;case 0:return s=r.type,u=r.pendingProps,u=r.elementType===s?u:a7(s,u),oS(t,r,s,u,i);case 1:return s=r.type,u=r.pendingProps,u=r.elementType===s?u:a7(s,u),oA(t,r,s,u,i);case 3:e:{if(oC(r),null===t)throw Error(x(387));s=r.pendingProps,u=(c=r.memoizedState).element,i1(t,r),i9(r,s,null,i);var h=r.memoizedState;if(s=h.element,c.isDehydrated){if(c={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},r.updateQueue.baseState=c,r.memoizedState=c,256&r.flags){u=oo(Error(x(423)),r),r=oT(t,r,s,i,u);break e}else if(s!==u){u=oo(Error(x(424)),r),r=oT(t,r,s,i,u);break e}else for(ib=rk(r.stateNode.containerInfo.firstChild),i_=r,iw=!0,iS=null,i=iU(r,null,s,i),r.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(iR(),s===u){r=oN(t,r,i);break e}ov(t,r,s,i)}r=r.child}return r;case 5:return aa(r),null===t&&iT(r),s=r.type,u=r.pendingProps,c=null!==t?t.memoizedProps:null,h=u.children,rE(s,u)?h=null:null!==c&&rE(s,c)&&(r.flags|=32),ow(t,r),ov(t,r,h,i),r.child;case 6:return null===t&&iT(r),null;case 13:return oD(t,r,i);case 4:return ar(r,r.stateNode.containerInfo),s=r.pendingProps,null===t?r.child=iF(r,null,s,i):ov(t,r,s,i),r.child;case 11:return s=r.type,u=r.pendingProps,u=r.elementType===s?u:a7(s,u),oy(t,r,s,u,i);case 7:return ov(t,r,r.pendingProps,i),r.child;case 8:case 12:return ov(t,r,r.pendingProps.children,i),r.child;case 10:e:{if(s=r.type._context,u=r.pendingProps,c=r.memoizedProps,h=u.value,rq(iz,s._currentValue),s._currentValue=h,null!==c){if(nW(c.value,h)){if(c.children===u.children&&!r1.current){r=oN(t,r,i);break e}}else for(null!==(c=r.child)&&(c.return=r);null!==c;){var f=c.dependencies;if(null!==f){h=c.child;for(var p=f.firstContext;null!==p;){if(p.context===s){if(1===c.tag){(p=i2(-1,i&-i)).tag=2;var v=c.updateQueue;if(null!==v){var y=(v=v.shared).pending;null===y?p.next=p:(p.next=y.next,y.next=p),v.pending=p}}c.lanes|=i,null!==(p=c.alternate)&&(p.lanes|=i),iX(c.return,i,r),f.lanes|=i;break}p=p.next}}else if(10===c.tag)h=c.type===r.type?null:c.child;else if(18===c.tag){if(null===(h=c.return))throw Error(x(341));h.lanes|=i,null!==(f=h.alternate)&&(f.lanes|=i),iX(h,i,r),h=c.sibling}else h=c.child;if(null!==h)h.return=c;else for(h=c;null!==h;){if(h===r){h=null;break}if(null!==(c=h.sibling)){c.return=h.return,h=c;break}h=h.return}c=h}}ov(t,r,u.children,i),r=r.child}return r;case 9:return u=r.type,s=r.pendingProps.children,iY(r,i),s=s(u=iZ(u)),r.flags|=1,ov(t,r,s,i),r.child;case 14:return u=a7(s=r.type,r.pendingProps),u=a7(s.type,u),ox(t,r,s,u,i);case 15:return o_(t,r,r.type,r.pendingProps,i);case 17:return s=r.type,u=r.pendingProps,u=r.elementType===s?u:a7(s,u),oO(t,r),r.tag=1,r5(s)?(t=!0,r6(r)):t=!1,iY(r,i),or(r,s,u),oa(r,s,u,i),oM(null,r,s,!0,t,i);case 19:return ok(t,r,i);case 22:return ob(t,r,i)}throw Error(x(156,r.tag))};function s9(t,r){var i=t.alternate;return null===i?((i=s5(t.tag,r,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=r,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=0xe00000&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,r=t.dependencies,i.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function s8(t,r,i,s,u,c){var h=2;if(s=t,"function"==typeof t)s4(t)&&(h=1);else if("string"==typeof t)h=5;else e:switch(t){case F:return s6(i.children,u,c,r);case U:h=8,u|=8;break;case z:return(t=s5(12,i,r,2|u)).elementType=z,t.lanes=c,t;case j:return(t=s5(13,i,r,u)).elementType=j,t.lanes=c,t;case W:return(t=s5(19,i,r,u)).elementType=W,t.lanes=c,t;case Z:return s7(i,u,c,r);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case G:h=10;break e;case H:h=9;break e;case V:h=11;break e;case X:h=14;break e;case Y:h=16,s=null;break e}throw Error(x(130,null==t?t:typeof t,""))}return(r=s5(h,i,r,u)).elementType=t,r.type=s,r.lanes=c,r}function s6(t,r,i,s){return(t=s5(7,t,s,r)).lanes=i,t}function s7(t,r,i,s){return(t=s5(22,t,s,r)).elementType=Z,t.lanes=i,t.stateNode={isHidden:!1},t}function le(t,r,i){return(t=s5(6,t,null,r)).lanes=i,t}function lt(t,r,i){return(r=s5(4,null!==t.children?t.children:[],t.key,r)).lanes=i,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function ln(t,r,i,s,u){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tm(0),this.expirationTimes=tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tm(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function lr(t,r,i,s,u,c,h,f,p){return t=new ln(t,r,i,f,p),1===r?(r=1,!0===c&&(r|=8)):r=0,c=s5(3,null,null,r),t.current=c,c.stateNode=t,c.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},i0(c),t}function li(t){if(!t)return r$;t=t._reactInternals;e:{if(e0(t)!==t||1!==t.tag)throw Error(x(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(r5(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(null!==r);throw Error(x(171))}if(1===t.tag){var i=t.type;if(r5(i))return r8(t,i,r)}return r}function la(t,r,i,s,u,c,h,f,p){return(t=lr(i,s,!0,t,u,c,h,f,p)).context=li(null),i=t.current,s=sI(),(c=i2(s,u=sD(i))).callback=null!=r?r:null,i3(i,c,u),t.current.lanes=u,tv(t,u,s),sP(t,s),t}function lo(t,r,i,s){var u=r.current,c=sI(),h=sD(u);return i=li(i),null===r.context?r.context=i:r.pendingContext=i,(r=i2(c,h)).payload={element:t},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(t=i3(u,r,h))&&(sR(t,u,h,c),i5(t,u,h)),h}function ls(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function ll(t,r){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<r?i:r}}function lu(t,r){ll(t,r),(t=t.alternate)&&ll(t,r)}var lc="function"==typeof reportError?reportError:function(t){};function lh(t){this._internalRoot=t}function ld(t){this._internalRoot=t}function lf(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function lp(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function lg(){}ld.prototype.render=lh.prototype.render=function(t){var r=this._internalRoot;if(null===r)throw Error(x(409));lo(t,r,null,null)},ld.prototype.unmount=lh.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var r=t.containerInfo;sU(function(){lo(null,t,null,null)}),r[rz]=null}},ld.prototype.unstable_scheduleHydration=function(t){if(t){var r=tA();t={blockedOn:null,target:t,priority:r};for(var i=0;i<tL.length&&0!==r&&r<tL[i].priority;i++);tL.splice(i,0,t),0===i&&tN(t)}};function lm(t,r,i,s,u){var c=i._reactRootContainer;if(c){var h=c;if("function"==typeof u){var f=u;u=function(){var t=ls(h);f.call(t)}}lo(r,h,t,u)}else h=function(t,r,i,s,u){if(u){if("function"==typeof s){var c=s;s=function(){var t=ls(h);c.call(t)}}var h=la(r,s,t,0,null,!1,!1,"",lg);return t._reactRootContainer=h,t[rz]=h.current,rp(8===t.nodeType?t.parentNode:t),sU(),h}for(;u=t.lastChild;)t.removeChild(u);if("function"==typeof s){var f=s;s=function(){var t=ls(p);f.call(t)}}var p=lr(t,0,!1,null,null,!1,!1,"",lg);return t._reactRootContainer=p,t[rz]=p.current,rp(8===t.nodeType?t.parentNode:t),sU(function(){lo(r,p,i,s)}),p}(i,r,t,u,s);return ls(h)}tb=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var i=td(r.pendingLanes);0!==i&&(ty(r,1|i),sP(r,e6()),0==(6&sr)&&(sv=e6()+500,ia()))}break;case 13:sU(function(){var r=iq(t,1);null!==r&&sR(r,t,1,sI())}),lu(t,1)}},tw=function(t){if(13===t.tag){var r=iq(t,0x8000000);null!==r&&sR(r,t,0x8000000,sI()),lu(t,0x8000000)}},tS=function(t){if(13===t.tag){var r=sD(t),i=iq(t,r);null!==i&&sR(i,t,r,sI()),lu(t,r)}},tA=function(){return tx},tM=function(t,r){var i=tx;try{return tx=t,r()}finally{tx=i}},eB=function(t,r,i){switch(r){case"input":if(ec(t,i),r=i.name,"radio"===i.type&&null!=r){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<i.length;r++){var s=i[r];if(s!==t&&s.form===t.form){var u=rY(s);if(!u)throw Error(x(90));ea(s),ec(s,u)}}}break;case"textarea":ev(t,i);break;case"select":null!=(r=i.value)&&ep(t,!!i.multiple,r,!1)}},ez=sF,eG=sU;var lv={findFiberByHostInstance:rj,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ly={bundleType:lv.bundleType,version:lv.version,rendererPackageName:lv.rendererPackageName,rendererConfig:lv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=e3(t))?null:t.stateNode},findFiberByHostInstance:lv.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lx.isDisabled&&lx.supportsFiber)try{ta=lx.inject(ly),to=lx}catch(t){}}r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={usingClientEntryPoint:!1,Events:[rW,rX,rY,eF,eU,sF]},r.createPortal=function(t,r){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lf(r))throw Error(x(200));return function(t,r,i){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==s?null:""+s,children:t,containerInfo:r,implementation:i}}(t,r,null,i)},r.createRoot=function(t,r){if(!lf(t))throw Error(x(299));var i=!1,s="",u=lc;return null!=r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(u=r.onRecoverableError)),r=lr(t,1,!1,null,null,i,!1,s,u),t[rz]=r.current,rp(8===t.nodeType?t.parentNode:t),new lh(r)},r.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var r=t._reactInternals;if(void 0===r){if("function"==typeof t.render)throw Error(x(188));throw Error(x(268,t=Object.keys(t).join(",")))}return t=null===(t=e3(r))?null:t.stateNode},r.flushSync=function(t){return sU(t)},r.hydrate=function(t,r,i){if(!lp(r))throw Error(x(200));return lm(null,t,r,!0,i)},r.hydrateRoot=function(t,r,i){if(!lf(t))throw Error(x(405));var s=null!=i&&i.hydratedSources||null,u=!1,c="",h=lc;if(null!=i&&(!0===i.unstable_strictMode&&(u=!0),void 0!==i.identifierPrefix&&(c=i.identifierPrefix),void 0!==i.onRecoverableError&&(h=i.onRecoverableError)),r=la(r,null,t,1,null!=i?i:null,u,!1,c,h),t[rz]=r.current,rp(t),s)for(t=0;t<s.length;t++)u=(u=(i=s[t])._getVersion)(i._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[i,u]:r.mutableSourceEagerHydrationData.push(i,u);return new ld(r)},r.render=function(t,r,i){if(!lp(r))throw Error(x(200));return lm(null,t,r,!1,i)},r.unmountComponentAtNode=function(t){if(!lp(t))throw Error(x(40));return!!t._reactRootContainer&&(sU(function(){lm(null,null,t,!1,function(){t._reactRootContainer=null,t[rz]=null})}),!0)},r.unstable_batchedUpdates=sF,r.unstable_renderSubtreeIntoContainer=function(t,r,i,s){if(!lp(i))throw Error(x(200));if(null==t||void 0===t._reactInternals)throw Error(x(38));return lm(t,r,i,!1,s)},r.version="18.3.1-next-f1338f8080-20240426"},8751:function(t,r,i){"use strict";var s=i(967);r.createRoot=s.createRoot,r.hydrateRoot=s.hydrateRoot},967:function(t,r,i){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){}}(),t.exports=i(6521)},4359:function(t,r){"use strict";var i;r.ConcurrentRoot=1,r.ContinuousEventPriority=4,r.DefaultEventPriority=16,r.DiscreteEventPriority=1},1041:function(t,r,i){t.exports=function(t){"use strict";var r,s,u,c,h,f={},p=i(5271),v=i(5297),y=Object.assign;function x(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var k=Symbol.iterator;function O(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=k&&t[k]||t["@@iterator"])?t:null}function N(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case S:return"Fragment";case w:return"Portal";case M:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case R:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case I:var r=t.render;return(t=t.displayName)||(t=""!==(t=r.displayName||r.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case P:return null!==(r=t.displayName||null)?r:N(t.type)||"Memo";case L:r=t._payload,t=t._init;try{return N(t(r))}catch(t){}}return null}function F(t){var r=t,i=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do 0!=(4098&(r=t).flags)&&(i=r.return),t=r.return;while(t)}return 3===r.tag?i:null}function U(t){if(F(t)!==t)throw Error(x(188))}function z(t){var r=t.alternate;if(!r){if(null===(r=F(t)))throw Error(x(188));return r!==t?null:t}for(var i=t,s=r;;){var u=i.return;if(null===u)break;var c=u.alternate;if(null===c){if(null!==(s=u.return)){i=s;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===i)return U(u),t;if(c===s)return U(u),r;c=c.sibling}throw Error(x(188))}if(i.return!==s.return)i=u,s=c;else{for(var h=!1,f=u.child;f;){if(f===i){h=!0,i=u,s=c;break}if(f===s){h=!0,s=u,i=c;break}f=f.sibling}if(!h){for(f=c.child;f;){if(f===i){h=!0,i=c,s=u;break}if(f===s){h=!0,s=c,i=u;break}f=f.sibling}if(!h)throw Error(x(189))}}if(i.alternate!==s)throw Error(x(190))}if(3!==i.tag)throw Error(x(188));return i.stateNode.current===i?t:r}function G(t){return null!==(t=z(t))?function t(r){if(5===r.tag||6===r.tag)return r;for(r=r.child;null!==r;){var i=t(r);if(null!==i)return i;r=r.sibling}return null}(t):null}var H,V=Array.isArray,j=t.getPublicInstance,W=t.getRootHostContext,X=t.getChildHostContext,Y=t.prepareForCommit,Z=t.resetAfterCommit,K=t.createInstance,J=t.appendInitialChild,Q=t.finalizeInitialChildren,q=t.prepareUpdate,$=t.shouldSetTextContent,ee=t.createTextInstance,et=t.scheduleTimeout,en=t.cancelTimeout,er=t.noTimeout,ei=t.isPrimaryRenderer,ea=t.supportsMutation,eo=t.supportsPersistence,es=t.supportsHydration,el=t.getInstanceFromNode,eu=t.preparePortalMount,ec=t.getCurrentEventPriority,eh=t.detachDeletedInstance,ed=t.supportsMicrotasks,ef=t.scheduleMicrotask,ep=t.supportsTestSelectors,eg=t.findFiberRoot,em=t.getBoundingRect,ev=t.getTextContent,ey=t.isHiddenSubtree,ex=t.matchAccessibilityRole,e_=t.setFocusIfFocusable,eb=t.setupIntersectionObserver,ew=t.appendChild,eS=t.appendChildToContainer,eA=t.commitTextUpdate,eM=t.commitMount,eC=t.commitUpdate,eT=t.insertBefore,eE=t.insertInContainerBefore,eI=t.removeChild,eD=t.removeChildFromContainer,eR=t.resetTextContent,eP=t.hideInstance,eL=t.hideTextInstance,eB=t.unhideInstance,ek=t.unhideTextInstance,eO=t.clearContainer,eN=t.cloneInstance,eF=t.createContainerChildSet,eU=t.appendChildToContainerChildSet,ez=t.finalizeContainerChildren,eG=t.replaceContainerChildren,eH=t.cloneHiddenInstance,eV=t.cloneHiddenTextInstance,ej=t.canHydrateInstance,eW=t.canHydrateTextInstance,eX=t.canHydrateSuspenseInstance,eY=t.isSuspenseInstancePending,eZ=t.isSuspenseInstanceFallback,eK=t.registerSuspenseInstanceRetry,eJ=t.getNextHydratableSibling,eQ=t.getFirstHydratableChild,eq=t.getFirstHydratableChildWithinContainer,e$=t.getFirstHydratableChildWithinSuspenseInstance,e0=t.hydrateInstance,e1=t.hydrateTextInstance,e2=t.hydrateSuspenseInstance,e3=t.getNextHydratableInstanceAfterSuspenseInstance,e5=t.commitHydratedContainer,e4=t.commitHydratedSuspenseInstance,e9=t.clearSuspenseBoundary,e8=t.clearSuspenseBoundaryFromContainer,e6=t.shouldDeleteUnhydratedTailInstances,e7=t.didNotMatchHydratedContainerTextInstance,te=t.didNotMatchHydratedTextInstance;function tt(t){if(void 0===H)try{throw Error()}catch(t){var r=t.stack.trim().match(/\n( *(at )?)/);H=r&&r[1]||""}return"\n"+H+t}var tn=!1;function tr(t,r){if(!t||tn)return"";tn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r){if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(t){var s=t}Reflect.construct(t,[],r)}else{try{r.call()}catch(t){s=t}t.call(r.prototype)}}else{try{throw Error()}catch(t){s=t}t()}}catch(r){if(r&&s&&"string"==typeof r.stack){for(var u=r.stack.split("\n"),c=s.stack.split("\n"),h=u.length-1,f=c.length-1;1<=h&&0<=f&&u[h]!==c[f];)f--;for(;1<=h&&0<=f;h--,f--)if(u[h]!==c[f]){if(1!==h||1!==f)do if(h--,0>--f||u[h]!==c[f]){var p="\n"+u[h].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=h&&0<=f);break}}}finally{tn=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?tt(t):""}var ti=Object.prototype.hasOwnProperty,ta=[],to=-1;function ts(t){return{current:t}}function tl(t){0>to||(t.current=ta[to],ta[to]=null,to--)}function tu(t,r){ta[++to]=t.current,t.current=r}var tc={},th=ts(tc),td=ts(!1),tf=tc;function tp(t,r){var i=t.type.contextTypes;if(!i)return tc;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var u,c={};for(u in i)c[u]=r[u];return s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=c),c}function tg(t){return null!=(t=t.childContextTypes)}function tm(){tl(td),tl(th)}function tv(t,r,i){if(th.current!==tc)throw Error(x(168));tu(th,r),tu(td,i)}function ty(t,r,i){var s=t.stateNode;if(r=r.childContextTypes,"function"!=typeof s.getChildContext)return i;for(var u in s=s.getChildContext())if(!(u in r))throw Error(x(108,function(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=r.render).displayName||t.name||"",r.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(r);case 8:return r===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof r)return r.displayName||r.name||null;if("string"==typeof r)return r}return null}(t)||"Unknown",u));return y({},i,s)}function tx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tc,tf=th.current,tu(th,t),tu(td,td.current),!0}function t_(t,r,i){var s=t.stateNode;if(!s)throw Error(x(169));i?(t=ty(t,r,tf),s.__reactInternalMemoizedMergedChildContext=t,tl(td),tl(th),tu(th,t)):tl(td),tu(td,i)}var tb=Math.clz32?Math.clz32:function(t){return 0==(t>>>=0)?32:31-(tw(t)/tS|0)|0},tw=Math.log,tS=Math.LN2,tA=64,tM=4194304;function tC(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return 0x7c00000&t;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return t}}function tT(t,r){var i=t.pendingLanes;if(0===i)return 0;var s=0,u=t.suspendedLanes,c=t.pingedLanes,h=0xfffffff&i;if(0!==h){var f=h&~u;0!==f?s=tC(f):0!=(c&=h)&&(s=tC(c))}else 0!=(h=i&~u)?s=tC(h):0!==c&&(s=tC(c));if(0===s)return 0;if(0!==r&&r!==s&&0==(r&u)&&((u=s&-s)>=(c=r&-r)||16===u&&0!=(4194240&c)))return r;if(0!=(4&s)&&(s|=16&i),0!==(r=t.entangledLanes))for(t=t.entanglements,r&=s;0<r;)u=1<<(i=31-tb(r)),s|=t[i],r&=~u;return s}function tE(t){return 0!=(t=-0x40000001&t.pendingLanes)?t:0x40000000&t?0x40000000:0}function tI(t){for(var r=[],i=0;31>i;i++)r.push(t);return r}function tD(t,r,i){t.pendingLanes|=r,0x20000000!==r&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,t[r=31-tb(r)]=i}function tR(t,r){var i=t.entangledLanes|=r;for(t=t.entanglements;i;){var s=31-tb(i),u=1<<s;u&r|t[s]&r&&(t[s]|=r),i&=~u}}var tP=0;function tL(t){return 1<(t&=-t)?4<t?0!=(0xfffffff&t)?16:0x20000000:4:1}var tB=v.unstable_scheduleCallback,tk=v.unstable_cancelCallback,tO=v.unstable_shouldYield,tN=v.unstable_requestPaint,tF=v.unstable_now,tU=v.unstable_ImmediatePriority,tz=v.unstable_UserBlockingPriority,tG=v.unstable_NormalPriority,tH=v.unstable_IdlePriority,tV=null,tj=null,tW="function"==typeof Object.is?Object.is:function(t,r){return t===r&&(0!==t||1/t==1/r)||t!=t&&r!=r},tX=null,tY=!1,tZ=!1;function tK(t){null===tX?tX=[t]:tX.push(t)}function tJ(){if(!tZ&&null!==tX){tZ=!0;var t=0,r=tP;try{var i=tX;for(tP=1;t<i.length;t++){var s=i[t];do s=s(!0);while(null!==s)}tX=null,tY=!1}catch(r){throw null!==tX&&(tX=tX.slice(t+1)),tB(tU,tJ),r}finally{tP=r,tZ=!1}}return null}var tQ=_.ReactCurrentBatchConfig;function tq(t,r){if(tW(t,r))return!0;if("object"!=typeof t||null===t||"object"!=typeof r||null===r)return!1;var i=Object.keys(t),s=Object.keys(r);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var u=i[s];if(!ti.call(r,u)||!tW(t[u],r[u]))return!1}return!0}function t$(t,r){if(t&&t.defaultProps)for(var i in r=y({},r),t=t.defaultProps)void 0===r[i]&&(r[i]=t[i]);return r}var t0=ts(null),t1=null,t2=null,t3=null;function t5(){t3=t2=t1=null}function t4(t,r,i){ei?(tu(t0,r._currentValue),r._currentValue=i):(tu(t0,r._currentValue2),r._currentValue2=i)}function t9(t){var r=t0.current;tl(t0),ei?t._currentValue=r:t._currentValue2=r}function t8(t,r,i){for(;null!==t;){var s=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,null!==s&&(s.childLanes|=r)):null!==s&&(s.childLanes&r)!==r&&(s.childLanes|=r),t===i)break;t=t.return}}function t6(t,r){t1=t,t3=t2=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&r)&&(r7=!0),t.firstContext=null)}function t7(t){var r=ei?t._currentValue:t._currentValue2;if(t3!==t){if(t={context:t,memoizedValue:r,next:null},null===t2){if(null===t1)throw Error(x(308));t2=t,t1.dependencies={lanes:0,firstContext:t}}else t2=t2.next=t}return r}var ne=null,nt=!1;function nn(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nr(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ni(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function na(t,r){var i=t.updateQueue;null!==i&&(i=i.shared,null!==i8&&0!=(1&t.mode)&&0==(2&i9)?(null===(t=i.interleaved)?(r.next=r,null===ne?ne=[i]:ne.push(i)):(r.next=t.next,t.next=r),i.interleaved=r):(null===(t=i.pending)?r.next=r:(r.next=t.next,t.next=r),i.pending=r))}function no(t,r,i){if(null!==(r=r.updateQueue)&&(r=r.shared,0!=(4194240&i))){var s=r.lanes;s&=t.pendingLanes,i|=s,r.lanes=i,tR(t,i)}}function ns(t,r){var i=t.updateQueue,s=t.alternate;if(null!==s&&i===(s=s.updateQueue)){var u=null,c=null;if(null!==(i=i.firstBaseUpdate)){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===c?u=c=h:c=c.next=h,i=i.next}while(null!==i);null===c?u=c=r:c=c.next=r}else u=c=r;i={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:s.shared,effects:s.effects},t.updateQueue=i;return}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=r:t.next=r,i.lastBaseUpdate=r}function nl(t,r,i,s){var u=t.updateQueue;nt=!1;var c=u.firstBaseUpdate,h=u.lastBaseUpdate,f=u.shared.pending;if(null!==f){u.shared.pending=null;var p=f,v=p.next;p.next=null,null===h?c=v:h.next=v,h=p;var x=t.alternate;null!==x&&(f=(x=x.updateQueue).lastBaseUpdate)!==h&&(null===f?x.firstBaseUpdate=v:f.next=v,x.lastBaseUpdate=p)}if(null!==c){var _=u.baseState;for(h=0,x=v=p=null,f=c;;){var b=f.lane,w=f.eventTime;if((s&b)===b){null!==x&&(x=x.next={eventTime:w,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var S=t,A=f;switch(b=r,w=i,A.tag){case 1:if("function"==typeof(S=A.payload)){_=S.call(w,_,b);break e}_=S;break e;case 3:S.flags=-65537&S.flags|128;case 0:if(null==(b="function"==typeof(S=A.payload)?S.call(w,_,b):S))break e;_=y({},_,b);break e;case 2:nt=!0}}null!==f.callback&&0!==f.lane&&(t.flags|=64,null===(b=u.effects)?u.effects=[f]:b.push(f))}else w={eventTime:w,lane:b,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===x?(v=x=w,p=_):x=x.next=w,h|=b;if(null===(f=f.next)){if(null===(f=u.shared.pending))break;else f=(b=f).next,b.next=null,u.lastBaseUpdate=b,u.shared.pending=null}}if(null===x&&(p=_),u.baseState=p,u.firstBaseUpdate=v,u.lastBaseUpdate=x,null!==(r=u.shared.interleaved)){u=r;do h|=u.lane,u=u.next;while(u!==r)}else null===c&&(u.shared.lanes=0);ai|=h,t.lanes=h,t.memoizedState=_}}function nu(t,r,i){if(t=r.effects,r.effects=null,null!==t)for(r=0;r<t.length;r++){var s=t[r],u=s.callback;if(null!==u){if(s.callback=null,s=i,"function"!=typeof u)throw Error(x(191,u));u.call(s)}}}var nc=(new p.Component).refs;function nh(t,r,i,s){i=null==(i=i(s,r=t.memoizedState))?r:y({},r,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var nd={isMounted:function(t){return!!(t=t._reactInternals)&&F(t)===t},enqueueSetState:function(t,r,i){t=t._reactInternals;var s=aw(),u=aS(t),c=ni(s,u);c.payload=r,null!=i&&(c.callback=i),na(t,c),null!==(r=aA(t,u,s))&&no(r,t,u)},enqueueReplaceState:function(t,r,i){t=t._reactInternals;var s=aw(),u=aS(t),c=ni(s,u);c.tag=1,c.payload=r,null!=i&&(c.callback=i),na(t,c),null!==(r=aA(t,u,s))&&no(r,t,u)},enqueueForceUpdate:function(t,r){t=t._reactInternals;var i=aw(),s=aS(t),u=ni(i,s);u.tag=2,null!=r&&(u.callback=r),na(t,u),null!==(r=aA(t,s,i))&&no(r,t,s)}};function nf(t,r,i,s,u,c,h){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(s,c,h):!r.prototype||!r.prototype.isPureReactComponent||!tq(i,s)||!tq(u,c)}function np(t,r,i){var s=!1,u=tc,c=r.contextType;return"object"==typeof c&&null!==c?c=t7(c):(u=tg(r)?tf:th.current,c=(s=null!=(s=r.contextTypes))?tp(t,u):tc),r=new r(i,c),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=nd,t.stateNode=r,r._reactInternals=t,s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,t.__reactInternalMemoizedMaskedChildContext=c),r}function ng(t,r,i,s){t=r.state,"function"==typeof r.componentWillReceiveProps&&r.componentWillReceiveProps(i,s),"function"==typeof r.UNSAFE_componentWillReceiveProps&&r.UNSAFE_componentWillReceiveProps(i,s),r.state!==t&&nd.enqueueReplaceState(r,r.state,null)}function nm(t,r,i,s){var u=t.stateNode;u.props=i,u.state=t.memoizedState,u.refs=nc,nn(t);var c=r.contextType;"object"==typeof c&&null!==c?u.context=t7(c):(c=tg(r)?tf:th.current,u.context=tp(t,c)),u.state=t.memoizedState,"function"==typeof(c=r.getDerivedStateFromProps)&&(nh(t,r,c,i),u.state=t.memoizedState),"function"==typeof r.getDerivedStateFromProps||"function"==typeof u.getSnapshotBeforeUpdate||"function"!=typeof u.UNSAFE_componentWillMount&&"function"!=typeof u.componentWillMount||(r=u.state,"function"==typeof u.componentWillMount&&u.componentWillMount(),"function"==typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount(),r!==u.state&&nd.enqueueReplaceState(u,u.state,null),nl(t,i,u,s),u.state=t.memoizedState),"function"==typeof u.componentDidMount&&(t.flags|=4194308)}var nv=[],ny=0,nx=null,n_=0,nb=[],nw=0,nS=null,nA=1,nM="";function nC(t,r){nv[ny++]=n_,nv[ny++]=nx,nx=t,n_=r}function nT(t,r,i){nb[nw++]=nA,nb[nw++]=nM,nb[nw++]=nS,nS=t;var s=nA;t=nM;var u=32-tb(s)-1;s&=~(1<<u),i+=1;var c=32-tb(r)+u;if(30<c){var h=u-u%5;c=(s&(1<<h)-1).toString(32),s>>=h,u-=h,nA=1<<32-tb(r)+u|i<<u|s,nM=c+t}else nA=1<<c|i<<u|s,nM=t}function nE(t){null!==t.return&&(nC(t,1),nT(t,1,0))}function nI(t){for(;t===nx;)nx=nv[--ny],nv[ny]=null,n_=nv[--ny],nv[ny]=null;for(;t===nS;)nS=nb[--nw],nb[nw]=null,nM=nb[--nw],nb[nw]=null,nA=nb[--nw],nb[nw]=null}var nD=null,nR=null,nP=!1,nL=!1,nB=null;function nk(t,r){var i=aQ(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=t,null===(r=t.deletions)?(t.deletions=[i],t.flags|=16):r.push(i)}function nO(t,r){switch(t.tag){case 5:return null!==(r=ej(r,t.type,t.pendingProps))&&(t.stateNode=r,nD=t,nR=eQ(r),!0);case 6:return null!==(r=eW(r,t.pendingProps))&&(t.stateNode=r,nD=t,nR=null,!0);case 13:if(null!==(r=eX(r))){var i=null!==nS?{id:nA,overflow:nM}:null;return t.memoizedState={dehydrated:r,treeContext:i,retryLane:0x40000000},(i=aQ(18,null,null,0)).stateNode=r,i.return=t,t.child=i,nD=t,nR=null,!0}return!1;default:return!1}}function nN(t){return 0!=(1&t.mode)&&0==(128&t.flags)}function nF(t){if(nP){var r=nR;if(r){var i=r;if(!nO(t,r)){if(nN(t))throw Error(x(418));r=eJ(i);var s=nD;r&&nO(t,r)?nk(s,i):(t.flags=-4097&t.flags|2,nP=!1,nD=t)}}else{if(nN(t))throw Error(x(418));t.flags=-4097&t.flags|2,nP=!1,nD=t}}}function nU(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;nD=t}function nz(t){if(!es||t!==nD)return!1;if(!nP)return nU(t),nP=!0,!1;if(3!==t.tag&&(5!==t.tag||e6(t.type)&&!$(t.type,t.memoizedProps))){var r=nR;if(r){if(nN(t)){for(t=nR;t;)t=eJ(t);throw Error(x(418))}for(;r;)nk(t,r),r=eJ(r)}}if(nU(t),13===t.tag){if(!es)throw Error(x(316));if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(x(317));nR=e3(t)}else nR=nD?eJ(t.stateNode):null;return!0}function nG(){es&&(nR=nD=null,nL=nP=!1)}function nH(t){null===nB?nB=[t]:nB.push(t)}function nV(t,r,i){if(null!==(t=i.ref)&&"function"!=typeof t&&"object"!=typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(x(309));var s=i.stateNode}if(!s)throw Error(x(147,t));var u=s,c=""+t;return null!==r&&null!==r.ref&&"function"==typeof r.ref&&r.ref._stringRef===c?r.ref:((r=function(t){var r=u.refs;r===nc&&(r=u.refs={}),null===t?delete r[c]:r[c]=t})._stringRef=c,r)}if("string"!=typeof t)throw Error(x(284));if(!i._owner)throw Error(x(290,t))}return t}function nj(t,r){throw Error(x(31,"[object Object]"===(t=Object.prototype.toString.call(r))?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function nW(t){return(0,t._init)(t._payload)}function nX(t){function r(r,i){if(t){var s=r.deletions;null===s?(r.deletions=[i],r.flags|=16):s.push(i)}}function i(i,s){if(!t)return null;for(;null!==s;)r(i,s),s=s.sibling;return null}function s(t,r){for(t=new Map;null!==r;)null!==r.key?t.set(r.key,r):t.set(r.index,r),r=r.sibling;return t}function u(t,r){return(t=a$(t,r)).index=0,t.sibling=null,t}function c(r,i,s){return(r.index=s,t)?null!==(s=r.alternate)?(s=s.index)<i?(r.flags|=2,i):s:(r.flags|=2,i):(r.flags|=1048576,i)}function h(r){return t&&null===r.alternate&&(r.flags|=2),r}function f(t,r,i,s){return null===r||6!==r.tag?((r=a3(i,t.mode,s)).return=t,r):((r=u(r,i)).return=t,r)}function p(t,r,i,s){var c=i.type;return c===S?y(t,r,i.props.children,s,i.key):null!==r&&(r.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===L&&nW(c)===r.type)?((s=u(r,i.props)).ref=nV(t,r,i),s.return=t,s):((s=a0(i.type,i.key,i.props,null,t.mode,s)).ref=nV(t,r,i),s.return=t,s)}function v(t,r,i,s){return null===r||4!==r.tag||r.stateNode.containerInfo!==i.containerInfo||r.stateNode.implementation!==i.implementation?((r=a5(i,t.mode,s)).return=t,r):((r=u(r,i.children||[])).return=t,r)}function y(t,r,i,s,c){return null===r||7!==r.tag?((r=a1(i,t.mode,s,c)).return=t,r):((r=u(r,i)).return=t,r)}function _(t,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return(r=a3(""+r,t.mode,i)).return=t,r;if("object"==typeof r&&null!==r){switch(r.$$typeof){case b:return(i=a0(r.type,r.key,r.props,null,t.mode,i)).ref=nV(t,null,r),i.return=t,i;case w:return(r=a5(r,t.mode,i)).return=t,r;case L:return _(t,(0,r._init)(r._payload),i)}if(V(r)||O(r))return(r=a1(r,t.mode,i,null)).return=t,r;nj(t,r)}return null}function A(t,r,i,s){var u=null!==r?r.key:null;if("string"==typeof i&&""!==i||"number"==typeof i)return null!==u?null:f(t,r,""+i,s);if("object"==typeof i&&null!==i){switch(i.$$typeof){case b:return i.key===u?p(t,r,i,s):null;case w:return i.key===u?v(t,r,i,s):null;case L:return A(t,r,(u=i._init)(i._payload),s)}if(V(i)||O(i))return null!==u?null:y(t,r,i,s,null);nj(t,i)}return null}function M(t,r,i,s,u){if("string"==typeof s&&""!==s||"number"==typeof s)return f(r,t=t.get(i)||null,""+s,u);if("object"==typeof s&&null!==s){switch(s.$$typeof){case b:return p(r,t=t.get(null===s.key?i:s.key)||null,s,u);case w:return v(r,t=t.get(null===s.key?i:s.key)||null,s,u);case L:return M(t,r,i,(0,s._init)(s._payload),u)}if(V(s)||O(s))return y(r,t=t.get(i)||null,s,u,null);nj(r,s)}return null}return function f(p,v,y,C){if("object"==typeof y&&null!==y&&y.type===S&&null===y.key&&(y=y.props.children),"object"==typeof y&&null!==y){switch(y.$$typeof){case b:e:{for(var T=y.key,I=v;null!==I;){if(I.key===T){if((T=y.type)===S){if(7===I.tag){i(p,I.sibling),(v=u(I,y.props.children)).return=p,p=v;break e}}else if(I.elementType===T||"object"==typeof T&&null!==T&&T.$$typeof===L&&nW(T)===I.type){i(p,I.sibling),(v=u(I,y.props)).ref=nV(p,I,y),v.return=p,p=v;break e}i(p,I);break}r(p,I);I=I.sibling}y.type===S?((v=a1(y.props.children,p.mode,C,y.key)).return=p,p=v):((C=a0(y.type,y.key,y.props,null,p.mode,C)).ref=nV(p,v,y),C.return=p,p=C)}return h(p);case w:e:{for(I=y.key;null!==v;){if(v.key===I){if(4===v.tag&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){i(p,v.sibling),(v=u(v,y.children||[])).return=p,p=v;break e}else{i(p,v);break}}r(p,v);v=v.sibling}(v=a5(y,p.mode,C)).return=p,p=v}return h(p);case L:return f(p,v,(I=y._init)(y._payload),C)}if(V(y))return function(u,h,f,p){for(var v=null,y=null,x=h,b=h=0,w=null;null!==x&&b<f.length;b++){x.index>b?(w=x,x=null):w=x.sibling;var S=A(u,x,f[b],p);if(null===S){null===x&&(x=w);break}t&&x&&null===S.alternate&&r(u,x),h=c(S,h,b),null===y?v=S:y.sibling=S,y=S,x=w}if(b===f.length)return i(u,x),nP&&nC(u,b),v;if(null===x){for(;b<f.length;b++)null!==(x=_(u,f[b],p))&&(h=c(x,h,b),null===y?v=x:y.sibling=x,y=x);return nP&&nC(u,b),v}for(x=s(u,x);b<f.length;b++)null!==(w=M(x,u,b,f[b],p))&&(t&&null!==w.alternate&&x.delete(null===w.key?b:w.key),h=c(w,h,b),null===y?v=w:y.sibling=w,y=w);return t&&x.forEach(function(t){return r(u,t)}),nP&&nC(u,b),v}(p,v,y,C);if(O(y))return function(u,h,f,p){var v=O(f);if("function"!=typeof v)throw Error(x(150));if(null==(f=v.call(f)))throw Error(x(151));for(var y=v=null,b=h,w=h=0,S=null,C=f.next();null!==b&&!C.done;w++,C=f.next()){b.index>w?(S=b,b=null):S=b.sibling;var T=A(u,b,C.value,p);if(null===T){null===b&&(b=S);break}t&&b&&null===T.alternate&&r(u,b),h=c(T,h,w),null===y?v=T:y.sibling=T,y=T,b=S}if(C.done)return i(u,b),nP&&nC(u,w),v;if(null===b){for(;!C.done;w++,C=f.next())null!==(C=_(u,C.value,p))&&(h=c(C,h,w),null===y?v=C:y.sibling=C,y=C);return nP&&nC(u,w),v}for(b=s(u,b);!C.done;w++,C=f.next())null!==(C=M(b,u,w,C.value,p))&&(t&&null!==C.alternate&&b.delete(null===C.key?w:C.key),h=c(C,h,w),null===y?v=C:y.sibling=C,y=C);return t&&b.forEach(function(t){return r(u,t)}),nP&&nC(u,w),v}(p,v,y,C);nj(p,y)}return"string"==typeof y&&""!==y||"number"==typeof y?(y=""+y,null!==v&&6===v.tag?(i(p,v.sibling),(v=u(v,y)).return=p):(i(p,v),(v=a3(y,p.mode,C)).return=p),h(p=v)):i(p,v)}}var nY=nX(!0),nZ=nX(!1),nK={},nJ=ts(nK),nQ=ts(nK),nq=ts(nK);function n$(t){if(t===nK)throw Error(x(174));return t}function n0(t,r){tu(nq,r),tu(nQ,t),tu(nJ,nK),t=W(r),tl(nJ),tu(nJ,t)}function n1(){tl(nJ),tl(nQ),tl(nq)}function n2(t){var r=n$(nq.current),i=n$(nJ.current);r=X(i,t.type,r),i!==r&&(tu(nQ,t),tu(nJ,r))}function n3(t){nQ.current===t&&(tl(nJ),tl(nQ))}var n5=ts(0);function n4(t){for(var r=t;null!==r;){if(13===r.tag){var i=r.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||eY(i)||eZ(i)))return r}else if(19===r.tag&&void 0!==r.memoizedProps.revealOrder){if(0!=(128&r.flags))return r}else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var n9=[];function n8(){for(var t=0;t<n9.length;t++){var r=n9[t];ei?r._workInProgressVersionPrimary=null:r._workInProgressVersionSecondary=null}n9.length=0}var n6=_.ReactCurrentDispatcher,n7=_.ReactCurrentBatchConfig,re=0,rt=null,rn=null,rr=null,ri=!1,ra=!1,ro=0,rs=0;function rl(){throw Error(x(321))}function ru(t,r){if(null===r)return!1;for(var i=0;i<r.length&&i<t.length;i++)if(!tW(t[i],r[i]))return!1;return!0}function rc(t,r,i,s,u,c){if(re=c,rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,n6.current=null===t||null===t.memoizedState?rX:rY,t=i(s,u),ra){c=0;do{if(ra=!1,ro=0,25<=c)throw Error(x(301));c+=1,rr=rn=null,r.updateQueue=null,n6.current=rZ,t=i(s,u)}while(ra)}if(n6.current=rW,r=null!==rn&&null!==rn.next,re=0,rr=rn=rt=null,ri=!1,r)throw Error(x(300));return t}function rh(){var t=0!==ro;return ro=0,t}function rd(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===rr?rt.memoizedState=rr=t:rr=rr.next=t,rr}function rf(){if(null===rn){var t=rt.alternate;t=null!==t?t.memoizedState:null}else t=rn.next;var r=null===rr?rt.memoizedState:rr.next;if(null!==r)rr=r,rn=t;else{if(null===t)throw Error(x(310));t={memoizedState:(rn=t).memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},null===rr?rt.memoizedState=rr=t:rr=rr.next=t}return rr}function rp(t,r){return"function"==typeof r?r(t):r}function rg(t){var r=rf(),i=r.queue;if(null===i)throw Error(x(311));i.lastRenderedReducer=t;var s=rn,u=s.baseQueue,c=i.pending;if(null!==c){if(null!==u){var h=u.next;u.next=c.next,c.next=h}s.baseQueue=u=c,i.pending=null}if(null!==u){c=u.next,s=s.baseState;var f=h=null,p=null,v=c;do{var y=v.lane;if((re&y)===y)null!==p&&(p=p.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),s=v.hasEagerState?v.eagerState:t(s,v.action);else{var _={lane:y,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};null===p?(f=p=_,h=s):p=p.next=_,rt.lanes|=y,ai|=y}v=v.next}while(null!==v&&v!==c);null===p?h=s:p.next=f,tW(s,r.memoizedState)||(r7=!0),r.memoizedState=s,r.baseState=h,r.baseQueue=p,i.lastRenderedState=s}if(null!==(t=i.interleaved)){u=t;do c=u.lane,rt.lanes|=c,ai|=c,u=u.next;while(u!==t)}else null===u&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function rm(t){var r=rf(),i=r.queue;if(null===i)throw Error(x(311));i.lastRenderedReducer=t;var s=i.dispatch,u=i.pending,c=r.memoizedState;if(null!==u){i.pending=null;var h=u=u.next;do c=t(c,h.action),h=h.next;while(h!==u);tW(c,r.memoizedState)||(r7=!0),r.memoizedState=c,null===r.baseQueue&&(r.baseState=c),i.lastRenderedState=c}return[c,s]}function rv(){}function ry(t,r){var i=rt,s=rf(),u=r(),c=!tW(s.memoizedState,u);if(c&&(s.memoizedState=u,r7=!0),s=s.queue,rI(rb.bind(null,i,s,t),[t]),s.getSnapshot!==r||c||null!==rr&&1&rr.memoizedState.tag){if(i.flags|=2048,rA(9,r_.bind(null,i,s,u,r),void 0,null),null===i8)throw Error(x(349));0!=(30&re)||rx(i,r,u)}return u}function rx(t,r,i){t.flags|=16384,t={getSnapshot:r,value:i},null===(r=rt.updateQueue)?(r={lastEffect:null,stores:null},rt.updateQueue=r,r.stores=[t]):null===(i=r.stores)?r.stores=[t]:i.push(t)}function r_(t,r,i,s){r.value=i,r.getSnapshot=s,rw(r)&&aA(t,1,-1)}function rb(t,r,i){return i(function(){rw(r)&&aA(t,1,-1)})}function rw(t){var r=t.getSnapshot;t=t.value;try{var i=r();return!tW(t,i)}catch(t){return!0}}function rS(t){var r=rd();return"function"==typeof t&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:t},r.queue=t,t=t.dispatch=rz.bind(null,rt,t),[r.memoizedState,t]}function rA(t,r,i,s){return t={tag:t,create:r,destroy:i,deps:s,next:null},null===(r=rt.updateQueue)?(r={lastEffect:null,stores:null},rt.updateQueue=r,r.lastEffect=t.next=t):null===(i=r.lastEffect)?r.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,r.lastEffect=t),t}function rM(){return rf().memoizedState}function rC(t,r,i,s){var u=rd();rt.flags|=t,u.memoizedState=rA(1|r,i,void 0,void 0===s?null:s)}function rT(t,r,i,s){var u=rf();s=void 0===s?null:s;var c=void 0;if(null!==rn){var h=rn.memoizedState;if(c=h.destroy,null!==s&&ru(s,h.deps)){u.memoizedState=rA(r,i,c,s);return}}rt.flags|=t,u.memoizedState=rA(1|r,i,c,s)}function rE(t,r){return rC(8390656,8,t,r)}function rI(t,r){return rT(2048,8,t,r)}function rD(t,r){return rT(4,2,t,r)}function rR(t,r){return rT(4,4,t,r)}function rP(t,r){return"function"==typeof r?(r(t=t()),function(){r(null)}):null!=r?(t=t(),r.current=t,function(){r.current=null}):void 0}function rL(t,r,i){return i=null!=i?i.concat([t]):null,rT(4,4,rP.bind(null,r,t),i)}function rB(){}function rk(t,r){var i=rf();r=void 0===r?null:r;var s=i.memoizedState;return null!==s&&null!==r&&ru(r,s[1])?s[0]:(i.memoizedState=[t,r],t)}function rO(t,r){var i=rf();r=void 0===r?null:r;var s=i.memoizedState;return null!==s&&null!==r&&ru(r,s[1])?s[0]:(t=t(),i.memoizedState=[t,r],t)}function rN(t,r){var i=tP;tP=0!==i&&4>i?i:4,t(!0);var s=n7.transition;n7.transition={};try{t(!1),r()}finally{tP=i,n7.transition=s}}function rF(){return rf().memoizedState}function rU(t,r,i){var s=aS(t);i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},rG(t)?rH(r,i):(rV(t,r,i),null!==(t=aA(t,s,i=aw()))&&rj(t,r,s))}function rz(t,r,i){var s=aS(t),u={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(rG(t))rH(r,u);else{rV(t,r,u);var c=t.alternate;if(0===t.lanes&&(null===c||0===c.lanes)&&null!==(c=r.lastRenderedReducer))try{var h=r.lastRenderedState,f=c(h,i);if(u.hasEagerState=!0,u.eagerState=f,tW(f,h))return}catch(t){}finally{}null!==(t=aA(t,s,i=aw()))&&rj(t,r,s)}}function rG(t){var r=t.alternate;return t===rt||null!==r&&r===rt}function rH(t,r){ra=ri=!0;var i=t.pending;null===i?r.next=r:(r.next=i.next,i.next=r),t.pending=r}function rV(t,r,i){null!==i8&&0!=(1&t.mode)&&0==(2&i9)?(null===(t=r.interleaved)?(i.next=i,null===ne?ne=[r]:ne.push(r)):(i.next=t.next,t.next=i),r.interleaved=i):(null===(t=r.pending)?i.next=i:(i.next=t.next,t.next=i),r.pending=i)}function rj(t,r,i){if(0!=(4194240&i)){var s=r.lanes;s&=t.pendingLanes,i|=s,r.lanes=i,tR(t,i)}}var rW={readContext:t7,useCallback:rl,useContext:rl,useEffect:rl,useImperativeHandle:rl,useInsertionEffect:rl,useLayoutEffect:rl,useMemo:rl,useReducer:rl,useRef:rl,useState:rl,useDebugValue:rl,useDeferredValue:rl,useTransition:rl,useMutableSource:rl,useSyncExternalStore:rl,useId:rl,unstable_isNewReconciler:!1},rX={readContext:t7,useCallback:function(t,r){return rd().memoizedState=[t,void 0===r?null:r],t},useContext:t7,useEffect:rE,useImperativeHandle:function(t,r,i){return i=null!=i?i.concat([t]):null,rC(4194308,4,rP.bind(null,r,t),i)},useLayoutEffect:function(t,r){return rC(4194308,4,t,r)},useInsertionEffect:function(t,r){return rC(4,2,t,r)},useMemo:function(t,r){var i=rd();return r=void 0===r?null:r,t=t(),i.memoizedState=[t,r],t},useReducer:function(t,r,i){var s=rd();return r=void 0!==i?i(r):r,s.memoizedState=s.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=rU.bind(null,rt,t),[s.memoizedState,t]},useRef:function(t){var r=rd();return t={current:t},r.memoizedState=t},useState:rS,useDebugValue:rB,useDeferredValue:function(t){var r=rS(t),i=r[0],s=r[1];return rE(function(){var r=n7.transition;n7.transition={};try{s(t)}finally{n7.transition=r}},[t]),i},useTransition:function(){var t=rS(!1),r=t[0];return t=rN.bind(null,t[1]),rd().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,i){var s=rt,u=rd();if(nP){if(void 0===i)throw Error(x(407));i=i()}else{if(i=r(),null===i8)throw Error(x(349));0!=(30&re)||rx(s,r,i)}u.memoizedState=i;var c={value:i,getSnapshot:r};return u.queue=c,rE(rb.bind(null,s,c,t),[t]),s.flags|=2048,rA(9,r_.bind(null,s,c,i,r),void 0,null),i},useId:function(){var t=rd(),r=i8.identifierPrefix;if(nP){var i=nM,s=nA;r=":"+r+"R"+(i=(s&~(1<<32-tb(s)-1)).toString(32)+i),0<(i=ro++)&&(r+="H"+i.toString(32)),r+=":"}else r=":"+r+"r"+(i=rs++).toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},rY={readContext:t7,useCallback:rk,useContext:t7,useEffect:rI,useImperativeHandle:rL,useInsertionEffect:rD,useLayoutEffect:rR,useMemo:rO,useReducer:rg,useRef:rM,useState:function(){return rg(rp)},useDebugValue:rB,useDeferredValue:function(t){var r=rg(rp),i=r[0],s=r[1];return rI(function(){var r=n7.transition;n7.transition={};try{s(t)}finally{n7.transition=r}},[t]),i},useTransition:function(){return[rg(rp)[0],rf().memoizedState]},useMutableSource:rv,useSyncExternalStore:ry,useId:rF,unstable_isNewReconciler:!1},rZ={readContext:t7,useCallback:rk,useContext:t7,useEffect:rI,useImperativeHandle:rL,useInsertionEffect:rD,useLayoutEffect:rR,useMemo:rO,useReducer:rm,useRef:rM,useState:function(){return rm(rp)},useDebugValue:rB,useDeferredValue:function(t){var r=rm(rp),i=r[0],s=r[1];return rI(function(){var r=n7.transition;n7.transition={};try{s(t)}finally{n7.transition=r}},[t]),i},useTransition:function(){return[rm(rp)[0],rf().memoizedState]},useMutableSource:rv,useSyncExternalStore:ry,useId:rF,unstable_isNewReconciler:!1};function rK(t,r){try{var i="",s=r;do i+=function(t){switch(t.tag){case 5:return tt(t.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return t=tr(t.type,!1);case 11:return t=tr(t.type.render,!1);case 1:return t=tr(t.type,!0);default:return""}}(s),s=s.return;while(s);var u=i}catch(t){u="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:r,stack:u}}function rJ(t,r){}var rQ="function"==typeof WeakMap?WeakMap:Map;function rq(t,r,i){(i=ni(-1,i)).tag=3,i.payload={element:null};var s=r.value;return i.callback=function(){ad||(ad=!0,af=s),rJ(t,r)},i}function r$(t,r,i){(i=ni(-1,i)).tag=3;var s=t.type.getDerivedStateFromError;if("function"==typeof s){var u=r.value;i.payload=function(){return s(u)},i.callback=function(){rJ(t,r)}}var c=t.stateNode;return null!==c&&"function"==typeof c.componentDidCatch&&(i.callback=function(){rJ(t,r),"function"!=typeof s&&(null===ap?ap=new Set([this]):ap.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:null!==i?i:""})}),i}function r0(t,r,i){var s=t.pingCache;if(null===s){s=t.pingCache=new rQ;var u=new Set;s.set(r,u)}else void 0===(u=s.get(r))&&(u=new Set,s.set(r,u));u.has(i)||(u.add(i),t=aW.bind(null,t,r,i),r.then(t,t))}function r1(t){do{var r;if((r=13===t.tag)&&(r=null===(r=t.memoizedState)||null!==r.dehydrated),r)return t;t=t.return}while(null!==t);return null}function r2(t,r,i,s,u){return 0==(1&t.mode)?(t===r?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((r=ni(-1,1)).tag=2,na(i,r))),i.lanes|=1),t):(t.flags|=65536,t.lanes=u,t)}function r3(t){t.flags|=4}function r5(t,r){if(null!==t&&t.child===r.child)return!0;if(0!=(16&r.flags))return!1;for(t=r.child;null!==t;){if(0!=(12854&t.flags)||0!=(12854&t.subtreeFlags))return!1;t=t.sibling}return!0}if(ea)r=function(t,r){for(var i=r.child;null!==i;){if(5===i.tag||6===i.tag)J(t,i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===r)break;for(;null===i.sibling;){if(null===i.return||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},s=function(){},u=function(t,r,i,s,u){(t=t.memoizedProps)!==s&&(i=q(r.stateNode,i,t,s,u,n$(nJ.current)),(r.updateQueue=i)&&r3(r))},c=function(t,r,i,s){i!==s&&r3(r)};else if(eo){r=function(t,i,s,u){for(var c=i.child;null!==c;){if(5===c.tag){var h=c.stateNode;s&&u&&(h=eH(h,c.type,c.memoizedProps,c)),J(t,h)}else if(6===c.tag)h=c.stateNode,s&&u&&(h=eV(h,c.memoizedProps,c)),J(t,h);else if(4!==c.tag){if(22===c.tag&&null!==c.memoizedState)null!==(h=c.child)&&(h.return=c),r(t,c,!0,!0);else if(null!==c.child){c.child.return=c,c=c.child;continue}}if(c===i)break;for(;null===c.sibling;){if(null===c.return||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}};var r4=function(t,r,i,s){for(var u=r.child;null!==u;){if(5===u.tag){var c=u.stateNode;i&&s&&(c=eH(c,u.type,u.memoizedProps,u)),eU(t,c)}else if(6===u.tag)c=u.stateNode,i&&s&&(c=eV(c,u.memoizedProps,u)),eU(t,c);else if(4!==u.tag){if(22===u.tag&&null!==u.memoizedState)null!==(c=u.child)&&(c.return=u),r4(t,u,!0,!0);else if(null!==u.child){u.child.return=u,u=u.child;continue}}if(u===r)break;for(;null===u.sibling;){if(null===u.return||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}};s=function(t,r){var i=r.stateNode;if(!r5(t,r)){var s=eF(t=i.containerInfo);r4(s,r,!1,!1),i.pendingChildren=s,r3(r),ez(t,s)}},u=function(t,i,s,u,c){var h=t.stateNode,f=t.memoizedProps;if((t=r5(t,i))&&f===u)i.stateNode=h;else{var p=i.stateNode,v=n$(nJ.current),y=null;f!==u&&(y=q(p,s,f,u,c,v)),t&&null===y?i.stateNode=h:(Q(h=eN(h,y,s,f,u,i,t,p),s,u,c,v)&&r3(i),i.stateNode=h,t?r3(i):r(h,i,!1,!1))}},c=function(t,r,i,s){i!==s?(t=n$(nq.current),i=n$(nJ.current),r.stateNode=ee(s,t,i,r),r3(r)):r.stateNode=t.stateNode}}else s=function(){},u=function(){},c=function(){};function r9(t,r){if(!nP)switch(t.tailMode){case"hidden":r=t.tail;for(var i=null;null!==r;)null!==r.alternate&&(i=r),r=r.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;null!==i;)null!==i.alternate&&(s=i),i=i.sibling;null===s?r||null===t.tail?t.tail=null:t.tail.sibling=null:s.sibling=null}}function r8(t){var r=null!==t.alternate&&t.alternate.child===t.child,i=0,s=0;if(r)for(var u=t.child;null!==u;)i|=u.lanes|u.childLanes,s|=0xe00000&u.subtreeFlags,s|=0xe00000&u.flags,u.return=t,u=u.sibling;else for(u=t.child;null!==u;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=s,t.childLanes=i,r}var r6=_.ReactCurrentOwner,r7=!1;function ie(t,r,i,s){r.child=null===t?nZ(r,null,i,s):nY(r,t.child,i,s)}function it(t,r,i,s,u){i=i.render;var c=r.ref;return(t6(r,u),s=rc(t,r,i,s,c,u),i=rh(),null===t||r7)?(nP&&i&&nE(r),r.flags|=1,ie(t,r,s,u),r.child):(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~u,iS(t,r,u))}function ir(t,r,i,s,u){if(null===t){var c=i.type;return"function"!=typeof c||aq(c)||void 0!==c.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=a0(i.type,null,s,r,r.mode,u)).ref=r.ref,t.return=r,r.child=t):(r.tag=15,r.type=c,ii(t,r,c,s,u))}if(c=t.child,0==(t.lanes&u)){var h=c.memoizedProps;if((i=null!==(i=i.compare)?i:tq)(h,s)&&t.ref===r.ref)return iS(t,r,u)}return r.flags|=1,(t=a$(c,s)).ref=r.ref,t.return=r,r.child=t}function ii(t,r,i,s,u){if(null!==t&&tq(t.memoizedProps,s)&&t.ref===r.ref){if(r7=!1,0==(t.lanes&u))return r.lanes=t.lanes,iS(t,r,u);else 0!=(131072&t.flags)&&(r7=!0)}return is(t,r,i,s,u)}function ia(t,r,i){var s=r.pendingProps,u=s.children,c=null!==t?t.memoizedState:null;if("hidden"===s.mode){if(0==(1&r.mode))r.memoizedState={baseLanes:0,cachePool:null},tu(at,ae),ae|=i;else{if(0==(0x40000000&i))return t=null!==c?c.baseLanes|i:i,r.lanes=r.childLanes=0x40000000,r.memoizedState={baseLanes:t,cachePool:null},r.updateQueue=null,tu(at,ae),ae|=t,null;r.memoizedState={baseLanes:0,cachePool:null},s=null!==c?c.baseLanes:i,tu(at,ae),ae|=s}}else null!==c?(s=c.baseLanes|i,r.memoizedState=null):s=i,tu(at,ae),ae|=s;return ie(t,r,u,i),r.child}function io(t,r){var i=r.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function is(t,r,i,s,u){var c=tg(i)?tf:th.current;return(c=tp(r,c),t6(r,u),i=rc(t,r,i,s,c,u),s=rh(),null===t||r7)?(nP&&s&&nE(r),r.flags|=1,ie(t,r,i,u),r.child):(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~u,iS(t,r,u))}function il(t,r,i,s,u){if(tg(i)){var c=!0;tx(r)}else c=!1;if(t6(r,u),null===r.stateNode)null!==t&&(t.alternate=null,r.alternate=null,r.flags|=2),np(r,i,s),nm(r,i,s,u),s=!0;else if(null===t){var h=r.stateNode,f=r.memoizedProps;h.props=f;var p=h.context,v=i.contextType;v="object"==typeof v&&null!==v?t7(v):tp(r,v=tg(i)?tf:th.current);var y=i.getDerivedStateFromProps,x="function"==typeof y||"function"==typeof h.getSnapshotBeforeUpdate;x||"function"!=typeof h.UNSAFE_componentWillReceiveProps&&"function"!=typeof h.componentWillReceiveProps||(f!==s||p!==v)&&ng(r,h,s,v),nt=!1;var _=r.memoizedState;h.state=_,nl(r,s,h,u),p=r.memoizedState,f!==s||_!==p||td.current||nt?("function"==typeof y&&(nh(r,i,y,s),p=r.memoizedState),(f=nt||nf(r,i,f,s,_,p,v))?(x||"function"!=typeof h.UNSAFE_componentWillMount&&"function"!=typeof h.componentWillMount||("function"==typeof h.componentWillMount&&h.componentWillMount(),"function"==typeof h.UNSAFE_componentWillMount&&h.UNSAFE_componentWillMount()),"function"==typeof h.componentDidMount&&(r.flags|=4194308)):("function"==typeof h.componentDidMount&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=p),h.props=s,h.state=p,h.context=v,s=f):("function"==typeof h.componentDidMount&&(r.flags|=4194308),s=!1)}else{h=r.stateNode,nr(t,r),f=r.memoizedProps,v=r.type===r.elementType?f:t$(r.type,f),h.props=v,x=r.pendingProps,_=h.context,p="object"==typeof(p=i.contextType)&&null!==p?t7(p):tp(r,p=tg(i)?tf:th.current);var b=i.getDerivedStateFromProps;(y="function"==typeof b||"function"==typeof h.getSnapshotBeforeUpdate)||"function"!=typeof h.UNSAFE_componentWillReceiveProps&&"function"!=typeof h.componentWillReceiveProps||(f!==x||_!==p)&&ng(r,h,s,p),nt=!1,_=r.memoizedState,h.state=_,nl(r,s,h,u);var w=r.memoizedState;f!==x||_!==w||td.current||nt?("function"==typeof b&&(nh(r,i,b,s),w=r.memoizedState),(v=nt||nf(r,i,v,s,_,w,p)||!1)?(y||"function"!=typeof h.UNSAFE_componentWillUpdate&&"function"!=typeof h.componentWillUpdate||("function"==typeof h.componentWillUpdate&&h.componentWillUpdate(s,w,p),"function"==typeof h.UNSAFE_componentWillUpdate&&h.UNSAFE_componentWillUpdate(s,w,p)),"function"==typeof h.componentDidUpdate&&(r.flags|=4),"function"==typeof h.getSnapshotBeforeUpdate&&(r.flags|=1024)):("function"!=typeof h.componentDidUpdate||f===t.memoizedProps&&_===t.memoizedState||(r.flags|=4),"function"!=typeof h.getSnapshotBeforeUpdate||f===t.memoizedProps&&_===t.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=w),h.props=s,h.state=w,h.context=p,s=v):("function"!=typeof h.componentDidUpdate||f===t.memoizedProps&&_===t.memoizedState||(r.flags|=4),"function"!=typeof h.getSnapshotBeforeUpdate||f===t.memoizedProps&&_===t.memoizedState||(r.flags|=1024),s=!1)}return iu(t,r,i,s,c,u)}function iu(t,r,i,s,u,c){io(t,r);var h=0!=(128&r.flags);if(!s&&!h)return u&&t_(r,i,!1),iS(t,r,c);s=r.stateNode,r6.current=r;var f=h&&"function"!=typeof i.getDerivedStateFromError?null:s.render();return r.flags|=1,null!==t&&h?(r.child=nY(r,t.child,null,c),r.child=nY(r,null,f,c)):ie(t,r,f,c),r.memoizedState=s.state,u&&t_(r,i,!0),r.child}function ic(t){var r=t.stateNode;r.pendingContext?tv(t,r.pendingContext,r.pendingContext!==r.context):r.context&&tv(t,r.context,!1),n0(t,r.containerInfo)}function ih(t,r,i,s,u){return nG(),nH(u),r.flags|=256,ie(t,r,i,s),r.child}var id={dehydrated:null,treeContext:null,retryLane:0};function ip(t){return{baseLanes:t,cachePool:null}}function ig(t,r,i){var s,u=r.pendingProps,c=n5.current,h=!1,f=0!=(128&r.flags);if((s=f)||(s=(null===t||null!==t.memoizedState)&&0!=(2&c)),s?(h=!0,r.flags&=-129):(null===t||null!==t.memoizedState)&&(c|=1),tu(n5,1&c),null===t)return(nF(r),null!==(t=r.memoizedState)&&null!==(t=t.dehydrated))?(0==(1&r.mode)?r.lanes=1:eZ(t)?r.lanes=8:r.lanes=0x40000000,null):(c=u.children,t=u.fallback,h?(u=r.mode,h=r.child,c={mode:"hidden",children:c},0==(1&u)&&null!==h?(h.childLanes=0,h.pendingProps=c):h=a2(c,u,0,null),t=a1(t,u,i,null),h.return=r,t.return=r,h.sibling=t,r.child=h,r.child.memoizedState=ip(i),r.memoizedState=id,t):im(r,c));if(null!==(c=t.memoizedState)){if(null!==(s=c.dehydrated)){if(f)return 256&r.flags?(r.flags&=-257,ix(t,r,i,Error(x(422)))):null!==r.memoizedState?(r.child=t.child,r.flags|=128,null):(h=u.fallback,c=r.mode,u=a2({mode:"visible",children:u.children},c,0,null),h=a1(h,c,i,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,0!=(1&r.mode)&&nY(r,t.child,null,i),r.child.memoizedState=ip(i),r.memoizedState=id,h);if(0==(1&r.mode))r=ix(t,r,i,null);else if(eZ(s))r=ix(t,r,i,Error(x(419)));else if(u=0!=(i&t.childLanes),r7||u){if(null!==(u=i8)){switch(i&-i){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:h=32;break;case 0x20000000:h=0x10000000;break;default:h=0}0!==(u=0!=(h&(u.suspendedLanes|i))?0:h)&&u!==c.retryLane&&(c.retryLane=u,aA(t,u,-1))}aN(),r=ix(t,r,i,Error(x(421)))}else eY(s)?(r.flags|=128,r.child=t.child,eK(s,r=aY.bind(null,t)),r=null):(i=c.treeContext,es&&(nR=e$(s),nD=r,nP=!0,nB=null,nL=!1,null!==i&&(nb[nw++]=nA,nb[nw++]=nM,nb[nw++]=nS,nA=i.id,nM=i.overflow,nS=r)),r=im(r,r.pendingProps.children),r.flags|=4096);return r};}return h?(u=iy(t,r,u.children,u.fallback,i),h=r.child,c=t.child.memoizedState,h.memoizedState=null===c?ip(i):{baseLanes:c.baseLanes|i,cachePool:null},h.childLanes=t.childLanes&~i,r.memoizedState=id,u):(i=iv(t,r,u.children,i),r.memoizedState=null,i)}function im(t,r){return(r=a2({mode:"visible",children:r},t.mode,0,null)).return=t,t.child=r}function iv(t,r,i,s){var u=t.child;return t=u.sibling,i=a$(u,{mode:"visible",children:i}),0==(1&r.mode)&&(i.lanes=s),i.return=r,i.sibling=null,null!==t&&(null===(s=r.deletions)?(r.deletions=[t],r.flags|=16):s.push(t)),r.child=i}function iy(t,r,i,s,u){var c=r.mode,h=(t=t.child).sibling,f={mode:"hidden",children:i};return 0==(1&c)&&r.child!==t?((i=r.child).childLanes=0,i.pendingProps=f,r.deletions=null):(i=a$(t,f)).subtreeFlags=0xe00000&t.subtreeFlags,null!==h?s=a$(h,s):(s=a1(s,c,u,null),s.flags|=2),s.return=r,i.return=r,i.sibling=s,r.child=i,s}function ix(t,r,i,s){return null!==s&&nH(s),nY(r,t.child,null,i),t=im(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function i_(t,r,i){t.lanes|=r;var s=t.alternate;null!==s&&(s.lanes|=r),t8(t.return,r,i)}function ib(t,r,i,s,u){var c=t.memoizedState;null===c?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:u}:(c.isBackwards=r,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=i,c.tailMode=u)}function iw(t,r,i){var s=r.pendingProps,u=s.revealOrder,c=s.tail;if(ie(t,r,s.children,i),0!=(2&(s=n5.current)))s=1&s|2,r.flags|=128;else{if(null!==t&&0!=(128&t.flags))e:for(t=r.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&i_(t,i,r);else if(19===t.tag)i_(t,i,r);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===r)break;for(;null===t.sibling;){if(null===t.return||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(tu(n5,s),0==(1&r.mode))r.memoizedState=null;else switch(u){case"forwards":for(u=null,i=r.child;null!==i;)null!==(t=i.alternate)&&null===n4(t)&&(u=i),i=i.sibling;null===(i=u)?(u=r.child,r.child=null):(u=i.sibling,i.sibling=null),ib(r,!1,u,i,c);break;case"backwards":for(i=null,u=r.child,r.child=null;null!==u;){if(null!==(t=u.alternate)&&null===n4(t)){r.child=u;break}t=u.sibling,u.sibling=i,i=u,u=t}ib(r,!0,i,null,c);break;case"together":ib(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function iS(t,r,i){if(null!==t&&(r.dependencies=t.dependencies),ai|=r.lanes,0==(i&r.childLanes))return null;if(null!==t&&r.child!==t.child)throw Error(x(153));if(null!==r.child){for(i=a$(t=r.child,t.pendingProps),r.child=i,i.return=r;null!==t.sibling;)t=t.sibling,(i=i.sibling=a$(t,t.pendingProps)).return=r;i.sibling=null}return r.child}var iA=!1,iM=!1,iC="function"==typeof WeakSet?WeakSet:Set,iT=null;function iE(t,r){var i=t.ref;if(null!==i){if("function"==typeof i)try{i(null)}catch(i){aj(t,r,i)}else i.current=null}}function iI(t,r,i){try{i()}catch(i){aj(t,r,i)}}var iD=!1;function iR(t,r,i){var s=r.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var u=s=s.next;do{if((u.tag&t)===t){var c=u.destroy;u.destroy=void 0,void 0!==c&&iI(r,i,c)}u=u.next}while(u!==s)}}function iP(t,r){if(null!==(r=null!==(r=r.updateQueue)?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var s=i.create;i.destroy=s()}i=i.next}while(i!==r)}}function iL(t){var r=t.ref;if(null!==r){var i=t.stateNode;if(5===t.tag)t=j(i);else t=i;"function"==typeof r?r(t):r.current=t}}function iB(t,r,i){if(tj&&"function"==typeof tj.onCommitFiberUnmount)try{tj.onCommitFiberUnmount(tV,r)}catch(t){}switch(r.tag){case 0:case 11:case 14:case 15:if(null!==(t=r.updateQueue)&&null!==(t=t.lastEffect)){var s=t=t.next;do{var u=s,c=u.destroy;u=u.tag,void 0!==c&&(0!=(2&u)?iI(r,i,c):0!=(4&u)&&iI(r,i,c)),s=s.next}while(s!==t)}break;case 1:if(iE(r,i),"function"==typeof(t=r.stateNode).componentWillUnmount)try{t.props=r.memoizedProps,t.state=r.memoizedState,t.componentWillUnmount()}catch(t){aj(r,i,t)}break;case 5:iE(r,i);break;case 4:ea?iU(t,r,i):eo&&eo&&(i=eF(r=r.stateNode.containerInfo),eG(r,i))}}function ik(t,r,i){for(var s=r;;)if(iB(t,s,i),null===s.child||ea&&4===s.tag){if(s===r)break;for(;null===s.sibling;){if(null===s.return||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}else s.child.return=s,s=s.child}function iO(t){return 5===t.tag||3===t.tag||4===t.tag}function iN(t){e:for(;;){for(;null===t.sibling;){if(null===t.return||iO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue e;if(null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function iF(t){if(ea){e:{for(var r=t.return;null!==r;){if(iO(r))break e;r=r.return}throw Error(x(160))}var i=r;switch(i.tag){case 5:r=i.stateNode,32&i.flags&&(eR(r),i.flags&=-33),i=iN(t),function t(r,i,s){var u=r.tag;if(5===u||6===u)r=r.stateNode,i?eT(s,r,i):ew(s,r);else if(4!==u&&null!==(r=r.child))for(t(r,i,s),r=r.sibling;null!==r;)t(r,i,s),r=r.sibling}(t,i,r);break;case 3:case 4:r=i.stateNode.containerInfo,i=iN(t),function t(r,i,s){var u=r.tag;if(5===u||6===u)r=r.stateNode,i?eE(s,r,i):eS(s,r);else if(4!==u&&null!==(r=r.child))for(t(r,i,s),r=r.sibling;null!==r;)t(r,i,s),r=r.sibling}(t,i,r);break;default:throw Error(x(161))}}}function iU(t,r,i){for(var s,u,c=r,h=!1;;){if(!h){h=c.return;e:for(;;){if(null===h)throw Error(x(160));switch(s=h.stateNode,h.tag){case 5:u=!1;break e;case 3:case 4:s=s.containerInfo,u=!0;break e}h=h.return}h=!0}if(5===c.tag||6===c.tag)ik(t,c,i),u?eD(s,c.stateNode):eI(s,c.stateNode);else if(18===c.tag)u?e8(s,c.stateNode):e9(s,c.stateNode);else if(4===c.tag){if(null!==c.child){s=c.stateNode.containerInfo,u=!0,c.child.return=c,c=c.child;continue}}else if(iB(t,c,i),null!==c.child){c.child.return=c,c=c.child;continue}if(c===r)break;for(;null===c.sibling;){if(null===c.return||c.return===r)return;4===(c=c.return).tag&&(h=!1)}c.sibling.return=c.return,c=c.sibling}}function iz(t,r){if(ea){switch(r.tag){case 0:case 11:case 14:case 15:iR(3,r,r.return),iP(3,r),iR(5,r,r.return);return;case 1:case 12:case 17:return;case 5:var i=r.stateNode;if(null!=i){var s=r.memoizedProps;t=null!==t?t.memoizedProps:s;var u=r.type,c=r.updateQueue;r.updateQueue=null,null!==c&&eC(i,c,u,t,s,r)}return;case 6:if(null===r.stateNode)throw Error(x(162));i=r.memoizedProps,eA(r.stateNode,null!==t?t.memoizedProps:i,i);return;case 3:es&&null!==t&&t.memoizedState.isDehydrated&&e5(r.stateNode.containerInfo);return;case 13:case 19:iG(r);return}throw Error(x(163))}switch(r.tag){case 0:case 11:case 14:case 15:iR(3,r,r.return),iP(3,r),iR(5,r,r.return);return;case 12:case 22:case 23:return;case 13:case 19:iG(r);return;case 3:es&&null!==t&&t.memoizedState.isDehydrated&&e5(r.stateNode.containerInfo)}e:if(eo){switch(r.tag){case 1:case 5:case 6:break e;case 3:case 4:eG((r=r.stateNode).containerInfo,r.pendingChildren);break e}throw Error(x(163))}}function iG(t){var r=t.updateQueue;if(null!==r){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new iC),r.forEach(function(r){var s=aZ.bind(null,t,r);i.has(r)||(i.add(r),r.then(s,s))})}}function iH(t){for(;null!==iT;){var r=iT;if(0!=(8772&r.flags)){var i=r.alternate;try{if(0!=(8772&r.flags))switch(r.tag){case 0:case 11:case 15:iM||iP(5,r);break;case 1:var s=r.stateNode;if(4&r.flags&&!iM){if(null===i)s.componentDidMount();else{var u=r.elementType===r.type?i.memoizedProps:t$(r.type,i.memoizedProps);s.componentDidUpdate(u,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}}var c=r.updateQueue;null!==c&&nu(r,c,s);break;case 3:var h=r.updateQueue;if(null!==h){if(i=null,null!==r.child)switch(r.child.tag){case 5:i=j(r.child.stateNode);break;case 1:i=r.child.stateNode}nu(r,h,i)}break;case 5:var f=r.stateNode;null===i&&4&r.flags&&eM(f,r.type,r.memoizedProps,r);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(es&&null===r.memoizedState){var p=r.alternate;if(null!==p){var v=p.memoizedState;if(null!==v){var y=v.dehydrated;null!==y&&e4(y)}}}break;default:throw Error(x(163))}iM||512&r.flags&&iL(r)}catch(t){aj(r,r.return,t)}}if(r===t){iT=null;break}if(null!==(i=r.sibling)){i.return=r.return,iT=i;break}iT=r.return}}function iV(t){for(;null!==iT;){var r=iT;if(r===t){iT=null;break}var i=r.sibling;if(null!==i){i.return=r.return,iT=i;break}iT=r.return}}function ij(t){for(;null!==iT;){var r=iT;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{iP(4,r)}catch(t){aj(r,i,t)}break;case 1:var s=r.stateNode;if("function"==typeof s.componentDidMount){var u=r.return;try{s.componentDidMount()}catch(t){aj(r,u,t)}}var c=r.return;try{iL(r)}catch(t){aj(r,c,t)}break;case 5:var h=r.return;try{iL(r)}catch(t){aj(r,h,t)}}}catch(t){aj(r,r.return,t)}if(r===t){iT=null;break}var f=r.sibling;if(null!==f){f.return=r.return,iT=f;break}iT=r.return}}var iW=0,iX=1,iY=2,iZ=3,iK=4;if("function"==typeof Symbol&&Symbol.for){var iJ=Symbol.for;iW=iJ("selector.component"),iX=iJ("selector.has_pseudo_class"),iY=iJ("selector.role"),iZ=iJ("selector.test_id"),iK=iJ("selector.text")}function iQ(t){var r=el(t);if(null!=r){if("string"!=typeof r.memoizedProps["data-testname"])throw Error(x(364));return r}if(null===(t=eg(t)))throw Error(x(362));return t.stateNode.current}function iq(t,r){switch(r.$$typeof){case iW:if(t.type===r.value)return!0;break;case iX:e:{r=r.value,t=[t,0];for(var i=0;i<t.length;){var s=t[i++],u=t[i++],c=r[u];if(5!==s.tag||!ey(s)){for(;null!=c&&iq(s,c);)c=r[++u];if(u===r.length){r=!0;break e}for(s=s.child;null!==s;)t.push(s,u),s=s.sibling}}r=!1}return r;case iY:if(5===t.tag&&ex(t.stateNode,r.value))return!0;break;case iK:if((5===t.tag||6===t.tag)&&null!==(t=ev(t))&&0<=t.indexOf(r.value))return!0;break;case iZ:if(5===t.tag&&"string"==typeof(t=t.memoizedProps["data-testname"])&&t.toLowerCase()===r.value.toLowerCase())return!0;break;default:throw Error(x(365))}return!1}function i$(t){switch(t.$$typeof){case iW:return"<"+(N(t.value)||"Unknown")+">";case iX:return":has("+(i$(t)||"")+")";case iY:return'[role="'+t.value+'"]';case iK:return'"'+t.value+'"';case iZ:return'[data-testname="'+t.value+'"]';default:throw Error(x(365))}}function i0(t,r){var i=[];t=[t,0];for(var s=0;s<t.length;){var u=t[s++],c=t[s++],h=r[c];if(5!==u.tag||!ey(u)){for(;null!=h&&iq(u,h);)h=r[++c];if(c===r.length)i.push(u);else for(u=u.child;null!==u;)t.push(u,c),u=u.sibling}}return i}function i1(t,r){if(!ep)throw Error(x(363));t=i0(t=iQ(t),r),r=[],t=Array.from(t);for(var i=0;i<t.length;){var s=t[i++];if(5===s.tag)ey(s)||r.push(s.stateNode);else for(s=s.child;null!==s;)t.push(s),s=s.sibling}return r}var i2=Math.ceil,i3=_.ReactCurrentDispatcher,i5=_.ReactCurrentOwner,i4=_.ReactCurrentBatchConfig,i9=0,i8=null,i6=null,i7=0,ae=0,at=ts(0),an=0,ar=null,ai=0,aa=0,ao=0,as=null,al=null,au=0,ac=1/0;function ah(){ac=tF()+500}var ad=!1,af=null,ap=null,ag=!1,am=null,av=0,ay=0,ax=null,a_=-1,ab=0;function aw(){return 0!=(6&i9)?tF():-1!==a_?a_:a_=tF()}function aS(t){return 0==(1&t.mode)?1:0!=(2&i9)&&0!==i7?i7&-i7:null!==tQ.transition?(0===ab&&(t=tA,0==(4194240&(tA<<=1))&&(tA=64),ab=t),ab):0!==(t=tP)?t:ec()}function aA(t,r,i){if(50<ay)throw ay=0,ax=null,Error(x(185));var s=aM(t,r);return null===s?null:(tD(s,r,i),(0==(2&i9)||s!==i8)&&(s===i8&&(0==(2&i9)&&(aa|=r),4===an&&aD(s,i7)),aC(s,i),1===r&&0===i9&&0==(1&t.mode)&&(ah(),tY&&tJ())),s)}function aM(t,r){t.lanes|=r;var i=t.alternate;for(null!==i&&(i.lanes|=r),i=t,t=t.return;null!==t;)t.childLanes|=r,null!==(i=t.alternate)&&(i.childLanes|=r),i=t,t=t.return;return 3===i.tag?i.stateNode:null}function aC(t,r){var i,s=t.callbackNode;!function(t,r){for(var i=t.suspendedLanes,s=t.pingedLanes,u=t.expirationTimes,c=t.pendingLanes;0<c;){var h=31-tb(c),f=1<<h,p=u[h];-1===p?(0==(f&i)||0!=(f&s))&&(u[h]=function(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;default:return -1}}(f,r)):p<=r&&(t.expiredLanes|=f),c&=~f}}(t,r);var u=tT(t,t===i8?i7:0);if(0===u)null!==s&&tk(s),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(null!=s&&tk(s),1===r){;0===t.tag?(i=aR.bind(null,t),tY=!0,tK(i)):tK(aR.bind(null,t)),ed?ef(function(){0===i9&&tJ()}):tB(tU,tJ),s=null}else{switch(tL(u)){case 1:s=tU;break;case 4:s=tz;break;case 16:default:s=tG;break;case 0x20000000:s=tH}s=function(t,r){return tB(t,r)}(s,aT.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function aT(t,r){if(a_=-1,ab=0,0!=(6&i9))throw Error(x(327));var i=t.callbackNode;if(aH()&&t.callbackNode!==i)return null;var s=tT(t,t===i8?i7:0);if(0===s)return null;if(0!=(30&s)||0!=(s&t.expiredLanes)||r)r=aF(t,s);else{r=s;var u=i9;i9|=2;var c=aO();for((i8!==t||i7!==r)&&(ah(),aB(t,r));;)try{(function(){for(;null!==i6&&!tO();)aU(i6)})();break}catch(r){ak(t,r)}t5(),i3.current=c,i9=u,null!==i6?r=0:(i8=null,i7=0,r=an)}if(0!==r){if(2===r&&0!==(u=tE(t))&&(s=u,r=aE(t,u)),1===r)throw i=ar,aB(t,0),aD(t,s),aC(t,tF()),i;if(6===r)aD(t,s);else{if(u=t.current.alternate,0==(30&s)&&!function(t){for(var r=t;;){if(16384&r.flags){var i=r.updateQueue;if(null!==i&&null!==(i=i.stores))for(var s=0;s<i.length;s++){var u=i[s],c=u.getSnapshot;u=u.value;try{if(!tW(c(),u))return!1}catch(t){return!1}}}if(i=r.child,16384&r.subtreeFlags&&null!==i)i.return=r,r=i;else{if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}(u)&&(2===(r=aF(t,s))&&0!==(c=tE(t))&&(s=c,r=aE(t,c)),1===r))throw i=ar,aB(t,0),aD(t,s),aC(t,tF()),i;switch(t.finishedWork=u,t.finishedLanes=s,r){case 0:case 1:throw Error(x(345));case 2:case 5:aG(t,al);break;case 3:if(aD(t,s),(0x7c00000&s)===s&&10<(r=au+500-tF())){if(0!==tT(t,0))break;if(((u=t.suspendedLanes)&s)!==s){aw(),t.pingedLanes|=t.suspendedLanes&u;break}t.timeoutHandle=et(aG.bind(null,t,al),r);break}aG(t,al);break;case 4:if(aD(t,s),(4194240&s)===s)break;for(u=-1,r=t.eventTimes;0<s;){var h=31-tb(s);c=1<<h,(h=r[h])>u&&(u=h),s&=~c}if(s=u,10<(s=(120>(s=tF()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*i2(s/1960))-s)){t.timeoutHandle=et(aG.bind(null,t,al),s);break}aG(t,al);break;default:throw Error(x(329))}}}return aC(t,tF()),t.callbackNode===i?aT.bind(null,t):null}function aE(t,r){var i=as;return t.current.memoizedState.isDehydrated&&(aB(t,r).flags|=256),2!==(t=aF(t,r))&&(r=al,al=i,null!==r&&aI(r)),t}function aI(t){null===al?al=t:al.push.apply(al,t)}function aD(t,r){for(r&=~ao,r&=~aa,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var i=31-tb(r),s=1<<i;t[i]=-1,r&=~s}}function aR(t){if(0!=(6&i9))throw Error(x(327));aH();var r=tT(t,0);if(0==(1&r))return aC(t,tF()),null;var i=aF(t,r);if(0!==t.tag&&2===i){var s=tE(t);0!==s&&(r=s,i=aE(t,s))}if(1===i)throw i=ar,aB(t,0),aD(t,r),aC(t,tF()),i;if(6===i)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,aG(t,al),aC(t,tF()),null}function aP(t){null!==am&&0===am.tag&&0==(6&i9)&&aH();var r=i9;i9|=1;var i=i4.transition,s=tP;try{if(i4.transition=null,tP=1,t)return t()}finally{tP=s,i4.transition=i,0==(6&(i9=r))&&tJ()}}function aL(){ae=at.current,tl(at)}function aB(t,r){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==er&&(t.timeoutHandle=er,en(i)),null!==i6)for(i=i6.return;null!==i;){var s=i;switch(nI(s),s.tag){case 1:null!=(s=s.type.childContextTypes)&&tm();break;case 3:n1(),tl(td),tl(th),n8();break;case 5:n3(s);break;case 4:n1();break;case 13:case 19:tl(n5);break;case 10:t9(s.type._context);break;case 22:case 23:aL()}i=i.return}if(i8=t,i6=t=a$(t.current,null),i7=ae=r,an=0,ar=null,ao=aa=ai=0,al=as=null,null!==ne){for(r=0;r<ne.length;r++)if(null!==(s=(i=ne[r]).interleaved)){i.interleaved=null;var u=s.next,c=i.pending;if(null!==c){var h=c.next;c.next=u,s.next=h}i.pending=s}ne=null}return t}function ak(t,r){for(;;){var i=i6;try{if(t5(),n6.current=rW,ri){for(var s=rt.memoizedState;null!==s;){var u=s.queue;null!==u&&(u.pending=null),s=s.next}ri=!1}if(re=0,rr=rn=rt=null,ra=!1,ro=0,i5.current=null,null===i||null===i.return){an=1,ar=r,i6=null;break}e:{var c=t,h=i.return,f=i,p=r;if(r=i7,f.flags|=32768,null!==p&&"object"==typeof p&&"function"==typeof p.then){var v=p,y=f,_=y.tag;if(0==(1&y.mode)&&(0===_||11===_||15===_)){var b=y.alternate;b?(y.updateQueue=b.updateQueue,y.memoizedState=b.memoizedState,y.lanes=b.lanes):(y.updateQueue=null,y.memoizedState=null)}var w=r1(h);if(null!==w){w.flags&=-257,r2(w,h,f,c,r),1&w.mode&&r0(c,v,r),r=w,p=v;var S=r.updateQueue;if(null===S){var A=new Set;A.add(p),r.updateQueue=A}else S.add(p);break e}if(0==(1&r)){r0(c,v,r),aN();break e}p=Error(x(426))}else if(nP&&1&f.mode){var M=r1(h);if(null!==M){0==(65536&M.flags)&&(M.flags|=256),r2(M,h,f,c,r),nH(p);break e}}c=p,4!==an&&(an=2),null===as?as=[c]:as.push(c),p=rK(p,f),f=h;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var C=rq(f,p,r);ns(f,C);break e;case 1:c=p;var T=f.type,I=f.stateNode;if(0==(128&f.flags)&&("function"==typeof T.getDerivedStateFromError||null!==I&&"function"==typeof I.componentDidCatch&&(null===ap||!ap.has(I)))){f.flags|=65536,r&=-r,f.lanes|=r;var D=r$(f,c,r);ns(f,D);break e}}f=f.return}while(null!==f)}az(i)}catch(t){r=t,i6===i&&null!==i&&(i6=i=i.return);continue}break}}function aO(){var t=i3.current;return i3.current=rW,null===t?rW:t}function aN(){(0===an||3===an||2===an)&&(an=4),null===i8||0==(0xfffffff&ai)&&0==(0xfffffff&aa)||aD(i8,i7)}function aF(t,r){var i=i9;i9|=2;var s=aO();for(i8===t&&i7===r||aB(t,r);;)try{(function(){for(;null!==i6;)aU(i6)})();break}catch(r){ak(t,r)}if(t5(),i9=i,i3.current=s,null!==i6)throw Error(x(261));return i8=null,i7=0,an}function aU(t){var r=h(t.alternate,t,ae);t.memoizedProps=t.pendingProps,null===r?az(t):i6=r,i5.current=null}function az(t){var i=t;do{var h=i.alternate;if(t=i.return,0==(32768&i.flags)){if(null!==(h=function(t,i,h){var f=i.pendingProps;switch(nI(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return r8(i),null;case 1:case 17:return tg(i.type)&&tm(),r8(i),null;case 3:return f=i.stateNode,n1(),tl(td),tl(th),n8(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(null===t||null===t.child)&&(nz(i)?r3(i):null===t||t.memoizedState.isDehydrated&&0==(256&i.flags)||(i.flags|=1024,null!==nB&&(aI(nB),nB=null))),s(t,i),r8(i),null;case 5:n3(i),h=n$(nq.current);var p=i.type;if(null!==t&&null!=i.stateNode)u(t,i,p,f,h),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(null===i.stateNode)throw Error(x(166));return r8(i),null}if(t=n$(nJ.current),nz(i)){if(!es)throw Error(x(175));t=e0(i.stateNode,i.type,i.memoizedProps,h,t,i,!nL),i.updateQueue=t,null!==t&&r3(i)}else{var v=K(p,f,h,t,i);r(v,i,!1,!1),i.stateNode=v,Q(v,p,f,h,t)&&r3(i)}null!==i.ref&&(i.flags|=512,i.flags|=2097152)}return r8(i),null;case 6:if(t&&null!=i.stateNode)c(t,i,t.memoizedProps,f);else{if("string"!=typeof f&&null===i.stateNode)throw Error(x(166));if(t=n$(nq.current),h=n$(nJ.current),nz(i)){if(!es)throw Error(x(176));if(t=i.stateNode,(h=e1(t,f=i.memoizedProps,i,!nL))&&null!==(p=nD))switch(v=0!=(1&p.mode),p.tag){case 3:e7(p.stateNode.containerInfo,t,f,v);break;case 5:te(p.type,p.memoizedProps,p.stateNode,t,f,v)}h&&r3(i)}else i.stateNode=ee(f,t,h,i)}return r8(i),null;case 13:if(tl(n5),f=i.memoizedState,nP&&null!==nR&&0!=(1&i.mode)&&0==(128&i.flags)){for(t=nR;t;)t=eJ(t);return nG(),i.flags|=98560,i}if(null!==f&&null!==f.dehydrated){if(f=nz(i),null===t){if(!f)throw Error(x(318));if(!es)throw Error(x(344));if(!(t=null!==(t=i.memoizedState)?t.dehydrated:null))throw Error(x(317));e2(t,i)}else nG(),0==(128&i.flags)&&(i.memoizedState=null),i.flags|=4;return r8(i),null}if(null!==nB&&(aI(nB),nB=null),0!=(128&i.flags))return i.lanes=h,i;return f=null!==f,h=!1,null===t?nz(i):h=null!==t.memoizedState,f&&!h&&(i.child.flags|=8192,0!=(1&i.mode)&&(null===t||0!=(1&n5.current)?0===an&&(an=3):aN())),null!==i.updateQueue&&(i.flags|=4),r8(i),null;case 4:return n1(),s(t,i),null===t&&eu(i.stateNode.containerInfo),r8(i),null;case 10:return t9(i.type._context),r8(i),null;case 19:if(tl(n5),null===(p=i.memoizedState))return r8(i),null;if(f=0!=(128&i.flags),null===(v=p.rendering)){if(f)r9(p,!1);else{if(0!==an||null!==t&&0!=(128&t.flags))for(t=i.child;null!==t;){if(null!==(v=n4(t))){for(i.flags|=128,r9(p,!1),null!==(t=v.updateQueue)&&(i.updateQueue=t,i.flags|=4),i.subtreeFlags=0,t=h,f=i.child;null!==f;)h=f,p=t,h.flags&=0xe00002,null===(v=h.alternate)?(h.childLanes=0,h.lanes=p,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=v.childLanes,h.lanes=v.lanes,h.child=v.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=v.memoizedProps,h.memoizedState=v.memoizedState,h.updateQueue=v.updateQueue,h.type=v.type,p=v.dependencies,h.dependencies=null===p?null:{lanes:p.lanes,firstContext:p.firstContext}),f=f.sibling;return tu(n5,1&n5.current|2),i.child}t=t.sibling}null!==p.tail&&tF()>ac&&(i.flags|=128,f=!0,r9(p,!1),i.lanes=4194304)}}else{if(!f){if(null!==(t=n4(v))){if(i.flags|=128,f=!0,null!==(t=t.updateQueue)&&(i.updateQueue=t,i.flags|=4),r9(p,!0),null===p.tail&&"hidden"===p.tailMode&&!v.alternate&&!nP)return r8(i),null}else 2*tF()-p.renderingStartTime>ac&&0x40000000!==h&&(i.flags|=128,f=!0,r9(p,!1),i.lanes=4194304)}p.isBackwards?(v.sibling=i.child,i.child=v):(null!==(t=p.last)?t.sibling=v:i.child=v,p.last=v)}if(null!==p.tail)return i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=tF(),i.sibling=null,t=n5.current,tu(n5,f?1&t|2:1&t),i;return r8(i),null;case 22:case 23:return aL(),f=null!==i.memoizedState,null!==t&&null!==t.memoizedState!==f&&(i.flags|=8192),f&&0!=(1&i.mode)?0!=(0x40000000&ae)&&(r8(i),ea&&6&i.subtreeFlags&&(i.flags|=8192)):r8(i),null;case 24:case 25:return null}throw Error(x(156,i.tag))}(h,i,ae))){i6=h;return}}else{if(null!==(h=function(t,r){switch(nI(r),r.tag){case 1:return tg(r.type)&&tm(),65536&(t=r.flags)?(r.flags=-65537&t|128,r):null;case 3:return n1(),tl(td),tl(th),n8(),0!=(65536&(t=r.flags))&&0==(128&t)?(r.flags=-65537&t|128,r):null;case 5:return n3(r),null;case 13:if(tl(n5),null!==(t=r.memoizedState)&&null!==t.dehydrated){if(null===r.alternate)throw Error(x(340));nG()}return 65536&(t=r.flags)?(r.flags=-65537&t|128,r):null;case 19:return tl(n5),null;case 4:return n1(),null;case 10:return t9(r.type._context),null;case 22:case 23:return aL(),null;default:return null}}(h,i))){h.flags&=32767,i6=h;return}if(null!==t)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,i6=null;return}}if(null!==(i=i.sibling)){i6=i;return}i6=i=t}while(null!==i);0===an&&(an=5)}function aG(t,r){var i=tP,s=i4.transition;try{i4.transition=null,tP=1,function(t,r,i){do aH();while(null!==am);if(0!=(6&i9))throw Error(x(327));var s=t.finishedWork,u=t.finishedLanes;if(null===s)return;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var c=s.lanes|s.childLanes;if(!function(t,r){var i=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<i;){var u=31-tb(i),c=1<<u;r[u]=0,s[u]=-1,t[u]=-1,i&=~c}}(t,c),t===i8&&(i6=i8=null,i7=0),0==(2064&s.subtreeFlags)&&0==(2064&s.flags)||ag||(ag=!0,function(t,r){tB(t,r)}(tG,function(){return aH(),null})),c=0!=(15990&s.flags),0!=(15990&s.subtreeFlags)||c){c=i4.transition,i4.transition=null;var h,f,p,v=tP;tP=1;var y=i9;i9|=4,i5.current=null,!function(t,r){for(Y(t.containerInfo),iT=r;null!==iT;)if(r=(t=iT).child,0!=(1028&t.subtreeFlags)&&null!==r)r.return=t,iT=r;else for(;null!==iT;){t=iT;try{var i=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==i){var s=i.memoizedProps,u=i.memoizedState,c=t.stateNode,h=c.getSnapshotBeforeUpdate(t.elementType===t.type?s:t$(t.type,s),u);c.__reactInternalSnapshotBeforeUpdate=h}break;case 3:ea&&eO(t.stateNode.containerInfo);break;default:throw Error(x(163))}}catch(r){aj(t,t.return,r)}if(null!==(r=t.sibling)){r.return=t.return,iT=r;break}iT=t.return}i=iD,iD=!1}(t,s),!function(t,r){for(iT=r;null!==iT;){var i=(r=iT).deletions;if(null!==i)for(var s=0;s<i.length;s++){var u=i[s];try{var c=t;ea?iU(c,u,r):ik(c,u,r);var h=u.alternate;null!==h&&(h.return=null),u.return=null}catch(t){aj(u,r,t)}}if(i=r.child,0!=(12854&r.subtreeFlags)&&null!==i)i.return=r,iT=i;else for(;null!==iT;){r=iT;try{var f=r.flags;if(32&f&&ea&&eR(r.stateNode),512&f){var p=r.alternate;if(null!==p){var v=p.ref;null!==v&&("function"==typeof v?v(null):v.current=null)}}if(8192&f)switch(r.tag){case 13:if(null!==r.memoizedState){var y=r.alternate;(null===y||null===y.memoizedState)&&(au=tF())}break;case 22:var x=null!==r.memoizedState,_=r.alternate,b=null!==_&&null!==_.memoizedState;if(i=r,ea){e:if(s=i,u=x,c=null,ea)for(var w=s;;){if(5===w.tag){if(null===c){c=w;var S=w.stateNode;u?eP(S):eB(w.stateNode,w.memoizedProps)}}else if(6===w.tag){if(null===c){var A=w.stateNode;u?eL(A):ek(A,w.memoizedProps)}}else if((22!==w.tag&&23!==w.tag||null===w.memoizedState||w===s)&&null!==w.child){w.child.return=w,w=w.child;continue}if(w===s)break;for(;null===w.sibling;){if(null===w.return||w.return===s)break e;c===w&&(c=null),w=w.return}c===w&&(c=null),w.sibling.return=w.return,w=w.sibling}}if(x&&!b&&0!=(1&i.mode)){iT=i;for(var M=i.child;null!==M;){for(i=iT=M;null!==iT;){var C=(s=iT).child;switch(s.tag){case 0:case 11:case 14:case 15:iR(4,s,s.return);break;case 1:iE(s,s.return);var T=s.stateNode;if("function"==typeof T.componentWillUnmount){var I=s.return;try{T.props=s.memoizedProps,T.state=s.memoizedState,T.componentWillUnmount()}catch(t){aj(s,I,t)}}break;case 5:iE(s,s.return);break;case 22:if(null!==s.memoizedState){iV(i);continue}}null!==C?(C.return=s,iT=C):iV(i)}M=M.sibling}}}switch(4102&f){case 2:iF(r),r.flags&=-3;break;case 6:iF(r),r.flags&=-3,iz(r.alternate,r);break;case 4096:r.flags&=-4097;break;case 4100:r.flags&=-4097,iz(r.alternate,r);break;case 4:iz(r.alternate,r)}}catch(t){aj(r,r.return,t)}if(null!==(i=r.sibling)){i.return=r.return,iT=i;break}iT=r.return}}}(t,s,u),Z(t.containerInfo),t.current=s,h=s,f=t,p=u,iT=h,function t(r,i,s){for(var u=0!=(1&r.mode);null!==iT;){var c=iT,h=c.child;if(22===c.tag&&u){var f=null!==c.memoizedState||iA;if(!f){var p=c.alternate,v=null!==p&&null!==p.memoizedState||iM;p=iA;var y=iM;if(iA=f,(iM=v)&&!y)for(iT=c;null!==iT;)v=(f=iT).child,22===f.tag&&null!==f.memoizedState?ij(c):null!==v?(v.return=f,iT=v):ij(c);for(;null!==h;)iT=h,t(h,i,s),h=h.sibling;iT=c,iA=p,iM=y}iH(r,i,s)}else 0!=(8772&c.subtreeFlags)&&null!==h?(h.return=c,iT=h):iH(r,i,s)}}(h,f,p),tN(),i9=y,tP=v,i4.transition=c}else t.current=s;if(ag&&(ag=!1,am=t,av=u),0===(c=t.pendingLanes)&&(ap=null),!function(t){if(tj&&"function"==typeof tj.onCommitFiberRoot)try{tj.onCommitFiberRoot(tV,t,void 0,128==(128&t.current.flags))}catch(t){}}(s.stateNode,i),aC(t,tF()),null!==r)for(i=t.onRecoverableError,s=0;s<r.length;s++)i(r[s]);if(ad)throw ad=!1,t=af,af=null,t;0!=(1&av)&&0!==t.tag&&aH(),0!=(1&(c=t.pendingLanes))?t===ax?ay++:(ay=0,ax=t):ay=0,tJ()}(t,r,i)}finally{i4.transition=s,tP=i}return null}function aH(){if(null!==am){var t=tL(av),r=i4.transition,i=tP;try{if(i4.transition=null,tP=16>t?16:t,null===am)var s=!1;else{if(t=am,am=null,av=0,0!=(6&i9))throw Error(x(331));var u=i9;for(i9|=4,iT=t.current;null!==iT;){var c=iT,h=c.child;if(0!=(16&iT.flags)){var f=c.deletions;if(null!==f){for(var p=0;p<f.length;p++){var v=f[p];for(iT=v;null!==iT;){var y=iT;switch(y.tag){case 0:case 11:case 15:iR(8,y,c)}var _=y.child;if(null!==_)_.return=y,iT=_;else for(;null!==iT;){var b=(y=iT).sibling,w=y.return;if(!function t(r){var i=r.alternate;null!==i&&(r.alternate=null,t(i)),r.child=null,r.deletions=null,r.sibling=null,5===r.tag&&null!==(i=r.stateNode)&&eh(i),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}(y),y===v){iT=null;break}if(null!==b){b.return=w,iT=b;break}iT=w}}}var S=c.alternate;if(null!==S){var A=S.child;if(null!==A){S.child=null;do{var M=A.sibling;A.sibling=null,A=M}while(null!==A)}}iT=c}}if(0!=(2064&c.subtreeFlags)&&null!==h)h.return=c,iT=h;else for(;null!==iT;){if(c=iT,0!=(2048&c.flags))switch(c.tag){case 0:case 11:case 15:iR(9,c,c.return)}var C=c.sibling;if(null!==C){C.return=c.return,iT=C;break}iT=c.return}}var T=t.current;for(iT=T;null!==iT;){var I=(h=iT).child;if(0!=(2064&h.subtreeFlags)&&null!==I)I.return=h,iT=I;else for(h=T;null!==iT;){if(f=iT,0!=(2048&f.flags))try{switch(f.tag){case 0:case 11:case 15:iP(9,f)}}catch(t){aj(f,f.return,t)}if(f===h){iT=null;break}var D=f.sibling;if(null!==D){D.return=f.return,iT=D;break}iT=f.return}}if(i9=u,tJ(),tj&&"function"==typeof tj.onPostCommitFiberRoot)try{tj.onPostCommitFiberRoot(tV,t)}catch(t){}s=!0}return s}finally{tP=i,i4.transition=r}}return!1}function aV(t,r,i){r=rq(t,r=rK(i,r),1),na(t,r),r=aw(),null!==(t=aM(t,1))&&(tD(t,1,r),aC(t,r))}function aj(t,r,i){if(3===t.tag)aV(t,t,i);else for(;null!==r;){if(3===r.tag){aV(r,t,i);break}if(1===r.tag){var s=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof s.componentDidCatch&&(null===ap||!ap.has(s))){t=r$(r,t=rK(i,t),1),na(r,t),t=aw(),null!==(r=aM(r,1))&&(tD(r,1,t),aC(r,t));break}}r=r.return}}function aW(t,r,i){var s=t.pingCache;null!==s&&s.delete(r),r=aw(),t.pingedLanes|=t.suspendedLanes&i,i8===t&&(i7&i)===i&&(4===an||3===an&&(0x7c00000&i7)===i7&&500>tF()-au?aB(t,0):ao|=i),aC(t,r)}function aX(t,r){0===r&&(0==(1&t.mode)?r=1:(r=tM,0==(0x7c00000&(tM<<=1))&&(tM=4194304)));var i=aw();null!==(t=aM(t,r))&&(tD(t,r,i),aC(t,i))}function aY(t){var r=t.memoizedState,i=0;null!==r&&(i=r.retryLane),aX(t,i)}function aZ(t,r){var i=0;switch(t.tag){case 13:var s=t.stateNode,u=t.memoizedState;null!==u&&(i=u.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(x(314))}null!==s&&s.delete(r),aX(t,i)}function aK(t,r){return tB(t,r)}function aJ(t,r,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aQ(t,r,i,s){return new aJ(t,r,i,s)}function aq(t){return!(!(t=t.prototype)||!t.isReactComponent)}h=function(t,r,i){if(null!==t){if(t.memoizedProps!==r.pendingProps||td.current)r7=!0;else{if(0==(t.lanes&i)&&0==(128&r.flags))return r7=!1,function(t,r,i){switch(r.tag){case 3:ic(r),nG();break;case 5:n2(r);break;case 1:tg(r.type)&&tx(r);break;case 4:n0(r,r.stateNode.containerInfo);break;case 10:t4(r,r.type._context,r.memoizedProps.value);break;case 13:var s=r.memoizedState;if(null!==s){if(null!==s.dehydrated)return tu(n5,1&n5.current),r.flags|=128,null;if(0!=(i&r.child.childLanes))return ig(t,r,i);return tu(n5,1&n5.current),null!==(t=iS(t,r,i))?t.sibling:null}tu(n5,1&n5.current);break;case 19:if(s=0!=(i&r.childLanes),0!=(128&t.flags)){if(s)return iw(t,r,i);r.flags|=128}var u=r.memoizedState;if(null!==u&&(u.rendering=null,u.tail=null,u.lastEffect=null),tu(n5,n5.current),!s)return null;break;case 22:case 23:return r.lanes=0,ia(t,r,i)}return iS(t,r,i)}(t,r,i);r7=0!=(131072&t.flags)}}else r7=!1,nP&&0!=(1048576&r.flags)&&nT(r,n_,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;null!==t&&(t.alternate=null,r.alternate=null,r.flags|=2),t=r.pendingProps;var u=tp(r,th.current);t6(r,i),u=rc(null,r,s,t,u,i);var c=rh();return r.flags|=1,"object"==typeof u&&null!==u&&"function"==typeof u.render&&void 0===u.$$typeof?(r.tag=1,r.memoizedState=null,r.updateQueue=null,tg(s)?(c=!0,tx(r)):c=!1,r.memoizedState=null!==u.state&&void 0!==u.state?u.state:null,nn(r),u.updater=nd,r.stateNode=u,u._reactInternals=r,nm(r,s,t,i),r=iu(null,r,s,!0,c,i)):(r.tag=0,nP&&c&&nE(r),ie(null,r,u,i),r=r.child),r;case 16:s=r.elementType;e:{switch(null!==t&&(t.alternate=null,r.alternate=null,r.flags|=2),t=r.pendingProps,s=(u=s._init)(s._payload),r.type=s,u=r.tag=function(t){if("function"==typeof t)return aq(t)?1:0;if(null!=t){if((t=t.$$typeof)===I)return 11;if(t===P)return 14}return 2}(s),t=t$(s,t),u){case 0:r=is(null,r,s,t,i);break e;case 1:r=il(null,r,s,t,i);break e;case 11:r=it(null,r,s,t,i);break e;case 14:r=ir(null,r,s,t$(s.type,t),i);break e}throw Error(x(306,s,""))}return r;case 0:return s=r.type,u=r.pendingProps,u=r.elementType===s?u:t$(s,u),is(t,r,s,u,i);case 1:return s=r.type,u=r.pendingProps,u=r.elementType===s?u:t$(s,u),il(t,r,s,u,i);case 3:e:{if(ic(r),null===t)throw Error(x(387));s=r.pendingProps,u=(c=r.memoizedState).element,nr(t,r),nl(r,s,null,i);var h=r.memoizedState;if(s=h.element,es&&c.isDehydrated){if(c={element:s,isDehydrated:!1,cache:h.cache,transitions:h.transitions},r.updateQueue.baseState=c,r.memoizedState=c,256&r.flags){r=ih(t,r,s,i,u=Error(x(423)));break e}else if(s!==u){r=ih(t,r,s,i,u=Error(x(424)));break e}else for(es&&(nR=eq(r.stateNode.containerInfo),nD=r,nP=!0,nB=null,nL=!1),i=nZ(r,null,s,i),r.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(nG(),s===u){r=iS(t,r,i);break e}ie(t,r,s,i)}r=r.child}return r;case 5:return n2(r),null===t&&nF(r),s=r.type,u=r.pendingProps,c=null!==t?t.memoizedProps:null,h=u.children,$(s,u)?h=null:null!==c&&$(s,c)&&(r.flags|=32),io(t,r),ie(t,r,h,i),r.child;case 6:return null===t&&nF(r),null;case 13:return ig(t,r,i);case 4:return n0(r,r.stateNode.containerInfo),s=r.pendingProps,null===t?r.child=nY(r,null,s,i):ie(t,r,s,i),r.child;case 11:return s=r.type,u=r.pendingProps,u=r.elementType===s?u:t$(s,u),it(t,r,s,u,i);case 7:return ie(t,r,r.pendingProps,i),r.child;case 8:case 12:return ie(t,r,r.pendingProps.children,i),r.child;case 10:e:{if(s=r.type._context,u=r.pendingProps,c=r.memoizedProps,t4(r,s,h=u.value),null!==c){if(tW(c.value,h)){if(c.children===u.children&&!td.current){r=iS(t,r,i);break e}}else for(null!==(c=r.child)&&(c.return=r);null!==c;){var f=c.dependencies;if(null!==f){h=c.child;for(var p=f.firstContext;null!==p;){if(p.context===s){if(1===c.tag){(p=ni(-1,i&-i)).tag=2;var v=c.updateQueue;if(null!==v){var y=(v=v.shared).pending;null===y?p.next=p:(p.next=y.next,y.next=p),v.pending=p}}c.lanes|=i,null!==(p=c.alternate)&&(p.lanes|=i),t8(c.return,i,r),f.lanes|=i;break}p=p.next}}else if(10===c.tag)h=c.type===r.type?null:c.child;else if(18===c.tag){if(null===(h=c.return))throw Error(x(341));h.lanes|=i,null!==(f=h.alternate)&&(f.lanes|=i),t8(h,i,r),h=c.sibling}else h=c.child;if(null!==h)h.return=c;else for(h=c;null!==h;){if(h===r){h=null;break}if(null!==(c=h.sibling)){c.return=h.return,h=c;break}h=h.return}c=h}}ie(t,r,u.children,i),r=r.child}return r;case 9:return u=r.type,s=r.pendingProps.children,t6(r,i),s=s(u=t7(u)),r.flags|=1,ie(t,r,s,i),r.child;case 14:return u=t$(s=r.type,r.pendingProps),u=t$(s.type,u),ir(t,r,s,u,i);case 15:return ii(t,r,r.type,r.pendingProps,i);case 17:return s=r.type,u=r.pendingProps,u=r.elementType===s?u:t$(s,u),null!==t&&(t.alternate=null,r.alternate=null,r.flags|=2),r.tag=1,tg(s)?(t=!0,tx(r)):t=!1,t6(r,i),np(r,s,u),nm(r,s,u,i),iu(null,r,s,!0,t,i);case 19:return iw(t,r,i);case 22:return ia(t,r,i)}throw Error(x(156,r.tag))};function a$(t,r){var i=t.alternate;return null===i?((i=aQ(t.tag,r,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=r,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=0xe00000&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,r=t.dependencies,i.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function a0(t,r,i,s,u,c){var h=2;if(s=t,"function"==typeof t)aq(t)&&(h=1);else if("string"==typeof t)h=5;else e:switch(t){case S:return a1(i.children,u,c,r);case A:h=8,u|=8;break;case M:return(t=aQ(12,i,r,2|u)).elementType=M,t.lanes=c,t;case D:return(t=aQ(13,i,r,u)).elementType=D,t.lanes=c,t;case R:return(t=aQ(19,i,r,u)).elementType=R,t.lanes=c,t;case B:return a2(i,u,c,r);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case C:h=10;break e;case T:h=9;break e;case I:h=11;break e;case P:h=14;break e;case L:h=16,s=null;break e}throw Error(x(130,null==t?t:typeof t,""))}return(r=aQ(h,i,r,u)).elementType=t,r.type=s,r.lanes=c,r}function a1(t,r,i,s){return(t=aQ(7,t,s,r)).lanes=i,t}function a2(t,r,i,s){return(t=aQ(22,t,s,r)).elementType=B,t.lanes=i,t.stateNode={},t}function a3(t,r,i){return(t=aQ(6,t,null,r)).lanes=i,t}function a5(t,r,i){return(r=aQ(4,null!==t.children?t.children:[],t.key,r)).lanes=i,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function a4(t,r,i,s,u){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=er,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tI(0),this.expirationTimes=tI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tI(0),this.identifierPrefix=s,this.onRecoverableError=u,es&&(this.mutableSourceEagerHydrationData=null)}function a9(t,r,i,s,u,c,h,f,p){return t=new a4(t,r,i,f,p),1===r?(r=1,!0===c&&(r|=8)):r=0,c=aQ(3,null,null,r),t.current=c,c.stateNode=t,c.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null},nn(c),t}function a8(t){if(!t)return tc;t=t._reactInternals;e:{if(F(t)!==t||1!==t.tag)throw Error(x(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(tg(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(null!==r);throw Error(x(171))}if(1===t.tag){var i=t.type;if(tg(i))return ty(t,i,r)}return r}function a6(t){var r=t._reactInternals;if(void 0===r){if("function"==typeof t.render)throw Error(x(188));throw Error(x(268,t=Object.keys(t).join(",")))}return null===(t=G(r))?null:t.stateNode}function a7(t,r){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<r?i:r}}function oe(t,r){a7(t,r),(t=t.alternate)&&a7(t,r)}function ot(t){return null===(t=G(t))?null:t.stateNode}function on(){return null}return f.attemptContinuousHydration=function(t){13===t.tag&&(aA(t,0x8000000,aw()),oe(t,0x8000000))},f.attemptHydrationAtCurrentPriority=function(t){if(13===t.tag){var r=aw(),i=aS(t);aA(t,i,r),oe(t,i)}},f.attemptSynchronousHydration=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var i=tC(r.pendingLanes);0!==i&&(tR(r,1|i),aC(r,tF()),0==(6&i9)&&(ah(),tJ()))}break;case 13:var s=aw();aP(function(){return aA(t,1,s)}),oe(t,1)}},f.batchedUpdates=function(t,r){var i=i9;i9|=1;try{return t(r)}finally{0===(i9=i)&&(ah(),tY&&tJ())}},f.createComponentSelector=function(t){return{$$typeof:iW,value:t}},f.createContainer=function(t,r,i,s,u,c,h){return a9(t,r,!1,null,i,s,u,c,h)},f.createHasPseudoClassSelector=function(t){return{$$typeof:iX,value:t}},f.createHydrationContainer=function(t,r,i,s,u,c,h,f,p){return(t=a9(i,s,!0,t,u,c,h,f,p)).context=a8(null),i=t.current,s=aw(),(c=ni(s,u=aS(i))).callback=null!=r?r:null,na(i,c),t.current.lanes=u,tD(t,u,s),aC(t,s),t},f.createPortal=function(t,r,i){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==s?null:""+s,children:t,containerInfo:r,implementation:i}},f.createRoleSelector=function(t){return{$$typeof:iY,value:t}},f.createTestNameSelector=function(t){return{$$typeof:iZ,value:t}},f.createTextSelector=function(t){return{$$typeof:iK,value:t}},f.deferredUpdates=function(t){var r=tP,i=i4.transition;try{return i4.transition=null,tP=16,t()}finally{tP=r,i4.transition=i}},f.discreteUpdates=function(t,r,i,s,u){var c=tP,h=i4.transition;try{return i4.transition=null,tP=1,t(r,i,s,u)}finally{tP=c,i4.transition=h,0===i9&&ah()}},f.findAllNodes=i1,f.findBoundingRects=function(t,r){if(!ep)throw Error(x(363));r=i1(t,r),t=[];for(var i=0;i<r.length;i++)t.push(em(r[i]));for(r=t.length-1;0<r;r--){i=t[r];for(var s=i.x,u=s+i.width,c=i.y,h=c+i.height,f=r-1;0<=f;f--)if(r!==f){var p=t[f],v=p.x,y=v+p.width,_=p.y,b=_+p.height;if(s>=v&&c>=_&&u<=y&&h<=b){t.splice(r,1);break}if(s!==v||i.width!==p.width||b<c||_>h){if(!(c!==_||i.height!==p.height||y<s||v>u)){v>s&&(p.width+=v-s,p.x=s),y<u&&(p.width=u-v),t.splice(r,1);break}}else{_>c&&(p.height+=_-c,p.y=c),b<h&&(p.height=h-_),t.splice(r,1);break}}}return t},f.findHostInstance=a6,f.findHostInstanceWithNoPortals=function(t){return null===(t=null!==(t=z(t))?function t(r){if(5===r.tag||6===r.tag)return r;for(r=r.child;null!==r;){if(4!==r.tag){var i=t(r);if(null!==i)return i}r=r.sibling}return null}(t):null)?null:t.stateNode},f.findHostInstanceWithWarning=function(t){return a6(t)},f.flushControlled=function(t){var r=i9;i9|=1;var i=i4.transition,s=tP;try{i4.transition=null,tP=1,t()}finally{tP=s,i4.transition=i,0===(i9=r)&&(ah(),tJ())}},f.flushPassiveEffects=aH,f.flushSync=aP,f.focusWithin=function(t,r){if(!ep)throw Error(x(363));for(r=Array.from(r=i0(t=iQ(t),r)),t=0;t<r.length;){var i=r[t++];if(!ey(i)){if(5===i.tag&&e_(i.stateNode))return!0;for(i=i.child;null!==i;)r.push(i),i=i.sibling}}return!1},f.getCurrentUpdatePriority=function(){return tP},f.getFindAllNodesFailureDescription=function(t,r){if(!ep)throw Error(x(363));var i=0,s=[];t=[iQ(t),0];for(var u=0;u<t.length;){var c=t[u++],h=t[u++],f=r[h];if((5!==c.tag||!ey(c))&&(iq(c,f)&&(s.push(i$(f)),++h>i&&(i=h)),h<r.length))for(c=c.child;null!==c;)t.push(c,h),c=c.sibling}if(i<r.length){for(t=[];i<r.length;i++)t.push(i$(r[i]));return"findAllNodes was able to match part of the selector:\n  "+s.join(" > ")+"\n\nNo matching component was found for:\n  "+t.join(" > ")}return null},f.getPublicRootInstance=function(t){if(!(t=t.current).child)return null;if(5===t.child.tag)return j(t.child.stateNode);return t.child.stateNode},f.injectIntoDevTools=function(t){if(t={bundleType:t.bundleType,version:t.version,rendererPackageName:t.rendererPackageName,rendererConfig:t.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:ot,findFiberByHostInstance:t.findFiberByHostInstance||on,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)t=!1;else{var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(r.isDisabled||!r.supportsFiber)t=!0;else{try{tV=r.inject(t),tj=r}catch(t){}t=!!r.checkDCE}}return t},f.isAlreadyRendering=function(){return!1},f.observeVisibleRects=function(t,r,i,s){if(!ep)throw Error(x(363));var u=eb(t=i1(t,r),i,s).disconnect;return{disconnect:function(){u()}}},f.registerMutableSourceForHydration=function(t,r){var i=r._getVersion;i=i(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i)},f.runWithPriority=function(t,r){var i=tP;try{return tP=t,r()}finally{tP=i}},f.shouldError=function(){return null},f.shouldSuspend=function(){return!1},f.updateContainer=function(t,r,i,s){var u=r.current,c=aw(),h=aS(u);return i=a8(i),null===r.context?r.context=i:r.pendingContext=i,(r=ni(c,h)).payload={element:t},null!==(s=void 0===s?null:s)&&(r.callback=s),na(u,r),null!==(t=aA(u,h,c))&&no(t,u,h),h},f}},611:function(t,r,i){"use strict";t.exports=i(4359)},6191:function(t,r,i){"use strict";t.exports=i(1041)},8193:function(t,r,i){"use strict";var s=i(5271),u=Symbol.for("react.element"),c=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,f=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function v(t,r,i){var s,c={},v=null,y=null;for(s in void 0!==i&&(v=""+i),void 0!==r.key&&(v=""+r.key),void 0!==r.ref&&(y=r.ref),r)h.call(r,s)&&!p.hasOwnProperty(s)&&(c[s]=r[s]);if(t&&t.defaultProps)for(s in r=t.defaultProps)void 0===c[s]&&(c[s]=r[s]);return{$$typeof:u,type:t,key:v,ref:y,props:c,_owner:f.current}}r.Fragment=c,r.jsx=v,r.jsxs=v},7596:function(t,r){"use strict";var i=Symbol.for("react.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator,w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function M(t,r,i){this.props=t,this.context=r,this.refs=A,this.updater=i||w}function C(){}function T(t,r,i){this.props=t,this.context=r,this.refs=A,this.updater=i||w}M.prototype.isReactComponent={},M.prototype.setState=function(t,r){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")},M.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},C.prototype=M.prototype;var I=T.prototype=new C;I.constructor=T,S(I,M.prototype),I.isPureReactComponent=!0;var D=Array.isArray,R=Object.prototype.hasOwnProperty,P={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function B(t,r,s){var u,c={},h=null,f=null;if(null!=r)for(u in void 0!==r.ref&&(f=r.ref),void 0!==r.key&&(h=""+r.key),r)R.call(r,u)&&!L.hasOwnProperty(u)&&(c[u]=r[u]);var p=arguments.length-2;if(1===p)c.children=s;else if(1<p){for(var v=Array(p),y=0;y<p;y++)v[y]=arguments[y+2];c.children=v}if(t&&t.defaultProps)for(u in p=t.defaultProps)void 0===c[u]&&(c[u]=p[u]);return{$$typeof:i,type:t,key:h,ref:f,props:c,_owner:P.current}}function k(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var O=/\/+/g;function N(t,r){var i,s;return"object"==typeof t&&null!==t&&null!=t.key?(i=""+t.key,s={"=":"=0",":":"=2"},"$"+i.replace(/[=:]/g,function(t){return s[t]})):r.toString(36)}function F(t,r,u){if(null==t)return t;var c=[],h=0;return!function t(r,u,c,h,f){var p,v,y,x=typeof r;("undefined"===x||"boolean"===x)&&(r=null);var _=!1;if(null===r)_=!0;else switch(x){case"string":case"number":_=!0;break;case"object":switch(r.$$typeof){case i:case s:_=!0}}if(_){;return f=f(_=r),r=""===h?"."+N(_,0):h,D(f)?(c="",null!=r&&(c=r.replace(O,"$&/")+"/"),t(f,u,c,"",function(t){return t})):null!=f&&(k(f)&&(p=f,v=c+(!f.key||_&&_.key===f.key?"":(""+f.key).replace(O,"$&/")+"/")+r,f={$$typeof:i,type:p.type,key:v,ref:p.ref,props:p.props,_owner:p._owner}),u.push(f)),1}if(_=0,h=""===h?".":h+":",D(r))for(var w=0;w<r.length;w++){var S=h+N(x=r[w],w);_+=t(x,u,c,S,f)}else{;if("function"==typeof(S=null===(y=r)||"object"!=typeof y?null:"function"==typeof(y=b&&y[b]||y["@@iterator"])?y:null))for(r=S.call(r),w=0;!(x=r.next()).done;)S=h+N(x=x.value,w++),_+=t(x,u,c,S,f);else if("object"===x)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(u=String(r))?"object with keys {"+Object.keys(r).join(", ")+"}":u)+"). If you meant to render a collection of children, use an array instead.")}return _}(t,c,"","",function(t){return r.call(u,t,h++)}),c}function U(t){if(-1===t._status){var r=t._result;(r=r()).then(function(r){(0===t._status||-1===t._status)&&(t._status=1,t._result=r)},function(r){(0===t._status||-1===t._status)&&(t._status=2,t._result=r)}),-1===t._status&&(t._status=0,t._result=r)}if(1===t._status)return t._result.default;throw t._result}var z={current:null},G={transition:null};function H(){throw Error("act(...) is not supported in production builds of React.")}r.Children={map:F,forEach:function(t,r,i){F(t,function(){r.apply(this,arguments)},i)},count:function(t){var r=0;return F(t,function(){r++}),r},toArray:function(t){return F(t,function(t){return t})||[]},only:function(t){if(!k(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},r.Component=M,r.Fragment=u,r.Profiler=h,r.PureComponent=T,r.StrictMode=c,r.Suspense=y,r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:G,ReactCurrentOwner:P},r.act=H,r.cloneElement=function(t,r,s){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var u=S({},t.props),c=t.key,h=t.ref,f=t._owner;if(null!=r){if(void 0!==r.ref&&(h=r.ref,f=P.current),void 0!==r.key&&(c=""+r.key),t.type&&t.type.defaultProps)var p=t.type.defaultProps;for(v in r)R.call(r,v)&&!L.hasOwnProperty(v)&&(u[v]=void 0===r[v]&&void 0!==p?p[v]:r[v])}var v=arguments.length-2;if(1===v)u.children=s;else if(1<v){p=Array(v);for(var y=0;y<v;y++)p[y]=arguments[y+2];u.children=p}return{$$typeof:i,type:t.type,key:c,ref:h,props:u,_owner:f}},r.createContext=function(t){return(t={$$typeof:p,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:f,_context:t},t.Consumer=t},r.createElement=B,r.createFactory=function(t){var r=B.bind(null,t);return r.type=t,r},r.createRef=function(){return{current:null}},r.forwardRef=function(t){return{$$typeof:v,render:t}},r.isValidElement=k,r.lazy=function(t){return{$$typeof:_,_payload:{_status:-1,_result:t},_init:U}},r.memo=function(t,r){return{$$typeof:x,type:t,compare:void 0===r?null:r}},r.startTransition=function(t){var r=G.transition;G.transition={};try{t()}finally{G.transition=r}},r.unstable_act=H,r.useCallback=function(t,r){return z.current.useCallback(t,r)},r.useContext=function(t){return z.current.useContext(t)},r.useDebugValue=function(){},r.useDeferredValue=function(t){return z.current.useDeferredValue(t)},r.useEffect=function(t,r){return z.current.useEffect(t,r)},r.useId=function(){return z.current.useId()},r.useImperativeHandle=function(t,r,i){return z.current.useImperativeHandle(t,r,i)},r.useInsertionEffect=function(t,r){return z.current.useInsertionEffect(t,r)},r.useLayoutEffect=function(t,r){return z.current.useLayoutEffect(t,r)},r.useMemo=function(t,r){return z.current.useMemo(t,r)},r.useReducer=function(t,r,i){return z.current.useReducer(t,r,i)},r.useRef=function(t){return z.current.useRef(t)},r.useState=function(t){return z.current.useState(t)},r.useSyncExternalStore=function(t,r,i){return z.current.useSyncExternalStore(t,r,i)},r.useTransition=function(){return z.current.useTransition()},r.version="18.3.1"},5271:function(t,r,i){"use strict";t.exports=i(7596)},2676:function(t,r,i){"use strict";t.exports=i(8193)},247:function(t,r){"use strict";function i(t,r){var i=t.length;for(t.push(r);0<i;){var s=i-1>>>1,u=t[s];if(0<c(u,r))t[s]=r,t[i]=u,i=s;else break}}function s(t){return 0===t.length?null:t[0]}function u(t){if(0===t.length)return null;var r=t[0],i=t.pop();if(i!==r){t[0]=i;for(var s=0,u=t.length,h=u>>>1;s<h;){var f=2*(s+1)-1,p=t[f],v=f+1,y=t[v];if(0>c(p,i))v<u&&0>c(y,p)?(t[s]=y,t[v]=i,s=v):(t[s]=p,t[f]=i,s=f);else if(v<u&&0>c(y,i))t[s]=y,t[v]=i,s=v;else break}}return r}function c(t,r){var i=t.sortIndex-r.sortIndex;return 0!==i?i:t.id-r.id}if("object"==typeof performance&&"function"==typeof performance.now){var h,f=performance;r.unstable_now=function(){return f.now()}}else{var p=Date,v=p.now();r.unstable_now=function(){return p.now()-v}}var y=[],x=[],_=1,b=null,w=3,S=!1,A=!1,M=!1,C="function"==typeof setTimeout?setTimeout:null,T="function"==typeof clearTimeout?clearTimeout:null,I="undefined"!=typeof setImmediate?setImmediate:null;function D(t){for(var r=s(x);null!==r;){if(null===r.callback)u(x);else if(r.startTime<=t)u(x),r.sortIndex=r.expirationTime,i(y,r);else break;r=s(x)}}function R(t){if(M=!1,D(t),!A){if(null!==s(y))A=!0,H(P);else{var r=s(x);null!==r&&V(R,r.startTime-t)}}}function P(t,i){A=!1,M&&(M=!1,T(k),k=-1),S=!0;var c=w;try{for(D(i),b=s(y);null!==b&&(!(b.expirationTime>i)||t&&!F());){var h=b.callback;if("function"==typeof h){b.callback=null,w=b.priorityLevel;var f=h(b.expirationTime<=i);i=r.unstable_now(),"function"==typeof f?b.callback=f:b===s(y)&&u(y),D(i)}else u(y);b=s(y)}if(null!==b)var p=!0;else{var v=s(x);null!==v&&V(R,v.startTime-i),p=!1}return p}finally{b=null,w=c,S=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var L=!1,B=null,k=-1,O=5,N=-1;function F(){return!(r.unstable_now()-N<O)}function U(){if(null!==B){var t=r.unstable_now();N=t;var i=!0;try{i=B(!0,t)}finally{i?h():(L=!1,B=null)}}else L=!1}if("function"==typeof I)h=function(){I(U)};else if("undefined"!=typeof MessageChannel){var z=new MessageChannel,G=z.port2;z.port1.onmessage=U,h=function(){G.postMessage(null)}}else h=function(){C(U,0)};function H(t){B=t,L||(L=!0,h())}function V(t,i){k=C(function(){t(r.unstable_now())},i)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(t){t.callback=null},r.unstable_continueExecution=function(){A||S||(A=!0,H(P))},r.unstable_forceFrameRate=function(t){0>t||125<t||(O=0<t?Math.floor(1e3/t):5)},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return s(y)},r.unstable_next=function(t){switch(w){case 1:case 2:case 3:var r=3;break;default:r=w}var i=w;w=r;try{return t()}finally{w=i}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(t,r){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=w;w=t;try{return r()}finally{w=i}},r.unstable_scheduleCallback=function(t,u,c){var h=r.unstable_now();switch(c="object"==typeof c&&null!==c?"number"==typeof(c=c.delay)&&0<c?h+c:h:h,t){case 1:var f=-1;break;case 2:f=250;break;case 5:f=0x3fffffff;break;case 4:f=1e4;break;default:f=5e3}return f=c+f,t={id:_++,callback:u,priorityLevel:t,startTime:c,expirationTime:f,sortIndex:-1},c>h?(t.sortIndex=c,i(x,t),null===s(y)&&t===s(x)&&(M?(T(k),k=-1):M=!0,V(R,c-h))):(t.sortIndex=f,i(y,t),A||S||(A=!0,H(P))),t},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(t){var r=w;return function(){var i=w;w=r;try{return t.apply(this,arguments)}finally{w=i}}}},5297:function(t,r,i){"use strict";t.exports=i(247)},8088:function(t,r){"use strict";function i(t,r){var i=t.length;for(t.push(r);0<i;){var s=i-1>>>1,u=t[s];if(0<c(u,r))t[s]=r,t[i]=u,i=s;else break}}function s(t){return 0===t.length?null:t[0]}function u(t){if(0===t.length)return null;var r=t[0],i=t.pop();if(i!==r){t[0]=i;for(var s=0,u=t.length,h=u>>>1;s<h;){var f=2*(s+1)-1,p=t[f],v=f+1,y=t[v];if(0>c(p,i))v<u&&0>c(y,p)?(t[s]=y,t[v]=i,s=v):(t[s]=p,t[f]=i,s=f);else if(v<u&&0>c(y,i))t[s]=y,t[v]=i,s=v;else break}}return r}function c(t,r){var i=t.sortIndex-r.sortIndex;return 0!==i?i:t.id-r.id}if("object"==typeof performance&&"function"==typeof performance.now){var h,f=performance;r.unstable_now=function(){return f.now()}}else{var p=Date,v=p.now();r.unstable_now=function(){return p.now()-v}}var y=[],x=[],_=1,b=null,w=3,S=!1,A=!1,M=!1,C="function"==typeof setTimeout?setTimeout:null,T="function"==typeof clearTimeout?clearTimeout:null,I="undefined"!=typeof setImmediate?setImmediate:null;function D(t){for(var r=s(x);null!==r;){if(null===r.callback)u(x);else if(r.startTime<=t)u(x),r.sortIndex=r.expirationTime,i(y,r);else break;r=s(x)}}function R(t){if(M=!1,D(t),!A){if(null!==s(y))A=!0,H(P);else{var r=s(x);null!==r&&V(R,r.startTime-t)}}}function P(t,i){A=!1,M&&(M=!1,T(k),k=-1),S=!0;var c=w;try{for(D(i),b=s(y);null!==b&&(!(b.expirationTime>i)||t&&!F());){var h=b.callback;if("function"==typeof h){b.callback=null,w=b.priorityLevel;var f=h(b.expirationTime<=i);i=r.unstable_now(),"function"==typeof f?b.callback=f:b===s(y)&&u(y),D(i)}else u(y);b=s(y)}if(null!==b)var p=!0;else{var v=s(x);null!==v&&V(R,v.startTime-i),p=!1}return p}finally{b=null,w=c,S=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var L=!1,B=null,k=-1,O=5,N=-1;function F(){return!(r.unstable_now()-N<O)}function U(){if(null!==B){var t=r.unstable_now();N=t;var i=!0;try{i=B(!0,t)}finally{i?h():(L=!1,B=null)}}else L=!1}if("function"==typeof I)h=function(){I(U)};else if("undefined"!=typeof MessageChannel){var z=new MessageChannel,G=z.port2;z.port1.onmessage=U,h=function(){G.postMessage(null)}}else h=function(){C(U,0)};function H(t){B=t,L||(L=!0,h())}function V(t,i){k=C(function(){t(r.unstable_now())},i)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(t){t.callback=null},r.unstable_continueExecution=function(){A||S||(A=!0,H(P))},r.unstable_forceFrameRate=function(t){0>t||125<t||(O=0<t?Math.floor(1e3/t):5)},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return s(y)},r.unstable_next=function(t){switch(w){case 1:case 2:case 3:var r=3;break;default:r=w}var i=w;w=r;try{return t()}finally{w=i}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(t,r){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=w;w=t;try{return r()}finally{w=i}},r.unstable_scheduleCallback=function(t,u,c){var h=r.unstable_now();switch(c="object"==typeof c&&null!==c?"number"==typeof(c=c.delay)&&0<c?h+c:h:h,t){case 1:var f=-1;break;case 2:f=250;break;case 5:f=0x3fffffff;break;case 4:f=1e4;break;default:f=5e3}return f=c+f,t={id:_++,callback:u,priorityLevel:t,startTime:c,expirationTime:f,sortIndex:-1},c>h?(t.sortIndex=c,i(x,t),null===s(y)&&t===s(x)&&(M?(T(k),k=-1):M=!0,V(R,c-h))):(t.sortIndex=f,i(y,t),A||S||(A=!0,H(P))),t},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(t){var r=w;return function(){var i=w;w=r;try{return t.apply(this,arguments)}finally{w=i}}}},7537:function(t,r,i){"use strict";t.exports=i(8088)},8930:function(t,r,i){"use strict";var s=i(9593),u=i(8396),c=i(6805),h=i(3566);function f(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t}t.exports=function(t,r,i){if(!h(t))return t;if(Array.isArray(r)&&(r=[].concat.apply([],r).join(".")),"string"!=typeof r)return t;for(var p=s(r,{sep:".",brackets:!0}).filter(f),v=p.length,y=-1,x=t;++y<v;){var _=p[y];if(y!==v-1){!h(x[_])&&(x[_]={}),x=x[_];continue}c(x[_])&&c(i)?x[_]=u({},x[_],i):x[_]=i}return t}},9350:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SizeSensorId=r.SensorTabIndex=r.SensorClassName=void 0;r.SizeSensorId="size-sensor-id";r.SensorClassName="size-sensor-object";r.SensorTabIndex="-1"},2912:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,i=null;return function(){for(var s=this,u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];clearTimeout(i),i=setTimeout(function(){t.apply(s,c)},r)}}},1298:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=1;r.default=function(){return"".concat(i++)}},8611:function(t,r,i){"use strict";r.clear=r.bind=void 0;var s,u=i(2470);r.bind=function(t,r){var i=(0,u.getSensor)(t);return i.bind(r),function(){i.unbind(r)}};r.clear=function(t){var r=(0,u.getSensor)(t);(0,u.removeSensor)(r)}},2470:function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.removeSensor=r.getSensor=r.Sensors=void 0;var s=function(t){return t&&t.__esModule?t:{default:t}}(i(1298)),u=i(8170),c=i(9350),h={};function f(t){t&&h[t]&&delete h[t]}r.Sensors=h;r.getSensor=function(t){var r=t.getAttribute(c.SizeSensorId);if(r&&h[r])return h[r];var i=(0,s.default)();t.setAttribute(c.SizeSensorId,i);var p=(0,u.createSensor)(t,function(){return f(i)});return h[i]=p,p};r.removeSensor=function(t){var r=t.element.getAttribute(c.SizeSensorId);t.destroy(),f(r)}},8170:function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createSensor=void 0;var s=i(4865),u=i(9842),c="undefined"!=typeof ResizeObserver?u.createSensor:s.createSensor;r.createSensor=c},4865:function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createSensor=void 0;var s=function(t){return t&&t.__esModule?t:{default:t}}(i(2912)),u=i(9350);r.createSensor=function(t,r){var i=void 0,c=[],h=function(){"static"===getComputedStyle(t).position&&(t.style.position="relative");var r=document.createElement("object");return r.onload=function(){r.contentDocument.defaultView.addEventListener("resize",f),f()},r.style.display="block",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.height="100%",r.style.width="100%",r.style.overflow="hidden",r.style.pointerEvents="none",r.style.zIndex="-1",r.style.opacity="0",r.setAttribute("class",u.SensorClassName),r.setAttribute("tabindex",u.SensorTabIndex),r.type="text/html",t.appendChild(r),r.data="about:blank",r},f=(0,s.default)(function(){c.forEach(function(r){r(t)})}),p=function(){i&&i.parentNode&&(i.contentDocument&&i.contentDocument.defaultView.removeEventListener("resize",f),i.parentNode.removeChild(i),t.removeAttribute(u.SizeSensorId),i=void 0,c=[],r&&r())};return{element:t,bind:function(t){!i&&(i=h()),-1===c.indexOf(t)&&c.push(t)},destroy:p,unbind:function(t){var r=c.indexOf(t);-1!==r&&c.splice(r,1),0===c.length&&i&&p()}}}},9842:function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createSensor=void 0;var s=i(9350),u=function(t){return t&&t.__esModule?t:{default:t}}(i(2912));r.createSensor=function(t,r){var i=void 0,c=[],h=(0,u.default)(function(){c.forEach(function(r){r(t)})}),f=function(){var r=new ResizeObserver(h);return r.observe(t),h(),r},p=function(){i.disconnect(),c=[],i=void 0,t.removeAttribute(s.SizeSensorId),r&&r()};return{element:t,bind:function(t){!i&&(i=f()),-1===c.indexOf(t)&&c.push(t)},destroy:p,unbind:function(t){var r=c.indexOf(t);-1!==r&&c.splice(r,1),0===c.length&&i&&p()}}}},9593:function(t,r,i){"use strict";var s=i(5582);function u(t,r,i,s){var c=t.indexOf(r,i);return"\\"===t.charAt(c-1)?u(t,r,c+1):c}t.exports=function(t,r,i){if("string"!=typeof t)throw TypeError("expected a string");"function"==typeof r&&(i=r,r=null),"string"==typeof r&&(r={sep:r});var c,h,f=s({sep:"."},r),p=f.quotes||['"',"'","`"];!0===f.brackets?c={"<":">","(":")","[":"]","{":"}"}:f.brackets&&(c=f.brackets);var v=[],y=[],x=[""],_=f.sep,b=t.length,w=-1;function S(){if(c&&y.length)return c[y[y.length-1]]}for(;++w<b;){var A=t[w],M=t[w+1],C={val:A,idx:w,arr:x,str:t};if(v.push(C),"\\"===A){C.val=!0===function(t,r,i){return"function"==typeof t.keepEscaping?t.keepEscaping(r,i):!0===t.keepEscaping||"\\"===r[i+1]}(f,t,w)?A+M:M,C.escaped=!0,"function"==typeof i&&i(C),x[x.length-1]+=C.val,w++;continue}if(c&&c[A]){y.push(A);var T=S(),I=w+1;if(-1!==t.indexOf(T,I+1))for(;y.length&&I<b;){var D=t[++I];if("\\"===D){D++;continue}if(-1!==p.indexOf(D)){I=u(t,D,I+1);continue}if(T=S(),y.length&&-1===t.indexOf(T,I+1))break;if(c[D]){y.push(D);continue}T===D&&y.pop()}if(-1===(h=I)){x[x.length-1]+=A;continue}A=t.slice(w,h+1),C.val=A,C.idx=w=h}if(-1!==p.indexOf(A)){if(-1===(h=u(t,A,w+1))){x[x.length-1]+=A;continue}A=!0===function(t,r){return!0===r.keepDoubleQuotes&&'"'===t||!0===r.keepSingleQuotes&&"'"===t||r.keepQuotes}(A,f)?t.slice(w,h+1):t.slice(w+1,h),C.val=A,C.idx=w=h}if("function"==typeof i&&(i(C,v),A=C.val,w=C.idx),C.val===_&&!1!==C.split){x.push("");continue}x[x.length-1]+=C.val}return x}},9752:function(t,r,i){"use strict";var s=i(5271),u="function"==typeof Object.is?Object.is:function(t,r){return t===r&&(0!==t||1/t==1/r)||t!=t&&r!=r},c=s.useState,h=s.useEffect,f=s.useLayoutEffect,p=s.useDebugValue;function v(t){var r=t.getSnapshot;t=t.value;try{var i=r();return!u(t,i)}catch(t){return!0}}var y="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,r){return r()}:function(t,r){var i=r(),s=c({inst:{value:i,getSnapshot:r}}),u=s[0].inst,y=s[1];return f(function(){u.value=i,u.getSnapshot=r,v(u)&&y({inst:u})},[t,i,r]),h(function(){return v(u)&&y({inst:u}),t(function(){v(u)&&y({inst:u})})},[t]),p(i),i};r.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:y},4250:function(t,r,i){"use strict";var s=i(5271),u=i(8488),c="function"==typeof Object.is?Object.is:function(t,r){return t===r&&(0!==t||1/t==1/r)||t!=t&&r!=r},h=u.useSyncExternalStore,f=s.useRef,p=s.useEffect,v=s.useMemo,y=s.useDebugValue;r.useSyncExternalStoreWithSelector=function(t,r,i,s,u){var x=f(null);if(null===x.current){var _={hasValue:!1,value:null};x.current=_}else _=x.current;var b=h(t,(x=v(function(){function t(t){if(!p){if(p=!0,h=t,t=s(t),void 0!==u&&_.hasValue){var r=_.value;if(u(r,t))return f=r}return f=t}if(r=f,c(h,t))return r;var i=s(t);return void 0!==u&&u(r,i)?r:(h=t,f=i)}var h,f,p=!1,v=void 0===i?null:i;return[function(){return t(r())},null===v?void 0:function(){return t(v())}]},[r,i,s,u]))[0],x[1]);return p(function(){_.hasValue=!0,_.value=b},[b]),y(b),b}},8488:function(t,r,i){"use strict";t.exports=i(9752)},8769:function(t,r,i){"use strict";t.exports=i(4250)},7613:function(t,r,i){"use strict";var s=i(5005),u=i(2932),c=TypeError;t.exports=function(t){if(s(t))return t;throw new c(u(t)+" is not a function")}},6241:function(t,r,i){"use strict";var s=i(7051).has;t.exports=function(t){return s(t),t}},3010:function(t,r,i){"use strict";var s=i(296),u=TypeError;t.exports=function(t,r){if(s(r,t))return t;throw new u("Incorrect invocation")}},5089:function(t,r,i){"use strict";var s=i(2514),u=String,c=TypeError;t.exports=function(t){if(s(t))return t;throw new c(u(t)+" is not an object")}},3097:function(t,r,i){"use strict";var s=i(5145),u=i(2293),c=i(6724),h=function(t){return function(r,i,h){var f,p=s(r),v=c(p);if(0===v)return!t&&-1;var y=u(h,v);if(t&&i!=i){for(;v>y;)if((f=p[y++])!=f)return!0}else for(;v>y;y++)if((t||y in p)&&p[y]===i)return t||y||0;return!t&&-1}};t.exports={includes:h(!0),indexOf:h(!1)}},5568:function(t,r,i){"use strict";var s=i(9987),u=i(5541),c=TypeError,h=Object.getOwnPropertyDescriptor,f=s&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=f?function(t,r){if(u(t)&&!h(t,"length").writable)throw new c("Cannot set read only .length");return t.length=r}:function(t,r){return t.length=r}},5069:function(t,r,i){"use strict";var s=i(3639),u=i(7720),c=i(5717);t.exports=function(t,r,i,h){try{var f=c(t,"return");if(f)return u("Promise").resolve(s(f,t)).then(function(){r(i)},function(t){h(t)})}catch(t){return h(t)}r(i)}},1230:function(t,r,i){"use strict";var s=i(3639),u=i(354),c=i(5089),h=i(7958),f=i(5972),p=i(8593),v=i(7431),y=i(5947),x=i(7720),_=i(5717),b=i(3716),w=i(3939),S=i(8643),A=x("Promise"),M=v("toStringTag"),C="AsyncIteratorHelper",T="WrapForValidAsyncIterator",I=y.set,D=function(t){var r=!t,i=y.getterFor(t?T:C),f=function(t){var s=u(function(){return i(t)}),c=s.error,h=s.value;return c||r&&h.done?{exit:!0,value:c?A.reject(h):A.resolve(w(void 0,!0))}:{exit:!1,value:h}};return p(h(b),{next:function(){var t=f(this),r=t.value;if(t.exit)return r;var i=u(function(){return c(r.nextHandler(A))}),s=i.error,h=i.value;return s&&(r.done=!0),s?A.reject(h):A.resolve(h)},return:function(){var r,i,h=f(this),p=h.value;if(h.exit)return p;p.done=!0;var v=p.iterator,y=u(function(){if(p.inner)try{S(p.inner.iterator,"normal")}catch(t){return S(v,"throw",t)}return _(v,"return")});return(r=i=y.value,y.error)?A.reject(i):void 0===r?A.resolve(w(void 0,!0)):(i=(y=u(function(){return s(r,v)})).value,y.error)?A.reject(i):t?A.resolve(i):A.resolve(i).then(function(t){return c(t),w(void 0,!0)})}})},R=D(!0),P=D(!1);f(P,M,"Async Iterator Helper"),t.exports=function(t,r){var i=function(i,s){s?(s.iterator=i.iterator,s.next=i.next):s=i,s.type=r?T:C,s.nextHandler=t,s.counter=0,s.done=!1,I(this,s)};return i.prototype=r?R:P,i}},8631:function(t,r,i){"use strict";var s=i(3639),u=i(7613),c=i(5089),h=i(2514),f=i(9754),p=i(7720),v=i(9720),y=i(5069),x=function(t){var r=0===t,i=1===t,x=2===t,_=3===t;return function(t,b,w){c(t);var S=void 0!==b;(S||!r)&&u(b);var A=v(t),M=p("Promise"),C=A.iterator,T=A.next,I=0;return new M(function(t,u){var p=function(t){y(C,u,t,u)},v=function(){try{if(S)try{f(I)}catch(t){p(t)}M.resolve(c(s(T,C))).then(function(s){try{if(c(s).done)r?(w.length=I,t(w)):t(!_&&(x||void 0));else{var f=s.value;try{if(S){var A=b(f,I),T=function(s){if(i)v();else if(x)s?v():y(C,t,!1,u);else if(r)try{w[I++]=s,v()}catch(t){p(t)}else s?y(C,t,_||f,u):v()};h(A)?M.resolve(A).then(T,p):T(A)}else w[I++]=f,v()}catch(t){p(t)}}}catch(t){u(t)}},u)}catch(t){u(t)}};v()})}};t.exports={toArray:x(0),forEach:x(1),every:x(2),some:x(3),find:x(4)}},4013:function(t,r,i){"use strict";var s=i(3639),u=i(7613),c=i(5089),h=i(2514),f=i(9720),p=i(1230),v=i(3939),y=i(5069),x=p(function(t){var r=this,i=r.iterator,u=r.mapper;return new t(function(f,p){var x=function(t){r.done=!0,p(t)},_=function(t){y(i,x,t,x)};t.resolve(c(s(r.next,i))).then(function(i){try{if(c(i).done)r.done=!0,f(v(void 0,!0));else{var s=i.value;try{var p=u(s,r.counter++),y=function(t){f(v(t,!1))};h(p)?t.resolve(p).then(y,_):y(p)}catch(t){_(t)}}}catch(t){x(t)}},x)})});t.exports=function(t){return c(this),u(t),new x(f(this),{mapper:t})}},3716:function(t,r,i){"use strict";var s,u,c=i(5835),h=i(6660),f=i(5005),p=i(7958),v=i(4023),y=i(9016),x=i(7431),_=i(1979),b="USE_FUNCTION_CONSTRUCTOR",w=x("asyncIterator"),S=c.AsyncIterator,A=h.AsyncIteratorPrototype;if(A)s=A;else if(f(S))s=S.prototype;else if(h[b]||c[b])try{u=v(v(v(Function("return async function*(){}()")()))),v(u)===Object.prototype&&(s=u)}catch(t){}s?_&&(s=p(s)):s={},!f(s[w])&&y(s,w,function(){return this}),t.exports=s},3427:function(t,r,i){"use strict";var s=i(5089),u=i(8643);t.exports=function(t,r,i,c){try{return c?r(s(i)[0],i[1]):r(i)}catch(r){u(t,"throw",r)}}},3973:function(t,r,i){"use strict";var s=i(7626),u=s({}.toString),c=s("".slice);t.exports=function(t){return c(u(t),8,-1)}},9944:function(t,r,i){"use strict";var s=i(2401),u=i(5005),c=i(3973),h=i(7431)("toStringTag"),f=Object,p="Arguments"===c(function(){return arguments}()),v=function(t,r){try{return t[r]}catch(t){}};t.exports=s?c:function(t){var r,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=v(r=f(t),h))?i:p?c(r):"Object"===(s=c(r))&&u(r.callee)?"Arguments":s}},828:function(t,r,i){"use strict";var s=i(1185),u=i(4549),c=i(1791),h=i(7631);t.exports=function(t,r,i){for(var f=u(r),p=h.f,v=c.f,y=0;y<f.length;y++){var x=f[y];!s(t,x)&&!(i&&s(i,x))&&p(t,x,v(r,x))}}},4294:function(t,r,i){"use strict";var s=i(6848);t.exports=!s(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},3939:function(t){"use strict";t.exports=function(t,r){return{value:t,done:r}}},5972:function(t,r,i){"use strict";var s=i(9987),u=i(7631),c=i(9753);t.exports=s?function(t,r,i){return u.f(t,r,c(1,i))}:function(t,r,i){return t[r]=i,t}},9753:function(t){"use strict";t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},7223:function(t,r,i){"use strict";var s=i(9987),u=i(7631),c=i(9753);t.exports=function(t,r,i){s?u.f(t,r,c(0,i)):t[r]=i}},3039:function(t,r,i){"use strict";var s=i(9476),u=i(7631);t.exports=function(t,r,i){return i.get&&s(i.get,r,{getter:!0}),i.set&&s(i.set,r,{setter:!0}),u.f(t,r,i)}},9016:function(t,r,i){"use strict";var s=i(5005),u=i(7631),c=i(9476),h=i(6908);t.exports=function(t,r,i,f){!f&&(f={});var p=f.enumerable,v=void 0!==f.name?f.name:r;if(s(i)&&c(i,v,f),f.global)p?t[r]=i:h(r,i);else{try{f.unsafe?t[r]&&(p=!0):delete t[r]}catch(t){}p?t[r]=i:u.f(t,r,{value:i,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return t}},8593:function(t,r,i){"use strict";var s=i(9016);t.exports=function(t,r,i){for(var u in r)s(t,u,r[u],i);return t}},6908:function(t,r,i){"use strict";var s=i(5835),u=Object.defineProperty;t.exports=function(t,r){try{u(s,t,{value:r,configurable:!0,writable:!0})}catch(i){s[t]=r}return r}},9987:function(t,r,i){"use strict";var s=i(6848);t.exports=!s(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},2160:function(t,r,i){"use strict";var s=i(5835),u=i(2514),c=s.document,h=u(c)&&u(c.createElement);t.exports=function(t){return h?c.createElement(t):{}}},9754:function(t){"use strict";var r=TypeError;t.exports=function(t){if(t>0x1fffffffffffff)throw r("Maximum allowed index exceeded");return t}},5711:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1594:function(t,r,i){"use strict";var s=i(5835).navigator,u=s&&s.userAgent;t.exports=u?String(u):""},5080:function(t,r,i){"use strict";var s,u,c=i(5835),h=i(1594),f=c.process,p=c.Deno,v=f&&f.versions||p&&p.version,y=v&&v.v8;y&&(u=(s=y.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!u&&h&&(!(s=h.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=h.match(/Chrome\/(\d+)/))&&(u=+s[1]),t.exports=u},2794:function(t,r,i){"use strict";var s=i(5835),u=i(1791).f,c=i(5972),h=i(9016),f=i(6908),p=i(828),v=i(1595);t.exports=function(t,r){var i,y,x,_,b,w=t.target,S=t.global,A=t.stat;if(i=S?s:A?s[w]||f(w,{}):s[w]&&s[w].prototype)for(y in r){if(_=r[y],x=t.dontCallGetSet?(b=u(i,y))&&b.value:i[y],!v(S?y:w+(A?".":"#")+y,t.forced)&&void 0!==x){if(typeof _==typeof x)continue;p(_,x)}(t.sham||x&&x.sham)&&c(_,"sham",!0),h(i,y,_,t)}}},6848:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},612:function(t,r,i){"use strict";var s=i(2255),u=i(7613),c=i(610),h=s(s.bind);t.exports=function(t,r){return u(t),void 0===r?t:c?h(t,r):function(){return t.apply(r,arguments)}}},610:function(t,r,i){"use strict";var s=i(6848);t.exports=!s(function(){var t=(function(){}).bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},3639:function(t,r,i){"use strict";var s=i(610),u=Function.prototype.call;t.exports=s?u.bind(u):function(){return u.apply(u,arguments)}},3735:function(t,r,i){"use strict";var s=i(9987),u=i(1185),c=Function.prototype,h=s&&Object.getOwnPropertyDescriptor,f=u(c,"name"),p=f&&(!s||s&&h(c,"name").configurable);t.exports={EXISTS:f,PROPER:f&&"something"===(function(){}).name,CONFIGURABLE:p}},4484:function(t,r,i){"use strict";var s=i(7626),u=i(7613);t.exports=function(t,r,i){try{return s(u(Object.getOwnPropertyDescriptor(t,r)[i]))}catch(t){}}},2255:function(t,r,i){"use strict";var s=i(3973),u=i(7626);t.exports=function(t){if("Function"===s(t))return u(t)}},7626:function(t,r,i){"use strict";var s=i(610),u=Function.prototype,c=u.call,h=s&&u.bind.bind(c,c);t.exports=s?h:function(t){return function(){return c.apply(t,arguments)}}},7720:function(t,r,i){"use strict";var s=i(5835),u=i(5005);t.exports=function(t,r){var i;return arguments.length<2?u(i=s[t])?i:void 0:s[t]&&s[t][r]}},9720:function(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},2722:function(t,r,i){"use strict";var s=i(9944),u=i(5717),c=i(6989),h=i(8026),f=i(7431)("iterator");t.exports=function(t){if(!c(t))return u(t,f)||u(t,"@@iterator")||h[s(t)]}},3833:function(t,r,i){"use strict";var s=i(3639),u=i(7613),c=i(5089),h=i(2932),f=i(2722),p=TypeError;t.exports=function(t,r){var i=arguments.length<2?f(t):r;if(u(i))return c(s(i,t));throw new p(h(t)+" is not iterable")}},5717:function(t,r,i){"use strict";var s=i(7613),u=i(6989);t.exports=function(t,r){var i=t[r];return u(i)?void 0:s(i)}},8111:function(t,r,i){"use strict";var s=i(7613),u=i(5089),c=i(3639),h=i(154),f=i(9720),p="Invalid size",v=RangeError,y=TypeError,x=Math.max,_=function(t,r){this.set=t,this.size=x(r,0),this.has=s(t.has),this.keys=s(t.keys)};_.prototype={getIterator:function(){return f(u(c(this.keys,this.set)))},includes:function(t){return c(this.has,this.set,t)}},t.exports=function(t){u(t);var r=+t.size;if(r!=r)throw new y(p);var i=h(r);if(i<0)throw new v(p);return new _(t,i)}},5835:function(t,r,i){"use strict";var s=function(t){return t&&t.Math===Math&&t};t.exports=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof i.g&&i.g)||s("object"==typeof this&&this)||function(){return this}()||Function("return this")()},1185:function(t,r,i){"use strict";var s=i(7626),u=i(7018),c=s({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,r){return c(u(t),r)}},352:function(t){"use strict";t.exports={}},4579:function(t,r,i){"use strict";var s=i(7720);t.exports=s("document","documentElement")},4684:function(t,r,i){"use strict";var s=i(9987),u=i(6848),c=i(2160);t.exports=!s&&!u(function(){return 7!==Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a})},378:function(t,r,i){"use strict";var s=i(7626),u=i(6848),c=i(3973),h=Object,f=s("".split);t.exports=u(function(){return!h("z").propertyIsEnumerable(0)})?function(t){return"String"===c(t)?f(t,""):h(t)}:h},7901:function(t,r,i){"use strict";var s=i(7626),u=i(5005),c=i(6660),h=s(Function.toString);!u(c.inspectSource)&&(c.inspectSource=function(t){return h(t)}),t.exports=c.inspectSource},5947:function(t,r,i){"use strict";var s,u,c,h=i(2713),f=i(5835),p=i(2514),v=i(5972),y=i(1185),x=i(6660),_=i(6765),b=i(352),w="Object already initialized",S=f.TypeError,A=f.WeakMap;if(h||x.state){var M=x.state||(x.state=new A);M.get=M.get,M.has=M.has,M.set=M.set,s=function(t,r){if(M.has(t))throw new S(w);return r.facade=t,M.set(t,r),r},u=function(t){return M.get(t)||{}},c=function(t){return M.has(t)}}else{var C=_("state");b[C]=!0,s=function(t,r){if(y(t,C))throw new S(w);return r.facade=t,v(t,C,r),r},u=function(t){return y(t,C)?t[C]:{}},c=function(t){return y(t,C)}}t.exports={set:s,get:u,has:c,enforce:function(t){return c(t)?u(t):s(t,{})},getterFor:function(t){return function(r){var i;if(!p(r)||(i=u(r)).type!==t)throw new S("Incompatible receiver, "+t+" required");return i}}}},2107:function(t,r,i){"use strict";var s=i(7431),u=i(8026),c=s("iterator"),h=Array.prototype;t.exports=function(t){return void 0!==t&&(u.Array===t||h[c]===t)}},5541:function(t,r,i){"use strict";var s=i(3973);t.exports=Array.isArray||function(t){return"Array"===s(t)}},5005:function(t){"use strict";var r="object"==typeof document&&document.all;t.exports=void 0===r&&void 0!==r?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},1595:function(t,r,i){"use strict";var s=i(6848),u=i(5005),c=/#|\.prototype\./,h=function(t,r){var i=p[f(t)];return i===y||i!==v&&(u(r)?s(r):!!r)},f=h.normalize=function(t){return String(t).replace(c,".").toLowerCase()},p=h.data={},v=h.NATIVE="N",y=h.POLYFILL="P";t.exports=h},6290:function(t,r,i){"use strict";var s=i(9944),u=i(1185),c=i(6989),h=i(7431),f=i(8026),p=h("iterator"),v=Object;t.exports=function(t){if(c(t))return!1;var r=v(t);return void 0!==r[p]||"@@iterator"in r||u(f,s(r))}},6989:function(t){"use strict";t.exports=function(t){return null==t}},2514:function(t,r,i){"use strict";var s=i(5005);t.exports=function(t){return"object"==typeof t?null!==t:s(t)}},1979:function(t){"use strict";t.exports=!1},6671:function(t,r,i){"use strict";var s=i(7720),u=i(5005),c=i(296),h=i(6270),f=Object;t.exports=h?function(t){return"symbol"==typeof t}:function(t){var r=s("Symbol");return u(r)&&c(r.prototype,f(t))}},8184:function(t,r,i){"use strict";var s=i(3639);t.exports=function(t,r,i){for(var u,c,h=i?t:t.iterator,f=t.next;!(u=s(f,h)).done;)if(void 0!==(c=r(u.value)))return c}},3117:function(t,r,i){"use strict";var s=i(612),u=i(3639),c=i(5089),h=i(2932),f=i(2107),p=i(6724),v=i(296),y=i(3833),x=i(2722),_=i(8643),b=TypeError,w=function(t,r){this.stopped=t,this.result=r},S=w.prototype;t.exports=function(t,r,i){var A,M,C,T,I,D,R,P=i&&i.that,L=!!(i&&i.AS_ENTRIES),B=!!(i&&i.IS_RECORD),k=!!(i&&i.IS_ITERATOR),O=!!(i&&i.INTERRUPTED),N=s(r,P),F=function(t){return A&&_(A,"normal",t),new w(!0,t)},U=function(t){return L?(c(t),O?N(t[0],t[1],F):N(t[0],t[1])):O?N(t,F):N(t)};if(B)A=t.iterator;else if(k)A=t;else{if(!(M=x(t)))throw new b(h(t)+" is not iterable");if(f(M)){for(C=0,T=p(t);T>C;C++)if((I=U(t[C]))&&v(S,I))return I;return new w(!1)}A=y(t,M)}for(D=B?t.next:A.next;!(R=u(D,A)).done;){try{I=U(R.value)}catch(t){_(A,"throw",t)}if("object"==typeof I&&I&&v(S,I))return I}return new w(!1)}},8643:function(t,r,i){"use strict";var s=i(3639),u=i(5089),c=i(5717);t.exports=function(t,r,i){var h,f;u(t);try{if(!(h=c(t,"return"))){if("throw"===r)throw i;return i}h=s(h,t)}catch(t){f=!0,h=t}if("throw"===r)throw i;if(f)throw h;return u(h),i}},5625:function(t,r,i){"use strict";var s=i(3639),u=i(7958),c=i(5972),h=i(8593),f=i(7431),p=i(5947),v=i(5717),y=i(7988).IteratorPrototype,x=i(3939),_=i(8643),b=f("toStringTag"),w="IteratorHelper",S="WrapForValidIterator",A=p.set,M=function(t){var r=p.getterFor(t?S:w);return h(u(y),{next:function(){var i=r(this);if(t)return i.nextHandler();try{var s=i.done?void 0:i.nextHandler();return x(s,i.done)}catch(t){throw i.done=!0,t}},return:function(){var i=r(this),u=i.iterator;if(i.done=!0,t){var c=v(u,"return");return c?s(c,u):x(void 0,!0)}if(i.inner)try{_(i.inner.iterator,"normal")}catch(t){return _(u,"throw",t)}return u&&_(u,"normal"),x(void 0,!0)}})},C=M(!0),T=M(!1);c(T,b,"Iterator Helper"),t.exports=function(t,r){var i=function(i,s){s?(s.iterator=i.iterator,s.next=i.next):s=i,s.type=r?S:w,s.nextHandler=t,s.counter=0,s.done=!1,A(this,s)};return i.prototype=r?C:T,i}},1232:function(t,r,i){"use strict";var s=i(3639),u=i(7613),c=i(5089),h=i(9720),f=i(5625),p=i(3427),v=f(function(){var t=this.iterator,r=c(s(this.next,t));if(!(this.done=!!r.done))return p(t,this.mapper,[r.value,this.counter++],!0)});t.exports=function(t){return c(this),u(t),new v(h(this),{mapper:t})}},7988:function(t,r,i){"use strict";var s,u,c,h=i(6848),f=i(5005),p=i(2514),v=i(7958),y=i(4023),x=i(9016),_=i(7431),b=i(1979),w=_("iterator"),S=!1;[].keys&&("next"in(c=[].keys())?(u=y(y(c)))!==Object.prototype&&(s=u):S=!0),!p(s)||h(function(){var t={};return s[w].call(t)!==t})?s={}:b&&(s=v(s)),!f(s[w])&&x(s,w,function(){return this}),t.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:S}},8026:function(t){"use strict";t.exports={}},6724:function(t,r,i){"use strict";var s=i(6721);t.exports=function(t){return s(t.length)}},9476:function(t,r,i){"use strict";var s=i(7626),u=i(6848),c=i(5005),h=i(1185),f=i(9987),p=i(3735).CONFIGURABLE,v=i(7901),y=i(5947),x=y.enforce,_=y.get,b=String,w=Object.defineProperty,S=s("".slice),A=s("".replace),M=s([].join),C=f&&!u(function(){return 8!==w(function(){},"length",{value:8}).length}),T=String(String).split("String"),I=t.exports=function(t,r,i){"Symbol("===S(b(r),0,7)&&(r="["+A(b(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(r="get "+r),i&&i.setter&&(r="set "+r),(!h(t,"name")||p&&t.name!==r)&&(f?w(t,"name",{value:r,configurable:!0}):t.name=r),C&&i&&h(i,"arity")&&t.length!==i.arity&&w(t,"length",{value:i.arity});try{i&&h(i,"constructor")&&i.constructor?f&&w(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var s=x(t);return!h(s,"source")&&(s.source=M(T,"string"==typeof r?r:"")),t};Function.prototype.toString=I(function(){return c(this)&&_(this).source||v(this)},"toString")},2126:function(t){"use strict";var r=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(t){var s=+t;return(s>0?i:r)(s)}},7958:function(t,r,i){"use strict";var s,u=i(5089),c=i(3598),h=i(5711),f=i(352),p=i(4579),v=i(2160),y=i(6765),x="prototype",_="script",b=y("IE_PROTO"),w=function(){},S=function(t){return"<"+_+">"+t+"</"+_+">"},A=function(t){t.write(S("")),t.close();var r=t.parentWindow.Object;return t=null,r},M=function(){var t,r=v("iframe");return r.style.display="none",p.appendChild(r),r.src=String("java"+_+":"),(t=r.contentWindow.document).open(),t.write(S("document.F=Object")),t.close(),t.F},C=function(){try{s=new ActiveXObject("htmlfile")}catch(t){}C="undefined"!=typeof document?document.domain&&s?A(s):M():A(s);for(var t=h.length;t--;)delete C[x][h[t]];return C()};f[b]=!0,t.exports=Object.create||function(t,r){var i;return null!==t?(w[x]=u(t),i=new w,w[x]=null,i[b]=t):i=C(),void 0===r?i:c.f(i,r)}},3598:function(t,r,i){"use strict";var s=i(9987),u=i(1845),c=i(7631),h=i(5089),f=i(5145),p=i(25);r.f=s&&!u?Object.defineProperties:function(t,r){h(t);for(var i,s=f(r),u=p(r),v=u.length,y=0;v>y;)c.f(t,i=u[y++],s[i]);return t}},7631:function(t,r,i){"use strict";var s=i(9987),u=i(4684),c=i(1845),h=i(5089),f=i(889),p=TypeError,v=Object.defineProperty,y=Object.getOwnPropertyDescriptor,x="enumerable",_="configurable",b="writable";r.f=s?c?function(t,r,i){if(h(t),r=f(r),h(i),"function"==typeof t&&"prototype"===r&&"value"in i&&b in i&&!i[b]){var s=y(t,r);s&&s[b]&&(t[r]=i.value,i={configurable:_ in i?i[_]:s[_],enumerable:x in i?i[x]:s[x],writable:!1})}return v(t,r,i)}:v:function(t,r,i){if(h(t),r=f(r),h(i),u)try{return v(t,r,i)}catch(t){}if("get"in i||"set"in i)throw new p("Accessors not supported");return"value"in i&&(t[r]=i.value),t}},1791:function(t,r,i){"use strict";var s=i(9987),u=i(3639),c=i(2457),h=i(9753),f=i(5145),p=i(889),v=i(1185),y=i(4684),x=Object.getOwnPropertyDescriptor;r.f=s?x:function(t,r){if(t=f(t),r=p(r),y)try{return x(t,r)}catch(t){}if(v(t,r))return h(!u(c.f,t,r),t[r])}},2079:function(t,r,i){"use strict";var s=i(2253),u=i(5711).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return s(t,u)}},3002:function(t,r){"use strict";r.f=Object.getOwnPropertySymbols},4023:function(t,r,i){"use strict";var s=i(1185),u=i(5005),c=i(7018),h=i(6765),f=i(4294),p=h("IE_PROTO"),v=Object,y=v.prototype;t.exports=f?v.getPrototypeOf:function(t){var r=c(t);if(s(r,p))return r[p];var i=r.constructor;return u(i)&&r instanceof i?i.prototype:r instanceof v?y:null}},296:function(t,r,i){"use strict";var s=i(7626);t.exports=s({}.isPrototypeOf)},2253:function(t,r,i){"use strict";var s=i(7626),u=i(1185),c=i(5145),h=i(3097).indexOf,f=i(352),p=s([].push);t.exports=function(t,r){var i,s=c(t),v=0,y=[];for(i in s)!u(f,i)&&u(s,i)&&p(y,i);for(;r.length>v;)u(s,i=r[v++])&&(~h(y,i)||p(y,i));return y}},25:function(t,r,i){"use strict";var s=i(2253),u=i(5711);t.exports=Object.keys||function(t){return s(t,u)}},2457:function(t,r){"use strict";var i={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,u=s&&!i.call({1:2},1);r.f=u?function(t){var r=s(this,t);return!!r&&r.enumerable}:i},489:function(t,r,i){"use strict";var s=i(3639),u=i(5005),c=i(2514),h=TypeError;t.exports=function(t,r){var i,f;if("string"===r&&u(i=t.toString)&&!c(f=s(i,t))||u(i=t.valueOf)&&!c(f=s(i,t))||"string"!==r&&u(i=t.toString)&&!c(f=s(i,t)))return f;throw new h("Can't convert object to primitive value")}},4549:function(t,r,i){"use strict";var s=i(7720),u=i(7626),c=i(2079),h=i(3002),f=i(5089),p=u([].concat);t.exports=s("Reflect","ownKeys")||function(t){var r=c.f(f(t)),i=h.f;return i?p(r,i(t)):r}},6411:function(t,r,i){"use strict";var s=i(7626),u=i(1185),c=SyntaxError,h=parseInt,f=String.fromCharCode,p=s("".charAt),v=s("".slice),y=s(/./.exec),x={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"	"},_=/^[\da-f]{4}$/i,b=/^[\u0000-\u001F]$/;t.exports=function(t,r){for(var i=!0,s="";r<t.length;){var w=p(t,r);if("\\"===w){var S=v(t,r,r+2);if(u(x,S))s+=x[S],r+=2;else if("\\u"===S){var A=v(t,r+=2,r+4);if(!y(_,A))throw new c("Bad Unicode escape at: "+r);s+=f(h(A,16)),r+=4}else throw new c('Unknown escape sequence: "'+S+'"')}else if('"'===w){i=!1,r++;break}else{if(y(b,w))throw new c("Bad control character in string literal at: "+r);s+=w,r++}}if(i)throw new c("Unterminated string at: "+r);return{value:s,end:r}}},354:function(t){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},7228:function(t,r,i){"use strict";var s=i(6989),u=TypeError;t.exports=function(t){if(s(t))throw new u("Can't call method on "+t);return t}},4167:function(t,r,i){"use strict";var s=i(7051),u=i(1062),c=s.Set,h=s.add;t.exports=function(t){var r=new c;return u(t,function(t){h(r,t)}),r}},9238:function(t,r,i){"use strict";var s=i(6241),u=i(7051),c=i(4167),h=i(1830),f=i(8111),p=i(1062),v=i(8184),y=u.has,x=u.remove;t.exports=function(t){var r=s(this),i=f(t),u=c(r);return h(r)<=i.size?p(r,function(t){i.includes(t)&&x(u,t)}):v(i.getIterator(),function(t){y(r,t)&&x(u,t)}),u}},7051:function(t,r,i){"use strict";var s=i(7626),u=Set.prototype;t.exports={Set:Set,add:s(u.add),has:s(u.has),remove:s(u.delete),proto:u}},8711:function(t,r,i){"use strict";var s=i(6241),u=i(7051),c=i(1830),h=i(8111),f=i(1062),p=i(8184),v=u.Set,y=u.add,x=u.has;t.exports=function(t){var r=s(this),i=h(t),u=new v;return c(r)>i.size?p(i.getIterator(),function(t){x(r,t)&&y(u,t)}):f(r,function(t){i.includes(t)&&y(u,t)}),u}},7449:function(t,r,i){"use strict";var s=i(6241),u=i(7051).has,c=i(1830),h=i(8111),f=i(1062),p=i(8184),v=i(8643);t.exports=function(t){var r=s(this),i=h(t);if(c(r)<=i.size)return!1!==f(r,function(t){if(i.includes(t))return!1},!0);var y=i.getIterator();return!1!==p(y,function(t){if(u(r,t))return v(y,"normal",!1)})}},8300:function(t,r,i){"use strict";var s=i(6241),u=i(1830),c=i(1062),h=i(8111);t.exports=function(t){var r=s(this),i=h(t);return!(u(r)>i.size)&&!1!==c(r,function(t){if(!i.includes(t))return!1},!0)}},6808:function(t,r,i){"use strict";var s=i(6241),u=i(7051).has,c=i(1830),h=i(8111),f=i(8184),p=i(8643);t.exports=function(t){var r=s(this),i=h(t);if(c(r)<i.size)return!1;var v=i.getIterator();return!1!==f(v,function(t){if(!u(r,t))return p(v,"normal",!1)})}},1062:function(t,r,i){"use strict";var s=i(7626),u=i(8184),c=i(7051),h=c.Set,f=c.proto,p=s(f.forEach),v=s(f.keys),y=v(new h).next;t.exports=function(t,r,i){return i?u({iterator:v(t),next:y},r):p(t,r)}},1340:function(t,r,i){"use strict";var s=i(7720),u=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var r=s("Set");try{new r()[t](u(0));try{return new r()[t](u(-1)),!1}catch(t){return!0}}catch(t){return!1}}},1830:function(t,r,i){"use strict";var s=i(4484),u=i(7051);t.exports=s(u.proto,"size","get")||function(t){return t.size}},541:function(t,r,i){"use strict";var s=i(6241),u=i(7051),c=i(4167),h=i(8111),f=i(8184),p=u.add,v=u.has,y=u.remove;t.exports=function(t){var r=s(this),i=h(t).getIterator(),u=c(r);return f(i,function(t){v(r,t)?y(u,t):p(u,t)}),u}},3822:function(t,r,i){"use strict";var s=i(6241),u=i(7051).add,c=i(4167),h=i(8111),f=i(8184);t.exports=function(t){var r=s(this),i=h(t).getIterator(),p=c(r);return f(i,function(t){u(p,t)}),p}},6765:function(t,r,i){"use strict";var s=i(209),u=i(3831),c=s("keys");t.exports=function(t){return c[t]||(c[t]=u(t))}},6660:function(t,r,i){"use strict";var s=i(1979),u=i(5835),c=i(6908),h="__core-js_shared__",f=t.exports=u[h]||c(h,{});(f.versions||(f.versions=[])).push({version:"3.39.0",mode:s?"pure":"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},209:function(t,r,i){"use strict";var s=i(6660);t.exports=function(t,r){return s[t]||(s[t]=r||{})}},2731:function(t,r,i){"use strict";var s=i(5080),u=i(6848),c=i(5835).String;t.exports=!!Object.getOwnPropertySymbols&&!u(function(){var t=Symbol("symbol detection");return!c(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&s&&s<41})},2293:function(t,r,i){"use strict";var s=i(154),u=Math.max,c=Math.min;t.exports=function(t,r){var i=s(t);return i<0?u(i+r,0):c(i,r)}},5145:function(t,r,i){"use strict";var s=i(378),u=i(7228);t.exports=function(t){return s(u(t))}},154:function(t,r,i){"use strict";var s=i(2126);t.exports=function(t){var r=+t;return r!=r||0===r?0:s(r)}},6721:function(t,r,i){"use strict";var s=i(154),u=Math.min;t.exports=function(t){var r=s(t);return r>0?u(r,0x1fffffffffffff):0}},7018:function(t,r,i){"use strict";var s=i(7228),u=Object;t.exports=function(t){return u(s(t))}},3367:function(t,r,i){"use strict";var s=i(3639),u=i(2514),c=i(6671),h=i(5717),f=i(489),p=i(7431),v=TypeError,y=p("toPrimitive");t.exports=function(t,r){if(!u(t)||c(t))return t;var i,p=h(t,y);if(p){if(void 0===r&&(r="default"),!u(i=s(p,t,r))||c(i))return i;throw new v("Can't convert object to primitive value")}return void 0===r&&(r="number"),f(t,r)}},889:function(t,r,i){"use strict";var s=i(3367),u=i(6671);t.exports=function(t){var r=s(t,"string");return u(r)?r:r+""}},2149:function(t,r,i){"use strict";var s=i(7720),u=i(5005),c=i(6290),h=i(2514),f=s("Set");t.exports=function(t){var r;return h(r=t)&&"number"==typeof r.size&&u(r.has)&&u(r.keys)?t:c(t)?new f(t):t}},2401:function(t,r,i){"use strict";var s=i(7431)("toStringTag"),u={};u[s]="z",t.exports="[object z]"===String(u)},1023:function(t,r,i){"use strict";var s=i(9944),u=String;t.exports=function(t){if("Symbol"===s(t))throw TypeError("Cannot convert a Symbol value to a string");return u(t)}},2932:function(t){"use strict";var r=String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},3831:function(t,r,i){"use strict";var s=i(7626),u=0,c=Math.random(),h=s(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+h(++u+c,36)}},6270:function(t,r,i){"use strict";var s=i(2731);t.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},1845:function(t,r,i){"use strict";var s=i(9987),u=i(6848);t.exports=s&&u(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},7968:function(t){"use strict";var r=TypeError;t.exports=function(t,i){if(t<i)throw new r("Not enough arguments");return t}},2713:function(t,r,i){"use strict";var s=i(5835),u=i(5005),c=s.WeakMap;t.exports=u(c)&&/native code/.test(String(c))},7431:function(t,r,i){"use strict";var s=i(5835),u=i(209),c=i(1185),h=i(3831),f=i(2731),p=i(6270),v=s.Symbol,y=u("wks"),x=p?v.for||v:v&&v.withoutSetter||h;t.exports=function(t){return!c(y,t)&&(y[t]=f&&c(v,t)?v[t]:x("Symbol."+t)),y[t]}},7663:function(t,r,i){"use strict";var s=i(2794),u=i(7018),c=i(6724),h=i(5568),f=i(9754),p=i(6848)(function(){return 0x100000001!==[].push.call({length:0x100000000},1)});s({target:"Array",proto:!0,arity:1,forced:p||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var r=u(this),i=c(r),s=arguments.length;f(i+s);for(var p=0;p<s;p++)r[i]=arguments[p],i++;return h(r,i),i}})},4149:function(t,r,i){"use strict";var s=i(2794),u=i(5835),c=i(3010),h=i(5089),f=i(5005),p=i(4023),v=i(3039),y=i(7223),x=i(6848),_=i(1185),b=i(7431),w=i(7988).IteratorPrototype,S=i(9987),A=i(1979),M="constructor",C="Iterator",T=b("toStringTag"),I=TypeError,D=u[C],R=A||!f(D)||D.prototype!==w||!x(function(){D({})}),P=function(){if(c(this,w),p(this)===w)throw new I("Abstract class Iterator not directly constructable")},L=function(t,r){S?v(w,t,{configurable:!0,get:function(){return r},set:function(r){if(h(this),this===w)throw new I("You can't redefine this property");_(this,t)?this[t]=r:y(this,t,r)}}):w[t]=r};!_(w,T)&&L(T,C),(R||!_(w,M)||w[M]===Object)&&L(M,P),P.prototype=w,s({global:!0,constructor:!0,forced:R},{Iterator:P})},3615:function(t,r,i){"use strict";var s=i(2794),u=i(3639),c=i(7613),h=i(5089),f=i(9720),p=i(5625),v=i(3427),y=i(1979),x=p(function(){for(var t,r,i=this.iterator,s=this.predicate,c=this.next;;){if(t=h(u(c,i)),this.done=!!t.done)return;if(v(i,s,[r=t.value,this.counter++],!0))return r}});s({target:"Iterator",proto:!0,real:!0,forced:y},{filter:function(t){return h(this),c(t),new x(f(this),{predicate:t})}})},4402:function(t,r,i){"use strict";var s=i(2794),u=i(3117),c=i(7613),h=i(5089),f=i(9720);s({target:"Iterator",proto:!0,real:!0},{find:function(t){h(this),c(t);var r=f(this),i=0;return u(r,function(r,s){if(t(r,i++))return s(r)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},6396:function(t,r,i){"use strict";var s=i(2794),u=i(3117),c=i(7613),h=i(5089),f=i(9720);s({target:"Iterator",proto:!0,real:!0},{forEach:function(t){h(this),c(t);var r=f(this),i=0;u(r,function(r){t(r,i++)},{IS_RECORD:!0})}})},402:function(t,r,i){"use strict";var s=i(2794),u=i(1232);s({target:"Iterator",proto:!0,real:!0,forced:i(1979)},{map:u})},6170:function(t,r,i){"use strict";var s=i(2794),u=i(3117),c=i(7613),h=i(5089),f=i(9720),p=TypeError;s({target:"Iterator",proto:!0,real:!0},{reduce:function(t){h(this),c(t);var r=f(this),i=arguments.length<2,s=i?void 0:arguments[1],v=0;if(u(r,function(r){i?(i=!1,s=r):s=t(s,r,v),v++},{IS_RECORD:!0}),i)throw new p("Reduce of empty iterator with no initial value");return s}})},4992:function(t,r,i){"use strict";var s=i(2794),u=i(9238);s({target:"Set",proto:!0,real:!0,forced:!i(1340)("difference")},{difference:u})},5660:function(t,r,i){"use strict";var s=i(2794),u=i(6848),c=i(8711);s({target:"Set",proto:!0,real:!0,forced:!i(1340)("intersection")||u(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection:c})},1022:function(t,r,i){"use strict";var s=i(2794),u=i(7449);s({target:"Set",proto:!0,real:!0,forced:!i(1340)("isDisjointFrom")},{isDisjointFrom:u})},3733:function(t,r,i){"use strict";var s=i(2794),u=i(8300);s({target:"Set",proto:!0,real:!0,forced:!i(1340)("isSubsetOf")},{isSubsetOf:u})},9567:function(t,r,i){"use strict";var s=i(2794),u=i(6808);s({target:"Set",proto:!0,real:!0,forced:!i(1340)("isSupersetOf")},{isSupersetOf:u})},8057:function(t,r,i){"use strict";var s=i(2794),u=i(541);s({target:"Set",proto:!0,real:!0,forced:!i(1340)("symmetricDifference")},{symmetricDifference:u})},3128:function(t,r,i){"use strict";var s=i(2794),u=i(3822);s({target:"Set",proto:!0,real:!0,forced:!i(1340)("union")},{union:u})},845:function(t,r,i){"use strict";var s=i(2794),u=i(3010),c=i(4023),h=i(5972),f=i(1185),p=i(7431),v=i(3716),y=i(1979),x=p("toStringTag"),_=TypeError,b=function(){if(u(this,v),c(this)===v)throw new _("Abstract class AsyncIterator not directly constructable")};b.prototype=v,!f(v,x)&&h(v,x,"AsyncIterator"),(y||!f(v,"constructor")||v.constructor===Object)&&h(v,"constructor",b),s({global:!0,constructor:!0,forced:y},{AsyncIterator:b})},6472:function(t,r,i){"use strict";var s=i(2794),u=i(3639),c=i(7613),h=i(5089),f=i(2514),p=i(9720),v=i(1230),y=i(3939),x=i(5069),_=i(1979),b=v(function(t){var r=this,i=r.iterator,s=r.predicate;return new t(function(c,p){var v=function(t){r.done=!0,p(t)},_=function(t){x(i,v,t,v)},b=function(){try{t.resolve(h(u(r.next,i))).then(function(i){try{if(h(i).done)r.done=!0,c(y(void 0,!0));else{var u=i.value;try{var p=s(u,r.counter++),x=function(t){t?c(y(u,!1)):b()};f(p)?t.resolve(p).then(x,_):x(p)}catch(t){_(t)}}}catch(t){v(t)}},v)}catch(t){v(t)}};b()})});s({target:"AsyncIterator",proto:!0,real:!0,forced:_},{filter:function(t){return h(this),c(t),new b(p(this),{predicate:t})}})},9216:function(t,r,i){"use strict";var s=i(2794),u=i(8631).find;s({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return u(this,t)}})},1811:function(t,r,i){"use strict";var s=i(2794),u=i(8631).forEach;s({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return u(this,t)}})},6913:function(t,r,i){"use strict";var s=i(2794),u=i(4013);s({target:"AsyncIterator",proto:!0,real:!0,forced:i(1979)},{map:u})},4958:function(t,r,i){"use strict";var s=i(2794),u=i(3639),c=i(7613),h=i(5089),f=i(2514),p=i(7720),v=i(9720),y=i(5069),x=p("Promise"),_=TypeError;s({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){h(this),c(t);var r=v(this),i=r.iterator,s=r.next,p=arguments.length<2,b=p?void 0:arguments[1],w=0;return new x(function(r,c){var v=function(t){y(i,c,t,c)},S=function(){try{x.resolve(h(u(s,i))).then(function(i){try{if(h(i).done)p?c(new _("Reduce of empty iterator with no initial value")):r(b);else{var s=i.value;if(p)p=!1,b=s,S();else try{var u=t(b,s,w),y=function(t){b=t,S()};f(u)?x.resolve(u).then(y,v):y(u)}catch(t){v(t)}}w++}catch(t){c(t)}},c)}catch(t){c(t)}};S()})}})},9168:function(t,r,i){"use strict";var s=i(2794),u=i(8631).toArray;s({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return u(this,void 0,[])}})},3747:function(t,r,i){"use strict";i(4149)},6298:function(t,r,i){"use strict";i(3615)},7e3:function(t,r,i){"use strict";i(4402)},4838:function(t,r,i){"use strict";i(6396)},5662:function(t,r,i){"use strict";i(402)},8725:function(t,r,i){"use strict";i(6170)},2611:function(t,r,i){"use strict";var s=i(2794),u=i(9987),c=i(5835),h=i(7720),f=i(7626),p=i(3639),v=i(5005),y=i(2514),x=i(5541),_=i(1185),b=i(1023),w=i(6724),S=i(7223),A=i(6848),M=i(6411),C=i(2731),T=c.JSON,I=c.Number,D=c.SyntaxError,R=T&&T.parse,P=h("Object","keys"),L=Object.getOwnPropertyDescriptor,B=f("".charAt),k=f("".slice),O=f(/./.exec),N=f([].push),F=/^\d$/,U=/^[1-9]$/,z=/^[\d-]$/,G=/^[\t\n\r ]$/,H=function(t,r){var i=new X(t=b(t),0,""),s=i.parse(),u=s.value,c=i.skip(G,s.end);if(c<t.length)throw new D('Unexpected extra character: "'+B(t,c)+'" after the parsed data at: '+c);return v(r)?V({"":u},"",r,s):u},V=function(t,r,i,s){var u,c,h,f,v,b=t[r],S=s&&b===s.value,A=S&&"string"==typeof s.source?{source:s.source}:{};if(y(b)){var M=x(b),C=S?s.nodes:M?[]:{};if(M)for(f=0,u=C.length,h=w(b);f<h;f++)j(b,f,V(b,""+f,i,f<u?C[f]:void 0));else for(f=0,h=w(c=P(b));f<h;f++)j(b,v=c[f],V(b,v,i,_(C,v)?C[v]:void 0))}return p(i,t,r,b,A)},j=function(t,r,i){if(u){var s=L(t,r);if(s&&!s.configurable)return}void 0===i?delete t[r]:S(t,r,i)},W=function(t,r,i,s){this.value=t,this.end=r,this.source=i,this.nodes=s},X=function(t,r){this.source=t,this.index=r};X.prototype={fork:function(t){return new X(this.source,t)},parse:function(){var t=this.source,r=this.skip(G,this.index),i=this.fork(r),s=B(t,r);if(O(z,s))return i.number();switch(s){case"{":return i.object();case"[":return i.array();case'"':return i.string();case"t":return i.keyword(!0);case"f":return i.keyword(!1);case"n":return i.keyword(null)}throw new D('Unexpected character: "'+s+'" at: '+r)},node:function(t,r,i,s,u){return new W(r,s,t?null:k(this.source,i,s),u)},object:function(){for(var t=this.source,r=this.index+1,i=!1,s={},u={};r<t.length;){if("}"===B(t,r=this.until(['"',"}"],r))&&!i){r++;break}var c=this.fork(r).string(),h=c.value;r=c.end,r=this.until([":"],r)+1,r=this.skip(G,r),S(u,h,c=this.fork(r).parse()),S(s,h,c.value);var f=B(t,r=this.until([",","}"],c.end));if(","===f)i=!0,r++;else if("}"===f){r++;break}}return this.node(1,s,this.index,r,u)},array:function(){for(var t=this.source,r=this.index+1,i=!1,s=[],u=[];r<t.length;){if("]"===B(t,r=this.skip(G,r))&&!i){r++;break}var c=this.fork(r).parse();if(N(u,c),N(s,c.value),","===B(t,r=this.until([",","]"],c.end)))i=!0,r++;else if("]"===B(t,r)){r++;break}}return this.node(1,s,this.index,r,u)},string:function(){var t=this.index,r=M(this.source,this.index+1);return this.node(0,r.value,t,r.end)},number:function(){var t=this.source,r=this.index,i=r;if("-"===B(t,i)&&i++,"0"===B(t,i))i++;else if(O(U,B(t,i)))i=this.skip(F,i+1);else throw new D("Failed to parse number at: "+i);if("."===B(t,i)&&(i=this.skip(F,i+1)),("e"===B(t,i)||"E"===B(t,i))&&(("+"===B(t,++i)||"-"===B(t,i))&&i++,i===(i=this.skip(F,i))))throw new D("Failed to parse number's exponent value at: "+i);return this.node(0,I(k(t,r,i)),r,i)},keyword:function(t){var r=""+t,i=this.index,s=i+r.length;if(k(this.source,i,s)!==r)throw new D("Failed to parse value at: "+i);return this.node(0,t,i,s)},skip:function(t,r){for(var i=this.source;r<i.length&&O(t,B(i,r));r++);return r},until:function(t,r){r=this.skip(G,r);for(var i=B(this.source,r),s=0;s<t.length;s++)if(t[s]===i)return r;throw new D('Unexpected character: "'+i+'" at: '+r)}};var Y=A(function(){var t,r="9007199254740993";return R(r,function(r,i,s){t=s.source}),t!==r}),Z=C&&!A(function(){return 1/R("-0 	")!=-1/0});s({target:"JSON",stat:!0,forced:Y},{parse:function(t,r){return Z&&!v(r)?R(t):H(t,r)}})},874:function(t,r,i){"use strict";var s=i(2794),u=i(6241),c=i(7051).add;s({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=u(this),r=0,i=arguments.length;r<i;r++)c(t,arguments[r]);return t}})},2256:function(t,r,i){"use strict";var s=i(2794),u=i(6241),c=i(7051).remove;s({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,r=u(this),i=!0,s=0,h=arguments.length;s<h;s++)t=c(r,arguments[s]),i=i&&t;return!!i}})},443:function(t,r,i){"use strict";var s=i(2794),u=i(3639),c=i(2149),h=i(9238);s({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return u(h,this,c(t))}})},701:function(t,r,i){"use strict";var s=i(2794),u=i(612),c=i(6241),h=i(1062);s({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var r=c(this),i=u(t,arguments.length>1?arguments[1]:void 0);return!1!==h(r,function(t){if(!i(t,t,r))return!1},!0)}})},5242:function(t,r,i){"use strict";var s=i(2794),u=i(612),c=i(6241),h=i(7051),f=i(1062),p=h.Set,v=h.add;s({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var r=c(this),i=u(t,arguments.length>1?arguments[1]:void 0),s=new p;return f(r,function(t){i(t,t,r)&&v(s,t)}),s}})},646:function(t,r,i){"use strict";var s=i(2794),u=i(612),c=i(6241),h=i(1062);s({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var r=c(this),i=u(t,arguments.length>1?arguments[1]:void 0),s=h(r,function(t){if(i(t,t,r))return{value:t}},!0);return s&&s.value}})},1309:function(t,r,i){"use strict";var s=i(2794),u=i(3639),c=i(2149),h=i(8711);s({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return u(h,this,c(t))}})},4887:function(t,r,i){"use strict";var s=i(2794),u=i(3639),c=i(2149),h=i(7449);s({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return u(h,this,c(t))}})},9818:function(t,r,i){"use strict";var s=i(2794),u=i(3639),c=i(2149),h=i(8300);s({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return u(h,this,c(t))}})},9964:function(t,r,i){"use strict";var s=i(2794),u=i(3639),c=i(2149),h=i(6808);s({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return u(h,this,c(t))}})},3231:function(t,r,i){"use strict";var s=i(2794),u=i(7626),c=i(6241),h=i(1062),f=i(1023),p=u([].join),v=u([].push);s({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var r=c(this),i=void 0===t?",":f(t),s=[];return h(r,function(t){v(s,t)}),p(s,i)}})},4646:function(t,r,i){"use strict";var s=i(2794),u=i(612),c=i(6241),h=i(7051),f=i(1062),p=h.Set,v=h.add;s({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var r=c(this),i=u(t,arguments.length>1?arguments[1]:void 0),s=new p;return f(r,function(t){v(s,i(t,t,r))}),s}})},2479:function(t,r,i){"use strict";var s=i(2794),u=i(7613),c=i(6241),h=i(1062),f=TypeError;s({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=c(this),i=arguments.length<2,s=i?void 0:arguments[1];if(u(t),h(r,function(u){i?(i=!1,s=u):s=t(s,u,u,r)}),i)throw new f("Reduce of empty set with no initial value");return s}})},7295:function(t,r,i){"use strict";var s=i(2794),u=i(612),c=i(6241),h=i(1062);s({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var r=c(this),i=u(t,arguments.length>1?arguments[1]:void 0);return!0===h(r,function(t){if(i(t,t,r))return!0},!0)}})},1985:function(t,r,i){"use strict";var s=i(2794),u=i(3639),c=i(2149),h=i(541);s({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return u(h,this,c(t))}})},3243:function(t,r,i){"use strict";var s=i(2794),u=i(3639),c=i(2149),h=i(3822);s({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return u(h,this,c(t))}})},3262:function(t,r,i){"use strict";var s=i(9016),u=i(7626),c=i(1023),h=i(7968),f=URLSearchParams,p=f.prototype,v=u(p.append),y=u(p.delete),x=u(p.forEach),_=u([].push),b=new f("a=1&a=2&b=3");b.delete("a",1),b.delete("b",void 0),b+""!="a=2"&&s(p,"delete",function(t){var r,i=arguments.length,s=i<2?void 0:arguments[1];if(i&&void 0===s)return y(this,t);var u=[];x(this,function(t,r){_(u,{key:r,value:t})}),h(i,1);for(var f=c(t),p=c(s),b=0,w=0,S=!1,A=u.length;b<A;)r=u[b++],S||r.key===f?(S=!0,y(this,r.key)):w++;for(;w<A;)!((r=u[w++]).key===f&&r.value===p)&&v(this,r.key,r.value)},{enumerable:!0,unsafe:!0})},5446:function(t,r,i){"use strict";var s=i(9016),u=i(7626),c=i(1023),h=i(7968),f=URLSearchParams,p=f.prototype,v=u(p.getAll),y=u(p.has),x=new f("a=1");(x.has("a",2)||!x.has("a",void 0))&&s(p,"has",function(t){var r=arguments.length,i=r<2?void 0:arguments[1];if(r&&void 0===i)return y(this,t);var s=v(this,t);h(r,1);for(var u=c(i),f=0;f<s.length;)if(s[f++]===u)return!0;return!1},{enumerable:!0,unsafe:!0})},5549:function(t,r,i){"use strict";var s=i(9987),u=i(7626),c=i(3039),h=URLSearchParams.prototype,f=u(h.forEach);s&&!("size"in h)&&c(h,"size",{get:function(){var t=0;return f(this,function(){t++}),t},configurable:!0,enumerable:!0})}},r={};function i(s){var u=r[s];if(void 0!==u)return u.exports;var c=r[s]={exports:{}};return t[s].call(c.exports,c,c.exports,i),c.exports}i.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(r,{a:r}),r},(()=>{var t,r=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};i.t=function(s,u){if(1&u&&(s=this(s)),8&u||"object"==typeof s&&s&&(4&u&&s.__esModule||16&u&&"function"==typeof s.then))return s;var c=Object.create(null);i.r(c);var h={};t=t||[null,r({}),r([]),r(r)];for(var f=2&u&&s;"object"==typeof f&&!~t.indexOf(f);f=r(f))Object.getOwnPropertyNames(f).forEach(function(t){h[t]=function(){return s[t]}});return h.default=function(){return s},i.d(c,h),c}})(),i.d=function(t,r){for(var s in r)i.o(r,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nc=void 0;var s={};return(()=>{"use strict";let t,r,u,c,h,f,p,v,y,x,_,b,w,S,A,M,C,T,I,D,R,P,L,B,k,O,N,F,U,z,G,H,V,j,W,X,Y,Z,K,J,Q,q,$,ee;i.r(s),i.d(s,{create:()=>ebS,resolveUrl:()=>vD});var et,en,er={};i.r(er),i.d(er,{ACESFilmicToneMapping:()=>td,AddEquation:()=>eG,AddOperation:()=>ts,AdditiveAnimationBlendMode:()=>nz,AdditiveBlending:()=>eN,AgXToneMapping:()=>tp,AlphaFormat:()=>tK,AlwaysCompare:()=>rp,AlwaysDepth:()=>e6,AlwaysStencilFunc:()=>ro,AmbientLight:()=>ds,AnimationAction:()=>dq,AnimationClip:()=>hG,AnimationLoader:()=>hK,AnimationMixer:()=>d0,AnimationObjectGroup:()=>dQ,AnimationUtils:()=>hE,ArcCurve:()=>cc,ArrayCamera:()=>lP,ArrowHelper:()=>fB,AttachedBindMode:()=>tm,Audio:()=>dL,AudioAnalyser:()=>dU,AudioContext:()=>d_,AudioListener:()=>dP,AudioLoader:()=>db,AxesHelper:()=>fk,BackSide:()=>eL,BasicDepthPacking:()=>nj,BasicShadowMap:()=>eE,BatchedMesh:()=>uj,Bone:()=>ug,BooleanKeyframeTrack:()=>hB,Box2:()=>fi,Box3:()=>id,Box3Helper:()=>fR,BoxGeometry:()=>oe,BoxHelper:()=>fD,BufferAttribute:()=>aL,BufferGeometry:()=>aJ,BufferGeometryLoader:()=>dp,ByteType:()=>tF,Cache:()=>hH,Camera:()=>oo,CameraHelper:()=>fT,CanvasTexture:()=>cs,CapsuleGeometry:()=>cR,CatmullRomCurve3:()=>cm,CineonToneMapping:()=>th,CircleGeometry:()=>cP,ClampToEdgeWrapping:()=>tM,Clock:()=>dC,Color:()=>aw,ColorKeyframeTrack:()=>hk,ColorManagement:()=>rJ,CompressedArrayTexture:()=>ca,CompressedCubeTexture:()=>co,CompressedTexture:()=>ci,CompressedTextureLoader:()=>hJ,ConeGeometry:()=>cB,ConstantAlphaFactor:()=>e4,ConstantColorFactor:()=>e3,Controls:()=>fN,CubeCamera:()=>oh,CubeReflectionMapping:()=>tx,CubeRefractionMapping:()=>t_,CubeTexture:()=>od,CubeTextureLoader:()=>hq,CubeUVReflectionMapping:()=>tS,CubicBezierCurve:()=>c_,CubicBezierCurve3:()=>cb,CubicInterpolant:()=>hD,CullFaceBack:()=>eM,CullFaceFront:()=>eC,CullFaceFrontBack:()=>eT,CullFaceNone:()=>eA,Curve:()=>cl,CurvePath:()=>cE,CustomBlending:()=>ez,CustomToneMapping:()=>tf,CylinderGeometry:()=>cL,Cylindrical:()=>ft,Data3DTexture:()=>io,DataArrayTexture:()=>ii,DataTexture:()=>um,DataTextureLoader:()=>h$,DataUtils:()=>aD,DecrementStencilOp:()=>n4,DecrementWrapStencilOp:()=>n8,DefaultLoadingManager:()=>hj,DepthFormat:()=>t0,DepthStencilFormat:()=>t1,DepthTexture:()=>o9,DetachedBindMode:()=>tv,DirectionalLight:()=>da,DirectionalLightHelper:()=>fA,DiscreteInterpolant:()=>hP,DodecahedronGeometry:()=>cO,DoubleSide:()=>eB,DstAlphaFactor:()=>eq,DstColorFactor:()=>e0,DynamicCopyUsage:()=>rw,DynamicDrawUsage:()=>rm,DynamicReadUsage:()=>rx,EdgesGeometry:()=>cG,EllipseCurve:()=>cu,EqualCompare:()=>ru,EqualDepth:()=>tt,EqualStencilFunc:()=>rt,EquirectangularReflectionMapping:()=>tb,EquirectangularRefractionMapping:()=>tw,Euler:()=>iJ,EventDispatcher:()=>rE,ExtrudeGeometry:()=>c7,FileLoader:()=>hZ,Float16BufferAttribute:()=>aG,Float32BufferAttribute:()=>aH,FloatType:()=>tV,Fog:()=>lX,FogExp2:()=>lW,FramebufferTexture:()=>cr,FrontSide:()=>eP,Frustum:()=>o_,GLBufferAttribute:()=>d4,GLSL1:()=>rA,GLSL3:()=>rM,GreaterCompare:()=>rh,GreaterDepth:()=>tr,GreaterEqualCompare:()=>rf,GreaterEqualDepth:()=>tn,GreaterEqualStencilFunc:()=>ra,GreaterStencilFunc:()=>rr,GridHelper:()=>fx,Group:()=>lL,HalfFloatType:()=>tj,HemisphereLight:()=>h2,HemisphereLightHelper:()=>fy,IcosahedronGeometry:()=>ht,ImageBitmapLoader:()=>dx,ImageLoader:()=>hQ,ImageUtils:()=>r5,IncrementStencilOp:()=>n5,IncrementWrapStencilOp:()=>n9,InstancedBufferAttribute:()=>u_,InstancedBufferGeometry:()=>df,InstancedInterleavedBuffer:()=>d5,InstancedMesh:()=>uE,Int16BufferAttribute:()=>aN,Int32BufferAttribute:()=>aU,Int8BufferAttribute:()=>aB,IntType:()=>tG,InterleavedBuffer:()=>lZ,InterleavedBufferAttribute:()=>lJ,Interpolant:()=>hI,InterpolateDiscrete:()=>nL,InterpolateLinear:()=>nB,InterpolateSmooth:()=>nk,InvertStencilOp:()=>n6,KeepStencilOp:()=>n2,KeyframeTrack:()=>hL,LOD:()=>ui,LatheGeometry:()=>cD,Layers:()=>iQ,LessCompare:()=>rl,LessDepth:()=>e7,LessEqualCompare:()=>rc,LessEqualDepth:()=>te,LessEqualStencilFunc:()=>rn,LessStencilFunc:()=>re,Light:()=>h1,LightProbe:()=>dc,Line:()=>u$,Line3:()=>fs,LineBasicMaterial:()=>uW,LineCurve:()=>cw,LineCurve3:()=>cS,LineDashedMaterial:()=>hw,LineLoop:()=>u5,LineSegments:()=>u3,LinearFilter:()=>tP,LinearInterpolant:()=>hR,LinearMipMapLinearFilter:()=>tO,LinearMipMapNearestFilter:()=>tB,LinearMipmapLinearFilter:()=>tk,LinearMipmapNearestFilter:()=>tL,LinearSRGBColorSpace:()=>nq,LinearToneMapping:()=>tu,LinearTransfer:()=>n$,Loader:()=>hW,LoaderUtils:()=>dd,LoadingManager:()=>hV,LoopOnce:()=>nD,LoopPingPong:()=>nP,LoopRepeat:()=>nR,LuminanceAlphaFormat:()=>t$,LuminanceFormat:()=>tq,MOUSE:()=>ew,Material:()=>aM,MaterialLoader:()=>dh,MathUtils:()=>rU,Matrix2:()=>fn,Matrix3:()=>rG,Matrix4:()=>iz,MaxEquation:()=>eW,Mesh:()=>a6,MeshBasicMaterial:()=>aC,MeshDepthMaterial:()=>lS,MeshDistanceMaterial:()=>lA,MeshLambertMaterial:()=>h_,MeshMatcapMaterial:()=>hb,MeshNormalMaterial:()=>hx,MeshPhongMaterial:()=>hv,MeshPhysicalMaterial:()=>hm,MeshStandardMaterial:()=>hg,MeshToonMaterial:()=>hy,MinEquation:()=>ej,MirroredRepeatWrapping:()=>tC,MixOperation:()=>to,MultiplyBlending:()=>eU,MultiplyOperation:()=>ta,NearestFilter:()=>tT,NearestMipMapLinearFilter:()=>tR,NearestMipMapNearestFilter:()=>tI,NearestMipmapLinearFilter:()=>tD,NearestMipmapNearestFilter:()=>tE,NeutralToneMapping:()=>tg,NeverCompare:()=>rs,NeverDepth:()=>e8,NeverStencilFunc:()=>n7,NoBlending:()=>ek,NoColorSpace:()=>nJ,NoToneMapping:()=>tl,NormalAnimationBlendMode:()=>nU,NormalBlending:()=>eO,NotEqualCompare:()=>rd,NotEqualDepth:()=>ti,NotEqualStencilFunc:()=>ri,NumberKeyframeTrack:()=>hO,Object3D:()=>ar,ObjectLoader:()=>dg,ObjectSpaceNormalMap:()=>nK,OctahedronGeometry:()=>hn,OneFactor:()=>eY,OneMinusConstantAlphaFactor:()=>e9,OneMinusConstantColorFactor:()=>e5,OneMinusDstAlphaFactor:()=>e$,OneMinusDstColorFactor:()=>e1,OneMinusSrcAlphaFactor:()=>eQ,OneMinusSrcColorFactor:()=>eK,OrthographicCamera:()=>oO,PCFShadowMap:()=>eI,PCFSoftShadowMap:()=>eD,PMREMGenerator:()=>oY,Path:()=>cI,PerspectiveCamera:()=>oc,Plane:()=>ov,PlaneGeometry:()=>oS,PlaneHelper:()=>fP,PointLight:()=>dr,PointLightHelper:()=>fp,Points:()=>ce,PointsMaterial:()=>u4,PolarGridHelper:()=>f_,PolyhedronGeometry:()=>ck,PositionalAudio:()=>dF,PropertyBinding:()=>dJ,PropertyMixer:()=>dz,QuadraticBezierCurve:()=>cA,QuadraticBezierCurve3:()=>cM,Quaternion:()=>il,QuaternionKeyframeTrack:()=>hF,QuaternionLinearInterpolant:()=>hN,RED_GREEN_RGTC2_Format:()=>nE,RED_RGTC1_Format:()=>nC,REVISION:()=>eb,RGBADepthPacking:()=>nW,RGBAFormat:()=>tQ,RGBAIntegerFormat:()=>t8,RGBA_ASTC_10x10_Format:()=>n_,RGBA_ASTC_10x5_Format:()=>nv,RGBA_ASTC_10x6_Format:()=>ny,RGBA_ASTC_10x8_Format:()=>nx,RGBA_ASTC_12x10_Format:()=>nb,RGBA_ASTC_12x12_Format:()=>nw,RGBA_ASTC_4x4_Format:()=>nu,RGBA_ASTC_5x4_Format:()=>nc,RGBA_ASTC_5x5_Format:()=>nh,RGBA_ASTC_6x5_Format:()=>nd,RGBA_ASTC_6x6_Format:()=>nf,RGBA_ASTC_8x5_Format:()=>np,RGBA_ASTC_8x6_Format:()=>ng,RGBA_ASTC_8x8_Format:()=>nm,RGBA_BPTC_Format:()=>nS,RGBA_ETC2_EAC_Format:()=>nl,RGBA_PVRTC_2BPPV1_Format:()=>na,RGBA_PVRTC_4BPPV1_Format:()=>ni,RGBA_S3TC_DXT1_Format:()=>t7,RGBA_S3TC_DXT3_Format:()=>ne,RGBA_S3TC_DXT5_Format:()=>nt,RGBDepthPacking:()=>nX,RGBFormat:()=>tJ,RGBIntegerFormat:()=>t9,RGB_BPTC_SIGNED_Format:()=>nA,RGB_BPTC_UNSIGNED_Format:()=>nM,RGB_ETC1_Format:()=>no,RGB_ETC2_Format:()=>ns,RGB_PVRTC_2BPPV1_Format:()=>nr,RGB_PVRTC_4BPPV1_Format:()=>nn,RGB_S3TC_DXT1_Format:()=>t6,RGDepthPacking:()=>nY,RGFormat:()=>t5,RGIntegerFormat:()=>t4,RawShaderMaterial:()=>hp,Ray:()=>iU,Raycaster:()=>d8,RectAreaLight:()=>dl,RedFormat:()=>t2,RedIntegerFormat:()=>t3,ReinhardToneMapping:()=>tc,RenderTarget:()=>it,RepeatWrapping:()=>tA,ReplaceStencilOp:()=>n3,ReverseSubtractEquation:()=>eV,RingGeometry:()=>hr,SIGNED_RED_GREEN_RGTC2_Format:()=>nI,SIGNED_RED_RGTC1_Format:()=>nT,SRGBColorSpace:()=>nQ,SRGBTransfer:()=>n0,Scene:()=>lY,ShaderChunk:()=>oA,ShaderLib:()=>oC,ShaderMaterial:()=>oa,ShadowMaterial:()=>hf,Shape:()=>cH,ShapeGeometry:()=>hi,ShapePath:()=>fO,ShapeUtils:()=>c9,ShortType:()=>tU,Skeleton:()=>ux,SkeletonHelper:()=>ff,SkinnedMesh:()=>up,Source:()=>r9,Sphere:()=>iR,SphereGeometry:()=>ha,Spherical:()=>fe,SphericalHarmonics3:()=>du,SplineCurve:()=>cC,SpotLight:()=>h6,SpotLightHelper:()=>fu,Sprite:()=>ue,SpriteMaterial:()=>lQ,SrcAlphaFactor:()=>eJ,SrcAlphaSaturateFactor:()=>e2,SrcColorFactor:()=>eZ,StaticCopyUsage:()=>rb,StaticDrawUsage:()=>rg,StaticReadUsage:()=>ry,StereoCamera:()=>dM,StreamCopyUsage:()=>rS,StreamDrawUsage:()=>rv,StreamReadUsage:()=>r_,StringKeyframeTrack:()=>hU,SubtractEquation:()=>eH,SubtractiveBlending:()=>eF,TOUCH:()=>eS,TangentSpaceNormalMap:()=>nZ,TetrahedronGeometry:()=>ho,Texture:()=>r7,TextureLoader:()=>h0,TextureUtils:()=>lI,TorusGeometry:()=>hs,TorusKnotGeometry:()=>hl,Triangle:()=>av,TriangleFanDrawMode:()=>nV,TriangleStripDrawMode:()=>nH,TrianglesDrawMode:()=>nG,TubeGeometry:()=>hu,UVMapping:()=>ty,Uint16BufferAttribute:()=>aF,Uint32BufferAttribute:()=>az,Uint8BufferAttribute:()=>ak,Uint8ClampedBufferAttribute:()=>aO,Uniform:()=>d1,UniformsGroup:()=>d3,UniformsLib:()=>oM,UniformsUtils:()=>oi,UnsignedByteType:()=>tN,UnsignedInt248Type:()=>tY,UnsignedInt5999Type:()=>tZ,UnsignedIntType:()=>tH,UnsignedShort4444Type:()=>tW,UnsignedShort5551Type:()=>tX,UnsignedShortType:()=>tz,VSMShadowMap:()=>eR,Vector2:()=>rz,Vector3:()=>iu,Vector4:()=>ie,VectorKeyframeTrack:()=>hz,VideoTexture:()=>cn,WebGL3DRenderTarget:()=>is,WebGLArrayRenderTarget:()=>ia,WebGLCoordinateSystem:()=>rC,WebGLCubeRenderTarget:()=>of,WebGLMultipleRenderTargets:()=>fF,WebGLRenderTarget:()=>ir,WebGLRenderer:()=>lj,WebGLUtils:()=>lR,WebGPUCoordinateSystem:()=>rT,WireframeGeometry:()=>hc,WrapAroundEnding:()=>nF,ZeroCurvatureEnding:()=>nO,ZeroFactor:()=>eX,ZeroSlopeEnding:()=>nN,ZeroStencilOp:()=>n1,createCanvasElement:()=>rY});var ei={};i.r(ei),i.d(ei,{HashMap:()=>M1,RADIAN_TO_DEGREE:()=>M6,assert:()=>MZ,bind:()=>ME,clone:()=>Md,concatArray:()=>M3,createCanvas:()=>Mv,createHashMap:()=>M2,createObject:()=>M5,curry:()=>MI,defaults:()=>Mm,disableUserSelect:()=>M4,each:()=>Mw,eqNaN:()=>MH,extend:()=>Mg,filter:()=>MM,find:()=>MC,guid:()=>Mc,hasOwn:()=>M9,indexOf:()=>My,inherits:()=>Mx,isArray:()=>MD,isArrayLike:()=>Mb,isBuiltInObject:()=>MO,isDom:()=>MF,isFunction:()=>MR,isGradientObject:()=>MU,isImagePatternObject:()=>Mz,isNumber:()=>MB,isObject:()=>Mk,isPrimitive:()=>Mq,isRegExp:()=>MG,isString:()=>MP,isStringSafe:()=>ML,isTypedArray:()=>MN,keys:()=>MT,logError:()=>Mh,map:()=>MS,merge:()=>Mf,mergeAll:()=>Mp,mixin:()=>M_,noop:()=>M8,normalizeCssArray:()=>MY,reduce:()=>MA,retrieve:()=>MV,retrieve2:()=>Mj,retrieve3:()=>MW,setAsPrimitive:()=>MQ,slice:()=>MX,trim:()=>MK});var ea={};i.r(ea),i.d(ea,{add:()=>Cr,applyTransform:()=>Cb,clone:()=>Ct,copy:()=>Ce,create:()=>M7,dist:()=>Cm,distSquare:()=>Cy,distance:()=>Cg,distanceSquare:()=>Cv,div:()=>Ch,dot:()=>Cd,len:()=>Co,lenSquare:()=>Cl,length:()=>Cs,lengthSquare:()=>Cu,lerp:()=>C_,max:()=>CS,min:()=>Cw,mul:()=>Cc,negate:()=>Cx,normalize:()=>Cp,scale:()=>Cf,scaleAndAdd:()=>Ci,set:()=>Cn,sub:()=>Ca});var eo={};i.r(eo),i.d(eo,{clone:()=>C5,copy:()=>Cq,create:()=>CJ,identity:()=>CQ,invert:()=>C3,mul:()=>C$,rotate:()=>C1,scale:()=>C2,translate:()=>C0});var es={};i.r(es),i.d(es,{fastLerp:()=>En,fastMapToColor:()=>Er,lerp:()=>Ei,lift:()=>Ee,liftColor:()=>Ed,lum:()=>Eu,mapToColor:()=>Ea,modifyAlpha:()=>Es,modifyHSL:()=>Eo,parse:()=>T6,random:()=>Ec,stringify:()=>El,toHex:()=>Et});var el={};i.r(el),i.d(el,{dispose:()=>IE,disposeAll:()=>II,getElementSSRData:()=>IP,getInstance:()=>ID,init:()=>IT,registerPainter:()=>IR,registerSSRDataGetter:()=>IL,version:()=>IB});var eu={};i.r(eu),i.d(eu,{Arc:()=>NP,BezierCurve:()=>NI,BoundingRect:()=>Ti,Circle:()=>O3,CompoundPath:()=>NL,Ellipse:()=>O9,Group:()=>IS,Image:()=>RU,IncrementalDisplayable:()=>NV,Line:()=>NA,LinearGradient:()=>Nk,OrientedBoundingRect:()=>NG,Path:()=>RL,Point:()=>C4,Polygon:()=>Nv,Polyline:()=>N_,RadialGradient:()=>NO,Rect:()=>RY,Ring:()=>Nf,Sector:()=>Nc,Text:()=>R7,applyTransform:()=>N8,clipPointsByRect:()=>Ft,clipRectByRect:()=>Fn,createIcon:()=>Fr,extendPath:()=>NK,extendShape:()=>NY,getShapeClass:()=>NQ,getTransform:()=>N9,groupTransition:()=>Fe,initProps:()=>P0,isElementRemoved:()=>P1,lineLineIntersect:()=>Fa,linePolygonIntersect:()=>Fi,makeImage:()=>N$,makePath:()=>Nq,mergePath:()=>N1,registerShape:()=>NJ,removeElement:()=>P2,removeElementWithFadeOut:()=>P5,resizePath:()=>N2,setTooltipConfig:()=>Fs,subPixelOptimize:()=>N4,subPixelOptimizeLine:()=>N3,subPixelOptimizeRect:()=>N5,transformDirection:()=>N6,traverseElements:()=>Fu,updateProps:()=>P$});var ec={};i.r(ec),i.d(ec,{createDimensions:()=>z$,createList:()=>Gq,createScale:()=>G0,createSymbol:()=>Us,createTextStyle:()=>G2,dataStack:()=>G$,enableHoverEmphasis:()=>Pz,getECData:()=>Pe,getLayoutRect:()=>Bc,mixinAxisModelCommonMethods:()=>G1});var eh={};i.r(eh),i.d(eh,{MAX_SAFE_INTEGER:()=>Ij,asc:()=>IF,getPercentWithPrecision:()=>IH,getPixelPrecision:()=>IG,getPrecision:()=>IU,getPrecisionSafe:()=>Iz,isNumeric:()=>I1,isRadianAroundZero:()=>IX,linearMap:()=>Ik,nice:()=>IQ,numericToNumber:()=>I0,parseDate:()=>IZ,quantile:()=>Iq,quantity:()=>IK,quantityExponent:()=>IJ,reformIntervals:()=>I$,remRadian:()=>IW,round:()=>IN});var ed={};i.r(ed),i.d(ed,{format:()=>LH,parse:()=>IZ});var ef={};i.r(ef),i.d(ef,{Arc:()=>NP,BezierCurve:()=>NI,BoundingRect:()=>Ti,Circle:()=>O3,CompoundPath:()=>NL,Ellipse:()=>O9,Group:()=>IS,Image:()=>RU,IncrementalDisplayable:()=>NV,Line:()=>NA,LinearGradient:()=>Nk,Polygon:()=>Nv,Polyline:()=>N_,RadialGradient:()=>NO,Rect:()=>RY,Ring:()=>Nf,Sector:()=>Nc,Text:()=>R7,clipPointsByRect:()=>Ft,clipRectByRect:()=>Fn,createIcon:()=>Fr,extendPath:()=>NK,extendShape:()=>NY,getShapeClass:()=>NQ,getTransform:()=>N9,initProps:()=>P0,makeImage:()=>N$,makePath:()=>Nq,mergePath:()=>N1,registerShape:()=>NJ,resizePath:()=>N2,updateProps:()=>P$});var ep={};i.r(ep),i.d(ep,{addCommas:()=>L5,capitalFirst:()=>Br,encodeHTML:()=>CO,formatTime:()=>Bn,formatTpl:()=>Be,getTextRect:()=>Ho,getTooltipMarker:()=>Bt,normalizeCssArray:()=>L9,toCamelCase:()=>L4,truncateText:()=>Dk});var eg={};i.r(eg),i.d(eg,{bind:()=>ME,clone:()=>Md,curry:()=>MI,defaults:()=>Mm,each:()=>Mw,extend:()=>Mg,filter:()=>MM,indexOf:()=>My,inherits:()=>Mx,isArray:()=>MD,isFunction:()=>MR,isObject:()=>Mk,isString:()=>MP,map:()=>MS,merge:()=>Mf,reduce:()=>MA});var em={};i.r(em),i.d(em,{Axis:()=>Hy,ChartView:()=>Fy,ComponentModel:()=>By,ComponentView:()=>OL,List:()=>zq,Model:()=>Lw,PRIORITY:()=>UG,SeriesModel:()=>OR,color:()=>es,connect:()=>za,dataTool:()=>zI,dependencies:()=>Uz,disConnect:()=>zs,disconnect:()=>zo,dispose:()=>zl,env:()=>A2,extendChartView:()=>Hw,extendComponentModel:()=>Hx,extendComponentView:()=>H_,extendSeriesModel:()=>Hb,format:()=>ep,getCoordinateSystemDimensions:()=>zx,getInstanceByDom:()=>zu,getInstanceById:()=>zc,getMap:()=>zT,graphic:()=>ef,helper:()=>ec,init:()=>zi,innerDrawElementOnCanvas:()=>UI,matrix:()=>eo,number:()=>eh,parseGeoJSON:()=>Ha,parseGeoJson:()=>Ha,registerAction:()=>zv,registerCoordinateSystem:()=>zy,registerLayout:()=>z_,registerLoading:()=>zA,registerLocale:()=>LI,registerMap:()=>zC,registerPostInit:()=>zp,registerPostUpdate:()=>zg,registerPreprocessor:()=>zd,registerProcessor:()=>zf,registerTheme:()=>zh,registerTransform:()=>zE,registerUpdateLifecycle:()=>zm,registerVisual:()=>zb,setCanvasCreator:()=>zM,setPlatformAPI:()=>A8,throttle:()=>Fw,time:()=>ed,use:()=>zP,util:()=>eg,vector:()=>ea,version:()=>UU,zrUtil:()=>ei,zrender:()=>el});var ev=i("2676"),ey=i("8751");i("6913"),i("5662");var ex=i("5271"),e_=i.t(ex,2);let eb="170",ew={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},eS={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},eA=0,eM=1,eC=2,eT=3,eE=0,eI=1,eD=2,eR=3,eP=0,eL=1,eB=2,ek=0,eO=1,eN=2,eF=3,eU=4,ez=5,eG=100,eH=101,eV=102,ej=103,eW=104,eX=200,eY=201,eZ=202,eK=203,eJ=204,eQ=205,eq=206,e$=207,e0=208,e1=209,e2=210,e3=211,e5=212,e4=213,e9=214,e8=0,e6=1,e7=2,te=3,tt=4,tn=5,tr=6,ti=7,ta=0,to=1,ts=2,tl=0,tu=1,tc=2,th=3,td=4,tf=5,tp=6,tg=7,tm="attached",tv="detached",ty=300,tx=301,t_=302,tb=303,tw=304,tS=306,tA=1e3,tM=1001,tC=1002,tT=1003,tE=1004,tI=1004,tD=1005,tR=1005,tP=1006,tL=1007,tB=1007,tk=1008,tO=1008,tN=1009,tF=1010,tU=1011,tz=1012,tG=1013,tH=1014,tV=1015,tj=1016,tW=1017,tX=1018,tY=1020,tZ=35902,tK=1021,tJ=1022,tQ=1023,tq=1024,t$=1025,t0=1026,t1=1027,t2=1028,t3=1029,t5=1030,t4=1031,t9=1032,t8=1033,t6=33776,t7=33777,ne=33778,nt=33779,nn=35840,nr=35841,ni=35842,na=35843,no=36196,ns=37492,nl=37496,nu=37808,nc=37809,nh=37810,nd=37811,nf=37812,np=37813,ng=37814,nm=37815,nv=37816,ny=37817,nx=37818,n_=37819,nb=37820,nw=37821,nS=36492,nA=36494,nM=36495,nC=36283,nT=36284,nE=36285,nI=36286,nD=2200,nR=2201,nP=2202,nL=2300,nB=2301,nk=2302,nO=2400,nN=2401,nF=2402,nU=2500,nz=2501,nG=0,nH=1,nV=2,nj=3200,nW=3201,nX=3202,nY=3203,nZ=0,nK=1,nJ="",nQ="srgb",nq="srgb-linear",n$="linear",n0="srgb",n1=0,n2=7680,n3=7681,n5=7682,n4=7683,n9=34055,n8=34056,n6=5386,n7=512,re=513,rt=514,rn=515,rr=516,ri=517,ra=518,ro=519,rs=512,rl=513,ru=514,rc=515,rh=516,rd=517,rf=518,rp=519,rg=35044,rm=35048,rv=35040,ry=35045,rx=35049,r_=35041,rb=35046,rw=35050,rS=35042,rA="100",rM="300 es",rC=2e3,rT=2001;class rE{addEventListener(t,r){void 0===this._listeners&&(this._listeners={});let i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(r)&&i[t].push(r)}hasEventListener(t,r){if(void 0===this._listeners)return!1;let i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(r)}removeEventListener(t,r){if(void 0===this._listeners)return;let i=this._listeners[t];if(void 0!==i){let t=i.indexOf(r);-1!==t&&i.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;let r=this._listeners[t.type];if(void 0!==r){t.target=this;let i=r.slice(0);for(let r=0,s=i.length;r<s;r++)i[r].call(this,t);t.target=null}}}let rI=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],rD=1234567,rR=Math.PI/180,rP=180/Math.PI;function rL(){let t=0xffffffff*Math.random()|0,r=0xffffffff*Math.random()|0,i=0xffffffff*Math.random()|0,s=0xffffffff*Math.random()|0;return(rI[255&t]+rI[t>>8&255]+rI[t>>16&255]+rI[t>>24&255]+"-"+rI[255&r]+rI[r>>8&255]+"-"+rI[r>>16&15|64]+rI[r>>24&255]+"-"+rI[63&i|128]+rI[i>>8&255]+"-"+rI[i>>16&255]+rI[i>>24&255]+rI[255&s]+rI[s>>8&255]+rI[s>>16&255]+rI[s>>24&255]).toLowerCase()}function rB(t,r,i){return Math.max(r,Math.min(i,t))}function rk(t,r){return(t%r+r)%r}function rO(t,r,i){return(1-i)*t+i*r}function rN(t,r){switch(r.constructor){case Float32Array:return t;case Uint32Array:return t/0xffffffff;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/0x7fffffff,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw Error("Invalid component type.")}}function rF(t,r){switch(r.constructor){case Float32Array:return t;case Uint32Array:return Math.round(0xffffffff*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(0x7fffffff*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw Error("Invalid component type.")}}let rU={DEG2RAD:rR,RAD2DEG:rP,generateUUID:rL,clamp:rB,euclideanModulo:rk,mapLinear:function(t,r,i,s,u){return s+(t-r)*(u-s)/(i-r)},inverseLerp:function(t,r,i){return t!==r?(i-t)/(r-t):0},lerp:rO,damp:function(t,r,i,s){return rO(t,r,1-Math.exp(-i*s))},pingpong:function(t,r=1){return r-Math.abs(rk(t,2*r)-r)},smoothstep:function(t,r,i){return t<=r?0:t>=i?1:(t=(t-r)/(i-r))*t*(3-2*t)},smootherstep:function(t,r,i){return t<=r?0:t>=i?1:(t=(t-r)/(i-r))*t*t*(t*(6*t-15)+10)},randInt:function(t,r){return t+Math.floor(Math.random()*(r-t+1))},randFloat:function(t,r){return t+Math.random()*(r-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(rD=t);let r=rD+=0x6d2b79f5;return r=Math.imul(r^r>>>15,1|r),(((r^=r+Math.imul(r^r>>>7,61|r))^r>>>14)>>>0)/0x100000000},degToRad:function(t){return t*rR},radToDeg:function(t){return t*rP},isPowerOfTwo:function(t){return(t&t-1)==0&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,r,i,s,u){let c=Math.cos,h=Math.sin,f=c(i/2),p=h(i/2),v=c((r+s)/2),y=h((r+s)/2),x=c((r-s)/2),_=h((r-s)/2),b=c((s-r)/2),w=h((s-r)/2);switch(u){case"XYX":t.set(f*y,p*x,p*_,f*v);break;case"YZY":t.set(p*_,f*y,p*x,f*v);break;case"ZXZ":t.set(p*x,p*_,f*y,f*v);break;case"XZX":t.set(f*y,p*w,p*b,f*v);break;case"YXY":t.set(p*b,f*y,p*w,f*v);break;case"ZYZ":t.set(p*w,p*b,f*y,f*v)}},normalize:rF,denormalize:rN};class rz{constructor(t=0,r=0){rz.prototype.isVector2=!0,this.x=t,this.y=r}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,r){return this.x=t,this.y=r,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;default:throw Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){let r=this.x,i=this.y,s=t.elements;return this.x=s[0]*r+s[3]*i+s[6],this.y=s[1]*r+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this}clampLength(t,r){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(r,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){let r=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===r?Math.PI/2:Math.acos(rB(this.dot(t)/r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let r=this.x-t.x,i=this.y-t.y;return r*r+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this}lerpVectors(t,r,i){return this.x=t.x+(r.x-t.x)*i,this.y=t.y+(r.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this}rotateAround(t,r){let i=Math.cos(r),s=Math.sin(r),u=this.x-t.x,c=this.y-t.y;return this.x=u*i-c*s+t.x,this.y=u*s+c*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class rG{constructor(t,r,i,s,u,c,h,f,p){rG.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,r,i,s,u,c,h,f,p)}set(t,r,i,s,u,c,h,f,p){let v=this.elements;return v[0]=t,v[1]=s,v[2]=h,v[3]=r,v[4]=u,v[5]=f,v[6]=i,v[7]=c,v[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){let r=this.elements,i=t.elements;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],this}extractBasis(t,r,i){return t.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){let r=t.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,r){let i=t.elements,s=r.elements,u=this.elements,c=i[0],h=i[3],f=i[6],p=i[1],v=i[4],y=i[7],x=i[2],_=i[5],b=i[8],w=s[0],S=s[3],A=s[6],M=s[1],C=s[4],T=s[7],I=s[2],D=s[5],R=s[8];return u[0]=c*w+h*M+f*I,u[3]=c*S+h*C+f*D,u[6]=c*A+h*T+f*R,u[1]=p*w+v*M+y*I,u[4]=p*S+v*C+y*D,u[7]=p*A+v*T+y*R,u[2]=x*w+_*M+b*I,u[5]=x*S+_*C+b*D,u[8]=x*A+_*T+b*R,this}multiplyScalar(t){let r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=t,r[4]*=t,r[7]*=t,r[2]*=t,r[5]*=t,r[8]*=t,this}determinant(){let t=this.elements,r=t[0],i=t[1],s=t[2],u=t[3],c=t[4],h=t[5],f=t[6],p=t[7],v=t[8];return r*c*v-r*h*p-i*u*v+i*h*f+s*u*p-s*c*f}invert(){let t=this.elements,r=t[0],i=t[1],s=t[2],u=t[3],c=t[4],h=t[5],f=t[6],p=t[7],v=t[8],y=v*c-h*p,x=h*f-v*u,_=p*u-c*f,b=r*y+i*x+s*_;if(0===b)return this.set(0,0,0,0,0,0,0,0,0);let w=1/b;return t[0]=y*w,t[1]=(s*p-v*i)*w,t[2]=(h*i-s*c)*w,t[3]=x*w,t[4]=(v*r-s*f)*w,t[5]=(s*u-h*r)*w,t[6]=_*w,t[7]=(i*f-p*r)*w,t[8]=(c*r-i*u)*w,this}transpose(){let t;let r=this.elements;return t=r[1],r[1]=r[3],r[3]=t,t=r[2],r[2]=r[6],r[6]=t,t=r[5],r[5]=r[7],r[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){let r=this.elements;return t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8],this}setUvTransform(t,r,i,s,u,c,h){let f=Math.cos(u),p=Math.sin(u);return this.set(i*f,i*p,-i*(f*c+p*h)+c+t,-s*p,s*f,-s*(-p*c+f*h)+h+r,0,0,1),this}scale(t,r){return this.premultiply(rH.makeScale(t,r)),this}rotate(t){return this.premultiply(rH.makeRotation(-t)),this}translate(t,r){return this.premultiply(rH.makeTranslation(t,r)),this}makeTranslation(t,r){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,r,0,0,1),this}makeRotation(t){let r=Math.cos(t),i=Math.sin(t);return this.set(r,-i,0,i,r,0,0,0,1),this}makeScale(t,r){return this.set(t,0,0,0,r,0,0,0,1),this}equals(t){let r=this.elements,i=t.elements;for(let t=0;t<9;t++)if(r[t]!==i[t])return!1;return!0}fromArray(t,r=0){for(let i=0;i<9;i++)this.elements[i]=t[i+r];return this}toArray(t=[],r=0){let i=this.elements;return t[r]=i[0],t[r+1]=i[1],t[r+2]=i[2],t[r+3]=i[3],t[r+4]=i[4],t[r+5]=i[5],t[r+6]=i[6],t[r+7]=i[7],t[r+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}let rH=new rG;function rV(t){for(let r=t.length-1;r>=0;--r)if(t[r]>=65535)return!0;return!1}let rj={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function rW(t,r){return new rj[t](r)}function rX(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function rY(){let t=rX("canvas");return t.style.display="block",t}let rZ={};function rK(t){!(t in rZ)&&(rZ[t]=!0)}let rJ={enabled:!0,workingColorSpace:nq,spaces:{},convert:function(t,r,i){return!1!==this.enabled&&r!==i&&r&&i?(this.spaces[r].transfer===n0&&(t.r=rQ(t.r),t.g=rQ(t.g),t.b=rQ(t.b)),this.spaces[r].primaries!==this.spaces[i].primaries&&(t.applyMatrix3(this.spaces[r].toXYZ),t.applyMatrix3(this.spaces[i].fromXYZ)),this.spaces[i].transfer===n0&&(t.r=rq(t.r),t.g=rq(t.g),t.b=rq(t.b)),t):t},fromWorkingColorSpace:function(t,r){return this.convert(t,this.workingColorSpace,r)},toWorkingColorSpace:function(t,r){return this.convert(t,r,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===nJ?n$:this.spaces[t].transfer},getLuminanceCoefficients:function(t,r=this.workingColorSpace){return t.fromArray(this.spaces[r].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,r,i){return t.copy(this.spaces[r].toXYZ).multiply(this.spaces[i].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function rQ(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function rq(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}let r$=[.64,.33,.3,.6,.15,.06],r0=[.2126,.7152,.0722],r1=[.3127,.329],r2=new rG().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),r3=new rG().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);rJ.define({[nq]:{primaries:r$,whitePoint:r1,transfer:n$,toXYZ:r2,fromXYZ:r3,luminanceCoefficients:r0,workingColorSpaceConfig:{unpackColorSpace:nQ},outputColorSpaceConfig:{drawingBufferColorSpace:nQ}},[nQ]:{primaries:r$,whitePoint:r1,transfer:n0,toXYZ:r2,fromXYZ:r3,luminanceCoefficients:r0,outputColorSpaceConfig:{drawingBufferColorSpace:nQ}}});class r5{static getDataURL(r){let i;if(/^data:/i.test(r.src)||"undefined"==typeof HTMLCanvasElement)return r.src;if(r instanceof HTMLCanvasElement)i=r;else{void 0===t&&(t=rX("canvas")),t.width=r.width,t.height=r.height;let s=t.getContext("2d");r instanceof ImageData?s.putImageData(r,0,0):s.drawImage(r,0,0,r.width,r.height),i=t}return i.width>2048||i.height>2048?i.toDataURL("image/jpeg",.6):i.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){let r=rX("canvas");r.width=t.width,r.height=t.height;let i=r.getContext("2d");i.drawImage(t,0,0,t.width,t.height);let s=i.getImageData(0,0,t.width,t.height),u=s.data;for(let t=0;t<u.length;t++)u[t]=255*rQ(u[t]/255);return i.putImageData(s,0,0),r}if(!t.data)return t;{let r=t.data.slice(0);for(let t=0;t<r.length;t++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[t]=Math.floor(255*rQ(r[t]/255)):r[t]=rQ(r[t]);return{data:r,width:t.width,height:t.height}}}}let r4=0;class r9{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:r4++}),this.uuid=rL(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){let r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.images[this.uuid])return t.images[this.uuid];let i={uuid:this.uuid,url:""},s=this.data;if(null!==s){let t;if(Array.isArray(s)){t=[];for(let r=0,i=s.length;r<i;r++)s[r].isDataTexture?t.push(r8(s[r].image)):t.push(r8(s[r]))}else t=r8(s);i.url=t}return!r&&(t.images[this.uuid]=i),i}}function r8(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?r5.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:{}}let r6=0;class r7 extends rE{constructor(t=r7.DEFAULT_IMAGE,r=r7.DEFAULT_MAPPING,i=tM,s=tM,u=tP,c=tk,h=tQ,f=tN,p=r7.DEFAULT_ANISOTROPY,v=nJ){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:r6++}),this.uuid=rL(),this.name="",this.source=new r9(t),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=u,this.minFilter=c,this.anisotropy=p,this.format=h,this.internalFormat=null,this.type=f,this.offset=new rz(0,0),this.repeat=new rz(1,1),this.center=new rz(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new rG,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=v,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){let r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];let i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),!r&&(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==ty)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case tA:t.x=t.x-Math.floor(t.x);break;case tM:t.x=t.x<0?0:1;break;case tC:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case tA:t.y=t.y-Math.floor(t.y);break;case tM:t.y=t.y<0?0:1;break;case tC:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}r7.DEFAULT_IMAGE=null,r7.DEFAULT_MAPPING=ty,r7.DEFAULT_ANISOTROPY=1;class ie{constructor(t=0,r=0,i=0,s=1){ie.prototype.isVector4=!0,this.x=t,this.y=r,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,r,i,s){return this.x=t,this.y=r,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this.w=t.w+r.w,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this.w+=t.w*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this.w=t.w-r.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){let r=this.x,i=this.y,s=this.z,u=this.w,c=t.elements;return this.x=c[0]*r+c[4]*i+c[8]*s+c[12]*u,this.y=c[1]*r+c[5]*i+c[9]*s+c[13]*u,this.z=c[2]*r+c[6]*i+c[10]*s+c[14]*u,this.w=c[3]*r+c[7]*i+c[11]*s+c[15]*u,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);let r=Math.sqrt(1-t.w*t.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/r,this.y=t.y/r,this.z=t.z/r),this}setAxisAngleFromRotationMatrix(t){let r,i,s,u;let c=t.elements,h=c[0],f=c[4],p=c[8],v=c[1],y=c[5],x=c[9],_=c[2],b=c[6],w=c[10];if(.01>Math.abs(f-v)&&.01>Math.abs(p-_)&&.01>Math.abs(x-b)){if(.1>Math.abs(f+v)&&.1>Math.abs(p+_)&&.1>Math.abs(x+b)&&.1>Math.abs(h+y+w-3))return this.set(1,0,0,0),this;r=Math.PI;let t=(h+1)/2,c=(y+1)/2,S=(w+1)/2,A=(f+v)/4,M=(p+_)/4,C=(x+b)/4;return t>c&&t>S?t<.01?(i=0,s=.707106781,u=.707106781):(s=A/(i=Math.sqrt(t)),u=M/i):c>S?c<.01?(i=.707106781,s=0,u=.707106781):(i=A/(s=Math.sqrt(c)),u=C/s):S<.01?(i=.707106781,s=.707106781,u=0):(i=M/(u=Math.sqrt(S)),s=C/u),this.set(i,s,u,r),this}let S=Math.sqrt((b-x)*(b-x)+(p-_)*(p-_)+(v-f)*(v-f));return .001>Math.abs(S)&&(S=1),this.x=(b-x)/S,this.y=(p-_)/S,this.z=(v-f)/S,this.w=Math.acos((h+y+w-1)/2),this}setFromMatrixPosition(t){let r=t.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this.w=r[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this.w=Math.max(t.w,Math.min(r.w,this.w)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this.z=Math.max(t,Math.min(r,this.z)),this.w=Math.max(t,Math.min(r,this.w)),this}clampLength(t,r){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(r,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this.w+=(t.w-this.w)*r,this}lerpVectors(t,r,i){return this.x=t.x+(r.x-t.x)*i,this.y=t.y+(r.y-t.y)*i,this.z=t.z+(r.z-t.z)*i,this.w=t.w+(r.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this.z=t[r+2],this.w=t[r+3],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t[r+3]=this.w,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this.w=t.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class it extends rE{constructor(t=1,r=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=r,this.depth=1,this.scissor=new ie(0,0,t,r),this.scissorTest=!1,this.viewport=new ie(0,0,t,r);let s=new r7({width:t,height:r,depth:1},(i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:tP,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i)).mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];let u=i.count;for(let t=0;t<u;t++)this.textures[t]=s.clone(),this.textures[t].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}setSize(t,r,i=1){if(this.width!==t||this.height!==r||this.depth!==i){this.width=t,this.height=r,this.depth=i;for(let s=0,u=this.textures.length;s<u;s++)this.textures[s].image.width=t,this.textures[s].image.height=r,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,t,r),this.scissor.set(0,0,t,r)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let r=0,i=t.textures.length;r<i;r++)this.textures[r]=t.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;let r=Object.assign({},t.texture.image);return this.texture.source=new r9(r),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ir extends it{constructor(t=1,r=1,i={}){super(t,r,i),this.isWebGLRenderTarget=!0}}class ii extends r7{constructor(t=null,r=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:r,height:i,depth:s},this.magFilter=tT,this.minFilter=tT,this.wrapR=tM,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class ia extends ir{constructor(t=1,r=1,i=1,s={}){super(t,r,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new ii(null,t,r,i),this.texture.isRenderTargetTexture=!0}}class io extends r7{constructor(t=null,r=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:r,height:i,depth:s},this.magFilter=tT,this.minFilter=tT,this.wrapR=tM,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class is extends ir{constructor(t=1,r=1,i=1,s={}){super(t,r,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new io(null,t,r,i),this.texture.isRenderTargetTexture=!0}}class il{constructor(t=0,r=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=r,this._z=i,this._w=s}static slerpFlat(t,r,i,s,u,c,h){let f=i[s+0],p=i[s+1],v=i[s+2],y=i[s+3],x=u[c+0],_=u[c+1],b=u[c+2],w=u[c+3];if(0===h){t[r+0]=f,t[r+1]=p,t[r+2]=v,t[r+3]=y;return}if(1===h){t[r+0]=x,t[r+1]=_,t[r+2]=b,t[r+3]=w;return}if(y!==w||f!==x||p!==_||v!==b){let t=1-h,r=f*x+p*_+v*b+y*w,i=r>=0?1:-1,s=1-r*r;if(s>Number.EPSILON){let u=Math.sqrt(s),c=Math.atan2(u,r*i);t=Math.sin(t*c)/u,h=Math.sin(h*c)/u}let u=h*i;if(f=f*t+x*u,p=p*t+_*u,v=v*t+b*u,y=y*t+w*u,t===1-h){let t=1/Math.sqrt(f*f+p*p+v*v+y*y);f*=t,p*=t,v*=t,y*=t}}t[r]=f,t[r+1]=p,t[r+2]=v,t[r+3]=y}static multiplyQuaternionsFlat(t,r,i,s,u,c){let h=i[s],f=i[s+1],p=i[s+2],v=i[s+3],y=u[c],x=u[c+1],_=u[c+2],b=u[c+3];return t[r]=h*b+v*y+f*_-p*x,t[r+1]=f*b+v*x+p*y-h*_,t[r+2]=p*b+v*_+h*x-f*y,t[r+3]=v*b-h*y-f*x-p*_,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,r,i,s){return this._x=t,this._y=r,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,r=!0){let i=t._x,s=t._y,u=t._z,c=t._order,h=Math.cos,f=Math.sin,p=h(i/2),v=h(s/2),y=h(u/2),x=f(i/2),_=f(s/2),b=f(u/2);switch(c){case"XYZ":this._x=x*v*y+p*_*b,this._y=p*_*y-x*v*b,this._z=p*v*b+x*_*y,this._w=p*v*y-x*_*b;break;case"YXZ":this._x=x*v*y+p*_*b,this._y=p*_*y-x*v*b,this._z=p*v*b-x*_*y,this._w=p*v*y+x*_*b;break;case"ZXY":this._x=x*v*y-p*_*b,this._y=p*_*y+x*v*b,this._z=p*v*b+x*_*y,this._w=p*v*y-x*_*b;break;case"ZYX":this._x=x*v*y-p*_*b,this._y=p*_*y+x*v*b,this._z=p*v*b-x*_*y,this._w=p*v*y+x*_*b;break;case"YZX":this._x=x*v*y+p*_*b,this._y=p*_*y+x*v*b,this._z=p*v*b-x*_*y,this._w=p*v*y-x*_*b;break;case"XZY":this._x=x*v*y-p*_*b,this._y=p*_*y-x*v*b,this._z=p*v*b+x*_*y,this._w=p*v*y+x*_*b}return!0===r&&this._onChangeCallback(),this}setFromAxisAngle(t,r){let i=r/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){let r=t.elements,i=r[0],s=r[4],u=r[8],c=r[1],h=r[5],f=r[9],p=r[2],v=r[6],y=r[10],x=i+h+y;if(x>0){let t=.5/Math.sqrt(x+1);this._w=.25/t,this._x=(v-f)*t,this._y=(u-p)*t,this._z=(c-s)*t}else if(i>h&&i>y){let t=2*Math.sqrt(1+i-h-y);this._w=(v-f)/t,this._x=.25*t,this._y=(s+c)/t,this._z=(u+p)/t}else if(h>y){let t=2*Math.sqrt(1+h-i-y);this._w=(u-p)/t,this._x=(s+c)/t,this._y=.25*t,this._z=(f+v)/t}else{let t=2*Math.sqrt(1+y-i-h);this._w=(c-s)/t,this._x=(u+p)/t,this._y=(f+v)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,r){let i=t.dot(r)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0):(this._x=0,this._y=-t.z,this._z=t.y),this._w=i):(this._x=t.y*r.z-t.z*r.y,this._y=t.z*r.x-t.x*r.z,this._z=t.x*r.y-t.y*r.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(rB(this.dot(t),-1,1)))}rotateTowards(t,r){let i=this.angleTo(t);if(0===i)return this;let s=Math.min(1,r/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,r){let i=t._x,s=t._y,u=t._z,c=t._w,h=r._x,f=r._y,p=r._z,v=r._w;return this._x=i*v+c*h+s*p-u*f,this._y=s*v+c*f+u*h-i*p,this._z=u*v+c*p+i*f-s*h,this._w=c*v-i*h-s*f-u*p,this._onChangeCallback(),this}slerp(t,r){if(0===r)return this;if(1===r)return this.copy(t);let i=this._x,s=this._y,u=this._z,c=this._w,h=c*t._w+i*t._x+s*t._y+u*t._z;if(h<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,h=-h):this.copy(t),h>=1)return this._w=c,this._x=i,this._y=s,this._z=u,this;let f=1-h*h;if(f<=Number.EPSILON){let t=1-r;return this._w=t*c+r*this._w,this._x=t*i+r*this._x,this._y=t*s+r*this._y,this._z=t*u+r*this._z,this.normalize(),this}let p=Math.sqrt(f),v=Math.atan2(p,h),y=Math.sin((1-r)*v)/p,x=Math.sin(r*v)/p;return this._w=c*y+this._w*x,this._x=i*y+this._x*x,this._y=s*y+this._y*x,this._z=u*y+this._z*x,this._onChangeCallback(),this}slerpQuaternions(t,r,i){return this.copy(t).slerp(r,i)}random(){let t=2*Math.PI*Math.random(),r=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),u=Math.sqrt(i);return this.set(s*Math.sin(t),s*Math.cos(t),u*Math.sin(r),u*Math.cos(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,r=0){return this._x=t[r],this._y=t[r+1],this._z=t[r+2],this._w=t[r+3],this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._w,t}fromBufferAttribute(t,r){return this._x=t.getX(r),this._y=t.getY(r),this._z=t.getZ(r),this._w=t.getW(r),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class iu{constructor(t=0,r=0,i=0){iu.prototype.isVector3=!0,this.x=t,this.y=r,this.z=i}set(t,r,i){return void 0===i&&(i=this.z),this.x=t,this.y=r,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,r){return this.x=t.x*r.x,this.y=t.y*r.y,this.z=t.z*r.z,this}applyEuler(t){return this.applyQuaternion(ih.setFromEuler(t))}applyAxisAngle(t,r){return this.applyQuaternion(ih.setFromAxisAngle(t,r))}applyMatrix3(t){let r=this.x,i=this.y,s=this.z,u=t.elements;return this.x=u[0]*r+u[3]*i+u[6]*s,this.y=u[1]*r+u[4]*i+u[7]*s,this.z=u[2]*r+u[5]*i+u[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){let r=this.x,i=this.y,s=this.z,u=t.elements,c=1/(u[3]*r+u[7]*i+u[11]*s+u[15]);return this.x=(u[0]*r+u[4]*i+u[8]*s+u[12])*c,this.y=(u[1]*r+u[5]*i+u[9]*s+u[13])*c,this.z=(u[2]*r+u[6]*i+u[10]*s+u[14])*c,this}applyQuaternion(t){let r=this.x,i=this.y,s=this.z,u=t.x,c=t.y,h=t.z,f=t.w,p=2*(c*s-h*i),v=2*(h*r-u*s),y=2*(u*i-c*r);return this.x=r+f*p+c*y-h*v,this.y=i+f*v+h*p-u*y,this.z=s+f*y+u*v-c*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){let r=this.x,i=this.y,s=this.z,u=t.elements;return this.x=u[0]*r+u[4]*i+u[8]*s,this.y=u[1]*r+u[5]*i+u[9]*s,this.z=u[2]*r+u[6]*i+u[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this.z=Math.max(t,Math.min(r,this.z)),this}clampLength(t,r){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(r,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this}lerpVectors(t,r,i){return this.x=t.x+(r.x-t.x)*i,this.y=t.y+(r.y-t.y)*i,this.z=t.z+(r.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,r){let i=t.x,s=t.y,u=t.z,c=r.x,h=r.y,f=r.z;return this.x=s*f-u*h,this.y=u*c-i*f,this.z=i*h-s*c,this}projectOnVector(t){let r=t.lengthSq();if(0===r)return this.set(0,0,0);let i=t.dot(this)/r;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return ic.copy(this).projectOnVector(t),this.sub(ic)}reflect(t){return this.sub(ic.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){let r=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===r?Math.PI/2:Math.acos(rB(this.dot(t)/r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let r=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return r*r+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,r,i){let s=Math.sin(r)*t;return this.x=s*Math.sin(i),this.y=Math.cos(r)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,r,i){return this.x=t*Math.sin(r),this.y=i,this.z=t*Math.cos(r),this}setFromMatrixPosition(t){let r=t.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(t){let r=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=r,this.y=i,this.z=s,this}setFromMatrixColumn(t,r){return this.fromArray(t.elements,4*r)}setFromMatrix3Column(t,r){return this.fromArray(t.elements,3*r)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this.z=t[r+2],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let t=Math.random()*Math.PI*2,r=2*Math.random()-1,i=Math.sqrt(1-r*r);return this.x=i*Math.cos(t),this.y=r,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}let ic=new iu,ih=new il;class id{constructor(t=new iu(Infinity,Infinity,Infinity),r=new iu(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=r}set(t,r){return this.min.copy(t),this.max.copy(r),this}setFromArray(t){this.makeEmpty();for(let r=0,i=t.length;r<i;r+=3)this.expandByPoint(ig.fromArray(t,r));return this}setFromBufferAttribute(t){this.makeEmpty();for(let r=0,i=t.count;r<i;r++)this.expandByPoint(ig.fromBufferAttribute(t,r));return this}setFromPoints(t){this.makeEmpty();for(let r=0,i=t.length;r<i;r++)this.expandByPoint(t[r]);return this}setFromCenterAndSize(t,r){let i=ig.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,r=!1){return this.makeEmpty(),this.expandByObject(t,r)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,r=!1){t.updateWorldMatrix(!1,!1);let i=t.geometry;if(void 0!==i){let s=i.getAttribute("position");if(!0===r&&void 0!==s&&!0!==t.isInstancedMesh)for(let r=0,i=s.count;r<i;r++)!0===t.isMesh?t.getVertexPosition(r,ig):ig.fromBufferAttribute(s,r),ig.applyMatrix4(t.matrixWorld),this.expandByPoint(ig);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),im.copy(t.boundingBox)):(null===i.boundingBox&&i.computeBoundingBox(),im.copy(i.boundingBox)),im.applyMatrix4(t.matrixWorld),this.union(im)}let s=t.children;for(let t=0,i=s.length;t<i;t++)this.expandByObject(s[t],r);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,r){return r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,ig),ig.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let r,i;return t.normal.x>0?(r=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(r=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(r+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(r+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(r+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(r+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),r<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(iS),iA.subVectors(this.max,iS),iv.subVectors(t.a,iS),iy.subVectors(t.b,iS),ix.subVectors(t.c,iS),i_.subVectors(iy,iv),ib.subVectors(ix,iy),iw.subVectors(iv,ix);let r=[0,-i_.z,i_.y,0,-ib.z,ib.y,0,-iw.z,iw.y,i_.z,0,-i_.x,ib.z,0,-ib.x,iw.z,0,-iw.x,-i_.y,i_.x,0,-ib.y,ib.x,0,-iw.y,iw.x,0];return!!(iT(r,iv,iy,ix,iA)&&iT(r=[1,0,0,0,1,0,0,0,1],iv,iy,ix,iA))&&(iM.crossVectors(i_,ib),iT(r=[iM.x,iM.y,iM.z],iv,iy,ix,iA))}clampPoint(t,r){return r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,ig).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(ig).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(ip[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ip[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ip[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ip[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ip[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ip[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ip[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ip[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ip),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}let ip=[new iu,new iu,new iu,new iu,new iu,new iu,new iu,new iu],ig=new iu,im=new id,iv=new iu,iy=new iu,ix=new iu,i_=new iu,ib=new iu,iw=new iu,iS=new iu,iA=new iu,iM=new iu,iC=new iu;function iT(t,r,i,s,u){for(let c=0,h=t.length-3;c<=h;c+=3){iC.fromArray(t,c);let h=u.x*Math.abs(iC.x)+u.y*Math.abs(iC.y)+u.z*Math.abs(iC.z),f=r.dot(iC),p=i.dot(iC),v=s.dot(iC);if(Math.max(-Math.max(f,p,v),Math.min(f,p,v))>h)return!1}return!0}let iE=new id,iI=new iu,iD=new iu;class iR{constructor(t=new iu,r=-1){this.isSphere=!0,this.center=t,this.radius=r}set(t,r){return this.center.copy(t),this.radius=r,this}setFromPoints(t,r){let i=this.center;void 0!==r?i.copy(r):iE.setFromPoints(t).getCenter(i);let s=0;for(let r=0,u=t.length;r<u;r++)s=Math.max(s,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){let r=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=r*r}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,r){let i=this.center.distanceToSquared(t);return r.copy(t),i>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;iI.subVectors(t,this.center);let r=iI.lengthSq();if(r>this.radius*this.radius){let t=Math.sqrt(r),i=(t-this.radius)*.5;this.center.addScaledVector(iI,i/t),this.radius+=i}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(iD.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(iI.copy(t.center).add(iD)),this.expandByPoint(iI.copy(t.center).sub(iD))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}let iP=new iu,iL=new iu,iB=new iu,ik=new iu,iO=new iu,iN=new iu,iF=new iu;class iU{constructor(t=new iu,r=new iu(0,0,-1)){this.origin=t,this.direction=r}set(t,r){return this.origin.copy(t),this.direction.copy(r),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,r){return r.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,iP)),this}closestPointToPoint(t,r){r.subVectors(t,this.origin);let i=r.dot(this.direction);return i<0?r.copy(this.origin):r.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){let r=iP.subVectors(t,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(t):(iP.copy(this.origin).addScaledVector(this.direction,r),iP.distanceToSquared(t))}distanceSqToSegment(t,r,i,s){let u,c,h,f;iL.copy(t).add(r).multiplyScalar(.5),iB.copy(r).sub(t).normalize(),ik.copy(this.origin).sub(iL);let p=.5*t.distanceTo(r),v=-this.direction.dot(iB),y=ik.dot(this.direction),x=-ik.dot(iB),_=ik.lengthSq(),b=Math.abs(1-v*v);if(b>0){if(u=v*x-y,c=v*y-x,f=p*b,u>=0){if(c>=-f){if(c<=f){let t=1/b;u*=t,c*=t,h=u*(u+v*c+2*y)+c*(v*u+c+2*x)+_}else h=-(u=Math.max(0,-(v*(c=p)+y)))*u+c*(c+2*x)+_}else h=-(u=Math.max(0,-(v*(c=-p)+y)))*u+c*(c+2*x)+_}else c<=-f?(c=(u=Math.max(0,-(-v*p+y)))>0?-p:Math.min(Math.max(-p,-x),p),h=-u*u+c*(c+2*x)+_):c<=f?(u=0,h=(c=Math.min(Math.max(-p,-x),p))*(c+2*x)+_):(c=(u=Math.max(0,-(v*p+y)))>0?p:Math.min(Math.max(-p,-x),p),h=-u*u+c*(c+2*x)+_)}else c=v>0?-p:p,h=-(u=Math.max(0,-(v*c+y)))*u+c*(c+2*x)+_;return i&&i.copy(this.origin).addScaledVector(this.direction,u),s&&s.copy(iL).addScaledVector(iB,c),h}intersectSphere(t,r){iP.subVectors(t.center,this.origin);let i=iP.dot(this.direction),s=iP.dot(iP)-i*i,u=t.radius*t.radius;if(s>u)return null;let c=Math.sqrt(u-s),h=i-c,f=i+c;return f<0?null:h<0?this.at(f,r):this.at(h,r)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){let r=t.normal.dot(this.direction);if(0===r)return 0===t.distanceToPoint(this.origin)?0:null;let i=-(this.origin.dot(t.normal)+t.constant)/r;return i>=0?i:null}intersectPlane(t,r){let i=this.distanceToPlane(t);return null===i?null:this.at(i,r)}intersectsPlane(t){let r=t.distanceToPoint(this.origin);return!!(0===r||t.normal.dot(this.direction)*r<0)||!1}intersectBox(t,r){let i,s,u,c,h,f;let p=1/this.direction.x,v=1/this.direction.y,y=1/this.direction.z,x=this.origin;return(p>=0?(i=(t.min.x-x.x)*p,s=(t.max.x-x.x)*p):(i=(t.max.x-x.x)*p,s=(t.min.x-x.x)*p),v>=0?(u=(t.min.y-x.y)*v,c=(t.max.y-x.y)*v):(u=(t.max.y-x.y)*v,c=(t.min.y-x.y)*v),i>c||u>s)?null:((u>i||isNaN(i))&&(i=u),(c<s||isNaN(s))&&(s=c),y>=0?(h=(t.min.z-x.z)*y,f=(t.max.z-x.z)*y):(h=(t.max.z-x.z)*y,f=(t.min.z-x.z)*y),i>f||h>s)?null:((h>i||i!=i)&&(i=h),(f<s||s!=s)&&(s=f),s<0)?null:this.at(i>=0?i:s,r)}intersectsBox(t){return null!==this.intersectBox(t,iP)}intersectTriangle(t,r,i,s,u){let c;iO.subVectors(r,t),iN.subVectors(i,t),iF.crossVectors(iO,iN);let h=this.direction.dot(iF);if(h>0){if(s)return null;c=1}else{if(!(h<0))return null;c=-1,h=-h}ik.subVectors(this.origin,t);let f=c*this.direction.dot(iN.crossVectors(ik,iN));if(f<0)return null;let p=c*this.direction.dot(iO.cross(ik));if(p<0||f+p>h)return null;let v=-c*ik.dot(iF);return v<0?null:this.at(v/h,u)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class iz{constructor(t,r,i,s,u,c,h,f,p,v,y,x,_,b,w,S){iz.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,r,i,s,u,c,h,f,p,v,y,x,_,b,w,S)}set(t,r,i,s,u,c,h,f,p,v,y,x,_,b,w,S){let A=this.elements;return A[0]=t,A[4]=r,A[8]=i,A[12]=s,A[1]=u,A[5]=c,A[9]=h,A[13]=f,A[2]=p,A[6]=v,A[10]=y,A[14]=x,A[3]=_,A[7]=b,A[11]=w,A[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new iz().fromArray(this.elements)}copy(t){let r=this.elements,i=t.elements;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],this}copyPosition(t){let r=this.elements,i=t.elements;return r[12]=i[12],r[13]=i[13],r[14]=i[14],this}setFromMatrix3(t){let r=t.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(t,r,i){return t.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,r,i){return this.set(t.x,r.x,i.x,0,t.y,r.y,i.y,0,t.z,r.z,i.z,0,0,0,0,1),this}extractRotation(t){let r=this.elements,i=t.elements,s=1/iG.setFromMatrixColumn(t,0).length(),u=1/iG.setFromMatrixColumn(t,1).length(),c=1/iG.setFromMatrixColumn(t,2).length();return r[0]=i[0]*s,r[1]=i[1]*s,r[2]=i[2]*s,r[3]=0,r[4]=i[4]*u,r[5]=i[5]*u,r[6]=i[6]*u,r[7]=0,r[8]=i[8]*c,r[9]=i[9]*c,r[10]=i[10]*c,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(t){let r=this.elements,i=t.x,s=t.y,u=t.z,c=Math.cos(i),h=Math.sin(i),f=Math.cos(s),p=Math.sin(s),v=Math.cos(u),y=Math.sin(u);if("XYZ"===t.order){let t=c*v,i=c*y,s=h*v,u=h*y;r[0]=f*v,r[4]=-f*y,r[8]=p,r[1]=i+s*p,r[5]=t-u*p,r[9]=-h*f,r[2]=u-t*p,r[6]=s+i*p,r[10]=c*f}else if("YXZ"===t.order){let t=f*v,i=f*y,s=p*v,u=p*y;r[0]=t+u*h,r[4]=s*h-i,r[8]=c*p,r[1]=c*y,r[5]=c*v,r[9]=-h,r[2]=i*h-s,r[6]=u+t*h,r[10]=c*f}else if("ZXY"===t.order){let t=f*v,i=f*y,s=p*v,u=p*y;r[0]=t-u*h,r[4]=-c*y,r[8]=s+i*h,r[1]=i+s*h,r[5]=c*v,r[9]=u-t*h,r[2]=-c*p,r[6]=h,r[10]=c*f}else if("ZYX"===t.order){let t=c*v,i=c*y,s=h*v,u=h*y;r[0]=f*v,r[4]=s*p-i,r[8]=t*p+u,r[1]=f*y,r[5]=u*p+t,r[9]=i*p-s,r[2]=-p,r[6]=h*f,r[10]=c*f}else if("YZX"===t.order){let t=c*f,i=c*p,s=h*f,u=h*p;r[0]=f*v,r[4]=u-t*y,r[8]=s*y+i,r[1]=y,r[5]=c*v,r[9]=-h*v,r[2]=-p*v,r[6]=i*y+s,r[10]=t-u*y}else if("XZY"===t.order){let t=c*f,i=c*p,s=h*f,u=h*p;r[0]=f*v,r[4]=-y,r[8]=p*v,r[1]=t*y+u,r[5]=c*v,r[9]=i*y-s,r[2]=s*y-i,r[6]=h*v,r[10]=u*y+t}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(t){return this.compose(iV,t,ij)}lookAt(t,r,i){let s=this.elements;return iY.subVectors(t,r),0===iY.lengthSq()&&(iY.z=1),iY.normalize(),iW.crossVectors(i,iY),0===iW.lengthSq()&&(1===Math.abs(i.z)?iY.x+=1e-4:iY.z+=1e-4,iY.normalize(),iW.crossVectors(i,iY)),iW.normalize(),iX.crossVectors(iY,iW),s[0]=iW.x,s[4]=iX.x,s[8]=iY.x,s[1]=iW.y,s[5]=iX.y,s[9]=iY.y,s[2]=iW.z,s[6]=iX.z,s[10]=iY.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,r){let i=t.elements,s=r.elements,u=this.elements,c=i[0],h=i[4],f=i[8],p=i[12],v=i[1],y=i[5],x=i[9],_=i[13],b=i[2],w=i[6],S=i[10],A=i[14],M=i[3],C=i[7],T=i[11],I=i[15],D=s[0],R=s[4],P=s[8],L=s[12],B=s[1],k=s[5],O=s[9],N=s[13],F=s[2],U=s[6],z=s[10],G=s[14],H=s[3],V=s[7],j=s[11],W=s[15];return u[0]=c*D+h*B+f*F+p*H,u[4]=c*R+h*k+f*U+p*V,u[8]=c*P+h*O+f*z+p*j,u[12]=c*L+h*N+f*G+p*W,u[1]=v*D+y*B+x*F+_*H,u[5]=v*R+y*k+x*U+_*V,u[9]=v*P+y*O+x*z+_*j,u[13]=v*L+y*N+x*G+_*W,u[2]=b*D+w*B+S*F+A*H,u[6]=b*R+w*k+S*U+A*V,u[10]=b*P+w*O+S*z+A*j,u[14]=b*L+w*N+S*G+A*W,u[3]=M*D+C*B+T*F+I*H,u[7]=M*R+C*k+T*U+I*V,u[11]=M*P+C*O+T*z+I*j,u[15]=M*L+C*N+T*G+I*W,this}multiplyScalar(t){let r=this.elements;return r[0]*=t,r[4]*=t,r[8]*=t,r[12]*=t,r[1]*=t,r[5]*=t,r[9]*=t,r[13]*=t,r[2]*=t,r[6]*=t,r[10]*=t,r[14]*=t,r[3]*=t,r[7]*=t,r[11]*=t,r[15]*=t,this}determinant(){let t=this.elements,r=t[0],i=t[4],s=t[8],u=t[12],c=t[1],h=t[5],f=t[9],p=t[13],v=t[2],y=t[6],x=t[10],_=t[14],b=t[3],w=t[7],S=t[11];return b*(+u*f*y-s*p*y-u*h*x+i*p*x+s*h*_-i*f*_)+w*(+r*f*_-r*p*x+u*c*x-s*c*_+s*p*v-u*f*v)+S*(+r*p*y-r*h*_-u*c*y+i*c*_+u*h*v-i*p*v)+t[15]*(-s*h*v-r*f*y+r*h*x+s*c*y-i*c*x+i*f*v)}transpose(){let t;let r=this.elements;return t=r[1],r[1]=r[4],r[4]=t,t=r[2],r[2]=r[8],r[8]=t,t=r[6],r[6]=r[9],r[9]=t,t=r[3],r[3]=r[12],r[12]=t,t=r[7],r[7]=r[13],r[13]=t,t=r[11],r[11]=r[14],r[14]=t,this}setPosition(t,r,i){let s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=r,s[14]=i),this}invert(){let t=this.elements,r=t[0],i=t[1],s=t[2],u=t[3],c=t[4],h=t[5],f=t[6],p=t[7],v=t[8],y=t[9],x=t[10],_=t[11],b=t[12],w=t[13],S=t[14],A=t[15],M=y*S*p-w*x*p+w*f*_-h*S*_-y*f*A+h*x*A,C=b*x*p-v*S*p-b*f*_+c*S*_+v*f*A-c*x*A,T=v*w*p-b*y*p+b*h*_-c*w*_-v*h*A+c*y*A,I=b*y*f-v*w*f-b*h*x+c*w*x+v*h*S-c*y*S,D=r*M+i*C+s*T+u*I;if(0===D)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let R=1/D;return t[0]=M*R,t[1]=(w*x*u-y*S*u-w*s*_+i*S*_+y*s*A-i*x*A)*R,t[2]=(h*S*u-w*f*u+w*s*p-i*S*p-h*s*A+i*f*A)*R,t[3]=(y*f*u-h*x*u-y*s*p+i*x*p+h*s*_-i*f*_)*R,t[4]=C*R,t[5]=(v*S*u-b*x*u+b*s*_-r*S*_-v*s*A+r*x*A)*R,t[6]=(b*f*u-c*S*u-b*s*p+r*S*p+c*s*A-r*f*A)*R,t[7]=(c*x*u-v*f*u+v*s*p-r*x*p-c*s*_+r*f*_)*R,t[8]=T*R,t[9]=(b*y*u-v*w*u-b*i*_+r*w*_+v*i*A-r*y*A)*R,t[10]=(c*w*u-b*h*u+b*i*p-r*w*p-c*i*A+r*h*A)*R,t[11]=(v*h*u-c*y*u-v*i*p+r*y*p+c*i*_-r*h*_)*R,t[12]=I*R,t[13]=(v*w*s-b*y*s+b*i*x-r*w*x-v*i*S+r*y*S)*R,t[14]=(b*h*s-c*w*s-b*i*f+r*w*f+c*i*S-r*h*S)*R,t[15]=(c*y*s-v*h*s+v*i*f-r*y*f-c*i*x+r*h*x)*R,this}scale(t){let r=this.elements,i=t.x,s=t.y,u=t.z;return r[0]*=i,r[4]*=s,r[8]*=u,r[1]*=i,r[5]*=s,r[9]*=u,r[2]*=i,r[6]*=s,r[10]*=u,r[3]*=i,r[7]*=s,r[11]*=u,this}getMaxScaleOnAxis(){let t=this.elements,r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6];return Math.sqrt(Math.max(r,i,t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,r,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,r,0,0,1,i,0,0,0,1),this}makeRotationX(t){let r=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1),this}makeRotationY(t){let r=Math.cos(t),i=Math.sin(t);return this.set(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1),this}makeRotationZ(t){let r=Math.cos(t),i=Math.sin(t);return this.set(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,r){let i=Math.cos(r),s=Math.sin(r),u=1-i,c=t.x,h=t.y,f=t.z,p=u*c,v=u*h;return this.set(p*c+i,p*h-s*f,p*f+s*h,0,p*h+s*f,v*h+i,v*f-s*c,0,p*f-s*h,v*f+s*c,u*f*f+i,0,0,0,0,1),this}makeScale(t,r,i){return this.set(t,0,0,0,0,r,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,r,i,s,u,c){return this.set(1,i,u,0,t,1,c,0,r,s,1,0,0,0,0,1),this}compose(t,r,i){let s=this.elements,u=r._x,c=r._y,h=r._z,f=r._w,p=u+u,v=c+c,y=h+h,x=u*p,_=u*v,b=u*y,w=c*v,S=c*y,A=h*y,M=f*p,C=f*v,T=f*y,I=i.x,D=i.y,R=i.z;return s[0]=(1-(w+A))*I,s[1]=(_+T)*I,s[2]=(b-C)*I,s[3]=0,s[4]=(_-T)*D,s[5]=(1-(x+A))*D,s[6]=(S+M)*D,s[7]=0,s[8]=(b+C)*R,s[9]=(S-M)*R,s[10]=(1-(x+w))*R,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,r,i){let s=this.elements,u=iG.set(s[0],s[1],s[2]).length(),c=iG.set(s[4],s[5],s[6]).length(),h=iG.set(s[8],s[9],s[10]).length();0>this.determinant()&&(u=-u),t.x=s[12],t.y=s[13],t.z=s[14],iH.copy(this);let f=1/u,p=1/c,v=1/h;return iH.elements[0]*=f,iH.elements[1]*=f,iH.elements[2]*=f,iH.elements[4]*=p,iH.elements[5]*=p,iH.elements[6]*=p,iH.elements[8]*=v,iH.elements[9]*=v,iH.elements[10]*=v,r.setFromRotationMatrix(iH),i.x=u,i.y=c,i.z=h,this}makePerspective(t,r,i,s,u,c,h=rC){let f,p;let v=this.elements;if(h===rC)f=-(c+u)/(c-u),p=-2*c*u/(c-u);else if(h===rT)f=-c/(c-u),p=-c*u/(c-u);else throw Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+h);return v[0]=2*u/(r-t),v[4]=0,v[8]=(r+t)/(r-t),v[12]=0,v[1]=0,v[5]=2*u/(i-s),v[9]=(i+s)/(i-s),v[13]=0,v[2]=0,v[6]=0,v[10]=f,v[14]=p,v[3]=0,v[7]=0,v[11]=-1,v[15]=0,this}makeOrthographic(t,r,i,s,u,c,h=rC){let f,p;let v=this.elements,y=1/(r-t),x=1/(i-s),_=1/(c-u);if(h===rC)f=(c+u)*_,p=-2*_;else if(h===rT)f=u*_,p=-1*_;else throw Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+h);return v[0]=2*y,v[4]=0,v[8]=0,v[12]=-((r+t)*y),v[1]=0,v[5]=2*x,v[9]=0,v[13]=-((i+s)*x),v[2]=0,v[6]=0,v[10]=p,v[14]=-f,v[3]=0,v[7]=0,v[11]=0,v[15]=1,this}equals(t){let r=this.elements,i=t.elements;for(let t=0;t<16;t++)if(r[t]!==i[t])return!1;return!0}fromArray(t,r=0){for(let i=0;i<16;i++)this.elements[i]=t[i+r];return this}toArray(t=[],r=0){let i=this.elements;return t[r]=i[0],t[r+1]=i[1],t[r+2]=i[2],t[r+3]=i[3],t[r+4]=i[4],t[r+5]=i[5],t[r+6]=i[6],t[r+7]=i[7],t[r+8]=i[8],t[r+9]=i[9],t[r+10]=i[10],t[r+11]=i[11],t[r+12]=i[12],t[r+13]=i[13],t[r+14]=i[14],t[r+15]=i[15],t}}let iG=new iu,iH=new iz,iV=new iu(0,0,0),ij=new iu(1,1,1),iW=new iu,iX=new iu,iY=new iu,iZ=new iz,iK=new il;class iJ{constructor(t=0,r=0,i=0,s=iJ.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=r,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,i,s=this._order){return this._x=t,this._y=r,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,i=!0){let s=t.elements,u=s[0],c=s[4],h=s[8],f=s[1],p=s[5],v=s[9],y=s[2],x=s[6],_=s[10];switch(r){case"XYZ":this._y=Math.asin(rB(h,-1,1)),.9999999>Math.abs(h)?(this._x=Math.atan2(-v,_),this._z=Math.atan2(-c,u)):(this._x=Math.atan2(x,p),this._z=0);break;case"YXZ":this._x=Math.asin(-rB(v,-1,1)),.9999999>Math.abs(v)?(this._y=Math.atan2(h,_),this._z=Math.atan2(f,p)):(this._y=Math.atan2(-y,u),this._z=0);break;case"ZXY":this._x=Math.asin(rB(x,-1,1)),.9999999>Math.abs(x)?(this._y=Math.atan2(-y,_),this._z=Math.atan2(-c,p)):(this._y=0,this._z=Math.atan2(f,u));break;case"ZYX":this._y=Math.asin(-rB(y,-1,1)),.9999999>Math.abs(y)?(this._x=Math.atan2(x,_),this._z=Math.atan2(f,u)):(this._x=0,this._z=Math.atan2(-c,p));break;case"YZX":this._z=Math.asin(rB(f,-1,1)),.9999999>Math.abs(f)?(this._x=Math.atan2(-v,p),this._y=Math.atan2(-y,u)):(this._x=0,this._y=Math.atan2(h,_));break;case"XZY":this._z=Math.asin(-rB(c,-1,1)),.9999999>Math.abs(c)?(this._x=Math.atan2(x,p),this._y=Math.atan2(h,u)):(this._x=Math.atan2(-v,_),this._y=0)}return this._order=r,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,r,i){return iZ.makeRotationFromQuaternion(t),this.setFromRotationMatrix(iZ,r,i)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return iK.setFromEuler(this),this.setFromQuaternion(iK,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}iJ.DEFAULT_ORDER="XYZ";class iQ{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!=0}isEnabled(t){return(this.mask&(1<<t|0))!=0}}let iq=0,i$=new iu,i0=new il,i1=new iz,i2=new iu,i3=new iu,i5=new iu,i4=new il,i9=new iu(1,0,0),i8=new iu(0,1,0),i6=new iu(0,0,1),i7={type:"added"},ae={type:"removed"},at={type:"childadded",child:null},an={type:"childremoved",child:null};class ar extends rE{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:iq++}),this.uuid=rL(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ar.DEFAULT_UP.clone();let t=new iu,r=new iJ,i=new il,s=new iu(1,1,1);r._onChange(function(){i.setFromEuler(r,!1)}),i._onChange(function(){r.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new iz},normalMatrix:{value:new rG}}),this.matrix=new iz,this.matrixWorld=new iz,this.matrixAutoUpdate=ar.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ar.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new iQ,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return i0.setFromAxisAngle(t,r),this.quaternion.multiply(i0),this}rotateOnWorldAxis(t,r){return i0.setFromAxisAngle(t,r),this.quaternion.premultiply(i0),this}rotateX(t){return this.rotateOnAxis(i9,t)}rotateY(t){return this.rotateOnAxis(i8,t)}rotateZ(t){return this.rotateOnAxis(i6,t)}translateOnAxis(t,r){return i$.copy(t).applyQuaternion(this.quaternion),this.position.add(i$.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(i9,t)}translateY(t){return this.translateOnAxis(i8,t)}translateZ(t){return this.translateOnAxis(i6,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(i1.copy(this.matrixWorld).invert())}lookAt(t,r,i){t.isVector3?i2.copy(t):i2.set(t,r,i);let s=this.parent;this.updateWorldMatrix(!0,!1),i3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?i1.lookAt(i3,i2,this.up):i1.lookAt(i2,i3,this.up),this.quaternion.setFromRotationMatrix(i1),s&&(i1.extractRotation(s.matrixWorld),i0.setFromRotationMatrix(i1),this.quaternion.premultiply(i0.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?this:(t&&t.isObject3D&&(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(i7),at.child=t,this.dispatchEvent(at),at.child=null),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}let r=this.children.indexOf(t);return -1!==r&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(ae),an.child=t,this.dispatchEvent(an),an.child=null),this}removeFromParent(){let t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),i1.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),i1.multiply(t.parent.matrixWorld)),t.applyMatrix4(i1),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(i7),at.child=t,this.dispatchEvent(at),at.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let i=0,s=this.children.length;i<s;i++){let s=this.children[i].getObjectByProperty(t,r);if(void 0!==s)return s}}getObjectsByProperty(t,r,i=[]){this[t]===r&&i.push(this);let s=this.children;for(let u=0,c=s.length;u<c;u++)s[u].getObjectsByProperty(t,r,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(i3,t,i5),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(i3,i4,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);let r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);let r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);let r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverseVisible(t)}traverseAncestors(t){let r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);let r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].updateMatrixWorld(t)}updateWorldMatrix(t,r){let i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===r){let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateWorldMatrix(!1,!0)}}toJSON(t){let r=void 0===t||"string"==typeof t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});let s={};function u(r,i){return void 0===r[i.uuid]&&(r[i.uuid]=i.toJSON(t)),i.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(t=>({boxInitialized:t.boxInitialized,boxMin:t.box.min.toArray(),boxMax:t.box.max.toArray(),sphereInitialized:t.sphereInitialized,sphereRadius:t.sphere.radius,sphereCenter:t.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(s.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),null!==this.boundingBox&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=u(t.geometries,this.geometry);let r=this.geometry.parameters;if(void 0!==r&&void 0!==r.shapes){let i=r.shapes;if(Array.isArray(i))for(let r=0,s=i.length;r<s;r++){let s=i[r];u(t.shapes,s)}else u(t.shapes,i)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(u(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material){if(Array.isArray(this.material)){let r=[];for(let i=0,s=this.material.length;i<s;i++)r.push(u(t.materials,this.material[i]));s.material=r}else s.material=u(t.materials,this.material)}if(this.children.length>0){s.children=[];for(let r=0;r<this.children.length;r++)s.children.push(this.children[r].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let r=0;r<this.animations.length;r++){let i=this.animations[r];s.animations.push(u(t.animations,i))}}if(r){let r=c(t.geometries),s=c(t.materials),u=c(t.textures),h=c(t.images),f=c(t.shapes),p=c(t.skeletons),v=c(t.animations),y=c(t.nodes);r.length>0&&(i.geometries=r),s.length>0&&(i.materials=s),u.length>0&&(i.textures=u),h.length>0&&(i.images=h),f.length>0&&(i.shapes=f),p.length>0&&(i.skeletons=p),v.length>0&&(i.animations=v),y.length>0&&(i.nodes=y)}return i.object=s,i;function c(t){let r=[];for(let i in t){let s=t[i];delete s.metadata,r.push(s)}return r}}clone(t){return new this.constructor().copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(let r=0;r<t.children.length;r++){let i=t.children[r];this.add(i.clone())}return this}}ar.DEFAULT_UP=new iu(0,1,0),ar.DEFAULT_MATRIX_AUTO_UPDATE=!0,ar.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;let ai=new iu,aa=new iu,ao=new iu,as=new iu,al=new iu,au=new iu,ac=new iu,ah=new iu,ad=new iu,af=new iu,ap=new ie,ag=new ie,am=new ie;class av{constructor(t=new iu,r=new iu,i=new iu){this.a=t,this.b=r,this.c=i}static getNormal(t,r,i,s){s.subVectors(i,r),ai.subVectors(t,r),s.cross(ai);let u=s.lengthSq();return u>0?s.multiplyScalar(1/Math.sqrt(u)):s.set(0,0,0)}static getBarycoord(t,r,i,s,u){ai.subVectors(s,r),aa.subVectors(i,r),ao.subVectors(t,r);let c=ai.dot(ai),h=ai.dot(aa),f=ai.dot(ao),p=aa.dot(aa),v=aa.dot(ao),y=c*p-h*h;if(0===y)return u.set(0,0,0),null;let x=1/y,_=(p*f-h*v)*x,b=(c*v-h*f)*x;return u.set(1-_-b,b,_)}static containsPoint(t,r,i,s){return null!==this.getBarycoord(t,r,i,s,as)&&as.x>=0&&as.y>=0&&as.x+as.y<=1}static getInterpolation(t,r,i,s,u,c,h,f){return null===this.getBarycoord(t,r,i,s,as)?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(u,as.x),f.addScaledVector(c,as.y),f.addScaledVector(h,as.z),f)}static getInterpolatedAttribute(t,r,i,s,u,c){return ap.setScalar(0),ag.setScalar(0),am.setScalar(0),ap.fromBufferAttribute(t,r),ag.fromBufferAttribute(t,i),am.fromBufferAttribute(t,s),c.setScalar(0),c.addScaledVector(ap,u.x),c.addScaledVector(ag,u.y),c.addScaledVector(am,u.z),c}static isFrontFacing(t,r,i,s){return ai.subVectors(i,r),aa.subVectors(t,r),0>ai.cross(aa).dot(s)}set(t,r,i){return this.a.copy(t),this.b.copy(r),this.c.copy(i),this}setFromPointsAndIndices(t,r,i,s){return this.a.copy(t[r]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,r,i,s){return this.a.fromBufferAttribute(t,r),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ai.subVectors(this.c,this.b),aa.subVectors(this.a,this.b),.5*ai.cross(aa).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return av.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,r){return av.getBarycoord(t,this.a,this.b,this.c,r)}getInterpolation(t,r,i,s,u){return av.getInterpolation(t,this.a,this.b,this.c,r,i,s,u)}containsPoint(t){return av.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return av.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,r){let i,s;let u=this.a,c=this.b,h=this.c;al.subVectors(c,u),au.subVectors(h,u),ah.subVectors(t,u);let f=al.dot(ah),p=au.dot(ah);if(f<=0&&p<=0)return r.copy(u);ad.subVectors(t,c);let v=al.dot(ad),y=au.dot(ad);if(v>=0&&y<=v)return r.copy(c);let x=f*y-v*p;if(x<=0&&f>=0&&v<=0)return i=f/(f-v),r.copy(u).addScaledVector(al,i);af.subVectors(t,h);let _=al.dot(af),b=au.dot(af);if(b>=0&&_<=b)return r.copy(h);let w=_*p-f*b;if(w<=0&&p>=0&&b<=0)return s=p/(p-b),r.copy(u).addScaledVector(au,s);let S=v*b-_*y;if(S<=0&&y-v>=0&&_-b>=0)return ac.subVectors(h,c),s=(y-v)/(y-v+(_-b)),r.copy(c).addScaledVector(ac,s);let A=1/(S+w+x);return i=w*A,s=x*A,r.copy(u).addScaledVector(al,i).addScaledVector(au,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let ay={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32},ax={h:0,s:0,l:0},a_={h:0,s:0,l:0};function ab(t,r,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?t+(r-t)*6*i:i<.5?r:i<2/3?t+(r-t)*6*(2/3-i):t}class aw{constructor(t,r,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,r,i)}set(t,r,i){return void 0===r&&void 0===i?t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t):this.setRGB(t,r,i),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,r=nQ){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,rJ.toWorkingColorSpace(this,r),this}setRGB(t,r,i,s=rJ.workingColorSpace){return this.r=t,this.g=r,this.b=i,rJ.toWorkingColorSpace(this,s),this}setHSL(t,r,i,s=rJ.workingColorSpace){if(t=rk(t,1),r=rB(r,0,1),i=rB(i,0,1),0===r)this.r=this.g=this.b=i;else{let s=i<=.5?i*(1+r):i+r-i*r,u=2*i-s;this.r=ab(u,s,t+1/3),this.g=ab(u,s,t),this.b=ab(u,s,t-1/3)}return rJ.toWorkingColorSpace(this,s),this}setStyle(t,r=nQ){let i;function s(t){void 0!==t&&parseFloat(t)}if(i=/^(\w+)\(([^\)]*)\)/.exec(t)){let t;let u=i[1],c=i[2];switch(u){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return s(t[4]),this.setRGB(Math.min(255,parseInt(t[1],10))/255,Math.min(255,parseInt(t[2],10))/255,Math.min(255,parseInt(t[3],10))/255,r);if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return s(t[4]),this.setRGB(Math.min(100,parseInt(t[1],10))/100,Math.min(100,parseInt(t[2],10))/100,Math.min(100,parseInt(t[3],10))/100,r);break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return s(t[4]),this.setHSL(parseFloat(t[1])/360,parseFloat(t[2])/100,parseFloat(t[3])/100,r)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){let t=i[1],s=t.length;if(3===s)return this.setRGB(parseInt(t.charAt(0),16)/15,parseInt(t.charAt(1),16)/15,parseInt(t.charAt(2),16)/15,r);if(6===s)return this.setHex(parseInt(t,16),r)}else if(t&&t.length>0)return this.setColorName(t,r);return this}setColorName(t,r=nQ){let i=ay[t.toLowerCase()];return void 0!==i&&this.setHex(i,r),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=rQ(t.r),this.g=rQ(t.g),this.b=rQ(t.b),this}copyLinearToSRGB(t){return this.r=rq(t.r),this.g=rq(t.g),this.b=rq(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=nQ){return rJ.fromWorkingColorSpace(aS.copy(this),t),65536*Math.round(rB(255*aS.r,0,255))+256*Math.round(rB(255*aS.g,0,255))+Math.round(rB(255*aS.b,0,255))}getHexString(t=nQ){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,r=rJ.workingColorSpace){let i,s;rJ.fromWorkingColorSpace(aS.copy(this),r);let u=aS.r,c=aS.g,h=aS.b,f=Math.max(u,c,h),p=Math.min(u,c,h),v=(p+f)/2;if(p===f)i=0,s=0;else{let t=f-p;switch(s=v<=.5?t/(f+p):t/(2-f-p),f){case u:i=(c-h)/t+(c<h?6:0);break;case c:i=(h-u)/t+2;break;case h:i=(u-c)/t+4}i/=6}return t.h=i,t.s=s,t.l=v,t}getRGB(t,r=rJ.workingColorSpace){return rJ.fromWorkingColorSpace(aS.copy(this),r),t.r=aS.r,t.g=aS.g,t.b=aS.b,t}getStyle(t=nQ){rJ.fromWorkingColorSpace(aS.copy(this),t);let r=aS.r,i=aS.g,s=aS.b;return t!==nQ?`color(${t} ${r.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(255*r)},${Math.round(255*i)},${Math.round(255*s)})`}offsetHSL(t,r,i){return this.getHSL(ax),this.setHSL(ax.h+t,ax.s+r,ax.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this}lerpColors(t,r,i){return this.r=t.r+(r.r-t.r)*i,this.g=t.g+(r.g-t.g)*i,this.b=t.b+(r.b-t.b)*i,this}lerpHSL(t,r){this.getHSL(ax),t.getHSL(a_);let i=rO(ax.h,a_.h,r),s=rO(ax.s,a_.s,r),u=rO(ax.l,a_.l,r);return this.setHSL(i,s,u),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){let r=this.r,i=this.g,s=this.b,u=t.elements;return this.r=u[0]*r+u[3]*i+u[6]*s,this.g=u[1]*r+u[4]*i+u[7]*s,this.b=u[2]*r+u[5]*i+u[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,r=0){return this.r=t[r],this.g=t[r+1],this.b=t[r+2],this}toArray(t=[],r=0){return t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t}fromBufferAttribute(t,r){return this.r=t.getX(r),this.g=t.getY(r),this.b=t.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let aS=new aw;aw.NAMES=ay;let aA=0;class aM extends rE{static get type(){return"Material"}get type(){return this.constructor.type}set type(t){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:aA++}),this.uuid=rL(),this.name="",this.blending=eO,this.side=eP,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=eJ,this.blendDst=eQ,this.blendEquation=eG,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new aw(0,0,0),this.blendAlpha=0,this.depthFunc=te,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ro,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=n2,this.stencilZFail=n2,this.stencilZPass=n2,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(let r in t){let i=t[r];if(void 0===i)continue;let s=this[r];if(void 0!==s)s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[r]=i}}toJSON(t){let r=void 0===t||"string"==typeof t;r&&(t={textures:{},images:{}});let i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function s(t){let r=[];for(let i in t){let s=t[i];delete s.metadata,r.push(s)}return r}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(i.dispersion=this.dispersion),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapRotation&&(i.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==eO&&(i.blending=this.blending),this.side!==eP&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),this.blendSrc!==eJ&&(i.blendSrc=this.blendSrc),this.blendDst!==eQ&&(i.blendDst=this.blendDst),this.blendEquation!==eG&&(i.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(i.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(i.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==te&&(i.depthFunc=this.depthFunc),!1===this.depthTest&&(i.depthTest=this.depthTest),!1===this.depthWrite&&(i.depthWrite=this.depthWrite),!1===this.colorWrite&&(i.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==ro&&(i.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(i.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==n2&&(i.stencilFail=this.stencilFail),this.stencilZFail!==n2&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==n2&&(i.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(i.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!0===this.wireframe&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),r){let r=s(t.textures),u=s(t.images);r.length>0&&(i.textures=r),u.length>0&&(i.images=u)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;let r=t.clippingPlanes,i=null;if(null!==r){let t=r.length;i=Array(t);for(let s=0;s!==t;++s)i[s]=r[s].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}onBuild(){}}class aC extends aM{static get type(){return"MeshBasicMaterial"}constructor(t){super(),this.isMeshBasicMaterial=!0,this.color=new aw(0xffffff),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new iJ,this.combine=ta,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}let aT=function(){let t=new ArrayBuffer(4),r=new Float32Array(t),i=new Uint32Array(t),s=new Uint32Array(512),u=new Uint32Array(512);for(let t=0;t<256;++t){let r=t-127;r<-27?(s[t]=0,s[256|t]=32768,u[t]=24,u[256|t]=24):r<-14?(s[t]=1024>>-r-14,s[256|t]=1024>>-r-14|32768,u[t]=-r-1,u[256|t]=-r-1):r<=15?(s[t]=r+15<<10,s[256|t]=r+15<<10|32768,u[t]=13,u[256|t]=13):r<128?(s[t]=31744,s[256|t]=64512,u[t]=24,u[256|t]=24):(s[t]=31744,s[256|t]=64512,u[t]=13,u[256|t]=13)}let c=new Uint32Array(2048),h=new Uint32Array(64),f=new Uint32Array(64);for(let t=1;t<1024;++t){let r=t<<13,i=0;for(;(8388608&r)==0;)r<<=1,i-=8388608;r&=-8388609,i+=0x38800000,c[t]=r|i}for(let t=1024;t<2048;++t)c[t]=0x38000000+(t-1024<<13);for(let t=1;t<31;++t)h[t]=t<<23;h[31]=0x47800000,h[32]=0x80000000;for(let t=33;t<63;++t)h[t]=0x80000000+(t-32<<23);h[63]=0xc7800000;for(let t=1;t<64;++t)32!==t&&(f[t]=1024);return{floatView:r,uint32View:i,baseTable:s,shiftTable:u,mantissaTable:c,exponentTable:h,offsetTable:f}}();function aE(t){t=rB(t,-65504,65504),aT.floatView[0]=t;let r=aT.uint32View[0],i=r>>23&511;return aT.baseTable[i]+((8388607&r)>>aT.shiftTable[i])}function aI(t){let r=t>>10;return aT.uint32View[0]=aT.mantissaTable[aT.offsetTable[r]+(1023&t)]+aT.exponentTable[r],aT.floatView[0]}let aD={toHalfFloat:aE,fromHalfFloat:aI},aR=new iu,aP=new rz;class aL{constructor(t,r,i=!1){if(Array.isArray(t))throw TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=r,this.count=void 0!==t?t.length/r:0,this.normalized=i,this.usage=rg,this.updateRanges=[],this.gpuType=tV,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,r){this.updateRanges.push({start:t,count:r})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,r,i){t*=this.itemSize,i*=r.itemSize;for(let s=0,u=this.itemSize;s<u;s++)this.array[t+s]=r.array[i+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let r=0,i=this.count;r<i;r++)aP.fromBufferAttribute(this,r),aP.applyMatrix3(t),this.setXY(r,aP.x,aP.y);else if(3===this.itemSize)for(let r=0,i=this.count;r<i;r++)aR.fromBufferAttribute(this,r),aR.applyMatrix3(t),this.setXYZ(r,aR.x,aR.y,aR.z);return this}applyMatrix4(t){for(let r=0,i=this.count;r<i;r++)aR.fromBufferAttribute(this,r),aR.applyMatrix4(t),this.setXYZ(r,aR.x,aR.y,aR.z);return this}applyNormalMatrix(t){for(let r=0,i=this.count;r<i;r++)aR.fromBufferAttribute(this,r),aR.applyNormalMatrix(t),this.setXYZ(r,aR.x,aR.y,aR.z);return this}transformDirection(t){for(let r=0,i=this.count;r<i;r++)aR.fromBufferAttribute(this,r),aR.transformDirection(t),this.setXYZ(r,aR.x,aR.y,aR.z);return this}set(t,r=0){return this.array.set(t,r),this}getComponent(t,r){let i=this.array[t*this.itemSize+r];return this.normalized&&(i=rN(i,this.array)),i}setComponent(t,r,i){return this.normalized&&(i=rF(i,this.array)),this.array[t*this.itemSize+r]=i,this}getX(t){let r=this.array[t*this.itemSize];return this.normalized&&(r=rN(r,this.array)),r}setX(t,r){return this.normalized&&(r=rF(r,this.array)),this.array[t*this.itemSize]=r,this}getY(t){let r=this.array[t*this.itemSize+1];return this.normalized&&(r=rN(r,this.array)),r}setY(t,r){return this.normalized&&(r=rF(r,this.array)),this.array[t*this.itemSize+1]=r,this}getZ(t){let r=this.array[t*this.itemSize+2];return this.normalized&&(r=rN(r,this.array)),r}setZ(t,r){return this.normalized&&(r=rF(r,this.array)),this.array[t*this.itemSize+2]=r,this}getW(t){let r=this.array[t*this.itemSize+3];return this.normalized&&(r=rN(r,this.array)),r}setW(t,r){return this.normalized&&(r=rF(r,this.array)),this.array[t*this.itemSize+3]=r,this}setXY(t,r,i){return t*=this.itemSize,this.normalized&&(r=rF(r,this.array),i=rF(i,this.array)),this.array[t+0]=r,this.array[t+1]=i,this}setXYZ(t,r,i,s){return t*=this.itemSize,this.normalized&&(r=rF(r,this.array),i=rF(i,this.array),s=rF(s,this.array)),this.array[t+0]=r,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,r,i,s,u){return t*=this.itemSize,this.normalized&&(r=rF(r,this.array),i=rF(i,this.array),s=rF(s,this.array),u=rF(u,this.array)),this.array[t+0]=r,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=u,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==rg&&(t.usage=this.usage),t}}class aB extends aL{constructor(t,r,i){super(new Int8Array(t),r,i)}}class ak extends aL{constructor(t,r,i){super(new Uint8Array(t),r,i)}}class aO extends aL{constructor(t,r,i){super(new Uint8ClampedArray(t),r,i)}}class aN extends aL{constructor(t,r,i){super(new Int16Array(t),r,i)}}class aF extends aL{constructor(t,r,i){super(new Uint16Array(t),r,i)}}class aU extends aL{constructor(t,r,i){super(new Int32Array(t),r,i)}}class az extends aL{constructor(t,r,i){super(new Uint32Array(t),r,i)}}class aG extends aL{constructor(t,r,i){super(new Uint16Array(t),r,i),this.isFloat16BufferAttribute=!0}getX(t){let r=aI(this.array[t*this.itemSize]);return this.normalized&&(r=rN(r,this.array)),r}setX(t,r){return this.normalized&&(r=rF(r,this.array)),this.array[t*this.itemSize]=aE(r),this}getY(t){let r=aI(this.array[t*this.itemSize+1]);return this.normalized&&(r=rN(r,this.array)),r}setY(t,r){return this.normalized&&(r=rF(r,this.array)),this.array[t*this.itemSize+1]=aE(r),this}getZ(t){let r=aI(this.array[t*this.itemSize+2]);return this.normalized&&(r=rN(r,this.array)),r}setZ(t,r){return this.normalized&&(r=rF(r,this.array)),this.array[t*this.itemSize+2]=aE(r),this}getW(t){let r=aI(this.array[t*this.itemSize+3]);return this.normalized&&(r=rN(r,this.array)),r}setW(t,r){return this.normalized&&(r=rF(r,this.array)),this.array[t*this.itemSize+3]=aE(r),this}setXY(t,r,i){return t*=this.itemSize,this.normalized&&(r=rF(r,this.array),i=rF(i,this.array)),this.array[t+0]=aE(r),this.array[t+1]=aE(i),this}setXYZ(t,r,i,s){return t*=this.itemSize,this.normalized&&(r=rF(r,this.array),i=rF(i,this.array),s=rF(s,this.array)),this.array[t+0]=aE(r),this.array[t+1]=aE(i),this.array[t+2]=aE(s),this}setXYZW(t,r,i,s,u){return t*=this.itemSize,this.normalized&&(r=rF(r,this.array),i=rF(i,this.array),s=rF(s,this.array),u=rF(u,this.array)),this.array[t+0]=aE(r),this.array[t+1]=aE(i),this.array[t+2]=aE(s),this.array[t+3]=aE(u),this}}class aH extends aL{constructor(t,r,i){super(new Float32Array(t),r,i)}}let aV=0,aj=new iz,aW=new ar,aX=new iu,aY=new id,aZ=new id,aK=new iu;class aJ extends rE{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:aV++}),this.uuid=rL(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(rV(t)?az:aF)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,r){return this.attributes[t]=r,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,r,i=0){this.groups.push({start:t,count:r,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,r){this.drawRange.start=t,this.drawRange.count=r}applyMatrix4(t){let r=this.attributes.position;void 0!==r&&(r.applyMatrix4(t),r.needsUpdate=!0);let i=this.attributes.normal;if(void 0!==i){let r=new rG().getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}let s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(t),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return aj.makeRotationFromQuaternion(t),this.applyMatrix4(aj),this}rotateX(t){return aj.makeRotationX(t),this.applyMatrix4(aj),this}rotateY(t){return aj.makeRotationY(t),this.applyMatrix4(aj),this}rotateZ(t){return aj.makeRotationZ(t),this.applyMatrix4(aj),this}translate(t,r,i){return aj.makeTranslation(t,r,i),this.applyMatrix4(aj),this}scale(t,r,i){return aj.makeScale(t,r,i),this.applyMatrix4(aj),this}lookAt(t){return aW.lookAt(t),aW.updateMatrix(),this.applyMatrix4(aW.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(aX).negate(),this.translate(aX.x,aX.y,aX.z),this}setFromPoints(t){let r=this.getAttribute("position");if(void 0===r){let r=[];for(let i=0,s=t.length;i<s;i++){let s=t[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new aH(r,3))}else{for(let i=0,s=r.count;i<s;i++){let s=t[i];r.setXYZ(i,s.x,s.y,s.z||0)}t.length,r.count,r.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new id);let t=this.attributes.position,r=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){this.boundingBox.set(new iu(-1/0,-1/0,-1/0),new iu(Infinity,Infinity,Infinity));return}if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),r)for(let t=0,i=r.length;t<i;t++){let i=r[t];aY.setFromBufferAttribute(i),this.morphTargetsRelative?(aK.addVectors(this.boundingBox.min,aY.min),this.boundingBox.expandByPoint(aK),aK.addVectors(this.boundingBox.max,aY.max),this.boundingBox.expandByPoint(aK)):(this.boundingBox.expandByPoint(aY.min),this.boundingBox.expandByPoint(aY.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new iR);let t=this.attributes.position,r=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){this.boundingSphere.set(new iu,1/0);return}if(t){let i=this.boundingSphere.center;if(aY.setFromBufferAttribute(t),r)for(let t=0,i=r.length;t<i;t++){let i=r[t];aZ.setFromBufferAttribute(i),this.morphTargetsRelative?(aK.addVectors(aY.min,aZ.min),aY.expandByPoint(aK),aK.addVectors(aY.max,aZ.max),aY.expandByPoint(aK)):(aY.expandByPoint(aZ.min),aY.expandByPoint(aZ.max))}aY.getCenter(i);let s=0;for(let r=0,u=t.count;r<u;r++)aK.fromBufferAttribute(t,r),s=Math.max(s,i.distanceToSquared(aK));if(r)for(let u=0,c=r.length;u<c;u++){let c=r[u],h=this.morphTargetsRelative;for(let r=0,u=c.count;r<u;r++)aK.fromBufferAttribute(c,r),h&&(aX.fromBufferAttribute(t,r),aK.add(aX)),s=Math.max(s,i.distanceToSquared(aK))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)}}computeTangents(){let t=this.index,r=this.attributes;if(null===t||void 0===r.position||void 0===r.normal||void 0===r.uv)return;let i=r.position,s=r.normal,u=r.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new aL(new Float32Array(4*i.count),4));let c=this.getAttribute("tangent"),h=[],f=[];for(let t=0;t<i.count;t++)h[t]=new iu,f[t]=new iu;let p=new iu,v=new iu,y=new iu,x=new rz,_=new rz,b=new rz,w=new iu,S=new iu,A=this.groups;0===A.length&&(A=[{start:0,count:t.count}]);for(let r=0,s=A.length;r<s;++r){let s=A[r],c=s.start,M=s.count;for(let r=c,s=c+M;r<s;r+=3)!function(t,r,s){p.fromBufferAttribute(i,t),v.fromBufferAttribute(i,r),y.fromBufferAttribute(i,s),x.fromBufferAttribute(u,t),_.fromBufferAttribute(u,r),b.fromBufferAttribute(u,s),v.sub(p),y.sub(p),_.sub(x),b.sub(x);let c=1/(_.x*b.y-b.x*_.y);isFinite(c)&&(w.copy(v).multiplyScalar(b.y).addScaledVector(y,-_.y).multiplyScalar(c),S.copy(y).multiplyScalar(_.x).addScaledVector(v,-b.x).multiplyScalar(c),h[t].add(w),h[r].add(w),h[s].add(w),f[t].add(S),f[r].add(S),f[s].add(S))}(t.getX(r+0),t.getX(r+1),t.getX(r+2))}let M=new iu,C=new iu,T=new iu,I=new iu;function D(t){T.fromBufferAttribute(s,t),I.copy(T);let r=h[t];M.copy(r),M.sub(T.multiplyScalar(T.dot(r))).normalize(),C.crossVectors(I,r);let i=C.dot(f[t]);c.setXYZW(t,M.x,M.y,M.z,i<0?-1:1)}for(let r=0,i=A.length;r<i;++r){let i=A[r],s=i.start,u=i.count;for(let r=s,i=s+u;r<i;r+=3)D(t.getX(r+0)),D(t.getX(r+1)),D(t.getX(r+2))}}computeVertexNormals(){let t=this.index,r=this.getAttribute("position");if(void 0!==r){let i=this.getAttribute("normal");if(void 0===i)i=new aL(new Float32Array(3*r.count),3),this.setAttribute("normal",i);else for(let t=0,r=i.count;t<r;t++)i.setXYZ(t,0,0,0);let s=new iu,u=new iu,c=new iu,h=new iu,f=new iu,p=new iu,v=new iu,y=new iu;if(t)for(let x=0,_=t.count;x<_;x+=3){let _=t.getX(x+0),b=t.getX(x+1),w=t.getX(x+2);s.fromBufferAttribute(r,_),u.fromBufferAttribute(r,b),c.fromBufferAttribute(r,w),v.subVectors(c,u),y.subVectors(s,u),v.cross(y),h.fromBufferAttribute(i,_),f.fromBufferAttribute(i,b),p.fromBufferAttribute(i,w),h.add(v),f.add(v),p.add(v),i.setXYZ(_,h.x,h.y,h.z),i.setXYZ(b,f.x,f.y,f.z),i.setXYZ(w,p.x,p.y,p.z)}else for(let t=0,h=r.count;t<h;t+=3)s.fromBufferAttribute(r,t+0),u.fromBufferAttribute(r,t+1),c.fromBufferAttribute(r,t+2),v.subVectors(c,u),y.subVectors(s,u),v.cross(y),i.setXYZ(t+0,v.x,v.y,v.z),i.setXYZ(t+1,v.x,v.y,v.z),i.setXYZ(t+2,v.x,v.y,v.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){let t=this.attributes.normal;for(let r=0,i=t.count;r<i;r++)aK.fromBufferAttribute(t,r),aK.normalize(),t.setXYZ(r,aK.x,aK.y,aK.z)}toNonIndexed(){function t(t,r){let i=t.array,s=t.itemSize,u=t.normalized,c=new i.constructor(r.length*s),h=0,f=0;for(let u=0,p=r.length;u<p;u++){h=t.isInterleavedBufferAttribute?r[u]*t.data.stride+t.offset:r[u]*s;for(let t=0;t<s;t++)c[f++]=i[h++]}return new aL(c,s,u)}if(null===this.index)return this;let r=new aJ,i=this.index.array,s=this.attributes;for(let u in s){let c=t(s[u],i);r.setAttribute(u,c)}let u=this.morphAttributes;for(let s in u){let c=[],h=u[s];for(let r=0,s=h.length;r<s;r++){let s=t(h[r],i);c.push(s)}r.morphAttributes[s]=c}r.morphTargetsRelative=this.morphTargetsRelative;let c=this.groups;for(let t=0,i=c.length;t<i;t++){let i=c[t];r.addGroup(i.start,i.count,i.materialIndex)}return r}toJSON(){let t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){let r=this.parameters;for(let i in r)void 0!==r[i]&&(t[i]=r[i]);return t}t.data={attributes:{}};let r=this.index;null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});let i=this.attributes;for(let r in i){let s=i[r];t.data.attributes[r]=s.toJSON(t.data)}let s={},u=!1;for(let r in this.morphAttributes){let i=this.morphAttributes[r],c=[];for(let r=0,s=i.length;r<s;r++){let s=i[r];c.push(s.toJSON(t.data))}c.length>0&&(s[r]=c,u=!0)}u&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);let c=this.groups;c.length>0&&(t.data.groups=JSON.parse(JSON.stringify(c)));let h=this.boundingSphere;return null!==h&&(t.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let r={};this.name=t.name;let i=t.index;null!==i&&this.setIndex(i.clone(r));let s=t.attributes;for(let t in s){let i=s[t];this.setAttribute(t,i.clone(r))}let u=t.morphAttributes;for(let t in u){let i=[],s=u[t];for(let t=0,u=s.length;t<u;t++)i.push(s[t].clone(r));this.morphAttributes[t]=i}this.morphTargetsRelative=t.morphTargetsRelative;let c=t.groups;for(let t=0,r=c.length;t<r;t++){let r=c[t];this.addGroup(r.start,r.count,r.materialIndex)}let h=t.boundingBox;null!==h&&(this.boundingBox=h.clone());let f=t.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}let aQ=new iz,aq=new iU,a$=new iR,a0=new iu,a1=new iu,a2=new iu,a3=new iu,a5=new iu,a4=new iu,a9=new iu,a8=new iu;class a6 extends ar{constructor(t=new aJ,r=new aC){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t,r){return super.copy(t,r),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){let t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=i.length;t<r;t++){let r=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}getVertexPosition(t,r){let i=this.geometry,s=i.attributes.position,u=i.morphAttributes.position,c=i.morphTargetsRelative;r.fromBufferAttribute(s,t);let h=this.morphTargetInfluences;if(u&&h){a4.set(0,0,0);for(let i=0,s=u.length;i<s;i++){let s=h[i],f=u[i];0!==s&&(a5.fromBufferAttribute(f,t),c?a4.addScaledVector(a5,s):a4.addScaledVector(a5.sub(r),s))}r.add(a4)}return r}raycast(t,r){let i=this.geometry,s=this.material,u=this.matrixWorld;if(void 0!==s){if(null===i.boundingSphere&&i.computeBoundingSphere(),a$.copy(i.boundingSphere),a$.applyMatrix4(u),aq.copy(t.ray).recast(t.near),!1===a$.containsPoint(aq.origin)&&(null===aq.intersectSphere(a$,a0)||aq.origin.distanceToSquared(a0)>(t.far-t.near)**2))return;if(aQ.copy(u).invert(),aq.copy(t.ray).applyMatrix4(aQ),null!==i.boundingBox&&!1===aq.intersectsBox(i.boundingBox))return;this._computeIntersections(t,r,aq)}}_computeIntersections(t,r,i){let s;let u=this.geometry,c=this.material,h=u.index,f=u.attributes.position,p=u.attributes.uv,v=u.attributes.uv1,y=u.attributes.normal,x=u.groups,_=u.drawRange;if(null!==h){if(Array.isArray(c))for(let u=0,f=x.length;u<f;u++){let f=x[u],b=c[f.materialIndex],w=Math.max(f.start,_.start),S=Math.min(h.count,Math.min(f.start+f.count,_.start+_.count));for(let u=w;u<S;u+=3){let c=h.getX(u),x=h.getX(u+1);(s=a7(this,b,t,i,p,v,y,c,x,h.getX(u+2)))&&(s.faceIndex=Math.floor(u/3),s.face.materialIndex=f.materialIndex,r.push(s))}}else{let u=Math.max(0,_.start),f=Math.min(h.count,_.start+_.count);for(let x=u;x<f;x+=3){let u=h.getX(x),f=h.getX(x+1);(s=a7(this,c,t,i,p,v,y,u,f,h.getX(x+2)))&&(s.faceIndex=Math.floor(x/3),r.push(s))}}}else if(void 0!==f){if(Array.isArray(c))for(let u=0,h=x.length;u<h;u++){let h=x[u],b=c[h.materialIndex],w=Math.max(h.start,_.start),S=Math.min(f.count,Math.min(h.start+h.count,_.start+_.count));for(let u=w;u<S;u+=3)(s=a7(this,b,t,i,p,v,y,u,u+1,u+2))&&(s.faceIndex=Math.floor(u/3),s.face.materialIndex=h.materialIndex,r.push(s))}else{let u=Math.max(0,_.start),h=Math.min(f.count,_.start+_.count);for(let f=u;f<h;f+=3)(s=a7(this,c,t,i,p,v,y,f,f+1,f+2))&&(s.faceIndex=Math.floor(f/3),r.push(s))}}}}function a7(t,r,i,s,u,c,h,f,p,v){t.getVertexPosition(f,a1),t.getVertexPosition(p,a2),t.getVertexPosition(v,a3);let y=function(t,r,i,s,u,c,h,f){let p;if(null===(p=r.side===eL?s.intersectTriangle(h,c,u,!0,f):s.intersectTriangle(u,c,h,r.side===eP,f)))return null;a8.copy(f),a8.applyMatrix4(t.matrixWorld);let v=i.ray.origin.distanceTo(a8);return v<i.near||v>i.far?null:{distance:v,point:a8.clone(),object:t}}(t,r,i,s,a1,a2,a3,a9);if(y){let t=new iu;av.getBarycoord(a9,a1,a2,a3,t),u&&(y.uv=av.getInterpolatedAttribute(u,f,p,v,t,new rz)),c&&(y.uv1=av.getInterpolatedAttribute(c,f,p,v,t,new rz)),h&&(y.normal=av.getInterpolatedAttribute(h,f,p,v,t,new iu),y.normal.dot(s.direction)>0&&y.normal.multiplyScalar(-1));let r={a:f,b:p,c:v,normal:new iu,materialIndex:0};av.getNormal(a1,a2,a3,r.normal),y.face=r,y.barycoord=t}return y}class oe extends aJ{constructor(t=1,r=1,i=1,s=1,u=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:r,depth:i,widthSegments:s,heightSegments:u,depthSegments:c};let h=this;s=Math.floor(s),u=Math.floor(u);let f=[],p=[],v=[],y=[],x=0,_=0;function b(t,r,i,s,u,c,b,w,S,A,M){let C=c/S,T=b/A,I=c/2,D=b/2,R=w/2,P=S+1,L=A+1,B=0,k=0,O=new iu;for(let c=0;c<L;c++){let h=c*T-D;for(let f=0;f<P;f++){let x=f*C-I;O[t]=x*s,O[r]=h*u,O[i]=R,p.push(O.x,O.y,O.z),O[t]=0,O[r]=0,O[i]=w>0?1:-1,v.push(O.x,O.y,O.z),y.push(f/S),y.push(1-c/A),B+=1}}for(let t=0;t<A;t++)for(let r=0;r<S;r++){let i=x+r+P*t,s=x+r+P*(t+1),u=x+(r+1)+P*(t+1),c=x+(r+1)+P*t;f.push(i,s,c),f.push(s,u,c),k+=6}h.addGroup(_,k,M),_+=k,x+=B}b("z","y","x",-1,-1,i,r,t,c=Math.floor(c),u,0),b("z","y","x",1,-1,i,r,-t,c,u,1),b("x","z","y",1,1,t,i,r,s,c,2),b("x","z","y",1,-1,t,i,-r,s,c,3),b("x","y","z",1,-1,t,r,i,s,u,4),b("x","y","z",-1,-1,t,r,-i,s,u,5),this.setIndex(f),this.setAttribute("position",new aH(p,3)),this.setAttribute("normal",new aH(v,3)),this.setAttribute("uv",new aH(y,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new oe(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function ot(t){let r={};for(let i in t)for(let s in r[i]={},t[i]){let u=t[i][s];u&&(u.isColor||u.isMatrix3||u.isMatrix4||u.isVector2||u.isVector3||u.isVector4||u.isTexture||u.isQuaternion)?u.isRenderTargetTexture?r[i][s]=null:r[i][s]=u.clone():Array.isArray(u)?r[i][s]=u.slice():r[i][s]=u}return r}function on(t){let r={};for(let i=0;i<t.length;i++){let s=ot(t[i]);for(let t in s)r[t]=s[t]}return r}function or(t){let r=t.getRenderTarget();return null===r?t.outputColorSpace:!0===r.isXRRenderTarget?r.texture.colorSpace:rJ.workingColorSpace}let oi={clone:ot,merge:on};class oa extends aM{static get type(){return"ShaderMaterial"}constructor(t){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ot(t.uniforms),this.uniformsGroups=function(t){let r=[];for(let i=0;i<t.length;i++)r.push(t[i].clone());return r}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){let r=super.toJSON(t);for(let i in r.glslVersion=this.glslVersion,r.uniforms={},this.uniforms){let s=this.uniforms[i].value;s&&s.isTexture?r.uniforms[i]={type:"t",value:s.toJSON(t).uuid}:s&&s.isColor?r.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?r.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?r.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?r.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?r.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?r.uniforms[i]={type:"m4",value:s.toArray()}:r.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader,r.lights=this.lights,r.clipping=this.clipping;let i={};for(let t in this.extensions)!0===this.extensions[t]&&(i[t]=!0);return Object.keys(i).length>0&&(r.extensions=i),r}}class oo extends ar{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new iz,this.projectionMatrix=new iz,this.projectionMatrixInverse=new iz,this.coordinateSystem=rC}copy(t,r){return super.copy(t,r),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,r){super.updateWorldMatrix(t,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let os=new iu,ol=new rz,ou=new rz;class oc extends oo{constructor(t=50,r=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,r){return super.copy(t,r),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){let r=.5*this.getFilmHeight()/t;this.fov=2*rP*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){let t=Math.tan(.5*rR*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*rP*Math.atan(Math.tan(.5*rR*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,r,i){os.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(os.x,os.y).multiplyScalar(-t/os.z),os.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(os.x,os.y).multiplyScalar(-t/os.z)}getViewSize(t,r){return this.getViewBounds(t,ol,ou),r.subVectors(ou,ol)}setViewOffset(t,r,i,s,u,c){this.aspect=t/r,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=s,this.view.width=u,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let t=this.near,r=t*Math.tan(.5*rR*this.fov)/this.zoom,i=2*r,s=this.aspect*i,u=-.5*s,c=this.view;if(null!==this.view&&this.view.enabled){let t=c.fullWidth,h=c.fullHeight;u+=c.offsetX*s/t,r-=c.offsetY*i/h,s*=c.width/t,i*=c.height/h}let h=this.filmOffset;0!==h&&(u+=t*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(u,u+s,r,r-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){let r=super.toJSON(t);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,null!==this.view&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}class oh extends ar{constructor(t,r,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;let s=new oc(-90,1,t,r);s.layers=this.layers,this.add(s);let u=new oc(-90,1,t,r);u.layers=this.layers,this.add(u);let c=new oc(-90,1,t,r);c.layers=this.layers,this.add(c);let h=new oc(-90,1,t,r);h.layers=this.layers,this.add(h);let f=new oc(-90,1,t,r);f.layers=this.layers,this.add(f);let p=new oc(-90,1,t,r);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){let t=this.coordinateSystem,r=this.children.concat(),[i,s,u,c,h,f]=r;for(let t of r)this.remove(t);if(t===rC)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),u.up.set(0,0,-1),u.lookAt(0,1,0),c.up.set(0,0,1),c.lookAt(0,-1,0),h.up.set(0,1,0),h.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(t===rT)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),u.up.set(0,0,1),u.lookAt(0,1,0),c.up.set(0,0,-1),c.lookAt(0,-1,0),h.up.set(0,-1,0),h.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(let t of r)this.add(t),t.updateMatrixWorld()}update(t,r){null===this.parent&&this.updateMatrixWorld();let{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());let[u,c,h,f,p,v]=this.children,y=t.getRenderTarget(),x=t.getActiveCubeFace(),_=t.getActiveMipmapLevel(),b=t.xr.enabled;t.xr.enabled=!1;let w=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,s),t.render(r,u),t.setRenderTarget(i,1,s),t.render(r,c),t.setRenderTarget(i,2,s),t.render(r,h),t.setRenderTarget(i,3,s),t.render(r,f),t.setRenderTarget(i,4,s),t.render(r,p),i.texture.generateMipmaps=w,t.setRenderTarget(i,5,s),t.render(r,v),t.setRenderTarget(y,x,_),t.xr.enabled=b,i.texture.needsPMREMUpdate=!0}}class od extends r7{constructor(t,r,i,s,u,c,h,f,p,v){super(t=void 0!==t?t:[],r=void 0!==r?r:tx,i,s,u,c,h,f,p,v),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class of extends ir{constructor(t=1,r={}){super(t,t,r),this.isWebGLCubeRenderTarget=!0;let i={width:t,height:t,depth:1};this.texture=new od([i,i,i,i,i,i],r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:tP}fromEquirectangularTexture(t,r){this.texture.type=r.type,this.texture.colorSpace=r.colorSpace,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;let i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new oe(5,5,5),u=new oa({name:"CubemapFromEquirect",uniforms:ot(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:eL,blending:ek});u.uniforms.tEquirect.value=r;let c=new a6(s,u),h=r.minFilter;return r.minFilter===tk&&(r.minFilter=tP),new oh(1,10,this).update(t,c),r.minFilter=h,c.geometry.dispose(),c.material.dispose(),this}clear(t,r,i,s){let u=t.getRenderTarget();for(let u=0;u<6;u++)t.setRenderTarget(this,u),t.clear(r,i,s);t.setRenderTarget(u)}}let op=new iu,og=new iu,om=new rG;class ov{constructor(t=new iu(1,0,0),r=0){this.isPlane=!0,this.normal=t,this.constant=r}set(t,r){return this.normal.copy(t),this.constant=r,this}setComponents(t,r,i,s){return this.normal.set(t,r,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,r){return this.normal.copy(t),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(t,r,i){let s=op.subVectors(i,r).cross(og.subVectors(t,r)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){let t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,r){return r.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,r){let i=t.delta(op),s=this.normal.dot(i);if(0===s)return 0===this.distanceToPoint(t.start)?r.copy(t.start):null;let u=-(t.start.dot(this.normal)+this.constant)/s;return u<0||u>1?null:r.copy(t.start).addScaledVector(i,u)}intersectsLine(t){let r=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return r<0&&i>0||i<0&&r>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,r){let i=r||om.getNormalMatrix(t),s=this.coplanarPoint(op).applyMatrix4(t),u=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(u),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}let oy=new iR,ox=new iu;class o_{constructor(t=new ov,r=new ov,i=new ov,s=new ov,u=new ov,c=new ov){this.planes=[t,r,i,s,u,c]}set(t,r,i,s,u,c){let h=this.planes;return h[0].copy(t),h[1].copy(r),h[2].copy(i),h[3].copy(s),h[4].copy(u),h[5].copy(c),this}copy(t){let r=this.planes;for(let i=0;i<6;i++)r[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,r=rC){let i=this.planes,s=t.elements,u=s[0],c=s[1],h=s[2],f=s[3],p=s[4],v=s[5],y=s[6],x=s[7],_=s[8],b=s[9],w=s[10],S=s[11],A=s[12],M=s[13],C=s[14],T=s[15];if(i[0].setComponents(f-u,x-p,S-_,T-A).normalize(),i[1].setComponents(f+u,x+p,S+_,T+A).normalize(),i[2].setComponents(f+c,x+v,S+b,T+M).normalize(),i[3].setComponents(f-c,x-v,S-b,T-M).normalize(),i[4].setComponents(f-h,x-y,S-w,T-C).normalize(),r===rC)i[5].setComponents(f+h,x+y,S+w,T+C).normalize();else if(r===rT)i[5].setComponents(h,y,w,C).normalize();else throw Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+r);return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),oy.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{let r=t.geometry;null===r.boundingSphere&&r.computeBoundingSphere(),oy.copy(r.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(oy)}intersectsSprite(t){return oy.center.set(0,0,0),oy.radius=.7071067811865476,oy.applyMatrix4(t.matrixWorld),this.intersectsSphere(oy)}intersectsSphere(t){let r=this.planes,i=t.center,s=-t.radius;for(let t=0;t<6;t++)if(r[t].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){let r=this.planes;for(let i=0;i<6;i++){let s=r[i];if(ox.x=s.normal.x>0?t.max.x:t.min.x,ox.y=s.normal.y>0?t.max.y:t.min.y,ox.z=s.normal.z>0?t.max.z:t.min.z,0>s.distanceToPoint(ox))return!1}return!0}containsPoint(t){let r=this.planes;for(let i=0;i<6;i++)if(0>r[i].distanceToPoint(t))return!1;return!0}clone(){return new this.constructor().copy(this)}}function ob(){let t=null,r=!1,i=null,s=null;function u(r,c){i(r,c),s=t.requestAnimationFrame(u)}return{start:function(){if(!0!==r)null!==i&&(s=t.requestAnimationFrame(u),r=!0)},stop:function(){t.cancelAnimationFrame(s),r=!1},setAnimationLoop:function(t){i=t},setContext:function(r){t=r}}}function ow(t){let r=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)},remove:function(i){i.isInterleavedBufferAttribute&&(i=i.data);let s=r.get(i);s&&(t.deleteBuffer(s.buffer),r.delete(i))},update:function(i,s){if(i.isInterleavedBufferAttribute&&(i=i.data),i.isGLBufferAttribute){let t=r.get(i);(!t||t.version<i.version)&&r.set(i,{buffer:i.buffer,type:i.type,bytesPerElement:i.elementSize,version:i.version});return}let u=r.get(i);if(void 0===u)r.set(i,function(r,i){let s;let u=r.array,c=r.usage,h=u.byteLength,f=t.createBuffer();if(t.bindBuffer(i,f),t.bufferData(i,u,c),r.onUploadCallback(),u instanceof Float32Array)s=t.FLOAT;else if(u instanceof Uint16Array)s=r.isFloat16BufferAttribute?t.HALF_FLOAT:t.UNSIGNED_SHORT;else if(u instanceof Int16Array)s=t.SHORT;else if(u instanceof Uint32Array)s=t.UNSIGNED_INT;else if(u instanceof Int32Array)s=t.INT;else if(u instanceof Int8Array)s=t.BYTE;else if(u instanceof Uint8Array)s=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)s=t.UNSIGNED_BYTE;else throw Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:f,type:s,bytesPerElement:u.BYTES_PER_ELEMENT,version:r.version,size:h}}(i,s));else if(u.version<i.version){if(u.size!==i.array.byteLength)throw Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(r,i,s){let u=i.array,c=i.updateRanges;if(t.bindBuffer(s,r),0===c.length)t.bufferSubData(s,0,u);else{c.sort((t,r)=>t.start-r.start);let r=0;for(let t=1;t<c.length;t++){let i=c[r],s=c[t];s.start<=i.start+i.count+1?i.count=Math.max(i.count,s.start+s.count-i.start):c[++r]=s}c.length=r+1;for(let r=0,i=c.length;r<i;r++){let i=c[r];t.bufferSubData(s,i.start*u.BYTES_PER_ELEMENT,u,i.start,i.count)}i.clearUpdateRanges()}i.onUploadCallback()}(u.buffer,i,s),u.version=i.version}}}}class oS extends aJ{constructor(t=1,r=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:r,widthSegments:i,heightSegments:s};let u=t/2,c=r/2,h=Math.floor(i),f=Math.floor(s),p=h+1,v=f+1,y=t/h,x=r/f,_=[],b=[],w=[],S=[];for(let t=0;t<v;t++){let r=t*x-c;for(let i=0;i<p;i++){let s=i*y-u;b.push(s,-r,0),w.push(0,0,1),S.push(i/h),S.push(1-t/f)}}for(let t=0;t<f;t++)for(let r=0;r<h;r++){let i=r+p*t,s=r+p*(t+1),u=r+1+p*(t+1),c=r+1+p*t;_.push(i,s,c),_.push(s,u,c)}this.setIndex(_),this.setAttribute("position",new aH(b,3)),this.setAttribute("normal",new aH(w,3)),this.setAttribute("uv",new aH(S,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new oS(t.width,t.height,t.widthSegments,t.heightSegments)}}let oA={alphahash_fragment:"#ifdef USE_ALPHAHASH\n	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n	const float ALPHA_HASH_SCALE = 0.05;\n	float hash2D( vec2 value ) {\n		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n	}\n	float hash3D( vec3 value ) {\n		return hash2D( vec2( hash2D( value.xy ), value.z ) );\n	}\n	float getAlphaHashThreshold( vec3 position ) {\n		float maxDeriv = max(\n			length( dFdx( position.xyz ) ),\n			length( dFdy( position.xyz ) )\n		);\n		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n		vec2 pixScales = vec2(\n			exp2( floor( log2( pixScale ) ) ),\n			exp2( ceil( log2( pixScale ) ) )\n		);\n		vec2 alpha = vec2(\n			hash3D( floor( pixScales.x * position.xyz ) ),\n			hash3D( floor( pixScales.y * position.xyz ) )\n		);\n		float lerpFactor = fract( log2( pixScale ) );\n		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n		float a = min( lerpFactor, 1.0 - lerpFactor );\n		vec3 cases = vec3(\n			x * x / ( 2.0 * a * ( 1.0 - a ) ),\n			( x - 0.5 * a ) / ( 1.0 - a ),\n			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n		);\n		float threshold = ( x < ( 1.0 - a ) )\n			? ( ( x < a ) ? cases.x : cases.y )\n			: cases.z;\n		return clamp( threshold , 1.0e-6, 1.0 );\n	}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n	#ifdef ALPHA_TO_COVERAGE\n	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n	if ( diffuseColor.a == 0.0 ) discard;\n	#else\n	if ( diffuseColor.a < alphaTest ) discard;\n	#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n	uniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_CLEARCOAT ) \n		clearcoatSpecularIndirect *= ambientOcclusion;\n	#endif\n	#if defined( USE_SHEEN ) \n		sheenSpecularIndirect *= ambientOcclusion;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD )\n		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n	#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n	#if ! defined( GL_ANGLE_multi_draw )\n	#define gl_DrawID _gl_DrawID\n	uniform int _gl_DrawID;\n	#endif\n	uniform highp sampler2D batchingTexture;\n	uniform highp usampler2D batchingIdTexture;\n	mat4 getBatchingMatrix( const in float i ) {\n		int size = textureSize( batchingTexture, 0 ).x;\n		int j = int( i ) * 4;\n		int x = j % size;\n		int y = j / size;\n		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n		return mat4( v1, v2, v3, v4 );\n	}\n	float getIndirectIndex( const in int i ) {\n		int size = textureSize( batchingIdTexture, 0 ).x;\n		int x = i % size;\n		int y = i / size;\n		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n	}\n#endif\n#ifdef USE_BATCHING_COLOR\n	uniform sampler2D batchingColorTexture;\n	vec3 getBatchingColor( const in float i ) {\n		int size = textureSize( batchingColorTexture, 0 ).x;\n		int j = int( i );\n		int x = j % size;\n		int y = j / size;\n		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n	}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n	vPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n	vec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( specularColor, 1.0, dotVH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n	const mat3 XYZ_TO_REC709 = mat3(\n		 3.2404542, -0.9692660,  0.0556434,\n		-1.5371385,  1.8760108, -0.2040259,\n		-0.4985314,  0.0415560,  1.0572252\n	);\n	vec3 Fresnel0ToIor( vec3 fresnel0 ) {\n		vec3 sqrtF0 = sqrt( fresnel0 );\n		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n	}\n	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n	}\n	float IorToFresnel0( float transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n	}\n	vec3 evalSensitivity( float OPD, vec3 shift ) {\n		float phase = 2.0 * PI * OPD * 1.0e-9;\n		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n		xyz /= 1.0685e-7;\n		vec3 rgb = XYZ_TO_REC709 * xyz;\n		return rgb;\n	}\n	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n		vec3 I;\n		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n		float cosTheta2Sq = 1.0 - sinTheta2Sq;\n		if ( cosTheta2Sq < 0.0 ) {\n			return vec3( 1.0 );\n		}\n		float cosTheta2 = sqrt( cosTheta2Sq );\n		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n		float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n		float T121 = 1.0 - R12;\n		float phi12 = 0.0;\n		if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n		float phi21 = PI - phi12;\n		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n		vec3 phi23 = vec3( 0.0 );\n		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n		vec3 phi = vec3( phi21 ) + phi23;\n		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n		vec3 r123 = sqrt( R123 );\n		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n		vec3 C0 = R12 + Rs;\n		I = C0;\n		vec3 Cm = Rs - T121;\n		for ( int m = 1; m <= 2; ++ m ) {\n			Cm *= r123;\n			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n			I += Cm * Sm;\n		}\n		return max( I, vec3( 0.0 ) );\n	}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vBumpMapUv );\n		vec2 dSTdy = dFdy( vBumpMapUv );\n		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 ) * faceDirection;\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#ifdef ALPHA_TO_COVERAGE\n		float distanceToPlane, distanceGradient;\n		float clipOpacity = 1.0;\n		#pragma unroll_loop_start\n		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n			distanceGradient = fwidth( distanceToPlane ) / 2.0;\n			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n			if ( clipOpacity == 0.0 ) discard;\n		}\n		#pragma unroll_loop_end\n		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n			float unionClipOpacity = 1.0;\n			#pragma unroll_loop_start\n			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n				plane = clippingPlanes[ i ];\n				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n				distanceGradient = fwidth( distanceToPlane ) / 2.0;\n				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n			}\n			#pragma unroll_loop_end\n			clipOpacity *= 1.0 - unionClipOpacity;\n		#endif\n		diffuseColor.a *= clipOpacity;\n		if ( diffuseColor.a == 0.0 ) discard;\n	#else\n		#pragma unroll_loop_start\n		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n		}\n		#pragma unroll_loop_end\n		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n			bool clipped = true;\n			#pragma unroll_loop_start\n			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n				plane = clippingPlanes[ i ];\n				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n			}\n			#pragma unroll_loop_end\n			if ( clipped ) discard;\n		#endif\n	#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n	vClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n	diffuseColor *= vColor;\n#elif defined( USE_COLOR )\n	diffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR )\n	varying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n	varying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n	vColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n	vColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n	vColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n	vColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n	vColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n	float precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n	float precisionSafeLength( vec3 v ) {\n		float maxComponent = max3( abs( v ) );\n		return length( v / maxComponent ) * maxComponent;\n	}\n#endif\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n	varying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n	return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	return vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n	#define cubeUV_minMipLevel 4.0\n	#define cubeUV_minTileSize 16.0\n	float getFace( vec3 direction ) {\n		vec3 absDirection = abs( direction );\n		float face = - 1.0;\n		if ( absDirection.x > absDirection.z ) {\n			if ( absDirection.x > absDirection.y )\n				face = direction.x > 0.0 ? 0.0 : 3.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		} else {\n			if ( absDirection.z > absDirection.y )\n				face = direction.z > 0.0 ? 2.0 : 5.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		}\n		return face;\n	}\n	vec2 getUV( vec3 direction, float face ) {\n		vec2 uv;\n		if ( face == 0.0 ) {\n			uv = vec2( direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 1.0 ) {\n			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n		} else if ( face == 2.0 ) {\n			uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n		} else if ( face == 3.0 ) {\n			uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 4.0 ) {\n			uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n		} else {\n			uv = vec2( direction.x, direction.y ) / abs( direction.z );\n		}\n		return 0.5 * ( uv + 1.0 );\n	}\n	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n		float face = getFace( direction );\n		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n		mipInt = max( mipInt, cubeUV_minMipLevel );\n		float faceSize = exp2( mipInt );\n		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n		if ( face > 2.0 ) {\n			uv.y += faceSize;\n			face -= 3.0;\n		}\n		uv.x += face * faceSize;\n		uv.x += filterInt * 3.0 * cubeUV_minTileSize;\n		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n		uv.x *= CUBEUV_TEXEL_WIDTH;\n		uv.y *= CUBEUV_TEXEL_HEIGHT;\n		#ifdef texture2DGradEXT\n			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n		#else\n			return texture2D( envMap, uv ).rgb;\n		#endif\n	}\n	#define cubeUV_r0 1.0\n	#define cubeUV_m0 - 2.0\n	#define cubeUV_r1 0.8\n	#define cubeUV_m1 - 1.0\n	#define cubeUV_r4 0.4\n	#define cubeUV_m4 2.0\n	#define cubeUV_r5 0.305\n	#define cubeUV_m5 3.0\n	#define cubeUV_r6 0.21\n	#define cubeUV_m6 4.0\n	float roughnessToMip( float roughness ) {\n		float mip = 0.0;\n		if ( roughness >= cubeUV_r1 ) {\n			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n		} else if ( roughness >= cubeUV_r4 ) {\n			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n		} else if ( roughness >= cubeUV_r5 ) {\n			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n		} else if ( roughness >= cubeUV_r6 ) {\n			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n		} else {\n			mip = - 2.0 * log2( 1.16 * roughness );		}\n		return mip;\n	}\n	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n		float mipF = fract( mip );\n		float mipInt = floor( mip );\n		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n		if ( mipF == 0.0 ) {\n			return vec4( color0, 1.0 );\n		} else {\n			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n			return vec4( mix( color0, color1, mipF ), 1.0 );\n		}\n	}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n	vec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n	mat3 bm = mat3( batchingMatrix );\n	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n	transformedNormal = bm * transformedNormal;\n	#ifdef USE_TANGENT\n		transformedTangent = bm * transformedTangent;\n	#endif\n#endif\n#ifdef USE_INSTANCING\n	mat3 im = mat3( instanceMatrix );\n	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n	transformedNormal = im * transformedNormal;\n	#ifdef USE_TANGENT\n		transformedTangent = im * transformedTangent;\n	#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n	#ifdef FLIP_SIDED\n		transformedTangent = - transformedTangent;\n	#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n		emissiveColor = sRGBTransferEOTF( emissiveColor );\n	#endif\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n	return value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vec3 cameraToFrag;\n		if ( isOrthographic ) {\n			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToFrag = normalize( vWorldPosition - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float envMapIntensity;\n	uniform float flipEnvMap;\n	uniform mat3 envMapRotation;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		varying vec3 vWorldPosition;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n	vec3 getIBLIrradiance( const in vec3 normal ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n			return PI * envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 reflectVec = reflect( - viewDir, normal );\n			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n			return envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	#ifdef USE_ANISOTROPY\n		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n			#ifdef ENVMAP_TYPE_CUBE_UV\n				vec3 bentNormal = cross( bitangent, viewDir );\n				bentNormal = normalize( cross( bentNormal, bitangent ) );\n				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n				return getIBLRadiance( viewDir, bentNormal, roughness );\n			#else\n				return vec3( 0.0 );\n			#endif\n		}\n	#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex;\n		if ( isOrthographic ) {\n			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n	vFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n	varying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float vFogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n	uniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n	float dotNL = dot( normal, lightDirection );\n	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n	#ifdef USE_GRADIENTMAP\n		return vec3( texture2D( gradientMap, coord ).r );\n	#else\n		vec2 fw = fwidth( coord ) * 0.5;\n		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n	#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n	vec3 diffuseColor;\n	float specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Lambert\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n	uniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n	float x = normal.x, y = normal.y, z = normal.z;\n	vec3 result = shCoefficients[ 0 ] * 0.886227;\n	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n	return result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n	return irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	return irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n	if ( cutoffDistance > 0.0 ) {\n		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n	}\n	return distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n	return smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n		light.color = directionalLight.color;\n		light.direction = directionalLight.direction;\n		light.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n		vec3 lVector = pointLight.position - geometryPosition;\n		light.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		light.color = pointLight.color;\n		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n		light.visible = ( light.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n		vec3 lVector = spotLight.position - geometryPosition;\n		light.direction = normalize( lVector );\n		float angleCos = dot( light.direction, spotLight.direction );\n		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n		if ( spotAttenuation > 0.0 ) {\n			float lightDistance = length( lVector );\n			light.color = spotLight.color * spotAttenuation;\n			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n			light.visible = ( light.color != vec3( 0.0 ) );\n		} else {\n			light.color = vec3( 0.0 );\n			light.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n		float dotNL = dot( normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		return irradiance;\n	}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n	vec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Toon\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n	vec3 diffuseColor;\n	vec3 specularColor;\n	float specularShininess;\n	float specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n	material.ior = ior;\n	#ifdef USE_SPECULAR\n		float specularIntensityFactor = specularIntensity;\n		vec3 specularColorFactor = specularColor;\n		#ifdef USE_SPECULAR_COLORMAP\n			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n		#endif\n		#ifdef USE_SPECULAR_INTENSITYMAP\n			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n		#endif\n		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n	#else\n		float specularIntensityFactor = 1.0;\n		vec3 specularColorFactor = vec3( 1.0 );\n		material.specularF90 = 1.0;\n	#endif\n	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n	material.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n	material.clearcoat = clearcoat;\n	material.clearcoatRoughness = clearcoatRoughness;\n	material.clearcoatF0 = vec3( 0.04 );\n	material.clearcoatF90 = 1.0;\n	#ifdef USE_CLEARCOATMAP\n		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n	#endif\n	#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n	#endif\n	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n	material.clearcoatRoughness += geometryRoughness;\n	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n	material.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n	material.iridescence = iridescence;\n	material.iridescenceIOR = iridescenceIOR;\n	#ifdef USE_IRIDESCENCEMAP\n		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n	#endif\n	#ifdef USE_IRIDESCENCE_THICKNESSMAP\n		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n	#else\n		material.iridescenceThickness = iridescenceThicknessMaximum;\n	#endif\n#endif\n#ifdef USE_SHEEN\n	material.sheenColor = sheenColor;\n	#ifdef USE_SHEEN_COLORMAP\n		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n	#endif\n	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	#ifdef USE_ANISOTROPYMAP\n		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n	#else\n		vec2 anisotropyV = anisotropyVector;\n	#endif\n	material.anisotropy = length( anisotropyV );\n	if( material.anisotropy == 0.0 ) {\n		anisotropyV = vec2( 1.0, 0.0 );\n	} else {\n		anisotropyV /= material.anisotropy;\n		material.anisotropy = saturate( material.anisotropy );\n	}\n	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n	vec3 diffuseColor;\n	float roughness;\n	vec3 specularColor;\n	float specularF90;\n	float dispersion;\n	#ifdef USE_CLEARCOAT\n		float clearcoat;\n		float clearcoatRoughness;\n		vec3 clearcoatF0;\n		float clearcoatF90;\n	#endif\n	#ifdef USE_IRIDESCENCE\n		float iridescence;\n		float iridescenceIOR;\n		float iridescenceThickness;\n		vec3 iridescenceFresnel;\n		vec3 iridescenceF0;\n	#endif\n	#ifdef USE_SHEEN\n		vec3 sheenColor;\n		float sheenRoughness;\n	#endif\n	#ifdef IOR\n		float ior;\n	#endif\n	#ifdef USE_TRANSMISSION\n		float transmission;\n		float transmissionAlpha;\n		float thickness;\n		float attenuationDistance;\n		vec3 attenuationColor;\n	#endif\n	#ifdef USE_ANISOTROPY\n		float anisotropy;\n		float alphaT;\n		vec3 anisotropyT;\n		vec3 anisotropyB;\n	#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n		float v = 0.5 / ( gv + gl );\n		return saturate(v);\n	}\n	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n		float a2 = alphaT * alphaB;\n		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n		highp float v2 = dot( v, v );\n		float w2 = a2 / v2;\n		return RECIPROCAL_PI * a2 * pow2 ( w2 );\n	}\n#endif\n#ifdef USE_CLEARCOAT\n	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n		vec3 f0 = material.clearcoatF0;\n		float f90 = material.clearcoatF90;\n		float roughness = material.clearcoatRoughness;\n		float alpha = pow2( roughness );\n		vec3 halfDir = normalize( lightDir + viewDir );\n		float dotNL = saturate( dot( normal, lightDir ) );\n		float dotNV = saturate( dot( normal, viewDir ) );\n		float dotNH = saturate( dot( normal, halfDir ) );\n		float dotVH = saturate( dot( viewDir, halfDir ) );\n		vec3 F = F_Schlick( f0, f90, dotVH );\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n		return F * ( V * D );\n	}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n	vec3 f0 = material.specularColor;\n	float f90 = material.specularF90;\n	float roughness = material.roughness;\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( f0, f90, dotVH );\n	#ifdef USE_IRIDESCENCE\n		F = mix( F, material.iridescenceFresnel, material.iridescence );\n	#endif\n	#ifdef USE_ANISOTROPY\n		float dotTL = dot( material.anisotropyT, lightDir );\n		float dotTV = dot( material.anisotropyT, viewDir );\n		float dotTH = dot( material.anisotropyT, halfDir );\n		float dotBL = dot( material.anisotropyB, lightDir );\n		float dotBV = dot( material.anisotropyB, viewDir );\n		float dotBH = dot( material.anisotropyB, halfDir );\n		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n	#else\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n	#endif\n	return F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n	float alpha = pow2( roughness );\n	float invAlpha = 1.0 / alpha;\n	float cos2h = dotNH * dotNH;\n	float sin2h = max( 1.0 - cos2h, 0.0078125 );\n	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float D = D_Charlie( sheenRoughness, dotNH );\n	float V = V_Neubelt( dotNV, dotNL );\n	return sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float r2 = roughness * roughness;\n	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n	return saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n	return fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	return specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	#ifdef USE_IRIDESCENCE\n		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n	#else\n		vec3 Fr = specularColor;\n	#endif\n	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n	float Ess = fab.x + fab.y;\n	float Ems = 1.0 - Ess;\n	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n	singleScatter += FssEss;\n	multiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometryNormal;\n		vec3 viewDir = geometryViewDir;\n		vec3 position = geometryPosition;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.roughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifdef USE_CLEARCOAT\n		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n		vec3 ccIrradiance = dotNLcc * directLight.color;\n		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n	#endif\n	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n	#ifdef USE_CLEARCOAT\n		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n	#endif\n	vec3 singleScattering = vec3( 0.0 );\n	vec3 multiScattering = vec3( 0.0 );\n	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n	#ifdef USE_IRIDESCENCE\n		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n	#else\n		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n	#endif\n	vec3 totalScattering = singleScattering + multiScattering;\n	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n	reflectedLight.indirectSpecular += radiance * singleScattering;\n	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n	geometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n	float dotNVi = saturate( dot( normal, geometryViewDir ) );\n	if ( material.iridescenceThickness == 0.0 ) {\n		material.iridescence = 0.0;\n	} else {\n		material.iridescence = saturate( material.iridescence );\n	}\n	if ( material.iridescence > 0.0 ) {\n		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n	}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointLightInfo( pointLight, geometryPosition, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n		pointLightShadow = pointLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	vec4 spotColor;\n	vec3 spotLightCoord;\n	bool inSpotLightMap;\n	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotLightInfo( spotLight, geometryPosition, directLight );\n		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n		#else\n		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#endif\n		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n		#endif\n		#undef SPOT_LIGHT_MAP_INDEX\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		spotLightShadow = spotLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalLightInfo( directionalLight, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n		directionalLightShadow = directionalLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 iblIrradiance = vec3( 0.0 );\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	#if defined( USE_LIGHT_PROBES )\n		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n	#endif\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n		iblIrradiance += getIBLIrradiance( geometryNormal );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	#ifdef USE_ANISOTROPY\n		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n	#else\n		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n	#endif\n	#ifdef USE_CLEARCOAT\n		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n	#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n	vFragDepth = 1.0 + gl_Position.w;\n	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n	vec4 sampledDiffuseColor = texture2D( map, vMapUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n	#endif\n	diffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	#if defined( USE_POINTS_UV )\n		vec2 uv = vUv;\n	#else\n		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	#endif\n#endif\n#ifdef USE_MAP\n	diffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n	varying vec2 vUv;\n#else\n	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n		uniform mat3 uvTransform;\n	#endif\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n	metalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n	float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n	}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n	vColor *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		#if defined( USE_COLOR_ALPHA )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n		#elif defined( USE_COLOR )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n		#endif\n	}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n	objectNormal *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n	}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n	#ifndef USE_INSTANCING_MORPH\n		uniform float morphTargetBaseInfluence;\n		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n	#endif\n	uniform sampler2DArray morphTargetsTexture;\n	uniform ivec2 morphTargetsTextureSize;\n	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n		int y = texelIndex / morphTargetsTextureSize.x;\n		int x = texelIndex - y * morphTargetsTextureSize.x;\n		ivec3 morphUV = ivec3( x, y, morphTargetIndex );\n		return texelFetch( morphTargetsTexture, morphUV, 0 );\n	}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n	transformed *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n	}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal *= faceDirection;\n	#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n	#ifdef USE_TANGENT\n		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn = getTangentFrame( - vViewPosition, normal,\n		#if defined( USE_NORMALMAP )\n			vNormalMapUv\n		#elif defined( USE_CLEARCOAT_NORMALMAP )\n			vClearcoatNormalMapUv\n		#else\n			vUv\n		#endif\n		);\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn[0] *= faceDirection;\n		tbn[1] *= faceDirection;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	#ifdef USE_TANGENT\n		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn2[0] *= faceDirection;\n		tbn2[1] *= faceDirection;\n	#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	#ifdef FLIP_SIDED\n		normal = - normal;\n	#endif\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	normal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	mapN.xy *= normalScale;\n	normal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n	#ifdef USE_TANGENT\n		vTangent = normalize( transformedTangent );\n		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n	#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n	uniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( uv.st );\n		vec2 st1 = dFdy( uv.st );\n		vec3 N = surf_norm;\n		vec3 q1perp = cross( q1, N );\n		vec3 q0perp = cross( N, q0 );\n		vec3 T = q1perp * st0.x + q0perp * st1.x;\n		vec3 B = q1perp * st0.y + q0perp * st1.y;\n		float det = max( dot( T, T ), dot( B, B ) );\n		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n		return mat3( T * scale, B * scale, N );\n	}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n	clearcoatMapN.xy *= clearcoatNormalScale;\n	clearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n	uniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform sampler2D clearcoatNormalMap;\n	uniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n	uniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n	if( v <= 0.0 )\n		return vec4( 0., 0., 0., 0. );\n	if( v >= 1.0 )\n		return vec4( 1., 1., 1., 1. );\n	float vuf;\n	float af = modf( v * PackFactors.a, vuf );\n	float bf = modf( vuf * ShiftRight8, vuf );\n	float gf = modf( vuf * ShiftRight8, vuf );\n	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n	if( v <= 0.0 )\n		return vec3( 0., 0., 0. );\n	if( v >= 1.0 )\n		return vec3( 1., 1., 1. );\n	float vuf;\n	float bf = modf( v * PackFactors.b, vuf );\n	float gf = modf( vuf * ShiftRight8, vuf );\n	return vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n	if( v <= 0.0 )\n		return vec2( 0., 0. );\n	if( v >= 1.0 )\n		return vec2( 1., 1. );\n	float vuf;\n	float gf = modf( v * 256., vuf );\n	return vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n	return dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n	mvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n	mvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n	gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n	roughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		struct SpotLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n		return unpackRGBATo2Half( texture2D( shadow, uv ) );\n	}\n	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n		float occlusion = 1.0;\n		vec2 distribution = texture2DDistribution( shadow, uv );\n		float hard_shadow = step( compare , distribution.x );\n		if (hard_shadow != 1.0 ) {\n			float distance = compare - distribution.x ;\n			float variance = max( 0.00000, distribution.y * distribution.y );\n			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n		}\n		return occlusion;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			float dx2 = dx0 / 2.0;\n			float dy2 = dy0 / 2.0;\n			float dx3 = dx1 / 2.0;\n			float dy3 = dy1 / 2.0;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 17.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx = texelSize.x;\n			float dy = texelSize.y;\n			vec2 uv = shadowCoord.xy;\n			vec2 f = fract( uv * shadowMapSize + 0.5 );\n			uv -= f * texelSize;\n			shadow = (\n				texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n						  f.x ),\n					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n						  f.x ),\n					 f.y )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_VSM )\n			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return mix( 1.0, shadow, shadowIntensity );\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		float shadow = 1.0;\n		vec3 lightToPosition = shadowCoord.xyz;\n		\n		float lightToPositionLength = length( lightToPosition );\n		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;\n			vec3 bd3D = normalize( lightToPosition );\n			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n				shadow = (\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n				) * ( 1.0 / 9.0 );\n			#else\n				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n			#endif\n		}\n		return mix( 1.0, shadow, shadowIntensity );\n	}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		struct SpotLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	vec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n		shadowWorldPosition = worldPosition;\n		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n		#endif\n		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n	}\n	#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n		directionalLight = directionalLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n		spotLight = spotLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n		pointLight = pointLightShadows[ i ];\n		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#endif\n	return shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	uniform highp sampler2D boneTexture;\n	mat4 getBoneMatrix( const in float i ) {\n		int size = textureSize( boneTexture, 0 ).x;\n		int j = int( i ) * 4;\n		int x = j % size;\n		int y = j / size;\n		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n		return mat4( v1, v2, v3, v4 );\n	}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n	#ifdef USE_TANGENT\n		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n	return saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n	return a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n	const mat3 ACESInputMat = mat3(\n		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),\n		vec3( 0.04823, 0.01566, 0.83777 )\n	);\n	const mat3 ACESOutputMat = mat3(\n		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),\n		vec3( -0.07367, -0.00605,  1.07602 )\n	);\n	color *= toneMappingExposure / 0.6;\n	color = ACESInputMat * color;\n	color = RRTAndODTFit( color );\n	color = ACESOutputMat * color;\n	return saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n	vec3( 1.6605, - 0.1246, - 0.0182 ),\n	vec3( - 0.5876, 1.1329, - 0.1006 ),\n	vec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n	vec3( 0.6274, 0.0691, 0.0164 ),\n	vec3( 0.3293, 0.9195, 0.0880 ),\n	vec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n	vec3 x2 = x * x;\n	vec3 x4 = x2 * x2;\n	return + 15.5 * x4 * x2\n		- 40.14 * x4 * x\n		+ 31.96 * x4\n		- 6.868 * x2 * x\n		+ 0.4298 * x2\n		+ 0.1191 * x\n		- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n	const mat3 AgXInsetMatrix = mat3(\n		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n	);\n	const mat3 AgXOutsetMatrix = mat3(\n		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n	);\n	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;\n	color *= toneMappingExposure;\n	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n	color = AgXInsetMatrix * color;\n	color = max( color, 1e-10 );	color = log2( color );\n	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n	color = clamp( color, 0.0, 1.0 );\n	color = agxDefaultContrastApprox( color );\n	color = AgXOutsetMatrix * color;\n	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n	color = clamp( color, 0.0, 1.0 );\n	return color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n	const float StartCompression = 0.8 - 0.04;\n	const float Desaturation = 0.15;\n	color *= toneMappingExposure;\n	float x = min( color.r, min( color.g, color.b ) );\n	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n	color -= offset;\n	float peak = max( color.r, max( color.g, color.b ) );\n	if ( peak < StartCompression ) return color;\n	float d = 1. - StartCompression;\n	float newPeak = 1. - d * d / ( peak + d - StartCompression );\n	color *= newPeak / peak;\n	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n	return mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n	material.transmission = transmission;\n	material.transmissionAlpha = 1.0;\n	material.thickness = thickness;\n	material.attenuationDistance = attenuationDistance;\n	material.attenuationColor = attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n	#endif\n	vec3 pos = vWorldPosition;\n	vec3 v = normalize( cameraPosition - pos );\n	vec3 n = inverseTransformDirection( normal, viewMatrix );\n	vec4 transmitted = getIBLVolumeRefraction(\n		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n		material.attenuationColor, material.attenuationDistance );\n	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n	uniform float transmission;\n	uniform float thickness;\n	uniform float attenuationDistance;\n	uniform vec3 attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		uniform sampler2D transmissionMap;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		uniform sampler2D thicknessMap;\n	#endif\n	uniform vec2 transmissionSamplerSize;\n	uniform sampler2D transmissionSamplerMap;\n	uniform mat4 modelMatrix;\n	uniform mat4 projectionMatrix;\n	varying vec3 vWorldPosition;\n	float w0( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n	}\n	float w1( float a ) {\n		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n	}\n	float w2( float a ){\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n	}\n	float w3( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * a * a );\n	}\n	float g0( float a ) {\n		return w0( a ) + w1( a );\n	}\n	float g1( float a ) {\n		return w2( a ) + w3( a );\n	}\n	float h0( float a ) {\n		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n	}\n	float h1( float a ) {\n		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n	}\n	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n		uv = uv * texelSize.zw + 0.5;\n		vec2 iuv = floor( uv );\n		vec2 fuv = fract( uv );\n		float g0x = g0( fuv.x );\n		float g1x = g1( fuv.x );\n		float h0x = h0( fuv.x );\n		float h1x = h1( fuv.x );\n		float h0y = h0( fuv.y );\n		float h1y = h1( fuv.y );\n		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n	}\n	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n		vec2 fLodSizeInv = 1.0 / fLodSize;\n		vec2 cLodSizeInv = 1.0 / cLodSize;\n		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n		return mix( fSample, cSample, fract( lod ) );\n	}\n	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n		vec3 modelScale;\n		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n		return normalize( refractionVector ) * thickness * modelScale;\n	}\n	float applyIorToRoughness( const in float roughness, const in float ior ) {\n		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n	}\n	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n	}\n	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n		if ( isinf( attenuationDistance ) ) {\n			return vec3( 1.0 );\n		} else {\n			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;\n		}\n	}\n	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n		const in vec3 attenuationColor, const in float attenuationDistance ) {\n		vec4 transmittedLight;\n		vec3 transmittance;\n		#ifdef USE_DISPERSION\n			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n			for ( int i = 0; i < 3; i ++ ) {\n				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n				vec3 refractedRayExit = position + transmissionRay;\n		\n				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n				vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n				refractionCoords += 1.0;\n				refractionCoords /= 2.0;\n		\n				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n				transmittedLight[ i ] = transmissionSample[ i ];\n				transmittedLight.a += transmissionSample.a;\n				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n			}\n			transmittedLight.a /= 3.0;\n		\n		#else\n		\n			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n			vec3 refractedRayExit = position + transmissionRay;\n			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n			vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n			refractionCoords += 1.0;\n			refractionCoords /= 2.0;\n			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n		\n		#endif\n		vec3 attenuatedColor = transmittance * transmittedLight.rgb;\n		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n	}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	uniform mat3 mapTransform;\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform mat3 alphaMapTransform;\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	uniform mat3 lightMapTransform;\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	uniform mat3 aoMapTransform;\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	uniform mat3 bumpMapTransform;\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	uniform mat3 normalMapTransform;\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	uniform mat3 displacementMapTransform;\n	varying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	uniform mat3 emissiveMapTransform;\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	uniform mat3 metalnessMapTransform;\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	uniform mat3 roughnessMapTransform;\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	uniform mat3 anisotropyMapTransform;\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	uniform mat3 clearcoatMapTransform;\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform mat3 clearcoatNormalMapTransform;\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform mat3 clearcoatRoughnessMapTransform;\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	uniform mat3 sheenColorMapTransform;\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	uniform mat3 sheenRoughnessMapTransform;\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	uniform mat3 iridescenceMapTransform;\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform mat3 iridescenceThicknessMapTransform;\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	uniform mat3 specularMapTransform;\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	uniform mat3 specularColorMapTransform;\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	uniform mat3 specularIntensityMapTransform;\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	vUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n	vec4 worldPosition = vec4( transformed, 1.0 );\n	#ifdef USE_BATCHING\n		worldPosition = batchingMatrix * worldPosition;\n	#endif\n	#ifdef USE_INSTANCING\n		worldPosition = instanceMatrix * worldPosition;\n	#endif\n	worldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	gl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texColor = texture2D( t2D, vUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n	uniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n	uniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n	#elif defined( ENVMAP_TYPE_CUBE_UV )\n		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n	#else\n		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n	gl_FragColor = texColor;\n	gl_FragColor.a *= opacity;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <skinbase_vertex>\n	#include <morphinstance_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <clipping_planes_fragment>\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <logdepthbuf_fragment>\n	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( fragCoordZ );\n	#elif DEPTH_PACKING == 3202\n		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n	#elif DEPTH_PACKING == 3203\n		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n	#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <skinbase_vertex>\n	#include <morphinstance_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <clipping_planes_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldDirection );\n	vec2 sampleUV = equirectUv( direction );\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vLineDistance = scale * lineDistance;\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinbase_vertex>\n		#include <skinnormal_vertex>\n		#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n	vViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	vec3 viewDir = normalize( vViewPosition );\n	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n	vec3 y = cross( viewDir, x );\n	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n	#ifdef USE_MATCAP\n		vec4 matcapColor = texture2D( matcap, uv );\n	#else\n		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n	#endif\n	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n	#ifdef OPAQUE\n		gl_FragColor.a = 1.0;\n	#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n	varying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n	vWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n	#define IOR\n	#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n	uniform float ior;\n#endif\n#ifdef USE_SPECULAR\n	uniform float specularIntensity;\n	uniform vec3 specularColor;\n	#ifdef USE_SPECULAR_COLORMAP\n		uniform sampler2D specularColorMap;\n	#endif\n	#ifdef USE_SPECULAR_INTENSITYMAP\n		uniform sampler2D specularIntensityMap;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT\n	uniform float clearcoat;\n	uniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n	uniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n	uniform float iridescence;\n	uniform float iridescenceIOR;\n	uniform float iridescenceThicknessMinimum;\n	uniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n	uniform vec3 sheenColor;\n	uniform float sheenRoughness;\n	#ifdef USE_SHEEN_COLORMAP\n		uniform sampler2D sheenColorMap;\n	#endif\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		uniform sampler2D sheenRoughnessMap;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	uniform vec2 anisotropyVector;\n	#ifdef USE_ANISOTROPYMAP\n		uniform sampler2D anisotropyMap;\n	#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <clearcoat_normal_fragment_begin>\n	#include <clearcoat_normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n	#include <transmission_fragment>\n	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n	#ifdef USE_SHEEN\n		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n	#endif\n	#ifdef USE_CLEARCOAT\n		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n	#endif\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_toon_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\nvoid main() {\n	#ifdef USE_POINTS_UV\n		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	#endif\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix[ 3 ];\n	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n}"},oM={common:{diffuse:{value:new aw(0xffffff)},opacity:{value:1},map:{value:null},mapTransform:{value:new rG},alphaMap:{value:null},alphaMapTransform:{value:new rG},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new rG}},envmap:{envMap:{value:null},envMapRotation:{value:new rG},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new rG}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new rG}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new rG},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new rG},normalScale:{value:new rz(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new rG},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new rG}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new rG}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new rG}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new aw(0xffffff)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new aw(0xffffff)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new rG},alphaTest:{value:0},uvTransform:{value:new rG}},sprite:{diffuse:{value:new aw(0xffffff)},opacity:{value:1},center:{value:new rz(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new rG},alphaMap:{value:null},alphaMapTransform:{value:new rG},alphaTest:{value:0}}},oC={basic:{uniforms:on([oM.common,oM.specularmap,oM.envmap,oM.aomap,oM.lightmap,oM.fog]),vertexShader:oA.meshbasic_vert,fragmentShader:oA.meshbasic_frag},lambert:{uniforms:on([oM.common,oM.specularmap,oM.envmap,oM.aomap,oM.lightmap,oM.emissivemap,oM.bumpmap,oM.normalmap,oM.displacementmap,oM.fog,oM.lights,{emissive:{value:new aw(0)}}]),vertexShader:oA.meshlambert_vert,fragmentShader:oA.meshlambert_frag},phong:{uniforms:on([oM.common,oM.specularmap,oM.envmap,oM.aomap,oM.lightmap,oM.emissivemap,oM.bumpmap,oM.normalmap,oM.displacementmap,oM.fog,oM.lights,{emissive:{value:new aw(0)},specular:{value:new aw(1118481)},shininess:{value:30}}]),vertexShader:oA.meshphong_vert,fragmentShader:oA.meshphong_frag},standard:{uniforms:on([oM.common,oM.envmap,oM.aomap,oM.lightmap,oM.emissivemap,oM.bumpmap,oM.normalmap,oM.displacementmap,oM.roughnessmap,oM.metalnessmap,oM.fog,oM.lights,{emissive:{value:new aw(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:oA.meshphysical_vert,fragmentShader:oA.meshphysical_frag},toon:{uniforms:on([oM.common,oM.aomap,oM.lightmap,oM.emissivemap,oM.bumpmap,oM.normalmap,oM.displacementmap,oM.gradientmap,oM.fog,oM.lights,{emissive:{value:new aw(0)}}]),vertexShader:oA.meshtoon_vert,fragmentShader:oA.meshtoon_frag},matcap:{uniforms:on([oM.common,oM.bumpmap,oM.normalmap,oM.displacementmap,oM.fog,{matcap:{value:null}}]),vertexShader:oA.meshmatcap_vert,fragmentShader:oA.meshmatcap_frag},points:{uniforms:on([oM.points,oM.fog]),vertexShader:oA.points_vert,fragmentShader:oA.points_frag},dashed:{uniforms:on([oM.common,oM.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:oA.linedashed_vert,fragmentShader:oA.linedashed_frag},depth:{uniforms:on([oM.common,oM.displacementmap]),vertexShader:oA.depth_vert,fragmentShader:oA.depth_frag},normal:{uniforms:on([oM.common,oM.bumpmap,oM.normalmap,oM.displacementmap,{opacity:{value:1}}]),vertexShader:oA.meshnormal_vert,fragmentShader:oA.meshnormal_frag},sprite:{uniforms:on([oM.sprite,oM.fog]),vertexShader:oA.sprite_vert,fragmentShader:oA.sprite_frag},background:{uniforms:{uvTransform:{value:new rG},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:oA.background_vert,fragmentShader:oA.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new rG}},vertexShader:oA.backgroundCube_vert,fragmentShader:oA.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:oA.cube_vert,fragmentShader:oA.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:oA.equirect_vert,fragmentShader:oA.equirect_frag},distanceRGBA:{uniforms:on([oM.common,oM.displacementmap,{referencePosition:{value:new iu},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:oA.distanceRGBA_vert,fragmentShader:oA.distanceRGBA_frag},shadow:{uniforms:on([oM.lights,oM.fog,{color:{value:new aw(0)},opacity:{value:1}}]),vertexShader:oA.shadow_vert,fragmentShader:oA.shadow_frag}};oC.physical={uniforms:on([oC.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new rG},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new rG},clearcoatNormalScale:{value:new rz(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new rG},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new rG},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new rG},sheen:{value:0},sheenColor:{value:new aw(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new rG},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new rG},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new rG},transmissionSamplerSize:{value:new rz},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new rG},attenuationDistance:{value:0},attenuationColor:{value:new aw(0)},specularColor:{value:new aw(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new rG},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new rG},anisotropyVector:{value:new rz},anisotropyMap:{value:null},anisotropyMapTransform:{value:new rG}}]),vertexShader:oA.meshphysical_vert,fragmentShader:oA.meshphysical_frag};let oT={r:0,b:0,g:0},oE=new iJ,oI=new iz;function oD(t,r,i,s,u,c,h){let f,p;let v=new aw(0),y=!0===c?0:1,x=null,_=0,b=null;function w(t){let s=!0===t.isScene?t.background:null;return s&&s.isTexture&&(s=(t.backgroundBlurriness>0?i:r).get(s)),s}function S(r,i){r.getRGB(oT,or(t)),s.buffers.color.setClear(oT.r,oT.g,oT.b,i,h)}return{getClearColor:function(){return v},setClearColor:function(t,r=1){v.set(t),S(v,y=r)},getClearAlpha:function(){return y},setClearAlpha:function(t){S(v,y=t)},render:function(r){let i=!1,u=w(r);null===u?S(v,y):u&&u.isColor&&(S(u,1),i=!0);let c=t.xr.getEnvironmentBlendMode();"additive"===c?s.buffers.color.setClear(0,0,0,1,h):"alpha-blend"===c&&s.buffers.color.setClear(0,0,0,0,h),(t.autoClear||i)&&(s.buffers.depth.setTest(!0),s.buffers.depth.setMask(!0),s.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))},addToRenderList:function(r,i){let s=w(i);s&&(s.isCubeTexture||s.mapping===tS)?(void 0===p&&((p=new a6(new oe(1,1,1),new oa({name:"BackgroundCubeMaterial",uniforms:ot(oC.backgroundCube.uniforms),vertexShader:oC.backgroundCube.vertexShader,fragmentShader:oC.backgroundCube.fragmentShader,side:eL,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(t,r,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),u.update(p)),oE.copy(i.backgroundRotation),oE.x*=-1,oE.y*=-1,oE.z*=-1,s.isCubeTexture&&!1===s.isRenderTargetTexture&&(oE.y*=-1,oE.z*=-1),p.material.uniforms.envMap.value=s,p.material.uniforms.flipEnvMap.value=s.isCubeTexture&&!1===s.isRenderTargetTexture?-1:1,p.material.uniforms.backgroundBlurriness.value=i.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=i.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(oI.makeRotationFromEuler(oE)),p.material.toneMapped=rJ.getTransfer(s.colorSpace)!==n0,(x!==s||_!==s.version||b!==t.toneMapping)&&(p.material.needsUpdate=!0,x=s,_=s.version,b=t.toneMapping),p.layers.enableAll(),r.unshift(p,p.geometry,p.material,0,0,null)):s&&s.isTexture&&(void 0===f&&((f=new a6(new oS(2,2),new oa({name:"BackgroundMaterial",uniforms:ot(oC.background.uniforms),vertexShader:oC.background.vertexShader,fragmentShader:oC.background.fragmentShader,side:eP,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),u.update(f)),f.material.uniforms.t2D.value=s,f.material.uniforms.backgroundIntensity.value=i.backgroundIntensity,f.material.toneMapped=rJ.getTransfer(s.colorSpace)!==n0,!0===s.matrixAutoUpdate&&s.updateMatrix(),f.material.uniforms.uvTransform.value.copy(s.matrix),(x!==s||_!==s.version||b!==t.toneMapping)&&(f.material.needsUpdate=!0,x=s,_=s.version,b=t.toneMapping),f.layers.enableAll(),r.unshift(f,f.geometry,f.material,0,0,null))}}}function oR(t,r){let i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s={},u=v(null),c=u,h=!1;function f(r){return t.bindVertexArray(r)}function p(r){return t.deleteVertexArray(r)}function v(t){let r=[],s=[],u=[];for(let t=0;t<i;t++)r[t]=0,s[t]=0,u[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:r,enabledAttributes:s,attributeDivisors:u,object:t,attributes:{},index:null}}function y(){let t=c.newAttributes;for(let r=0,i=t.length;r<i;r++)t[r]=0}function x(t){_(t,0)}function _(r,i){let s=c.newAttributes,u=c.enabledAttributes,h=c.attributeDivisors;s[r]=1,0===u[r]&&(t.enableVertexAttribArray(r),u[r]=1),h[r]!==i&&(t.vertexAttribDivisor(r,i),h[r]=i)}function b(){let r=c.newAttributes,i=c.enabledAttributes;for(let s=0,u=i.length;s<u;s++)i[s]!==r[s]&&(t.disableVertexAttribArray(s),i[s]=0)}function w(r,i,s,u,c,h,f){!0===f?t.vertexAttribIPointer(r,i,s,c,h):t.vertexAttribPointer(r,i,s,u,c,h)}function S(){A(),h=!0,c!==u&&f((c=u).object)}function A(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,p,S,A){let M=!1,C=function(r,i,u){let c=!0===u.wireframe,h=s[r.id];void 0===h&&(h={},s[r.id]=h);let f=h[i.id];void 0===f&&(f={},h[i.id]=f);let p=f[c];return void 0===p&&(p=v(t.createVertexArray()),f[c]=p),p}(S,p,u);c!==C&&f((c=C).object),(M=function(t,r,i,s){let u=c.attributes,h=r.attributes,f=0,p=i.getAttributes();for(let r in p)if(p[r].location>=0){let i=u[r],s=h[r];if(void 0===s&&("instanceMatrix"===r&&t.instanceMatrix&&(s=t.instanceMatrix),"instanceColor"===r&&t.instanceColor&&(s=t.instanceColor)),void 0===i||i.attribute!==s||s&&i.data!==s.data)return!0;f++}return c.attributesNum!==f||c.index!==s||!1}(i,S,p,A))&&function(t,r,i,s){let u={},h=r.attributes,f=0,p=i.getAttributes();for(let r in p)if(p[r].location>=0){let i=h[r];void 0===i&&("instanceMatrix"===r&&t.instanceMatrix&&(i=t.instanceMatrix),"instanceColor"===r&&t.instanceColor&&(i=t.instanceColor));let s={};s.attribute=i,i&&i.data&&(s.data=i.data),u[r]=s,f++}c.attributes=u,c.attributesNum=f,c.index=s}(i,S,p,A),null!==A&&r.update(A,t.ELEMENT_ARRAY_BUFFER),(M||h)&&(h=!1,function(i,s,u,c){y();let h=c.attributes,f=u.getAttributes(),p=s.defaultAttributeValues;for(let s in f){let u=f[s];if(u.location>=0){let f=h[s];if(void 0===f&&("instanceMatrix"===s&&i.instanceMatrix&&(f=i.instanceMatrix),"instanceColor"===s&&i.instanceColor&&(f=i.instanceColor)),void 0!==f){let s=f.normalized,h=f.itemSize,p=r.get(f);if(void 0===p)continue;let v=p.buffer,y=p.type,b=p.bytesPerElement,S=y===t.INT||y===t.UNSIGNED_INT||f.gpuType===tG;if(f.isInterleavedBufferAttribute){let r=f.data,p=r.stride,A=f.offset;if(r.isInstancedInterleavedBuffer){for(let t=0;t<u.locationSize;t++)_(u.location+t,r.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===c._maxInstanceCount&&(c._maxInstanceCount=r.meshPerAttribute*r.count)}else for(let t=0;t<u.locationSize;t++)x(u.location+t);t.bindBuffer(t.ARRAY_BUFFER,v);for(let t=0;t<u.locationSize;t++)w(u.location+t,h/u.locationSize,y,s,p*b,(A+h/u.locationSize*t)*b,S)}else{if(f.isInstancedBufferAttribute){for(let t=0;t<u.locationSize;t++)_(u.location+t,f.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===c._maxInstanceCount&&(c._maxInstanceCount=f.meshPerAttribute*f.count)}else for(let t=0;t<u.locationSize;t++)x(u.location+t);t.bindBuffer(t.ARRAY_BUFFER,v);for(let t=0;t<u.locationSize;t++)w(u.location+t,h/u.locationSize,y,s,h*b,h/u.locationSize*t*b,S)}}else if(void 0!==p){let r=p[s];if(void 0!==r)switch(r.length){case 2:t.vertexAttrib2fv(u.location,r);break;case 3:t.vertexAttrib3fv(u.location,r);break;case 4:t.vertexAttrib4fv(u.location,r);break;default:t.vertexAttrib1fv(u.location,r)}}}}b()}(i,u,p,S),null!==A&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.get(A).buffer))},reset:S,resetDefaultState:A,dispose:function(){for(let t in S(),s){let r=s[t];for(let t in r){let i=r[t];for(let t in i)p(i[t].object),delete i[t];delete r[t]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0===s[t.id])return;let r=s[t.id];for(let t in r){let i=r[t];for(let t in i)p(i[t].object),delete i[t];delete r[t]}delete s[t.id]},releaseStatesOfProgram:function(t){for(let r in s){let i=s[r];if(void 0===i[t.id])continue;let u=i[t.id];for(let t in u)p(u[t].object),delete u[t];delete i[t.id]}},initAttributes:y,enableAttribute:x,disableUnusedAttributes:b}}function oP(t,r,i){let s;function u(r,u,c){0!==c&&(t.drawArraysInstanced(s,r,u,c),i.update(u,s,c))}this.setMode=function(t){s=t},this.render=function(r,u){t.drawArrays(s,r,u),i.update(u,s,1)},this.renderInstances=u,this.renderMultiDraw=function(t,u,c){if(0===c)return;r.get("WEBGL_multi_draw").multiDrawArraysWEBGL(s,t,0,u,0,c);let h=0;for(let t=0;t<c;t++)h+=u[t];i.update(h,s,1)},this.renderMultiDrawInstances=function(t,c,h,f){if(0===h)return;let p=r.get("WEBGL_multi_draw");if(null===p)for(let r=0;r<t.length;r++)u(t[r],c[r],f[r]);else{p.multiDrawArraysInstancedWEBGL(s,t,0,c,0,f,0,h);let r=0;for(let t=0;t<h;t++)r+=c[t]*f[t];i.update(r,s,1)}}}function oL(t,r,i,s){let u;function c(r){if("highp"===r){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";r="mediump"}return"mediump"===r&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=void 0!==i.precision?i.precision:"highp",f=c(h);f!==h&&(h=f);let p=!0===i.logarithmicDepthBuffer,v=!0===i.reverseDepthBuffer&&r.has("EXT_clip_control"),y=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_TEXTURE_SIZE),b=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),w=t.getParameter(t.MAX_VERTEX_ATTRIBS),S=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),A=t.getParameter(t.MAX_VARYING_VECTORS),M=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==u)return u;if(!0===r.has("EXT_texture_filter_anisotropic")){let i=r.get("EXT_texture_filter_anisotropic");u=t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else u=0;return u},getMaxPrecision:c,textureFormatReadable:function(r){return(r===tQ||s.convert(r)===t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))&&!0},textureTypeReadable:function(i){let u=i===tj&&(r.has("EXT_color_buffer_half_float")||r.has("EXT_color_buffer_float"));return i===tN||s.convert(i)===t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)||i===tV||!!u||!1},precision:h,logarithmicDepthBuffer:p,reverseDepthBuffer:v,maxTextures:y,maxVertexTextures:x,maxTextureSize:_,maxCubemapSize:b,maxAttributes:w,maxVertexUniforms:S,maxVaryings:A,maxFragmentUniforms:M,vertexTextures:x>0,maxSamples:t.getParameter(t.MAX_SAMPLES)}}function oB(t){let r=this,i=null,s=0,u=!1,c=!1,h=new ov,f=new rG,p={value:null,needsUpdate:!1};this.uniform=p,this.numPlanes=0,this.numIntersection=0,this.init=function(t,r){let i=0!==t.length||r||0!==s||u;return u=r,s=t.length,i},this.beginShadows=function(){c=!0,v(null)},this.endShadows=function(){c=!1},this.setGlobalState=function(t,r){i=v(t,r,0)},this.setState=function(h,f,y){let x=h.clippingPlanes,_=h.clipIntersection,b=h.clipShadows,w=t.get(h);if(u&&null!==x&&0!==x.length&&(!c||b)){let t=c?0:s,r=4*t,u=w.clippingState||null;p.value=u,u=v(x,f,r,y);for(let t=0;t!==r;++t)u[t]=i[t];w.clippingState=u,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=t}else c?v(null):function(){p.value!==i&&(p.value=i,p.needsUpdate=s>0),r.numPlanes=s,r.numIntersection=0}()};function v(t,i,s,u){let c=null!==t?t.length:0,v=null;if(0!==c){if(v=p.value,!0!==u||null===v){let r=s+4*c,u=i.matrixWorldInverse;f.getNormalMatrix(u),(null===v||v.length<r)&&(v=new Float32Array(r));for(let r=0,i=s;r!==c;++r,i+=4)h.copy(t[r]).applyMatrix4(u,f),h.normal.toArray(v,i),v[i+3]=h.constant}p.value=v,p.needsUpdate=!0}return r.numPlanes=c,r.numIntersection=0,v}}function ok(t){let r=new WeakMap;function i(t,r){return r===tb?t.mapping=tx:r===tw&&(t.mapping=t_),t}function s(t){let i=t.target;i.removeEventListener("dispose",s);let u=r.get(i);void 0!==u&&(r.delete(i),u.dispose())}return{get:function(u){if(u&&u.isTexture){let c=u.mapping;if(c===tb||c===tw){if(r.has(u))return i(r.get(u).texture,u.mapping);{let c=u.image;if(!c||!(c.height>0))return null;{let h=new of(c.height);return h.fromEquirectangularTexture(t,u),r.set(u,h),u.addEventListener("dispose",s),i(h.texture,u.mapping)}}}}return u},dispose:function(){r=new WeakMap}}}class oO extends oo{constructor(t=-1,r=1,i=1,s=-1,u=.1,c=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=r,this.top=i,this.bottom=s,this.near=u,this.far=c,this.updateProjectionMatrix()}copy(t,r){return super.copy(t,r),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,r,i,s,u,c){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=s,this.view.width=u,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let t=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2,u=i-t,c=i+t,h=s+r,f=s-r;if(null!==this.view&&this.view.enabled){let t=(this.right-this.left)/this.view.fullWidth/this.zoom,r=(this.top-this.bottom)/this.view.fullHeight/this.zoom;u+=t*this.view.offsetX,c=u+t*this.view.width,h-=r*this.view.offsetY,f=h-r*this.view.height}this.projectionMatrix.makeOrthographic(u,c,h,f,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){let r=super.toJSON(t);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,null!==this.view&&(r.object.view=Object.assign({},this.view)),r}}let oN=[.125,.215,.35,.446,.526,.582],oF=new oO,oU=new aw,oz=null,oG=0,oH=0,oV=!1,oj=(1+Math.sqrt(5))/2,oW=1/oj,oX=[new iu(-oj,oW,0),new iu(oj,oW,0),new iu(-oW,0,oj),new iu(oW,0,oj),new iu(0,oj,-oW),new iu(0,oj,oW),new iu(-1,1,-1),new iu(1,1,-1),new iu(-1,1,1),new iu(1,1,1)];class oY{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,r=0,i=.1,s=100){oz=this._renderer.getRenderTarget(),oG=this._renderer.getActiveCubeFace(),oH=this._renderer.getActiveMipmapLevel(),oV=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);let u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(t,i,s,u),r>0&&this._blur(u,0,0,r),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(t,r=null){return this._fromTexture(t,r)}fromCubemap(t,r=null){return this._fromTexture(t,r)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=oQ(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=oJ(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(oz,oG,oH),this._renderer.xr.enabled=oV,t.scissorTest=!1,oK(t,0,0,t.width,t.height)}_fromTexture(t,r){t.mapping===tx||t.mapping===t_?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),oz=this._renderer.getRenderTarget(),oG=this._renderer.getActiveCubeFace(),oH=this._renderer.getActiveMipmapLevel(),oV=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;let i=r||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){let t=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,i={magFilter:tP,minFilter:tP,generateMipmaps:!1,type:tj,format:tQ,colorSpace:nq,depthBuffer:!1},s=oZ(t,r,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==r){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=oZ(t,r,i);let{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(t){let r=[],i=[],s=[],u=t,c=t-4+1+oN.length;for(let h=0;h<c;h++){let c=Math.pow(2,u);i.push(c);let f=1/c;h>t-4?f=oN[h-t+4-1]:0===h&&(f=0),s.push(f);let p=1/(c-2),v=-p,y=1+p,x=[v,v,y,v,y,y,v,v,y,y,v,y],_=new Float32Array(108),b=new Float32Array(72),w=new Float32Array(36);for(let t=0;t<6;t++){let r=t%3*2/3-1,i=t>2?0:-1,s=[r,i,0,r+2/3,i,0,r+2/3,i+1,0,r,i,0,r+2/3,i+1,0,r,i+1,0];_.set(s,18*t),b.set(x,12*t);let u=[t,t,t,t,t,t];w.set(u,6*t)}let S=new aJ;S.setAttribute("position",new aL(_,3)),S.setAttribute("uv",new aL(b,2)),S.setAttribute("faceIndex",new aL(w,1)),r.push(S),u>4&&u--}return{lodPlanes:r,sizeLods:i,sigmas:s}}(s)),this._blurMaterial=function(t,r,i){let s=new Float32Array(20);return new oa({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/r,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:new iu(0,1,0)}},vertexShader:oq(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ek,depthTest:!1,depthWrite:!1})}(s,t,r)}return s}_compileMaterial(t){let r=new a6(this._lodPlanes[0],t);this._renderer.compile(r,oF)}_sceneToCubeUV(t,r,i,s){let u=new oc(90,1,r,i),c=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],f=this._renderer,p=f.autoClear,v=f.toneMapping;f.getClearColor(oU),f.toneMapping=tl,f.autoClear=!1;let y=new aC({name:"PMREM.Background",side:eL,depthWrite:!1,depthTest:!1}),x=new a6(new oe,y),_=!1,b=t.background;b?b.isColor&&(y.color.copy(b),t.background=null,_=!0):(y.color.copy(oU),_=!0);for(let r=0;r<6;r++){let i=r%3;0===i?(u.up.set(0,c[r],0),u.lookAt(h[r],0,0)):1===i?(u.up.set(0,0,c[r]),u.lookAt(0,h[r],0)):(u.up.set(0,c[r],0),u.lookAt(0,0,h[r]));let p=this._cubeSize;oK(s,i*p,r>2?p:0,p,p),f.setRenderTarget(s),_&&f.render(x,u),f.render(t,u)}x.geometry.dispose(),x.material.dispose(),f.toneMapping=v,f.autoClear=p,t.background=b}_textureToCubeUV(t,r){let i=this._renderer,s=t.mapping===tx||t.mapping===t_;s?(null===this._cubemapMaterial&&(this._cubemapMaterial=oQ()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=oJ());let u=s?this._cubemapMaterial:this._equirectMaterial,c=new a6(this._lodPlanes[0],u);u.uniforms.envMap.value=t;let h=this._cubeSize;oK(r,0,0,3*h,2*h),i.setRenderTarget(r),i.render(c,oF)}_applyPMREM(t){let r=this._renderer,i=r.autoClear;r.autoClear=!1;let s=this._lodPlanes.length;for(let r=1;r<s;r++){let i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),u=oX[(s-r-1)%oX.length];this._blur(t,r-1,r,i,u)}r.autoClear=i}_blur(t,r,i,s,u){let c=this._pingPongRenderTarget;this._halfBlur(t,c,r,i,s,"latitudinal",u),this._halfBlur(c,t,i,i,s,"longitudinal",u)}_halfBlur(t,r,i,s,u,c,h){let f=this._renderer,p=this._blurMaterial;"latitudinal"!==c;let v=new a6(this._lodPlanes[s],p),y=p.uniforms,x=this._sizeLods[i]-1,_=isFinite(u)?Math.PI/(2*x):2*Math.PI/39,b=u/_,w=isFinite(u)?1+Math.floor(3*b):20;let S=[],A=0;for(let t=0;t<20;++t){let r=t/b,i=Math.exp(-r*r/2);S.push(i),0===t?A+=i:t<w&&(A+=2*i)}for(let t=0;t<S.length;t++)S[t]=S[t]/A;y.envMap.value=t.texture,y.samples.value=w,y.weights.value=S,y.latitudinal.value="latitudinal"===c,h&&(y.poleAxis.value=h);let{_lodMax:M}=this;y.dTheta.value=_,y.mipInt.value=M-i;let C=this._sizeLods[s],T=4*(this._cubeSize-C);oK(r,3*C*(s>M-4?s-M+4:0),T,3*C,2*C),f.setRenderTarget(r),f.render(v,oF)}}function oZ(t,r,i){let s=new ir(t,r,i);return s.texture.mapping=tS,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function oK(t,r,i,s,u){t.viewport.set(r,i,s,u),t.scissor.set(r,i,s,u)}function oJ(){return new oa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:oq(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ek,depthTest:!1,depthWrite:!1})}function oQ(){return new oa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:oq(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ek,depthTest:!1,depthWrite:!1})}function oq(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function o$(t){let r=new WeakMap,i=null;function s(t){let i=t.target;i.removeEventListener("dispose",s);let u=r.get(i);void 0!==u&&(r.delete(i),u.dispose())}return{get:function(u){if(u&&u.isTexture){let c=u.mapping,h=c===tb||c===tw,f=c===tx||c===t_;if(h||f){let c=r.get(u),p=void 0!==c?c.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==p)return null===i&&(i=new oY(t)),(c=h?i.fromEquirectangular(u,c):i.fromCubemap(u,c)).texture.pmremVersion=u.pmremVersion,r.set(u,c),c.texture;if(void 0!==c)return c.texture;{let p=u.image;return h&&p&&p.height>0||f&&p&&function(t){let r=0;for(let i=0;i<6;i++)void 0!==t[i]&&r++;return 6===r}(p)?(null===i&&(i=new oY(t)),(c=h?i.fromEquirectangular(u):i.fromCubemap(u)).texture.pmremVersion=u.pmremVersion,r.set(u,c),u.addEventListener("dispose",s),c.texture):null}}}return u},dispose:function(){r=new WeakMap,null!==i&&(i.dispose(),i=null)}}}function o0(t){let r={};function i(i){let s;if(void 0!==r[i])return r[i];switch(i){case"WEBGL_depth_texture":s=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=t.getExtension(i)}return r[i]=s,s}return{has:function(t){return null!==i(t)},init:function(){i("EXT_color_buffer_float"),i("WEBGL_clip_cull_distance"),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture"),i("WEBGL_render_shared_exponent")},get:function(t){let r=i(t);return null===r&&rK("THREE.WebGLRenderer: "+t+" extension not supported."),r}}}function o1(t,r,i,s){let u={},c=new WeakMap;function h(t){let f=t.target;for(let t in null!==f.index&&r.remove(f.index),f.attributes)r.remove(f.attributes[t]);for(let t in f.morphAttributes){let i=f.morphAttributes[t];for(let t=0,s=i.length;t<s;t++)r.remove(i[t])}f.removeEventListener("dispose",h),delete u[f.id];let p=c.get(f);p&&(r.remove(p),c.delete(f)),s.releaseStatesOfGeometry(f),!0===f.isInstancedBufferGeometry&&delete f._maxInstanceCount,i.memory.geometries--}function f(t){let i=[],s=t.index,u=t.attributes.position,h=0;if(null!==s){let t=s.array;h=s.version;for(let r=0,s=t.length;r<s;r+=3){let s=t[r+0],u=t[r+1],c=t[r+2];i.push(s,u,u,c,c,s)}}else{if(void 0===u)return;let t=u.array;h=u.version;for(let r=0,s=t.length/3-1;r<s;r+=3){let t=r+0,s=r+1,u=r+2;i.push(t,s,s,u,u,t)}}let f=new(rV(i)?az:aF)(i,1);f.version=h;let p=c.get(t);p&&r.remove(p),c.set(t,f)}return{get:function(t,r){return!0===u[r.id]?r:(r.addEventListener("dispose",h),u[r.id]=!0,i.memory.geometries++,r)},update:function(i){let s=i.attributes;for(let i in s)r.update(s[i],t.ARRAY_BUFFER);let u=i.morphAttributes;for(let i in u){let s=u[i];for(let i=0,u=s.length;i<u;i++)r.update(s[i],t.ARRAY_BUFFER)}},getWireframeAttribute:function(t){let r=c.get(t);if(r){let i=t.index;null!==i&&r.version<i.version&&f(t)}else f(t);return c.get(t)}}}function o2(t,r,i){let s,u,c;function h(r,h,f){0!==f&&(t.drawElementsInstanced(s,h,u,r*c,f),i.update(h,s,f))}this.setMode=function(t){s=t},this.setIndex=function(t){u=t.type,c=t.bytesPerElement},this.render=function(r,h){t.drawElements(s,h,u,r*c),i.update(h,s,1)},this.renderInstances=h,this.renderMultiDraw=function(t,c,h){if(0===h)return;r.get("WEBGL_multi_draw").multiDrawElementsWEBGL(s,c,0,u,t,0,h);let f=0;for(let t=0;t<h;t++)f+=c[t];i.update(f,s,1)},this.renderMultiDrawInstances=function(t,f,p,v){if(0===p)return;let y=r.get("WEBGL_multi_draw");if(null===y)for(let r=0;r<t.length;r++)h(t[r]/c,f[r],v[r]);else{y.multiDrawElementsInstancedWEBGL(s,f,0,u,t,0,v,0,p);let r=0;for(let t=0;t<p;t++)r+=f[t]*v[t];i.update(r,s,1)}}}function o3(t){let r={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:r,programs:null,autoReset:!0,reset:function(){r.calls=0,r.triangles=0,r.points=0,r.lines=0},update:function(i,s,u){switch(r.calls++,s){case t.TRIANGLES:r.triangles+=i/3*u;break;case t.LINES:r.lines+=i/2*u;break;case t.LINE_STRIP:r.lines+=u*(i-1);break;case t.LINE_LOOP:r.lines+=u*i;break;case t.POINTS:r.points+=u*i}}}}function o5(t,r,i){let s=new WeakMap,u=new ie;return{update:function(c,h,f){let p=c.morphTargetInfluences,v=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,y=void 0!==v?v.length:0,x=s.get(h);if(void 0===x||x.count!==y){void 0!==x&&x.texture.dispose();let t=void 0!==h.morphAttributes.position,i=void 0!==h.morphAttributes.normal,c=void 0!==h.morphAttributes.color,f=h.morphAttributes.position||[],p=h.morphAttributes.normal||[],v=h.morphAttributes.color||[],_=0;!0===t&&(_=1),!0===i&&(_=2),!0===c&&(_=3);let b=h.attributes.position.count*_,w=1;b>r.maxTextureSize&&(w=Math.ceil(b/r.maxTextureSize),b=r.maxTextureSize);let S=new Float32Array(b*w*4*y),A=new ii(S,b,w,y);A.type=tV,A.needsUpdate=!0;let M=4*_;for(let r=0;r<y;r++){let s=f[r],h=p[r],y=v[r],x=b*w*4*r;for(let r=0;r<s.count;r++){let f=r*M;!0===t&&(u.fromBufferAttribute(s,r),S[x+f+0]=u.x,S[x+f+1]=u.y,S[x+f+2]=u.z,S[x+f+3]=0),!0===i&&(u.fromBufferAttribute(h,r),S[x+f+4]=u.x,S[x+f+5]=u.y,S[x+f+6]=u.z,S[x+f+7]=0),!0===c&&(u.fromBufferAttribute(y,r),S[x+f+8]=u.x,S[x+f+9]=u.y,S[x+f+10]=u.z,S[x+f+11]=4===y.itemSize?u.w:1)}}x={count:y,texture:A,size:new rz(b,w)},s.set(h,x);h.addEventListener("dispose",function t(){A.dispose(),s.delete(h),h.removeEventListener("dispose",t)})}if(!0===c.isInstancedMesh&&null!==c.morphTexture)f.getUniforms().setValue(t,"morphTexture",c.morphTexture,i);else{let r=0;for(let t=0;t<p.length;t++)r+=p[t];let i=h.morphTargetsRelative?1:1-r;f.getUniforms().setValue(t,"morphTargetBaseInfluence",i),f.getUniforms().setValue(t,"morphTargetInfluences",p)}f.getUniforms().setValue(t,"morphTargetsTexture",x.texture,i),f.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}}}function o4(t,r,i,s){let u=new WeakMap;function c(t){let r=t.target;r.removeEventListener("dispose",c),i.remove(r.instanceMatrix),null!==r.instanceColor&&i.remove(r.instanceColor)}return{update:function(h){let f=s.render.frame,p=h.geometry,v=r.get(h,p);if(u.get(v)!==f&&(r.update(v),u.set(v,f)),h.isInstancedMesh&&(!1===h.hasEventListener("dispose",c)&&h.addEventListener("dispose",c),u.get(h)!==f&&(i.update(h.instanceMatrix,t.ARRAY_BUFFER),null!==h.instanceColor&&i.update(h.instanceColor,t.ARRAY_BUFFER),u.set(h,f))),h.isSkinnedMesh){let t=h.skeleton;u.get(t)!==f&&(t.update(),u.set(t,f))}return v},dispose:function(){u=new WeakMap}}}class o9 extends r7{constructor(t,r,i,s,u,c,h,f,p,v=t0){if(v!==t0&&v!==t1)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&v===t0&&(i=tH),void 0===i&&v===t1&&(i=tY),super(null,s,u,c,h,f,v,i,p),this.isDepthTexture=!0,this.image={width:t,height:r},this.magFilter=void 0!==h?h:tT,this.minFilter=void 0!==f?f:tT,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){let r=super.toJSON(t);return null!==this.compareFunction&&(r.compareFunction=this.compareFunction),r}}let o8=new r7,o6=new o9(1,1),o7=new ii,se=new io,st=new od,sn=[],sr=[],si=new Float32Array(16),sa=new Float32Array(9),so=new Float32Array(4);function ss(t,r,i){let s=t[0];if(s<=0||s>0)return t;let u=r*i,c=sn[u];if(void 0===c&&(c=new Float32Array(u),sn[u]=c),0!==r){s.toArray(c,0);for(let s=1,u=0;s!==r;++s)u+=i,t[s].toArray(c,u)}return c}function sl(t,r){if(t.length!==r.length)return!1;for(let i=0,s=t.length;i<s;i++)if(t[i]!==r[i])return!1;return!0}function su(t,r){for(let i=0,s=r.length;i<s;i++)t[i]=r[i]}function sc(t,r){let i=sr[r];void 0===i&&(i=new Int32Array(r),sr[r]=i);for(let s=0;s!==r;++s)i[s]=t.allocateTextureUnit();return i}function sh(t,r){let i=this.cache;i[0]!==r&&(t.uniform1f(this.addr,r),i[0]=r)}function sd(t,r){let i=this.cache;if(void 0!==r.x)(i[0]!==r.x||i[1]!==r.y)&&(t.uniform2f(this.addr,r.x,r.y),i[0]=r.x,i[1]=r.y);else{if(sl(i,r))return;t.uniform2fv(this.addr,r),su(i,r)}}function sf(t,r){let i=this.cache;if(void 0!==r.x)(i[0]!==r.x||i[1]!==r.y||i[2]!==r.z)&&(t.uniform3f(this.addr,r.x,r.y,r.z),i[0]=r.x,i[1]=r.y,i[2]=r.z);else if(void 0!==r.r)(i[0]!==r.r||i[1]!==r.g||i[2]!==r.b)&&(t.uniform3f(this.addr,r.r,r.g,r.b),i[0]=r.r,i[1]=r.g,i[2]=r.b);else{if(sl(i,r))return;t.uniform3fv(this.addr,r),su(i,r)}}function sp(t,r){let i=this.cache;if(void 0!==r.x)(i[0]!==r.x||i[1]!==r.y||i[2]!==r.z||i[3]!==r.w)&&(t.uniform4f(this.addr,r.x,r.y,r.z,r.w),i[0]=r.x,i[1]=r.y,i[2]=r.z,i[3]=r.w);else{if(sl(i,r))return;t.uniform4fv(this.addr,r),su(i,r)}}function sg(t,r){let i=this.cache,s=r.elements;if(void 0===s){if(sl(i,r))return;t.uniformMatrix2fv(this.addr,!1,r),su(i,r)}else{if(sl(i,s))return;so.set(s),t.uniformMatrix2fv(this.addr,!1,so),su(i,s)}}function sm(t,r){let i=this.cache,s=r.elements;if(void 0===s){if(sl(i,r))return;t.uniformMatrix3fv(this.addr,!1,r),su(i,r)}else{if(sl(i,s))return;sa.set(s),t.uniformMatrix3fv(this.addr,!1,sa),su(i,s)}}function sv(t,r){let i=this.cache,s=r.elements;if(void 0===s){if(sl(i,r))return;t.uniformMatrix4fv(this.addr,!1,r),su(i,r)}else{if(sl(i,s))return;si.set(s),t.uniformMatrix4fv(this.addr,!1,si),su(i,s)}}function sy(t,r){let i=this.cache;i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r)}function sx(t,r){let i=this.cache;if(void 0!==r.x)(i[0]!==r.x||i[1]!==r.y)&&(t.uniform2i(this.addr,r.x,r.y),i[0]=r.x,i[1]=r.y);else{if(sl(i,r))return;t.uniform2iv(this.addr,r),su(i,r)}}function s_(t,r){let i=this.cache;if(void 0!==r.x)(i[0]!==r.x||i[1]!==r.y||i[2]!==r.z)&&(t.uniform3i(this.addr,r.x,r.y,r.z),i[0]=r.x,i[1]=r.y,i[2]=r.z);else{if(sl(i,r))return;t.uniform3iv(this.addr,r),su(i,r)}}function sb(t,r){let i=this.cache;if(void 0!==r.x)(i[0]!==r.x||i[1]!==r.y||i[2]!==r.z||i[3]!==r.w)&&(t.uniform4i(this.addr,r.x,r.y,r.z,r.w),i[0]=r.x,i[1]=r.y,i[2]=r.z,i[3]=r.w);else{if(sl(i,r))return;t.uniform4iv(this.addr,r),su(i,r)}}function sw(t,r){let i=this.cache;i[0]!==r&&(t.uniform1ui(this.addr,r),i[0]=r)}function sS(t,r){let i=this.cache;if(void 0!==r.x)(i[0]!==r.x||i[1]!==r.y)&&(t.uniform2ui(this.addr,r.x,r.y),i[0]=r.x,i[1]=r.y);else{if(sl(i,r))return;t.uniform2uiv(this.addr,r),su(i,r)}}function sA(t,r){let i=this.cache;if(void 0!==r.x)(i[0]!==r.x||i[1]!==r.y||i[2]!==r.z)&&(t.uniform3ui(this.addr,r.x,r.y,r.z),i[0]=r.x,i[1]=r.y,i[2]=r.z);else{if(sl(i,r))return;t.uniform3uiv(this.addr,r),su(i,r)}}function sM(t,r){let i=this.cache;if(void 0!==r.x)(i[0]!==r.x||i[1]!==r.y||i[2]!==r.z||i[3]!==r.w)&&(t.uniform4ui(this.addr,r.x,r.y,r.z,r.w),i[0]=r.x,i[1]=r.y,i[2]=r.z,i[3]=r.w);else{if(sl(i,r))return;t.uniform4uiv(this.addr,r),su(i,r)}}function sC(t,r,i){let s;let u=this.cache,c=i.allocateTextureUnit();u[0]!==c&&(t.uniform1i(this.addr,c),u[0]=c),this.type===t.SAMPLER_2D_SHADOW?(o6.compareFunction=rc,s=o6):s=o8,i.setTexture2D(r||s,c)}function sT(t,r,i){let s=this.cache,u=i.allocateTextureUnit();s[0]!==u&&(t.uniform1i(this.addr,u),s[0]=u),i.setTexture3D(r||se,u)}function sE(t,r,i){let s=this.cache,u=i.allocateTextureUnit();s[0]!==u&&(t.uniform1i(this.addr,u),s[0]=u),i.setTextureCube(r||st,u)}function sI(t,r,i){let s=this.cache,u=i.allocateTextureUnit();s[0]!==u&&(t.uniform1i(this.addr,u),s[0]=u),i.setTexture2DArray(r||o7,u)}function sD(t,r){t.uniform1fv(this.addr,r)}function sR(t,r){let i=ss(r,this.size,2);t.uniform2fv(this.addr,i)}function sP(t,r){let i=ss(r,this.size,3);t.uniform3fv(this.addr,i)}function sL(t,r){let i=ss(r,this.size,4);t.uniform4fv(this.addr,i)}function sB(t,r){let i=ss(r,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function sk(t,r){let i=ss(r,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function sO(t,r){let i=ss(r,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function sN(t,r){t.uniform1iv(this.addr,r)}function sF(t,r){t.uniform2iv(this.addr,r)}function sU(t,r){t.uniform3iv(this.addr,r)}function sz(t,r){t.uniform4iv(this.addr,r)}function sG(t,r){t.uniform1uiv(this.addr,r)}function sH(t,r){t.uniform2uiv(this.addr,r)}function sV(t,r){t.uniform3uiv(this.addr,r)}function sj(t,r){t.uniform4uiv(this.addr,r)}function sW(t,r,i){let s=this.cache,u=r.length,c=sc(i,u);!sl(s,c)&&(t.uniform1iv(this.addr,c),su(s,c));for(let t=0;t!==u;++t)i.setTexture2D(r[t]||o8,c[t])}function sX(t,r,i){let s=this.cache,u=r.length,c=sc(i,u);!sl(s,c)&&(t.uniform1iv(this.addr,c),su(s,c));for(let t=0;t!==u;++t)i.setTexture3D(r[t]||se,c[t])}function sY(t,r,i){let s=this.cache,u=r.length,c=sc(i,u);!sl(s,c)&&(t.uniform1iv(this.addr,c),su(s,c));for(let t=0;t!==u;++t)i.setTextureCube(r[t]||st,c[t])}function sZ(t,r,i){let s=this.cache,u=r.length,c=sc(i,u);!sl(s,c)&&(t.uniform1iv(this.addr,c),su(s,c));for(let t=0;t!==u;++t)i.setTexture2DArray(r[t]||o7,c[t])}class sK{constructor(t,r,i){this.id=t,this.addr=i,this.cache=[],this.type=r.type,this.setValue=function(t){switch(t){case 5126:return sh;case 35664:return sd;case 35665:return sf;case 35666:return sp;case 35674:return sg;case 35675:return sm;case 35676:return sv;case 5124:case 35670:return sy;case 35667:case 35671:return sx;case 35668:case 35672:return s_;case 35669:case 35673:return sb;case 5125:return sw;case 36294:return sS;case 36295:return sA;case 36296:return sM;case 35678:case 36198:case 36298:case 36306:case 35682:return sC;case 35679:case 36299:case 36307:return sT;case 35680:case 36300:case 36308:case 36293:return sE;case 36289:case 36303:case 36311:case 36292:return sI}}(r.type)}}class sJ{constructor(t,r,i){this.id=t,this.addr=i,this.cache=[],this.type=r.type,this.size=r.size,this.setValue=function(t){switch(t){case 5126:return sD;case 35664:return sR;case 35665:return sP;case 35666:return sL;case 35674:return sB;case 35675:return sk;case 35676:return sO;case 5124:case 35670:return sN;case 35667:case 35671:return sF;case 35668:case 35672:return sU;case 35669:case 35673:return sz;case 5125:return sG;case 36294:return sH;case 36295:return sV;case 36296:return sj;case 35678:case 36198:case 36298:case 36306:case 35682:return sW;case 35679:case 36299:case 36307:return sX;case 35680:case 36300:case 36308:case 36293:return sY;case 36289:case 36303:case 36311:case 36292:return sZ}}(r.type)}}class sQ{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,r,i){let s=this.seq;for(let u=0,c=s.length;u!==c;++u){let c=s[u];c.setValue(t,r[c.id],i)}}}let sq=/(\w+)(\])?(\[|\.)?/g;function s$(t,r){t.seq.push(r),t.map[r.id]=r}class s0{constructor(t,r){this.seq=[],this.map={};let i=t.getProgramParameter(r,t.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){let i=t.getActiveUniform(r,s),u=t.getUniformLocation(r,i.name);!function(t,r,i){let s=t.name,u=s.length;for(sq.lastIndex=0;;){let c=sq.exec(s),h=sq.lastIndex,f=c[1],p="]"===c[2],v=c[3];if(p&&(f|=0),void 0===v||"["===v&&h+2===u){s$(i,void 0===v?new sK(f,t,r):new sJ(f,t,r));break}{let t=i.map[f];void 0===t&&s$(i,t=new sQ(f)),i=t}}}(i,u,this)}}setValue(t,r,i,s){let u=this.map[r];void 0!==u&&u.setValue(t,i,s)}setOptional(t,r,i){let s=r[i];void 0!==s&&this.setValue(t,i,s)}static upload(t,r,i,s){for(let u=0,c=r.length;u!==c;++u){let c=r[u],h=i[c.id];!1!==h.needsUpdate&&c.setValue(t,h.value,s)}}static seqWithValue(t,r){let i=[];for(let s=0,u=t.length;s!==u;++s){let u=t[s];u.id in r&&i.push(u)}return i}}function s1(t,r,i){let s=t.createShader(r);return t.shaderSource(s,i),t.compileShader(s),s}let s2=0,s3=new rG;function s5(t,r,i){let s=t.getShaderParameter(r,t.COMPILE_STATUS),u=t.getShaderInfoLog(r).trim();if(s&&""===u)return"";let c=/ERROR: 0:(\d+)/.exec(u);if(!c)return u;{let s=parseInt(c[1]);return i.toUpperCase()+"\n\n"+u+"\n\n"+function(t,r){let i=t.split("\n"),s=[],u=Math.max(r-6,0),c=Math.min(r+6,i.length);for(let t=u;t<c;t++){let u=t+1;s.push(`${u===r?">":" "} ${u}: ${i[t]}`)}return s.join("\n")}(t.getShaderSource(r),s)}}let s4=new iu;function s9(t){return""!==t}function s8(t,r){let i=r.numSpotLightShadows+r.numSpotLightMaps-r.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,r.numDirLights).replace(/NUM_SPOT_LIGHTS/g,r.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,r.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,r.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,r.numPointLights).replace(/NUM_HEMI_LIGHTS/g,r.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,r.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,r.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,r.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,r.numPointLightShadows)}function s6(t,r){return t.replace(/NUM_CLIPPING_PLANES/g,r.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,r.numClippingPlanes-r.numClipIntersection)}let s7=/^[ \t]*#include +<([\w\d./]+)>/gm;function le(t){return t.replace(s7,ln)}let lt=new Map;function ln(t,r){let i=oA[r];if(void 0===i){let t=lt.get(r);if(void 0!==t)i=oA[t];else throw Error("Can not resolve #include <"+r+">")}return le(i)}let lr=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function li(t){return t.replace(lr,la)}function la(t,r,i,s){let u="";for(let t=parseInt(r);t<parseInt(i);t++)u+=s.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return u}function lo(t){let r=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return"highp"===t.precision?r+="\n#define HIGH_PRECISION":"mediump"===t.precision?r+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(r+="\n#define LOW_PRECISION"),r}function ls(t,r,i,s){var u,c,h;let f,p,v,y,x,_;let b=t.getContext(),w=i.defines,S=i.vertexShader,A=i.fragmentShader;let M=(x="SHADOWMAP_TYPE_BASIC",(u=i).shadowMapType===eI?x="SHADOWMAP_TYPE_PCF":u.shadowMapType===eD?x="SHADOWMAP_TYPE_PCF_SOFT":u.shadowMapType===eR&&(x="SHADOWMAP_TYPE_VSM"),x),C=function(t){let r="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case tx:case t_:r="ENVMAP_TYPE_CUBE";break;case tS:r="ENVMAP_TYPE_CUBE_UV"}return r}(i);let T=(_="ENVMAP_MODE_REFLECTION",(c=i).envMap&&c.envMapMode===t_&&(_="ENVMAP_MODE_REFRACTION"),_),I=function(t){let r="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case ta:r="ENVMAP_BLENDING_MULTIPLY";break;case to:r="ENVMAP_BLENDING_MIX";break;case ts:r="ENVMAP_BLENDING_ADD"}return r}(i),D=function(t){let r=t.envMapCubeUVHeight;if(null===r)return null;let i=Math.log2(r)-2;return{texelWidth:1/(3*Math.max(Math.pow(2,i),112)),texelHeight:1/r,maxMip:i}}(i);let R=[(h=i).extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",h.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(s9).join("\n"),P=function(t){let r=[];for(let i in t){let s=t[i];!1!==s&&r.push("#define "+i+" "+s)}return r.join("\n")}(w),L=b.createProgram(),B=i.glslVersion?"#version "+i.glslVersion+"\n":"";i.isRawShaderMaterial?((f=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,P].filter(s9).join("\n")).length>0&&(f+="\n"),(p=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,P].filter(s9).join("\n")).length>0&&(p+="\n")):(f=[lo(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,P,i.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",i.batching?"#define USE_BATCHING":"",i.batchingColor?"#define USE_BATCHING_COLOR":"",i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.instancingMorph?"#define USE_INSTANCING_MORPH":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+T:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.displacementMap?"#define USE_DISPLACEMENTMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.mapUv?"#define MAP_UV "+i.mapUv:"",i.alphaMapUv?"#define ALPHAMAP_UV "+i.alphaMapUv:"",i.lightMapUv?"#define LIGHTMAP_UV "+i.lightMapUv:"",i.aoMapUv?"#define AOMAP_UV "+i.aoMapUv:"",i.emissiveMapUv?"#define EMISSIVEMAP_UV "+i.emissiveMapUv:"",i.bumpMapUv?"#define BUMPMAP_UV "+i.bumpMapUv:"",i.normalMapUv?"#define NORMALMAP_UV "+i.normalMapUv:"",i.displacementMapUv?"#define DISPLACEMENTMAP_UV "+i.displacementMapUv:"",i.metalnessMapUv?"#define METALNESSMAP_UV "+i.metalnessMapUv:"",i.roughnessMapUv?"#define ROUGHNESSMAP_UV "+i.roughnessMapUv:"",i.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+i.anisotropyMapUv:"",i.clearcoatMapUv?"#define CLEARCOATMAP_UV "+i.clearcoatMapUv:"",i.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+i.clearcoatNormalMapUv:"",i.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+i.clearcoatRoughnessMapUv:"",i.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+i.iridescenceMapUv:"",i.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+i.iridescenceThicknessMapUv:"",i.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+i.sheenColorMapUv:"",i.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+i.sheenRoughnessMapUv:"",i.specularMapUv?"#define SPECULARMAP_UV "+i.specularMapUv:"",i.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+i.specularColorMapUv:"",i.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+i.specularIntensityMapUv:"",i.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+i.transmissionMapUv:"",i.thicknessMapUv?"#define THICKNESSMAP_UV "+i.thicknessMapUv:"",i.vertexTangents&&!1===i.flatShading?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.morphColors?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+M:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(s9).join("\n"),p=[lo(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,P,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+C:"",i.envMap?"#define "+T:"",i.envMap?"#define "+I:"",D?"#define CUBEUV_TEXEL_WIDTH "+D.texelWidth:"",D?"#define CUBEUV_TEXEL_HEIGHT "+D.texelHeight:"",D?"#define CUBEUV_MAX_MIP "+D.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.dispersion?"#define USE_DISPERSION":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.vertexTangents&&!1===i.flatShading?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor||i.batchingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+M:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==tl?"#define TONE_MAPPING":"",i.toneMapping!==tl?oA.tonemapping_pars_fragment:"",i.toneMapping!==tl?function(t,r){let i;switch(r){case tu:i="Linear";break;case tc:i="Reinhard";break;case th:i="Cineon";break;case td:i="ACESFilmic";break;case tp:i="AgX";break;case tg:i="Neutral";break;case tf:i="Custom";break;default:i="Linear"}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",oA.colorspace_pars_fragment,function(t,r){let i=function(t){rJ._getMatrix(s3,rJ.workingColorSpace,t);let r=`mat3( ${s3.elements.map(t=>t.toFixed(4))} )`;switch(rJ.getTransfer(t)){case n$:return[r,"LinearTransferOETF"];case n0:return[r,"sRGBTransferOETF"];default:return[r,"LinearTransferOETF"]}}(r);return`vec4 ${t}( vec4 value ) {
	return ${i[1]}( vec4( value.rgb * ${i[0]}, value.a ) );
}`}("linearToOutputTexel",i.outputColorSpace),function(){rJ.getLuminanceCoefficients(s4);let t=s4.x.toFixed(4),r=s4.y.toFixed(4),i=s4.z.toFixed(4);return`float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( ${t}, ${r}, ${i} );
	return dot( weights, rgb );
}`}(),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(s9).join("\n")),S=s6(S=s8(S=le(S),i),i),A=s6(A=s8(A=le(A),i),i),S=li(S),A=li(A),!0!==i.isRawShaderMaterial&&(B="#version 300 es\n",f=[R,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+f,p=["#define varying in",i.glslVersion===rM?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===rM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+p);let k=B+f+S,O=B+p+A,N=s1(b,b.VERTEX_SHADER,k),F=s1(b,b.FRAGMENT_SHADER,O);function U(r){if(t.debug.checkShaderErrors){let i=b.getProgramInfoLog(L).trim(),s=b.getShaderInfoLog(N).trim(),u=b.getShaderInfoLog(F).trim(),c=!0,h=!0;!1===b.getProgramParameter(L,b.LINK_STATUS)?(c=!1,"function"==typeof t.debug.onShaderError?t.debug.onShaderError(b,L,N,F):(s5(b,N,"vertex"),s5(b,F,"fragment"))):""!==i||(""===s||""===u)&&(h=!1),h&&(r.diagnostics={runnable:c,programLog:i,vertexShader:{log:s,prefix:f},fragmentShader:{log:u,prefix:p}})}b.deleteShader(N),b.deleteShader(F),v=new s0(b,L),y=function(t,r){let i={},s=t.getProgramParameter(r,t.ACTIVE_ATTRIBUTES);for(let u=0;u<s;u++){let s=t.getActiveAttrib(r,u),c=s.name,h=1;s.type===t.FLOAT_MAT2&&(h=2),s.type===t.FLOAT_MAT3&&(h=3),s.type===t.FLOAT_MAT4&&(h=4),i[c]={type:s.type,location:t.getAttribLocation(r,c),locationSize:h}}return i}(b,L)}b.attachShader(L,N),b.attachShader(L,F),void 0!==i.index0AttributeName?b.bindAttribLocation(L,0,i.index0AttributeName):!0===i.morphTargets&&b.bindAttribLocation(L,0,"position"),b.linkProgram(L),this.getUniforms=function(){return void 0===v&&U(this),v},this.getAttributes=function(){return void 0===y&&U(this),y};let z=!1===i.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===z&&(z=b.getProgramParameter(L,37297)),z},this.destroy=function(){s.releaseStatesOfProgram(this),b.deleteProgram(L),this.program=void 0},this.type=i.shaderType,this.name=i.shaderName,this.id=s2++,this.cacheKey=r,this.usedTimes=1,this.program=L,this.vertexShader=N,this.fragmentShader=F,this}let ll=0;class lu{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){let r=t.vertexShader,i=t.fragmentShader,s=this._getShaderStage(r),u=this._getShaderStage(i),c=this._getShaderCacheForMaterial(t);return!1===c.has(s)&&(c.add(s),s.usedTimes++),!1===c.has(u)&&(c.add(u),u.usedTimes++),this}remove(t){for(let r of this.materialCache.get(t))r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){let r=this.materialCache,i=r.get(t);return void 0===i&&(i=new Set,r.set(t,i)),i}_getShaderStage(t){let r=this.shaderCache,i=r.get(t);return void 0===i&&(i=new lc(t),r.set(t,i)),i}}class lc{constructor(t){this.id=ll++,this.code=t,this.usedTimes=0}}function lh(t,r,i,s,u,c,h){let f=new iQ,p=new lu,v=new Set,y=[],x=u.logarithmicDepthBuffer,_=u.vertexTextures,b=u.precision,w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(t){return(v.add(t),0===t)?"uv":`uv${t}`}return{getParameters:function(c,f,y,A,M){let C,T,I,D;let R=A.fog,P=M.geometry,L=c.isMeshStandardMaterial?A.environment:null,B=(c.isMeshStandardMaterial?i:r).get(c.envMap||L),k=B&&B.mapping===tS?B.image.height:null,O=w[c.type];null!==c.precision&&(b=u.getMaxPrecision(c.precision),c.precision);let N=P.morphAttributes.position||P.morphAttributes.normal||P.morphAttributes.color,F=void 0!==N?N.length:0,U=0;if(void 0!==P.morphAttributes.position&&(U=1),void 0!==P.morphAttributes.normal&&(U=2),void 0!==P.morphAttributes.color&&(U=3),O){let t=oC[O];C=t.vertexShader,T=t.fragmentShader}else C=c.vertexShader,T=c.fragmentShader,p.update(c),I=p.getVertexShaderID(c),D=p.getFragmentShaderID(c);let z=t.getRenderTarget(),G=t.state.buffers.depth.getReversed(),H=!0===M.isInstancedMesh,V=!0===M.isBatchedMesh,j=!!c.map,W=!!c.matcap,X=!!B,Y=!!c.aoMap,Z=!!c.lightMap,K=!!c.bumpMap,J=!!c.normalMap,Q=!!c.displacementMap,q=!!c.emissiveMap,$=!!c.metalnessMap,ee=!!c.roughnessMap,et=c.anisotropy>0,en=c.clearcoat>0,er=c.dispersion>0,ei=c.iridescence>0,ea=c.sheen>0,eo=c.transmission>0,es=et&&!!c.anisotropyMap,el=en&&!!c.clearcoatMap,eu=en&&!!c.clearcoatNormalMap,ec=en&&!!c.clearcoatRoughnessMap,eh=ei&&!!c.iridescenceMap,ed=ei&&!!c.iridescenceThicknessMap,ef=ea&&!!c.sheenColorMap,ep=ea&&!!c.sheenRoughnessMap,eg=!!c.specularMap,em=!!c.specularColorMap,ev=!!c.specularIntensityMap,ey=eo&&!!c.transmissionMap,ex=eo&&!!c.thicknessMap,e_=!!c.gradientMap,eb=!!c.alphaMap,ew=c.alphaTest>0,eS=!!c.alphaHash,eA=!!c.extensions,eM=tl;c.toneMapped&&(null===z||!0===z.isXRRenderTarget)&&(eM=t.toneMapping);let eC={shaderID:O,shaderType:c.type,shaderName:c.name,vertexShader:C,fragmentShader:T,defines:c.defines,customVertexShaderID:I,customFragmentShaderID:D,isRawShaderMaterial:!0===c.isRawShaderMaterial,glslVersion:c.glslVersion,precision:b,batching:V,batchingColor:V&&null!==M._colorsTexture,instancing:H,instancingColor:H&&null!==M.instanceColor,instancingMorph:H&&null!==M.morphTexture,supportsVertexTextures:_,outputColorSpace:null===z?t.outputColorSpace:!0===z.isXRRenderTarget?z.texture.colorSpace:nq,alphaToCoverage:!!c.alphaToCoverage,map:j,matcap:W,envMap:X,envMapMode:X&&B.mapping,envMapCubeUVHeight:k,aoMap:Y,lightMap:Z,bumpMap:K,normalMap:J,displacementMap:_&&Q,emissiveMap:q,normalMapObjectSpace:J&&c.normalMapType===nK,normalMapTangentSpace:J&&c.normalMapType===nZ,metalnessMap:$,roughnessMap:ee,anisotropy:et,anisotropyMap:es,clearcoat:en,clearcoatMap:el,clearcoatNormalMap:eu,clearcoatRoughnessMap:ec,dispersion:er,iridescence:ei,iridescenceMap:eh,iridescenceThicknessMap:ed,sheen:ea,sheenColorMap:ef,sheenRoughnessMap:ep,specularMap:eg,specularColorMap:em,specularIntensityMap:ev,transmission:eo,transmissionMap:ey,thicknessMap:ex,gradientMap:e_,opaque:!1===c.transparent&&c.blending===eO&&!1===c.alphaToCoverage,alphaMap:eb,alphaTest:ew,alphaHash:eS,combine:c.combine,mapUv:j&&S(c.map.channel),aoMapUv:Y&&S(c.aoMap.channel),lightMapUv:Z&&S(c.lightMap.channel),bumpMapUv:K&&S(c.bumpMap.channel),normalMapUv:J&&S(c.normalMap.channel),displacementMapUv:Q&&S(c.displacementMap.channel),emissiveMapUv:q&&S(c.emissiveMap.channel),metalnessMapUv:$&&S(c.metalnessMap.channel),roughnessMapUv:ee&&S(c.roughnessMap.channel),anisotropyMapUv:es&&S(c.anisotropyMap.channel),clearcoatMapUv:el&&S(c.clearcoatMap.channel),clearcoatNormalMapUv:eu&&S(c.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ec&&S(c.clearcoatRoughnessMap.channel),iridescenceMapUv:eh&&S(c.iridescenceMap.channel),iridescenceThicknessMapUv:ed&&S(c.iridescenceThicknessMap.channel),sheenColorMapUv:ef&&S(c.sheenColorMap.channel),sheenRoughnessMapUv:ep&&S(c.sheenRoughnessMap.channel),specularMapUv:eg&&S(c.specularMap.channel),specularColorMapUv:em&&S(c.specularColorMap.channel),specularIntensityMapUv:ev&&S(c.specularIntensityMap.channel),transmissionMapUv:ey&&S(c.transmissionMap.channel),thicknessMapUv:ex&&S(c.thicknessMap.channel),alphaMapUv:eb&&S(c.alphaMap.channel),vertexTangents:!!P.attributes.tangent&&(J||et),vertexColors:c.vertexColors,vertexAlphas:!0===c.vertexColors&&!!P.attributes.color&&4===P.attributes.color.itemSize,pointsUvs:!0===M.isPoints&&!!P.attributes.uv&&(j||eb),fog:!!R,useFog:!0===c.fog,fogExp2:!!R&&R.isFogExp2,flatShading:!0===c.flatShading,sizeAttenuation:!0===c.sizeAttenuation,logarithmicDepthBuffer:x,reverseDepthBuffer:G,skinning:!0===M.isSkinnedMesh,morphTargets:void 0!==P.morphAttributes.position,morphNormals:void 0!==P.morphAttributes.normal,morphColors:void 0!==P.morphAttributes.color,morphTargetsCount:F,morphTextureStride:U,numDirLights:f.directional.length,numPointLights:f.point.length,numSpotLights:f.spot.length,numSpotLightMaps:f.spotLightMap.length,numRectAreaLights:f.rectArea.length,numHemiLights:f.hemi.length,numDirLightShadows:f.directionalShadowMap.length,numPointLightShadows:f.pointShadowMap.length,numSpotLightShadows:f.spotShadowMap.length,numSpotLightShadowsWithMaps:f.numSpotLightShadowsWithMaps,numLightProbes:f.numLightProbes,numClippingPlanes:h.numPlanes,numClipIntersection:h.numIntersection,dithering:c.dithering,shadowMapEnabled:t.shadowMap.enabled&&y.length>0,shadowMapType:t.shadowMap.type,toneMapping:eM,decodeVideoTexture:j&&!0===c.map.isVideoTexture&&rJ.getTransfer(c.map.colorSpace)===n0,decodeVideoTextureEmissive:q&&!0===c.emissiveMap.isVideoTexture&&rJ.getTransfer(c.emissiveMap.colorSpace)===n0,premultipliedAlpha:c.premultipliedAlpha,doubleSided:c.side===eB,flipSided:c.side===eL,useDepthPacking:c.depthPacking>=0,depthPacking:c.depthPacking||0,index0AttributeName:c.index0AttributeName,extensionClipCullDistance:eA&&!0===c.extensions.clipCullDistance&&s.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(eA&&!0===c.extensions.multiDraw||V)&&s.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:s.has("KHR_parallel_shader_compile"),customProgramCacheKey:c.customProgramCacheKey()};return eC.vertexUv1s=v.has(1),eC.vertexUv2s=v.has(2),eC.vertexUv3s=v.has(3),v.clear(),eC},getProgramCacheKey:function(r){let i=[];if(r.shaderID?i.push(r.shaderID):(i.push(r.customVertexShaderID),i.push(r.customFragmentShaderID)),void 0!==r.defines)for(let t in r.defines)i.push(t),i.push(r.defines[t]);return!1===r.isRawShaderMaterial&&(function(t,r){t.push(r.precision),t.push(r.outputColorSpace),t.push(r.envMapMode),t.push(r.envMapCubeUVHeight),t.push(r.mapUv),t.push(r.alphaMapUv),t.push(r.lightMapUv),t.push(r.aoMapUv),t.push(r.bumpMapUv),t.push(r.normalMapUv),t.push(r.displacementMapUv),t.push(r.emissiveMapUv),t.push(r.metalnessMapUv),t.push(r.roughnessMapUv),t.push(r.anisotropyMapUv),t.push(r.clearcoatMapUv),t.push(r.clearcoatNormalMapUv),t.push(r.clearcoatRoughnessMapUv),t.push(r.iridescenceMapUv),t.push(r.iridescenceThicknessMapUv),t.push(r.sheenColorMapUv),t.push(r.sheenRoughnessMapUv),t.push(r.specularMapUv),t.push(r.specularColorMapUv),t.push(r.specularIntensityMapUv),t.push(r.transmissionMapUv),t.push(r.thicknessMapUv),t.push(r.combine),t.push(r.fogExp2),t.push(r.sizeAttenuation),t.push(r.morphTargetsCount),t.push(r.morphAttributeCount),t.push(r.numDirLights),t.push(r.numPointLights),t.push(r.numSpotLights),t.push(r.numSpotLightMaps),t.push(r.numHemiLights),t.push(r.numRectAreaLights),t.push(r.numDirLightShadows),t.push(r.numPointLightShadows),t.push(r.numSpotLightShadows),t.push(r.numSpotLightShadowsWithMaps),t.push(r.numLightProbes),t.push(r.shadowMapType),t.push(r.toneMapping),t.push(r.numClippingPlanes),t.push(r.numClipIntersection),t.push(r.depthPacking)}(i,r),function(t,r){f.disableAll(),r.supportsVertexTextures&&f.enable(0),r.instancing&&f.enable(1),r.instancingColor&&f.enable(2),r.instancingMorph&&f.enable(3),r.matcap&&f.enable(4),r.envMap&&f.enable(5),r.normalMapObjectSpace&&f.enable(6),r.normalMapTangentSpace&&f.enable(7),r.clearcoat&&f.enable(8),r.iridescence&&f.enable(9),r.alphaTest&&f.enable(10),r.vertexColors&&f.enable(11),r.vertexAlphas&&f.enable(12),r.vertexUv1s&&f.enable(13),r.vertexUv2s&&f.enable(14),r.vertexUv3s&&f.enable(15),r.vertexTangents&&f.enable(16),r.anisotropy&&f.enable(17),r.alphaHash&&f.enable(18),r.batching&&f.enable(19),r.dispersion&&f.enable(20),r.batchingColor&&f.enable(21),t.push(f.mask),f.disableAll(),r.fog&&f.enable(0),r.useFog&&f.enable(1),r.flatShading&&f.enable(2),r.logarithmicDepthBuffer&&f.enable(3),r.reverseDepthBuffer&&f.enable(4),r.skinning&&f.enable(5),r.morphTargets&&f.enable(6),r.morphNormals&&f.enable(7),r.morphColors&&f.enable(8),r.premultipliedAlpha&&f.enable(9),r.shadowMapEnabled&&f.enable(10),r.doubleSided&&f.enable(11),r.flipSided&&f.enable(12),r.useDepthPacking&&f.enable(13),r.dithering&&f.enable(14),r.transmission&&f.enable(15),r.sheen&&f.enable(16),r.opaque&&f.enable(17),r.pointsUvs&&f.enable(18),r.decodeVideoTexture&&f.enable(19),r.decodeVideoTextureEmissive&&f.enable(20),r.alphaToCoverage&&f.enable(21),t.push(f.mask)}(i,r),i.push(t.outputColorSpace)),i.push(r.customProgramCacheKey),i.join()},getUniforms:function(t){let r;let i=w[t.type];if(i){let t=oC[i];r=oi.clone(t.uniforms)}else r=t.uniforms;return r},acquireProgram:function(r,i){let s;for(let t=0,r=y.length;t<r;t++){let r=y[t];if(r.cacheKey===i){s=r,++s.usedTimes;break}}return void 0===s&&(s=new ls(t,i,r,c),y.push(s)),s},releaseProgram:function(t){if(0==--t.usedTimes){let r=y.indexOf(t);y[r]=y[y.length-1],y.pop(),t.destroy()}},releaseShaderCache:function(t){p.remove(t)},programs:y,dispose:function(){p.dispose()}}}function ld(){let t=new WeakMap;return{has:function(r){return t.has(r)},get:function(r){let i=t.get(r);return void 0===i&&(i={},t.set(r,i)),i},remove:function(r){t.delete(r)},update:function(r,i,s){t.get(r)[i]=s},dispose:function(){t=new WeakMap}}}function lf(t,r){if(t.groupOrder!==r.groupOrder)return t.groupOrder-r.groupOrder;if(t.renderOrder!==r.renderOrder)return t.renderOrder-r.renderOrder;if(t.material.id!==r.material.id)return t.material.id-r.material.id;else if(t.z!==r.z)return t.z-r.z;else return t.id-r.id}function lp(t,r){if(t.groupOrder!==r.groupOrder)return t.groupOrder-r.groupOrder;if(t.renderOrder!==r.renderOrder)return t.renderOrder-r.renderOrder;if(t.z!==r.z)return r.z-t.z;else return t.id-r.id}function lg(){let t=[],r=0,i=[],s=[],u=[];function c(i,s,u,c,h,f){let p=t[r];return void 0===p?(p={id:i.id,object:i,geometry:s,material:u,groupOrder:c,renderOrder:i.renderOrder,z:h,group:f},t[r]=p):(p.id=i.id,p.object=i,p.geometry=s,p.material=u,p.groupOrder=c,p.renderOrder=i.renderOrder,p.z=h,p.group=f),r++,p}return{opaque:i,transmissive:s,transparent:u,init:function(){r=0,i.length=0,s.length=0,u.length=0},push:function(t,r,h,f,p,v){let y=c(t,r,h,f,p,v);h.transmission>0?s.push(y):!0===h.transparent?u.push(y):i.push(y)},unshift:function(t,r,h,f,p,v){let y=c(t,r,h,f,p,v);h.transmission>0?s.unshift(y):!0===h.transparent?u.unshift(y):i.unshift(y)},finish:function(){for(let i=r,s=t.length;i<s;i++){let r=t[i];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.group=null}},sort:function(t,r){i.length>1&&i.sort(t||lf),s.length>1&&s.sort(r||lp),u.length>1&&u.sort(r||lp)}}}function lm(){let t=new WeakMap;return{get:function(r,i){let s;let u=t.get(r);return void 0===u?(s=new lg,t.set(r,[s])):i>=u.length?(s=new lg,u.push(s)):s=u[i],s},dispose:function(){t=new WeakMap}}}function lv(){let t={};return{get:function(r){let i;if(void 0!==t[r.id])return t[r.id];switch(r.type){case"DirectionalLight":i={direction:new iu,color:new aw};break;case"SpotLight":i={position:new iu,direction:new iu,color:new aw,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new iu,color:new aw,distance:0,decay:0};break;case"HemisphereLight":i={direction:new iu,skyColor:new aw,groundColor:new aw};break;case"RectAreaLight":i={color:new aw,position:new iu,halfWidth:new iu,halfHeight:new iu}}return t[r.id]=i,i}}}let ly=0;function lx(t,r){return(r.castShadow?2:0)-(t.castShadow?2:0)+(r.map?1:0)-(t.map?1:0)}function l_(t){let r=new lv,i=function(){let t={};return{get:function(r){let i;if(void 0!==t[r.id])return t[r.id];switch(r.type){case"DirectionalLight":case"SpotLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rz};break;case"PointLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rz,shadowCameraNear:1,shadowCameraFar:1e3}}return t[r.id]=i,i}}}(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let t=0;t<9;t++)s.probe.push(new iu);let u=new iu,c=new iz,h=new iz;return{setup:function(u){let c=0,h=0,f=0;for(let t=0;t<9;t++)s.probe[t].set(0,0,0);let p=0,v=0,y=0,x=0,_=0,b=0,w=0,S=0,A=0,M=0,C=0;u.sort(lx);for(let t=0,T=u.length;t<T;t++){let T=u[t],I=T.color,D=T.intensity,R=T.distance,P=T.shadow&&T.shadow.map?T.shadow.map.texture:null;if(T.isAmbientLight)c+=I.r*D,h+=I.g*D,f+=I.b*D;else if(T.isLightProbe){for(let t=0;t<9;t++)s.probe[t].addScaledVector(T.sh.coefficients[t],D);C++}else if(T.isDirectionalLight){let t=r.get(T);if(t.color.copy(T.color).multiplyScalar(T.intensity),T.castShadow){let t=T.shadow,r=i.get(T);r.shadowIntensity=t.intensity,r.shadowBias=t.bias,r.shadowNormalBias=t.normalBias,r.shadowRadius=t.radius,r.shadowMapSize=t.mapSize,s.directionalShadow[p]=r,s.directionalShadowMap[p]=P,s.directionalShadowMatrix[p]=T.shadow.matrix,b++}s.directional[p]=t,p++}else if(T.isSpotLight){let t=r.get(T);t.position.setFromMatrixPosition(T.matrixWorld),t.color.copy(I).multiplyScalar(D),t.distance=R,t.coneCos=Math.cos(T.angle),t.penumbraCos=Math.cos(T.angle*(1-T.penumbra)),t.decay=T.decay,s.spot[y]=t;let u=T.shadow;if(T.map&&(s.spotLightMap[A]=T.map,A++,u.updateMatrices(T),T.castShadow&&M++),s.spotLightMatrix[y]=u.matrix,T.castShadow){let t=i.get(T);t.shadowIntensity=u.intensity,t.shadowBias=u.bias,t.shadowNormalBias=u.normalBias,t.shadowRadius=u.radius,t.shadowMapSize=u.mapSize,s.spotShadow[y]=t,s.spotShadowMap[y]=P,S++}y++}else if(T.isRectAreaLight){let t=r.get(T);t.color.copy(I).multiplyScalar(D),t.halfWidth.set(.5*T.width,0,0),t.halfHeight.set(0,.5*T.height,0),s.rectArea[x]=t,x++}else if(T.isPointLight){let t=r.get(T);if(t.color.copy(T.color).multiplyScalar(T.intensity),t.distance=T.distance,t.decay=T.decay,T.castShadow){let t=T.shadow,r=i.get(T);r.shadowIntensity=t.intensity,r.shadowBias=t.bias,r.shadowNormalBias=t.normalBias,r.shadowRadius=t.radius,r.shadowMapSize=t.mapSize,r.shadowCameraNear=t.camera.near,r.shadowCameraFar=t.camera.far,s.pointShadow[v]=r,s.pointShadowMap[v]=P,s.pointShadowMatrix[v]=T.shadow.matrix,w++}s.point[v]=t,v++}else if(T.isHemisphereLight){let t=r.get(T);t.skyColor.copy(T.color).multiplyScalar(D),t.groundColor.copy(T.groundColor).multiplyScalar(D),s.hemi[_]=t,_++}}x>0&&(!0===t.has("OES_texture_float_linear")?(s.rectAreaLTC1=oM.LTC_FLOAT_1,s.rectAreaLTC2=oM.LTC_FLOAT_2):(s.rectAreaLTC1=oM.LTC_HALF_1,s.rectAreaLTC2=oM.LTC_HALF_2)),s.ambient[0]=c,s.ambient[1]=h,s.ambient[2]=f;let T=s.hash;(T.directionalLength!==p||T.pointLength!==v||T.spotLength!==y||T.rectAreaLength!==x||T.hemiLength!==_||T.numDirectionalShadows!==b||T.numPointShadows!==w||T.numSpotShadows!==S||T.numSpotMaps!==A||T.numLightProbes!==C)&&(s.directional.length=p,s.spot.length=y,s.rectArea.length=x,s.point.length=v,s.hemi.length=_,s.directionalShadow.length=b,s.directionalShadowMap.length=b,s.pointShadow.length=w,s.pointShadowMap.length=w,s.spotShadow.length=S,s.spotShadowMap.length=S,s.directionalShadowMatrix.length=b,s.pointShadowMatrix.length=w,s.spotLightMatrix.length=S+A-M,s.spotLightMap.length=A,s.numSpotLightShadowsWithMaps=M,s.numLightProbes=C,T.directionalLength=p,T.pointLength=v,T.spotLength=y,T.rectAreaLength=x,T.hemiLength=_,T.numDirectionalShadows=b,T.numPointShadows=w,T.numSpotShadows=S,T.numSpotMaps=A,T.numLightProbes=C,s.version=ly++)},setupView:function(t,r){let i=0,f=0,p=0,v=0,y=0,x=r.matrixWorldInverse;for(let r=0,_=t.length;r<_;r++){let _=t[r];if(_.isDirectionalLight){let t=s.directional[i];t.direction.setFromMatrixPosition(_.matrixWorld),u.setFromMatrixPosition(_.target.matrixWorld),t.direction.sub(u),t.direction.transformDirection(x),i++}else if(_.isSpotLight){let t=s.spot[p];t.position.setFromMatrixPosition(_.matrixWorld),t.position.applyMatrix4(x),t.direction.setFromMatrixPosition(_.matrixWorld),u.setFromMatrixPosition(_.target.matrixWorld),t.direction.sub(u),t.direction.transformDirection(x),p++}else if(_.isRectAreaLight){let t=s.rectArea[v];t.position.setFromMatrixPosition(_.matrixWorld),t.position.applyMatrix4(x),h.identity(),c.copy(_.matrixWorld),c.premultiply(x),h.extractRotation(c),t.halfWidth.set(.5*_.width,0,0),t.halfHeight.set(0,.5*_.height,0),t.halfWidth.applyMatrix4(h),t.halfHeight.applyMatrix4(h),v++}else if(_.isPointLight){let t=s.point[f];t.position.setFromMatrixPosition(_.matrixWorld),t.position.applyMatrix4(x),f++}else if(_.isHemisphereLight){let t=s.hemi[y];t.direction.setFromMatrixPosition(_.matrixWorld),t.direction.transformDirection(x),y++}}},state:s}}function lb(t){let r=new l_(t),i=[],s=[],u={lightsArray:i,shadowsArray:s,camera:null,lights:r,transmissionRenderTarget:{}};return{init:function(t){u.camera=t,i.length=0,s.length=0},state:u,setupLights:function(){r.setup(i)},setupLightsView:function(t){r.setupView(i,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){s.push(t)}}}function lw(t){let r=new WeakMap;return{get:function(i,s=0){let u;let c=r.get(i);return void 0===c?(u=new lb(t),r.set(i,[u])):s>=c.length?(u=new lb(t),c.push(u)):u=c[s],u},dispose:function(){r=new WeakMap}}}class lS extends aM{static get type(){return"MeshDepthMaterial"}constructor(t){super(),this.isMeshDepthMaterial=!0,this.depthPacking=nj,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class lA extends aM{static get type(){return"MeshDistanceMaterial"}constructor(t){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function lM(t,r,i){let s=new o_,u=new rz,c=new rz,h=new ie,f=new lS({depthPacking:nW}),p=new lA,v={},y=i.maxTextureSize,x={[eP]:eL,[eL]:eP,[eB]:eB},_=new oa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new rz},radius:{value:4}},vertexShader:"void main() {\n	gl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n	const float samples = float( VSM_SAMPLES );\n	float mean = 0.0;\n	float squared_mean = 0.0;\n	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n	for ( float i = 0.0; i < samples; i ++ ) {\n		float uvOffset = uvStart + i * uvStride;\n		#ifdef HORIZONTAL_PASS\n			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n			mean += distribution.x;\n			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n		#else\n			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n			mean += depth;\n			squared_mean += depth * depth;\n		#endif\n	}\n	mean = mean / samples;\n	squared_mean = squared_mean / samples;\n	float std_dev = sqrt( squared_mean - mean * mean );\n	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),b=_.clone();b.defines.HORIZONTAL_PASS=1;let w=new aJ;w.setAttribute("position",new aL(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let S=new a6(w,_),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=eI;let M=this.type;this.render=function(i,f,p){if(!1===A.enabled||!1===A.autoUpdate&&!1===A.needsUpdate||0===i.length)return;let v=t.getRenderTarget(),x=t.getActiveCubeFace(),w=t.getActiveMipmapLevel(),T=t.state;T.setBlending(ek),T.buffers.color.setClear(1,1,1,1),T.buffers.depth.setTest(!0),T.setScissorTest(!1);let I=M!==eR&&this.type===eR,D=M===eR&&this.type!==eR;for(let v=0,x=i.length;v<x;v++){let x=i[v],w=x.shadow;if(void 0===w||!1===w.autoUpdate&&!1===w.needsUpdate)continue;u.copy(w.mapSize);let A=w.getFrameExtents();if(u.multiply(A),c.copy(w.mapSize),(u.x>y||u.y>y)&&(u.x>y&&(c.x=Math.floor(y/A.x),u.x=c.x*A.x,w.mapSize.x=c.x),u.y>y&&(c.y=Math.floor(y/A.y),u.y=c.y*A.y,w.mapSize.y=c.y)),null===w.map||!0===I||!0===D){let t=this.type!==eR?{minFilter:tT,magFilter:tT}:{};null!==w.map&&w.map.dispose(),w.map=new ir(u.x,u.y,t),w.map.texture.name=x.name+".shadowMap",w.camera.updateProjectionMatrix()}t.setRenderTarget(w.map),t.clear();let M=w.getViewportCount();for(let i=0;i<M;i++){let u=w.getViewport(i);h.set(c.x*u.x,c.y*u.y,c.x*u.z,c.y*u.w),T.viewport(h),w.updateMatrices(x,i),s=w.getFrustum(),function i(u,c,h,f,p){if(!1===u.visible)return;if(u.layers.test(c.layers)&&(u.isMesh||u.isLine||u.isPoints)&&(u.castShadow||u.receiveShadow&&p===eR)&&(!u.frustumCulled||s.intersectsObject(u))){u.modelViewMatrix.multiplyMatrices(h.matrixWorldInverse,u.matrixWorld);let i=r.update(u),s=u.material;if(Array.isArray(s)){let r=i.groups;for(let v=0,y=r.length;v<y;v++){let y=r[v],x=s[y.materialIndex];if(x&&x.visible){let r=C(u,x,f,p);u.onBeforeShadow(t,u,c,h,i,r,y),t.renderBufferDirect(h,null,i,r,u,y),u.onAfterShadow(t,u,c,h,i,r,y)}}}else if(s.visible){let r=C(u,s,f,p);u.onBeforeShadow(t,u,c,h,i,r,null),t.renderBufferDirect(h,null,i,r,u,null),u.onAfterShadow(t,u,c,h,i,r,null)}}let v=u.children;for(let t=0,r=v.length;t<r;t++)i(v[t],c,h,f,p)}(f,p,w.camera,x,this.type)}!0!==w.isPointLightShadow&&this.type===eR&&function(i,s){let c=r.update(S);_.defines.VSM_SAMPLES!==i.blurSamples&&(_.defines.VSM_SAMPLES=i.blurSamples,b.defines.VSM_SAMPLES=i.blurSamples,_.needsUpdate=!0,b.needsUpdate=!0),null===i.mapPass&&(i.mapPass=new ir(u.x,u.y)),_.uniforms.shadow_pass.value=i.map.texture,_.uniforms.resolution.value=i.mapSize,_.uniforms.radius.value=i.radius,t.setRenderTarget(i.mapPass),t.clear(),t.renderBufferDirect(s,null,c,_,S,null),b.uniforms.shadow_pass.value=i.mapPass.texture,b.uniforms.resolution.value=i.mapSize,b.uniforms.radius.value=i.radius,t.setRenderTarget(i.map),t.clear(),t.renderBufferDirect(s,null,c,b,S,null)}(w,p),w.needsUpdate=!1}M=this.type,A.needsUpdate=!1,t.setRenderTarget(v,x,w)};function C(r,i,s,u){let c=null,h=!0===s.isPointLight?r.customDistanceMaterial:r.customDepthMaterial;if(void 0!==h)c=h;else if(c=!0===s.isPointLight?p:f,t.localClippingEnabled&&!0===i.clipShadows&&Array.isArray(i.clippingPlanes)&&0!==i.clippingPlanes.length||i.displacementMap&&0!==i.displacementScale||i.alphaMap&&i.alphaTest>0||i.map&&i.alphaTest>0){let t=c.uuid,r=i.uuid,s=v[t];void 0===s&&(s={},v[t]=s);let u=s[r];void 0===u&&(u=c.clone(),s[r]=u,i.addEventListener("dispose",T)),c=u}return c.visible=i.visible,c.wireframe=i.wireframe,u===eR?c.side=null!==i.shadowSide?i.shadowSide:i.side:c.side=null!==i.shadowSide?i.shadowSide:x[i.side],c.alphaMap=i.alphaMap,c.alphaTest=i.alphaTest,c.map=i.map,c.clipShadows=i.clipShadows,c.clippingPlanes=i.clippingPlanes,c.clipIntersection=i.clipIntersection,c.displacementMap=i.displacementMap,c.displacementScale=i.displacementScale,c.displacementBias=i.displacementBias,c.wireframeLinewidth=i.wireframeLinewidth,c.linewidth=i.linewidth,!0===s.isPointLight&&!0===c.isMeshDistanceMaterial&&(t.properties.get(c).light=s),c}function T(t){for(let r in t.target.removeEventListener("dispose",T),v){let i=v[r],s=t.target.uuid;s in i&&(i[s].dispose(),delete i[s])}}}let lC={[e8]:e6,[e7]:tr,[tt]:ti,[te]:tn,[e6]:e8,[tr]:e7,[ti]:tt,[tn]:te};function lT(t,r){let i=new function(){let r=!1,i=new ie,s=null,u=new ie(0,0,0,0);return{setMask:function(i){s!==i&&!r&&(t.colorMask(i,i,i,i),s=i)},setLocked:function(t){r=t},setClear:function(r,s,c,h,f){!0===f&&(r*=h,s*=h,c*=h),i.set(r,s,c,h),!1===u.equals(i)&&(t.clearColor(r,s,c,h),u.copy(i))},reset:function(){r=!1,s=null,u.set(-1,0,0,0)}}},s=new function(){let i=!1,s=!1,u=null,c=null,h=null;return{setReversed:function(t){if(s!==t){let t=r.get("EXT_clip_control");s?t.clipControlEXT(t.LOWER_LEFT_EXT,t.ZERO_TO_ONE_EXT):t.clipControlEXT(t.LOWER_LEFT_EXT,t.NEGATIVE_ONE_TO_ONE_EXT);let i=h;h=null,this.setClear(i)}s=t},getReversed:function(){return s},setTest:function(r){r?K(t.DEPTH_TEST):J(t.DEPTH_TEST)},setMask:function(r){u!==r&&!i&&(t.depthMask(r),u=r)},setFunc:function(r){if(s&&(r=lC[r]),c!==r){switch(r){case e8:t.depthFunc(t.NEVER);break;case e6:t.depthFunc(t.ALWAYS);break;case e7:t.depthFunc(t.LESS);break;case te:t.depthFunc(t.LEQUAL);break;case tt:t.depthFunc(t.EQUAL);break;case tn:t.depthFunc(t.GEQUAL);break;case tr:t.depthFunc(t.GREATER);break;case ti:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}c=r}},setLocked:function(t){i=t},setClear:function(r){h!==r&&(s&&(r=1-r),t.clearDepth(r),h=r)},reset:function(){i=!1,u=null,c=null,h=null,s=!1}}},u=new function(){let r=!1,i=null,s=null,u=null,c=null,h=null,f=null,p=null,v=null;return{setTest:function(i){!r&&(i?K(t.STENCIL_TEST):J(t.STENCIL_TEST))},setMask:function(s){i!==s&&!r&&(t.stencilMask(s),i=s)},setFunc:function(r,i,h){(s!==r||u!==i||c!==h)&&(t.stencilFunc(r,i,h),s=r,u=i,c=h)},setOp:function(r,i,s){(h!==r||f!==i||p!==s)&&(t.stencilOp(r,i,s),h=r,f=i,p=s)},setLocked:function(t){r=t},setClear:function(r){v!==r&&(t.clearStencil(r),v=r)},reset:function(){r=!1,i=null,s=null,u=null,c=null,h=null,f=null,p=null,v=null}}},c=new WeakMap,h=new WeakMap,f={},p={},v=new WeakMap,y=[],x=null,_=!1,b=null,w=null,S=null,A=null,M=null,C=null,T=null,I=new aw(0,0,0),D=0,R=!1,P=null,L=null,B=null,k=null,O=null,N=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),F=!1,U=0,z=t.getParameter(t.VERSION);-1!==z.indexOf("WebGL")?F=(U=parseFloat(/^WebGL (\d)/.exec(z)[1]))>=1:-1!==z.indexOf("OpenGL ES")&&(F=(U=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]))>=2);let G=null,H={},V=t.getParameter(t.SCISSOR_BOX),j=t.getParameter(t.VIEWPORT),W=new ie().fromArray(V),X=new ie().fromArray(j);function Y(r,i,s,u){let c=new Uint8Array(4),h=t.createTexture();t.bindTexture(r,h),t.texParameteri(r,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(r,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let h=0;h<s;h++)r===t.TEXTURE_3D||r===t.TEXTURE_2D_ARRAY?t.texImage3D(i,0,t.RGBA,1,1,u,0,t.RGBA,t.UNSIGNED_BYTE,c):t.texImage2D(i+h,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,c);return h}let Z={};function K(r){!0!==f[r]&&(t.enable(r),f[r]=!0)}function J(r){!1!==f[r]&&(t.disable(r),f[r]=!1)}Z[t.TEXTURE_2D]=Y(t.TEXTURE_2D,t.TEXTURE_2D,1),Z[t.TEXTURE_CUBE_MAP]=Y(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Z[t.TEXTURE_2D_ARRAY]=Y(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Z[t.TEXTURE_3D]=Y(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),s.setClear(1),u.setClear(0),K(t.DEPTH_TEST),s.setFunc(te),ee(!1),et(eM),K(t.CULL_FACE),$(ek);let Q={[eG]:t.FUNC_ADD,[eH]:t.FUNC_SUBTRACT,[eV]:t.FUNC_REVERSE_SUBTRACT};Q[ej]=t.MIN,Q[eW]=t.MAX;let q={[eX]:t.ZERO,[eY]:t.ONE,[eZ]:t.SRC_COLOR,[eJ]:t.SRC_ALPHA,[e2]:t.SRC_ALPHA_SATURATE,[e0]:t.DST_COLOR,[eq]:t.DST_ALPHA,[eK]:t.ONE_MINUS_SRC_COLOR,[eQ]:t.ONE_MINUS_SRC_ALPHA,[e1]:t.ONE_MINUS_DST_COLOR,[e$]:t.ONE_MINUS_DST_ALPHA,[e3]:t.CONSTANT_COLOR,[e5]:t.ONE_MINUS_CONSTANT_COLOR,[e4]:t.CONSTANT_ALPHA,[e9]:t.ONE_MINUS_CONSTANT_ALPHA};function $(r,i,s,u,c,h,f,p,v,y){if(r===ek){!0===_&&(J(t.BLEND),_=!1);return}if(!1===_&&(K(t.BLEND),_=!0),r!==ez){if(r!==b||y!==R){if((w!==eG||M!==eG)&&(t.blendEquation(t.FUNC_ADD),w=eG,M=eG),y)switch(r){case eO:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case eN:t.blendFunc(t.ONE,t.ONE);break;case eF:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case eU:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)}else switch(r){case eO:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case eN:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case eF:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case eU:t.blendFunc(t.ZERO,t.SRC_COLOR)}S=null,A=null,C=null,T=null,I.set(0,0,0),D=0,b=r,R=y}return}c=c||i,h=h||s,f=f||u,(i!==w||c!==M)&&(t.blendEquationSeparate(Q[i],Q[c]),w=i,M=c),(s!==S||u!==A||h!==C||f!==T)&&(t.blendFuncSeparate(q[s],q[u],q[h],q[f]),S=s,A=u,C=h,T=f),(!1===p.equals(I)||v!==D)&&(t.blendColor(p.r,p.g,p.b,v),I.copy(p),D=v),b=r,R=!1}function ee(r){P!==r&&(r?t.frontFace(t.CW):t.frontFace(t.CCW),P=r)}function et(r){r!==eA?(K(t.CULL_FACE),r!==L&&(r===eM?t.cullFace(t.BACK):r===eC?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):J(t.CULL_FACE),L=r}function en(r,i,s){r?(K(t.POLYGON_OFFSET_FILL),(k!==i||O!==s)&&(t.polygonOffset(i,s),k=i,O=s)):J(t.POLYGON_OFFSET_FILL)}return{buffers:{color:i,depth:s,stencil:u},enable:K,disable:J,bindFramebuffer:function(r,i){return p[r]!==i&&(t.bindFramebuffer(r,i),p[r]=i,r===t.DRAW_FRAMEBUFFER&&(p[t.FRAMEBUFFER]=i),r===t.FRAMEBUFFER&&(p[t.DRAW_FRAMEBUFFER]=i),!0)},drawBuffers:function(r,i){let s=y,u=!1;if(r){void 0===(s=v.get(i))&&(s=[],v.set(i,s));let c=r.textures;if(s.length!==c.length||s[0]!==t.COLOR_ATTACHMENT0){for(let r=0,i=c.length;r<i;r++)s[r]=t.COLOR_ATTACHMENT0+r;s.length=c.length,u=!0}}else s[0]!==t.BACK&&(s[0]=t.BACK,u=!0);u&&t.drawBuffers(s)},useProgram:function(r){return x!==r&&(t.useProgram(r),x=r,!0)},setBlending:$,setMaterial:function(r,c){r.side===eB?J(t.CULL_FACE):K(t.CULL_FACE);let h=r.side===eL;c&&(h=!h),ee(h),r.blending===eO&&!1===r.transparent?$(ek):$(r.blending,r.blendEquation,r.blendSrc,r.blendDst,r.blendEquationAlpha,r.blendSrcAlpha,r.blendDstAlpha,r.blendColor,r.blendAlpha,r.premultipliedAlpha),s.setFunc(r.depthFunc),s.setTest(r.depthTest),s.setMask(r.depthWrite),i.setMask(r.colorWrite);let f=r.stencilWrite;u.setTest(f),f&&(u.setMask(r.stencilWriteMask),u.setFunc(r.stencilFunc,r.stencilRef,r.stencilFuncMask),u.setOp(r.stencilFail,r.stencilZFail,r.stencilZPass)),en(r.polygonOffset,r.polygonOffsetFactor,r.polygonOffsetUnits),!0===r.alphaToCoverage?K(t.SAMPLE_ALPHA_TO_COVERAGE):J(t.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ee,setCullFace:et,setLineWidth:function(r){r!==B&&(F&&t.lineWidth(r),B=r)},setPolygonOffset:en,setScissorTest:function(r){r?K(t.SCISSOR_TEST):J(t.SCISSOR_TEST)},activeTexture:function(r){void 0===r&&(r=t.TEXTURE0+N-1),G!==r&&(t.activeTexture(r),G=r)},bindTexture:function(r,i,s){void 0===s&&(s=null===G?t.TEXTURE0+N-1:G);let u=H[s];void 0===u&&(u={type:void 0,texture:void 0},H[s]=u),(u.type!==r||u.texture!==i)&&(G!==s&&(t.activeTexture(s),G=s),t.bindTexture(r,i||Z[r]),u.type=r,u.texture=i)},unbindTexture:function(){let r=H[G];void 0!==r&&void 0!==r.type&&(t.bindTexture(r.type,null),r.type=void 0,r.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){}},compressedTexImage3D:function(){try{t.compressedTexImage3D.apply(t,arguments)}catch(t){}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){}},updateUBOMapping:function(r,i){let s=h.get(i);void 0===s&&(s=new WeakMap,h.set(i,s));let u=s.get(r);void 0===u&&(u=t.getUniformBlockIndex(i,r.name),s.set(r,u))},uniformBlockBinding:function(r,i){let s=h.get(i).get(r);c.get(i)!==s&&(t.uniformBlockBinding(i,s,r.__bindingPointIndex),c.set(i,s))},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(t){}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(t){}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(t){}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(t){}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(t){}},compressedTexSubImage3D:function(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(t){}},scissor:function(r){!1===W.equals(r)&&(t.scissor(r.x,r.y,r.z,r.w),W.copy(r))},viewport:function(r){!1===X.equals(r)&&(t.viewport(r.x,r.y,r.z,r.w),X.copy(r))},reset:function(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(0xffffffff),t.stencilFunc(t.ALWAYS,0,0xffffffff),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},G=null,H={},p={},v=new WeakMap,y=[],x=null,_=!1,b=null,w=null,S=null,A=null,M=null,C=null,T=null,I=new aw(0,0,0),D=0,R=!1,P=null,L=null,B=null,k=null,O=null,W.set(0,0,t.canvas.width,t.canvas.height),X.set(0,0,t.canvas.width,t.canvas.height),i.reset(),s.reset(),u.reset()}}}function lE(t,r,i,s){let u=function(t){switch(t){case tN:case tF:return{byteLength:1,components:1};case tz:case tU:case tj:return{byteLength:2,components:1};case tW:case tX:return{byteLength:2,components:4};case tH:case tG:case tV:return{byteLength:4,components:1};case tZ:return{byteLength:4,components:3}}throw Error(`Unknown texture type ${t}.`)}(s);switch(i){case tK:case tq:return t*r;case t$:return t*r*2;case t2:case t3:return t*r/u.components*u.byteLength;case t5:case t4:return t*r*2/u.components*u.byteLength;case tJ:return t*r*3/u.components*u.byteLength;case tQ:case t8:return t*r*4/u.components*u.byteLength;case t6:case t7:return Math.floor((t+3)/4)*Math.floor((r+3)/4)*8;case ne:case nt:return Math.floor((t+3)/4)*Math.floor((r+3)/4)*16;case nr:case na:return Math.max(t,16)*Math.max(r,8)/4;case nn:case ni:return Math.max(t,8)*Math.max(r,8)/2;case no:case ns:return Math.floor((t+3)/4)*Math.floor((r+3)/4)*8;case nl:case nu:return Math.floor((t+3)/4)*Math.floor((r+3)/4)*16;case nc:return Math.floor((t+4)/5)*Math.floor((r+3)/4)*16;case nh:return Math.floor((t+4)/5)*Math.floor((r+4)/5)*16;case nd:return Math.floor((t+5)/6)*Math.floor((r+4)/5)*16;case nf:return Math.floor((t+5)/6)*Math.floor((r+5)/6)*16;case np:return Math.floor((t+7)/8)*Math.floor((r+4)/5)*16;case ng:return Math.floor((t+7)/8)*Math.floor((r+5)/6)*16;case nm:return Math.floor((t+7)/8)*Math.floor((r+7)/8)*16;case nv:return Math.floor((t+9)/10)*Math.floor((r+4)/5)*16;case ny:return Math.floor((t+9)/10)*Math.floor((r+5)/6)*16;case nx:return Math.floor((t+9)/10)*Math.floor((r+7)/8)*16;case n_:return Math.floor((t+9)/10)*Math.floor((r+9)/10)*16;case nb:return Math.floor((t+11)/12)*Math.floor((r+9)/10)*16;case nw:return Math.floor((t+11)/12)*Math.floor((r+11)/12)*16;case nS:case nA:case nM:return Math.ceil(t/4)*Math.ceil(r/4)*16;case nC:case nT:return Math.ceil(t/4)*Math.ceil(r/4)*8;case nE:case nI:return Math.ceil(t/4)*Math.ceil(r/4)*16}throw Error(`Unable to determine texture byte length for ${i} format.`)}let lI={contain:function(t,r){let i=t.image&&t.image.width?t.image.width/t.image.height:1;return i>r?(t.repeat.x=1,t.repeat.y=i/r,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=r/i,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t},cover:function(t,r){let i=t.image&&t.image.width?t.image.width/t.image.height:1;return i>r?(t.repeat.x=r/i,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=i/r,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t},fill:function(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t},getByteLength:lE};function lD(t,r,i,s,u,c,h){let f;let p=r.has("WEBGL_multisampled_render_to_texture")?r.get("WEBGL_multisampled_render_to_texture"):null,v="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),y=new rz,x=new WeakMap,_=new WeakMap,b=!1;try{b="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function w(t,r){return b?new OffscreenCanvas(t,r):rX("canvas")}function S(t,r,i){let s=1,u=K(t);if((u.width>i||u.height>i)&&(s=i/Math.max(u.width,u.height)),s<1&&("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&t instanceof VideoFrame)){let i=Math.floor(s*u.width),c=Math.floor(s*u.height);void 0===f&&(f=w(i,c));let h=r?w(i,c):f;return h.width=i,h.height=c,h.getContext("2d").drawImage(t,0,0,i,c),h}return t}function A(t){return t.generateMipmaps}function M(r){t.generateMipmap(r)}function C(i,s,u,c,h=!1){if(null!==i&&void 0!==t[i])return t[i];let f=s;if(s===t.RED&&(u===t.FLOAT&&(f=t.R32F),u===t.HALF_FLOAT&&(f=t.R16F),u===t.UNSIGNED_BYTE&&(f=t.R8)),s===t.RED_INTEGER&&(u===t.UNSIGNED_BYTE&&(f=t.R8UI),u===t.UNSIGNED_SHORT&&(f=t.R16UI),u===t.UNSIGNED_INT&&(f=t.R32UI),u===t.BYTE&&(f=t.R8I),u===t.SHORT&&(f=t.R16I),u===t.INT&&(f=t.R32I)),s===t.RG&&(u===t.FLOAT&&(f=t.RG32F),u===t.HALF_FLOAT&&(f=t.RG16F),u===t.UNSIGNED_BYTE&&(f=t.RG8)),s===t.RG_INTEGER&&(u===t.UNSIGNED_BYTE&&(f=t.RG8UI),u===t.UNSIGNED_SHORT&&(f=t.RG16UI),u===t.UNSIGNED_INT&&(f=t.RG32UI),u===t.BYTE&&(f=t.RG8I),u===t.SHORT&&(f=t.RG16I),u===t.INT&&(f=t.RG32I)),s===t.RGB_INTEGER&&(u===t.UNSIGNED_BYTE&&(f=t.RGB8UI),u===t.UNSIGNED_SHORT&&(f=t.RGB16UI),u===t.UNSIGNED_INT&&(f=t.RGB32UI),u===t.BYTE&&(f=t.RGB8I),u===t.SHORT&&(f=t.RGB16I),u===t.INT&&(f=t.RGB32I)),s===t.RGBA_INTEGER&&(u===t.UNSIGNED_BYTE&&(f=t.RGBA8UI),u===t.UNSIGNED_SHORT&&(f=t.RGBA16UI),u===t.UNSIGNED_INT&&(f=t.RGBA32UI),u===t.BYTE&&(f=t.RGBA8I),u===t.SHORT&&(f=t.RGBA16I),u===t.INT&&(f=t.RGBA32I)),s===t.RGB&&u===t.UNSIGNED_INT_5_9_9_9_REV&&(f=t.RGB9_E5),s===t.RGBA){let r=h?n$:rJ.getTransfer(c);u===t.FLOAT&&(f=t.RGBA32F),u===t.HALF_FLOAT&&(f=t.RGBA16F),u===t.UNSIGNED_BYTE&&(f=r===n0?t.SRGB8_ALPHA8:t.RGBA8),u===t.UNSIGNED_SHORT_4_4_4_4&&(f=t.RGBA4),u===t.UNSIGNED_SHORT_5_5_5_1&&(f=t.RGB5_A1)}return(f===t.R16F||f===t.R32F||f===t.RG16F||f===t.RG32F||f===t.RGBA16F||f===t.RGBA32F)&&r.get("EXT_color_buffer_float"),f}function T(r,i){let s;return r?null===i||i===tH||i===tY?s=t.DEPTH24_STENCIL8:i===tV?s=t.DEPTH32F_STENCIL8:i===tz&&(s=t.DEPTH24_STENCIL8):null===i||i===tH||i===tY?s=t.DEPTH_COMPONENT24:i===tV?s=t.DEPTH_COMPONENT32F:i===tz&&(s=t.DEPTH_COMPONENT16),s}function I(t,r){if(!0===A(t)||t.isFramebufferTexture&&t.minFilter!==tT&&t.minFilter!==tP)return Math.log2(Math.max(r.width,r.height))+1;if(void 0!==t.mipmaps&&t.mipmaps.length>0)return t.mipmaps.length;if(t.isCompressedTexture&&Array.isArray(t.image))return r.mipmaps.length;else return 1}function D(t){let r=t.target;r.removeEventListener("dispose",D),function(t){let r=s.get(t);if(void 0===r.__webglInit)return;let i=t.source,u=_.get(i);if(u){let s=u[r.__cacheKey];s.usedTimes--,0===s.usedTimes&&P(t),0===Object.keys(u).length&&_.delete(i)}s.remove(t)}(r),r.isVideoTexture&&x.delete(r)}function R(r){let i=r.target;i.removeEventListener("dispose",R),function(r){let i=s.get(r);if(r.depthTexture&&(r.depthTexture.dispose(),s.remove(r.depthTexture)),r.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(i.__webglFramebuffer[r]))for(let s=0;s<i.__webglFramebuffer[r].length;s++)t.deleteFramebuffer(i.__webglFramebuffer[r][s]);else t.deleteFramebuffer(i.__webglFramebuffer[r]);i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[r])}else{if(Array.isArray(i.__webglFramebuffer))for(let r=0;r<i.__webglFramebuffer.length;r++)t.deleteFramebuffer(i.__webglFramebuffer[r]);else t.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&t.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let r=0;r<i.__webglColorRenderbuffer.length;r++)i.__webglColorRenderbuffer[r]&&t.deleteRenderbuffer(i.__webglColorRenderbuffer[r]);i.__webglDepthRenderbuffer&&t.deleteRenderbuffer(i.__webglDepthRenderbuffer)}let u=r.textures;for(let r=0,i=u.length;r<i;r++){let i=s.get(u[r]);i.__webglTexture&&(t.deleteTexture(i.__webglTexture),h.memory.textures--),s.remove(u[r])}s.remove(r)}(i)}function P(r){let i=s.get(r);t.deleteTexture(i.__webglTexture);let u=r.source,c=_.get(u);delete c[i.__cacheKey],h.memory.textures--}let L=0;function B(r,u){let c=s.get(r);if(r.isVideoTexture&&function(t){let r=h.render.frame;x.get(t)!==r&&(x.set(t,r),t.update())}(r),!1===r.isRenderTargetTexture&&r.version>0&&c.__version!==r.version){let t=r.image;if(null===t);else if(!1===t.complete);else{z(c,r,u);return}}i.bindTexture(t.TEXTURE_2D,c.__webglTexture,t.TEXTURE0+u)}let k={[tA]:t.REPEAT,[tM]:t.CLAMP_TO_EDGE,[tC]:t.MIRRORED_REPEAT},O={[tT]:t.NEAREST,[tE]:t.NEAREST_MIPMAP_NEAREST,[tD]:t.NEAREST_MIPMAP_LINEAR,[tP]:t.LINEAR,[tL]:t.LINEAR_MIPMAP_NEAREST,[tk]:t.LINEAR_MIPMAP_LINEAR},N={[rs]:t.NEVER,[rp]:t.ALWAYS,[rl]:t.LESS,[rc]:t.LEQUAL,[ru]:t.EQUAL,[rf]:t.GEQUAL,[rh]:t.GREATER,[rd]:t.NOTEQUAL};function F(i,c){if(c.type===tV&&!1===r.has("OES_texture_float_linear")&&(c.magFilter===tP||c.magFilter===tL||c.magFilter===tD||c.magFilter===tk||c.minFilter===tP||c.minFilter===tL||c.minFilter===tD||c.minFilter),t.texParameteri(i,t.TEXTURE_WRAP_S,k[c.wrapS]),t.texParameteri(i,t.TEXTURE_WRAP_T,k[c.wrapT]),(i===t.TEXTURE_3D||i===t.TEXTURE_2D_ARRAY)&&t.texParameteri(i,t.TEXTURE_WRAP_R,k[c.wrapR]),t.texParameteri(i,t.TEXTURE_MAG_FILTER,O[c.magFilter]),t.texParameteri(i,t.TEXTURE_MIN_FILTER,O[c.minFilter]),c.compareFunction&&(t.texParameteri(i,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(i,t.TEXTURE_COMPARE_FUNC,N[c.compareFunction])),!0===r.has("EXT_texture_filter_anisotropic")){if(c.magFilter!==tT&&(c.minFilter===tD||c.minFilter===tk)&&(c.type!==tV||!1!==r.has("OES_texture_float_linear"))){if(c.anisotropy>1||s.get(c).__currentAnisotropy){let h=r.get("EXT_texture_filter_anisotropic");t.texParameterf(i,h.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(c.anisotropy,u.getMaxAnisotropy())),s.get(c).__currentAnisotropy=c.anisotropy}}}}function U(r,i){let s=!1;void 0===r.__webglInit&&(r.__webglInit=!0,i.addEventListener("dispose",D));let u=i.source,c=_.get(u);void 0===c&&(c={},_.set(u,c));let f=function(t){let r=[];return r.push(t.wrapS),r.push(t.wrapT),r.push(t.wrapR||0),r.push(t.magFilter),r.push(t.minFilter),r.push(t.anisotropy),r.push(t.internalFormat),r.push(t.format),r.push(t.type),r.push(t.generateMipmaps),r.push(t.premultiplyAlpha),r.push(t.flipY),r.push(t.unpackAlignment),r.push(t.colorSpace),r.join()}(i);if(f!==r.__cacheKey){void 0===c[f]&&(c[f]={texture:t.createTexture(),usedTimes:0},h.memory.textures++,s=!0),c[f].usedTimes++;let u=c[r.__cacheKey];void 0!==u&&(c[r.__cacheKey].usedTimes--,0===u.usedTimes&&P(i)),r.__cacheKey=f,r.__webglTexture=c[f].texture}return s}function z(r,h,f){let p=t.TEXTURE_2D;(h.isDataArrayTexture||h.isCompressedArrayTexture)&&(p=t.TEXTURE_2D_ARRAY),h.isData3DTexture&&(p=t.TEXTURE_3D);let v=U(r,h),y=h.source;i.bindTexture(p,r.__webglTexture,t.TEXTURE0+f);let x=s.get(y);if(y.version!==x.__version||!0===v){let r;i.activeTexture(t.TEXTURE0+f);let s=rJ.getPrimaries(rJ.workingColorSpace),_=h.colorSpace===nJ?null:rJ.getPrimaries(h.colorSpace),b=h.colorSpace===nJ||s===_?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,h.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,h.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,b);let w=S(h.image,!1,u.maxTextureSize);w=Z(h,w);let D=c.convert(h.format,h.colorSpace),R=c.convert(h.type),P=C(h.internalFormat,D,R,h.colorSpace,h.isVideoTexture);F(p,h);let L=h.mipmaps,B=!0!==h.isVideoTexture,k=void 0===x.__version||!0===v,O=y.dataReady,N=I(h,w);if(h.isDepthTexture)P=T(h.format===t1,h.type),k&&(B?i.texStorage2D(t.TEXTURE_2D,1,P,w.width,w.height):i.texImage2D(t.TEXTURE_2D,0,P,w.width,w.height,0,D,R,null));else if(h.isDataTexture){if(L.length>0){B&&k&&i.texStorage2D(t.TEXTURE_2D,N,P,L[0].width,L[0].height);for(let s=0,u=L.length;s<u;s++)r=L[s],B?O&&i.texSubImage2D(t.TEXTURE_2D,s,0,0,r.width,r.height,D,R,r.data):i.texImage2D(t.TEXTURE_2D,s,P,r.width,r.height,0,D,R,r.data);h.generateMipmaps=!1}else B?(k&&i.texStorage2D(t.TEXTURE_2D,N,P,w.width,w.height),O&&i.texSubImage2D(t.TEXTURE_2D,0,0,0,w.width,w.height,D,R,w.data)):i.texImage2D(t.TEXTURE_2D,0,P,w.width,w.height,0,D,R,w.data)}else if(h.isCompressedTexture){if(h.isCompressedArrayTexture){B&&k&&i.texStorage3D(t.TEXTURE_2D_ARRAY,N,P,L[0].width,L[0].height,w.depth);for(let s=0,u=L.length;s<u;s++)if(r=L[s],h.format!==tQ){if(null!==D){if(B){if(O){if(h.layerUpdates.size>0){let u=lE(r.width,r.height,h.format,h.type);for(let c of h.layerUpdates){let h=r.data.subarray(c*u/r.data.BYTES_PER_ELEMENT,(c+1)*u/r.data.BYTES_PER_ELEMENT);i.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,s,0,0,c,r.width,r.height,1,D,h)}h.clearLayerUpdates()}else i.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,s,0,0,0,r.width,r.height,w.depth,D,r.data)}}else i.compressedTexImage3D(t.TEXTURE_2D_ARRAY,s,P,r.width,r.height,w.depth,0,r.data,0,0)}}else B?O&&i.texSubImage3D(t.TEXTURE_2D_ARRAY,s,0,0,0,r.width,r.height,w.depth,D,R,r.data):i.texImage3D(t.TEXTURE_2D_ARRAY,s,P,r.width,r.height,w.depth,0,D,R,r.data)}else{B&&k&&i.texStorage2D(t.TEXTURE_2D,N,P,L[0].width,L[0].height);for(let s=0,u=L.length;s<u;s++)r=L[s],h.format!==tQ?null!==D&&(B?O&&i.compressedTexSubImage2D(t.TEXTURE_2D,s,0,0,r.width,r.height,D,r.data):i.compressedTexImage2D(t.TEXTURE_2D,s,P,r.width,r.height,0,r.data)):B?O&&i.texSubImage2D(t.TEXTURE_2D,s,0,0,r.width,r.height,D,R,r.data):i.texImage2D(t.TEXTURE_2D,s,P,r.width,r.height,0,D,R,r.data)}}else if(h.isDataArrayTexture){if(B){if(k&&i.texStorage3D(t.TEXTURE_2D_ARRAY,N,P,w.width,w.height,w.depth),O){if(h.layerUpdates.size>0){let r=lE(w.width,w.height,h.format,h.type);for(let s of h.layerUpdates){let u=w.data.subarray(s*r/w.data.BYTES_PER_ELEMENT,(s+1)*r/w.data.BYTES_PER_ELEMENT);i.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,s,w.width,w.height,1,D,R,u)}h.clearLayerUpdates()}else i.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,w.width,w.height,w.depth,D,R,w.data)}}else i.texImage3D(t.TEXTURE_2D_ARRAY,0,P,w.width,w.height,w.depth,0,D,R,w.data)}else if(h.isData3DTexture)B?(k&&i.texStorage3D(t.TEXTURE_3D,N,P,w.width,w.height,w.depth),O&&i.texSubImage3D(t.TEXTURE_3D,0,0,0,0,w.width,w.height,w.depth,D,R,w.data)):i.texImage3D(t.TEXTURE_3D,0,P,w.width,w.height,w.depth,0,D,R,w.data);else if(h.isFramebufferTexture){if(k){if(B)i.texStorage2D(t.TEXTURE_2D,N,P,w.width,w.height);else{let r=w.width,s=w.height;for(let u=0;u<N;u++)i.texImage2D(t.TEXTURE_2D,u,P,r,s,0,D,R,null),r>>=1,s>>=1}}}else if(L.length>0){if(B&&k){let r=K(L[0]);i.texStorage2D(t.TEXTURE_2D,N,P,r.width,r.height)}for(let s=0,u=L.length;s<u;s++)r=L[s],B?O&&i.texSubImage2D(t.TEXTURE_2D,s,0,0,D,R,r):i.texImage2D(t.TEXTURE_2D,s,P,D,R,r);h.generateMipmaps=!1}else if(B){if(k){let r=K(w);i.texStorage2D(t.TEXTURE_2D,N,P,r.width,r.height)}O&&i.texSubImage2D(t.TEXTURE_2D,0,0,0,D,R,w)}else i.texImage2D(t.TEXTURE_2D,0,P,D,R,w);A(h)&&M(p),x.__version=y.version,h.onUpdate&&h.onUpdate(h)}r.__version=h.version}function G(r,u,h,f,v,y){let x=c.convert(h.format,h.colorSpace),_=c.convert(h.type),b=C(h.internalFormat,x,_,h.colorSpace),w=s.get(u),S=s.get(h);if(S.__renderTarget=u,!w.__hasExternalTextures){let r=Math.max(1,u.width>>y),s=Math.max(1,u.height>>y);v===t.TEXTURE_3D||v===t.TEXTURE_2D_ARRAY?i.texImage3D(v,y,b,r,s,u.depth,0,x,_,null):i.texImage2D(v,y,b,r,s,0,x,_,null)}i.bindFramebuffer(t.FRAMEBUFFER,r),Y(u)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,f,v,S.__webglTexture,0,X(u)):(v===t.TEXTURE_2D||v>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&v<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,f,v,S.__webglTexture,y),i.bindFramebuffer(t.FRAMEBUFFER,null)}function H(r,i,s){if(t.bindRenderbuffer(t.RENDERBUFFER,r),i.depthBuffer){let u=i.depthTexture,c=u&&u.isDepthTexture?u.type:null,h=T(i.stencilBuffer,c),f=i.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,v=X(i);Y(i)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,v,h,i.width,i.height):s?t.renderbufferStorageMultisample(t.RENDERBUFFER,v,h,i.width,i.height):t.renderbufferStorage(t.RENDERBUFFER,h,i.width,i.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,f,t.RENDERBUFFER,r)}else{let r=i.textures;for(let u=0;u<r.length;u++){let h=r[u],f=c.convert(h.format,h.colorSpace),v=c.convert(h.type),y=C(h.internalFormat,f,v,h.colorSpace),x=X(i);s&&!1===Y(i)?t.renderbufferStorageMultisample(t.RENDERBUFFER,x,y,i.width,i.height):Y(i)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,x,y,i.width,i.height):t.renderbufferStorage(t.RENDERBUFFER,y,i.width,i.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function V(r){let u=s.get(r),c=!0===r.isWebGLCubeRenderTarget;if(u.__boundDepthTexture!==r.depthTexture){let t=r.depthTexture;if(u.__depthDisposeCallback&&u.__depthDisposeCallback(),t){let r=()=>{delete u.__boundDepthTexture,delete u.__depthDisposeCallback,t.removeEventListener("dispose",r)};t.addEventListener("dispose",r),u.__depthDisposeCallback=r}u.__boundDepthTexture=t}if(r.depthTexture&&!u.__autoAllocateDepthBuffer){if(c)throw Error("target.depthTexture not supported in Cube render targets");!function(r,u){if(u&&u.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(t.FRAMEBUFFER,r),!(u.depthTexture&&u.depthTexture.isDepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");let c=s.get(u.depthTexture);c.__renderTarget=u,(!c.__webglTexture||u.depthTexture.image.width!==u.width||u.depthTexture.image.height!==u.height)&&(u.depthTexture.image.width=u.width,u.depthTexture.image.height=u.height,u.depthTexture.needsUpdate=!0),B(u.depthTexture,0);let h=c.__webglTexture,f=X(u);if(u.depthTexture.format===t0)Y(u)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,h,0,f):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,h,0);else if(u.depthTexture.format===t1)Y(u)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,h,0,f):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,h,0);else throw Error("Unknown depthTexture format")}(u.__webglFramebuffer,r)}else if(c){u.__webglDepthbuffer=[];for(let s=0;s<6;s++)if(i.bindFramebuffer(t.FRAMEBUFFER,u.__webglFramebuffer[s]),void 0===u.__webglDepthbuffer[s])u.__webglDepthbuffer[s]=t.createRenderbuffer(),H(u.__webglDepthbuffer[s],r,!1);else{let i=r.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,c=u.__webglDepthbuffer[s];t.bindRenderbuffer(t.RENDERBUFFER,c),t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,c)}}else if(i.bindFramebuffer(t.FRAMEBUFFER,u.__webglFramebuffer),void 0===u.__webglDepthbuffer)u.__webglDepthbuffer=t.createRenderbuffer(),H(u.__webglDepthbuffer,r,!1);else{let i=r.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,s=u.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,s),t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,s)}i.bindFramebuffer(t.FRAMEBUFFER,null)}let j=[],W=[];function X(t){return Math.min(u.maxSamples,t.samples)}function Y(t){let i=s.get(t);return t.samples>0&&!0===r.has("WEBGL_multisampled_render_to_texture")&&!1!==i.__useRenderToTexture}function Z(t,r){let i=t.colorSpace,s=t.format,u=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture?r:(i!==nq&&i!==nJ&&rJ.getTransfer(i),r)}function K(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement?(y.width=t.naturalWidth||t.width,y.height=t.naturalHeight||t.height):"undefined"!=typeof VideoFrame&&t instanceof VideoFrame?(y.width=t.displayWidth,y.height=t.displayHeight):(y.width=t.width,y.height=t.height),y}this.allocateTextureUnit=function(){let t=L;return u.maxTextures,L+=1,t},this.resetTextureUnits=function(){L=0},this.setTexture2D=B,this.setTexture2DArray=function(r,u){let c=s.get(r);if(r.version>0&&c.__version!==r.version){z(c,r,u);return}i.bindTexture(t.TEXTURE_2D_ARRAY,c.__webglTexture,t.TEXTURE0+u)},this.setTexture3D=function(r,u){let c=s.get(r);if(r.version>0&&c.__version!==r.version){z(c,r,u);return}i.bindTexture(t.TEXTURE_3D,c.__webglTexture,t.TEXTURE0+u)},this.setTextureCube=function(r,h){let f=s.get(r);if(r.version>0&&f.__version!==r.version){(function(r,h,f){if(6!==h.image.length)return;let p=U(r,h),v=h.source;i.bindTexture(t.TEXTURE_CUBE_MAP,r.__webglTexture,t.TEXTURE0+f);let y=s.get(v);if(v.version!==y.__version||!0===p){let r;i.activeTexture(t.TEXTURE0+f);let s=rJ.getPrimaries(rJ.workingColorSpace),x=h.colorSpace===nJ?null:rJ.getPrimaries(h.colorSpace),_=h.colorSpace===nJ||s===x?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,h.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,h.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,_);let b=h.isCompressedTexture||h.image[0].isCompressedTexture,w=h.image[0]&&h.image[0].isDataTexture,T=[];for(let t=0;t<6;t++)b||w?T[t]=w?h.image[t].image:h.image[t]:T[t]=S(h.image[t],!0,u.maxCubemapSize),T[t]=Z(h,T[t]);let D=T[0],R=c.convert(h.format,h.colorSpace),P=c.convert(h.type),L=C(h.internalFormat,R,P,h.colorSpace),B=!0!==h.isVideoTexture,k=void 0===y.__version||!0===p,O=v.dataReady,N=I(h,D);if(F(t.TEXTURE_CUBE_MAP,h),b){B&&k&&i.texStorage2D(t.TEXTURE_CUBE_MAP,N,L,D.width,D.height);for(let s=0;s<6;s++){r=T[s].mipmaps;for(let u=0;u<r.length;u++){let c=r[u];h.format!==tQ?null!==R&&(B?O&&i.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,u,0,0,c.width,c.height,R,c.data):i.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,u,L,c.width,c.height,0,c.data)):B?O&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,u,0,0,c.width,c.height,R,P,c.data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,u,L,c.width,c.height,0,R,P,c.data)}}}else{if(r=h.mipmaps,B&&k){r.length>0&&N++;let s=K(T[0]);i.texStorage2D(t.TEXTURE_CUBE_MAP,N,L,s.width,s.height)}for(let s=0;s<6;s++)if(w){B?O&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,0,0,T[s].width,T[s].height,R,P,T[s].data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,L,T[s].width,T[s].height,0,R,P,T[s].data);for(let u=0;u<r.length;u++){let c=r[u].image[s].image;B?O&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,u+1,0,0,c.width,c.height,R,P,c.data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,u+1,L,c.width,c.height,0,R,P,c.data)}}else{B?O&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,0,0,R,P,T[s]):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,L,R,P,T[s]);for(let u=0;u<r.length;u++){let c=r[u];B?O&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,u+1,0,0,R,P,c.image[s]):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,u+1,L,R,P,c.image[s])}}}A(h)&&M(t.TEXTURE_CUBE_MAP),y.__version=v.version,h.onUpdate&&h.onUpdate(h)}r.__version=h.version})(f,r,h);return}i.bindTexture(t.TEXTURE_CUBE_MAP,f.__webglTexture,t.TEXTURE0+h)},this.rebindTextures=function(r,i,u){let c=s.get(r);void 0!==i&&G(c.__webglFramebuffer,r,r.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),void 0!==u&&V(r)},this.setupRenderTarget=function(r){let u=r.texture,f=s.get(r),p=s.get(u);r.addEventListener("dispose",R);let v=r.textures,y=!0===r.isWebGLCubeRenderTarget,x=v.length>1;if(!x&&(void 0===p.__webglTexture&&(p.__webglTexture=t.createTexture()),p.__version=u.version,h.memory.textures++),y){f.__webglFramebuffer=[];for(let r=0;r<6;r++)if(u.mipmaps&&u.mipmaps.length>0){f.__webglFramebuffer[r]=[];for(let i=0;i<u.mipmaps.length;i++)f.__webglFramebuffer[r][i]=t.createFramebuffer()}else f.__webglFramebuffer[r]=t.createFramebuffer()}else{if(u.mipmaps&&u.mipmaps.length>0){f.__webglFramebuffer=[];for(let r=0;r<u.mipmaps.length;r++)f.__webglFramebuffer[r]=t.createFramebuffer()}else f.__webglFramebuffer=t.createFramebuffer();if(x)for(let r=0,i=v.length;r<i;r++){let i=s.get(v[r]);void 0===i.__webglTexture&&(i.__webglTexture=t.createTexture(),h.memory.textures++)}if(r.samples>0&&!1===Y(r)){f.__webglMultisampledFramebuffer=t.createFramebuffer(),f.__webglColorRenderbuffer=[],i.bindFramebuffer(t.FRAMEBUFFER,f.__webglMultisampledFramebuffer);for(let i=0;i<v.length;i++){let s=v[i];f.__webglColorRenderbuffer[i]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,f.__webglColorRenderbuffer[i]);let u=c.convert(s.format,s.colorSpace),h=c.convert(s.type),p=C(s.internalFormat,u,h,s.colorSpace,!0===r.isXRRenderTarget),y=X(r);t.renderbufferStorageMultisample(t.RENDERBUFFER,y,p,r.width,r.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+i,t.RENDERBUFFER,f.__webglColorRenderbuffer[i])}t.bindRenderbuffer(t.RENDERBUFFER,null),r.depthBuffer&&(f.__webglDepthRenderbuffer=t.createRenderbuffer(),H(f.__webglDepthRenderbuffer,r,!0)),i.bindFramebuffer(t.FRAMEBUFFER,null)}}if(y){i.bindTexture(t.TEXTURE_CUBE_MAP,p.__webglTexture),F(t.TEXTURE_CUBE_MAP,u);for(let i=0;i<6;i++)if(u.mipmaps&&u.mipmaps.length>0)for(let s=0;s<u.mipmaps.length;s++)G(f.__webglFramebuffer[i][s],r,u,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+i,s);else G(f.__webglFramebuffer[i],r,u,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0);A(u)&&M(t.TEXTURE_CUBE_MAP),i.unbindTexture()}else if(x){for(let u=0,c=v.length;u<c;u++){let c=v[u],h=s.get(c);i.bindTexture(t.TEXTURE_2D,h.__webglTexture),F(t.TEXTURE_2D,c),G(f.__webglFramebuffer,r,c,t.COLOR_ATTACHMENT0+u,t.TEXTURE_2D,0),A(c)&&M(t.TEXTURE_2D)}i.unbindTexture()}else{let s=t.TEXTURE_2D;if((r.isWebGL3DRenderTarget||r.isWebGLArrayRenderTarget)&&(s=r.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),i.bindTexture(s,p.__webglTexture),F(s,u),u.mipmaps&&u.mipmaps.length>0)for(let i=0;i<u.mipmaps.length;i++)G(f.__webglFramebuffer[i],r,u,t.COLOR_ATTACHMENT0,s,i);else G(f.__webglFramebuffer,r,u,t.COLOR_ATTACHMENT0,s,0);A(u)&&M(s),i.unbindTexture()}r.depthBuffer&&V(r)},this.updateRenderTargetMipmap=function(r){let u=r.textures;for(let h=0,f=u.length;h<f;h++){let f=u[h];if(A(f)){var c;let u=(c=r).isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:c.isWebGL3DRenderTarget?t.TEXTURE_3D:c.isWebGLArrayRenderTarget||c.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D,h=s.get(f).__webglTexture;i.bindTexture(u,h),M(u),i.unbindTexture()}}},this.updateMultisampleRenderTarget=function(r){if(r.samples>0){if(!1===Y(r)){let u=r.textures,c=r.width,h=r.height,f=t.COLOR_BUFFER_BIT,p=r.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,y=s.get(r),x=u.length>1;if(x)for(let r=0;r<u.length;r++)i.bindFramebuffer(t.FRAMEBUFFER,y.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+r,t.RENDERBUFFER,null),i.bindFramebuffer(t.FRAMEBUFFER,y.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+r,t.TEXTURE_2D,null,0);i.bindFramebuffer(t.READ_FRAMEBUFFER,y.__webglMultisampledFramebuffer),i.bindFramebuffer(t.DRAW_FRAMEBUFFER,y.__webglFramebuffer);for(let i=0;i<u.length;i++){if(r.resolveDepthBuffer&&(r.depthBuffer&&(f|=t.DEPTH_BUFFER_BIT),r.stencilBuffer&&r.resolveStencilBuffer&&(f|=t.STENCIL_BUFFER_BIT)),x){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,y.__webglColorRenderbuffer[i]);let r=s.get(u[i]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0)}t.blitFramebuffer(0,0,c,h,0,0,c,h,f,t.NEAREST),!0===v&&(j.length=0,W.length=0,j.push(t.COLOR_ATTACHMENT0+i),r.depthBuffer&&!1===r.resolveDepthBuffer&&(j.push(p),W.push(p),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,W)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,j))}if(i.bindFramebuffer(t.READ_FRAMEBUFFER,null),i.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),x)for(let r=0;r<u.length;r++){i.bindFramebuffer(t.FRAMEBUFFER,y.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+r,t.RENDERBUFFER,y.__webglColorRenderbuffer[r]);let c=s.get(u[r]).__webglTexture;i.bindFramebuffer(t.FRAMEBUFFER,y.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+r,t.TEXTURE_2D,c,0)}i.bindFramebuffer(t.DRAW_FRAMEBUFFER,y.__webglMultisampledFramebuffer)}else if(r.depthBuffer&&!1===r.resolveDepthBuffer&&v){let i=r.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[i])}}},this.setupDepthRenderbuffer=V,this.setupFrameBufferTexture=G,this.useMultisampledRTT=Y}function lR(t,r){return{convert:function(i,s=nJ){let u;let c=rJ.getTransfer(s);if(i===tN)return t.UNSIGNED_BYTE;if(i===tW)return t.UNSIGNED_SHORT_4_4_4_4;if(i===tX)return t.UNSIGNED_SHORT_5_5_5_1;if(i===tZ)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===tF)return t.BYTE;if(i===tU)return t.SHORT;if(i===tz)return t.UNSIGNED_SHORT;if(i===tG)return t.INT;if(i===tH)return t.UNSIGNED_INT;if(i===tV)return t.FLOAT;if(i===tj)return t.HALF_FLOAT;if(i===tK)return t.ALPHA;if(i===tJ)return t.RGB;if(i===tQ)return t.RGBA;if(i===tq)return t.LUMINANCE;if(i===t$)return t.LUMINANCE_ALPHA;if(i===t0)return t.DEPTH_COMPONENT;if(i===t1)return t.DEPTH_STENCIL;if(i===t2)return t.RED;if(i===t3)return t.RED_INTEGER;if(i===t5)return t.RG;if(i===t4)return t.RG_INTEGER;if(i===t8)return t.RGBA_INTEGER;if(i===t6||i===t7||i===ne||i===nt){if(c===n0){if(null===(u=r.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(i===t6)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===t7)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===ne)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===nt)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(u=r.get("WEBGL_compressed_texture_s3tc")))return null;if(i===t6)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===t7)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===ne)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===nt)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}}if(i===nn||i===nr||i===ni||i===na){if(null===(u=r.get("WEBGL_compressed_texture_pvrtc")))return null;if(i===nn)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===nr)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===ni)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===na)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(i===no||i===ns||i===nl){if(null===(u=r.get("WEBGL_compressed_texture_etc")))return null;if(i===no||i===ns)return c===n0?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(i===nl)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}if(i===nu||i===nc||i===nh||i===nd||i===nf||i===np||i===ng||i===nm||i===nv||i===ny||i===nx||i===n_||i===nb||i===nw){if(null===(u=r.get("WEBGL_compressed_texture_astc")))return null;if(i===nu)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===nc)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===nh)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===nd)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===nf)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===np)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===ng)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===nm)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===nv)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===ny)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===nx)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===n_)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===nb)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===nw)return c===n0?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}if(i===nS||i===nA||i===nM){if(null===(u=r.get("EXT_texture_compression_bptc")))return null;if(i===nS)return c===n0?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===nA)return u.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===nM)return u.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(i===nC||i===nT||i===nE||i===nI){if(null===(u=r.get("EXT_texture_compression_rgtc")))return null;if(i===nS)return u.COMPRESSED_RED_RGTC1_EXT;if(i===nT)return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===nE)return u.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===nI)return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return i===tY?t.UNSIGNED_INT_24_8:void 0!==t[i]?t[i]:null}}}class lP extends oc{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class lL extends ar{constructor(){super(),this.isGroup=!0,this.type="Group"}}let lB={type:"move"};class lk{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new lL,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new lL,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new iu,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new iu),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new lL,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new iu,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new iu),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){let r=this._hand;if(r)for(let i of t.hand.values())this._getHandJoint(r,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,r,i){let s=null,u=null,c=null,h=this._targetRay,f=this._grip,p=this._hand;if(t&&"visible-blurred"!==r.session.visibilityState){if(p&&t.hand){for(let s of(c=!0,t.hand.values())){let t=r.getJointPose(s,i),u=this._getHandJoint(p,s);null!==t&&(u.matrix.fromArray(t.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,u.jointRadius=t.radius),u.visible=null!==t}let s=p.joints["index-finger-tip"],u=p.joints["thumb-tip"],h=s.position.distanceTo(u.position);p.inputState.pinching&&h>.025?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!p.inputState.pinching&&h<=.015&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==f&&t.gripSpace&&null!==(u=r.getPose(t.gripSpace,i))&&(f.matrix.fromArray(u.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,u.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(u.linearVelocity)):f.hasLinearVelocity=!1,u.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(u.angularVelocity)):f.hasAngularVelocity=!1);null!==h&&(null===(s=r.getPose(t.targetRaySpace,i))&&null!==u&&(s=u),null!==s&&(h.matrix.fromArray(s.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,s.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(s.linearVelocity)):h.hasLinearVelocity=!1,s.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(s.angularVelocity)):h.hasAngularVelocity=!1,this.dispatchEvent(lB)))}return null!==h&&(h.visible=null!==s),null!==f&&(f.visible=null!==u),null!==p&&(p.visible=null!==c),this}_getHandJoint(t,r){if(void 0===t.joints[r.jointName]){let i=new lL;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[r.jointName]=i,t.add(i)}return t.joints[r.jointName]}}let lO=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,lN=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class lF{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,r,i){if(null===this.texture){let s=new r7;t.properties.get(s).__webglTexture=r.texture,(r.depthNear!=i.depthNear||r.depthFar!=i.depthFar)&&(this.depthNear=r.depthNear,this.depthFar=r.depthFar),this.texture=s}}getMesh(t){if(null!==this.texture&&null===this.mesh){let r=t.cameras[0].viewport,i=new oa({vertexShader:lO,fragmentShader:lN,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new a6(new oS(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class lU extends rE{constructor(t,r){super();let i=this,s=null,u=1,c=null,h="local-floor",f=1,p=null,v=null,y=null,x=null,_=null,b=null,w=new lF,S=r.getContextAttributes(),A=null,M=null,C=[],T=[],I=new rz,D=null,R=new oc;R.viewport=new ie;let P=new oc;P.viewport=new ie;let L=[R,P],B=new lP,k=null,O=null;function N(t){let r=T.indexOf(t.inputSource);if(-1===r)return;let i=C[r];void 0!==i&&(i.update(t.inputSource,t.frame,p||c),i.dispatchEvent({type:t.type,data:t.inputSource}))}function F(){s.removeEventListener("select",N),s.removeEventListener("selectstart",N),s.removeEventListener("selectend",N),s.removeEventListener("squeeze",N),s.removeEventListener("squeezestart",N),s.removeEventListener("squeezeend",N),s.removeEventListener("end",F),s.removeEventListener("inputsourceschange",U);for(let t=0;t<C.length;t++){let r=T[t];null!==r&&(T[t]=null,C[t].disconnect(r))}k=null,O=null,w.reset(),t.setRenderTarget(A),_=null,x=null,y=null,s=null,M=null,j.stop(),i.isPresenting=!1,t.setPixelRatio(D),t.setSize(I.width,I.height,!1),i.dispatchEvent({type:"sessionend"})}function U(t){for(let r=0;r<t.removed.length;r++){let i=t.removed[r],s=T.indexOf(i);s>=0&&(T[s]=null,C[s].disconnect(i))}for(let r=0;r<t.added.length;r++){let i=t.added[r],s=T.indexOf(i);if(-1===s){for(let t=0;t<C.length;t++){if(t>=T.length){T.push(i),s=t;break}if(null===T[t]){T[t]=i,s=t;break}}if(-1===s)break}let u=C[s];u&&u.connect(i)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let r=C[t];return void 0===r&&(r=new lk,C[t]=r),r.getTargetRaySpace()},this.getControllerGrip=function(t){let r=C[t];return void 0===r&&(r=new lk,C[t]=r),r.getGripSpace()},this.getHand=function(t){let r=C[t];return void 0===r&&(r=new lk,C[t]=r),r.getHandSpace()},this.setFramebufferScaleFactor=function(t){u=t,i.isPresenting},this.setReferenceSpaceType=function(t){h=t,i.isPresenting},this.getReferenceSpace=function(){return p||c},this.setReferenceSpace=function(t){p=t},this.getBaseLayer=function(){return null!==x?x:_},this.getBinding=function(){return y},this.getFrame=function(){return b},this.getSession=function(){return s},this.setSession=async function(v){if(null!==(s=v)){if(A=t.getRenderTarget(),s.addEventListener("select",N),s.addEventListener("selectstart",N),s.addEventListener("selectend",N),s.addEventListener("squeeze",N),s.addEventListener("squeezestart",N),s.addEventListener("squeezeend",N),s.addEventListener("end",F),s.addEventListener("inputsourceschange",U),!0!==S.xrCompatible&&await r.makeXRCompatible(),D=t.getPixelRatio(),t.getSize(I),void 0===s.renderState.layers){let i={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:u};_=new XRWebGLLayer(s,r,i),s.updateRenderState({baseLayer:_}),t.setPixelRatio(1),t.setSize(_.framebufferWidth,_.framebufferHeight,!1),M=new ir(_.framebufferWidth,_.framebufferHeight,{format:tQ,type:tN,colorSpace:t.outputColorSpace,stencilBuffer:S.stencil})}else{let i=null,c=null,h=null;S.depth&&(h=S.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,i=S.stencil?t1:t0,c=S.stencil?tY:tH);let f={colorFormat:r.RGBA8,depthFormat:h,scaleFactor:u};x=(y=new XRWebGLBinding(s,r)).createProjectionLayer(f),s.updateRenderState({layers:[x]}),t.setPixelRatio(1),t.setSize(x.textureWidth,x.textureHeight,!1),M=new ir(x.textureWidth,x.textureHeight,{format:tQ,type:tN,depthTexture:new o9(x.textureWidth,x.textureHeight,c,void 0,void 0,void 0,void 0,void 0,void 0,i),stencilBuffer:S.stencil,colorSpace:t.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:!1===x.ignoreDepthValues})}M.isXRRenderTarget=!0,this.setFoveation(f),p=null,c=await s.requestReferenceSpace(h),j.setContext(s),j.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==s)return s.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};let z=new iu,G=new iu;function H(t,r){null===r?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(r.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===s)return;let r=t.near,i=t.far;null!==w.texture&&(w.depthNear>0&&(r=w.depthNear),w.depthFar>0&&(i=w.depthFar)),B.near=P.near=R.near=r,B.far=P.far=R.far=i,(k!==B.near||O!==B.far)&&(s.updateRenderState({depthNear:B.near,depthFar:B.far}),k=B.near,O=B.far),R.layers.mask=2|t.layers.mask,P.layers.mask=4|t.layers.mask,B.layers.mask=R.layers.mask|P.layers.mask;let u=t.parent,c=B.cameras;H(B,u);for(let t=0;t<c.length;t++)H(c[t],u);2===c.length?!function(t,r,i){z.setFromMatrixPosition(r.matrixWorld),G.setFromMatrixPosition(i.matrixWorld);let s=z.distanceTo(G),u=r.projectionMatrix.elements,c=i.projectionMatrix.elements,h=u[14]/(u[10]-1),f=u[14]/(u[10]+1),p=(u[9]+1)/u[5],v=(u[9]-1)/u[5],y=(u[8]-1)/u[0],x=(c[8]+1)/c[0],_=s/(-y+x),b=-(_*y);if(r.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(b),t.translateZ(_),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert(),-1===u[10])t.projectionMatrix.copy(r.projectionMatrix),t.projectionMatrixInverse.copy(r.projectionMatrixInverse);else{let r=h+_,i=f+_;t.projectionMatrix.makePerspective(h*y-b,h*x+(s-b),p*f/i*r,v*f/i*r,r,i),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}}(B,R,P):B.projectionMatrix.copy(R.projectionMatrix),function(t,r,i){null===i?t.matrix.copy(r.matrixWorld):(t.matrix.copy(i.matrixWorld),t.matrix.invert(),t.matrix.multiply(r.matrixWorld)),t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0),t.projectionMatrix.copy(r.projectionMatrix),t.projectionMatrixInverse.copy(r.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*rP*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}(t,B,u)};this.getCamera=function(){return B},this.getFoveation=function(){if(null!==x||null!==_)return f},this.setFoveation=function(t){f=t,null!==x&&(x.fixedFoveation=t),null!==_&&void 0!==_.fixedFoveation&&(_.fixedFoveation=t)},this.hasDepthSensing=function(){return null!==w.texture},this.getDepthSensingMesh=function(){return w.getMesh(B)};let V=null,j=new ob;j.setAnimationLoop(function(r,u){if(v=u.getViewerPose(p||c),b=u,null!==v){let r=v.views;null!==_&&(t.setRenderTargetFramebuffer(M,_.framebuffer),t.setRenderTarget(M));let i=!1;r.length!==B.cameras.length&&(B.cameras.length=0,i=!0);for(let s=0;s<r.length;s++){let u=r[s],c=null;if(null!==_)c=_.getViewport(u);else{let r=y.getViewSubImage(x,u);c=r.viewport,0===s&&(t.setRenderTargetTextures(M,r.colorTexture,x.ignoreDepthValues?void 0:r.depthStencilTexture),t.setRenderTarget(M))}let h=L[s];void 0===h&&((h=new oc).layers.enable(s),h.viewport=new ie,L[s]=h),h.matrix.fromArray(u.transform.matrix),h.matrix.decompose(h.position,h.quaternion,h.scale),h.projectionMatrix.fromArray(u.projectionMatrix),h.projectionMatrixInverse.copy(h.projectionMatrix).invert(),h.viewport.set(c.x,c.y,c.width,c.height),0===s&&(B.matrix.copy(h.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale)),!0===i&&B.cameras.push(h)}let u=s.enabledFeatures;if(u&&u.includes("depth-sensing")){let i=y.getDepthInformation(r[0]);i&&i.isValid&&i.texture&&w.init(t,i,s.renderState)}}for(let t=0;t<C.length;t++){let r=T[t],i=C[t];null!==r&&void 0!==i&&i.update(r,u,p||c)}V&&V(r,u),u.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:u}),b=null}),this.setAnimationLoop=function(t){V=t},this.dispose=function(){}}}let lz=new iJ,lG=new iz;function lH(t,r){function i(t,r){!0===t.matrixAutoUpdate&&t.updateMatrix(),r.value.copy(t.matrix)}function s(t,s){t.opacity.value=s.opacity,s.color&&t.diffuse.value.copy(s.color),s.emissive&&t.emissive.value.copy(s.emissive).multiplyScalar(s.emissiveIntensity),s.map&&(t.map.value=s.map,i(s.map,t.mapTransform)),s.alphaMap&&(t.alphaMap.value=s.alphaMap,i(s.alphaMap,t.alphaMapTransform)),s.bumpMap&&(t.bumpMap.value=s.bumpMap,i(s.bumpMap,t.bumpMapTransform),t.bumpScale.value=s.bumpScale,s.side===eL&&(t.bumpScale.value*=-1)),s.normalMap&&(t.normalMap.value=s.normalMap,i(s.normalMap,t.normalMapTransform),t.normalScale.value.copy(s.normalScale),s.side===eL&&t.normalScale.value.negate()),s.displacementMap&&(t.displacementMap.value=s.displacementMap,i(s.displacementMap,t.displacementMapTransform),t.displacementScale.value=s.displacementScale,t.displacementBias.value=s.displacementBias),s.emissiveMap&&(t.emissiveMap.value=s.emissiveMap,i(s.emissiveMap,t.emissiveMapTransform)),s.specularMap&&(t.specularMap.value=s.specularMap,i(s.specularMap,t.specularMapTransform)),s.alphaTest>0&&(t.alphaTest.value=s.alphaTest);let u=r.get(s),c=u.envMap,h=u.envMapRotation;c&&(t.envMap.value=c,lz.copy(h),lz.x*=-1,lz.y*=-1,lz.z*=-1,c.isCubeTexture&&!1===c.isRenderTargetTexture&&(lz.y*=-1,lz.z*=-1),t.envMapRotation.value.setFromMatrix4(lG.makeRotationFromEuler(lz)),t.flipEnvMap.value=c.isCubeTexture&&!1===c.isRenderTargetTexture?-1:1,t.reflectivity.value=s.reflectivity,t.ior.value=s.ior,t.refractionRatio.value=s.refractionRatio),s.lightMap&&(t.lightMap.value=s.lightMap,t.lightMapIntensity.value=s.lightMapIntensity,i(s.lightMap,t.lightMapTransform)),s.aoMap&&(t.aoMap.value=s.aoMap,t.aoMapIntensity.value=s.aoMapIntensity,i(s.aoMap,t.aoMapTransform))}return{refreshFogUniforms:function(r,i){i.color.getRGB(r.fogColor.value,or(t)),i.isFog?(r.fogNear.value=i.near,r.fogFar.value=i.far):i.isFogExp2&&(r.fogDensity.value=i.density)},refreshMaterialUniforms:function(t,u,c,h,f){u.isMeshBasicMaterial?s(t,u):u.isMeshLambertMaterial?s(t,u):u.isMeshToonMaterial?(s(t,u),function(t,r){r.gradientMap&&(t.gradientMap.value=r.gradientMap)}(t,u)):u.isMeshPhongMaterial?(s(t,u),function(t,r){t.specular.value.copy(r.specular),t.shininess.value=Math.max(r.shininess,1e-4)}(t,u)):u.isMeshStandardMaterial?(s(t,u),function(t,r){t.metalness.value=r.metalness,r.metalnessMap&&(t.metalnessMap.value=r.metalnessMap,i(r.metalnessMap,t.metalnessMapTransform)),t.roughness.value=r.roughness,r.roughnessMap&&(t.roughnessMap.value=r.roughnessMap,i(r.roughnessMap,t.roughnessMapTransform)),r.envMap&&(t.envMapIntensity.value=r.envMapIntensity)}(t,u),u.isMeshPhysicalMaterial&&function(t,r,s){t.ior.value=r.ior,r.sheen>0&&(t.sheenColor.value.copy(r.sheenColor).multiplyScalar(r.sheen),t.sheenRoughness.value=r.sheenRoughness,r.sheenColorMap&&(t.sheenColorMap.value=r.sheenColorMap,i(r.sheenColorMap,t.sheenColorMapTransform)),r.sheenRoughnessMap&&(t.sheenRoughnessMap.value=r.sheenRoughnessMap,i(r.sheenRoughnessMap,t.sheenRoughnessMapTransform))),r.clearcoat>0&&(t.clearcoat.value=r.clearcoat,t.clearcoatRoughness.value=r.clearcoatRoughness,r.clearcoatMap&&(t.clearcoatMap.value=r.clearcoatMap,i(r.clearcoatMap,t.clearcoatMapTransform)),r.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=r.clearcoatRoughnessMap,i(r.clearcoatRoughnessMap,t.clearcoatRoughnessMapTransform)),r.clearcoatNormalMap&&(t.clearcoatNormalMap.value=r.clearcoatNormalMap,i(r.clearcoatNormalMap,t.clearcoatNormalMapTransform),t.clearcoatNormalScale.value.copy(r.clearcoatNormalScale),r.side===eL&&t.clearcoatNormalScale.value.negate())),r.dispersion>0&&(t.dispersion.value=r.dispersion),r.iridescence>0&&(t.iridescence.value=r.iridescence,t.iridescenceIOR.value=r.iridescenceIOR,t.iridescenceThicknessMinimum.value=r.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=r.iridescenceThicknessRange[1],r.iridescenceMap&&(t.iridescenceMap.value=r.iridescenceMap,i(r.iridescenceMap,t.iridescenceMapTransform)),r.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=r.iridescenceThicknessMap,i(r.iridescenceThicknessMap,t.iridescenceThicknessMapTransform))),r.transmission>0&&(t.transmission.value=r.transmission,t.transmissionSamplerMap.value=s.texture,t.transmissionSamplerSize.value.set(s.width,s.height),r.transmissionMap&&(t.transmissionMap.value=r.transmissionMap,i(r.transmissionMap,t.transmissionMapTransform)),t.thickness.value=r.thickness,r.thicknessMap&&(t.thicknessMap.value=r.thicknessMap,i(r.thicknessMap,t.thicknessMapTransform)),t.attenuationDistance.value=r.attenuationDistance,t.attenuationColor.value.copy(r.attenuationColor)),r.anisotropy>0&&(t.anisotropyVector.value.set(r.anisotropy*Math.cos(r.anisotropyRotation),r.anisotropy*Math.sin(r.anisotropyRotation)),r.anisotropyMap&&(t.anisotropyMap.value=r.anisotropyMap,i(r.anisotropyMap,t.anisotropyMapTransform))),t.specularIntensity.value=r.specularIntensity,t.specularColor.value.copy(r.specularColor),r.specularColorMap&&(t.specularColorMap.value=r.specularColorMap,i(r.specularColorMap,t.specularColorMapTransform)),r.specularIntensityMap&&(t.specularIntensityMap.value=r.specularIntensityMap,i(r.specularIntensityMap,t.specularIntensityMapTransform))}(t,u,f)):u.isMeshMatcapMaterial?(s(t,u),function(t,r){r.matcap&&(t.matcap.value=r.matcap)}(t,u)):u.isMeshDepthMaterial?s(t,u):u.isMeshDistanceMaterial?(s(t,u),function(t,i){let s=r.get(i).light;t.referencePosition.value.setFromMatrixPosition(s.matrixWorld),t.nearDistance.value=s.shadow.camera.near,t.farDistance.value=s.shadow.camera.far}(t,u)):u.isMeshNormalMaterial?s(t,u):u.isLineBasicMaterial?(function(t,r){t.diffuse.value.copy(r.color),t.opacity.value=r.opacity,r.map&&(t.map.value=r.map,i(r.map,t.mapTransform))}(t,u),u.isLineDashedMaterial&&function(t,r){t.dashSize.value=r.dashSize,t.totalSize.value=r.dashSize+r.gapSize,t.scale.value=r.scale}(t,u)):u.isPointsMaterial?function(t,r,s,u){t.diffuse.value.copy(r.color),t.opacity.value=r.opacity,t.size.value=r.size*s,t.scale.value=.5*u,r.map&&(t.map.value=r.map,i(r.map,t.uvTransform)),r.alphaMap&&(t.alphaMap.value=r.alphaMap,i(r.alphaMap,t.alphaMapTransform)),r.alphaTest>0&&(t.alphaTest.value=r.alphaTest)}(t,u,c,h):u.isSpriteMaterial?function(t,r){t.diffuse.value.copy(r.color),t.opacity.value=r.opacity,t.rotation.value=r.rotation,r.map&&(t.map.value=r.map,i(r.map,t.mapTransform)),r.alphaMap&&(t.alphaMap.value=r.alphaMap,i(r.alphaMap,t.alphaMapTransform)),r.alphaTest>0&&(t.alphaTest.value=r.alphaTest)}(t,u):u.isShadowMaterial?(t.color.value.copy(u.color),t.opacity.value=u.opacity):u.isShaderMaterial&&(u.uniformsNeedUpdate=!1)}}}function lV(t,r,i,s){let u={},c={},h=[],f=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function p(t){let r={boundary:0,storage:0};return"number"==typeof t||"boolean"==typeof t?(r.boundary=4,r.storage=4):t.isVector2?(r.boundary=8,r.storage=8):t.isVector3||t.isColor?(r.boundary=16,r.storage=12):t.isVector4?(r.boundary=16,r.storage=16):t.isMatrix3?(r.boundary=48,r.storage=48):t.isMatrix4?(r.boundary=64,r.storage=64):t.isTexture,r}function v(r){let i=r.target;i.removeEventListener("dispose",v);let s=h.indexOf(i.__bindingPointIndex);h.splice(s,1),t.deleteBuffer(u[i.id]),delete u[i.id],delete c[i.id]}return{bind:function(t,r){let i=r.program;s.uniformBlockBinding(t,i)},update:function(i,y){let x=u[i.id];void 0===x&&(function(t){let r=t.uniforms,i=0;for(let t=0,s=r.length;t<s;t++){let s=Array.isArray(r[t])?r[t]:[r[t]];for(let t=0,r=s.length;t<r;t++){let r=s[t],u=Array.isArray(r.value)?r.value:[r.value];for(let t=0,s=u.length;t<s;t++){let s=p(u[t]),c=i%16,h=c%s.boundary,f=c+h;i+=h,0!==f&&16-f<s.storage&&(i+=16-f),r.__data=new Float32Array(s.storage/Float32Array.BYTES_PER_ELEMENT),r.__offset=i,i+=s.storage}}}let s=i%16;s>0&&(i+=16-s),t.__size=i,t.__cache={},this}(i),x=function(r){let i=function(){for(let t=0;t<f;t++)if(-1===h.indexOf(t))return h.push(t),t;return 0}();r.__bindingPointIndex=i;let s=t.createBuffer(),u=r.__size,c=r.usage;return t.bindBuffer(t.UNIFORM_BUFFER,s),t.bufferData(t.UNIFORM_BUFFER,u,c),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,i,s),s}(i),u[i.id]=x,i.addEventListener("dispose",v));let _=y.program;s.updateUBOMapping(i,_);let b=r.render.frame;c[i.id]!==b&&(function(r){let i=u[r.id],s=r.uniforms,c=r.__cache;t.bindBuffer(t.UNIFORM_BUFFER,i);for(let r=0,i=s.length;r<i;r++){let i=Array.isArray(s[r])?s[r]:[s[r]];for(let s=0,u=i.length;s<u;s++){let u=i[s];if(!0===function(t,r,i,s){let u=t.value,c=r+"_"+i;if(void 0===s[c])return"number"==typeof u||"boolean"==typeof u?s[c]=u:s[c]=u.clone(),!0;{let t=s[c];if("number"==typeof u||"boolean"==typeof u){if(t!==u)return s[c]=u,!0}else if(!1===t.equals(u))return t.copy(u),!0}return!1}(u,r,s,c)){let r=u.__offset,i=Array.isArray(u.value)?u.value:[u.value],s=0;for(let c=0;c<i.length;c++){let h=i[c],f=p(h);"number"==typeof h||"boolean"==typeof h?(u.__data[0]=h,t.bufferSubData(t.UNIFORM_BUFFER,r+s,u.__data)):h.isMatrix3?(u.__data[0]=h.elements[0],u.__data[1]=h.elements[1],u.__data[2]=h.elements[2],u.__data[3]=0,u.__data[4]=h.elements[3],u.__data[5]=h.elements[4],u.__data[6]=h.elements[5],u.__data[7]=0,u.__data[8]=h.elements[6],u.__data[9]=h.elements[7],u.__data[10]=h.elements[8],u.__data[11]=0):(h.toArray(u.__data,s),s+=f.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,r,u.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}(i),c[i.id]=b)},dispose:function(){for(let r in u)t.deleteBuffer(u[r]);h=[],u={},c={}}}}class lj{constructor(t={}){let r,i,s,u,c,h,f,p,v,y,x,_,b,w,S,A,M,C,T,I,D,R,P,L,B;let{canvas:k=rY(),context:O=null,depth:N=!0,stencil:F=!1,alpha:U=!1,antialias:z=!1,premultipliedAlpha:G=!0,preserveDrawingBuffer:H=!1,powerPreference:V="default",failIfMajorPerformanceCaveat:j=!1,reverseDepthBuffer:W=!1}=t;if(this.isWebGLRenderer=!0,null!==O){if("undefined"!=typeof WebGLRenderingContext&&O instanceof WebGLRenderingContext)throw Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");r=O.getContextAttributes().alpha}else r=U;let X=new Uint32Array(4),Y=new Int32Array(4),Z=null,K=null,J=[],Q=[];this.domElement=k,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=nQ,this.toneMapping=tl,this.toneMappingExposure=1;let q=this,$=!1,ee=0,et=0,en=null,er=-1,ei=null,ea=new ie,eo=new ie,es=null,el=new aw(0),eu=0,ec=k.width,eh=k.height,ed=1,ef=null,ep=null,eg=new ie(0,0,ec,eh),em=new ie(0,0,ec,eh),ev=!1,ey=new o_,ex=!1,e_=!1,ew=new iz,eS=new iz,eA=new iu,eM=new ie,eC={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},eT=!1;function eE(){return null===en?ed:1}let eI=O;function eD(t,r){return k.getContext(t,r)}try{if("setAttribute"in k&&k.setAttribute("data-engine",`three.js r${eb}`),k.addEventListener("webglcontextlost",eO,!1),k.addEventListener("webglcontextrestored",eN,!1),k.addEventListener("webglcontextcreationerror",eF,!1),null===eI){let t="webgl2";if(eI=eD(t,{alpha:!0,depth:N,stencil:F,antialias:z,premultipliedAlpha:G,preserveDrawingBuffer:H,powerPreference:V,failIfMajorPerformanceCaveat:j}),null===eI){if(eD(t))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.")}}}catch(t){throw t}function eR(){(i=new o0(eI)).init(),P=new lR(eI,i),s=new oL(eI,i,t,P),u=new lT(eI,i),s.reverseDepthBuffer&&W&&u.buffers.depth.setReversed(!0),c=new o3(eI),h=new ld,f=new lD(eI,i,u,h,s,P,c),p=new ok(q),v=new o$(q),y=new ow(eI),L=new oR(eI,y),x=new o1(eI,y,c,L),_=new o4(eI,x,y,c),I=new o5(eI,s,f),M=new oB(h),b=new lh(q,p,v,i,s,L,M),w=new lH(q,h),S=new lm,A=new lw(i),T=new oD(q,p,v,u,_,r,G),C=new lM(q,_,s),B=new lV(eI,c,s,u),D=new oP(eI,i,c),R=new o2(eI,i,c),c.programs=b.programs,q.capabilities=s,q.extensions=i,q.properties=h,q.renderLists=S,q.shadowMap=C,q.state=u,q.info=c}eR();let ek=new lU(q,eI);function eO(t){t.preventDefault(),$=!0}function eN(){$=!1;let t=c.autoReset,r=C.enabled,i=C.autoUpdate,s=C.needsUpdate,u=C.type;eR(),c.autoReset=t,C.enabled=r,C.autoUpdate=i,C.needsUpdate=s,C.type=u}function eF(t){}function eU(t){let r=t.target;r.removeEventListener("dispose",eU),function(t){(function(t){let r=h.get(t).programs;void 0!==r&&(r.forEach(function(t){b.releaseProgram(t)}),t.isShaderMaterial&&b.releaseShaderCache(t))})(t),h.remove(t)}(r)}this.xr=ek,this.getContext=function(){return eI},this.getContextAttributes=function(){return eI.getContextAttributes()},this.forceContextLoss=function(){let t=i.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){let t=i.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return ed},this.setPixelRatio=function(t){void 0!==t&&(ed=t,this.setSize(ec,eh,!1))},this.getSize=function(t){return t.set(ec,eh)},this.setSize=function(t,r,i=!0){if(!ek.isPresenting)ec=t,eh=r,k.width=Math.floor(t*ed),k.height=Math.floor(r*ed),!0===i&&(k.style.width=t+"px",k.style.height=r+"px"),this.setViewport(0,0,t,r)},this.getDrawingBufferSize=function(t){return t.set(ec*ed,eh*ed).floor()},this.setDrawingBufferSize=function(t,r,i){ec=t,eh=r,ed=i,k.width=Math.floor(t*i),k.height=Math.floor(r*i),this.setViewport(0,0,t,r)},this.getCurrentViewport=function(t){return t.copy(ea)},this.getViewport=function(t){return t.copy(eg)},this.setViewport=function(t,r,i,s){t.isVector4?eg.set(t.x,t.y,t.z,t.w):eg.set(t,r,i,s),u.viewport(ea.copy(eg).multiplyScalar(ed).round())},this.getScissor=function(t){return t.copy(em)},this.setScissor=function(t,r,i,s){t.isVector4?em.set(t.x,t.y,t.z,t.w):em.set(t,r,i,s),u.scissor(eo.copy(em).multiplyScalar(ed).round())},this.getScissorTest=function(){return ev},this.setScissorTest=function(t){u.setScissorTest(ev=t)},this.setOpaqueSort=function(t){ef=t},this.setTransparentSort=function(t){ep=t},this.getClearColor=function(t){return t.copy(T.getClearColor())},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(t=!0,r=!0,i=!0){let s=0;if(t){let t=!1;if(null!==en){let r=en.texture.format;t=r===t8||r===t4||r===t3}if(t){let t=en.texture.type,r=t===tN||t===tH||t===tz||t===tY||t===tW||t===tX,i=T.getClearColor(),s=T.getClearAlpha(),u=i.r,c=i.g,h=i.b;r?(X[0]=u,X[1]=c,X[2]=h,X[3]=s,eI.clearBufferuiv(eI.COLOR,0,X)):(Y[0]=u,Y[1]=c,Y[2]=h,Y[3]=s,eI.clearBufferiv(eI.COLOR,0,Y))}else s|=eI.COLOR_BUFFER_BIT}r&&(s|=eI.DEPTH_BUFFER_BIT),i&&(s|=eI.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(0xffffffff)),eI.clear(s)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){k.removeEventListener("webglcontextlost",eO,!1),k.removeEventListener("webglcontextrestored",eN,!1),k.removeEventListener("webglcontextcreationerror",eF,!1),S.dispose(),A.dispose(),h.dispose(),p.dispose(),v.dispose(),_.dispose(),L.dispose(),B.dispose(),b.dispose(),ek.dispose(),ek.removeEventListener("sessionstart",eH),ek.removeEventListener("sessionend",eV),ej.stop()};function ez(t,r,i){!0===t.transparent&&t.side===eB&&!1===t.forceSinglePass?(t.side=eL,t.needsUpdate=!0,eJ(t,r,i),t.side=eP,t.needsUpdate=!0,eJ(t,r,i),t.side=eB):eJ(t,r,i)}this.renderBufferDirect=function(t,r,c,_,b,S){let A;null===r&&(r=eC);let C=b.isMesh&&0>b.matrixWorld.determinant(),T=function(t,r,i,c,y){!0!==r.isScene&&(r=eC),f.resetTextureUnits();let x=r.fog,_=c.isMeshStandardMaterial?r.environment:null,b=null===en?q.outputColorSpace:!0===en.isXRRenderTarget?en.texture.colorSpace:nq,S=(c.isMeshStandardMaterial?v:p).get(c.envMap||_),A=!0===c.vertexColors&&!!i.attributes.color&&4===i.attributes.color.itemSize,C=!!i.attributes.tangent&&(!!c.normalMap||c.anisotropy>0),T=!!i.morphAttributes.position,D=!!i.morphAttributes.normal,R=!!i.morphAttributes.color,P=tl;c.toneMapped&&(null===en||!0===en.isXRRenderTarget)&&(P=q.toneMapping);let L=i.morphAttributes.position||i.morphAttributes.normal||i.morphAttributes.color,k=void 0!==L?L.length:0,O=h.get(c),N=K.state.lights;if(!0===ex&&(!0===e_||t!==ei)){let r=t===ei&&c.id===er;M.setState(c,t,r)}let F=!1;c.version===O.__version?O.needsLights&&O.lightsStateVersion!==N.state.version?F=!0:O.outputColorSpace!==b?F=!0:y.isBatchedMesh&&!1===O.batching?F=!0:y.isBatchedMesh||!0!==O.batching?y.isBatchedMesh&&!0===O.batchingColor&&null===y.colorTexture?F=!0:y.isBatchedMesh&&!1===O.batchingColor&&null!==y.colorTexture?F=!0:y.isInstancedMesh&&!1===O.instancing?F=!0:y.isInstancedMesh||!0!==O.instancing?y.isSkinnedMesh&&!1===O.skinning?F=!0:y.isSkinnedMesh||!0!==O.skinning?y.isInstancedMesh&&!0===O.instancingColor&&null===y.instanceColor?F=!0:y.isInstancedMesh&&!1===O.instancingColor&&null!==y.instanceColor?F=!0:y.isInstancedMesh&&!0===O.instancingMorph&&null===y.morphTexture?F=!0:y.isInstancedMesh&&!1===O.instancingMorph&&null!==y.morphTexture?F=!0:O.envMap!==S?F=!0:!0===c.fog&&O.fog!==x?F=!0:void 0!==O.numClippingPlanes&&(O.numClippingPlanes!==M.numPlanes||O.numIntersection!==M.numIntersection)?F=!0:O.vertexAlphas!==A?F=!0:O.vertexTangents!==C?F=!0:O.morphTargets!==T?F=!0:O.morphNormals!==D?F=!0:O.morphColors!==R?F=!0:O.toneMapping!==P?F=!0:O.morphTargetsCount!==k&&(F=!0):F=!0:F=!0:F=!0:(F=!0,O.__version=c.version);let U=O.currentProgram;!0===F&&(U=eJ(c,r,y));let z=!1,G=!1,H=!1,V=U.getUniforms(),j=O.uniforms;if(u.useProgram(U.program)&&(z=!0,G=!0,H=!0),c.id!==er&&(er=c.id,G=!0),z||ei!==t){u.buffers.depth.getReversed()?(ew.copy(t.projectionMatrix),!function(t){let r=t.elements;r[2]=.5*r[2]+.5*r[3],r[6]=.5*r[6]+.5*r[7],r[10]=.5*r[10]+.5*r[11],r[14]=.5*r[14]+.5*r[15]}(ew),!function(t){let r=t.elements;-1===r[11]?(r[10]=-r[10]-1,r[14]=-r[14]):(r[10]=-r[10],r[14]=-r[14]+1)}(ew),V.setValue(eI,"projectionMatrix",ew)):V.setValue(eI,"projectionMatrix",t.projectionMatrix),V.setValue(eI,"viewMatrix",t.matrixWorldInverse);let r=V.map.cameraPosition;void 0!==r&&r.setValue(eI,eA.setFromMatrixPosition(t.matrixWorld)),s.logarithmicDepthBuffer&&V.setValue(eI,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),(c.isMeshPhongMaterial||c.isMeshToonMaterial||c.isMeshLambertMaterial||c.isMeshBasicMaterial||c.isMeshStandardMaterial||c.isShaderMaterial)&&V.setValue(eI,"isOrthographic",!0===t.isOrthographicCamera),ei!==t&&(ei=t,G=!0,H=!0)}if(y.isSkinnedMesh){V.setOptional(eI,y,"bindMatrix"),V.setOptional(eI,y,"bindMatrixInverse");let t=y.skeleton;t&&(null===t.boneTexture&&t.computeBoneTexture(),V.setValue(eI,"boneTexture",t.boneTexture,f))}y.isBatchedMesh&&(V.setOptional(eI,y,"batchingTexture"),V.setValue(eI,"batchingTexture",y._matricesTexture,f),V.setOptional(eI,y,"batchingIdTexture"),V.setValue(eI,"batchingIdTexture",y._indirectTexture,f),V.setOptional(eI,y,"batchingColorTexture"),null!==y._colorsTexture&&V.setValue(eI,"batchingColorTexture",y._colorsTexture,f));let W=i.morphAttributes;if((void 0!==W.position||void 0!==W.normal||void 0!==W.color)&&I.update(y,i,U),(G||O.receiveShadow!==y.receiveShadow)&&(O.receiveShadow=y.receiveShadow,V.setValue(eI,"receiveShadow",y.receiveShadow)),c.isMeshGouraudMaterial&&null!==c.envMap&&(j.envMap.value=S,j.flipEnvMap.value=S.isCubeTexture&&!1===S.isRenderTargetTexture?-1:1),c.isMeshStandardMaterial&&null===c.envMap&&null!==r.environment&&(j.envMapIntensity.value=r.environmentIntensity),G&&(V.setValue(eI,"toneMappingExposure",q.toneMappingExposure),O.needsLights&&function(t,r){t.ambientLightColor.needsUpdate=r,t.lightProbe.needsUpdate=r,t.directionalLights.needsUpdate=r,t.directionalLightShadows.needsUpdate=r,t.pointLights.needsUpdate=r,t.pointLightShadows.needsUpdate=r,t.spotLights.needsUpdate=r,t.spotLightShadows.needsUpdate=r,t.rectAreaLights.needsUpdate=r,t.hemisphereLights.needsUpdate=r}(j,H),x&&!0===c.fog&&w.refreshFogUniforms(j,x),w.refreshMaterialUniforms(j,c,ed,eh,K.state.transmissionRenderTarget[t.id]),s0.upload(eI,eQ(O),j,f)),c.isShaderMaterial&&!0===c.uniformsNeedUpdate&&(s0.upload(eI,eQ(O),j,f),c.uniformsNeedUpdate=!1),c.isSpriteMaterial&&V.setValue(eI,"center",y.center),V.setValue(eI,"modelViewMatrix",y.modelViewMatrix),V.setValue(eI,"normalMatrix",y.normalMatrix),V.setValue(eI,"modelMatrix",y.matrixWorld),c.isShaderMaterial||c.isRawShaderMaterial){let t=c.uniformsGroups;for(let r=0,i=t.length;r<i;r++){let i=t[r];B.update(i,U),B.bind(i,U)}}return U}(t,r,c,_,b);u.setMaterial(_,C);let P=c.index,k=1;if(!0===_.wireframe){if(void 0===(P=x.getWireframeAttribute(c)))return;k=2}let O=c.drawRange,N=c.attributes.position,F=O.start*k,U=(O.start+O.count)*k;null!==S&&(F=Math.max(F,S.start*k),U=Math.min(U,(S.start+S.count)*k)),null!==P?(F=Math.max(F,0),U=Math.min(U,P.count)):null!=N&&(F=Math.max(F,0),U=Math.min(U,N.count));let z=U-F;if(z<0||z===1/0)return;L.setup(b,_,T,c,P);let G=D;if(null!==P&&(A=y.get(P),(G=R).setIndex(A)),b.isMesh)!0===_.wireframe?(u.setLineWidth(_.wireframeLinewidth*eE()),G.setMode(eI.LINES)):G.setMode(eI.TRIANGLES);else if(b.isLine){let t=_.linewidth;void 0===t&&(t=1),u.setLineWidth(t*eE()),b.isLineSegments?G.setMode(eI.LINES):b.isLineLoop?G.setMode(eI.LINE_LOOP):G.setMode(eI.LINE_STRIP)}else b.isPoints?G.setMode(eI.POINTS):b.isSprite&&G.setMode(eI.TRIANGLES);if(b.isBatchedMesh){if(null!==b._multiDrawInstances)G.renderMultiDrawInstances(b._multiDrawStarts,b._multiDrawCounts,b._multiDrawCount,b._multiDrawInstances);else if(i.get("WEBGL_multi_draw"))G.renderMultiDraw(b._multiDrawStarts,b._multiDrawCounts,b._multiDrawCount);else{let t=b._multiDrawStarts,r=b._multiDrawCounts,i=b._multiDrawCount,s=P?y.get(P).bytesPerElement:1,u=h.get(_).currentProgram.getUniforms();for(let c=0;c<i;c++)u.setValue(eI,"_gl_DrawID",c),G.render(t[c]/s,r[c])}}else if(b.isInstancedMesh)G.renderInstances(F,z,b.count);else if(c.isInstancedBufferGeometry){let t=void 0!==c._maxInstanceCount?c._maxInstanceCount:1/0,r=Math.min(c.instanceCount,t);G.renderInstances(F,z,r)}else G.render(F,z)},this.compile=function(t,r,i=null){null===i&&(i=t),(K=A.get(i)).init(r),Q.push(K),i.traverseVisible(function(t){t.isLight&&t.layers.test(r.layers)&&(K.pushLight(t),t.castShadow&&K.pushShadow(t))}),t!==i&&t.traverseVisible(function(t){t.isLight&&t.layers.test(r.layers)&&(K.pushLight(t),t.castShadow&&K.pushShadow(t))}),K.setupLights();let s=new Set;return t.traverse(function(t){if(!(t.isMesh||t.isPoints||t.isLine||t.isSprite))return;let r=t.material;if(r){if(Array.isArray(r))for(let u=0;u<r.length;u++){let c=r[u];ez(c,i,t),s.add(c)}else ez(r,i,t),s.add(r)}}),Q.pop(),K=null,s},this.compileAsync=function(t,r,s=null){let u=this.compile(t,r,s);return new Promise(r=>{function s(){if(u.forEach(function(t){h.get(t).currentProgram.isReady()&&u.delete(t)}),0===u.size){r(t);return}setTimeout(s,10)}null!==i.get("KHR_parallel_shader_compile")?s():setTimeout(s,10)})};let eG=null;function eH(){ej.stop()}function eV(){ej.start()}let ej=new ob;function eW(t,r,i,s){if(!1===t.visible)return;if(t.layers.test(r.layers)){if(t.isGroup)i=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(r);else if(t.isLight)K.pushLight(t),t.castShadow&&K.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||ey.intersectsSprite(t)){s&&eM.setFromMatrixPosition(t.matrixWorld).applyMatrix4(eS);let r=_.update(t),u=t.material;u.visible&&Z.push(t,r,u,i,eM.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(!t.frustumCulled||ey.intersectsObject(t))){let r=_.update(t),u=t.material;if(s&&(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),eM.copy(t.boundingSphere.center)):(null===r.boundingSphere&&r.computeBoundingSphere(),eM.copy(r.boundingSphere.center)),eM.applyMatrix4(t.matrixWorld).applyMatrix4(eS)),Array.isArray(u)){let s=r.groups;for(let c=0,h=s.length;c<h;c++){let h=s[c],f=u[h.materialIndex];f&&f.visible&&Z.push(t,r,f,i,eM.z,h)}}else u.visible&&Z.push(t,r,u,i,eM.z,null)}}let u=t.children;for(let t=0,c=u.length;t<c;t++)eW(u[t],r,i,s)}function eX(t,r,i,s){let c=t.opaque,h=t.transmissive,f=t.transparent;K.setupLightsView(i),!0===ex&&M.setGlobalState(q.clippingPlanes,i),s&&u.viewport(ea.copy(s)),c.length>0&&eZ(c,r,i),h.length>0&&eZ(h,r,i),f.length>0&&eZ(f,r,i),u.buffers.depth.setTest(!0),u.buffers.depth.setMask(!0),u.buffers.color.setMask(!0),u.setPolygonOffset(!1)}function eY(t,r,s,u){if(null!==(!0===s.isScene?s.overrideMaterial:null))return;void 0===K.state.transmissionRenderTarget[u.id]&&(K.state.transmissionRenderTarget[u.id]=new ir(1,1,{generateMipmaps:!0,type:i.has("EXT_color_buffer_half_float")||i.has("EXT_color_buffer_float")?tj:tN,minFilter:tk,samples:4,stencilBuffer:F,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:rJ.workingColorSpace}));let c=K.state.transmissionRenderTarget[u.id],h=u.viewport||ea;c.setSize(h.z,h.w);let p=q.getRenderTarget();q.setRenderTarget(c),q.getClearColor(el),(eu=q.getClearAlpha())<1&&q.setClearColor(0xffffff,.5),q.clear(),eT&&T.render(s);let v=q.toneMapping;q.toneMapping=tl;let y=u.viewport;if(void 0!==u.viewport&&(u.viewport=void 0),K.setupLightsView(u),!0===ex&&M.setGlobalState(q.clippingPlanes,u),eZ(t,s,u),f.updateMultisampleRenderTarget(c),f.updateRenderTargetMipmap(c),!1===i.has("WEBGL_multisampled_render_to_texture")){let t=!1;for(let i=0,c=r.length;i<c;i++){let c=r[i],h=c.object,f=c.geometry,p=c.material,v=c.group;if(p.side===eB&&h.layers.test(u.layers)){let r=p.side;p.side=eL,p.needsUpdate=!0,eK(h,s,u,f,p,v),p.side=r,p.needsUpdate=!0,t=!0}}!0===t&&(f.updateMultisampleRenderTarget(c),f.updateRenderTargetMipmap(c))}q.setRenderTarget(p),q.setClearColor(el,eu),void 0!==y&&(u.viewport=y),q.toneMapping=v}function eZ(t,r,i){let s=!0===r.isScene?r.overrideMaterial:null;for(let u=0,c=t.length;u<c;u++){let c=t[u],h=c.object,f=c.geometry,p=null===s?c.material:s,v=c.group;h.layers.test(i.layers)&&eK(h,r,i,f,p,v)}}function eK(t,r,i,s,u,c){t.onBeforeRender(q,r,i,s,u,c),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),u.onBeforeRender(q,r,i,s,t,c),!0===u.transparent&&u.side===eB&&!1===u.forceSinglePass?(u.side=eL,u.needsUpdate=!0,q.renderBufferDirect(i,r,s,u,t,c),u.side=eP,u.needsUpdate=!0,q.renderBufferDirect(i,r,s,u,t,c),u.side=eB):q.renderBufferDirect(i,r,s,u,t,c),t.onAfterRender(q,r,i,s,u,c)}function eJ(t,r,i){!0!==r.isScene&&(r=eC);let s=h.get(t),u=K.state.lights,c=K.state.shadowsArray,f=u.state.version,y=b.getParameters(t,u.state,c,r,i),x=b.getProgramCacheKey(y),_=s.programs;s.environment=t.isMeshStandardMaterial?r.environment:null,s.fog=r.fog,s.envMap=(t.isMeshStandardMaterial?v:p).get(t.envMap||s.environment),s.envMapRotation=null!==s.environment&&null===t.envMap?r.environmentRotation:t.envMapRotation,void 0===_&&(t.addEventListener("dispose",eU),_=new Map,s.programs=_);let w=_.get(x);if(void 0!==w){if(s.currentProgram===w&&s.lightsStateVersion===f)return eq(t,y),w}else y.uniforms=b.getUniforms(t),t.onBeforeCompile(y,q),w=b.acquireProgram(y,x),_.set(x,w),s.uniforms=y.uniforms;let S=s.uniforms;return(!t.isShaderMaterial&&!t.isRawShaderMaterial||!0===t.clipping)&&(S.clippingPlanes=M.uniform),eq(t,y),s.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),s.lightsStateVersion=f,s.needsLights&&(S.ambientLightColor.value=u.state.ambient,S.lightProbe.value=u.state.probe,S.directionalLights.value=u.state.directional,S.directionalLightShadows.value=u.state.directionalShadow,S.spotLights.value=u.state.spot,S.spotLightShadows.value=u.state.spotShadow,S.rectAreaLights.value=u.state.rectArea,S.ltc_1.value=u.state.rectAreaLTC1,S.ltc_2.value=u.state.rectAreaLTC2,S.pointLights.value=u.state.point,S.pointLightShadows.value=u.state.pointShadow,S.hemisphereLights.value=u.state.hemi,S.directionalShadowMap.value=u.state.directionalShadowMap,S.directionalShadowMatrix.value=u.state.directionalShadowMatrix,S.spotShadowMap.value=u.state.spotShadowMap,S.spotLightMatrix.value=u.state.spotLightMatrix,S.spotLightMap.value=u.state.spotLightMap,S.pointShadowMap.value=u.state.pointShadowMap,S.pointShadowMatrix.value=u.state.pointShadowMatrix),s.currentProgram=w,s.uniformsList=null,w}function eQ(t){if(null===t.uniformsList){let r=t.currentProgram.getUniforms();t.uniformsList=s0.seqWithValue(r.seq,t.uniforms)}return t.uniformsList}function eq(t,r){let i=h.get(t);i.outputColorSpace=r.outputColorSpace,i.batching=r.batching,i.batchingColor=r.batchingColor,i.instancing=r.instancing,i.instancingColor=r.instancingColor,i.instancingMorph=r.instancingMorph,i.skinning=r.skinning,i.morphTargets=r.morphTargets,i.morphNormals=r.morphNormals,i.morphColors=r.morphColors,i.morphTargetsCount=r.morphTargetsCount,i.numClippingPlanes=r.numClippingPlanes,i.numIntersection=r.numClipIntersection,i.vertexAlphas=r.vertexAlphas,i.vertexTangents=r.vertexTangents,i.toneMapping=r.toneMapping}ej.setAnimationLoop(function(t){eG&&eG(t)}),"undefined"!=typeof self&&ej.setContext(self),this.setAnimationLoop=function(t){eG=t,ek.setAnimationLoop(t),null===t?ej.stop():ej.start()},ek.addEventListener("sessionstart",eH),ek.addEventListener("sessionend",eV),this.render=function(t,r){if(void 0!==r&&!0!==r.isCamera||!0===$)return;if(!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===r.parent&&!0===r.matrixWorldAutoUpdate&&r.updateMatrixWorld(),!0===ek.enabled&&!0===ek.isPresenting&&(!0===ek.cameraAutoUpdate&&ek.updateCamera(r),r=ek.getCamera()),!0===t.isScene&&t.onBeforeRender(q,t,r,en),(K=A.get(t,Q.length)).init(r),Q.push(K),eS.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ey.setFromProjectionMatrix(eS),e_=this.localClippingEnabled,ex=M.init(this.clippingPlanes,e_),(Z=S.get(t,J.length)).init(),J.push(Z),!0===ek.enabled&&!0===ek.isPresenting){let t=q.xr.getDepthSensingMesh();null!==t&&eW(t,r,-1/0,q.sortObjects)}eW(t,r,0,q.sortObjects),Z.finish(),!0===q.sortObjects&&Z.sort(ef,ep),(eT=!1===ek.enabled||!1===ek.isPresenting||!1===ek.hasDepthSensing())&&T.addToRenderList(Z,t),this.info.render.frame++,!0===ex&&M.beginShadows();let i=K.state.shadowsArray;C.render(i,t,r),!0===ex&&M.endShadows(),!0===this.info.autoReset&&this.info.reset();let s=Z.opaque,u=Z.transmissive;if(K.setupLights(),r.isArrayCamera){let i=r.cameras;if(u.length>0)for(let r=0,c=i.length;r<c;r++)eY(s,u,t,i[r]);eT&&T.render(t);for(let r=0,s=i.length;r<s;r++){let s=i[r];eX(Z,t,s,s.viewport)}}else u.length>0&&eY(s,u,t,r),eT&&T.render(t),eX(Z,t,r);null!==en&&(f.updateMultisampleRenderTarget(en),f.updateRenderTargetMipmap(en)),!0===t.isScene&&t.onAfterRender(q,t,r),L.resetDefaultState(),er=-1,ei=null,Q.pop(),Q.length>0?(K=Q[Q.length-1],!0===ex&&M.setGlobalState(q.clippingPlanes,K.state.camera)):K=null,J.pop(),Z=J.length>0?J[J.length-1]:null};this.getActiveCubeFace=function(){return ee},this.getActiveMipmapLevel=function(){return et},this.getRenderTarget=function(){return en},this.setRenderTargetTextures=function(t,r,s){h.get(t.texture).__webglTexture=r,h.get(t.depthTexture).__webglTexture=s;let u=h.get(t);u.__hasExternalTextures=!0,u.__autoAllocateDepthBuffer=void 0===s,!u.__autoAllocateDepthBuffer&&!0===i.has("WEBGL_multisampled_render_to_texture")&&(u.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(t,r){let i=h.get(t);i.__webglFramebuffer=r,i.__useDefaultFramebuffer=void 0===r},this.setRenderTarget=function(t,r=0,i=0){en=t,ee=r,et=i;let s=!0,c=null,p=!1,v=!1;if(t){let y=h.get(t);if(void 0!==y.__useDefaultFramebuffer)u.bindFramebuffer(eI.FRAMEBUFFER,null),s=!1;else if(void 0===y.__webglFramebuffer)f.setupRenderTarget(t);else if(y.__hasExternalTextures)f.rebindTextures(t,h.get(t.texture).__webglTexture,h.get(t.depthTexture).__webglTexture);else if(t.depthBuffer){let r=t.depthTexture;if(y.__boundDepthTexture!==r){if(null!==r&&h.has(r)&&(t.width!==r.image.width||t.height!==r.image.height))throw Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");f.setupDepthRenderbuffer(t)}}let x=t.texture;(x.isData3DTexture||x.isDataArrayTexture||x.isCompressedArrayTexture)&&(v=!0);let _=h.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(c=Array.isArray(_[r])?_[r][i]:_[r],p=!0):c=t.samples>0&&!1===f.useMultisampledRTT(t)?h.get(t).__webglMultisampledFramebuffer:Array.isArray(_)?_[i]:_,ea.copy(t.viewport),eo.copy(t.scissor),es=t.scissorTest}else ea.copy(eg).multiplyScalar(ed).floor(),eo.copy(em).multiplyScalar(ed).floor(),es=ev;if(u.bindFramebuffer(eI.FRAMEBUFFER,c)&&s&&u.drawBuffers(t,c),u.viewport(ea),u.scissor(eo),u.setScissorTest(es),p){let s=h.get(t.texture);eI.framebufferTexture2D(eI.FRAMEBUFFER,eI.COLOR_ATTACHMENT0,eI.TEXTURE_CUBE_MAP_POSITIVE_X+r,s.__webglTexture,i)}else if(v){let s=h.get(t.texture);eI.framebufferTextureLayer(eI.FRAMEBUFFER,eI.COLOR_ATTACHMENT0,s.__webglTexture,i||0,r||0)}er=-1},this.readRenderTargetPixels=function(t,r,i,c,f,p,v){if(!(t&&t.isWebGLRenderTarget))return;let y=h.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==v&&(y=y[v]),y){u.bindFramebuffer(eI.FRAMEBUFFER,y);try{let u=t.texture,h=u.format,v=u.type;if(!s.textureFormatReadable(h)||!s.textureTypeReadable(v))return;r>=0&&r<=t.width-c&&i>=0&&i<=t.height-f&&eI.readPixels(r,i,c,f,P.convert(h),P.convert(v),p)}finally{let t=null!==en?h.get(en).__webglFramebuffer:null;u.bindFramebuffer(eI.FRAMEBUFFER,t)}}},this.readRenderTargetPixelsAsync=async function(t,r,i,c,f,p,v){if(!(t&&t.isWebGLRenderTarget))throw Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let y=h.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==v&&(y=y[v]),y){let v=t.texture,w=v.format,S=v.type;if(!s.textureFormatReadable(w))throw Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!s.textureTypeReadable(S))throw Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(r>=0&&r<=t.width-c&&i>=0&&i<=t.height-f){var x,_,b;u.bindFramebuffer(eI.FRAMEBUFFER,y);let t=eI.createBuffer();eI.bindBuffer(eI.PIXEL_PACK_BUFFER,t),eI.bufferData(eI.PIXEL_PACK_BUFFER,p.byteLength,eI.STREAM_READ),eI.readPixels(r,i,c,f,P.convert(w),P.convert(S),0);let s=null!==en?h.get(en).__webglFramebuffer:null;u.bindFramebuffer(eI.FRAMEBUFFER,s);let v=eI.fenceSync(eI.SYNC_GPU_COMMANDS_COMPLETE,0);return eI.flush(),await (x=eI,_=v,b=4,new Promise(function(t,r){setTimeout(function i(){switch(x.clientWaitSync(_,x.SYNC_FLUSH_COMMANDS_BIT,0)){case x.WAIT_FAILED:r();break;case x.TIMEOUT_EXPIRED:setTimeout(i,4);break;default:t()}},b)})),eI.bindBuffer(eI.PIXEL_PACK_BUFFER,t),eI.getBufferSubData(eI.PIXEL_PACK_BUFFER,0,p),eI.deleteBuffer(t),eI.deleteSync(v),p}throw Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(t,r=null,i=0){!0!==t.isTexture&&(rK("WebGLRenderer: copyFramebufferToTexture function signature has changed."),r=arguments[0]||null,t=arguments[1]);let s=Math.pow(2,-i),c=Math.floor(t.image.width*s),h=Math.floor(t.image.height*s),p=null!==r?r.x:0,v=null!==r?r.y:0;f.setTexture2D(t,0),eI.copyTexSubImage2D(eI.TEXTURE_2D,i,0,0,p,v,c,h),u.unbindTexture()},this.copyTextureToTexture=function(t,r,i=null,s=null,c=0){let p,v,y,x,_,b,w,S,A,M;!0!==t.isTexture&&(rK("WebGLRenderer: copyTextureToTexture function signature has changed."),s=arguments[0]||null,t=arguments[1],r=arguments[2],c=arguments[3]||0,i=null);let C=t.isCompressedTexture?t.mipmaps[c]:t.image;null!==i?(p=i.max.x-i.min.x,v=i.max.y-i.min.y,y=i.isBox3?i.max.z-i.min.z:1,x=i.min.x,_=i.min.y,b=i.isBox3?i.min.z:0):(p=C.width,v=C.height,y=C.depth||1,x=0,_=0,b=0),null!==s?(w=s.x,S=s.y,A=s.z):(w=0,S=0,A=0);let T=P.convert(r.format),I=P.convert(r.type);r.isData3DTexture?(f.setTexture3D(r,0),M=eI.TEXTURE_3D):r.isDataArrayTexture||r.isCompressedArrayTexture?(f.setTexture2DArray(r,0),M=eI.TEXTURE_2D_ARRAY):(f.setTexture2D(r,0),M=eI.TEXTURE_2D),eI.pixelStorei(eI.UNPACK_FLIP_Y_WEBGL,r.flipY),eI.pixelStorei(eI.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),eI.pixelStorei(eI.UNPACK_ALIGNMENT,r.unpackAlignment);let D=eI.getParameter(eI.UNPACK_ROW_LENGTH),R=eI.getParameter(eI.UNPACK_IMAGE_HEIGHT),L=eI.getParameter(eI.UNPACK_SKIP_PIXELS),B=eI.getParameter(eI.UNPACK_SKIP_ROWS),k=eI.getParameter(eI.UNPACK_SKIP_IMAGES);eI.pixelStorei(eI.UNPACK_ROW_LENGTH,C.width),eI.pixelStorei(eI.UNPACK_IMAGE_HEIGHT,C.height),eI.pixelStorei(eI.UNPACK_SKIP_PIXELS,x),eI.pixelStorei(eI.UNPACK_SKIP_ROWS,_),eI.pixelStorei(eI.UNPACK_SKIP_IMAGES,b);let O=t.isDataArrayTexture||t.isData3DTexture,N=r.isDataArrayTexture||r.isData3DTexture;if(t.isRenderTargetTexture||t.isDepthTexture){let i=h.get(t),s=h.get(r),f=h.get(i.__renderTarget),C=h.get(s.__renderTarget);u.bindFramebuffer(eI.READ_FRAMEBUFFER,f.__webglFramebuffer),u.bindFramebuffer(eI.DRAW_FRAMEBUFFER,C.__webglFramebuffer);for(let i=0;i<y;i++)O&&eI.framebufferTextureLayer(eI.READ_FRAMEBUFFER,eI.COLOR_ATTACHMENT0,h.get(t).__webglTexture,c,b+i),t.isDepthTexture?(N&&eI.framebufferTextureLayer(eI.DRAW_FRAMEBUFFER,eI.COLOR_ATTACHMENT0,h.get(r).__webglTexture,c,A+i),eI.blitFramebuffer(x,_,p,v,w,S,p,v,eI.DEPTH_BUFFER_BIT,eI.NEAREST)):N?eI.copyTexSubImage3D(M,c,w,S,A+i,x,_,p,v):eI.copyTexSubImage2D(M,c,w,S,A+i,x,_,p,v);u.bindFramebuffer(eI.READ_FRAMEBUFFER,null),u.bindFramebuffer(eI.DRAW_FRAMEBUFFER,null)}else N?t.isDataTexture||t.isData3DTexture?eI.texSubImage3D(M,c,w,S,A,p,v,y,T,I,C.data):r.isCompressedArrayTexture?eI.compressedTexSubImage3D(M,c,w,S,A,p,v,y,T,C.data):eI.texSubImage3D(M,c,w,S,A,p,v,y,T,I,C):t.isDataTexture?eI.texSubImage2D(eI.TEXTURE_2D,c,w,S,p,v,T,I,C.data):t.isCompressedTexture?eI.compressedTexSubImage2D(eI.TEXTURE_2D,c,w,S,C.width,C.height,T,C.data):eI.texSubImage2D(eI.TEXTURE_2D,c,w,S,p,v,T,I,C);eI.pixelStorei(eI.UNPACK_ROW_LENGTH,D),eI.pixelStorei(eI.UNPACK_IMAGE_HEIGHT,R),eI.pixelStorei(eI.UNPACK_SKIP_PIXELS,L),eI.pixelStorei(eI.UNPACK_SKIP_ROWS,B),eI.pixelStorei(eI.UNPACK_SKIP_IMAGES,k),0===c&&r.generateMipmaps&&eI.generateMipmap(M),u.unbindTexture()},this.copyTextureToTexture3D=function(t,r,i=null,s=null,u=0){return!0!==t.isTexture&&(rK("WebGLRenderer: copyTextureToTexture3D function signature has changed."),i=arguments[0]||null,s=arguments[1]||null,t=arguments[2],r=arguments[3],u=arguments[4]||0),rK('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(t,r,i,s,u)},this.initRenderTarget=function(t){void 0===h.get(t).__webglFramebuffer&&f.setupRenderTarget(t)},this.initTexture=function(t){t.isCubeTexture?f.setTextureCube(t,0):t.isData3DTexture?f.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?f.setTexture2DArray(t,0):f.setTexture2D(t,0),u.unbindTexture()},this.resetState=function(){ee=0,et=0,en=null,u.reset(),L.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return rC}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;let r=this.getContext();r.drawingBufferColorspace=rJ._getDrawingBufferColorSpace(t),r.unpackColorSpace=rJ._getUnpackColorSpace()}}class lW{constructor(t,r=25e-5){this.isFogExp2=!0,this.name="",this.color=new aw(t),this.density=r}clone(){return new lW(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class lX{constructor(t,r=1,i=1e3){this.isFog=!0,this.name="",this.color=new aw(t),this.near=r,this.far=i}clone(){return new lX(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class lY extends ar{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new iJ,this.environmentIntensity=1,this.environmentRotation=new iJ,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,r){return super.copy(t,r),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){let r=super.toJSON(t);return null!==this.fog&&(r.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(r.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(r.object.backgroundIntensity=this.backgroundIntensity),r.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(r.object.environmentIntensity=this.environmentIntensity),r.object.environmentRotation=this.environmentRotation.toArray(),r}}class lZ{constructor(t,r){this.isInterleavedBuffer=!0,this.array=t,this.stride=r,this.count=void 0!==t?t.length/r:0,this.usage=rg,this.updateRanges=[],this.version=0,this.uuid=rL()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,r){this.updateRanges.push({start:t,count:r})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,r,i){t*=this.stride,i*=r.stride;for(let s=0,u=this.stride;s<u;s++)this.array[t+s]=r.array[i+s];return this}set(t,r=0){return this.array.set(t,r),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=rL()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let r=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(r,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=rL()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}let lK=new iu;class lJ{constructor(t,r,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=r,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let r=0,i=this.data.count;r<i;r++)lK.fromBufferAttribute(this,r),lK.applyMatrix4(t),this.setXYZ(r,lK.x,lK.y,lK.z);return this}applyNormalMatrix(t){for(let r=0,i=this.count;r<i;r++)lK.fromBufferAttribute(this,r),lK.applyNormalMatrix(t),this.setXYZ(r,lK.x,lK.y,lK.z);return this}transformDirection(t){for(let r=0,i=this.count;r<i;r++)lK.fromBufferAttribute(this,r),lK.transformDirection(t),this.setXYZ(r,lK.x,lK.y,lK.z);return this}getComponent(t,r){let i=this.array[t*this.data.stride+this.offset+r];return this.normalized&&(i=rN(i,this.array)),i}setComponent(t,r,i){return this.normalized&&(i=rF(i,this.array)),this.data.array[t*this.data.stride+this.offset+r]=i,this}setX(t,r){return this.normalized&&(r=rF(r,this.array)),this.data.array[t*this.data.stride+this.offset]=r,this}setY(t,r){return this.normalized&&(r=rF(r,this.array)),this.data.array[t*this.data.stride+this.offset+1]=r,this}setZ(t,r){return this.normalized&&(r=rF(r,this.array)),this.data.array[t*this.data.stride+this.offset+2]=r,this}setW(t,r){return this.normalized&&(r=rF(r,this.array)),this.data.array[t*this.data.stride+this.offset+3]=r,this}getX(t){let r=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(r=rN(r,this.array)),r}getY(t){let r=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(r=rN(r,this.array)),r}getZ(t){let r=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(r=rN(r,this.array)),r}getW(t){let r=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(r=rN(r,this.array)),r}setXY(t,r,i){return t=t*this.data.stride+this.offset,this.normalized&&(r=rF(r,this.array),i=rF(i,this.array)),this.data.array[t+0]=r,this.data.array[t+1]=i,this}setXYZ(t,r,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(r=rF(r,this.array),i=rF(i,this.array),s=rF(s,this.array)),this.data.array[t+0]=r,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,r,i,s,u){return t=t*this.data.stride+this.offset,this.normalized&&(r=rF(r,this.array),i=rF(i,this.array),s=rF(s,this.array),u=rF(u,this.array)),this.data.array[t+0]=r,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=u,this}clone(t){if(void 0!==t)return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new lJ(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);{let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new aL(new this.array.constructor(t),this.itemSize,this.normalized)}}toJSON(t){if(void 0!==t)return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};{let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}}}class lQ extends aM{static get type(){return"SpriteMaterial"}constructor(t){super(),this.isSpriteMaterial=!0,this.color=new aw(0xffffff),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let lq=new iu,l$=new iu,l0=new iu,l1=new rz,l2=new rz,l3=new iz,l5=new iu,l4=new iu,l9=new iu,l8=new rz,l6=new rz,l7=new rz;class ue extends ar{constructor(t=new lQ){if(super(),this.isSprite=!0,this.type="Sprite",void 0===r){r=new aJ;let t=new lZ(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);r.setIndex([0,1,2,0,2,3]),r.setAttribute("position",new lJ(t,3,0,!1)),r.setAttribute("uv",new lJ(t,2,3,!1))}this.geometry=r,this.material=t,this.center=new rz(.5,.5)}raycast(t,r){let i,s;t.camera,l$.setFromMatrixScale(this.matrixWorld),l3.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),l0.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&l$.multiplyScalar(-l0.z);let u=this.material.rotation;0!==u&&(s=Math.cos(u),i=Math.sin(u));let c=this.center;ut(l5.set(-.5,-.5,0),l0,c,l$,i,s),ut(l4.set(.5,-.5,0),l0,c,l$,i,s),ut(l9.set(.5,.5,0),l0,c,l$,i,s),l8.set(0,0),l6.set(1,0),l7.set(1,1);let h=t.ray.intersectTriangle(l5,l4,l9,!1,lq);if(null===h&&(ut(l4.set(-.5,.5,0),l0,c,l$,i,s),l6.set(0,1),null===(h=t.ray.intersectTriangle(l5,l9,l4,!1,lq))))return;let f=t.ray.origin.distanceTo(lq);!(f<t.near)&&!(f>t.far)&&r.push({distance:f,point:lq.clone(),uv:av.getInterpolation(lq,l5,l4,l9,l8,l6,l7,new rz),face:null,object:this})}copy(t,r){return super.copy(t,r),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function ut(t,r,i,s,u,c){l1.subVectors(t,i).addScalar(.5).multiply(s),void 0!==u?(l2.x=c*l1.x-u*l1.y,l2.y=u*l1.x+c*l1.y):l2.copy(l1),t.copy(r),t.x+=l2.x,t.y+=l2.y,t.applyMatrix4(l3)}let un=new iu,ur=new iu;class ui extends ar{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);let r=t.levels;for(let t=0,i=r.length;t<i;t++){let i=r[t];this.addLevel(i.object.clone(),i.distance,i.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,r=0,i=0){let s;r=Math.abs(r);let u=this.levels;for(s=0;s<u.length&&!(r<u[s].distance);s++);return u.splice(s,0,{distance:r,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){let r=this.levels;for(let i=0;i<r.length;i++)if(r[i].distance===t){let t=r.splice(i,1);return this.remove(t[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){let r=this.levels;if(r.length>0){let i,s;for(i=1,s=r.length;i<s;i++){let s=r[i].distance;if(r[i].object.visible&&(s-=s*r[i].hysteresis),t<s)break}return r[i-1].object}return null}raycast(t,r){if(this.levels.length>0){un.setFromMatrixPosition(this.matrixWorld);let i=t.ray.origin.distanceTo(un);this.getObjectForDistance(i).raycast(t,r)}}update(t){let r=this.levels;if(r.length>1){let i,s;un.setFromMatrixPosition(t.matrixWorld),ur.setFromMatrixPosition(this.matrixWorld);let u=un.distanceTo(ur)/t.zoom;for(i=1,r[0].object.visible=!0,s=r.length;i<s;i++){let t=r[i].distance;if(r[i].object.visible&&(t-=t*r[i].hysteresis),u>=t)r[i-1].object.visible=!1,r[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)r[i].object.visible=!1}}toJSON(t){let r=super.toJSON(t);!1===this.autoUpdate&&(r.object.autoUpdate=!1),r.object.levels=[];let i=this.levels;for(let t=0,s=i.length;t<s;t++){let s=i[t];r.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return r}}let ua=new iu,uo=new ie,us=new ie,ul=new iu,uu=new iz,uc=new iu,uh=new iR,ud=new iz,uf=new iU;class up extends a6{constructor(t,r){super(t,r),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=tm,this.bindMatrix=new iz,this.bindMatrixInverse=new iz,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let t=this.geometry;null===this.boundingBox&&(this.boundingBox=new id),this.boundingBox.makeEmpty();let r=t.getAttribute("position");for(let t=0;t<r.count;t++)this.getVertexPosition(t,uc),this.boundingBox.expandByPoint(uc)}computeBoundingSphere(){let t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new iR),this.boundingSphere.makeEmpty();let r=t.getAttribute("position");for(let t=0;t<r.count;t++)this.getVertexPosition(t,uc),this.boundingSphere.expandByPoint(uc)}copy(t,r){return super.copy(t,r),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,r){let i=this.material,s=this.matrixWorld;if(void 0!==i){if(null===this.boundingSphere&&this.computeBoundingSphere(),uh.copy(this.boundingSphere),uh.applyMatrix4(s),!1!==t.ray.intersectsSphere(uh)){if(ud.copy(s).invert(),uf.copy(t.ray).applyMatrix4(ud),null!==this.boundingBox&&!1===uf.intersectsBox(this.boundingBox))return;this._computeIntersections(t,r,uf)}}}getVertexPosition(t,r){return super.getVertexPosition(t,r),this.applyBoneTransform(t,r),r}bind(t,r){this.skeleton=t,void 0===r&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.copy(r).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let t=new ie,r=this.geometry.attributes.skinWeight;for(let i=0,s=r.count;i<s;i++){t.fromBufferAttribute(r,i);let s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),r.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===tm?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===tv&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}applyBoneTransform(t,r){let i=this.skeleton,s=this.geometry;uo.fromBufferAttribute(s.attributes.skinIndex,t),us.fromBufferAttribute(s.attributes.skinWeight,t),ua.copy(r).applyMatrix4(this.bindMatrix),r.set(0,0,0);for(let t=0;t<4;t++){let s=us.getComponent(t);if(0!==s){let u=uo.getComponent(t);uu.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),r.addScaledVector(ul.copy(ua).applyMatrix4(uu),s)}}return r.applyMatrix4(this.bindMatrixInverse)}}class ug extends ar{constructor(){super(),this.isBone=!0,this.type="Bone"}}class um extends r7{constructor(t=null,r=1,i=1,s,u,c,h,f,p=tT,v=tT,y,x){super(null,c,h,f,p,v,s,u,y,x),this.isDataTexture=!0,this.image={data:t,width:r,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}let uv=new iz,uy=new iz;class ux{constructor(t=[],r=[]){this.uuid=rL(),this.bones=t.slice(0),this.boneInverses=r,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){let t=this.bones,r=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===r.length)this.calculateInverses();else if(t.length!==r.length){this.boneInverses=[];for(let t=0,r=this.bones.length;t<r;t++)this.boneInverses.push(new iz)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,r=this.bones.length;t<r;t++){let r=new iz;this.bones[t]&&r.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let t=0,r=this.bones.length;t<r;t++){let r=this.bones[t];r&&r.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,r=this.bones.length;t<r;t++){let r=this.bones[t];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){let t=this.bones,r=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let s=0,u=t.length;s<u;s++){let u=t[s]?t[s].matrixWorld:uy;uv.multiplyMatrices(u,r[s]),uv.toArray(i,16*s)}null!==s&&(s.needsUpdate=!0)}clone(){return new ux(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length),r=new Float32Array((t=Math.max(t=4*Math.ceil(t/4),4))*t*4);r.set(this.boneMatrices);let i=new um(r,t,t,tQ,tV);return i.needsUpdate=!0,this.boneMatrices=r,this.boneTexture=i,this}getBoneByName(t){for(let r=0,i=this.bones.length;r<i;r++){let i=this.bones[r];if(i.name===t)return i}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,r){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){let s=r[t.bones[i]];void 0===s&&(s=new ug),this.bones.push(s),this.boneInverses.push(new iz().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){let t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;let r=this.bones,i=this.boneInverses;for(let s=0,u=r.length;s<u;s++){let u=r[s];t.bones.push(u.uuid);let c=i[s];t.boneInverses.push(c.toArray())}return t}}class u_ extends aL{constructor(t,r,i,s=1){super(t,r,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){let t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}let ub=new iz,uw=new iz,uS=[],uA=new id,uM=new iz,uC=new a6,uT=new iR;class uE extends a6{constructor(t,r,i){super(t,r),this.isInstancedMesh=!0,this.instanceMatrix=new u_(new Float32Array(16*i),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let t=0;t<i;t++)this.setMatrixAt(t,uM)}computeBoundingBox(){let t=this.geometry,r=this.count;null===this.boundingBox&&(this.boundingBox=new id),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<r;i++)this.getMatrixAt(i,ub),uA.copy(t.boundingBox).applyMatrix4(ub),this.boundingBox.union(uA)}computeBoundingSphere(){let t=this.geometry,r=this.count;null===this.boundingSphere&&(this.boundingSphere=new iR),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<r;i++)this.getMatrixAt(i,ub),uT.copy(t.boundingSphere).applyMatrix4(ub),this.boundingSphere.union(uT)}copy(t,r){return super.copy(t,r),this.instanceMatrix.copy(t.instanceMatrix),null!==t.morphTexture&&(this.morphTexture=t.morphTexture.clone()),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,r){r.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,r){r.fromArray(this.instanceMatrix.array,16*t)}getMorphAt(t,r){let i=r.morphTargetInfluences,s=this.morphTexture.source.data.data,u=t*(i.length+1)+1;for(let t=0;t<i.length;t++)i[t]=s[u+t]}raycast(t,r){let i=this.matrixWorld,s=this.count;if(uC.geometry=this.geometry,uC.material=this.material,void 0!==uC.material){if(null===this.boundingSphere&&this.computeBoundingSphere(),uT.copy(this.boundingSphere),uT.applyMatrix4(i),!1!==t.ray.intersectsSphere(uT))for(let u=0;u<s;u++){this.getMatrixAt(u,ub),uw.multiplyMatrices(i,ub),uC.matrixWorld=uw,uC.raycast(t,uS);for(let t=0,i=uS.length;t<i;t++){let i=uS[t];i.instanceId=u,i.object=this,r.push(i)}uS.length=0}}}setColorAt(t,r){null===this.instanceColor&&(this.instanceColor=new u_(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),r.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,r){r.toArray(this.instanceMatrix.array,16*t)}setMorphAt(t,r){let i=r.morphTargetInfluences,s=i.length+1;null===this.morphTexture&&(this.morphTexture=new um(new Float32Array(s*this.count),s,this.count,t2,tV));let u=this.morphTexture.source.data.data,c=0;for(let t=0;t<i.length;t++)c+=i[t];let h=this.geometry.morphTargetsRelative?1:1-c,f=s*t;u[f]=h,u.set(i,f+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function uI(t,r){return t-r}function uD(t,r){return t.z-r.z}function uR(t,r){return r.z-t.z}let uP=new iz,uL=new aw(1,1,1),uB=new o_,uk=new id,uO=new iR,uN=new iu,uF=new iu,uU=new iu,uz=new class t{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,r,i,s){let u=this.pool,c=this.list;this.index>=u.length&&u.push({start:-1,count:-1,z:-1,index:-1});let h=u[this.index];c.push(h),this.index++,h.start=t,h.count=r,h.z=i,h.index=s}reset(){this.list.length=0,this.index=0}},uG=new a6,uH=[];function uV(t,r){if(t.constructor!==r.constructor){let i=Math.min(t.length,r.length);for(let s=0;s<i;s++)r[s]=t[s]}else{let i=Math.min(t.length,r.length);r.set(new t.constructor(t.buffer,0,i))}}class uj extends a6{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(t,r,i=2*r,s){super(new aJ,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=r,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let t=Math.sqrt(4*this._maxInstanceCount),r=new um(new Float32Array((t=Math.max(t=4*Math.ceil(t/4),4))*t*4),t,t,tQ,tV);this._matricesTexture=r}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount),r=new um(new Uint32Array((t=Math.ceil(t))*t),t,t,t3,tH);this._indirectTexture=r}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount),r=new um(new Float32Array((t=Math.ceil(t))*t*4).fill(1),t,t,tQ,tV);r.colorSpace=rJ.workingColorSpace,this._colorsTexture=r}_initializeGeometry(t){let r=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(!1===this._geometryInitialized){for(let s in t.attributes){let{array:u,itemSize:c,normalized:h}=t.getAttribute(s),f=new aL(new u.constructor(i*c),c,h);r.setAttribute(s,f)}if(null!==t.getIndex()){let t=i>65535?new Uint32Array(s):new Uint16Array(s);r.setIndex(new aL(t,1))}this._geometryInitialized=!0}}_validateGeometry(t){let r=this.geometry;if(!!t.getIndex()!=!!r.getIndex())throw Error('BatchedMesh: All geometries must consistently have "index".');for(let i in r.attributes){if(!t.hasAttribute(i))throw Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);let s=t.getAttribute(i),u=r.getAttribute(i);if(s.itemSize!==u.itemSize||s.normalized!==u.normalized)throw Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new id);let t=this.boundingBox,r=this._instanceInfo;t.makeEmpty();for(let i=0,s=r.length;i<s;i++){if(!1===r[i].active)continue;let s=r[i].geometryIndex;this.getMatrixAt(i,uP),this.getBoundingBoxAt(s,uk).applyMatrix4(uP),t.union(uk)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new iR);let t=this.boundingSphere,r=this._instanceInfo;t.makeEmpty();for(let i=0,s=r.length;i<s;i++){if(!1===r[i].active)continue;let s=r[i].geometryIndex;this.getMatrixAt(i,uP),this.getBoundingSphereAt(s,uO).applyMatrix4(uP),t.union(uO)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw Error("BatchedMesh: Maximum item count reached.");let r={visible:!0,active:!0,geometryIndex:t},i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(uI),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));let s=this._matricesTexture;uP.identity().toArray(s.image.data,16*i),s.needsUpdate=!0;let u=this._colorsTexture;return u&&(uL.toArray(u.image.data,4*i),u.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(t,r=-1,i=-1){let s;this._initializeGeometry(t),this._validateGeometry(t);let u={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},c=this._geometryInfo;u.vertexStart=this._nextVertexStart,u.reservedVertexCount=-1===r?t.getAttribute("position").count:r;let h=t.getIndex();if(null!==h&&(u.indexStart=this._nextIndexStart,u.reservedIndexCount=-1===i?h.count:i),-1!==u.indexStart&&u.indexStart+u.reservedIndexCount>this._maxIndexCount||u.vertexStart+u.reservedVertexCount>this._maxVertexCount)throw Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(uI),c[s=this._availableGeometryIds.shift()]=u):(s=this._geometryCount,this._geometryCount++,c.push(u)),this.setGeometryAt(s,t),this._nextIndexStart=u.indexStart+u.reservedIndexCount,this._nextVertexStart=u.vertexStart+u.reservedVertexCount,s}setGeometryAt(t,r){if(t>=this._geometryCount)throw Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(r);let i=this.geometry,s=null!==i.getIndex(),u=i.getIndex(),c=r.getIndex(),h=this._geometryInfo[t];if(s&&c.count>h.reservedIndexCount||r.attributes.position.count>h.reservedVertexCount)throw Error("BatchedMesh: Reserved space not large enough for provided geometry.");let f=h.vertexStart,p=h.reservedVertexCount;for(let t in h.vertexCount=r.getAttribute("position").count,i.attributes){let s=r.getAttribute(t),u=i.getAttribute(t);!function(t,r,i=0){let s=r.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==r.array.constructor){let u=t.count;for(let c=0;c<u;c++)for(let u=0;u<s;u++)r.setComponent(c+i,u,t.getComponent(c,u))}else r.array.set(t.array,i*s);r.needsUpdate=!0}(s,u,f);let c=s.itemSize;for(let t=s.count;t<p;t++){let r=f+t;for(let t=0;t<c;t++)u.setComponent(r,t,0)}u.needsUpdate=!0,u.addUpdateRange(f*c,p*c)}if(s){let t=h.indexStart,i=h.reservedIndexCount;h.indexCount=r.getIndex().count;for(let r=0;r<c.count;r++)u.setX(t+r,f+c.getX(r));for(let r=c.count;r<i;r++)u.setX(t+r,f);u.needsUpdate=!0,u.addUpdateRange(t,h.reservedIndexCount)}return h.start=s?h.indexStart:h.vertexStart,h.count=s?h.indexCount:h.vertexCount,h.boundingBox=null,null!==r.boundingBox&&(h.boundingBox=r.boundingBox.clone()),h.boundingSphere=null,null!==r.boundingSphere&&(h.boundingSphere=r.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){let r=this._geometryInfo;if(t>=r.length||!1===r[t].active)return this;let i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].geometryIndex===t&&this.deleteInstance(r);return r[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){let r=this._instanceInfo;return t>=r.length||!1===r[t].active?this:(r[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this)}optimize(){let t=0,r=0,i=this._geometryInfo,s=i.map((t,r)=>r).sort((t,r)=>i[t].vertexStart-i[r].vertexStart),u=this.geometry;for(let c=0,h=i.length;c<h;c++){let h=i[s[c]];if(!1!==h.active){if(null!==u.index){if(h.indexStart!==r){let{indexStart:i,vertexStart:s,reservedIndexCount:c}=h,f=u.index,p=f.array,v=t-s;for(let t=i;t<i+c;t++)p[t]=p[t]+v;f.array.copyWithin(r,i,i+c),f.addUpdateRange(r,c),h.indexStart=r}r+=h.reservedIndexCount}if(h.vertexStart!==t){let{vertexStart:r,reservedVertexCount:i}=h,s=u.attributes;for(let u in s){let c=s[u],{array:h,itemSize:f}=c;h.copyWithin(t*f,r*f,(r+i)*f),c.addUpdateRange(t*f,i*f)}h.vertexStart=t}t+=h.reservedVertexCount,h.start=u.index?h.indexStart:h.vertexStart,this._nextIndexStart=u.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(t,r){if(t>=this._geometryCount)return null;let i=this.geometry,s=this._geometryInfo[t];if(null===s.boundingBox){let t=new id,r=i.index,u=i.attributes.position;for(let i=s.start,c=s.start+s.count;i<c;i++){let s=i;r&&(s=r.getX(s)),t.expandByPoint(uN.fromBufferAttribute(u,s))}s.boundingBox=t}return r.copy(s.boundingBox),r}getBoundingSphereAt(t,r){if(t>=this._geometryCount)return null;let i=this.geometry,s=this._geometryInfo[t];if(null===s.boundingSphere){let r=new iR;this.getBoundingBoxAt(t,uk),uk.getCenter(r.center);let u=i.index,c=i.attributes.position,h=0;for(let t=s.start,i=s.start+s.count;t<i;t++){let i=t;u&&(i=u.getX(i)),uN.fromBufferAttribute(c,i),h=Math.max(h,r.center.distanceToSquared(uN))}r.radius=Math.sqrt(h),s.boundingSphere=r}return r.copy(s.boundingSphere),r}setMatrixAt(t,r){let i=this._instanceInfo,s=this._matricesTexture,u=this._matricesTexture.image.data;return t>=i.length||!1===i[t].active?this:(r.toArray(u,16*t),s.needsUpdate=!0,this)}getMatrixAt(t,r){let i=this._instanceInfo,s=this._matricesTexture.image.data;return t>=i.length||!1===i[t].active?null:r.fromArray(s,16*t)}setColorAt(t,r){null===this._colorsTexture&&this._initColorsTexture();let i=this._colorsTexture,s=this._colorsTexture.image.data,u=this._instanceInfo;return t>=u.length||!1===u[t].active?this:(r.toArray(s,4*t),i.needsUpdate=!0,this)}getColorAt(t,r){let i=this._colorsTexture.image.data,s=this._instanceInfo;return t>=s.length||!1===s[t].active?null:r.fromArray(i,4*t)}setVisibleAt(t,r){let i=this._instanceInfo;return t>=i.length||!1===i[t].active||i[t].visible===r?this:(i[t].visible=r,this._visibilityChanged=!0,this)}getVisibleAt(t){let r=this._instanceInfo;return!(t>=r.length)&&!1!==r[t].active&&r[t].visible}setGeometryIdAt(t,r){let i=this._instanceInfo,s=this._geometryInfo;return t>=i.length||!1===i[t].active||r>=s.length||!1===s[r].active?null:(i[t].geometryIndex=r,this)}getGeometryIdAt(t){let r=this._instanceInfo;return t>=r.length||!1===r[t].active?-1:r[t].geometryIndex}getGeometryRangeAt(t,r={}){if(t<0||t>=this._geometryCount)return null;let i=this._geometryInfo[t];return r.vertexStart=i.vertexStart,r.vertexCount=i.vertexCount,r.reservedVertexCount=i.reservedVertexCount,r.indexStart=i.indexStart,r.indexCount=i.indexCount,r.reservedIndexCount=i.reservedIndexCount,r.start=i.start,r.count=i.count,r}setInstanceCount(t){let r=this._availableInstanceIds,i=this._instanceInfo;for(r.sort(uI);r[r.length-1]===i.length;)i.pop(),r.pop();if(t<i.length)throw Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);let s=new Int32Array(t),u=new Int32Array(t);uV(this._multiDrawCounts,s),uV(this._multiDrawStarts,u),this._multiDrawCounts=s,this._multiDrawStarts=u,this._maxInstanceCount=t;let c=this._indirectTexture,h=this._matricesTexture,f=this._colorsTexture;c.dispose(),this._initIndirectTexture(),uV(c.image.data,this._indirectTexture.image.data),h.dispose(),this._initMatricesTexture(),uV(h.image.data,this._matricesTexture.image.data),f&&(f.dispose(),this._initColorsTexture(),uV(f.image.data,this._colorsTexture.image.data))}setGeometrySize(t,r){let i=[...this._geometryInfo].filter(t=>t.active);if(Math.max(...i.map(t=>t.vertexStart+t.reservedVertexCount))>t)throw Error(`BatchedMesh: Geometry vertex values are being used outside the range ${r}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(t=>t.indexStart+t.reservedIndexCount))>r)throw Error(`BatchedMesh: Geometry index values are being used outside the range ${r}. Cannot shrink further.`);let s=this.geometry;s.dispose(),this._maxVertexCount=t,this._maxIndexCount=r,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new aJ,this._initializeGeometry(s));let u=this.geometry;for(let t in s.index&&uV(s.index.array,u.index.array),s.attributes)uV(s.attributes[t].array,u.attributes[t].array)}raycast(t,r){let i=this._instanceInfo,s=this._geometryInfo,u=this.matrixWorld,c=this.geometry;uG.material=this.material,uG.geometry.index=c.index,uG.geometry.attributes=c.attributes,null===uG.geometry.boundingBox&&(uG.geometry.boundingBox=new id),null===uG.geometry.boundingSphere&&(uG.geometry.boundingSphere=new iR);for(let c=0,h=i.length;c<h;c++){if(!i[c].visible||!i[c].active)continue;let h=i[c].geometryIndex,f=s[h];uG.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(c,uG.matrixWorld).premultiply(u),this.getBoundingBoxAt(h,uG.geometry.boundingBox),this.getBoundingSphereAt(h,uG.geometry.boundingSphere),uG.raycast(t,uH);for(let t=0,i=uH.length;t<i;t++){let i=uH[t];i.object=this,i.batchId=c,r.push(i)}uH.length=0}uG.material=null,uG.geometry.index=null,uG.geometry.attributes={},uG.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=null!==t.boundingBox?t.boundingBox.clone():null,this.boundingSphere=null!==t.boundingSphere?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(t=>({...t,boundingBox:null!==t.boundingBox?t.boundingBox.clone():null,boundingSphere:null!==t.boundingSphere?t.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(t=>({...t})),this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._geometryCount=t._geometryCount,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(t,r,i,s,u){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;let c=s.getIndex(),h=null===c?1:c.array.BYTES_PER_ELEMENT,f=this._instanceInfo,p=this._multiDrawStarts,v=this._multiDrawCounts,y=this._geometryInfo,x=this.perObjectFrustumCulled,_=this._indirectTexture,b=_.image.data;x&&(uP.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),uB.setFromProjectionMatrix(uP,t.coordinateSystem));let w=0;if(this.sortObjects){uP.copy(this.matrixWorld).invert(),uN.setFromMatrixPosition(i.matrixWorld).applyMatrix4(uP),uF.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(uP);for(let t=0,r=f.length;t<r;t++)if(f[t].visible&&f[t].active){let r=f[t].geometryIndex;this.getMatrixAt(t,uP),this.getBoundingSphereAt(r,uO).applyMatrix4(uP);let i=!1;if(x&&(i=!uB.intersectsSphere(uO)),!i){let i=y[r],s=uU.subVectors(uO.center,uN).dot(uF);uz.push(i.start,i.count,s,t)}}let t=uz.list,r=this.customSort;null===r?t.sort(u.transparent?uR:uD):r.call(this,t,i);for(let r=0,i=t.length;r<i;r++){let i=t[r];p[w]=i.start*h,v[w]=i.count,b[w]=i.index,w++}uz.reset()}else for(let t=0,r=f.length;t<r;t++)if(f[t].visible&&f[t].active){let r=f[t].geometryIndex,i=!1;if(x&&(this.getMatrixAt(t,uP),this.getBoundingSphereAt(r,uO).applyMatrix4(uP),i=!uB.intersectsSphere(uO)),!i){let i=y[r];p[w]=i.start*h,v[w]=i.count,b[w]=t,w++}}_.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(t,r,i,s,u,c){this.onBeforeRender(t,null,s,u,c)}}class uW extends aM{static get type(){return"LineBasicMaterial"}constructor(t){super(),this.isLineBasicMaterial=!0,this.color=new aw(0xffffff),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}let uX=new iu,uY=new iu,uZ=new iz,uK=new iU,uJ=new iR,uQ=new iu,uq=new iu;class u$ extends ar{constructor(t=new aJ,r=new uW){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t,r){return super.copy(t,r),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){let t=this.geometry;if(null===t.index){let r=t.attributes.position,i=[0];for(let t=1,s=r.count;t<s;t++)uX.fromBufferAttribute(r,t-1),uY.fromBufferAttribute(r,t),i[t]=i[t-1],i[t]+=uX.distanceTo(uY);t.setAttribute("lineDistance",new aH(i,1))}return this}raycast(t,r){let i=this.geometry,s=this.matrixWorld,u=t.params.Line.threshold,c=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),uJ.copy(i.boundingSphere),uJ.applyMatrix4(s),uJ.radius+=u,!1===t.ray.intersectsSphere(uJ))return;uZ.copy(s).invert(),uK.copy(t.ray).applyMatrix4(uZ);let h=u/((this.scale.x+this.scale.y+this.scale.z)/3),f=h*h,p=this.isLineSegments?2:1,v=i.index,y=i.attributes.position;if(null!==v){let i=Math.max(0,c.start),s=Math.min(v.count,c.start+c.count);for(let u=i,c=s-1;u<c;u+=p){let i=v.getX(u),s=u0(this,t,uK,f,i,v.getX(u+1));s&&r.push(s)}if(this.isLineLoop){let u=v.getX(s-1),c=u0(this,t,uK,f,u,v.getX(i));c&&r.push(c)}}else{let i=Math.max(0,c.start),s=Math.min(y.count,c.start+c.count);for(let u=i,c=s-1;u<c;u+=p){let i=u0(this,t,uK,f,u,u+1);i&&r.push(i)}if(this.isLineLoop){let u=u0(this,t,uK,f,s-1,i);u&&r.push(u)}}}updateMorphTargets(){let t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=i.length;t<r;t++){let r=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}}function u0(t,r,i,s,u,c){let h=t.geometry.attributes.position;if(uX.fromBufferAttribute(h,u),uY.fromBufferAttribute(h,c),i.distanceSqToSegment(uX,uY,uQ,uq)>s)return;uQ.applyMatrix4(t.matrixWorld);let f=r.ray.origin.distanceTo(uQ);if(!(f<r.near)&&!(f>r.far))return{distance:f,point:uq.clone().applyMatrix4(t.matrixWorld),index:u,face:null,faceIndex:null,barycoord:null,object:t}}let u1=new iu,u2=new iu;class u3 extends u${constructor(t,r){super(t,r),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let t=this.geometry;if(null===t.index){let r=t.attributes.position,i=[];for(let t=0,s=r.count;t<s;t+=2)u1.fromBufferAttribute(r,t),u2.fromBufferAttribute(r,t+1),i[t]=0===t?0:i[t-1],i[t+1]=i[t]+u1.distanceTo(u2);t.setAttribute("lineDistance",new aH(i,1))}return this}}class u5 extends u${constructor(t,r){super(t,r),this.isLineLoop=!0,this.type="LineLoop"}}class u4 extends aM{static get type(){return"PointsMaterial"}constructor(t){super(),this.isPointsMaterial=!0,this.color=new aw(0xffffff),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let u9=new iz,u8=new iU,u6=new iR,u7=new iu;class ce extends ar{constructor(t=new aJ,r=new u4){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t,r){return super.copy(t,r),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,r){let i=this.geometry,s=this.matrixWorld,u=t.params.Points.threshold,c=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),u6.copy(i.boundingSphere),u6.applyMatrix4(s),u6.radius+=u,!1===t.ray.intersectsSphere(u6))return;u9.copy(s).invert(),u8.copy(t.ray).applyMatrix4(u9);let h=u/((this.scale.x+this.scale.y+this.scale.z)/3),f=h*h,p=i.index,v=i.attributes.position;if(null!==p){let i=Math.max(0,c.start),u=Math.min(p.count,c.start+c.count);for(let c=i;c<u;c++){let i=p.getX(c);u7.fromBufferAttribute(v,i),ct(u7,i,f,s,t,r,this)}}else{let i=Math.max(0,c.start),u=Math.min(v.count,c.start+c.count);for(let c=i;c<u;c++)u7.fromBufferAttribute(v,c),ct(u7,c,f,s,t,r,this)}}updateMorphTargets(){let t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=i.length;t<r;t++){let r=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}}function ct(t,r,i,s,u,c,h){let f=u8.distanceSqToPoint(t);if(f<i){let i=new iu;u8.closestPointToPoint(t,i),i.applyMatrix4(s);let p=u.ray.origin.distanceTo(i);if(p<u.near||p>u.far)return;c.push({distance:p,distanceToRay:Math.sqrt(f),point:i,index:r,face:null,faceIndex:null,barycoord:null,object:h})}}class cn extends r7{constructor(t,r,i,s,u,c,h,f,p){super(t,r,i,s,u,c,h,f,p),this.isVideoTexture=!0,this.minFilter=void 0!==c?c:tP,this.magFilter=void 0!==u?u:tP,this.generateMipmaps=!1;let v=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function r(){v.needsUpdate=!0,t.requestVideoFrameCallback(r)})}clone(){return new this.constructor(this.image).copy(this)}update(){let t=this.image;!1=="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class cr extends r7{constructor(t,r){super({width:t,height:r}),this.isFramebufferTexture=!0,this.magFilter=tT,this.minFilter=tT,this.generateMipmaps=!1,this.needsUpdate=!0}}class ci extends r7{constructor(t,r,i,s,u,c,h,f,p,v,y,x){super(null,c,h,f,p,v,s,u,y,x),this.isCompressedTexture=!0,this.image={width:r,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class ca extends ci{constructor(t,r,i,s,u,c){super(t,r,i,u,c),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=tM,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class co extends ci{constructor(t,r,i){super(void 0,t[0].width,t[0].height,r,i,tx),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class cs extends r7{constructor(t,r,i,s,u,c,h,f,p){super(t,r,i,s,u,c,h,f,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class cl{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return null}getPointAt(t,r){let i=this.getUtoTmapping(t);return this.getPoint(i,r)}getPoints(t=5){let r=[];for(let i=0;i<=t;i++)r.push(this.getPoint(i/t));return r}getSpacedPoints(t=5){let r=[];for(let i=0;i<=t;i++)r.push(this.getPointAt(i/t));return r}getLength(){let t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let r=[],i,s=this.getPoint(0),u=0;r.push(0);for(let c=1;c<=t;c++)u+=(i=this.getPoint(c/t)).distanceTo(s),r.push(u),s=i;return this.cacheArcLengths=r,r}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,r){let i;let s=this.getLengths(),u=0,c=s.length;i=r?r:t*s[c-1];let h=0,f=c-1,p;for(;h<=f;)if((p=s[u=Math.floor(h+(f-h)/2)]-i)<0)h=u+1;else if(p>0)f=u-1;else{f=u;break}if(s[u=f]===i)return u/(c-1);let v=s[u],y=s[u+1];return(u+(i-v)/(y-v))/(c-1)}getTangent(t,r){let i=t-1e-4,s=t+1e-4;i<0&&(i=0),s>1&&(s=1);let u=this.getPoint(i),c=this.getPoint(s),h=r||(u.isVector2?new rz:new iu);return h.copy(c).sub(u).normalize(),h}getTangentAt(t,r){let i=this.getUtoTmapping(t);return this.getTangent(i,r)}computeFrenetFrames(t,r){let i=new iu,s=[],u=[],c=[],h=new iu,f=new iz;for(let r=0;r<=t;r++){let i=r/t;s[r]=this.getTangentAt(i,new iu)}u[0]=new iu,c[0]=new iu;let p=Number.MAX_VALUE,v=Math.abs(s[0].x),y=Math.abs(s[0].y),x=Math.abs(s[0].z);v<=p&&(p=v,i.set(1,0,0)),y<=p&&(p=y,i.set(0,1,0)),x<=p&&i.set(0,0,1),h.crossVectors(s[0],i).normalize(),u[0].crossVectors(s[0],h),c[0].crossVectors(s[0],u[0]);for(let r=1;r<=t;r++){if(u[r]=u[r-1].clone(),c[r]=c[r-1].clone(),h.crossVectors(s[r-1],s[r]),h.length()>Number.EPSILON){h.normalize();let t=Math.acos(rB(s[r-1].dot(s[r]),-1,1));u[r].applyMatrix4(f.makeRotationAxis(h,t))}c[r].crossVectors(s[r],u[r])}if(!0===r){let r=Math.acos(rB(u[0].dot(u[t]),-1,1));r/=t,s[0].dot(h.crossVectors(u[0],u[t]))>0&&(r=-r);for(let i=1;i<=t;i++)u[i].applyMatrix4(f.makeRotationAxis(s[i],r*i)),c[i].crossVectors(s[i],u[i])}return{tangents:s,normals:u,binormals:c}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){let t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class cu extends cl{constructor(t=0,r=0,i=1,s=1,u=0,c=2*Math.PI,h=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=r,this.xRadius=i,this.yRadius=s,this.aStartAngle=u,this.aEndAngle=c,this.aClockwise=h,this.aRotation=f}getPoint(t,r=new rz){let i=2*Math.PI,s=this.aEndAngle-this.aStartAngle,u=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(s=u?0:i),!0===this.aClockwise&&!u&&(s===i?s=-i:s-=i);let c=this.aStartAngle+t*s,h=this.aX+this.xRadius*Math.cos(c),f=this.aY+this.yRadius*Math.sin(c);if(0!==this.aRotation){let t=Math.cos(this.aRotation),r=Math.sin(this.aRotation),i=h-this.aX,s=f-this.aY;h=i*t-s*r+this.aX,f=i*r+s*t+this.aY}return r.set(h,f)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){let t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class cc extends cu{constructor(t,r,i,s,u,c){super(t,r,i,i,s,u,c),this.isArcCurve=!0,this.type="ArcCurve"}}function ch(){let t=0,r=0,i=0,s=0;function u(u,c,h,f){t=u,r=h,i=-3*u+3*c-2*h-f,s=2*u-2*c+h+f}return{initCatmullRom:function(t,r,i,s,c){u(r,i,c*(i-t),c*(s-r))},initNonuniformCatmullRom:function(t,r,i,s,c,h,f){let p=(r-t)/c-(i-t)/(c+h)+(i-r)/h,v=(i-r)/h-(s-r)/(h+f)+(s-i)/f;u(r,i,p*=h,v*=h)},calc:function(u){let c=u*u;return t+r*u+i*c+c*u*s}}}let cd=new iu,cf=new ch,cp=new ch,cg=new ch;class cm extends cl{constructor(t=[],r=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=r,this.curveType=i,this.tension=s}getPoint(t,r=new iu){let i,s;let u=this.points,c=u.length,h=(c-(this.closed?0:1))*t,f=Math.floor(h),p=h-f;this.closed?f+=f>0?0:(Math.floor(Math.abs(f)/c)+1)*c:0===p&&f===c-1&&(f=c-2,p=1),this.closed||f>0?i=u[(f-1)%c]:(cd.subVectors(u[0],u[1]).add(u[0]),i=cd);let v=u[f%c],y=u[(f+1)%c];if(this.closed||f+2<c?s=u[(f+2)%c]:(cd.subVectors(u[c-1],u[c-2]).add(u[c-1]),s=cd),"centripetal"===this.curveType||"chordal"===this.curveType){let t="chordal"===this.curveType?.5:.25,r=Math.pow(i.distanceToSquared(v),t),u=Math.pow(v.distanceToSquared(y),t),c=Math.pow(y.distanceToSquared(s),t);u<1e-4&&(u=1),r<1e-4&&(r=u),c<1e-4&&(c=u),cf.initNonuniformCatmullRom(i.x,v.x,y.x,s.x,r,u,c),cp.initNonuniformCatmullRom(i.y,v.y,y.y,s.y,r,u,c),cg.initNonuniformCatmullRom(i.z,v.z,y.z,s.z,r,u,c)}else"catmullrom"===this.curveType&&(cf.initCatmullRom(i.x,v.x,y.x,s.x,this.tension),cp.initCatmullRom(i.y,v.y,y.y,s.y,this.tension),cg.initCatmullRom(i.z,v.z,y.z,s.z,this.tension));return r.set(cf.calc(p),cp.calc(p),cg.calc(p)),r}copy(t){super.copy(t),this.points=[];for(let r=0,i=t.points.length;r<i;r++){let i=t.points[r];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){let t=super.toJSON();t.points=[];for(let r=0,i=this.points.length;r<i;r++){let i=this.points[r];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let r=0,i=t.points.length;r<i;r++){let i=t.points[r];this.points.push(new iu().fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function cv(t,r,i,s,u){let c=(s-r)*.5,h=(u-i)*.5,f=t*t;return t*f*(2*i-2*s+c+h)+(-3*i+3*s-2*c-h)*f+c*t+i}function cy(t,r,i,s){var u,c;return function(t,r){let i=1-t;return i*i*r}(t,r)+2*(1-(u=t))*u*i+(c=t)*c*s}function cx(t,r,i,s,u){var c,h;return function(t,r){let i=1-t;return i*i*i*r}(t,r)+function(t,r){let i=1-t;return 3*i*i*t*r}(t,i)+3*(1-(c=t))*c*c*s+(h=t)*h*h*u}class c_ extends cl{constructor(t=new rz,r=new rz,i=new rz,s=new rz){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=r,this.v2=i,this.v3=s}getPoint(t,r=new rz){let i=this.v0,s=this.v1,u=this.v2,c=this.v3;return r.set(cx(t,i.x,s.x,u.x,c.x),cx(t,i.y,s.y,u.y,c.y)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){let t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class cb extends cl{constructor(t=new iu,r=new iu,i=new iu,s=new iu){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=r,this.v2=i,this.v3=s}getPoint(t,r=new iu){let i=this.v0,s=this.v1,u=this.v2,c=this.v3;return r.set(cx(t,i.x,s.x,u.x,c.x),cx(t,i.y,s.y,u.y,c.y),cx(t,i.z,s.z,u.z,c.z)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){let t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class cw extends cl{constructor(t=new rz,r=new rz){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=r}getPoint(t,r=new rz){return 1===t?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r}getPointAt(t,r){return this.getPoint(t,r)}getTangent(t,r=new rz){return r.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,r){return this.getTangent(t,r)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){let t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class cS extends cl{constructor(t=new iu,r=new iu){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=r}getPoint(t,r=new iu){return 1===t?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r}getPointAt(t,r){return this.getPoint(t,r)}getTangent(t,r=new iu){return r.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,r){return this.getTangent(t,r)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){let t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class cA extends cl{constructor(t=new rz,r=new rz,i=new rz){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=r,this.v2=i}getPoint(t,r=new rz){let i=this.v0,s=this.v1,u=this.v2;return r.set(cy(t,i.x,s.x,u.x),cy(t,i.y,s.y,u.y)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){let t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class cM extends cl{constructor(t=new iu,r=new iu,i=new iu){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=r,this.v2=i}getPoint(t,r=new iu){let i=this.v0,s=this.v1,u=this.v2;return r.set(cy(t,i.x,s.x,u.x),cy(t,i.y,s.y,u.y),cy(t,i.z,s.z,u.z)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){let t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class cC extends cl{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,r=new rz){let i=this.points,s=(i.length-1)*t,u=Math.floor(s),c=s-u,h=i[0===u?u:u-1],f=i[u],p=i[u>i.length-2?i.length-1:u+1],v=i[u>i.length-3?i.length-1:u+2];return r.set(cv(c,h.x,f.x,p.x,v.x),cv(c,h.y,f.y,p.y,v.y)),r}copy(t){super.copy(t),this.points=[];for(let r=0,i=t.points.length;r<i;r++){let i=t.points[r];this.points.push(i.clone())}return this}toJSON(){let t=super.toJSON();t.points=[];for(let r=0,i=this.points.length;r<i;r++){let i=this.points[r];t.points.push(i.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let r=0,i=t.points.length;r<i;r++){let i=t.points[r];this.points.push(new rz().fromArray(i))}return this}}var cT=Object.freeze({__proto__:null,ArcCurve:cc,CatmullRomCurve3:cm,CubicBezierCurve:c_,CubicBezierCurve3:cb,EllipseCurve:cu,LineCurve:cw,LineCurve3:cS,QuadraticBezierCurve:cA,QuadraticBezierCurve3:cM,SplineCurve:cC});class cE extends cl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){let t=this.curves[0].getPoint(0),r=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(r)){let i=!0===t.isVector2?"LineCurve":"LineCurve3";this.curves.push(new cT[i](r,t))}return this}getPoint(t,r){let i=t*this.getLength(),s=this.getCurveLengths(),u=0;for(;u<s.length;){if(s[u]>=i){let t=s[u]-i,c=this.curves[u],h=c.getLength(),f=0===h?0:1-t/h;return c.getPointAt(f,r)}u++}return null}getLength(){let t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let t=[],r=0;for(let i=0,s=this.curves.length;i<s;i++)r+=this.curves[i].getLength(),t.push(r);return this.cacheLengths=t,t}getSpacedPoints(t=40){let r=[];for(let i=0;i<=t;i++)r.push(this.getPoint(i/t));return this.autoClose&&r.push(r[0]),r}getPoints(t=12){let r;let i=[];for(let s=0,u=this.curves;s<u.length;s++){let c=u[s],h=c.isEllipseCurve?2*t:c.isLineCurve||c.isLineCurve3?1:c.isSplineCurve?t*c.points.length:t,f=c.getPoints(h);for(let t=0;t<f.length;t++){let s=f[t];!(r&&r.equals(s))&&(i.push(s),r=s)}}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i}copy(t){super.copy(t),this.curves=[];for(let r=0,i=t.curves.length;r<i;r++){let i=t.curves[r];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this}toJSON(){let t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let r=0,i=this.curves.length;r<i;r++){let i=this.curves[r];t.curves.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let r=0,i=t.curves.length;r<i;r++){let i=t.curves[r];this.curves.push(new cT[i.type]().fromJSON(i))}return this}}class cI extends cE{constructor(t){super(),this.type="Path",this.currentPoint=new rz,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let r=1,i=t.length;r<i;r++)this.lineTo(t[r].x,t[r].y);return this}moveTo(t,r){return this.currentPoint.set(t,r),this}lineTo(t,r){let i=new cw(this.currentPoint.clone(),new rz(t,r));return this.curves.push(i),this.currentPoint.set(t,r),this}quadraticCurveTo(t,r,i,s){let u=new cA(this.currentPoint.clone(),new rz(t,r),new rz(i,s));return this.curves.push(u),this.currentPoint.set(i,s),this}bezierCurveTo(t,r,i,s,u,c){let h=new c_(this.currentPoint.clone(),new rz(t,r),new rz(i,s),new rz(u,c));return this.curves.push(h),this.currentPoint.set(u,c),this}splineThru(t){let r=new cC([this.currentPoint.clone()].concat(t));return this.curves.push(r),this.currentPoint.copy(t[t.length-1]),this}arc(t,r,i,s,u,c){let h=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(t+h,r+f,i,s,u,c),this}absarc(t,r,i,s,u,c){return this.absellipse(t,r,i,i,s,u,c),this}ellipse(t,r,i,s,u,c,h,f){let p=this.currentPoint.x,v=this.currentPoint.y;return this.absellipse(t+p,r+v,i,s,u,c,h,f),this}absellipse(t,r,i,s,u,c,h,f){let p=new cu(t,r,i,s,u,c,h,f);if(this.curves.length>0){let t=p.getPoint(0);!t.equals(this.currentPoint)&&this.lineTo(t.x,t.y)}this.curves.push(p);let v=p.getPoint(1);return this.currentPoint.copy(v),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){let t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class cD extends aJ{constructor(t=[new rz(0,-.5),new rz(.5,0),new rz(0,.5)],r=12,i=0,s=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:t,segments:r,phiStart:i,phiLength:s},r=Math.floor(r),s=rB(s,0,2*Math.PI);let u=[],c=[],h=[],f=[],p=[],v=1/r,y=new iu,x=new rz,_=new iu,b=new iu,w=new iu,S=0,A=0;for(let r=0;r<=t.length-1;r++)switch(r){case 0:S=t[r+1].x-t[r].x,A=t[r+1].y-t[r].y,_.x=1*A,_.y=-S,_.z=0*A,w.copy(_),_.normalize(),f.push(_.x,_.y,_.z);break;case t.length-1:f.push(w.x,w.y,w.z);break;default:S=t[r+1].x-t[r].x,A=t[r+1].y-t[r].y,_.x=1*A,_.y=-S,_.z=0*A,b.copy(_),_.x+=w.x,_.y+=w.y,_.z+=w.z,_.normalize(),f.push(_.x,_.y,_.z),w.copy(b)}for(let u=0;u<=r;u++){let _=i+u*v*s,b=Math.sin(_),w=Math.cos(_);for(let i=0;i<=t.length-1;i++){y.x=t[i].x*b,y.y=t[i].y,y.z=t[i].x*w,c.push(y.x,y.y,y.z),x.x=u/r,x.y=i/(t.length-1),h.push(x.x,x.y);let s=f[3*i+0]*b,v=f[3*i+1],_=f[3*i+0]*w;p.push(s,v,_)}}for(let i=0;i<r;i++)for(let r=0;r<t.length-1;r++){let s=r+i*t.length,c=s+t.length,h=s+t.length+1,f=s+1;u.push(s,c,f),u.push(h,f,c)}this.setIndex(u),this.setAttribute("position",new aH(c,3)),this.setAttribute("uv",new aH(h,2)),this.setAttribute("normal",new aH(p,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new cD(t.points,t.segments,t.phiStart,t.phiLength)}}class cR extends cD{constructor(t=1,r=1,i=4,s=8){let u=new cI;u.absarc(0,-r/2,t,1.5*Math.PI,0),u.absarc(0,r/2,t,0,.5*Math.PI),super(u.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:t,length:r,capSegments:i,radialSegments:s}}static fromJSON(t){return new cR(t.radius,t.length,t.capSegments,t.radialSegments)}}class cP extends aJ{constructor(t=1,r=32,i=0,s=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:r,thetaStart:i,thetaLength:s},r=Math.max(3,r);let u=[],c=[],h=[],f=[],p=new iu,v=new rz;c.push(0,0,0),h.push(0,0,1),f.push(.5,.5);for(let u=0,y=3;u<=r;u++,y+=3){let x=i+u/r*s;p.x=t*Math.cos(x),p.y=t*Math.sin(x),c.push(p.x,p.y,p.z),h.push(0,0,1),v.x=(c[y]/t+1)/2,v.y=(c[y+1]/t+1)/2,f.push(v.x,v.y)}for(let t=1;t<=r;t++)u.push(t,t+1,0);this.setIndex(u),this.setAttribute("position",new aH(c,3)),this.setAttribute("normal",new aH(h,3)),this.setAttribute("uv",new aH(f,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new cP(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class cL extends aJ{constructor(t=1,r=1,i=1,s=32,u=1,c=!1,h=0,f=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:r,height:i,radialSegments:s,heightSegments:u,openEnded:c,thetaStart:h,thetaLength:f};let p=this;s=Math.floor(s),u=Math.floor(u);let v=[],y=[],x=[],_=[],b=0,w=[],S=i/2,A=0;(function(){let c=new iu,M=new iu,C=0,T=(r-t)/i;for(let p=0;p<=u;p++){let v=[],A=p/u,C=A*(r-t)+t;for(let t=0;t<=s;t++){let r=t/s,u=r*f+h,p=Math.sin(u),w=Math.cos(u);M.x=C*p,M.y=-A*i+S,M.z=C*w,y.push(M.x,M.y,M.z),c.set(p,T,w).normalize(),x.push(c.x,c.y,c.z),_.push(r,1-A),v.push(b++)}w.push(v)}for(let i=0;i<s;i++)for(let s=0;s<u;s++){let c=w[s][i],h=w[s+1][i],f=w[s+1][i+1],p=w[s][i+1];(t>0||0!==s)&&(v.push(c,h,p),C+=3),(r>0||s!==u-1)&&(v.push(h,f,p),C+=3)}p.addGroup(A,C,0),A+=C})(),!1===c&&(t>0&&M(!0),r>0&&M(!1)),this.setIndex(v),this.setAttribute("position",new aH(y,3)),this.setAttribute("normal",new aH(x,3)),this.setAttribute("uv",new aH(_,2));function M(i){let u=b,c=new rz,w=new iu,M=0,C=!0===i?t:r,T=!0===i?1:-1;for(let t=1;t<=s;t++)y.push(0,S*T,0),x.push(0,T,0),_.push(.5,.5),b++;let I=b;for(let t=0;t<=s;t++){let r=t/s*f+h,i=Math.cos(r),u=Math.sin(r);w.x=C*u,w.y=S*T,w.z=C*i,y.push(w.x,w.y,w.z),x.push(0,T,0),c.x=.5*i+.5,c.y=.5*u*T+.5,_.push(c.x,c.y),b++}for(let t=0;t<s;t++){let r=u+t,s=I+t;!0===i?v.push(s,s+1,r):v.push(s+1,s,r),M+=3}p.addGroup(A,M,!0===i?1:2),A+=M}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new cL(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class cB extends cL{constructor(t=1,r=1,i=32,s=1,u=!1,c=0,h=2*Math.PI){super(0,t,r,i,s,u,c,h),this.type="ConeGeometry",this.parameters={radius:t,height:r,radialSegments:i,heightSegments:s,openEnded:u,thetaStart:c,thetaLength:h}}static fromJSON(t){return new cB(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class ck extends aJ{constructor(t=[],r=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:r,radius:i,detail:s};let u=[],c=[];(function(t){let i=new iu,s=new iu,u=new iu;for(let c=0;c<r.length;c+=3)f(r[c+0],i),f(r[c+1],s),f(r[c+2],u),function(t,r,i,s){let u=s+1,c=[];for(let s=0;s<=u;s++){c[s]=[];let h=t.clone().lerp(i,s/u),f=r.clone().lerp(i,s/u),p=u-s;for(let t=0;t<=p;t++)0===t&&s===u?c[s][t]=h:c[s][t]=h.clone().lerp(f,t/p)}for(let t=0;t<u;t++)for(let r=0;r<2*(u-t)-1;r++){let i=Math.floor(r/2);r%2==0?(h(c[t][i+1]),h(c[t+1][i]),h(c[t][i])):(h(c[t][i+1]),h(c[t+1][i+1]),h(c[t+1][i]))}}(i,s,u,t)})(s),function(t){let r=new iu;for(let i=0;i<u.length;i+=3)r.x=u[i+0],r.y=u[i+1],r.z=u[i+2],r.normalize().multiplyScalar(t),u[i+0]=r.x,u[i+1]=r.y,u[i+2]=r.z}(i),function(){let t=new iu;for(let r=0;r<u.length;r+=3){t.x=u[r+0],t.y=u[r+1],t.z=u[r+2];let i=v(t)/2/Math.PI+.5,s=function(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}(t)/Math.PI+.5;c.push(i,1-s)}(function(){let t=new iu,r=new iu,i=new iu,s=new iu,h=new rz,f=new rz,y=new rz;for(let x=0,_=0;x<u.length;x+=9,_+=6){t.set(u[x+0],u[x+1],u[x+2]),r.set(u[x+3],u[x+4],u[x+5]),i.set(u[x+6],u[x+7],u[x+8]),h.set(c[_+0],c[_+1]),f.set(c[_+2],c[_+3]),y.set(c[_+4],c[_+5]),s.copy(t).add(r).add(i).divideScalar(3);let b=v(s);p(h,_+0,t,b),p(f,_+2,r,b),p(y,_+4,i,b)}})(),function(){for(let t=0;t<c.length;t+=6){let r=c[t+0],i=c[t+2],s=c[t+4],u=Math.max(r,i,s),h=Math.min(r,i,s);u>.9&&h<.1&&(r<.2&&(c[t+0]+=1),i<.2&&(c[t+2]+=1),s<.2&&(c[t+4]+=1))}}()}(),this.setAttribute("position",new aH(u,3)),this.setAttribute("normal",new aH(u.slice(),3)),this.setAttribute("uv",new aH(c,2)),0===s?this.computeVertexNormals():this.normalizeNormals();function h(t){u.push(t.x,t.y,t.z)}function f(r,i){let s=3*r;i.x=t[s+0],i.y=t[s+1],i.z=t[s+2]}function p(t,r,i,s){s<0&&1===t.x&&(c[r]=t.x-1),0===i.x&&0===i.z&&(c[r]=s/2/Math.PI+.5)}function v(t){return Math.atan2(t.z,-t.x)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ck(t.vertices,t.indices,t.radius,t.details)}}class cO extends ck{constructor(t=1,r=0){let i=(1+Math.sqrt(5))/2,s=1/i;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,r),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:r}}static fromJSON(t){return new cO(t.radius,t.detail)}}let cN=new iu,cF=new iu,cU=new iu,cz=new av;class cG extends aJ{constructor(t=null,r=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:r},null!==t){let i=Math.cos(rR*r),s=t.getIndex(),u=t.getAttribute("position"),c=s?s.count:u.count,h=[0,0,0],f=["a","b","c"],p=[,,,],v={},y=[];for(let t=0;t<c;t+=3){s?(h[0]=s.getX(t),h[1]=s.getX(t+1),h[2]=s.getX(t+2)):(h[0]=t,h[1]=t+1,h[2]=t+2);let{a:r,b:c,c:x}=cz;if(r.fromBufferAttribute(u,h[0]),c.fromBufferAttribute(u,h[1]),x.fromBufferAttribute(u,h[2]),cz.getNormal(cU),p[0]=`${Math.round(1e4*r.x)},${Math.round(1e4*r.y)},${Math.round(1e4*r.z)}`,p[1]=`${Math.round(1e4*c.x)},${Math.round(1e4*c.y)},${Math.round(1e4*c.z)}`,p[2]=`${Math.round(1e4*x.x)},${Math.round(1e4*x.y)},${Math.round(1e4*x.z)}`,p[0]!==p[1]&&p[1]!==p[2]&&p[2]!==p[0])for(let t=0;t<3;t++){let r=(t+1)%3,s=p[t],u=p[r],c=cz[f[t]],x=cz[f[r]],_=`${s}_${u}`,b=`${u}_${s}`;b in v&&v[b]?(cU.dot(v[b].normal)<=i&&(y.push(c.x,c.y,c.z),y.push(x.x,x.y,x.z)),v[b]=null):!(_ in v)&&(v[_]={index0:h[t],index1:h[r],normal:cU.clone()})}}for(let t in v)if(v[t]){let{index0:r,index1:i}=v[t];cN.fromBufferAttribute(u,r),cF.fromBufferAttribute(u,i),y.push(cN.x,cN.y,cN.z),y.push(cF.x,cF.y,cF.z)}this.setAttribute("position",new aH(y,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class cH extends cI{constructor(t){super(t),this.uuid=rL(),this.type="Shape",this.holes=[]}getPointsHoles(t){let r=[];for(let i=0,s=this.holes.length;i<s;i++)r[i]=this.holes[i].getPoints(t);return r}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let r=0,i=t.holes.length;r<i;r++){let i=t.holes[r];this.holes.push(i.clone())}return this}toJSON(){let t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let r=0,i=this.holes.length;r<i;r++){let i=this.holes[r];t.holes.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let r=0,i=t.holes.length;r<i;r++){let i=t.holes[r];this.holes.push(new cI().fromJSON(i))}return this}}let cV={triangulate:function(t,r,i=2){let s,u,c,h,f,p,v;let y=r&&r.length,x=y?r[0]*i:t.length,_=cj(t,0,x,i,!0),b=[];if(!_||_.next===_.prev)return b;if(y&&(_=function(t,r,i,s){let u,c,h,f,p;let v=[];for(u=0,c=r.length;u<c;u++)h=r[u]*s,f=u<c-1?r[u+1]*s:t.length,(p=cj(t,h,f,s,!1))===p.next&&(p.steiner=!0),v.push(function(t){let r=t,i=t;do(r.x<i.x||r.x===i.x&&r.y<i.y)&&(i=r),r=r.next;while(r!==t);return i}(p));for(v.sort(cY),u=0;u<v.length;u++)i=function(t,r){let i=function(t,r){let i=r,s=-1/0,u,c=t.x,h=t.y;do{if(h<=i.y&&h>=i.next.y&&i.next.y!==i.y){let t=i.x+(h-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(t<=c&&t>s&&(s=t,u=i.x<i.next.x?i:i.next,t===c))return u}i=i.next}while(i!==r);if(!u)return null;let f=u,p=u.x,v=u.y,y=1/0,x;i=u;do c>=i.x&&i.x>=p&&c!==i.x&&cK(h<v?c:s,h,p,v,h<v?s:c,h,i.x,i.y)&&(x=Math.abs(h-i.y)/(c-i.x),c1(i,t)&&(x<y||x===y&&(i.x>u.x||i.x===u.x&&function(t,r){return 0>cJ(t.prev,t,r.prev)&&0>cJ(r.next,t,t.next)}(u,i)))&&(u=i,y=x)),i=i.next;while(i!==f);return u}(t,r);if(!i)return r;let s=c2(i,t);return cW(s,s.next),cW(i,i.next)}(v[u],i);return i}(t,r,_,i)),t.length>80*i){s=c=t[0],u=h=t[1];for(let r=i;r<x;r+=i)f=t[r],p=t[r+1],f<s&&(s=f),p<u&&(u=p),f>c&&(c=f),p>h&&(h=p);v=0!==(v=Math.max(c-s,h-u))?32767/v:0}return cX(_,b,i,s,u,v,0),b}};function cj(t,r,i,s,u){let c,h;if(u===function(t,r,i,s){let u=0;for(let c=r,h=i-s;c<i;c+=s)u+=(t[h]-t[c])*(t[c+1]+t[h+1]),h=c;return u}(t,r,i,s)>0)for(c=r;c<i;c+=s)h=c3(c,t[c],t[c+1],h);else for(c=i-s;c>=r;c-=s)h=c3(c,t[c],t[c+1],h);return h&&cQ(h,h.next)&&(c5(h),h=h.next),h}function cW(t,r){if(!t)return t;!r&&(r=t);let i=t,s;do if(s=!1,!i.steiner&&(cQ(i,i.next)||0===cJ(i.prev,i,i.next))){if(c5(i),(i=r=i.prev)===i.next)break;s=!0}else i=i.next;while(s||i!==r);return r}function cX(t,r,i,s,u,c,h){if(!t)return;!h&&c&&function(t,r,i,s){let u=t;do 0===u.z&&(u.z=cZ(u.x,u.y,r,i,s)),u.prevZ=u.prev,u.nextZ=u.next,u=u.next;while(u!==t);u.prevZ.nextZ=null,u.prevZ=null,function(t){let r,i,s,u,c,h,f,p,v=1;do{for(i=t,t=null,c=null,h=0;i;){for(h++,s=i,f=0,r=0;r<v&&(f++,s=s.nextZ);r++);for(p=v;f>0||p>0&&s;)0!==f&&(0===p||!s||i.z<=s.z)?(u=i,i=i.nextZ,f--):(u=s,s=s.nextZ,p--),c?c.nextZ=u:t=u,u.prevZ=c,c=u;i=s}c.nextZ=null,v*=2}while(h>1);}(u)}(t,s,u,c);let f=t,p,v;for(;t.prev!==t.next;){if(p=t.prev,v=t.next,c?function(t,r,i,s){let u=t.prev,c=t.next;if(cJ(u,t,c)>=0)return!1;let h=u.x,f=t.x,p=c.x,v=u.y,y=t.y,x=c.y,_=h<f?h<p?h:p:f<p?f:p,b=v<y?v<x?v:x:y<x?y:x,w=h>f?h>p?h:p:f>p?f:p,S=v>y?v>x?v:x:y>x?y:x,A=cZ(_,b,r,i,s),M=cZ(w,S,r,i,s),C=t.prevZ,T=t.nextZ;for(;C&&C.z>=A&&T&&T.z<=M;){if(C.x>=_&&C.x<=w&&C.y>=b&&C.y<=S&&C!==u&&C!==c&&cK(h,v,f,y,p,x,C.x,C.y)&&cJ(C.prev,C,C.next)>=0)return!1;if(C=C.prevZ,T.x>=_&&T.x<=w&&T.y>=b&&T.y<=S&&T!==u&&T!==c&&cK(h,v,f,y,p,x,T.x,T.y)&&cJ(T.prev,T,T.next)>=0)return!1;T=T.nextZ}for(;C&&C.z>=A;){if(C.x>=_&&C.x<=w&&C.y>=b&&C.y<=S&&C!==u&&C!==c&&cK(h,v,f,y,p,x,C.x,C.y)&&cJ(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;T&&T.z<=M;){if(T.x>=_&&T.x<=w&&T.y>=b&&T.y<=S&&T!==u&&T!==c&&cK(h,v,f,y,p,x,T.x,T.y)&&cJ(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}(t,s,u,c):function(t){let r=t.prev,i=t.next;if(cJ(r,t,i)>=0)return!1;let s=r.x,u=t.x,c=i.x,h=r.y,f=t.y,p=i.y,v=s<u?s<c?s:c:u<c?u:c,y=h<f?h<p?h:p:f<p?f:p,x=s>u?s>c?s:c:u>c?u:c,_=h>f?h>p?h:p:f>p?f:p,b=i.next;for(;b!==r;){if(b.x>=v&&b.x<=x&&b.y>=y&&b.y<=_&&cK(s,h,u,f,c,p,b.x,b.y)&&cJ(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}(t)){r.push(p.i/i|0),r.push(t.i/i|0),r.push(v.i/i|0),c5(t),t=v.next,f=v.next;continue}if((t=v)===f){h?1===h?cX(t=function(t,r,i){let s=t;do{let u=s.prev,c=s.next.next;!cQ(u,c)&&cq(u,s,s.next,c)&&c1(u,c)&&c1(c,u)&&(r.push(u.i/i|0),r.push(s.i/i|0),r.push(c.i/i|0),c5(s),c5(s.next),s=t=c),s=s.next}while(s!==t);return cW(s)}(cW(t),r,i),r,i,s,u,c,2):2===h&&function(t,r,i,s,u,c){let h=t;do{let t=h.next.next;for(;t!==h.prev;){if(h.i!==t.i&&function(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!function(t,r){let i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==r.i&&i.next.i!==r.i&&cq(i,i.next,t,r))return!0;i=i.next}while(i!==t);return!1}(t,r)&&(c1(t,r)&&c1(r,t)&&function(t,r){let i=t,s=!1,u=(t.x+r.x)/2,c=(t.y+r.y)/2;do i.y>c!=i.next.y>c&&i.next.y!==i.y&&u<(i.next.x-i.x)*(c-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next;while(i!==t);return s}(t,r)&&(cJ(t.prev,t,r.prev)||cJ(t,r.prev,r))||cQ(t,r)&&cJ(t.prev,t,t.next)>0&&cJ(r.prev,r,r.next)>0)}(h,t)){let f=c2(h,t);h=cW(h,h.next),f=cW(f,f.next),cX(h,r,i,s,u,c,0),cX(f,r,i,s,u,c,0);return}t=t.next}h=h.next}while(h!==t)}(t,r,i,s,u,c):cX(cW(t),r,i,s,u,c,1);break}}}function cY(t,r){return t.x-r.x}function cZ(t,r,i,s,u){return t=((t=((t=((t=((t=(t-i)*u|0)|t<<8)&0xff00ff)|t<<4)&0xf0f0f0f)|t<<2)&0x33333333)|t<<1)&0x55555555,t|(r=((r=((r=((r=((r=(r-s)*u|0)|r<<8)&0xff00ff)|r<<4)&0xf0f0f0f)|r<<2)&0x33333333)|r<<1)&0x55555555)<<1}function cK(t,r,i,s,u,c,h,f){return(u-h)*(r-f)>=(t-h)*(c-f)&&(t-h)*(s-f)>=(i-h)*(r-f)&&(i-h)*(c-f)>=(u-h)*(s-f)}function cJ(t,r,i){return(r.y-t.y)*(i.x-r.x)-(r.x-t.x)*(i.y-r.y)}function cQ(t,r){return t.x===r.x&&t.y===r.y}function cq(t,r,i,s){let u=c0(cJ(t,r,i)),c=c0(cJ(t,r,s)),h=c0(cJ(i,s,t)),f=c0(cJ(i,s,r));return!!(u!==c&&h!==f||0===u&&c$(t,i,r)||0===c&&c$(t,s,r)||0===h&&c$(i,t,s)||0===f&&c$(i,r,s))||!1}function c$(t,r,i){return r.x<=Math.max(t.x,i.x)&&r.x>=Math.min(t.x,i.x)&&r.y<=Math.max(t.y,i.y)&&r.y>=Math.min(t.y,i.y)}function c0(t){return t>0?1:t<0?-1:0}function c1(t,r){return 0>cJ(t.prev,t,t.next)?cJ(t,r,t.next)>=0&&cJ(t,t.prev,r)>=0:0>cJ(t,r,t.prev)||0>cJ(t,t.next,r)}function c2(t,r){let i=new c4(t.i,t.x,t.y),s=new c4(r.i,r.x,r.y),u=t.next,c=r.prev;return t.next=r,r.prev=t,i.next=u,u.prev=i,s.next=i,i.prev=s,c.next=s,s.prev=c,s}function c3(t,r,i,s){let u=new c4(t,r,i);return s?(u.next=s.next,u.prev=s,s.next.prev=u,s.next=u):(u.prev=u,u.next=u),u}function c5(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function c4(t,r,i){this.i=t,this.x=r,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class c9{static area(t){let r=t.length,i=0;for(let s=r-1,u=0;u<r;s=u++)i+=t[s].x*t[u].y-t[u].x*t[s].y;return .5*i}static isClockWise(t){return 0>c9.area(t)}static triangulateShape(t,r){let i=[],s=[],u=[];c8(t),c6(i,t);let c=t.length;r.forEach(c8);for(let t=0;t<r.length;t++)s.push(c),c+=r[t].length,c6(i,r[t]);let h=cV.triangulate(i,s);for(let t=0;t<h.length;t+=3)u.push(h.slice(t,t+3));return u}}function c8(t){let r=t.length;r>2&&t[r-1].equals(t[0])&&t.pop()}function c6(t,r){for(let i=0;i<r.length;i++)t.push(r[i].x),t.push(r[i].y)}class c7 extends aJ{constructor(t=new cH([new rz(.5,.5),new rz(-.5,.5),new rz(-.5,-.5),new rz(.5,-.5)]),r={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:r},t=Array.isArray(t)?t:[t];let i=this,s=[],u=[];for(let c=0,h=t.length;c<h;c++)(function(t){let c,h,f,p;let v=[],y=void 0!==r.curveSegments?r.curveSegments:12,x=void 0!==r.steps?r.steps:1,_=void 0!==r.depth?r.depth:1,b=void 0===r.bevelEnabled||r.bevelEnabled,w=void 0!==r.bevelThickness?r.bevelThickness:.2,S=void 0!==r.bevelSize?r.bevelSize:w-.1,A=void 0!==r.bevelOffset?r.bevelOffset:0,M=void 0!==r.bevelSegments?r.bevelSegments:3,C=r.extrudePath,T=void 0!==r.UVGenerator?r.UVGenerator:he,I,D=!1;C&&(I=C.getSpacedPoints(x),D=!0,b=!1,c=C.computeFrenetFrames(x,!1),h=new iu,f=new iu,p=new iu),!b&&(M=0,w=0,S=0,A=0);let R=t.extractPoints(y),P=R.shape,L=R.holes;if(!c9.isClockWise(P)){P=P.reverse();for(let t=0,r=L.length;t<r;t++){let r=L[t];c9.isClockWise(r)&&(L[t]=r.reverse())}}let B=c9.triangulateShape(P,L),k=P;for(let t=0,r=L.length;t<r;t++){let r=L[t];P=P.concat(r)}function O(t,r,i){return t.clone().addScaledVector(r,i)}let N=P.length,F=B.length;function U(t,r,i){let s,u,c;let h=t.x-r.x,f=t.y-r.y,p=i.x-t.x,v=i.y-t.y,y=h*h+f*f;if(Math.abs(h*v-f*p)>Number.EPSILON){let x=Math.sqrt(y),_=Math.sqrt(p*p+v*v),b=r.x-f/x,w=r.y+h/x,S=i.x-v/_,A=((S-b)*v-(i.y+p/_-w)*p)/(h*v-f*p);s=b+h*A-t.x;let M=s*s+(u=w+f*A-t.y)*u;if(M<=2)return new rz(s,u);c=Math.sqrt(M/2)}else{let t=!1;h>Number.EPSILON?p>Number.EPSILON&&(t=!0):h<-Number.EPSILON?p<-Number.EPSILON&&(t=!0):Math.sign(f)===Math.sign(v)&&(t=!0),t?(s=-f,u=h,c=Math.sqrt(y)):(s=h,u=f,c=Math.sqrt(y/2))}return new rz(s/c,u/c)}let z=[];for(let t=0,r=k.length,i=r-1,s=t+1;t<r;t++,i++,s++)i===r&&(i=0),s===r&&(s=0),z[t]=U(k[t],k[i],k[s]);let G=[],H,V=z.concat();for(let t=0,r=L.length;t<r;t++){let r=L[t];H=[];for(let t=0,i=r.length,s=i-1,u=t+1;t<i;t++,s++,u++)s===i&&(s=0),u===i&&(u=0),H[t]=U(r[t],r[s],r[u]);G.push(H),V=V.concat(H)}for(let t=0;t<M;t++){let r=t/M,i=w*Math.cos(r*Math.PI/2),s=S*Math.sin(r*Math.PI/2)+A;for(let t=0,r=k.length;t<r;t++){let r=O(k[t],z[t],s);X(r.x,r.y,-i)}for(let t=0,r=L.length;t<r;t++){let r=L[t];H=G[t];for(let t=0,u=r.length;t<u;t++){let u=O(r[t],H[t],s);X(u.x,u.y,-i)}}}let j=S+A;for(let t=0;t<N;t++){let r=b?O(P[t],V[t],j):P[t];D?(f.copy(c.normals[0]).multiplyScalar(r.x),h.copy(c.binormals[0]).multiplyScalar(r.y),p.copy(I[0]).add(f).add(h),X(p.x,p.y,p.z)):X(r.x,r.y,0)}for(let t=1;t<=x;t++)for(let r=0;r<N;r++){let i=b?O(P[r],V[r],j):P[r];D?(f.copy(c.normals[t]).multiplyScalar(i.x),h.copy(c.binormals[t]).multiplyScalar(i.y),p.copy(I[t]).add(f).add(h),X(p.x,p.y,p.z)):X(i.x,i.y,_/x*t)}for(let t=M-1;t>=0;t--){let r=t/M,i=w*Math.cos(r*Math.PI/2),s=S*Math.sin(r*Math.PI/2)+A;for(let t=0,r=k.length;t<r;t++){let r=O(k[t],z[t],s);X(r.x,r.y,_+i)}for(let t=0,r=L.length;t<r;t++){let r=L[t];H=G[t];for(let t=0,u=r.length;t<u;t++){let u=O(r[t],H[t],s);D?X(u.x,u.y+I[x-1].y,I[x-1].x+i):X(u.x,u.y,_+i)}}}(function(){let t=s.length/3;if(b){let t=0,r=0*N;for(let t=0;t<F;t++){let i=B[t];Y(i[2]+r,i[1]+r,i[0]+r)}r=N*(t=x+2*M);for(let t=0;t<F;t++){let i=B[t];Y(i[0]+r,i[1]+r,i[2]+r)}}else{for(let t=0;t<F;t++){let r=B[t];Y(r[2],r[1],r[0])}for(let t=0;t<F;t++){let r=B[t];Y(r[0]+N*x,r[1]+N*x,r[2]+N*x)}}i.addGroup(t,s.length/3-t,0)})(),function(){let t=s.length/3,r=0;W(k,0),r+=k.length;for(let t=0,i=L.length;t<i;t++){let i=L[t];W(i,r),r+=i.length}i.addGroup(t,s.length/3-t,1)}();function W(t,r){let u=t.length;for(;--u>=0;){let c=u,h=u-1;h<0&&(h=t.length-1);for(let t=0,u=x+2*M;t<u;t++){let u=N*t,f=N*(t+1);(function(t,r,u,c){Z(t),Z(r),Z(c),Z(r),Z(u),Z(c);let h=s.length/3,f=T.generateSideWallUV(i,s,h-6,h-3,h-2,h-1);K(f[0]),K(f[1]),K(f[3]),K(f[1]),K(f[2]),K(f[3])})(r+c+u,r+h+u,r+h+f,r+c+f)}}}function X(t,r,i){v.push(t),v.push(r),v.push(i)}function Y(t,r,u){Z(t),Z(r),Z(u);let c=s.length/3,h=T.generateTopUV(i,s,c-3,c-2,c-1);K(h[0]),K(h[1]),K(h[2])}function Z(t){s.push(v[3*t+0]),s.push(v[3*t+1]),s.push(v[3*t+2])}function K(t){u.push(t.x),u.push(t.y)}})(t[c]);this.setAttribute("position",new aH(s,3)),this.setAttribute("uv",new aH(u,2)),this.computeVertexNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){let t=super.toJSON(),r=this.parameters.shapes;return function(t,r,i){if(i.shapes=[],Array.isArray(t))for(let r=0,s=t.length;r<s;r++){let s=t[r];i.shapes.push(s.uuid)}else i.shapes.push(t.uuid);return i.options=Object.assign({},r),void 0!==r.extrudePath&&(i.options.extrudePath=r.extrudePath.toJSON()),i}(r,this.parameters.options,t)}static fromJSON(t,r){let i=[];for(let s=0,u=t.shapes.length;s<u;s++){let u=r[t.shapes[s]];i.push(u)}let s=t.options.extrudePath;return void 0!==s&&(t.options.extrudePath=new cT[s.type]().fromJSON(s)),new c7(i,t.options)}}let he={generateTopUV:function(t,r,i,s,u){let c=r[3*i],h=r[3*i+1],f=r[3*s],p=r[3*s+1],v=r[3*u],y=r[3*u+1];return[new rz(c,h),new rz(f,p),new rz(v,y)]},generateSideWallUV:function(t,r,i,s,u,c){let h=r[3*i],f=r[3*i+1],p=r[3*i+2],v=r[3*s],y=r[3*s+1],x=r[3*s+2],_=r[3*u],b=r[3*u+1],w=r[3*u+2],S=r[3*c],A=r[3*c+1],M=r[3*c+2];return Math.abs(f-y)<Math.abs(h-v)?[new rz(h,1-p),new rz(v,1-x),new rz(_,1-w),new rz(S,1-M)]:[new rz(f,1-p),new rz(y,1-x),new rz(b,1-w),new rz(A,1-M)]}};class ht extends ck{constructor(t=1,r=0){let i=(1+Math.sqrt(5))/2;super([-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,r),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:r}}static fromJSON(t){return new ht(t.radius,t.detail)}}class hn extends ck{constructor(t=1,r=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,r),this.type="OctahedronGeometry",this.parameters={radius:t,detail:r}}static fromJSON(t){return new hn(t.radius,t.detail)}}class hr extends aJ{constructor(t=.5,r=1,i=32,s=1,u=0,c=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:r,thetaSegments:i,phiSegments:s,thetaStart:u,thetaLength:c},i=Math.max(3,i);let h=[],f=[],p=[],v=[],y=t,x=(r-t)/(s=Math.max(1,s)),_=new iu,b=new rz;for(let t=0;t<=s;t++){for(let t=0;t<=i;t++){let s=u+t/i*c;_.x=y*Math.cos(s),_.y=y*Math.sin(s),f.push(_.x,_.y,_.z),p.push(0,0,1),b.x=(_.x/r+1)/2,b.y=(_.y/r+1)/2,v.push(b.x,b.y)}y+=x}for(let t=0;t<s;t++){let r=t*(i+1);for(let t=0;t<i;t++){let s=t+r,u=s+i+1,c=s+i+2,f=s+1;h.push(s,u,f),h.push(u,c,f)}}this.setIndex(h),this.setAttribute("position",new aH(f,3)),this.setAttribute("normal",new aH(p,3)),this.setAttribute("uv",new aH(v,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new hr(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class hi extends aJ{constructor(t=new cH([new rz(0,.5),new rz(-.5,-.5),new rz(.5,-.5)]),r=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:r};let i=[],s=[],u=[],c=[],h=0,f=0;if(!1===Array.isArray(t))p(t);else for(let r=0;r<t.length;r++)p(t[r]),this.addGroup(h,f,r),h+=f,f=0;function p(t){let h=s.length/3,p=t.extractPoints(r),v=p.shape,y=p.holes;!1===c9.isClockWise(v)&&(v=v.reverse());for(let t=0,r=y.length;t<r;t++){let r=y[t];!0===c9.isClockWise(r)&&(y[t]=r.reverse())}let x=c9.triangulateShape(v,y);for(let t=0,r=y.length;t<r;t++){let r=y[t];v=v.concat(r)}for(let t=0,r=v.length;t<r;t++){let r=v[t];s.push(r.x,r.y,0),u.push(0,0,1),c.push(r.x,r.y)}for(let t=0,r=x.length;t<r;t++){let r=x[t],s=r[0]+h,u=r[1]+h,c=r[2]+h;i.push(s,u,c),f+=3}}this.setIndex(i),this.setAttribute("position",new aH(s,3)),this.setAttribute("normal",new aH(u,3)),this.setAttribute("uv",new aH(c,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){let t=super.toJSON();return function(t,r){if(r.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){let s=t[i];r.shapes.push(s.uuid)}else r.shapes.push(t.uuid);return r}(this.parameters.shapes,t)}static fromJSON(t,r){let i=[];for(let s=0,u=t.shapes.length;s<u;s++){let u=r[t.shapes[s]];i.push(u)}return new hi(i,t.curveSegments)}}class ha extends aJ{constructor(t=1,r=32,i=16,s=0,u=2*Math.PI,c=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:r,heightSegments:i,phiStart:s,phiLength:u,thetaStart:c,thetaLength:h},r=Math.max(3,Math.floor(r)),i=Math.max(2,Math.floor(i));let f=Math.min(c+h,Math.PI),p=0,v=[],y=new iu,x=new iu,_=[],b=[],w=[],S=[];for(let _=0;_<=i;_++){let A=[],M=_/i,C=0;0===_&&0===c?C=.5/r:_===i&&f===Math.PI&&(C=-.5/r);for(let i=0;i<=r;i++){let f=i/r;y.x=-t*Math.cos(s+f*u)*Math.sin(c+M*h),y.y=t*Math.cos(c+M*h),y.z=t*Math.sin(s+f*u)*Math.sin(c+M*h),b.push(y.x,y.y,y.z),x.copy(y).normalize(),w.push(x.x,x.y,x.z),S.push(f+C,1-M),A.push(p++)}v.push(A)}for(let t=0;t<i;t++)for(let s=0;s<r;s++){let r=v[t][s+1],u=v[t][s],h=v[t+1][s],p=v[t+1][s+1];(0!==t||c>0)&&_.push(r,u,p),(t!==i-1||f<Math.PI)&&_.push(u,h,p)}this.setIndex(_),this.setAttribute("position",new aH(b,3)),this.setAttribute("normal",new aH(w,3)),this.setAttribute("uv",new aH(S,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ha(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class ho extends ck{constructor(t=1,r=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,r),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:r}}static fromJSON(t){return new ho(t.radius,t.detail)}}class hs extends aJ{constructor(t=1,r=.4,i=12,s=48,u=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:r,radialSegments:i,tubularSegments:s,arc:u},i=Math.floor(i),s=Math.floor(s);let c=[],h=[],f=[],p=[],v=new iu,y=new iu,x=new iu;for(let c=0;c<=i;c++)for(let _=0;_<=s;_++){let b=_/s*u,w=c/i*Math.PI*2;y.x=(t+r*Math.cos(w))*Math.cos(b),y.y=(t+r*Math.cos(w))*Math.sin(b),y.z=r*Math.sin(w),h.push(y.x,y.y,y.z),v.x=t*Math.cos(b),v.y=t*Math.sin(b),x.subVectors(y,v).normalize(),f.push(x.x,x.y,x.z),p.push(_/s),p.push(c/i)}for(let t=1;t<=i;t++)for(let r=1;r<=s;r++){let i=(s+1)*t+r-1,u=(s+1)*(t-1)+r-1,h=(s+1)*(t-1)+r,f=(s+1)*t+r;c.push(i,u,f),c.push(u,h,f)}this.setIndex(c),this.setAttribute("position",new aH(h,3)),this.setAttribute("normal",new aH(f,3)),this.setAttribute("uv",new aH(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new hs(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class hl extends aJ{constructor(t=1,r=.4,i=64,s=8,u=2,c=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:r,tubularSegments:i,radialSegments:s,p:u,q:c},i=Math.floor(i),s=Math.floor(s);let h=[],f=[],p=[],v=[],y=new iu,x=new iu,_=new iu,b=new iu,w=new iu,S=new iu,A=new iu;for(let h=0;h<=i;++h){let C=h/i*u*Math.PI*2;M(C,u,c,t,_),M(C+.01,u,c,t,b),S.subVectors(b,_),A.addVectors(b,_),w.crossVectors(S,A),A.crossVectors(w,S),w.normalize(),A.normalize();for(let t=0;t<=s;++t){let u=t/s*Math.PI*2,c=-r*Math.cos(u),b=r*Math.sin(u);y.x=_.x+(c*A.x+b*w.x),y.y=_.y+(c*A.y+b*w.y),y.z=_.z+(c*A.z+b*w.z),f.push(y.x,y.y,y.z),x.subVectors(y,_).normalize(),p.push(x.x,x.y,x.z),v.push(h/i),v.push(t/s)}}for(let t=1;t<=i;t++)for(let r=1;r<=s;r++){let i=(s+1)*(t-1)+(r-1),u=(s+1)*t+(r-1),c=(s+1)*t+r,f=(s+1)*(t-1)+r;h.push(i,u,f),h.push(u,c,f)}function M(t,r,i,s,u){let c=Math.cos(t),h=Math.sin(t),f=i/r*t,p=Math.cos(f);u.x=s*(2+p)*.5*c,u.y=s*(2+p)*h*.5,u.z=s*Math.sin(f)*.5}this.setIndex(h),this.setAttribute("position",new aH(f,3)),this.setAttribute("normal",new aH(p,3)),this.setAttribute("uv",new aH(v,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new hl(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class hu extends aJ{constructor(t=new cM(new iu(-1,-1,0),new iu(-1,1,0),new iu(1,1,0)),r=64,i=1,s=8,u=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:r,radius:i,radialSegments:s,closed:u};let c=t.computeFrenetFrames(r,u);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;let h=new iu,f=new iu,p=new rz,v=new iu,y=[],x=[],_=[],b=[];(function(){for(let t=0;t<r;t++)w(t);w(!1===u?r:0),function(){for(let t=0;t<=r;t++)for(let i=0;i<=s;i++)p.x=t/r,p.y=i/s,_.push(p.x,p.y)}(),function(){for(let t=1;t<=r;t++)for(let r=1;r<=s;r++){let i=(s+1)*(t-1)+(r-1),u=(s+1)*t+(r-1),c=(s+1)*t+r,h=(s+1)*(t-1)+r;b.push(i,u,h),b.push(u,c,h)}}()})(),this.setIndex(b),this.setAttribute("position",new aH(y,3)),this.setAttribute("normal",new aH(x,3)),this.setAttribute("uv",new aH(_,2));function w(u){v=t.getPointAt(u/r,v);let p=c.normals[u],_=c.binormals[u];for(let t=0;t<=s;t++){let r=t/s*Math.PI*2,u=Math.sin(r),c=-Math.cos(r);f.x=c*p.x+u*_.x,f.y=c*p.y+u*_.y,f.z=c*p.z+u*_.z,f.normalize(),x.push(f.x,f.y,f.z),h.x=v.x+i*f.x,h.y=v.y+i*f.y,h.z=v.z+i*f.z,y.push(h.x,h.y,h.z)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){let t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new hu(new cT[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class hc extends aJ{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},null!==t){let r=[],i=new Set,s=new iu,u=new iu;if(null!==t.index){let c=t.attributes.position,h=t.index,f=t.groups;0===f.length&&(f=[{start:0,count:h.count,materialIndex:0}]);for(let t=0,p=f.length;t<p;++t){let p=f[t],v=p.start,y=p.count;for(let t=v,f=v+y;t<f;t+=3)for(let f=0;f<3;f++){let p=h.getX(t+f),v=h.getX(t+(f+1)%3);s.fromBufferAttribute(c,p),u.fromBufferAttribute(c,v),!0===hh(s,u,i)&&(r.push(s.x,s.y,s.z),r.push(u.x,u.y,u.z))}}}else{let c=t.attributes.position;for(let t=0,h=c.count/3;t<h;t++)for(let h=0;h<3;h++){let f=3*t+h,p=3*t+(h+1)%3;s.fromBufferAttribute(c,f),u.fromBufferAttribute(c,p),!0===hh(s,u,i)&&(r.push(s.x,s.y,s.z),r.push(u.x,u.y,u.z))}}this.setAttribute("position",new aH(r,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function hh(t,r,i){let s=`${t.x},${t.y},${t.z}-${r.x},${r.y},${r.z}`,u=`${r.x},${r.y},${r.z}-${t.x},${t.y},${t.z}`;return!0!==i.has(s)&&!0!==i.has(u)&&(i.add(s),i.add(u),!0)}var hd=Object.freeze({__proto__:null,BoxGeometry:oe,CapsuleGeometry:cR,CircleGeometry:cP,ConeGeometry:cB,CylinderGeometry:cL,DodecahedronGeometry:cO,EdgesGeometry:cG,ExtrudeGeometry:c7,IcosahedronGeometry:ht,LatheGeometry:cD,OctahedronGeometry:hn,PlaneGeometry:oS,PolyhedronGeometry:ck,RingGeometry:hr,ShapeGeometry:hi,SphereGeometry:ha,TetrahedronGeometry:ho,TorusGeometry:hs,TorusKnotGeometry:hl,TubeGeometry:hu,WireframeGeometry:hc});class hf extends aM{static get type(){return"ShadowMaterial"}constructor(t){super(),this.isShadowMaterial=!0,this.color=new aw(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class hp extends oa{static get type(){return"RawShaderMaterial"}constructor(t){super(t),this.isRawShaderMaterial=!0}}class hg extends aM{static get type(){return"MeshStandardMaterial"}constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.color=new aw(0xffffff),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new aw(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nZ,this.normalScale=new rz(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new iJ,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class hm extends hg{static get type(){return"MeshPhysicalMaterial"}constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new rz(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return rB(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new aw(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new aw(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new aw(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class hv extends aM{static get type(){return"MeshPhongMaterial"}constructor(t){super(),this.isMeshPhongMaterial=!0,this.color=new aw(0xffffff),this.specular=new aw(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new aw(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nZ,this.normalScale=new rz(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new iJ,this.combine=ta,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class hy extends aM{static get type(){return"MeshToonMaterial"}constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.color=new aw(0xffffff),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new aw(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nZ,this.normalScale=new rz(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class hx extends aM{static get type(){return"MeshNormalMaterial"}constructor(t){super(),this.isMeshNormalMaterial=!0,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nZ,this.normalScale=new rz(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class h_ extends aM{static get type(){return"MeshLambertMaterial"}constructor(t){super(),this.isMeshLambertMaterial=!0,this.color=new aw(0xffffff),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new aw(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nZ,this.normalScale=new rz(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new iJ,this.combine=ta,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class hb extends aM{static get type(){return"MeshMatcapMaterial"}constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.color=new aw(0xffffff),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nZ,this.normalScale=new rz(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class hw extends uW{static get type(){return"LineDashedMaterial"}constructor(t){super(),this.isLineDashedMaterial=!0,this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function hS(t,r,i){return t&&(i||t.constructor!==r)?"number"==typeof r.BYTES_PER_ELEMENT?new r(t):Array.prototype.slice.call(t):t}function hA(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hM(t){let r=t.length,i=Array(r);for(let t=0;t!==r;++t)i[t]=t;return i.sort(function(r,i){return t[r]-t[i]}),i}function hC(t,r,i){let s=t.length,u=new t.constructor(s);for(let c=0,h=0;h!==s;++c){let s=i[c]*r;for(let i=0;i!==r;++i)u[h++]=t[s+i]}return u}function hT(t,r,i,s){let u=1,c=t[0];for(;void 0!==c&&void 0===c[s];)c=t[u++];if(void 0===c)return;let h=c[s];if(void 0!==h){if(Array.isArray(h))do void 0!==(h=c[s])&&(r.push(c.time),i.push.apply(i,h)),c=t[u++];while(void 0!==c);else if(void 0!==h.toArray)do void 0!==(h=c[s])&&(r.push(c.time),h.toArray(i,i.length)),c=t[u++];while(void 0!==c);else do void 0!==(h=c[s])&&(r.push(c.time),i.push(h)),c=t[u++];while(void 0!==c)}}let hE={convertArray:hS,isTypedArray:hA,getKeyframeOrder:hM,sortedArray:hC,flattenJSON:hT,subclip:function(t,r,i,s,u=30){let c=t.clone();c.name=r;let h=[];for(let t=0;t<c.tracks.length;++t){let r=c.tracks[t],f=r.getValueSize(),p=[],v=[];for(let t=0;t<r.times.length;++t){let c=r.times[t]*u;if(!(c<i)&&!(c>=s)){p.push(r.times[t]);for(let i=0;i<f;++i)v.push(r.values[t*f+i])}}0!==p.length&&(r.times=hS(p,r.times.constructor),r.values=hS(v,r.values.constructor),h.push(r))}c.tracks=h;let f=1/0;for(let t=0;t<c.tracks.length;++t)f>c.tracks[t].times[0]&&(f=c.tracks[t].times[0]);for(let t=0;t<c.tracks.length;++t)c.tracks[t].shift(-1*f);return c.resetDuration(),c},makeClipAdditive:function(t,r=0,i=t,s=30){s<=0&&(s=30);let u=i.tracks.length,c=r/s;for(let r=0;r<u;++r){let s;let u=i.tracks[r],h=u.ValueTypeName;if("bool"===h||"string"===h)continue;let f=t.tracks.find(function(t){return t.name===u.name&&t.ValueTypeName===h});if(void 0===f)continue;let p=0,v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=v/3);let y=0,x=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=x/3);let _=u.times.length-1;if(c<=u.times[0]){let t=p,r=v-p;s=u.values.slice(t,r)}else if(c>=u.times[_]){let t=_*v+p,r=t+v-p;s=u.values.slice(t,r)}else{let t=u.createInterpolant(),r=p,i=v-p;t.evaluate(c),s=t.resultBuffer.slice(r,i)}"quaternion"===h&&new il().fromArray(s).normalize().conjugate().toArray(s);let b=f.times.length;for(let t=0;t<b;++t){let r=t*x+y;if("quaternion"===h)il.multiplyQuaternionsFlat(f.values,r,s,0,f.values,r);else{let t=x-2*y;for(let i=0;i<t;++i)f.values[r+i]-=s[i]}}}return t.blendMode=nz,t}};class hI{constructor(t,r,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new r.constructor(i),this.sampleValues=r,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){let r=this.parameterPositions,i=this._cachedIndex,s=r[i],u=r[i-1];n:{r:{let c;i:{a:if(!(t<s)){for(let c=i+2;;){if(void 0===s){if(t<u)break a;return i=r.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(u=s,t<(s=r[++i]))break r}c=r.length;break i}if(!(t>=u)){let h=r[1];t<h&&(i=2,u=h);for(let c=i-2;;){if(void 0===u)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(s=u,t>=(u=r[--i-1]))break r}c=i,i=0;break i}break n}for(;i<c;){let s=i+c>>>1;t<r[s]?c=s:i=s+1}if(s=r[i],void 0===(u=r[i-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===s)return i=r.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,u,s)}return this.interpolate_(i,u,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){let r=this.resultBuffer,i=this.sampleValues,s=this.valueSize,u=t*s;for(let t=0;t!==s;++t)r[t]=i[u+t];return r}interpolate_(){throw Error("call to abstract method")}intervalChanged_(){}}class hD extends hI{constructor(t,r,i,s){super(t,r,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nO,endingEnd:nO}}intervalChanged_(t,r,i){let s=this.parameterPositions,u=t-2,c=t+1,h=s[u],f=s[c];if(void 0===h)switch(this.getSettings_().endingStart){case nN:u=t,h=2*r-i;break;case nF:u=s.length-2,h=r+s[u]-s[u+1];break;default:u=t,h=i}if(void 0===f)switch(this.getSettings_().endingEnd){case nN:c=t,f=2*i-r;break;case nF:c=1,f=i+s[1]-s[0];break;default:c=t-1,f=r}let p=(i-r)*.5,v=this.valueSize;this._weightPrev=p/(r-h),this._weightNext=p/(f-i),this._offsetPrev=u*v,this._offsetNext=c*v}interpolate_(t,r,i,s){let u=this.resultBuffer,c=this.sampleValues,h=this.valueSize,f=t*h,p=f-h,v=this._offsetPrev,y=this._offsetNext,x=this._weightPrev,_=this._weightNext,b=(i-r)/(s-r),w=b*b,S=w*b,A=-x*S+2*x*w-x*b,M=(1+x)*S+(-1.5-2*x)*w+(-.5+x)*b+1,C=(-1-_)*S+(1.5+_)*w+.5*b,T=_*S-_*w;for(let t=0;t!==h;++t)u[t]=A*c[v+t]+M*c[p+t]+C*c[f+t]+T*c[y+t];return u}}class hR extends hI{constructor(t,r,i,s){super(t,r,i,s)}interpolate_(t,r,i,s){let u=this.resultBuffer,c=this.sampleValues,h=this.valueSize,f=t*h,p=f-h,v=(i-r)/(s-r),y=1-v;for(let t=0;t!==h;++t)u[t]=c[p+t]*y+c[f+t]*v;return u}}class hP extends hI{constructor(t,r,i,s){super(t,r,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class hL{constructor(t,r,i,s){if(void 0===t)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===r||0===r.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=hS(r,this.TimeBufferType),this.values=hS(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){let r;let i=t.constructor;if(i.toJSON!==this.toJSON)r=i.toJSON(t);else{r={name:t.name,times:hS(t.times,Array),values:hS(t.values,Array)};let i=t.getInterpolation();i!==t.DefaultInterpolation&&(r.interpolation=i)}return r.type=t.ValueTypeName,r}InterpolantFactoryMethodDiscrete(t){return new hP(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new hR(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new hD(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let r;switch(t){case nL:r=this.InterpolantFactoryMethodDiscrete;break;case nB:r=this.InterpolantFactoryMethodLinear;break;case nk:r=this.InterpolantFactoryMethodSmooth}if(void 0===r){let r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(r)}return this}return this.createInterpolant=r,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return nL;case this.InterpolantFactoryMethodLinear:return nB;case this.InterpolantFactoryMethodSmooth:return nk}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){let r=this.times;for(let i=0,s=r.length;i!==s;++i)r[i]+=t}return this}scale(t){if(1!==t){let r=this.times;for(let i=0,s=r.length;i!==s;++i)r[i]*=t}return this}trim(t,r){let i=this.times,s=i.length,u=0,c=s-1;for(;u!==s&&i[u]<t;)++u;for(;-1!==c&&i[c]>r;)--c;if(++c,0!==u||c!==s){u>=c&&(u=(c=Math.max(c,1))-1);let t=this.getValueSize();this.times=i.slice(u,c),this.values=this.values.slice(u*t,c*t)}return this}validate(){let t=!0,r=this.getValueSize();r-Math.floor(r)!=0&&(t=!1);let i=this.times,s=this.values,u=i.length;0===u&&(t=!1);let c=null;for(let r=0;r!==u;r++){let s=i[r];if("number"==typeof s&&isNaN(s)||null!==c&&c>s){t=!1;break}c=s}if(void 0!==s&&hA(s)){for(let r=0,i=s.length;r!==i;++r)if(isNaN(s[r])){t=!1;break}}return t}optimize(){let t=this.times.slice(),r=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===nk,u=t.length-1,c=1;for(let h=1;h<u;++h){let u=!1,f=t[h];if(f!==t[h+1]&&(1!==h||f!==t[0])){if(s)u=!0;else{let t=h*i,s=t-i,c=t+i;for(let h=0;h!==i;++h){let i=r[t+h];if(i!==r[s+h]||i!==r[c+h]){u=!0;break}}}}if(u){if(h!==c){t[c]=t[h];let s=h*i,u=c*i;for(let t=0;t!==i;++t)r[u+t]=r[s+t]}++c}}if(u>0){t[c]=t[u];for(let t=u*i,s=c*i,h=0;h!==i;++h)r[s+h]=r[t+h];++c}return c!==t.length?(this.times=t.slice(0,c),this.values=r.slice(0,c*i)):(this.times=t,this.values=r),this}clone(){let t=this.times.slice(),r=this.values.slice(),i=new this.constructor(this.name,t,r);return i.createInterpolant=this.createInterpolant,i}}hL.prototype.TimeBufferType=Float32Array,hL.prototype.ValueBufferType=Float32Array,hL.prototype.DefaultInterpolation=nB;class hB extends hL{constructor(t,r,i){super(t,r,i)}}hB.prototype.ValueTypeName="bool",hB.prototype.ValueBufferType=Array,hB.prototype.DefaultInterpolation=nL,hB.prototype.InterpolantFactoryMethodLinear=void 0,hB.prototype.InterpolantFactoryMethodSmooth=void 0;class hk extends hL{}hk.prototype.ValueTypeName="color";class hO extends hL{}hO.prototype.ValueTypeName="number";class hN extends hI{constructor(t,r,i,s){super(t,r,i,s)}interpolate_(t,r,i,s){let u=this.resultBuffer,c=this.sampleValues,h=this.valueSize,f=(i-r)/(s-r),p=t*h;for(let t=p+h;p!==t;p+=4)il.slerpFlat(u,0,c,p-h,c,p,f);return u}}class hF extends hL{InterpolantFactoryMethodLinear(t){return new hN(this.times,this.values,this.getValueSize(),t)}}hF.prototype.ValueTypeName="quaternion",hF.prototype.InterpolantFactoryMethodSmooth=void 0;class hU extends hL{constructor(t,r,i){super(t,r,i)}}hU.prototype.ValueTypeName="string",hU.prototype.ValueBufferType=Array,hU.prototype.DefaultInterpolation=nL,hU.prototype.InterpolantFactoryMethodLinear=void 0,hU.prototype.InterpolantFactoryMethodSmooth=void 0;class hz extends hL{}hz.prototype.ValueTypeName="vector";class hG{constructor(t="",r=-1,i=[],s=nU){this.name=t,this.tracks=i,this.duration=r,this.blendMode=s,this.uuid=rL(),this.duration<0&&this.resetDuration()}static parse(t){let r=[],i=t.tracks,s=1/(t.fps||1);for(let t=0,u=i.length;t!==u;++t)r.push((function(t){if(void 0===t.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");let r=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hO;case"vector":case"vector2":case"vector3":case"vector4":return hz;case"color":return hk;case"quaternion":return hF;case"bool":case"boolean":return hB;case"string":return hU}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){let r=[],i=[];hT(t.keys,r,i,"value"),t.times=r,t.values=i}return void 0!==r.parse?r.parse(t):new r(t.name,t.times,t.values,t.interpolation)})(i[t]).scale(s));let u=new this(t.name,t.duration,r,t.blendMode);return u.uuid=t.uuid,u}static toJSON(t){let r=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:r,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,s=i.length;t!==s;++t)r.push(hL.toJSON(i[t]));return s}static CreateFromMorphTargetSequence(t,r,i,s){let u=r.length,c=[];for(let t=0;t<u;t++){let h=[],f=[];h.push((t+u-1)%u,t,(t+1)%u),f.push(0,1,0);let p=hM(h);h=hC(h,1,p),f=hC(f,1,p),!s&&0===h[0]&&(h.push(u),f.push(f[0])),c.push(new hO(".morphTargetInfluences["+r[t].name+"]",h,f).scale(1/i))}return new this(t,-1,c)}static findByName(t,r){let i=t;!Array.isArray(t)&&(i=t.geometry&&t.geometry.animations||t.animations);for(let t=0;t<i.length;t++)if(i[t].name===r)return i[t];return null}static CreateClipsFromMorphTargetSequences(t,r,i){let s={},u=/^([\w-]*?)([\d]+)$/;for(let r=0,i=t.length;r<i;r++){let i=t[r],c=i.name.match(u);if(c&&c.length>1){let t=c[1],r=s[t];!r&&(s[t]=r=[]),r.push(i)}}let c=[];for(let t in s)c.push(this.CreateFromMorphTargetSequence(t,s[t],r,i));return c}static parseAnimation(t,r){if(!t)return null;let i=function(t,r,i,s,u){if(0!==i.length){let c=[],h=[];hT(i,c,h,s),0!==c.length&&u.push(new t(r,c,h))}},s=[],u=t.name||"default",c=t.fps||30,h=t.blendMode,f=t.length||-1,p=t.hierarchy||[];for(let t=0;t<p.length;t++){let u=p[t].keys;if(u&&0!==u.length){if(u[0].morphTargets){let t;let r={};for(t=0;t<u.length;t++)if(u[t].morphTargets)for(let i=0;i<u[t].morphTargets.length;i++)r[u[t].morphTargets[i]]=-1;for(let i in r){let r=[],c=[];for(let s=0;s!==u[t].morphTargets.length;++s){let s=u[t];r.push(s.time),c.push(s.morphTarget===i?1:0)}s.push(new hO(".morphTargetInfluence["+i+"]",r,c))}f=r.length*c}else{let c=".bones["+r[t].name+"]";i(hz,c+".position",u,"pos",s),i(hF,c+".quaternion",u,"rot",s),i(hz,c+".scale",u,"scl",s)}}}return 0===s.length?null:new this(u,f,s,h)}resetDuration(){let t=this.tracks,r=0;for(let i=0,s=t.length;i!==s;++i){let t=this.tracks[i];r=Math.max(r,t.times[t.times.length-1])}return this.duration=r,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let r=0;r<this.tracks.length;r++)t=t&&this.tracks[r].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){let t=[];for(let r=0;r<this.tracks.length;r++)t.push(this.tracks[r].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}let hH={enabled:!1,files:{},add:function(t,r){!1!==this.enabled&&(this.files[t]=r)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class hV{constructor(t,r,i){let s,u=this,c=!1,h=0,f=0;let p=[];this.onStart=void 0,this.onLoad=t,this.onProgress=r,this.onError=i,this.itemStart=function(t){f++,!1===c&&void 0!==u.onStart&&u.onStart(t,h,f),c=!0},this.itemEnd=function(t){h++,void 0!==u.onProgress&&u.onProgress(t,h,f),h===f&&(c=!1,void 0!==u.onLoad&&u.onLoad())},this.itemError=function(t){void 0!==u.onError&&u.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this},this.addHandler=function(t,r){return p.push(t,r),this},this.removeHandler=function(t){let r=p.indexOf(t);return -1!==r&&p.splice(r,2),this},this.getHandler=function(t){for(let r=0,i=p.length;r<i;r+=2){let i=p[r],s=p[r+1];if(i.global&&(i.lastIndex=0),i.test(t))return s}return null}}}let hj=new hV;class hW{constructor(t){this.manager=void 0!==t?t:hj,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,r){let i=this;return new Promise(function(s,u){i.load(t,s,r,u)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}hW.DEFAULT_MATERIAL_NAME="__DEFAULT";let hX={};class hY extends Error{constructor(t,r){super(t),this.response=r}}class hZ extends hW{constructor(t){super(t)}load(t,r,i,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);let u=hH.get(t);if(void 0!==u)return this.manager.itemStart(t),setTimeout(()=>{r&&r(u),this.manager.itemEnd(t)},0),u;if(void 0!==hX[t]){hX[t].push({onLoad:r,onProgress:i,onError:s});return}hX[t]=[],hX[t].push({onLoad:r,onProgress:i,onError:s});let c=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),h=this.mimeType,f=this.responseType;fetch(c).then(r=>{if(200===r.status||0===r.status){if(r.status,"undefined"==typeof ReadableStream||void 0===r.body||void 0===r.body.getReader)return r;let i=hX[t],s=r.body.getReader(),u=r.headers.get("X-File-Size")||r.headers.get("Content-Length"),c=u?parseInt(u):0,h=0!==c,f=0;return new Response(new ReadableStream({start(t){(function r(){s.read().then(({done:s,value:u})=>{if(s)t.close();else{let s=new ProgressEvent("progress",{lengthComputable:h,loaded:f+=u.byteLength,total:c});for(let t=0,r=i.length;t<r;t++){let r=i[t];r.onProgress&&r.onProgress(s)}t.enqueue(u),r()}},r=>{t.error(r)})})()}}))}throw new hY(`fetch for "${r.url}" responded with ${r.status}: ${r.statusText}`,r)}).then(t=>{switch(f){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then(t=>new DOMParser().parseFromString(t,h));case"json":return t.json();default:if(void 0===h)return t.text();{let r=/charset="?([^;"\s]*)"?/i.exec(h),i=new TextDecoder(r&&r[1]?r[1].toLowerCase():void 0);return t.arrayBuffer().then(t=>i.decode(t))}}}).then(r=>{hH.add(t,r);let i=hX[t];delete hX[t];for(let t=0,s=i.length;t<s;t++){let s=i[t];s.onLoad&&s.onLoad(r)}}).catch(r=>{let i=hX[t];if(void 0===i)throw this.manager.itemError(t),r;delete hX[t];for(let t=0,s=i.length;t<s;t++){let s=i[t];s.onError&&s.onError(r)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class hK extends hW{constructor(t){super(t)}load(t,r,i,s){let u=this,c=new hZ(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(i){try{r(u.parse(JSON.parse(i)))}catch(r){s&&s(r),u.manager.itemError(t)}},i,s)}parse(t){let r=[];for(let i=0;i<t.length;i++){let s=hG.parse(t[i]);r.push(s)}return r}}class hJ extends hW{constructor(t){super(t)}load(t,r,i,s){let u=this,c=[],h=new ci,f=new hZ(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(u.withCredentials);let p=0;if(Array.isArray(t))for(let v=0,y=t.length;v<y;++v)!function(v){f.load(t[v],function(t){let i=u.parse(t,!0);c[v]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(p+=1)&&(1===i.mipmapCount&&(h.minFilter=tP),h.image=c,h.format=i.format,h.needsUpdate=!0,r&&r(h))},i,s)}(v);else f.load(t,function(t){let i=u.parse(t,!0);if(i.isCubemap){let t=i.mipmaps.length/i.mipmapCount;for(let r=0;r<t;r++){c[r]={mipmaps:[]};for(let t=0;t<i.mipmapCount;t++)c[r].mipmaps.push(i.mipmaps[r*i.mipmapCount+t]),c[r].format=i.format,c[r].width=i.width,c[r].height=i.height}h.image=c}else h.image.width=i.width,h.image.height=i.height,h.mipmaps=i.mipmaps;1===i.mipmapCount&&(h.minFilter=tP),h.format=i.format,h.needsUpdate=!0,r&&r(h)},i,s);return h}}class hQ extends hW{constructor(t){super(t)}load(t,r,i,s){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);let u=this,c=hH.get(t);if(void 0!==c)return u.manager.itemStart(t),setTimeout(function(){r&&r(c),u.manager.itemEnd(t)},0),c;let h=rX("img");function f(){v(),hH.add(t,this),r&&r(this),u.manager.itemEnd(t)}function p(r){v(),s&&s(r),u.manager.itemError(t),u.manager.itemEnd(t)}function v(){h.removeEventListener("load",f,!1),h.removeEventListener("error",p,!1)}return h.addEventListener("load",f,!1),h.addEventListener("error",p,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(h.crossOrigin=this.crossOrigin),u.manager.itemStart(t),h.src=t,h}}class hq extends hW{constructor(t){super(t)}load(t,r,i,s){let u=new od;u.colorSpace=nQ;let c=new hQ(this.manager);c.setCrossOrigin(this.crossOrigin),c.setPath(this.path);let h=0;for(let i=0;i<t.length;++i)!function(i){c.load(t[i],function(t){u.images[i]=t,6==++h&&(u.needsUpdate=!0,r&&r(u))},void 0,s)}(i);return u}}class h$ extends hW{constructor(t){super(t)}load(t,r,i,s){let u=this,c=new um,h=new hZ(this.manager);return h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setPath(this.path),h.setWithCredentials(u.withCredentials),h.load(t,function(t){let i;try{i=u.parse(t)}catch(t){if(void 0===s)return;s(t)}void 0!==i.image?c.image=i.image:void 0!==i.data&&(c.image.width=i.width,c.image.height=i.height,c.image.data=i.data),c.wrapS=void 0!==i.wrapS?i.wrapS:tM,c.wrapT=void 0!==i.wrapT?i.wrapT:tM,c.magFilter=void 0!==i.magFilter?i.magFilter:tP,c.minFilter=void 0!==i.minFilter?i.minFilter:tP,c.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.colorSpace&&(c.colorSpace=i.colorSpace),void 0!==i.flipY&&(c.flipY=i.flipY),void 0!==i.format&&(c.format=i.format),void 0!==i.type&&(c.type=i.type),void 0!==i.mipmaps&&(c.mipmaps=i.mipmaps,c.minFilter=tk),1===i.mipmapCount&&(c.minFilter=tP),void 0!==i.generateMipmaps&&(c.generateMipmaps=i.generateMipmaps),c.needsUpdate=!0,r&&r(c,i)},i,s),c}}class h0 extends hW{constructor(t){super(t)}load(t,r,i,s){let u=new r7,c=new hQ(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(t,function(t){u.image=t,u.needsUpdate=!0,void 0!==r&&r(u)},i,s),u}}class h1 extends ar{constructor(t,r=1){super(),this.isLight=!0,this.type="Light",this.color=new aw(t),this.intensity=r}dispose(){}copy(t,r){return super.copy(t,r),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){let r=super.toJSON(t);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,void 0!==this.groundColor&&(r.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(r.object.distance=this.distance),void 0!==this.angle&&(r.object.angle=this.angle),void 0!==this.decay&&(r.object.decay=this.decay),void 0!==this.penumbra&&(r.object.penumbra=this.penumbra),void 0!==this.shadow&&(r.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(r.object.target=this.target.uuid),r}}class h2 extends h1{constructor(t,r,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ar.DEFAULT_UP),this.updateMatrix(),this.groundColor=new aw(r)}copy(t,r){return super.copy(t,r),this.groundColor.copy(t.groundColor),this}}let h3=new iz,h5=new iu,h4=new iu;class h9{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new rz(512,512),this.map=null,this.mapPass=null,this.matrix=new iz,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new o_,this._frameExtents=new rz(1,1),this._viewportCount=1,this._viewports=[new ie(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){let r=this.camera,i=this.matrix;h5.setFromMatrixPosition(t.matrixWorld),r.position.copy(h5),h4.setFromMatrixPosition(t.target.matrixWorld),r.lookAt(h4),r.updateMatrixWorld(),h3.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(h3),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(h3)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let t={};return 1!==this.intensity&&(t.intensity=this.intensity),0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class h8 extends h9{constructor(){super(new oc(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){let r=this.camera,i=2*rP*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,u=t.distance||r.far;(i!==r.fov||s!==r.aspect||u!==r.far)&&(r.fov=i,r.aspect=s,r.far=u,r.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class h6 extends h1{constructor(t,r,i=0,s=Math.PI/3,u=0,c=2){super(t,r),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ar.DEFAULT_UP),this.updateMatrix(),this.target=new ar,this.distance=i,this.angle=s,this.penumbra=u,this.decay=c,this.map=null,this.shadow=new h8}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,r){return super.copy(t,r),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}let h7=new iz,de=new iu,dt=new iu;class dn extends h9{constructor(){super(new oc(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new rz(4,2),this._viewportCount=6,this._viewports=[new ie(2,1,1,1),new ie(0,1,1,1),new ie(3,1,1,1),new ie(1,1,1,1),new ie(3,0,1,1),new ie(1,0,1,1)],this._cubeDirections=[new iu(1,0,0),new iu(-1,0,0),new iu(0,0,1),new iu(0,0,-1),new iu(0,1,0),new iu(0,-1,0)],this._cubeUps=[new iu(0,1,0),new iu(0,1,0),new iu(0,1,0),new iu(0,1,0),new iu(0,0,1),new iu(0,0,-1)]}updateMatrices(t,r=0){let i=this.camera,s=this.matrix,u=t.distance||i.far;u!==i.far&&(i.far=u,i.updateProjectionMatrix()),de.setFromMatrixPosition(t.matrixWorld),i.position.copy(de),dt.copy(i.position),dt.add(this._cubeDirections[r]),i.up.copy(this._cubeUps[r]),i.lookAt(dt),i.updateMatrixWorld(),s.makeTranslation(-de.x,-de.y,-de.z),h7.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(h7)}}class dr extends h1{constructor(t,r,i=0,s=2){super(t,r),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new dn}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,r){return super.copy(t,r),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class di extends h9{constructor(){super(new oO(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class da extends h1{constructor(t,r){super(t,r),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ar.DEFAULT_UP),this.updateMatrix(),this.target=new ar,this.shadow=new di}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class ds extends h1{constructor(t,r){super(t,r),this.isAmbientLight=!0,this.type="AmbientLight"}}class dl extends h1{constructor(t,r,i=10,s=10){super(t,r),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){let r=super.toJSON(t);return r.object.width=this.width,r.object.height=this.height,r}}class du{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new iu)}set(t){for(let r=0;r<9;r++)this.coefficients[r].copy(t[r]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,r){let i=t.x,s=t.y,u=t.z,c=this.coefficients;return r.copy(c[0]).multiplyScalar(.282095),r.addScaledVector(c[1],.488603*s),r.addScaledVector(c[2],.488603*u),r.addScaledVector(c[3],.488603*i),r.addScaledVector(c[4],i*s*1.092548),r.addScaledVector(c[5],s*u*1.092548),r.addScaledVector(c[6],.315392*(3*u*u-1)),r.addScaledVector(c[7],i*u*1.092548),r.addScaledVector(c[8],.546274*(i*i-s*s)),r}getIrradianceAt(t,r){let i=t.x,s=t.y,u=t.z,c=this.coefficients;return r.copy(c[0]).multiplyScalar(.886227),r.addScaledVector(c[1],1.023328*s),r.addScaledVector(c[2],1.023328*u),r.addScaledVector(c[3],1.023328*i),r.addScaledVector(c[4],.858086*i*s),r.addScaledVector(c[5],.858086*s*u),r.addScaledVector(c[6],.743125*u*u-.247708),r.addScaledVector(c[7],.858086*i*u),r.addScaledVector(c[8],.429043*(i*i-s*s)),r}add(t){for(let r=0;r<9;r++)this.coefficients[r].add(t.coefficients[r]);return this}addScaledSH(t,r){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],r);return this}scale(t){for(let r=0;r<9;r++)this.coefficients[r].multiplyScalar(t);return this}lerp(t,r){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],r);return this}equals(t){for(let r=0;r<9;r++)if(!this.coefficients[r].equals(t.coefficients[r]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,r=0){let i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,r+3*s);return this}toArray(t=[],r=0){let i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,r+3*s);return t}static getBasisAt(t,r){let i=t.x,s=t.y,u=t.z;r[0]=.282095,r[1]=.488603*s,r[2]=.488603*u,r[3]=.488603*i,r[4]=1.092548*i*s,r[5]=1.092548*s*u,r[6]=.315392*(3*u*u-1),r[7]=1.092548*i*u,r[8]=.546274*(i*i-s*s)}}class dc extends h1{constructor(t=new du,r=1){super(void 0,r),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){let r=super.toJSON(t);return r.object.sh=this.sh.toArray(),r}}class dh extends hW{constructor(t){super(t),this.textures={}}load(t,r,i,s){let u=this,c=new hZ(u.manager);c.setPath(u.path),c.setRequestHeader(u.requestHeader),c.setWithCredentials(u.withCredentials),c.load(t,function(i){try{r(u.parse(JSON.parse(i)))}catch(r){s&&s(r),u.manager.itemError(t)}},i,s)}parse(t){let r=this.textures;function i(t){return r[t],r[t]}let s=this.createMaterialFromType(t.type);if(void 0!==t.uuid&&(s.uuid=t.uuid),void 0!==t.name&&(s.name=t.name),void 0!==t.color&&void 0!==s.color&&s.color.setHex(t.color),void 0!==t.roughness&&(s.roughness=t.roughness),void 0!==t.metalness&&(s.metalness=t.metalness),void 0!==t.sheen&&(s.sheen=t.sheen),void 0!==t.sheenColor&&(s.sheenColor=new aw().setHex(t.sheenColor)),void 0!==t.sheenRoughness&&(s.sheenRoughness=t.sheenRoughness),void 0!==t.emissive&&void 0!==s.emissive&&s.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==s.specular&&s.specular.setHex(t.specular),void 0!==t.specularIntensity&&(s.specularIntensity=t.specularIntensity),void 0!==t.specularColor&&void 0!==s.specularColor&&s.specularColor.setHex(t.specularColor),void 0!==t.shininess&&(s.shininess=t.shininess),void 0!==t.clearcoat&&(s.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(s.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.dispersion&&(s.dispersion=t.dispersion),void 0!==t.iridescence&&(s.iridescence=t.iridescence),void 0!==t.iridescenceIOR&&(s.iridescenceIOR=t.iridescenceIOR),void 0!==t.iridescenceThicknessRange&&(s.iridescenceThicknessRange=t.iridescenceThicknessRange),void 0!==t.transmission&&(s.transmission=t.transmission),void 0!==t.thickness&&(s.thickness=t.thickness),void 0!==t.attenuationDistance&&(s.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationColor&&void 0!==s.attenuationColor&&s.attenuationColor.setHex(t.attenuationColor),void 0!==t.anisotropy&&(s.anisotropy=t.anisotropy),void 0!==t.anisotropyRotation&&(s.anisotropyRotation=t.anisotropyRotation),void 0!==t.fog&&(s.fog=t.fog),void 0!==t.flatShading&&(s.flatShading=t.flatShading),void 0!==t.blending&&(s.blending=t.blending),void 0!==t.combine&&(s.combine=t.combine),void 0!==t.side&&(s.side=t.side),void 0!==t.shadowSide&&(s.shadowSide=t.shadowSide),void 0!==t.opacity&&(s.opacity=t.opacity),void 0!==t.transparent&&(s.transparent=t.transparent),void 0!==t.alphaTest&&(s.alphaTest=t.alphaTest),void 0!==t.alphaHash&&(s.alphaHash=t.alphaHash),void 0!==t.depthFunc&&(s.depthFunc=t.depthFunc),void 0!==t.depthTest&&(s.depthTest=t.depthTest),void 0!==t.depthWrite&&(s.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(s.colorWrite=t.colorWrite),void 0!==t.blendSrc&&(s.blendSrc=t.blendSrc),void 0!==t.blendDst&&(s.blendDst=t.blendDst),void 0!==t.blendEquation&&(s.blendEquation=t.blendEquation),void 0!==t.blendSrcAlpha&&(s.blendSrcAlpha=t.blendSrcAlpha),void 0!==t.blendDstAlpha&&(s.blendDstAlpha=t.blendDstAlpha),void 0!==t.blendEquationAlpha&&(s.blendEquationAlpha=t.blendEquationAlpha),void 0!==t.blendColor&&void 0!==s.blendColor&&s.blendColor.setHex(t.blendColor),void 0!==t.blendAlpha&&(s.blendAlpha=t.blendAlpha),void 0!==t.stencilWriteMask&&(s.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(s.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(s.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(s.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(s.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(s.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(s.stencilZPass=t.stencilZPass),void 0!==t.stencilWrite&&(s.stencilWrite=t.stencilWrite),void 0!==t.wireframe&&(s.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(s.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(s.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(s.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(s.rotation=t.rotation),void 0!==t.linewidth&&(s.linewidth=t.linewidth),void 0!==t.dashSize&&(s.dashSize=t.dashSize),void 0!==t.gapSize&&(s.gapSize=t.gapSize),void 0!==t.scale&&(s.scale=t.scale),void 0!==t.polygonOffset&&(s.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(s.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(s.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(s.dithering=t.dithering),void 0!==t.alphaToCoverage&&(s.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(s.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.forceSinglePass&&(s.forceSinglePass=t.forceSinglePass),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.toneMapped&&(s.toneMapped=t.toneMapped),void 0!==t.userData&&(s.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?s.vertexColors=t.vertexColors>0:s.vertexColors=t.vertexColors),void 0!==t.uniforms)for(let r in t.uniforms){let u=t.uniforms[r];switch(s.uniforms[r]={},u.type){case"t":s.uniforms[r].value=i(u.value);break;case"c":s.uniforms[r].value=new aw().setHex(u.value);break;case"v2":s.uniforms[r].value=new rz().fromArray(u.value);break;case"v3":s.uniforms[r].value=new iu().fromArray(u.value);break;case"v4":s.uniforms[r].value=new ie().fromArray(u.value);break;case"m3":s.uniforms[r].value=new rG().fromArray(u.value);break;case"m4":s.uniforms[r].value=new iz().fromArray(u.value);break;default:s.uniforms[r].value=u.value}}if(void 0!==t.defines&&(s.defines=t.defines),void 0!==t.vertexShader&&(s.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(s.fragmentShader=t.fragmentShader),void 0!==t.glslVersion&&(s.glslVersion=t.glslVersion),void 0!==t.extensions)for(let r in t.extensions)s.extensions[r]=t.extensions[r];if(void 0!==t.lights&&(s.lights=t.lights),void 0!==t.clipping&&(s.clipping=t.clipping),void 0!==t.size&&(s.size=t.size),void 0!==t.sizeAttenuation&&(s.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(s.map=i(t.map)),void 0!==t.matcap&&(s.matcap=i(t.matcap)),void 0!==t.alphaMap&&(s.alphaMap=i(t.alphaMap)),void 0!==t.bumpMap&&(s.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(s.bumpScale=t.bumpScale),void 0!==t.normalMap&&(s.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(s.normalMapType=t.normalMapType),void 0!==t.normalScale){let r=t.normalScale;!1===Array.isArray(r)&&(r=[r,r]),s.normalScale=new rz().fromArray(r)}return void 0!==t.displacementMap&&(s.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(s.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(s.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(s.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(s.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(s.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(s.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(s.specularMap=i(t.specularMap)),void 0!==t.specularIntensityMap&&(s.specularIntensityMap=i(t.specularIntensityMap)),void 0!==t.specularColorMap&&(s.specularColorMap=i(t.specularColorMap)),void 0!==t.envMap&&(s.envMap=i(t.envMap)),void 0!==t.envMapRotation&&s.envMapRotation.fromArray(t.envMapRotation),void 0!==t.envMapIntensity&&(s.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(s.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(s.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(s.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(s.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(s.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(s.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(s.gradientMap=i(t.gradientMap)),void 0!==t.clearcoatMap&&(s.clearcoatMap=i(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(s.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(s.clearcoatNormalMap=i(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(s.clearcoatNormalScale=new rz().fromArray(t.clearcoatNormalScale)),void 0!==t.iridescenceMap&&(s.iridescenceMap=i(t.iridescenceMap)),void 0!==t.iridescenceThicknessMap&&(s.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),void 0!==t.transmissionMap&&(s.transmissionMap=i(t.transmissionMap)),void 0!==t.thicknessMap&&(s.thicknessMap=i(t.thicknessMap)),void 0!==t.anisotropyMap&&(s.anisotropyMap=i(t.anisotropyMap)),void 0!==t.sheenColorMap&&(s.sheenColorMap=i(t.sheenColorMap)),void 0!==t.sheenRoughnessMap&&(s.sheenRoughnessMap=i(t.sheenRoughnessMap)),s}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return dh.createMaterialFromType(t)}static createMaterialFromType(t){return new({ShadowMaterial:hf,SpriteMaterial:lQ,RawShaderMaterial:hp,ShaderMaterial:oa,PointsMaterial:u4,MeshPhysicalMaterial:hm,MeshStandardMaterial:hg,MeshPhongMaterial:hv,MeshToonMaterial:hy,MeshNormalMaterial:hx,MeshLambertMaterial:h_,MeshDepthMaterial:lS,MeshDistanceMaterial:lA,MeshBasicMaterial:aC,MeshMatcapMaterial:hb,LineDashedMaterial:hw,LineBasicMaterial:uW,Material:aM})[t]}}class dd{static decodeText(t){if("undefined"!=typeof TextDecoder)return new TextDecoder().decode(t);let r="";for(let i=0,s=t.length;i<s;i++)r+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(r))}catch(t){return r}}static extractUrlBase(t){let r=t.lastIndexOf("/");return -1===r?"./":t.slice(0,r+1)}static resolveURL(t,r){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(r)&&/^\//.test(t)&&(r=r.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t))?t:r+t}}class df extends aJ{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){let t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class dp extends hW{constructor(t){super(t)}load(t,r,i,s){let u=this,c=new hZ(u.manager);c.setPath(u.path),c.setRequestHeader(u.requestHeader),c.setWithCredentials(u.withCredentials),c.load(t,function(i){try{r(u.parse(JSON.parse(i)))}catch(r){s&&s(r),u.manager.itemError(t)}},i,s)}parse(t){let r={},i={};function s(t,s){if(void 0!==r[s])return r[s];let u=t.interleavedBuffers[s],c=function(t,r){if(void 0!==i[r])return i[r];let s=new Uint32Array(t.arrayBuffers[r]).buffer;return i[r]=s,s}(t,u.buffer),h=new lZ(rW(u.type,c),u.stride);return h.uuid=u.uuid,r[s]=h,h}let u=t.isInstancedBufferGeometry?new df:new aJ,c=t.data.index;if(void 0!==c){let t=rW(c.type,c.array);u.setIndex(new aL(t,1))}let h=t.data.attributes;for(let r in h){let i;let c=h[r];if(c.isInterleavedBufferAttribute)i=new lJ(s(t.data,c.data),c.itemSize,c.offset,c.normalized);else{let t=rW(c.type,c.array);i=new(c.isInstancedBufferAttribute?u_:aL)(t,c.itemSize,c.normalized)}void 0!==c.name&&(i.name=c.name),void 0!==c.usage&&i.setUsage(c.usage),u.setAttribute(r,i)}let f=t.data.morphAttributes;if(f)for(let r in f){let i=f[r],c=[];for(let r=0,u=i.length;r<u;r++){let u;let h=i[r];u=h.isInterleavedBufferAttribute?new lJ(s(t.data,h.data),h.itemSize,h.offset,h.normalized):new aL(rW(h.type,h.array),h.itemSize,h.normalized),void 0!==h.name&&(u.name=h.name),c.push(u)}u.morphAttributes[r]=c}t.data.morphTargetsRelative&&(u.morphTargetsRelative=!0);let p=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==p)for(let t=0,r=p.length;t!==r;++t){let r=p[t];u.addGroup(r.start,r.count,r.materialIndex)}let v=t.data.boundingSphere;if(void 0!==v){let t=new iu;void 0!==v.center&&t.fromArray(v.center),u.boundingSphere=new iR(t,v.radius)}return t.name&&(u.name=t.name),t.userData&&(u.userData=t.userData),u}}class dg extends hW{constructor(t){super(t)}load(t,r,i,s){let u=this,c=""===this.path?dd.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||c;let h=new hZ(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(t,function(i){let c=null;try{c=JSON.parse(i)}catch(t){void 0!==s&&s(t);return}let h=c.metadata;if(void 0===h||void 0===h.type||"geometry"===h.type.toLowerCase()){void 0!==s&&s(Error("THREE.ObjectLoader: Can't load "+t));return}u.parse(c,r)},i,s)}async loadAsync(t,r){let i=""===this.path?dd.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||i;let s=new hZ(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);let u=JSON.parse(await s.loadAsync(t,r)),c=u.metadata;if(void 0===c||void 0===c.type||"geometry"===c.type.toLowerCase())throw Error("THREE.ObjectLoader: Can't load "+t);return await this.parseAsync(u)}parse(t,r){let i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),u=this.parseGeometries(t.geometries,s),c=this.parseImages(t.images,function(){void 0!==r&&r(p)}),h=this.parseTextures(t.textures,c),f=this.parseMaterials(t.materials,h),p=this.parseObject(t.object,u,f,h,i),v=this.parseSkeletons(t.skeletons,p);if(this.bindSkeletons(p,v),this.bindLightTargets(p),void 0!==r){let t=!1;for(let r in c)if(c[r].data instanceof HTMLImageElement){t=!0;break}!1===t&&r(p)}return p}async parseAsync(t){let r=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,i),u=await this.parseImagesAsync(t.images),c=this.parseTextures(t.textures,u),h=this.parseMaterials(t.materials,c),f=this.parseObject(t.object,s,h,c,r),p=this.parseSkeletons(t.skeletons,f);return this.bindSkeletons(f,p),this.bindLightTargets(f),f}parseShapes(t){let r={};if(void 0!==t)for(let i=0,s=t.length;i<s;i++){let s=new cH().fromJSON(t[i]);r[s.uuid]=s}return r}parseSkeletons(t,r){let i={},s={};if(r.traverse(function(t){t.isBone&&(s[t.uuid]=t)}),void 0!==t)for(let r=0,u=t.length;r<u;r++){let u=new ux().fromJSON(t[r],s);i[u.uuid]=u}return i}parseGeometries(t,r){let i={};if(void 0!==t){let s=new dp;for(let u=0,c=t.length;u<c;u++){let c;let h=t[u];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":c=s.parse(h);break;default:h.type in hd&&(c=hd[h.type].fromJSON(h,r))}c.uuid=h.uuid,void 0!==h.name&&(c.name=h.name),void 0!==h.userData&&(c.userData=h.userData),i[h.uuid]=c}}return i}parseMaterials(t,r){let i={},s={};if(void 0!==t){let u=new dh;u.setTextures(r);for(let r=0,c=t.length;r<c;r++){let c=t[r];void 0===i[c.uuid]&&(i[c.uuid]=u.parse(c)),s[c.uuid]=i[c.uuid]}}return s}parseAnimations(t){let r={};if(void 0!==t)for(let i=0;i<t.length;i++){let s=t[i],u=hG.parse(s);r[u.uuid]=u}return r}parseImages(t,r){let i;let s=this,u={};function c(t){if("string"==typeof t){var r;return r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:s.resourcePath+t,s.manager.itemStart(r),i.load(r,function(){s.manager.itemEnd(r)},void 0,function(){s.manager.itemError(r),s.manager.itemEnd(r)})}return t.data?{data:rW(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){(i=new hQ(new hV(r))).setCrossOrigin(this.crossOrigin);for(let r=0,i=t.length;r<i;r++){let i=t[r],s=i.url;if(Array.isArray(s)){let t=[];for(let r=0,i=s.length;r<i;r++){let i=c(s[r]);null!==i&&(i instanceof HTMLImageElement?t.push(i):t.push(new um(i.data,i.width,i.height)))}u[i.uuid]=new r9(t)}else{let t=c(i.url);u[i.uuid]=new r9(t)}}}return u}async parseImagesAsync(t){let r;let i=this,s={};async function u(t){if("string"==typeof t){let s=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:i.resourcePath+t;return await r.loadAsync(s)}return t.data?{data:rW(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){(r=new hQ(this.manager)).setCrossOrigin(this.crossOrigin);for(let r=0,i=t.length;r<i;r++){let i=t[r],c=i.url;if(Array.isArray(c)){let t=[];for(let r=0,i=c.length;r<i;r++){let i=c[r],s=await u(i);null!==s&&(s instanceof HTMLImageElement?t.push(s):t.push(new um(s.data,s.width,s.height)))}s[i.uuid]=new r9(t)}else{let t=await u(i.url);s[i.uuid]=new r9(t)}}}return s}parseTextures(t,r){function i(t,r){return"number"==typeof t?t:r[t]}let s={};if(void 0!==t)for(let u=0,c=t.length;u<c;u++){let c;let h=t[u];h.image,r[h.image];let f=r[h.image],p=f.data;Array.isArray(p)?(c=new od,6===p.length&&(c.needsUpdate=!0)):(c=p&&p.data?new um:new r7,p&&(c.needsUpdate=!0)),c.source=f,c.uuid=h.uuid,void 0!==h.name&&(c.name=h.name),void 0!==h.mapping&&(c.mapping=i(h.mapping,dm)),void 0!==h.channel&&(c.channel=h.channel),void 0!==h.offset&&c.offset.fromArray(h.offset),void 0!==h.repeat&&c.repeat.fromArray(h.repeat),void 0!==h.center&&c.center.fromArray(h.center),void 0!==h.rotation&&(c.rotation=h.rotation),void 0!==h.wrap&&(c.wrapS=i(h.wrap[0],dv),c.wrapT=i(h.wrap[1],dv)),void 0!==h.format&&(c.format=h.format),void 0!==h.internalFormat&&(c.internalFormat=h.internalFormat),void 0!==h.type&&(c.type=h.type),void 0!==h.colorSpace&&(c.colorSpace=h.colorSpace),void 0!==h.minFilter&&(c.minFilter=i(h.minFilter,dy)),void 0!==h.magFilter&&(c.magFilter=i(h.magFilter,dy)),void 0!==h.anisotropy&&(c.anisotropy=h.anisotropy),void 0!==h.flipY&&(c.flipY=h.flipY),void 0!==h.generateMipmaps&&(c.generateMipmaps=h.generateMipmaps),void 0!==h.premultiplyAlpha&&(c.premultiplyAlpha=h.premultiplyAlpha),void 0!==h.unpackAlignment&&(c.unpackAlignment=h.unpackAlignment),void 0!==h.compareFunction&&(c.compareFunction=h.compareFunction),void 0!==h.userData&&(c.userData=h.userData),s[h.uuid]=c}return s}parseObject(t,r,i,s,u){let c,h,f;function p(t){return r[t],r[t]}function v(t){if(void 0!==t){if(Array.isArray(t)){let r=[];for(let s=0,u=t.length;s<u;s++){let u=t[s];i[u],r.push(i[u])}return r}return i[t],i[t]}}function y(t){return s[t],s[t]}switch(t.type){case"Scene":c=new lY,void 0!==t.background&&(Number.isInteger(t.background)?c.background=new aw(t.background):c.background=y(t.background)),void 0!==t.environment&&(c.environment=y(t.environment)),void 0!==t.fog&&("Fog"===t.fog.type?c.fog=new lX(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(c.fog=new lW(t.fog.color,t.fog.density)),""!==t.fog.name&&(c.fog.name=t.fog.name)),void 0!==t.backgroundBlurriness&&(c.backgroundBlurriness=t.backgroundBlurriness),void 0!==t.backgroundIntensity&&(c.backgroundIntensity=t.backgroundIntensity),void 0!==t.backgroundRotation&&c.backgroundRotation.fromArray(t.backgroundRotation),void 0!==t.environmentIntensity&&(c.environmentIntensity=t.environmentIntensity),void 0!==t.environmentRotation&&c.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":c=new oc(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(c.focus=t.focus),void 0!==t.zoom&&(c.zoom=t.zoom),void 0!==t.filmGauge&&(c.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(c.filmOffset=t.filmOffset),void 0!==t.view&&(c.view=Object.assign({},t.view));break;case"OrthographicCamera":c=new oO(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(c.zoom=t.zoom),void 0!==t.view&&(c.view=Object.assign({},t.view));break;case"AmbientLight":c=new ds(t.color,t.intensity);break;case"DirectionalLight":(c=new da(t.color,t.intensity)).target=t.target||"";break;case"PointLight":c=new dr(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":c=new dl(t.color,t.intensity,t.width,t.height);break;case"SpotLight":(c=new h6(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay)).target=t.target||"";break;case"HemisphereLight":c=new h2(t.color,t.groundColor,t.intensity);break;case"LightProbe":c=new dc().fromJSON(t);break;case"SkinnedMesh":h=p(t.geometry),c=new up(h,f=v(t.material)),void 0!==t.bindMode&&(c.bindMode=t.bindMode),void 0!==t.bindMatrix&&c.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(c.skeleton=t.skeleton);break;case"Mesh":h=p(t.geometry),c=new a6(h,f=v(t.material));break;case"InstancedMesh":h=p(t.geometry),f=v(t.material);let x=t.count,_=t.instanceMatrix,b=t.instanceColor;(c=new uE(h,f,x)).instanceMatrix=new u_(new Float32Array(_.array),16),void 0!==b&&(c.instanceColor=new u_(new Float32Array(b.array),b.itemSize));break;case"BatchedMesh":h=p(t.geometry),f=v(t.material),(c=new uj(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,f)).geometry=h,c.perObjectFrustumCulled=t.perObjectFrustumCulled,c.sortObjects=t.sortObjects,c._drawRanges=t.drawRanges,c._reservedRanges=t.reservedRanges,c._visibility=t.visibility,c._active=t.active,c._bounds=t.bounds.map(t=>{let r=new id;r.min.fromArray(t.boxMin),r.max.fromArray(t.boxMax);let i=new iR;return i.radius=t.sphereRadius,i.center.fromArray(t.sphereCenter),{boxInitialized:t.boxInitialized,box:r,sphereInitialized:t.sphereInitialized,sphere:i}}),c._maxInstanceCount=t.maxInstanceCount,c._maxVertexCount=t.maxVertexCount,c._maxIndexCount=t.maxIndexCount,c._geometryInitialized=t.geometryInitialized,c._geometryCount=t.geometryCount,c._matricesTexture=y(t.matricesTexture.uuid),void 0!==t.colorsTexture&&(c._colorsTexture=y(t.colorsTexture.uuid));break;case"LOD":c=new ui;break;case"Line":c=new u$(p(t.geometry),v(t.material));break;case"LineLoop":c=new u5(p(t.geometry),v(t.material));break;case"LineSegments":c=new u3(p(t.geometry),v(t.material));break;case"PointCloud":case"Points":c=new ce(p(t.geometry),v(t.material));break;case"Sprite":c=new ue(v(t.material));break;case"Group":c=new lL;break;case"Bone":c=new ug;break;default:c=new ar}if(c.uuid=t.uuid,void 0!==t.name&&(c.name=t.name),void 0!==t.matrix?(c.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(c.matrixAutoUpdate=t.matrixAutoUpdate),c.matrixAutoUpdate&&c.matrix.decompose(c.position,c.quaternion,c.scale)):(void 0!==t.position&&c.position.fromArray(t.position),void 0!==t.rotation&&c.rotation.fromArray(t.rotation),void 0!==t.quaternion&&c.quaternion.fromArray(t.quaternion),void 0!==t.scale&&c.scale.fromArray(t.scale)),void 0!==t.up&&c.up.fromArray(t.up),void 0!==t.castShadow&&(c.castShadow=t.castShadow),void 0!==t.receiveShadow&&(c.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.intensity&&(c.shadow.intensity=t.shadow.intensity),void 0!==t.shadow.bias&&(c.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(c.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(c.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&c.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(c.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(c.visible=t.visible),void 0!==t.frustumCulled&&(c.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(c.renderOrder=t.renderOrder),void 0!==t.userData&&(c.userData=t.userData),void 0!==t.layers&&(c.layers.mask=t.layers),void 0!==t.children){let h=t.children;for(let t=0;t<h.length;t++)c.add(this.parseObject(h[t],r,i,s,u))}if(void 0!==t.animations){let r=t.animations;for(let t=0;t<r.length;t++){let i=r[t];c.animations.push(u[i])}}if("LOD"===t.type){void 0!==t.autoUpdate&&(c.autoUpdate=t.autoUpdate);let r=t.levels;for(let t=0;t<r.length;t++){let i=r[t],s=c.getObjectByProperty("uuid",i.object);void 0!==s&&c.addLevel(s,i.distance,i.hysteresis)}}return c}bindSkeletons(t,r){0!==Object.keys(r).length&&t.traverse(function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){let i=r[t.skeleton];void 0===i||t.bind(i,t.bindMatrix)}})}bindLightTargets(t){t.traverse(function(r){if(r.isDirectionalLight||r.isSpotLight){let i=r.target,s=t.getObjectByProperty("uuid",i);void 0!==s?r.target=s:r.target=new ar}})}}let dm={UVMapping:ty,CubeReflectionMapping:tx,CubeRefractionMapping:t_,EquirectangularReflectionMapping:tb,EquirectangularRefractionMapping:tw,CubeUVReflectionMapping:tS},dv={RepeatWrapping:tA,ClampToEdgeWrapping:tM,MirroredRepeatWrapping:tC},dy={NearestFilter:tT,NearestMipmapNearestFilter:tE,NearestMipmapLinearFilter:tD,LinearFilter:tP,LinearMipmapNearestFilter:tL,LinearMipmapLinearFilter:tk};class dx extends hW{constructor(t){super(t),this.isImageBitmapLoader=!0,this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,r,i,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);let u=this,c=hH.get(t);if(void 0!==c){if(u.manager.itemStart(t),c.then){c.then(i=>{r&&r(i),u.manager.itemEnd(t)}).catch(t=>{s&&s(t)});return}return setTimeout(function(){r&&r(c),u.manager.itemEnd(t)},0),c}let h={};h.credentials="anonymous"===this.crossOrigin?"same-origin":"include",h.headers=this.requestHeader;let f=fetch(t,h).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,Object.assign(u.options,{colorSpaceConversion:"none"}))}).then(function(i){return hH.add(t,i),r&&r(i),u.manager.itemEnd(t),i}).catch(function(r){s&&s(r),hH.remove(t),u.manager.itemError(t),u.manager.itemEnd(t)});hH.add(t,f),u.manager.itemStart(t)}}class d_{static getContext(){return void 0===u&&(u=new(window.AudioContext||window.webkitAudioContext)),u}static setContext(t){u=t}}class db extends hW{constructor(t){super(t)}load(t,r,i,s){let u=this,c=new hZ(this.manager);function h(r){s&&s(r),u.manager.itemError(t)}c.setResponseType("arraybuffer"),c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(t){try{let i=t.slice(0);d_.getContext().decodeAudioData(i,function(t){r(t)}).catch(h)}catch(t){h(t)}},i,s)}}let dw=new iz,dS=new iz,dA=new iz;class dM{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new oc,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new oc,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){let r=this._cache;if(r.focus!==t.focus||r.fov!==t.fov||r.aspect!==t.aspect*this.aspect||r.near!==t.near||r.far!==t.far||r.zoom!==t.zoom||r.eyeSep!==this.eyeSep){let i,s;r.focus=t.focus,r.fov=t.fov,r.aspect=t.aspect*this.aspect,r.near=t.near,r.far=t.far,r.zoom=t.zoom,r.eyeSep=this.eyeSep,dA.copy(t.projectionMatrix);let u=r.eyeSep/2,c=u*r.near/r.focus,h=r.near*Math.tan(rR*r.fov*.5)/r.zoom;dS.elements[12]=-u,dw.elements[12]=u,i=-h*r.aspect+c,s=h*r.aspect+c,dA.elements[0]=2*r.near/(s-i),dA.elements[8]=(s+i)/(s-i),this.cameraL.projectionMatrix.copy(dA),i=-h*r.aspect-c,s=h*r.aspect-c,dA.elements[0]=2*r.near/(s-i),dA.elements[8]=(s+i)/(s-i),this.cameraR.projectionMatrix.copy(dA)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(dS),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(dw)}}class dC{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=dT(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let r=dT();t=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=t}return t}}function dT(){return performance.now()}let dE=new iu,dI=new il,dD=new iu,dR=new iu;class dP extends ar{constructor(){super(),this.type="AudioListener",this.context=d_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new dC}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);let r=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(dE,dI,dD),dR.set(0,0,-1).applyQuaternion(dI),r.positionX){let t=this.context.currentTime+this.timeDelta;r.positionX.linearRampToValueAtTime(dE.x,t),r.positionY.linearRampToValueAtTime(dE.y,t),r.positionZ.linearRampToValueAtTime(dE.z,t),r.forwardX.linearRampToValueAtTime(dR.x,t),r.forwardY.linearRampToValueAtTime(dR.y,t),r.forwardZ.linearRampToValueAtTime(dR.z,t),r.upX.linearRampToValueAtTime(i.x,t),r.upY.linearRampToValueAtTime(i.y,t),r.upZ.linearRampToValueAtTime(i.z,t)}else r.setPosition(dE.x,dE.y,dE.z),r.setOrientation(dR.x,dR.y,dR.z,i.x,i.y,i.z)}}class dL extends ar{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying||!1===this.hasPlaybackControl)return;this._startedAt=this.context.currentTime+t;let r=this.context.createBufferSource();return r.buffer=this.buffer,r.loop=this.loop,r.loopStart=this.loopStart,r.loopEnd=this.loopEnd,r.onended=this.onEnded.bind(this),r.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=r,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,r=this.filters.length;t<r;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,r=this.filters.length;t<r;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return!t&&(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1!==this.hasPlaybackControl&&this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}let dB=new iu,dk=new il,dO=new iu,dN=new iu;class dF extends dL{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,r,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=r,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(dB,dk,dO),dN.set(0,0,1).applyQuaternion(dk);let r=this.panner;if(r.positionX){let t=this.context.currentTime+this.listener.timeDelta;r.positionX.linearRampToValueAtTime(dB.x,t),r.positionY.linearRampToValueAtTime(dB.y,t),r.positionZ.linearRampToValueAtTime(dB.z,t),r.orientationX.linearRampToValueAtTime(dN.x,t),r.orientationY.linearRampToValueAtTime(dN.y,t),r.orientationZ.linearRampToValueAtTime(dN.z,t)}else r.setPosition(dB.x,dB.y,dB.z),r.setOrientation(dN.x,dN.y,dN.z)}}class dU{constructor(t,r=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=r,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0,r=this.getFrequencyData();for(let i=0;i<r.length;i++)t+=r[i];return t/r.length}}class dz{constructor(t,r,i){let s,u,c;switch(this.binding=t,this.valueSize=i,r){case"quaternion":s=this._slerp,u=this._slerpAdditive,c=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":s=this._select,u=this._select,c=this._setAdditiveIdentityOther,this.buffer=Array(5*i);break;default:s=this._lerp,u=this._lerpAdditive,c=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=u,this._setIdentity=c,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,r){let i=this.buffer,s=this.valueSize,u=t*s+s,c=this.cumulativeWeight;if(0===c){for(let t=0;t!==s;++t)i[u+t]=i[t];c=r}else{c+=r;let t=r/c;this._mixBufferRegion(i,u,0,t,s)}this.cumulativeWeight=c}accumulateAdditive(t){let r=this.buffer,i=this.valueSize,s=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(r,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){let r=this.valueSize,i=this.buffer,s=t*r+r,u=this.cumulativeWeight,c=this.cumulativeWeightAdditive,h=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,u<1){let t=r*this._origIndex;this._mixBufferRegion(i,s,t,1-u,r)}c>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*r,1,r);for(let t=r,u=r+r;t!==u;++t)if(i[t]!==i[t+r]){h.setValue(i,s);break}}saveOriginalState(){let t=this.binding,r=this.buffer,i=this.valueSize,s=i*this._origIndex;t.getValue(r,s);for(let t=i;t!==s;++t)r[t]=r[s+t%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let t=3*this.valueSize;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){let t=this._addIndex*this.valueSize,r=t+this.valueSize;for(let i=t;i<r;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let t=this._origIndex*this.valueSize,r=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[r+i]=this.buffer[t+i]}_select(t,r,i,s,u){if(s>=.5)for(let s=0;s!==u;++s)t[r+s]=t[i+s]}_slerp(t,r,i,s){il.slerpFlat(t,r,t,r,t,i,s)}_slerpAdditive(t,r,i,s,u){let c=this._workIndex*u;il.multiplyQuaternionsFlat(t,c,t,r,t,i),il.slerpFlat(t,r,t,r,t,c,s)}_lerp(t,r,i,s,u){let c=1-s;for(let h=0;h!==u;++h){let u=r+h;t[u]=t[u]*c+t[i+h]*s}}_lerpAdditive(t,r,i,s,u){for(let c=0;c!==u;++c){let u=r+c;t[u]=t[u]+t[i+c]*s}}}let dG="\\[\\]\\.:\\/",dH=RegExp("["+dG+"]","g"),dV="[^"+dG+"]",dj="[^"+dG.replace("\\.","")+"]",dW=/((?:WC+[\/:])*)/.source.replace("WC",dV),dX=/(WCOD+)?/.source.replace("WCOD",dj),dY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",dV),dZ=RegExp("^"+dW+dX+dY+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",dV)+"$"),dK=["material","materials","bones","map"];class dJ{constructor(t,r,i){this.path=r,this.parsedPath=i||dJ.parseTrackName(r),this.node=dJ.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,i){return t&&t.isAnimationObjectGroup?new dJ.Composite(t,r,i):new dJ(t,r,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(dH,"")}static parseTrackName(t){let r=dZ.exec(t);if(null===r)throw Error("PropertyBinding: Cannot parse trackName: "+t);let i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){let t=i.nodeName.substring(s+1);-1!==dK.indexOf(t)&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=t)}if(null===i.propertyName||0===i.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){let i=t.skeleton.getBoneByName(r);if(void 0!==i)return i}if(t.children){let i=function(t){for(let s=0;s<t.length;s++){let u=t[s];if(u.name===r||u.uuid===r)return u;let c=i(u.children);if(c)return c}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){let i=this.resolvedProperty;for(let s=0,u=i.length;s!==u;++s)t[r++]=i[s]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){let i=this.resolvedProperty;for(let s=0,u=i.length;s!==u;++s)i[s]=t[r++]}_setValue_array_setNeedsUpdate(t,r){let i=this.resolvedProperty;for(let s=0,u=i.length;s!==u;++s)i[s]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){let i=this.resolvedProperty;for(let s=0,u=i.length;s!==u;++s)i[s]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node,r=this.parsedPath,i=r.objectName,s=r.propertyName,u=r.propertyIndex;if(!t&&(t=dJ.findNode(this.rootNode,r.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return;if(i){let s=r.objectIndex;switch(i){case"materials":if(!t.material||!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(let r=0;r<t.length;r++)if(t[r].name===s){s=r;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material||!t.material.map)return;t=t.material.map;break;default:if(void 0===t[i])return;t=t[i]}if(void 0!==s){if(void 0===t[s])return;t=t[s]}}let c=t[s];if(void 0===c){r.nodeName;return}let h=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?h=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(h=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(void 0!==u){if("morphTargetInfluences"===s){if(!t.geometry||!t.geometry.morphAttributes)return;void 0!==t.morphTargetDictionary[u]&&(u=t.morphTargetDictionary[u])}f=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=u}else void 0!==c.fromArray&&void 0!==c.toArray?(f=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(f=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=s;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][h]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}dJ.Composite=class t{constructor(t,r,i){let s=i||dJ.parseTrackName(r);this._targetGroup=t,this._bindings=t.subscribe_(r,s)}getValue(t,r){this.bind();let i=this._targetGroup.nCachedObjects_,s=this._bindings[i];void 0!==s&&s.getValue(t,r)}setValue(t,r){let i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,u=i.length;s!==u;++s)i[s].setValue(t,r)}bind(){let t=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=t.length;r!==i;++r)t[r].bind()}unbind(){let t=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=t.length;r!==i;++r)t[r].unbind()}},dJ.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},dJ.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},dJ.prototype.GetterByBindingType=[dJ.prototype._getValue_direct,dJ.prototype._getValue_array,dJ.prototype._getValue_arrayElement,dJ.prototype._getValue_toArray],dJ.prototype.SetterByBindingTypeAndVersioning=[[dJ.prototype._setValue_direct,dJ.prototype._setValue_direct_setNeedsUpdate,dJ.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[dJ.prototype._setValue_array,dJ.prototype._setValue_array_setNeedsUpdate,dJ.prototype._setValue_array_setMatrixWorldNeedsUpdate],[dJ.prototype._setValue_arrayElement,dJ.prototype._setValue_arrayElement_setNeedsUpdate,dJ.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[dJ.prototype._setValue_fromArray,dJ.prototype._setValue_fromArray_setNeedsUpdate,dJ.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class dQ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=rL(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let t={};this._indicesByUUID=t;for(let r=0,i=arguments.length;r!==i;++r)t[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}add(){let t=this._objects,r=this._indicesByUUID,i=this._paths,s=this._parsedPaths,u=this._bindings,c=u.length,h,f=t.length,p=this.nCachedObjects_;for(let v=0,y=arguments.length;v!==y;++v){let y=arguments[v],x=y.uuid,_=r[x];if(void 0===_){_=f++,r[x]=_,t.push(y);for(let t=0;t!==c;++t)u[t].push(new dJ(y,i[t],s[t]))}else if(_<p){h=t[_];let f=--p,v=t[f];r[v.uuid]=_,t[_]=v,r[x]=f,t[f]=y;for(let t=0;t!==c;++t){let r=u[t],c=r[f],h=r[_];r[_]=c,void 0===h&&(h=new dJ(y,i[t],s[t])),r[f]=h}}else t[_]}this.nCachedObjects_=p}remove(){let t=this._objects,r=this._indicesByUUID,i=this._bindings,s=i.length,u=this.nCachedObjects_;for(let c=0,h=arguments.length;c!==h;++c){let h=arguments[c],f=h.uuid,p=r[f];if(void 0!==p&&p>=u){let c=u++,v=t[c];r[v.uuid]=p,t[p]=v,r[f]=c,t[c]=h;for(let t=0;t!==s;++t){let r=i[t],s=r[c],u=r[p];r[p]=s,r[c]=u}}}this.nCachedObjects_=u}uncache(){let t=this._objects,r=this._indicesByUUID,i=this._bindings,s=i.length,u=this.nCachedObjects_,c=t.length;for(let h=0,f=arguments.length;h!==f;++h){let f=arguments[h],p=f.uuid,v=r[p];if(void 0!==v){if(delete r[p],v<u){let h=--u,f=t[h],p=--c,y=t[p];r[f.uuid]=v,t[v]=f,r[y.uuid]=h,t[h]=y,t.pop();for(let t=0;t!==s;++t){let r=i[t],s=r[h],u=r[p];r[v]=s,r[h]=u,r.pop()}}else{let u=--c,h=t[u];u>0&&(r[h.uuid]=v),t[v]=h,t.pop();for(let t=0;t!==s;++t){let r=i[t];r[v]=r[u],r.pop()}}}}this.nCachedObjects_=u}subscribe_(t,r){let i=this._bindingsIndicesByPath,s=i[t],u=this._bindings;if(void 0!==s)return u[s];let c=this._paths,h=this._parsedPaths,f=this._objects,p=f.length,v=this.nCachedObjects_,y=Array(p);s=u.length,i[t]=s,c.push(t),h.push(r),u.push(y);for(let i=v,s=f.length;i!==s;++i){let s=f[i];y[i]=new dJ(s,t,r)}return y}unsubscribe_(t){let r=this._bindingsIndicesByPath,i=r[t];if(void 0!==i){let s=this._paths,u=this._parsedPaths,c=this._bindings,h=c.length-1,f=c[h];r[t[h]]=i,c[i]=f,c.pop(),u[i]=u[h],u.pop(),s[i]=s[h],s.pop()}}}class dq{constructor(t,r,i=null,s=r.blendMode){this._mixer=t,this._clip=r,this._localRoot=i,this.blendMode=s;let u=r.tracks,c=u.length,h=Array(c),f={endingStart:nO,endingEnd:nO};for(let t=0;t!==c;++t){let r=u[t].createInterpolant(null);h[t]=r,r.settings=f}this._interpolantSettings=f,this._interpolants=h,this._propertyBindings=Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=nR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,r){return this.loop=t,this.repetitions=r,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,r,i){if(t.fadeOut(r),this.fadeIn(r),i){let i=this._clip.duration,s=t._clip.duration;t.warp(1,s/i,r),this.warp(i/s,1,r)}return this}crossFadeTo(t,r,i){return t.crossFadeFrom(this,r,i)}stopFading(){let t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,r,i){let s=this._mixer,u=s.time,c=this.timeScale,h=this._timeScaleInterpolant;null===h&&(h=s._lendControlInterpolant(),this._timeScaleInterpolant=h);let f=h.parameterPositions,p=h.sampleValues;return f[0]=u,f[1]=u+i,p[0]=t/c,p[1]=r/c,this}stopWarping(){let t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,r,i,s){if(!this.enabled){this._updateWeight(t);return}let u=this._startTime;if(null!==u){let s=(t-u)*i;s<0||0===i?r=0:(this._startTime=null,r=i*s)}r*=this._updateTimeScale(t);let c=this._updateTime(r),h=this._updateWeight(t);if(h>0){let t=this._interpolants,r=this._propertyBindings;if(this.blendMode===nz)for(let i=0,s=t.length;i!==s;++i)t[i].evaluate(c),r[i].accumulateAdditive(h);else for(let i=0,u=t.length;i!==u;++i)t[i].evaluate(c),r[i].accumulate(s,h)}}_updateWeight(t){let r=0;if(this.enabled){r=this.weight;let i=this._weightInterpolant;if(null!==i){let s=i.evaluate(t)[0];r*=s,t>i.parameterPositions[1]&&(this.stopFading(),0===s&&(this.enabled=!1))}}return this._effectiveWeight=r,r}_updateTimeScale(t){let r=0;if(!this.paused){r=this.timeScale;let i=this._timeScaleInterpolant;null!==i&&(r*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===r?this.paused=!0:this.timeScale=r))}return this._effectiveTimeScale=r,r}_updateTime(t){let r=this._clip.duration,i=this.loop,s=this.time+t,u=this._loopCount,c=i===nP;if(0===t)return -1===u?s:c&&(1&u)==1?r-s:s;if(i===nD){-1===u&&(this._loopCount=0,this._setEndings(!0,!0,!1));o:{if(s>=r)s=r;else if(s<0)s=0;else{this.time=s;break o}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===u&&(t>=0?(u=0,this._setEndings(!0,0===this.repetitions,c)):this._setEndings(0===this.repetitions,!0,c)),s>=r||s<0){let i=Math.floor(s/r);s-=r*i,u+=Math.abs(i);let h=this.repetitions-u;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?r:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===h){let r=t<0;this._setEndings(r,!r,c)}else this._setEndings(!1,!1,c);this._loopCount=u,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:i})}}else this.time=s;if(c&&(1&u)==1)return r-s}return s}_setEndings(t,r,i){let s=this._interpolantSettings;i?(s.endingStart=nN,s.endingEnd=nN):(t?s.endingStart=this.zeroSlopeAtStart?nN:nO:s.endingStart=nF,r?s.endingEnd=this.zeroSlopeAtEnd?nN:nO:s.endingEnd=nF)}_scheduleFading(t,r,i){let s=this._mixer,u=s.time,c=this._weightInterpolant;null===c&&(c=s._lendControlInterpolant(),this._weightInterpolant=c);let h=c.parameterPositions,f=c.sampleValues;return h[0]=u,f[0]=r,h[1]=u+t,f[1]=i,this}}let d$=new Float32Array(1);class d0 extends rE{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,r){let i=t._localRoot||this._root,s=t._clip.tracks,u=s.length,c=t._propertyBindings,h=t._interpolants,f=i.uuid,p=this._bindingsByRootAndName,v=p[f];void 0===v&&(v={},p[f]=v);for(let t=0;t!==u;++t){let u=s[t],p=u.name,y=v[p];if(void 0!==y)++y.referenceCount,c[t]=y;else{if(void 0!==(y=c[t])){null===y._cacheIndex&&(++y.referenceCount,this._addInactiveBinding(y,f,p));continue}let s=r&&r._propertyBindings[t].binding.parsedPath;y=new dz(dJ.create(i,p,s),u.ValueTypeName,u.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,f,p),c[t]=y}h[t].resultBuffer=y.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){let r=(t._localRoot||this._root).uuid,i=t._clip.uuid,s=this._actionsByClip[i];this._bindAction(t,s&&s.knownActions[0]),this._addInactiveAction(t,i,r)}let r=t._propertyBindings;for(let t=0,i=r.length;t!==i;++t){let i=r[t];0==i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){let r=t._propertyBindings;for(let t=0,i=r.length;t!==i;++t){let i=r[t];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){let r=t._cacheIndex;return null!==r&&r<this._nActiveActions}_addInactiveAction(t,r,i){let s=this._actions,u=this._actionsByClip,c=u[r];if(void 0===c)c={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,u[r]=c;else{let r=c.knownActions;t._byClipCacheIndex=r.length,r.push(t)}t._cacheIndex=s.length,s.push(t),c.actionByRoot[i]=t}_removeInactiveAction(t){let r=this._actions,i=r[r.length-1],s=t._cacheIndex;i._cacheIndex=s,r[s]=i,r.pop(),t._cacheIndex=null;let u=t._clip.uuid,c=this._actionsByClip,h=c[u],f=h.knownActions,p=f[f.length-1],v=t._byClipCacheIndex;p._byClipCacheIndex=v,f[v]=p,f.pop(),t._byClipCacheIndex=null;let y=h.actionByRoot,x=(t._localRoot||this._root).uuid;delete y[x],0===f.length&&delete c[u],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){let r=t._propertyBindings;for(let t=0,i=r.length;t!==i;++t){let i=r[t];0==--i.referenceCount&&this._removeInactiveBinding(i)}}_lendAction(t){let r=this._actions,i=t._cacheIndex,s=this._nActiveActions++,u=r[s];t._cacheIndex=s,r[s]=t,u._cacheIndex=i,r[i]=u}_takeBackAction(t){let r=this._actions,i=t._cacheIndex,s=--this._nActiveActions,u=r[s];t._cacheIndex=s,r[s]=t,u._cacheIndex=i,r[i]=u}_addInactiveBinding(t,r,i){let s=this._bindingsByRootAndName,u=this._bindings,c=s[r];void 0===c&&(c={},s[r]=c),c[i]=t,t._cacheIndex=u.length,u.push(t)}_removeInactiveBinding(t){let r=this._bindings,i=t.binding,s=i.rootNode.uuid,u=i.path,c=this._bindingsByRootAndName,h=c[s],f=r[r.length-1],p=t._cacheIndex;f._cacheIndex=p,r[p]=f,r.pop(),delete h[u],0===Object.keys(h).length&&delete c[s]}_lendBinding(t){let r=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,u=r[s];t._cacheIndex=s,r[s]=t,u._cacheIndex=i,r[i]=u}_takeBackBinding(t){let r=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,u=r[s];t._cacheIndex=s,r[s]=t,u._cacheIndex=i,r[i]=u}_lendControlInterpolant(){let t=this._controlInterpolants,r=this._nActiveControlInterpolants++,i=t[r];return void 0===i&&((i=new hR(new Float32Array(2),new Float32Array(2),1,d$)).__cacheIndex=r,t[r]=i),i}_takeBackControlInterpolant(t){let r=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,u=r[s];t.__cacheIndex=s,r[s]=t,u.__cacheIndex=i,r[i]=u}clipAction(t,r,i){let s=r||this._root,u=s.uuid,c="string"==typeof t?hG.findByName(s,t):t,h=null!==c?c.uuid:t,f=this._actionsByClip[h],p=null;if(void 0===i&&(i=null!==c?c.blendMode:nU),void 0!==f){let t=f.actionByRoot[u];if(void 0!==t&&t.blendMode===i)return t;p=f.knownActions[0],null===c&&(c=p._clip)}if(null===c)return null;let v=new dq(this,c,r,i);return this._bindAction(v,p),this._addInactiveAction(v,h,u),v}existingAction(t,r){let i=r||this._root,s=i.uuid,u="string"==typeof t?hG.findByName(i,t):t,c=u?u.uuid:t,h=this._actionsByClip[c];return void 0!==h&&h.actionByRoot[s]||null}stopAllAction(){let t=this._actions,r=this._nActiveActions;for(let i=r-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;let r=this._actions,i=this._nActiveActions,s=this.time+=t,u=Math.sign(t),c=this._accuIndex^=1;for(let h=0;h!==i;++h)r[h]._update(s,t,u,c);let h=this._bindings,f=this._nActiveBindings;for(let t=0;t!==f;++t)h[t].apply(c);return this}setTime(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){let r=this._actions,i=t.uuid,s=this._actionsByClip,u=s[i];if(void 0!==u){let t=u.knownActions;for(let i=0,s=t.length;i!==s;++i){let s=t[i];this._deactivateAction(s);let u=s._cacheIndex,c=r[r.length-1];s._cacheIndex=null,s._byClipCacheIndex=null,c._cacheIndex=u,r[u]=c,r.pop(),this._removeInactiveBindingsForAction(s)}delete s[i]}}uncacheRoot(t){let r=t.uuid,i=this._actionsByClip;for(let t in i){let s=i[t].actionByRoot[r];void 0!==s&&(this._deactivateAction(s),this._removeInactiveAction(s))}let s=this._bindingsByRootAndName[r];if(void 0!==s)for(let t in s){let r=s[t];r.restoreOriginalState(),this._removeInactiveBinding(r)}}uncacheAction(t,r){let i=this.existingAction(t,r);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class d1{constructor(t){this.value=t}clone(){return new d1(void 0===this.value.clone?this.value:this.value.clone())}}let d2=0;class d3 extends rE{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:d2++}),this.name="",this.usage=rg,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){let r=this.uniforms.indexOf(t);return -1!==r&&this.uniforms.splice(r,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(t){this.name=t.name,this.usage=t.usage;let r=t.uniforms;this.uniforms.length=0;for(let t=0,i=r.length;t<i;t++){let i=Array.isArray(r[t])?r[t]:[r[t]];for(let t=0;t<i.length;t++)this.uniforms.push(i[t].clone())}return this}clone(){return new this.constructor().copy(this)}}class d5 extends lZ{constructor(t,r,i=1){super(t,r),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){let r=super.clone(t);return r.meshPerAttribute=this.meshPerAttribute,r}toJSON(t){let r=super.toJSON(t);return r.isInstancedInterleavedBuffer=!0,r.meshPerAttribute=this.meshPerAttribute,r}}class d4{constructor(t,r,i,s,u){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=r,this.itemSize=i,this.elementSize=s,this.count=u,this.version=0}set needsUpdate(t){!0===t&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,r){return this.type=t,this.elementSize=r,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}let d9=new iz;class d8{constructor(t,r,i=0,s=1/0){this.ray=new iU(t,r),this.near=i,this.far=s,this.camera=null,this.layers=new iQ,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,r){this.ray.set(t,r)}setFromCamera(t,r){r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r.isOrthographicCamera&&(this.ray.origin.set(t.x,t.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r)}setFromXRController(t){return d9.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(d9),this}intersectObject(t,r=!0,i=[]){return d7(t,this,i,r),i.sort(d6),i}intersectObjects(t,r=!0,i=[]){for(let s=0,u=t.length;s<u;s++)d7(t[s],this,i,r);return i.sort(d6),i}}function d6(t,r){return t.distance-r.distance}function d7(t,r,i,s){let u=!0;if(t.layers.test(r.layers)&&!1===t.raycast(r,i)&&(u=!1),!0===u&&!0===s){let s=t.children;for(let t=0,u=s.length;t<u;t++)d7(s[t],r,i,!0)}}class fe{constructor(t=1,r=0,i=0){return this.radius=t,this.phi=r,this.theta=i,this}set(t,r,i){return this.radius=t,this.phi=r,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,r,i){return this.radius=Math.sqrt(t*t+r*r+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(rB(r/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ft{constructor(t=1,r=0,i=0){return this.radius=t,this.theta=r,this.y=i,this}set(t,r,i){return this.radius=t,this.theta=r,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,r,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=r,this}clone(){return new this.constructor().copy(this)}}class fn{constructor(t,r,i,s){fn.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==t&&this.set(t,r,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(t,r=0){for(let i=0;i<4;i++)this.elements[i]=t[i+r];return this}set(t,r,i,s){let u=this.elements;return u[0]=t,u[2]=r,u[1]=i,u[3]=s,this}}let fr=new rz;class fi{constructor(t=new rz(Infinity,Infinity),r=new rz(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=r}set(t,r){return this.min.copy(t),this.max.copy(r),this}setFromPoints(t){this.makeEmpty();for(let r=0,i=t.length;r<i;r++)this.expandByPoint(t[r]);return this}setFromCenterAndSize(t,r){let i=fr.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,r){return r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,r){return r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,fr).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}let fa=new iu,fo=new iu;class fs{constructor(t=new iu,r=new iu){this.start=t,this.end=r}set(t,r){return this.start.copy(t),this.end.copy(r),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,r){return this.delta(r).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,r){fa.subVectors(t,this.start),fo.subVectors(this.end,this.start);let i=fo.dot(fo),s=fo.dot(fa)/i;return r&&(s=rB(s,0,1)),s}closestPointToPoint(t,r,i){let s=this.closestPointToPointParameter(t,r);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}let fl=new iu;class fu extends ar{constructor(t,r){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=r,this.type="SpotLightHelper";let i=new aJ,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let t=0,r=1;t<32;t++,r++){let i=t/32*Math.PI*2,u=r/32*Math.PI*2;s.push(Math.cos(i),Math.sin(i),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new aH(s,3));let u=new uW({fog:!1,toneMapped:!1});this.cone=new u3(i,u),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);let t=this.light.distance?this.light.distance:1e3,r=t*Math.tan(this.light.angle);this.cone.scale.set(r,r,t),fl.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(fl),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}let fc=new iu,fh=new iz,fd=new iz;class ff extends u3{constructor(t){let r=function t(r){let i=[];!0===r.isBone&&i.push(r);for(let s=0;s<r.children.length;s++)i.push.apply(i,t(r.children[s]));return i}(t),i=new aJ,s=[],u=[],c=new aw(0,0,1),h=new aw(0,1,0);for(let t=0;t<r.length;t++){let i=r[t];i.parent&&i.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),u.push(c.r,c.g,c.b),u.push(h.r,h.g,h.b))}i.setAttribute("position",new aH(s,3)),i.setAttribute("color",new aH(u,3)),super(i,new uW({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=r,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){let r=this.bones,i=this.geometry,s=i.getAttribute("position");fd.copy(this.root.matrixWorld).invert();for(let t=0,i=0;t<r.length;t++){let u=r[t];u.parent&&u.parent.isBone&&(fh.multiplyMatrices(fd,u.matrixWorld),fc.setFromMatrixPosition(fh),s.setXYZ(i,fc.x,fc.y,fc.z),fh.multiplyMatrices(fd,u.parent.matrixWorld),fc.setFromMatrixPosition(fh),s.setXYZ(i+1,fc.x,fc.y,fc.z),i+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}class fp extends a6{constructor(t,r,i){let s=new ha(r,4,2);super(s,new aC({wireframe:!0,fog:!1,toneMapped:!1})),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}let fg=new iu,fm=new aw,fv=new aw;class fy extends ar{constructor(t,r,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";let s=new hn(r);s.rotateY(.5*Math.PI),this.material=new aC({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);let u=new Float32Array(3*s.getAttribute("position").count);s.setAttribute("color",new aL(u,3)),this.add(new a6(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{let r=t.geometry.getAttribute("color");fm.copy(this.light.color),fv.copy(this.light.groundColor);for(let t=0,i=r.count;t<i;t++){let s=t<i/2?fm:fv;r.setXYZ(t,s.r,s.g,s.b)}r.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(fg.setFromMatrixPosition(this.light.matrixWorld).negate())}}class fx extends u3{constructor(t=10,r=10,i=4473924,s=8947848){i=new aw(i),s=new aw(s);let u=r/2,c=t/r,h=t/2,f=[],p=[];for(let t=0,v=0,y=-h;t<=r;t++,y+=c){f.push(-h,0,y,h,0,y),f.push(y,0,-h,y,0,h);let r=t===u?i:s;r.toArray(p,v),v+=3,r.toArray(p,v),v+=3,r.toArray(p,v),v+=3,r.toArray(p,v),v+=3}let v=new aJ;v.setAttribute("position",new aH(f,3)),v.setAttribute("color",new aH(p,3)),super(v,new uW({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class f_ extends u3{constructor(t=10,r=16,i=8,s=64,u=4473924,c=8947848){u=new aw(u),c=new aw(c);let h=[],f=[];if(r>1)for(let i=0;i<r;i++){let s=i/r*(2*Math.PI),p=Math.sin(s)*t,v=Math.cos(s)*t;h.push(0,0,0),h.push(p,0,v);let y=1&i?u:c;f.push(y.r,y.g,y.b),f.push(y.r,y.g,y.b)}for(let r=0;r<i;r++){let p=1&r?u:c,v=t-t/i*r;for(let t=0;t<s;t++){let r=t/s*(2*Math.PI),i=Math.sin(r)*v,u=Math.cos(r)*v;h.push(i,0,u),f.push(p.r,p.g,p.b),i=Math.sin(r=(t+1)/s*(2*Math.PI))*v,u=Math.cos(r)*v,h.push(i,0,u),f.push(p.r,p.g,p.b)}}let p=new aJ;p.setAttribute("position",new aH(h,3)),p.setAttribute("color",new aH(f,3)),super(p,new uW({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}let fb=new iu,fw=new iu,fS=new iu;class fA extends ar{constructor(t,r,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",void 0===r&&(r=1);let s=new aJ;s.setAttribute("position",new aH([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));let u=new uW({fog:!1,toneMapped:!1});this.lightPlane=new u$(s,u),this.add(this.lightPlane),(s=new aJ).setAttribute("position",new aH([0,0,0,0,0,1],3)),this.targetLine=new u$(s,u),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),fb.setFromMatrixPosition(this.light.matrixWorld),fw.setFromMatrixPosition(this.light.target.matrixWorld),fS.subVectors(fw,fb),this.lightPlane.lookAt(fw),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(fw),this.targetLine.scale.z=fS.length()}}let fM=new iu,fC=new oo;class fT extends u3{constructor(t){let r=new aJ,i=new uW({color:0xffffff,vertexColors:!0,toneMapped:!1}),s=[],u=[],c={};function h(t,r){f(t),f(r)}function f(t){s.push(0,0,0),u.push(0,0,0),void 0===c[t]&&(c[t]=[]),c[t].push(s.length/3-1)}h("n1","n2"),h("n2","n4"),h("n4","n3"),h("n3","n1"),h("f1","f2"),h("f2","f4"),h("f4","f3"),h("f3","f1"),h("n1","f1"),h("n2","f2"),h("n3","f3"),h("n4","f4"),h("p","n1"),h("p","n2"),h("p","n3"),h("p","n4"),h("u1","u2"),h("u2","u3"),h("u3","u1"),h("c","t"),h("p","c"),h("cn1","cn2"),h("cn3","cn4"),h("cf1","cf2"),h("cf3","cf4"),r.setAttribute("position",new aH(s,3)),r.setAttribute("color",new aH(u,3)),super(r,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=c,this.update();let p=new aw(0xffaa00),v=new aw(0xff0000),y=new aw(43775),x=new aw(0xffffff),_=new aw(3355443);this.setColors(p,v,y,x,_)}setColors(t,r,i,s,u){let c=this.geometry.getAttribute("color");c.setXYZ(0,t.r,t.g,t.b),c.setXYZ(1,t.r,t.g,t.b),c.setXYZ(2,t.r,t.g,t.b),c.setXYZ(3,t.r,t.g,t.b),c.setXYZ(4,t.r,t.g,t.b),c.setXYZ(5,t.r,t.g,t.b),c.setXYZ(6,t.r,t.g,t.b),c.setXYZ(7,t.r,t.g,t.b),c.setXYZ(8,t.r,t.g,t.b),c.setXYZ(9,t.r,t.g,t.b),c.setXYZ(10,t.r,t.g,t.b),c.setXYZ(11,t.r,t.g,t.b),c.setXYZ(12,t.r,t.g,t.b),c.setXYZ(13,t.r,t.g,t.b),c.setXYZ(14,t.r,t.g,t.b),c.setXYZ(15,t.r,t.g,t.b),c.setXYZ(16,t.r,t.g,t.b),c.setXYZ(17,t.r,t.g,t.b),c.setXYZ(18,t.r,t.g,t.b),c.setXYZ(19,t.r,t.g,t.b),c.setXYZ(20,t.r,t.g,t.b),c.setXYZ(21,t.r,t.g,t.b),c.setXYZ(22,t.r,t.g,t.b),c.setXYZ(23,t.r,t.g,t.b),c.setXYZ(24,r.r,r.g,r.b),c.setXYZ(25,r.r,r.g,r.b),c.setXYZ(26,r.r,r.g,r.b),c.setXYZ(27,r.r,r.g,r.b),c.setXYZ(28,r.r,r.g,r.b),c.setXYZ(29,r.r,r.g,r.b),c.setXYZ(30,r.r,r.g,r.b),c.setXYZ(31,r.r,r.g,r.b),c.setXYZ(32,i.r,i.g,i.b),c.setXYZ(33,i.r,i.g,i.b),c.setXYZ(34,i.r,i.g,i.b),c.setXYZ(35,i.r,i.g,i.b),c.setXYZ(36,i.r,i.g,i.b),c.setXYZ(37,i.r,i.g,i.b),c.setXYZ(38,s.r,s.g,s.b),c.setXYZ(39,s.r,s.g,s.b),c.setXYZ(40,u.r,u.g,u.b),c.setXYZ(41,u.r,u.g,u.b),c.setXYZ(42,u.r,u.g,u.b),c.setXYZ(43,u.r,u.g,u.b),c.setXYZ(44,u.r,u.g,u.b),c.setXYZ(45,u.r,u.g,u.b),c.setXYZ(46,u.r,u.g,u.b),c.setXYZ(47,u.r,u.g,u.b),c.setXYZ(48,u.r,u.g,u.b),c.setXYZ(49,u.r,u.g,u.b),c.needsUpdate=!0}update(){let t=this.geometry,r=this.pointMap;fC.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),fE("c",r,t,fC,0,0,-1),fE("t",r,t,fC,0,0,1),fE("n1",r,t,fC,-1,-1,-1),fE("n2",r,t,fC,1,-1,-1),fE("n3",r,t,fC,-1,1,-1),fE("n4",r,t,fC,1,1,-1),fE("f1",r,t,fC,-1,-1,1),fE("f2",r,t,fC,1,-1,1),fE("f3",r,t,fC,-1,1,1),fE("f4",r,t,fC,1,1,1),fE("u1",r,t,fC,.7,1.1,-1),fE("u2",r,t,fC,-.7,1.1,-1),fE("u3",r,t,fC,0,2,-1),fE("cf1",r,t,fC,-1,0,1),fE("cf2",r,t,fC,1,0,1),fE("cf3",r,t,fC,0,-1,1),fE("cf4",r,t,fC,0,1,1),fE("cn1",r,t,fC,-1,0,-1),fE("cn2",r,t,fC,1,0,-1),fE("cn3",r,t,fC,0,-1,-1),fE("cn4",r,t,fC,0,1,-1),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function fE(t,r,i,s,u,c,h){fM.set(u,c,h).unproject(s);let f=r[t];if(void 0!==f){let t=i.getAttribute("position");for(let r=0,i=f.length;r<i;r++)t.setXYZ(f[r],fM.x,fM.y,fM.z)}}let fI=new id;class fD extends u3{constructor(t,r=0xffff00){let i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(24),u=new aJ;u.setIndex(new aL(i,1)),u.setAttribute("position",new aL(s,3)),super(u,new uW({color:r,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(void 0!==this.object&&fI.setFromObject(this.object),fI.isEmpty())return;let r=fI.min,i=fI.max,s=this.geometry.attributes.position,u=s.array;u[0]=i.x,u[1]=i.y,u[2]=i.z,u[3]=r.x,u[4]=i.y,u[5]=i.z,u[6]=r.x,u[7]=r.y,u[8]=i.z,u[9]=i.x,u[10]=r.y,u[11]=i.z,u[12]=i.x,u[13]=i.y,u[14]=r.z,u[15]=r.x,u[16]=i.y,u[17]=r.z,u[18]=r.x,u[19]=r.y,u[20]=r.z,u[21]=i.x,u[22]=r.y,u[23]=r.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,r){return super.copy(t,r),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class fR extends u3{constructor(t,r=0xffff00){let i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new aJ;s.setIndex(new aL(i,1)),s.setAttribute("position",new aH([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(s,new uW({color:r,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){let r=this.box;!r.isEmpty()&&(r.getCenter(this.position),r.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class fP extends u${constructor(t,r=1,i=0xffff00){let s=new aJ;s.setAttribute("position",new aH([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),s.computeBoundingSphere(),super(s,new uW({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=r;let u=new aJ;u.setAttribute("position",new aH([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),u.computeBoundingSphere(),this.add(new a6(u,new aC({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}let fL=new iu;class fB extends ar{constructor(t=new iu(0,0,1),r=new iu(0,0,0),i=1,s=0xffff00,u=.2*i,f=.2*u){super(),this.type="ArrowHelper",void 0===c&&((c=new aJ).setAttribute("position",new aH([0,0,0,0,1,0],3)),(h=new cL(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(r),this.line=new u$(c,new uW({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new a6(h,new aC({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,u,f)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{fL.set(t.z,0,-t.x).normalize();let r=Math.acos(t.y);this.quaternion.setFromAxisAngle(fL,r)}}setLength(t,r=.2*t,i=.2*r){this.line.scale.set(1,Math.max(1e-4,t-r),1),this.line.updateMatrix(),this.cone.scale.set(i,r,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class fk extends u3{constructor(t=1){let r=new aJ;r.setAttribute("position",new aH([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],3)),r.setAttribute("color",new aH([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(r,new uW({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(t,r,i){let s=new aw,u=this.geometry.attributes.color.array;return s.set(t),s.toArray(u,0),s.toArray(u,3),s.set(r),s.toArray(u,6),s.toArray(u,9),s.set(i),s.toArray(u,12),s.toArray(u,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class fO{constructor(){this.type="ShapePath",this.color=new aw,this.subPaths=[],this.currentPath=null}moveTo(t,r){return this.currentPath=new cI,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,r),this}lineTo(t,r){return this.currentPath.lineTo(t,r),this}quadraticCurveTo(t,r,i,s){return this.currentPath.quadraticCurveTo(t,r,i,s),this}bezierCurveTo(t,r,i,s,u,c){return this.currentPath.bezierCurveTo(t,r,i,s,u,c),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){let r,i,s,u,c;let h=c9.isClockWise,f=this.subPaths;if(0===f.length)return[];let p=[];if(1===f.length)return i=f[0],(s=new cH).curves=i.curves,p.push(s),p;let v=!h(f[0].getPoints());v=t?!v:v;let y=[],x=[],_=[],b=0;x[0]=void 0,_[b]=[];for(let s=0,c=f.length;s<c;s++)r=h(u=(i=f[s]).getPoints()),(r=t?!r:r)?(!v&&x[b]&&b++,x[b]={s:new cH,p:u},x[b].s.curves=i.curves,v&&b++,_[b]=[]):_[b].push({h:i,p:u[0]});if(!x[0])return function(t){let r=[];for(let i=0,s=t.length;i<s;i++){let s=t[i],u=new cH;u.curves=s.curves,r.push(u)}return r}(f);if(x.length>1){let t=!1,r=0;for(let t=0,r=x.length;t<r;t++)y[t]=[];for(let i=0,s=x.length;i<s;i++){let s=_[i];for(let u=0;u<s.length;u++){let c=s[u],h=!0;for(let s=0;s<x.length;s++)(function(t,r){let i=r.length,s=!1;for(let u=i-1,c=0;c<i;u=c++){let i=r[u],h=r[c],f=h.x-i.x,p=h.y-i.y;if(Math.abs(p)>Number.EPSILON){if(p<0&&(i=r[c],f=-f,h=r[u],p=-p),t.y<i.y||t.y>h.y)continue;if(t.y===i.y){if(t.x===i.x)return!0}else{let r=p*(t.x-i.x)-f*(t.y-i.y);if(0===r)return!0;if(r<0)continue;s=!s}}else{if(t.y!==i.y)continue;if(h.x<=t.x&&t.x<=i.x||i.x<=t.x&&t.x<=h.x)return!0}}return s})(c.p,x[s].p)&&(i!==s&&r++,h?(h=!1,y[s].push(c)):t=!0);h&&y[i].push(c)}}r>0&&!1===t&&(_=y)}for(let t=0,r=x.length;t<r;t++){s=x[t].s,p.push(s),c=_[t];for(let t=0,r=c.length;t<r;t++)s.holes.push(c[t].h)}return p}}class fN extends rE{constructor(t,r=null){super(),this.object=t,this.domElement=r,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class fF extends ir{constructor(t=1,r=1,i=1,s={}){super(t,r,{...s,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:eb}})),"undefined"!=typeof window&&(window.__THREE__||(window.__THREE__=eb));var fU=i("611");let fz="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?ex.useEffect:ex.useLayoutEffect;function fG(t){let r="function"==typeof t?function(t){let r;let i=new Set,s=(t,s)=>{let u="function"==typeof t?t(r):t;if(u!==r){let t=r;r=s?u:Object.assign({},r,u),i.forEach(i=>i(r,t))}},u=()=>r,c=(t,s=u,c=Object.is)=>{let h=s(r);function f(){let i=s(r);if(!c(h,i)){let r=h;t(h=i,r)}}return i.add(f),()=>i.delete(f)},h={setState:s,getState:u,subscribe:(t,r,s)=>r||s?c(t,r,s):(i.add(t),()=>i.delete(t)),destroy:()=>i.clear()};return r=t(s,u,h),h}(t):t,i=(t=r.getState,i=Object.is)=>{let s;let[,u]=(0,ex.useReducer)(t=>t+1,0),c=r.getState(),h=(0,ex.useRef)(c),f=(0,ex.useRef)(t),p=(0,ex.useRef)(i),v=(0,ex.useRef)(!1),y=(0,ex.useRef)();void 0===y.current&&(y.current=t(c));let x=!1;(h.current!==c||f.current!==t||p.current!==i||v.current)&&(s=t(c),x=!i(y.current,s)),fz(()=>{x&&(y.current=s),h.current=c,f.current=t,p.current=i,v.current=!1});let _=(0,ex.useRef)(c);fz(()=>{let t=()=>{try{let t=r.getState(),i=f.current(t);!p.current(y.current,i)&&(h.current=t,y.current=i,u())}catch(t){v.current=!0,u()}},i=r.subscribe(t);return r.getState()!==_.current&&t(),i},[]);let b=x?s:y.current;return(0,ex.useDebugValue)(b),b};return Object.assign(i,r),i[Symbol.iterator]=function(){let t=[i,r];return{next(){let r=t.length<=0;return{value:t.shift(),done:r}}}},i}let fH=t=>"object"==typeof t&&"function"==typeof t.then,fV=[];function fj(t,r,i=(t,r)=>t===r){if(t===r)return!0;if(!t||!r)return!1;let s=t.length;if(r.length!==s)return!1;for(let u=0;u<s;u++)if(!i(t[u],r[u]))return!1;return!0}function fW(t,r=null,i=!1,s={}){for(let u of(null===r&&(r=[t]),fV))if(fj(r,u.keys,u.equal)){if(i)return;if(Object.prototype.hasOwnProperty.call(u,"error"))throw u.error;if(Object.prototype.hasOwnProperty.call(u,"response"))return s.lifespan&&s.lifespan>0&&(u.timeout&&clearTimeout(u.timeout),u.timeout=setTimeout(u.remove,s.lifespan)),u.response;if(!i)throw u.promise}let u={keys:r,equal:s.equal,remove:()=>{let t=fV.indexOf(u);-1!==t&&fV.splice(t,1)},promise:(fH(t)?t:t(...r)).then(t=>{u.response=t,s.lifespan&&s.lifespan>0&&(u.timeout=setTimeout(u.remove,s.lifespan))}).catch(t=>u.error=t)};if(fV.push(u),!i)throw u.promise}let fX=(t,r,i)=>fW(t,r,!1,i),fY=(t,r,i)=>void fW(t,r,!0,i),fZ=t=>{if(void 0===t||0===t.length)fV.splice(0,fV.length);else{let r=fV.find(r=>fj(t,r.keys,r.equal));r&&r.remove()}};var fK=i("6191"),fJ=i.n(fK),fQ=i("5297");let fq={},f$=t=>void Object.assign(fq,t),f0=t=>"colorSpace"in t||"outputColorSpace"in t,f1=()=>{var t;return null!=(t=fq.ColorManagement)?t:null},f2=t=>t&&t.isOrthographicCamera,f3=t=>t&&t.hasOwnProperty("current"),f5="undefined"!=typeof window&&(null!=(ela=window.document)&&ela.createElement||(null==(elo=window.navigator)?void 0:elo.product)==="ReactNative")?ex.useLayoutEffect:ex.useEffect;function f4(t){let r=ex.useRef(t);return f5(()=>void(r.current=t),[t]),r}function f9({set:t}){return f5(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class f8 extends ex.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}}f8.getDerivedStateFromError=()=>({error:!0});let f6="__default",f7=new Map,pe=t=>t&&!!t.memoized&&!!t.changes;function pt(t){var r;let i="undefined"!=typeof window?null!=(r=window.devicePixelRatio)?r:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],i),t[1]):t}let pn=t=>{var r;return null==(r=t.__r3f)?void 0:r.root.getState()};function pr(t){let r=t.__r3f.root;for(;r.getState().previousRoot;)r=r.getState().previousRoot;return r}let pi={obj:t=>t===Object(t)&&!pi.arr(t)&&"function"!=typeof t,fun:t=>"function"==typeof t,str:t=>"string"==typeof t,num:t=>"number"==typeof t,boo:t=>"boolean"==typeof t,und:t=>void 0===t,arr:t=>Array.isArray(t),equ(t,r,{arrays:i="shallow",objects:s="reference",strict:u=!0}={}){let c;if(typeof t!=typeof r||!!t!=!!r)return!1;if(pi.str(t)||pi.num(t)||pi.boo(t))return t===r;let h=pi.obj(t);if(h&&"reference"===s)return t===r;let f=pi.arr(t);if(f&&"reference"===i)return t===r;if((f||h)&&t===r)return!0;for(c in t)if(!(c in r))return!1;if(h&&"shallow"===i&&"shallow"===s){for(c in u?r:t)if(!pi.equ(t[c],r[c],{strict:u,objects:"reference"}))return!1}else for(c in u?r:t)if(t[c]!==r[c])return!1;if(pi.und(c)){if(f&&0===t.length&&0===r.length||h&&0===Object.keys(t).length&&0===Object.keys(r).length)return!0;if(t!==r)return!1}return!0}};function pa(t){let r={nodes:{},materials:{}};return t&&t.traverse(t=>{t.name&&(r.nodes[t.name]=t),t.material&&!r.materials[t.material.name]&&(r.materials[t.material.name]=t.material)}),r}function po(t,r){return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...r},t}function ps(t,r){let i=t;if(!r.includes("-"))return{target:i,key:r};{let s=r.split("-"),u=s.pop();return{target:i=s.reduce((t,r)=>t[r],t),key:u}}}let pl=/-\d+$/;function pu(t,r,i){if(pi.str(i)){if(pl.test(i)){let{target:r,key:s}=ps(t,i.replace(pl,""));!Array.isArray(r[s])&&(r[s]=[])}let{target:s,key:u}=ps(t,i);r.__r3f.previousAttach=s[u],s[u]=r}else r.__r3f.previousAttach=i(t,r)}function pc(t,r,i){var s,u;if(pi.str(i)){let{target:s,key:u}=ps(t,i),c=r.__r3f.previousAttach;void 0===c?delete s[u]:s[u]=c}else null==(s=r.__r3f)||null==s.previousAttach||s.previousAttach(t,r);null==(u=r.__r3f)||delete u.previousAttach}function ph(t,{children:r,key:i,ref:s,...u},{children:c,key:h,ref:f,...p}={},v=!1){let y=t.__r3f,x=Object.entries(u),_=[];if(v){let t=Object.keys(p);for(let r=0;r<t.length;r++)!u.hasOwnProperty(t[r])&&x.unshift([t[r],f6+"remove"])}x.forEach(([r,i])=>{var s;if(null!=(s=t.__r3f)&&s.primitive&&"object"===r||pi.equ(i,p[r]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(r))return _.push([r,i,!0,[]]);let c=[];for(let t in r.includes("-")&&(c=r.split("-")),_.push([r,i,!1,c]),u){let i=u[t];t.startsWith(`${r}-`)&&_.push([t,i,!1,t.split("-")])}});let b={...u};return null!=y&&y.memoizedProps&&null!=y&&y.memoizedProps.args&&(b.args=y.memoizedProps.args),null!=y&&y.memoizedProps&&null!=y&&y.memoizedProps.attach&&(b.attach=y.memoizedProps.attach),{memoized:b,changes:_}}let pd="undefined"!=typeof process&&!1;function pf(t,r){var i;let s=t.__r3f,u=null==s?void 0:s.root,c=null==u?void 0:null==u.getState?void 0:u.getState(),{memoized:h,changes:f}=pe(r)?r:ph(t,r),p=null==s?void 0:s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=h);for(let r=0;r<f.length;r++){let[i,u,h,p]=f[r];if(f0(t)){let t="srgb",r="srgb-linear";"encoding"===i?(i="colorSpace",u=3001===u?t:r):"outputEncoding"===i&&(i="outputColorSpace",u=3001===u?t:r)}let v=t,y=v[i];if(p.length&&!((y=p.reduce((t,r)=>t[r],t))&&y.set)){let[r,...s]=p.reverse();v=s.reverse().reduce((t,r)=>t[r],t),i=r}if(u===f6+"remove"){if(v.constructor){let t=f7.get(v.constructor);!t&&(t=new v.constructor,f7.set(v.constructor,t)),u=t[i]}else u=0}if(h&&s)u?s.handlers[i]=u:delete s.handlers[i],s.eventCount=Object.keys(s.handlers).length;else if(y&&y.set&&(y.copy||y instanceof iQ)){if(Array.isArray(u))y.fromArray?y.fromArray(u):y.set(...u);else if(y.copy&&u&&u.constructor&&(pd?y.constructor.name===u.constructor.name:y.constructor===u.constructor))y.copy(u);else if(void 0!==u){let t=y instanceof aw;!t&&y.setScalar?y.setScalar(u):y instanceof iQ&&u instanceof iQ?y.mask=u.mask:y.set(u),!f1()&&c&&!c.linear&&t&&y.convertSRGBToLinear()}}else if(v[i]=u,v[i]instanceof r7&&v[i].format===tQ&&v[i].type===tN&&c){let t=v[i];f0(t)&&f0(c.gl)?t.colorSpace=c.gl.outputColorSpace:t.encoding=c.gl.outputEncoding}pp(t)}if(s&&s.parent&&t.raycast&&p!==s.eventCount){let r=pr(t).getState().internal,i=r.interaction.indexOf(t);i>-1&&r.interaction.splice(i,1),s.eventCount&&r.interaction.push(t)}return!(1===f.length&&"onUpdate"===f[0][0])&&f.length&&null!=(i=t.__r3f)&&i.parent&&pg(t),t}function pp(t){var r,i;let s=null==(r=t.__r3f)?void 0:null==(i=r.root)?void 0:null==i.getState?void 0:i.getState();s&&0===s.internal.frames&&s.invalidate()}function pg(t){null==t.onUpdate||t.onUpdate(t)}function pm(t,r){!t.manual&&(f2(t)?(t.left=-(r.width/2),t.right=r.width/2,t.top=r.height/2,t.bottom=-(r.height/2)):t.aspect=r.width/r.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function pv(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function py(t,r,i,s){let u=i.get(r);u&&(i.delete(r),0===i.size&&(t.delete(s),u.target.releasePointerCapture(s)))}let px=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],p_=t=>!!(null!=t&&t.render),pb=ex.createContext(null),pw=(t,r)=>{let i=fG((i,s)=>{let u,c=new iu,h=new iu,f=new iu;function p(t=s().camera,r=h,i=s().size){let{width:u,height:v,top:y,left:x}=i,_=u/v;r instanceof iu?f.copy(r):f.set(...r);let b=t.getWorldPosition(c).distanceTo(f);if(f2(t))return{width:u/t.zoom,height:v/t.zoom,top:y,left:x,factor:1,distance:b,aspect:_};{let r=2*Math.tan(t.fov*Math.PI/180/2)*b,i=u/v*r;return{width:i,height:r,top:y,left:x,factor:u/i,distance:b,aspect:_}}}let v=t=>i(r=>({performance:{...r.performance,current:t}})),y=new rz;return{set:i,get:s,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(r=1)=>t(s(),r),advance:(t,i)=>r(t,i,s()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new dC,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let t=s();u&&clearTimeout(u),t.performance.current!==t.performance.min&&v(t.performance.min),u=setTimeout(()=>v(s().performance.max),t.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:t=>i(r=>({...r,events:{...r.events,...t}})),setSize:(t,r,u,c,f)=>{let v=s().camera,y={width:t,height:r,top:c||0,left:f||0,updateStyle:u};i(t=>({size:y,viewport:{...t.viewport,...p(v,h,y)}}))},setDpr:t=>i(r=>{let i=pt(t);return{viewport:{...r.viewport,dpr:i,initialDpr:r.viewport.initialDpr||i}}}),setFrameloop:(t="always")=>{let r=s().clock;r.stop(),r.elapsedTime=0,"never"!==t&&(r.start(),r.elapsedTime=0),i(()=>({frameloop:t}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ex.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(t,r,i)=>{let u=s().internal;return u.priority=u.priority+(r>0?1:0),u.subscribers.push({ref:t,priority:r,store:i}),u.subscribers=u.subscribers.sort((t,r)=>t.priority-r.priority),()=>{let i=s().internal;null!=i&&i.subscribers&&(i.priority=i.priority-(r>0?1:0),i.subscribers=i.subscribers.filter(r=>r.ref!==t))}}}}}),s=i.getState(),u=s.size,c=s.viewport.dpr,h=s.camera;return i.subscribe(()=>{let{camera:t,size:r,viewport:s,gl:f,set:p}=i.getState();if(r.width!==u.width||r.height!==u.height||s.dpr!==c){var v;u=r,c=s.dpr,pm(t,r),f.setPixelRatio(s.dpr);let i=null!=(v=r.updateStyle)?v:"undefined"!=typeof HTMLCanvasElement&&f.domElement instanceof HTMLCanvasElement;f.setSize(r.width,r.height,i)}t!==h&&(h=t,p(r=>({viewport:{...r.viewport,...r.viewport.getCurrentViewport(t)}})))}),i.subscribe(r=>t(r)),i};function pS(t,r){let i={callback:t};return r.add(i),()=>void r.delete(i)}let pA=new Set,pM=new Set,pC=new Set,pT=t=>pS(t,pA),pE=t=>pS(t,pM),pI=t=>pS(t,pC);function pD(t,r){if(t.size)for(let{callback:i}of t.values())i(r)}function pR(t,r){switch(t){case"before":return pD(pA,r);case"after":return pD(pM,r);case"tail":return pD(pC,r)}}function pP(t,r,i){let s=r.clock.getDelta();for("never"===r.frameloop&&"number"==typeof t&&(s=t-r.clock.elapsedTime,r.clock.oldTime=r.clock.elapsedTime,r.clock.elapsedTime=t),p=r.internal.subscribers,f=0;f<p.length;f++)(v=p[f]).ref.current(v.store.getState(),s,i);return!r.internal.priority&&r.gl.render&&r.gl.render(r.scene,r.camera),r.internal.frames=Math.max(0,r.internal.frames-1),"always"===r.frameloop?1:r.internal.frames}function pL(){let t=ex.useContext(pb);if(!t)throw Error("R3F: Hooks can only be used within the Canvas component!");return t}function pB(t=t=>t,r){return pL()(t,r)}function pk(t,r=0){let i=pL(),s=i.getState().internal.subscribe,u=f4(t);return f5(()=>s(u,r,i),[r,s,i]),null}let pO=new WeakMap;function pN(t,r){return function(i,...s){let u=pO.get(i);return!u&&(u=new i,pO.set(i,u)),t&&t(u),Promise.all(s.map(t=>new Promise((i,s)=>u.load(t,t=>{t.scene&&Object.assign(t,pa(t.scene)),i(t)},r,r=>s(Error(`Could not load ${t}: ${null==r?void 0:r.message}`))))))}}function pF(t,r,i,s){let u=Array.isArray(r)?r:[r],c=fX(pN(i,s),[t,...u],{equal:pi.equ});return Array.isArray(r)?c:c[0]}pF.preload=function(t,r,i){let s=Array.isArray(r)?r:[r];return fY(pN(i),[t,...s])},pF.clear=function(t,r){return fZ([t,...Array.isArray(r)?r:[r]])};let pU=new Map,{invalidate:pz,advance:pG}=function(t){let r,i,s,u=!1,c=!1;function h(f){for(let v of(i=requestAnimationFrame(h),u=!0,r=0,pR("before",f),c=!0,t.values())){var p;(s=v.store.getState()).internal.active&&("always"===s.frameloop||s.internal.frames>0)&&!(null!=(p=s.gl.xr)&&p.isPresenting)&&(r+=pP(f,s))}if(c=!1,pR("after",f),0===r)return pR("tail",f),u=!1,cancelAnimationFrame(i)}return{loop:h,invalidate:function r(i,s=1){var f;if(!i)return t.forEach(t=>r(t.store.getState(),s));(null==(f=i.gl.xr)||!f.isPresenting)&&i.internal.active&&"never"!==i.frameloop&&(s>1?i.internal.frames=Math.min(60,i.internal.frames+s):c?i.internal.frames=2:i.internal.frames=1,!u&&(u=!0,requestAnimationFrame(h)))},advance:function(r,i=!0,s,u){if(i&&pR("before",r),s)pP(r,s,u);else for(let i of t.values())pP(r,i.store.getState());i&&pR("after",r)}}}(pU),{reconciler:pH,applyProps:pV}=function(t,r){function i(t,{args:r=[],attach:i,...s},u){let c,h=`${t[0].toUpperCase()}${t.slice(1)}`;if("primitive"===t){if(void 0===s.object)throw Error("R3F: Primitives without 'object' are invalid!");c=po(s.object,{type:t,root:u,attach:i,primitive:!0})}else{let s=fq[h];if(!s)throw Error(`R3F: ${h} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(r))throw Error("R3F: The args prop must be an array!");c=po(new s(...r),{type:t,root:u,attach:i,memoizedProps:{args:r}})}return void 0===c.__r3f.attach&&(c instanceof aJ?c.__r3f.attach="geometry":c instanceof aM&&(c.__r3f.attach="material")),"inject"!==h&&pf(c,s),c}function s(t,r){let i=!1;if(r){var s,u;null!=(s=r.__r3f)&&s.attach?pu(t,r,r.__r3f.attach):r.isObject3D&&t.isObject3D&&(t.add(r),i=!0),!i&&(null==(u=t.__r3f)||u.objects.push(r)),!r.__r3f&&po(r,{}),r.__r3f.parent=t,pg(r),pp(r)}}function u(t,r,i){let s=!1;if(r){var u,c;if(null!=(u=r.__r3f)&&u.attach)pu(t,r,r.__r3f.attach);else if(r.isObject3D&&t.isObject3D){r.parent=t,r.dispatchEvent({type:"added"}),t.dispatchEvent({type:"childadded",child:r});let u=t.children.filter(t=>t!==r),c=u.indexOf(i);t.children=[...u.slice(0,c),r,...u.slice(c)],s=!0}!s&&(null==(c=t.__r3f)||c.objects.push(r)),!r.__r3f&&po(r,{}),r.__r3f.parent=t,pg(r),pp(r)}}function c(t,r,i=!1){t&&[...t].forEach(t=>h(r,t,i))}function h(t,r,i){if(r){var s,u,h,f,p;r.__r3f&&(r.__r3f.parent=null),null!=(s=t.__r3f)&&s.objects&&(t.__r3f.objects=t.__r3f.objects.filter(t=>t!==r)),null!=(u=r.__r3f)&&u.attach?pc(t,r,r.__r3f.attach):r.isObject3D&&t.isObject3D&&(t.remove(r),null!=(f=r.__r3f)&&f.root&&function(t,r){let{internal:i}=t.getState();i.interaction=i.interaction.filter(t=>t!==r),i.initialHits=i.initialHits.filter(t=>t!==r),i.hovered.forEach((t,s)=>{(t.eventObject===r||t.object===r)&&i.hovered.delete(s)}),i.capturedMap.forEach((t,s)=>{py(i.capturedMap,r,t,s)})}(pr(r),r));let v=null==(h=r.__r3f)?void 0:h.primitive,y=!v&&(void 0===i?null!==r.dispose:i);if(!v&&(c(null==(p=r.__r3f)?void 0:p.objects,r,y),c(r.children,r,y)),delete r.__r3f,y&&r.dispose&&"Scene"!==r.type){let t=()=>{try{r.dispose()}catch(t){}};"undefined"==typeof IS_REACT_ACT_ENVIRONMENT?(0,fQ.unstable_scheduleCallback)(fQ.unstable_IdlePriority,t):t()}pp(t)}}let f=()=>{};return{reconciler:fJ()({createInstance:i,removeChild:h,appendChild:s,appendInitialChild:s,insertBefore:u,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(t,r)=>{if(!r)return;let i=t.getState().scene;i.__r3f&&(i.__r3f.root=t,s(i,r))},removeChildFromContainer:(t,r)=>{r&&h(t.getState().scene,r)},insertInContainerBefore:(t,r,i)=>{if(!r||!i)return;let s=t.getState().scene;s.__r3f&&u(s,r,i)},getRootHostContext:()=>null,getChildHostContext:t=>t,finalizeInitialChildren(t){var r;return!!(null!=(r=null==t?void 0:t.__r3f)?r:{}).handlers},prepareUpdate(t,r,i,s){var u;if((null!=(u=null==t?void 0:t.__r3f)?u:{}).primitive&&s.object&&s.object!==t)return[!0];{let{args:r=[],children:u,...c}=s,{args:h=[],children:f,...p}=i;if(!Array.isArray(r))throw Error("R3F: the args prop must be an array!");if(r.some((t,r)=>t!==h[r]))return[!0];let v=ph(t,c,p,!0);return v.changes.length?[!1,v]:null}},commitUpdate(t,[r,u],c,f,p,v){r?!function(t,r,u,c){var f;let p=null==(f=t.__r3f)?void 0:f.parent;if(!p)return;let v=i(r,u,t.__r3f.root);if(t.children){for(let r of t.children)r.__r3f&&s(v,r);t.children=t.children.filter(t=>!t.__r3f)}t.__r3f.objects.forEach(t=>s(v,t)),t.__r3f.objects=[],!t.__r3f.autoRemovedBeforeAppend&&h(p,t),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),s(p,v),v.raycast&&v.__r3f.eventCount&&pr(v).getState().internal.interaction.push(v),[c,c.alternate].forEach(t=>{null!==t&&(t.stateNode=v,t.ref&&("function"==typeof t.ref?t.ref(v):t.ref.current=v))})}(t,c,p,v):pf(t,u)},commitMount(t,r,i,s){var u;let c=null!=(u=t.__r3f)?u:{};t.raycast&&c.handlers&&c.eventCount&&pr(t).getState().internal.interaction.push(t)},getPublicInstance:t=>t,prepareForCommit:()=>null,preparePortalMount:t=>po(t.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(t){var r;let{attach:i,parent:s}=null!=(r=t.__r3f)?r:{};i&&s&&pc(s,t,i),t.isObject3D&&(t.visible=!1),pp(t)},unhideInstance(t,r){var i;let{attach:s,parent:u}=null!=(i=t.__r3f)?i:{};s&&u&&pu(u,t,s),(t.isObject3D&&null==r.visible||r.visible)&&(t.visible=!0),pp(t)},createTextInstance:f,hideTextInstance:f,unhideTextInstance:f,getCurrentEventPriority:()=>r?r():fU.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&pi.fun(performance.now)?performance.now:pi.fun(Date.now)?Date.now:()=>0,scheduleTimeout:pi.fun(setTimeout)?setTimeout:void 0,cancelTimeout:pi.fun(clearTimeout)?clearTimeout:void 0}),applyProps:pf}}(0,function(){var t;let r="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!r)return fU.DefaultEventPriority;switch(null==(t=r.event)?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return fU.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return fU.ContinuousEventPriority;default:return fU.DefaultEventPriority}}),pj={objects:"shallow",strict:!1},pW=(t,r)=>{let i="function"==typeof t?t(r):t;return p_(i)?i:new lj({powerPreference:"high-performance",canvas:r,antialias:!0,alpha:!0,...t})};function pX(t){let r,i;let s=pU.get(t),u=null==s?void 0:s.fiber,c=null==s?void 0:s.store;let h="function"==typeof reportError?reportError:console.error,f=c||pw(pz,pG),p=u||pH.createContainer(f,fU.ConcurrentRoot,null,!1,null,"",h,null);!s&&pU.set(t,{fiber:p,store:f});let v=!1;return{configure(s={}){var u,c;let{gl:h,size:p,scene:y,events:x,onCreated:_,shadows:b=!1,linear:w=!1,flat:S=!1,legacy:A=!1,orthographic:M=!1,frameloop:C="always",dpr:T=[1,2],performance:I,raycaster:D,camera:R,onPointerMissed:P}=s,L=f.getState(),B=L.gl;!L.gl&&L.set({gl:B=pW(h,t)});let k=L.raycaster;!k&&L.set({raycaster:k=new d8});let{params:O,...N}=D||{};if(!pi.equ(N,k,pj)&&pV(k,{...N}),!pi.equ(O,k.params,pj)&&pV(k,{params:{...k.params,...O}}),!L.camera||L.camera===i&&!pi.equ(i,R,pj)){i=R;let t=R instanceof oo,r=t?R:M?new oO(0,0,0,0,.1,1e3):new oc(75,0,.1,1e3);!t&&(r.position.z=5,R&&(pV(r,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(r.manual=!0,r.updateProjectionMatrix())),!L.camera&&!(null!=R&&R.rotation)&&r.lookAt(0,0,0)),L.set({camera:r}),k.camera=r}if(!L.scene){let t;y instanceof lY?t=y:(t=new lY,y&&pV(t,y)),L.set({scene:po(t)})}if(!L.xr){let t=(t,r)=>{let i=f.getState();"never"!==i.frameloop&&pG(t,!0,i,r)},r=()=>{let r=f.getState();r.gl.xr.enabled=r.gl.xr.isPresenting,r.gl.xr.setAnimationLoop(r.gl.xr.isPresenting?t:null),!r.gl.xr.isPresenting&&pz(r)},i={connect(){let t=f.getState().gl;t.xr.addEventListener("sessionstart",r),t.xr.addEventListener("sessionend",r)},disconnect(){let t=f.getState().gl;t.xr.removeEventListener("sessionstart",r),t.xr.removeEventListener("sessionend",r)}};"function"==typeof(null==(u=B.xr)?void 0:u.addEventListener)&&i.connect(),L.set({xr:i})}if(B.shadowMap){let t=B.shadowMap.enabled,r=B.shadowMap.type;B.shadowMap.enabled=!!b,pi.boo(b)?B.shadowMap.type=eD:pi.str(b)?B.shadowMap.type=null!=(c=({basic:eE,percentage:eI,soft:eD,variance:eR})[b])?c:eD:pi.obj(b)&&Object.assign(B.shadowMap,b),(t!==B.shadowMap.enabled||r!==B.shadowMap.type)&&(B.shadowMap.needsUpdate=!0)}let F=f1();F&&("enabled"in F?F.enabled=!A:"legacyMode"in F&&(F.legacyMode=A)),!v&&pV(B,{outputEncoding:w?3e3:3001,toneMapping:S?tl:td}),L.legacy!==A&&L.set(()=>({legacy:A})),L.linear!==w&&L.set(()=>({linear:w})),L.flat!==S&&L.set(()=>({flat:S})),h&&!pi.fun(h)&&!p_(h)&&!pi.equ(h,B,pj)&&pV(B,h),x&&!L.events.handlers&&L.set({events:x(f)});let U=function(t,r){let i="undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement;if(r){let{width:t,height:s,top:u,left:c,updateStyle:h=i}=r;return{width:t,height:s,top:u,left:c,updateStyle:h}}if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&t.parentElement){let{width:r,height:s,top:u,left:c}=t.parentElement.getBoundingClientRect();return{width:r,height:s,top:u,left:c,updateStyle:i}}if("undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:i};return{width:0,height:0,top:0,left:0}}(t,p);return!pi.equ(U,L.size,pj)&&L.setSize(U.width,U.height,U.updateStyle,U.top,U.left),T&&L.viewport.dpr!==pt(T)&&L.setDpr(T),L.frameloop!==C&&L.setFrameloop(C),!L.onPointerMissed&&L.set({onPointerMissed:P}),I&&!pi.equ(I,L.performance,pj)&&L.set(t=>({performance:{...t.performance,...I}})),r=_,v=!0,this},render(i){return!v&&this.configure(),pH.updateContainer((0,ev.jsx)(pY,{store:f,children:i,onCreated:r,rootElement:t}),p,null,()=>void 0),f},unmount(){pZ(t)}}}function pY({store:t,children:r,onCreated:i,rootElement:s}){return f5(()=>{let r=t.getState();r.set(t=>({internal:{...t.internal,active:!0}})),i&&i(r),!t.getState().events.connected&&(null==r.events.connect||r.events.connect(s))},[]),(0,ev.jsx)(pb.Provider,{value:t,children:r})}function pZ(t,r){let i=pU.get(t),s=null==i?void 0:i.fiber;if(s){let u=null==i?void 0:i.store.getState();u&&(u.internal.active=!1),pH.updateContainer(null,s,null,()=>{u&&setTimeout(()=>{try{var i,s,c,h;null==u.events.disconnect||u.events.disconnect(),null==(i=u.gl)||null==(s=i.renderLists)||null==s.dispose||s.dispose(),null==(c=u.gl)||null==c.forceContextLoss||c.forceContextLoss(),null!=(h=u.gl)&&h.xr&&u.xr.disconnect(),!function(t){for(let r in t.dispose&&"Scene"!==t.type&&t.dispose(),t)null==r.dispose||r.dispose(),delete t[r]}(u),pU.delete(t),r&&r(t)}catch(t){}},500)})}}function pK(t,r,i){return(0,ev.jsx)(pJ,{children:t,container:r,state:i},r.uuid)}function pJ({state:t={},children:r,container:i}){let{events:s,size:u,...c}=t,h=pL(),[f]=ex.useState(()=>new d8),[p]=ex.useState(()=>new rz),v=ex.useCallback((t,r)=>{let v,y={...t};Object.keys(t).forEach(i=>{(px.includes(i)||t[i]!==r[i]&&r[i])&&delete y[i]});if(r&&u){let i=r.camera;v=t.viewport.getCurrentViewport(i,new iu,u),i!==t.camera&&pm(i,u)}return{...y,scene:i,raycaster:f,pointer:p,mouse:p,previousRoot:h,events:{...t.events,...null==r?void 0:r.events,...s},size:{...t.size,...u},viewport:{...t.viewport,...v},...c}},[t]),[y]=ex.useState(()=>{let t=h.getState();return fG((r,v)=>({...t,scene:i,raycaster:f,pointer:p,mouse:p,previousRoot:h,events:{...t.events,...s},size:{...t.size,...u},...c,set:r,get:v,setEvents:t=>r(r=>({...r,events:{...r.events,...t}}))}))});return ex.useEffect(()=>{let t=h.subscribe(t=>y.setState(r=>v(t,r)));return()=>{t()}},[v]),ex.useEffect(()=>{y.setState(t=>v(h.getState(),t))},[v]),ex.useEffect(()=>()=>{y.destroy()},[]),(0,ev.jsx)(ev.Fragment,{children:pH.createPortal((0,ev.jsx)(pb.Provider,{value:y,children:r}),y,null)})}pH.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ex.version}),ex.unstable_act;let pQ={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function pq(t){let{handlePointer:r}=function(t){function r(t){return t.filter(t=>["Move","Over","Enter","Out","Leave"].some(r=>{var i;return null==(i=t.__r3f)?void 0:i.handlers["onPointer"+r]}))}function i(r){let{internal:i}=t.getState();for(let t of i.hovered.values())if(!r.length||!r.find(r=>r.object===t.object&&r.index===t.index&&r.instanceId===t.instanceId)){let s=t.eventObject.__r3f,u=null==s?void 0:s.handlers;if(i.hovered.delete(pv(t)),null!=s&&s.eventCount){let i={...t,intersections:r};null==u.onPointerOut||u.onPointerOut(i),null==u.onPointerLeave||u.onPointerLeave(i)}}}function s(t,r){for(let i=0;i<r.length;i++){let s=r[i].__r3f;null==s||null==s.handlers.onPointerMissed||s.handlers.onPointerMissed(t)}}return{handlePointer:function(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>i([]);case"onLostPointerCapture":return r=>{let{internal:s}=t.getState();"pointerId"in r&&s.capturedMap.has(r.pointerId)&&requestAnimationFrame(()=>{s.capturedMap.has(r.pointerId)&&(s.capturedMap.delete(r.pointerId),i([]))})}}return function(c){let{onPointerMissed:h,internal:f}=t.getState();f.lastEvent.current=c;let p="onPointerMove"===u,v="onClick"===u||"onContextMenu"===u||"onDoubleClick"===u,y=function(r,i){let s=t.getState(),u=new Set,c=[],h=i?i(s.internal.interaction):s.internal.interaction;for(let t=0;t<h.length;t++){let r=pn(h[t]);r&&(r.raycaster.camera=void 0)}!s.previousRoot&&(null==s.events.compute||s.events.compute(r,s));let f=h.flatMap(function(t){let i=pn(t);if(!i||!i.events.enabled||null===i.raycaster.camera)return[];if(void 0===i.raycaster.camera){var s;null==i.events.compute||i.events.compute(r,i,null==(s=i.previousRoot)?void 0:s.getState()),void 0===i.raycaster.camera&&(i.raycaster.camera=null)}return i.raycaster.camera?i.raycaster.intersectObject(t,!0):[]}).sort((t,r)=>{let i=pn(t.object),s=pn(r.object);return i&&s&&s.events.priority-i.events.priority||t.distance-r.distance}).filter(t=>{let r=pv(t);return!u.has(r)&&(u.add(r),!0)});for(let t of(s.events.filter&&(f=s.events.filter(f,s)),f)){let r=t.object;for(;r;){var p;null!=(p=r.__r3f)&&p.eventCount&&c.push({...t,eventObject:r}),r=r.parent}}if("pointerId"in r&&s.internal.capturedMap.has(r.pointerId))for(let t of s.internal.capturedMap.get(r.pointerId).values())!u.has(pv(t.intersection))&&c.push(t.intersection);return c}(c,p?r:void 0),x=v?function(r){let{internal:i}=t.getState(),s=r.offsetX-i.initialClick[0],u=r.offsetY-i.initialClick[1];return Math.round(Math.sqrt(s*s+u*u))}(c):0;"onPointerDown"===u&&(f.initialClick=[c.offsetX,c.offsetY],f.initialHits=y.map(t=>t.eventObject)),v&&!y.length&&x<=2&&(s(c,f.interaction),h&&h(c)),p&&i(y);!function(r,s,u,c){let h=t.getState();if(r.length){let t={stopped:!1};for(let f of r){let{raycaster:p,pointer:v,camera:y,internal:x}=pn(f.object)||h,_=new iu(v.x,v.y,0).unproject(y),b=t=>{var r,i;return null!=(r=null==(i=x.capturedMap.get(t))?void 0:i.has(f.eventObject))&&r},w=t=>{let r={intersection:f,target:s.target};x.capturedMap.has(t)?x.capturedMap.get(t).set(f.eventObject,r):x.capturedMap.set(t,new Map([[f.eventObject,r]])),s.target.setPointerCapture(t)},S=t=>{let r=x.capturedMap.get(t);r&&py(x.capturedMap,f.eventObject,r,t)},A={};for(let t in s){let r=s[t];"function"!=typeof r&&(A[t]=r)}let M={...f,...A,pointer:v,intersections:r,stopped:t.stopped,delta:u,unprojectedPoint:_,ray:p.ray,camera:y,stopPropagation(){let u="pointerId"in s&&x.capturedMap.get(s.pointerId);(!u||u.has(f.eventObject))&&(M.stopped=t.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(t=>t.eventObject===f.eventObject)&&i([...r.slice(0,r.indexOf(f)),f]))},target:{hasPointerCapture:b,setPointerCapture:w,releasePointerCapture:S},currentTarget:{hasPointerCapture:b,setPointerCapture:w,releasePointerCapture:S},nativeEvent:s};if(c(M),!0===t.stopped)break}};}(y,c,x,function(t){let r=t.eventObject,i=r.__r3f,h=null==i?void 0:i.handlers;if(null!=i&&i.eventCount){if(p){if(h.onPointerOver||h.onPointerEnter||h.onPointerOut||h.onPointerLeave){let r=pv(t),i=f.hovered.get(r);i?i.stopped&&t.stopPropagation():(f.hovered.set(r,t),null==h.onPointerOver||h.onPointerOver(t),null==h.onPointerEnter||h.onPointerEnter(t))}null==h.onPointerMove||h.onPointerMove(t)}else{let i=h[u];i?(!v||f.initialHits.includes(r))&&(s(c,f.interaction.filter(t=>!f.initialHits.includes(t))),i(t)):v&&f.initialHits.includes(r)&&s(c,f.interaction.filter(t=>!f.initialHits.includes(t)))}}})}}}}(t);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(2*(t.offsetY/r.size.height))+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(pQ).reduce((t,i)=>({...t,[i]:r(i)}),{}),update:()=>{var r;let{events:i,internal:s}=t.getState();null!=(r=s.lastEvent)&&r.current&&i.handlers&&i.handlers.onPointerMove(s.lastEvent.current)},connect:r=>{var i;let{set:s,events:u}=t.getState();null==u.disconnect||u.disconnect(),s(t=>({events:{...t.events,connected:r}})),Object.entries(null!=(i=u.handlers)?i:[]).forEach(([t,i])=>{let[s,u]=pQ[t];r.addEventListener(s,i,{passive:u})})},disconnect:()=>{let{set:r,events:i}=t.getState();if(i.connected){var s;Object.entries(null!=(s=i.handlers)?s:[]).forEach(([t,r])=>{if(i&&i.connected instanceof HTMLElement){let[s]=pQ[t];i.connected.removeEventListener(s,r)}}),r(t=>({events:{...t.events,connected:void 0}}))}}}}var p$=i("1110"),p0=i.n(p$),p1=Object.defineProperty,p2=Object.defineProperties,p3=Object.getOwnPropertyDescriptors,p5=Object.getOwnPropertySymbols,p4=Object.prototype.hasOwnProperty,p9=Object.prototype.propertyIsEnumerable,p8=(t,r,i)=>r in t?p1(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,p6=(t,r)=>{for(var i in r||(r={}))p4.call(r,i)&&p8(t,i,r[i]);if(p5)for(var i of p5(r))p9.call(r,i)&&p8(t,i,r[i]);return t},p7=(t,r)=>p2(t,p3(r));let ge="undefined"!=typeof window&&((null==(els=window.document)?void 0:els.createElement)||(null==(ell=window.navigator)?void 0:ell.product)==="ReactNative")?ex.useLayoutEffect:ex.useEffect;function gt(t,r,i){if(!t)return;if(!0===i(t))return t;let s=r?t.return:t.child;for(;s;){let t=gt(s,r,i);if(t)return t;s=r?null:s.sibling}}function gn(t){try{return Object.defineProperties(t,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(r){return t}}let gr=console.error;console.error=function(){let t=[...arguments].join("");if((null==t?void 0:t.startsWith("Warning:"))&&t.includes("useContext")){console.error=gr;return}return gr.apply(this,arguments)};let gi=gn(ex.createContext(null));class ga extends ex.Component{render(){return ex.createElement(gi.Provider,{value:this._reactInternals},this.props.children)}}function go(){let t=ex.useContext(gi);if(null===t)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let r=ex.useId();return ex.useMemo(()=>{for(let i of[t,null==t?void 0:t.alternate]){if(!i)continue;let t=gt(i,!1,t=>{let i=t.memoizedState;for(;i;){if(i.memoizedState===r)return!0;i=i.next}});if(t)return t}},[t,r])}let gs=["x","y","top","bottom","left","right","width","height"],gl=(t,r)=>gs.every(i=>t[i]===r[i]),gu=ex.forwardRef(function({children:t,fallback:r,resize:i,style:s,gl:u,events:c=pq,eventSource:h,eventPrefix:f,shadows:p,linear:v,flat:y,legacy:x,orthographic:_,frameloop:b,dpr:w,performance:S,raycaster:A,camera:M,scene:C,onPointerMissed:T,onCreated:I,...D},R){ex.useMemo(()=>f$(er),[]);let P=function(){let t=function(){let t=go(),[r]=ex.useState(()=>new Map);r.clear();let i=t;for(;i;){if(i.type&&"object"==typeof i.type){let t=void 0===i.type._context&&i.type.Provider===i.type?i.type:i.type._context;t&&t!==gi&&!r.has(t)&&r.set(t,ex.useContext(gn(t)))}i=i.return}return r}();return ex.useMemo(()=>Array.from(t.keys()).reduce((r,i)=>s=>ex.createElement(r,null,ex.createElement(i.Provider,p7(p6({},s),{value:t.get(i)}))),t=>ex.createElement(ga,p6({},t))),[t])}(),[L,B]=function({debounce:t,scroll:r,polyfill:i,offsetSize:s}={debounce:0,scroll:!1,offsetSize:!1}){let u=i||"undefined"!=typeof window&&window.ResizeObserver,[c,h]=(0,ex.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!u)return c.width=1280,c.height=800,[()=>{},c,()=>{}];let f=(0,ex.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c,orientationHandler:null}),p=t?"number"==typeof t?t:t.scroll:null,v=t?"number"==typeof t?t:t.resize:null,y=(0,ex.useRef)(!1);(0,ex.useEffect)(()=>(y.current=!0,()=>void(y.current=!1)));let[x,_,b]=(0,ex.useMemo)(()=>{let t=()=>{if(!f.current.element)return;let{left:t,top:r,width:i,height:u,bottom:c,right:p,x:v,y:x}=f.current.element.getBoundingClientRect(),_={left:t,top:r,width:i,height:u,bottom:c,right:p,x:v,y:x};f.current.element instanceof HTMLElement&&s&&(_.height=f.current.element.offsetHeight,_.width=f.current.element.offsetWidth),Object.freeze(_),y.current&&!gl(f.current.lastBounds,_)&&h(f.current.lastBounds=_)};return[t,v?p0()(t,v):t,p?p0()(t,p):t]},[h,s,p,v]);function w(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(t=>t.removeEventListener("scroll",b,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null),f.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",f.current.orientationHandler))}function S(){var t;f.current.element&&(f.current.resizeObserver=new u(_),null==(t=f.current.resizeObserver)||t.observe(f.current.element),r&&f.current.scrollContainers&&f.current.scrollContainers.forEach(t=>t.addEventListener("scroll",b,{capture:!0,passive:!0})),f.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",f.current.orientationHandler))}return function(t,r){(0,ex.useEffect)(()=>{if(r)return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)},[t,r])}(b,!!r),function(t){(0,ex.useEffect)(()=>(window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)),[t])}(_),(0,ex.useEffect)(()=>{w(),S()},[r,b,_]),(0,ex.useEffect)(()=>w,[]),[t=>{t&&t!==f.current.element&&(w(),f.current.element=t,f.current.scrollContainers=function t(r){let i=[];if(!r||r===document.body)return i;let{overflow:s,overflowX:u,overflowY:c}=window.getComputedStyle(r);return[s,u,c].some(t=>"auto"===t||"scroll"===t)&&i.push(r),[...i,...t(r.parentElement)]}(t),S())},c,x]}({scroll:!0,debounce:{scroll:50,resize:0},...i}),k=ex.useRef(null),O=ex.useRef(null);ex.useImperativeHandle(R,()=>k.current);let N=f4(T),[F,U]=ex.useState(!1),[z,G]=ex.useState(!1);if(F)throw F;if(z)throw z;let H=ex.useRef(null);f5(()=>{let r=k.current;B.width>0&&B.height>0&&r&&(!H.current&&(H.current=pX(r)),H.current.configure({gl:u,events:c,shadows:p,linear:v,flat:y,legacy:x,orthographic:_,frameloop:b,dpr:w,performance:S,raycaster:A,camera:M,scene:C,size:B,onPointerMissed:(...t)=>null==N.current?void 0:N.current(...t),onCreated:t=>{null==t.events.connect||t.events.connect(h?f3(h)?h.current:h:O.current),f&&t.setEvents({compute:(t,r)=>{let i=t[f+"X"],s=t[f+"Y"];r.pointer.set(i/r.size.width*2-1,-(2*(s/r.size.height))+1),r.raycaster.setFromCamera(r.pointer,r.camera)}}),null==I||I(t)}}),H.current.render((0,ev.jsx)(P,{children:(0,ev.jsx)(f8,{set:G,children:(0,ev.jsx)(ex.Suspense,{fallback:(0,ev.jsx)(f9,{set:U}),children:t})})})))}),ex.useEffect(()=>{let t=k.current;if(t)return()=>pZ(t)},[]);let V=h?"none":"auto";return(0,ev.jsx)("div",{ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...s},...D,children:(0,ev.jsx)("div",{ref:L,style:{width:"100%",height:"100%"},children:(0,ev.jsx)("canvas",{ref:k,style:{display:"block"},children:r})})})}),gc=ex.forwardRef(function(t,r){return(0,ev.jsx)(ga,{children:(0,ev.jsx)(gu,{...t,ref:r})})});function gh(){return(gh=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(null,arguments)}let gd={LEFT:1,RIGHT:2,MIDDLE:4},gf=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),gp={NONE:0,IN:1,OUT:-1};function gg(t){return t.isPerspectiveCamera}function gm(t){return t.isOrthographicCamera}let gv=2*Math.PI,gy=Math.PI/2,gx=Math.PI/180;function g_(t,r,i){return Math.max(r,Math.min(i,t))}function gb(t,r=1e-5){return Math.abs(t)<r}function gw(t,r,i=1e-5){return gb(t-r,i)}function gS(t,r){return Math.round(t/r)*r}function gA(t){return isFinite(t)?t:t<0?-Number.MAX_VALUE:Number.MAX_VALUE}function gM(t){return Math.abs(t)<Number.MAX_VALUE?t:1/0*t}function gC(t,r,i,s,u=1/0,c){let h=2/(s=Math.max(1e-4,s)),f=h*c,p=1/(1+f+.48*f*f+.235*f*f*f),v=t-r,y=r,x=u*s;r=t-(v=g_(v,-x,x));let _=(i.value+h*v)*c;i.value=(i.value-h*_)*p;let b=r+(v+_)*p;return y-t>0==b>y&&(b=y,i.value=(b-y)/c),b}function gT(t,r,i,s,u=1/0,c,h){let f=2/(s=Math.max(1e-4,s)),p=f*c,v=1/(1+p+.48*p*p+.235*p*p*p),y=r.x,x=r.y,_=r.z,b=t.x-y,w=t.y-x,S=t.z-_,A=y,M=x,C=_,T=u*s,I=b*b+w*w+S*S;if(I>T*T){let t=Math.sqrt(I);b=b/t*T,w=w/t*T,S=S/t*T}y=t.x-b,x=t.y-w,_=t.z-S;let D=(i.x+f*b)*c,R=(i.y+f*w)*c,P=(i.z+f*S)*c;i.x=(i.x-f*D)*v,i.y=(i.y-f*R)*v,i.z=(i.z-f*P)*v,h.x=y+(b+D)*v,h.y=x+(w+R)*v,h.z=_+(S+P)*v;let L=A-t.x,B=M-t.y,k=C-t.z,O=h.x-A,N=h.y-M;return L*O+B*N+k*(h.z-C)>0&&(h.x=A,h.y=M,h.z=C,i.x=(h.x-A)/c,i.y=(h.y-M)/c,i.z=(h.z-C)/c),h}function gE(t,r){r.set(0,0),t.forEach(t=>{r.x+=t.clientX,r.y+=t.clientY}),r.x/=t.length,r.y/=t.length}function gI(t,r){return!!gm(t)||!1}class gD{constructor(){this._listeners={}}addEventListener(t,r){let i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(r)&&i[t].push(r)}hasEventListener(t,r){let i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(r)}removeEventListener(t,r){let i=this._listeners[t];if(void 0!==i){let t=i.indexOf(r);-1!==t&&i.splice(t,1)}}removeAllEventListeners(t){if(!t){this._listeners={};return}Array.isArray(this._listeners[t])&&(this._listeners[t].length=0)}dispatchEvent(t){let r=this._listeners[t.type];if(void 0!==r){t.target=this;let i=r.slice(0);for(let r=0,s=i.length;r<s;r++)i[r].call(this,t)}}}let gR=1/8,gP=/Mac/.test(null===(elu=null==globalThis?void 0:globalThis.navigator)||void 0===elu?void 0:elu.platform);class gL extends gD{static install(t){x=Object.freeze(new(y=t.THREE).Vector3(0,0,0)),_=Object.freeze(new y.Vector3(0,1,0)),b=Object.freeze(new y.Vector3(0,0,1)),w=new y.Vector2,S=new y.Vector3,A=new y.Vector3,M=new y.Vector3,C=new y.Vector3,T=new y.Vector3,I=new y.Vector3,D=new y.Vector3,R=new y.Vector3,P=new y.Vector3,L=new y.Spherical,B=new y.Spherical,k=new y.Box3,O=new y.Box3,N=new y.Sphere,F=new y.Quaternion,U=new y.Quaternion,z=new y.Matrix4,G=new y.Raycaster}static get ACTION(){return gf}constructor(t,r){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=gf.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=gp.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new y.Vector3,this._focalOffsetVelocity=new y.Vector3,this._zoomVelocity={value:0},this._truckInternal=(t,r,i)=>{let s,u;if(gg(this._camera)){let i=S.copy(this._camera.position).sub(this._target),c=this._camera.getEffectiveFOV()*gx,h=i.length()*Math.tan(.5*c);s=this.truckSpeed*t*h/this._elementRect.height,u=this.truckSpeed*r*h/this._elementRect.height}else{if(!gm(this._camera))return;let i=this._camera;s=t*(i.right-i.left)/i.zoom/this._elementRect.width,u=r*(i.top-i.bottom)/i.zoom/this._elementRect.height}this.verticalDragToForward?(i?this.setFocalOffset(this._focalOffsetEnd.x+s,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(s,0,!0),this.forward(-u,!0)):i?this.setFocalOffset(this._focalOffsetEnd.x+s,this._focalOffsetEnd.y+u,this._focalOffsetEnd.z,!0):this.truck(s,u,!0)},this._rotateInternal=(t,r)=>{let i=gv*this.azimuthRotateSpeed*t/this._elementRect.height,s=gv*this.polarRotateSpeed*r/this._elementRect.height;this.rotate(i,s,!0)},this._dollyInternal=(t,r,i)=>{let s=Math.pow(.95,-t*this.dollySpeed),u=this._sphericalEnd.radius,c=this._sphericalEnd.radius*s,h=g_(c,this.minDistance,this.maxDistance);this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(c,!0):(this.infinityDolly&&!this.dollyToCursor&&this.dollyInFixed(h-c,!0),this._dollyToNoClamp(h,!0)),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?c:h)-u,this._dollyControlCoord.set(r,i)),this._lastDollyDirection=Math.sign(-t)},this._zoomInternal=(t,r,i)=>{let s=Math.pow(.95,t*this.dollySpeed),u=this._zoom,c=this._zoom*s;this.zoomTo(c,!0),this.dollyToCursor&&(this._changedZoom+=c-u,this._dollyControlCoord.set(r,i))},this._camera=t,this._yAxisUpSpace=new y.Quaternion().setFromUnitVectors(this._camera.up,_),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=gf.NONE,this._target=new y.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new y.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new y.Spherical().setFromVector3(S.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new y.Vector3,new y.Vector3,new y.Vector3,new y.Vector3],this._updateNearPlaneCorners(),this._boundary=new y.Box3(new y.Vector3(-1/0,-1/0,-1/0),new y.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new y.Vector2,this.mouseButtons={left:gf.ROTATE,middle:gf.DOLLY,right:gf.TRUCK,wheel:gg(this._camera)?gf.DOLLY:gm(this._camera)?gf.ZOOM:gf.NONE},this.touches={one:gf.TOUCH_ROTATE,two:gg(this._camera)?gf.TOUCH_DOLLY_TRUCK:gm(this._camera)?gf.TOUCH_ZOOM_TRUCK:gf.NONE,three:gf.TOUCH_TRUCK};let i=new y.Vector2,s=new y.Vector2,u=new y.Vector2,c=t=>{if(!this._enabled||!this._domElement)return;if(0!==this._interactiveArea.left||0!==this._interactiveArea.top||1!==this._interactiveArea.width||1!==this._interactiveArea.height){let r=this._domElement.getBoundingClientRect(),i=t.clientX/r.width,s=t.clientY/r.height;if(i<this._interactiveArea.left||i>this._interactiveArea.right||s<this._interactiveArea.top||s>this._interactiveArea.bottom)return}let r="mouse"!==t.pointerType?null:(t.buttons&gd.LEFT)===gd.LEFT?gd.LEFT:(t.buttons&gd.MIDDLE)===gd.MIDDLE?gd.MIDDLE:(t.buttons&gd.RIGHT)===gd.RIGHT?gd.RIGHT:null;if(null!==r){let t=this._findPointerByMouseButton(r);t&&this._disposePointer(t)}if((t.buttons&gd.LEFT)===gd.LEFT&&this._lockedPointer)return;let i={pointerId:t.pointerId,clientX:t.clientX,clientY:t.clientY,deltaX:0,deltaY:0,mouseButton:r};this._activePointers.push(i),this._domElement.ownerDocument.removeEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",f),this._domElement.ownerDocument.addEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",f),this._isDragging=!0,b(t)},h=t=>{t.cancelable&&t.preventDefault();let r=t.pointerId,i=this._lockedPointer||this._findPointerById(r);if(i){if(i.clientX=t.clientX,i.clientY=t.clientY,i.deltaX=t.movementX,i.deltaY=t.movementY,this._state=0,"touch"===t.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(t.buttons&gd.LEFT)===gd.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(t.buttons&gd.MIDDLE)===gd.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(t.buttons&gd.RIGHT)===gd.RIGHT&&(this._state=this._state|this.mouseButtons.right);A()}},f=t=>{let r=this._findPointerById(t.pointerId);if(!r||r!==this._lockedPointer){if(r&&this._disposePointer(r),"touch"===t.pointerType)switch(this._activePointers.length){case 0:this._state=gf.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._state=gf.NONE;M()}},p=-1,v=t=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===gf.NONE)return;if(0!==this._interactiveArea.left||0!==this._interactiveArea.top||1!==this._interactiveArea.width||1!==this._interactiveArea.height){let r=this._domElement.getBoundingClientRect(),i=t.clientX/r.width,s=t.clientY/r.height;if(i<this._interactiveArea.left||i>this._interactiveArea.right||s<this._interactiveArea.top||s>this._interactiveArea.bottom)return}if(t.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===gf.ROTATE||this.mouseButtons.wheel===gf.TRUCK){let t=performance.now();p-t<1e3&&this._getClientRect(this._elementRect),p=t}let r=gP?-1:-3,i=1===t.deltaMode?t.deltaY/r:t.deltaY/(10*r),s=this.dollyToCursor?(t.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,u=this.dollyToCursor?-((t.clientY-this._elementRect.y)/this._elementRect.height*2)+1:0;switch(this.mouseButtons.wheel){case gf.ROTATE:this._rotateInternal(t.deltaX,t.deltaY),this._isUserControllingRotate=!0;break;case gf.TRUCK:this._truckInternal(t.deltaX,t.deltaY,!1),this._isUserControllingTruck=!0;break;case gf.OFFSET:this._truckInternal(t.deltaX,t.deltaY,!0),this._isUserControllingOffset=!0;break;case gf.DOLLY:this._dollyInternal(-i,s,u),this._isUserControllingDolly=!0;break;case gf.ZOOM:this._zoomInternal(-i,s,u),this._isUserControllingZoom=!0}this.dispatchEvent({type:"control"})},x=t=>{if(this._domElement&&this._enabled){if(this.mouseButtons.right===gL.ACTION.NONE){let r=t instanceof PointerEvent?t.pointerId:0,i=this._findPointerById(r);i&&this._disposePointer(i),this._domElement.ownerDocument.removeEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",f);return}t.preventDefault()}},b=t=>{if(!!this._enabled){if(gE(this._activePointers,w),this._getClientRect(this._elementRect),i.copy(w),s.copy(w),this._activePointers.length>=2){let t=w.x-this._activePointers[1].clientX,r=w.y-this._activePointers[1].clientY,i=Math.sqrt(t*t+r*r);u.set(0,i);let c=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,h=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;s.set(c,h)}if(this._state=0,t){if("pointerType"in t&&"touch"===t.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else!this._lockedPointer&&(t.buttons&gd.LEFT)===gd.LEFT&&(this._state=this._state|this.mouseButtons.left),(t.buttons&gd.MIDDLE)===gd.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(t.buttons&gd.RIGHT)===gd.RIGHT&&(this._state=this._state|this.mouseButtons.right)}else this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);((this._state&gf.ROTATE)===gf.ROTATE||(this._state&gf.TOUCH_ROTATE)===gf.TOUCH_ROTATE||(this._state&gf.TOUCH_DOLLY_ROTATE)===gf.TOUCH_DOLLY_ROTATE||(this._state&gf.TOUCH_ZOOM_ROTATE)===gf.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&gf.TRUCK)===gf.TRUCK||(this._state&gf.TOUCH_TRUCK)===gf.TOUCH_TRUCK||(this._state&gf.TOUCH_DOLLY_TRUCK)===gf.TOUCH_DOLLY_TRUCK||(this._state&gf.TOUCH_ZOOM_TRUCK)===gf.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&gf.DOLLY)===gf.DOLLY||(this._state&gf.TOUCH_DOLLY)===gf.TOUCH_DOLLY||(this._state&gf.TOUCH_DOLLY_TRUCK)===gf.TOUCH_DOLLY_TRUCK||(this._state&gf.TOUCH_DOLLY_OFFSET)===gf.TOUCH_DOLLY_OFFSET||(this._state&gf.TOUCH_DOLLY_ROTATE)===gf.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&gf.ZOOM)===gf.ZOOM||(this._state&gf.TOUCH_ZOOM)===gf.TOUCH_ZOOM||(this._state&gf.TOUCH_ZOOM_TRUCK)===gf.TOUCH_ZOOM_TRUCK||(this._state&gf.TOUCH_ZOOM_OFFSET)===gf.TOUCH_ZOOM_OFFSET||(this._state&gf.TOUCH_ZOOM_ROTATE)===gf.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&gf.OFFSET)===gf.OFFSET||(this._state&gf.TOUCH_OFFSET)===gf.TOUCH_OFFSET||(this._state&gf.TOUCH_DOLLY_OFFSET)===gf.TOUCH_DOLLY_OFFSET||(this._state&gf.TOUCH_ZOOM_OFFSET)===gf.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})}},A=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,gE(this._activePointers,w);let t=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,r=t?-t.deltaX:s.x-w.x,c=t?-t.deltaY:s.y-w.y;if(s.copy(w),((this._state&gf.ROTATE)===gf.ROTATE||(this._state&gf.TOUCH_ROTATE)===gf.TOUCH_ROTATE||(this._state&gf.TOUCH_DOLLY_ROTATE)===gf.TOUCH_DOLLY_ROTATE||(this._state&gf.TOUCH_ZOOM_ROTATE)===gf.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(r,c),this._isUserControllingRotate=!0),(this._state&gf.DOLLY)===gf.DOLLY||(this._state&gf.ZOOM)===gf.ZOOM){let t=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,r=this.dollyToCursor?-((i.y-this._elementRect.y)/this._elementRect.height*2)+1:0,s=this.dollyDragInverted?-1:1;(this._state&gf.DOLLY)===gf.DOLLY?(this._dollyInternal(s*c*gR,t,r),this._isUserControllingDolly=!0):(this._zoomInternal(s*c*gR,t,r),this._isUserControllingZoom=!0)}if((this._state&gf.TOUCH_DOLLY)===gf.TOUCH_DOLLY||(this._state&gf.TOUCH_ZOOM)===gf.TOUCH_ZOOM||(this._state&gf.TOUCH_DOLLY_TRUCK)===gf.TOUCH_DOLLY_TRUCK||(this._state&gf.TOUCH_ZOOM_TRUCK)===gf.TOUCH_ZOOM_TRUCK||(this._state&gf.TOUCH_DOLLY_OFFSET)===gf.TOUCH_DOLLY_OFFSET||(this._state&gf.TOUCH_ZOOM_OFFSET)===gf.TOUCH_ZOOM_OFFSET||(this._state&gf.TOUCH_DOLLY_ROTATE)===gf.TOUCH_DOLLY_ROTATE||(this._state&gf.TOUCH_ZOOM_ROTATE)===gf.TOUCH_ZOOM_ROTATE){let t=w.x-this._activePointers[1].clientX,r=w.y-this._activePointers[1].clientY,i=Math.sqrt(t*t+r*r),c=u.y-i;u.set(0,i);let h=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,f=this.dollyToCursor?-((s.y-this._elementRect.y)/this._elementRect.height*2)+1:0;(this._state&gf.TOUCH_DOLLY)===gf.TOUCH_DOLLY||(this._state&gf.TOUCH_DOLLY_ROTATE)===gf.TOUCH_DOLLY_ROTATE||(this._state&gf.TOUCH_DOLLY_TRUCK)===gf.TOUCH_DOLLY_TRUCK||(this._state&gf.TOUCH_DOLLY_OFFSET)===gf.TOUCH_DOLLY_OFFSET?(this._dollyInternal(c*gR,h,f),this._isUserControllingDolly=!0):(this._zoomInternal(c*gR,h,f),this._isUserControllingZoom=!0)}((this._state&gf.TRUCK)===gf.TRUCK||(this._state&gf.TOUCH_TRUCK)===gf.TOUCH_TRUCK||(this._state&gf.TOUCH_DOLLY_TRUCK)===gf.TOUCH_DOLLY_TRUCK||(this._state&gf.TOUCH_ZOOM_TRUCK)===gf.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(r,c,!1),this._isUserControllingTruck=!0),((this._state&gf.OFFSET)===gf.OFFSET||(this._state&gf.TOUCH_OFFSET)===gf.TOUCH_OFFSET||(this._state&gf.TOUCH_DOLLY_OFFSET)===gf.TOUCH_DOLLY_OFFSET||(this._state&gf.TOUCH_ZOOM_OFFSET)===gf.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(r,c,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},M=()=>{gE(this._activePointers,w),s.copy(w),this._dragNeedsUpdate=!1,(0===this._activePointers.length||1===this._activePointers.length&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),0===this._activePointers.length&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",f),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{this._enabled&&this._domElement&&(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",f),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",C),this._domElement.ownerDocument.addEventListener("pointerlockerror",T),this._domElement.ownerDocument.addEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",f),b())},this.unlockPointer=()=>{var t,r,i;null!==this._lockedPointer&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),null===(t=this._domElement)||void 0===t||t.ownerDocument.exitPointerLock(),null===(r=this._domElement)||void 0===r||r.ownerDocument.removeEventListener("pointerlockchange",C),null===(i=this._domElement)||void 0===i||i.ownerDocument.removeEventListener("pointerlockerror",T),this.cancel()};let C=()=>{!(this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement)&&this.unlockPointer()},T=()=>{this.unlockPointer()};this._addAllEventListeners=t=>{this._domElement=t,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",c),this._domElement.addEventListener("pointercancel",f),this._domElement.addEventListener("wheel",v,{passive:!1}),this._domElement.addEventListener("contextmenu",x)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",c),this._domElement.removeEventListener("pointercancel",f),this._domElement.removeEventListener("wheel",v,{passive:!1}),this._domElement.removeEventListener("contextmenu",x),this._domElement.ownerDocument.removeEventListener("pointermove",h,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",f),this._domElement.ownerDocument.removeEventListener("pointerlockchange",C),this._domElement.ownerDocument.removeEventListener("pointerlockerror",T))},this.cancel=()=>{this._state!==gf.NONE&&(this._state=gf.NONE,this._activePointers.length=0,M())},r&&this.connect(r),this.update(0)}get camera(){return this._camera}set camera(t){this._camera=t,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._domElement&&(t?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(t){(this._spherical.radius!==t||this._sphericalEnd.radius!==t)&&(this._spherical.radius=t,this._sphericalEnd.radius=t,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(t){(this._spherical.theta!==t||this._sphericalEnd.theta!==t)&&(this._spherical.theta=t,this._sphericalEnd.theta=t,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(t){(this._spherical.phi!==t||this._sphericalEnd.phi!==t)&&(this._spherical.phi=t,this._sphericalEnd.phi=t,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(t){this._boundaryEnclosesCamera=t,this._needsUpdate=!0}set interactiveArea(t){this._interactiveArea.width=g_(t.width,0,1),this._interactiveArea.height=g_(t.height,0,1),this._interactiveArea.x=g_(t.x,0,1-this._interactiveArea.width),this._interactiveArea.y=g_(t.y,0,1-this._interactiveArea.height)}addEventListener(t,r){super.addEventListener(t,r)}removeEventListener(t,r){super.removeEventListener(t,r)}rotate(t,r,i=!1){return this.rotateTo(this._sphericalEnd.theta+t,this._sphericalEnd.phi+r,i)}rotateAzimuthTo(t,r=!1){return this.rotateTo(t,this._sphericalEnd.phi,r)}rotatePolarTo(t,r=!1){return this.rotateTo(this._sphericalEnd.theta,t,r)}rotateTo(t,r,i=!1){this._isUserControllingRotate=!1;let s=g_(t,this.minAzimuthAngle,this.maxAzimuthAngle),u=g_(r,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=s,this._sphericalEnd.phi=u,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,!i&&(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);let c=!i||gw(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&gw(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(c)}dolly(t,r=!1){return this.dollyTo(this._sphericalEnd.radius-t,r)}dollyTo(t,r=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=gp.NONE,this._changedDolly=0,this._dollyToNoClamp(g_(t,this.minDistance,this.maxDistance),r)}_dollyToNoClamp(t,r=!1){let i=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){let r=this._collisionTest(),s=gw(r,this._spherical.radius);if(!(i>t)&&s)return Promise.resolve();this._sphericalEnd.radius=Math.min(t,r)}else this._sphericalEnd.radius=t;this._needsUpdate=!0,!r&&(this._spherical.radius=this._sphericalEnd.radius);let s=!r||gw(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}dollyInFixed(t,r=!1){this._targetEnd.add(this._getCameraDirection(C).multiplyScalar(t)),!r&&this._target.copy(this._targetEnd);let i=!r||gw(this._target.x,this._targetEnd.x,this.restThreshold)&&gw(this._target.y,this._targetEnd.y,this.restThreshold)&&gw(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}zoom(t,r=!1){return this.zoomTo(this._zoomEnd+t,r)}zoomTo(t,r=!1){this._isUserControllingZoom=!1,this._zoomEnd=g_(t,this.minZoom,this.maxZoom),this._needsUpdate=!0,!r&&(this._zoom=this._zoomEnd);let i=!r||gw(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(i)}pan(t,r,i=!1){return this.truck(t,r,i)}truck(t,r,i=!1){this._camera.updateMatrix(),T.setFromMatrixColumn(this._camera.matrix,0),I.setFromMatrixColumn(this._camera.matrix,1),T.multiplyScalar(t),I.multiplyScalar(-r);let s=S.copy(T).add(I),u=A.copy(this._targetEnd).add(s);return this.moveTo(u.x,u.y,u.z,i)}forward(t,r=!1){S.setFromMatrixColumn(this._camera.matrix,0),S.crossVectors(this._camera.up,S),S.multiplyScalar(t);let i=A.copy(this._targetEnd).add(S);return this.moveTo(i.x,i.y,i.z,r)}elevate(t,r=!1){return S.copy(this._camera.up).multiplyScalar(t),this.moveTo(this._targetEnd.x+S.x,this._targetEnd.y+S.y,this._targetEnd.z+S.z,r)}moveTo(t,r,i,s=!1){this._isUserControllingTruck=!1;let u=S.set(t,r,i).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,u,this.boundaryFriction),this._needsUpdate=!0,!s&&this._target.copy(this._targetEnd);let c=!s||gw(this._target.x,this._targetEnd.x,this.restThreshold)&&gw(this._target.y,this._targetEnd.y,this.restThreshold)&&gw(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(c)}lookInDirectionOf(t,r,i,s=!1){let u=S.set(t,r,i).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(u.x,u.y,u.z,s)}fitToBox(t,r,{cover:i=!1,paddingLeft:s=0,paddingRight:u=0,paddingBottom:c=0,paddingTop:h=0}={}){let f=[],p=t.isBox3?k.copy(t):k.setFromObject(t);p.isEmpty()&&Promise.resolve();let v=gS(this._sphericalEnd.theta,gy),y=gS(this._sphericalEnd.phi,gy);f.push(this.rotateTo(v,y,r));let x=S.setFromSpherical(this._sphericalEnd).normalize(),w=F.setFromUnitVectors(x,b),M=gw(Math.abs(x.y),1);M&&w.multiply(U.setFromAxisAngle(_,v)),w.multiply(this._yAxisUpSpaceInverse);let C=O.makeEmpty();A.copy(p.min).applyQuaternion(w),C.expandByPoint(A),A.copy(p.min).setX(p.max.x).applyQuaternion(w),C.expandByPoint(A),A.copy(p.min).setY(p.max.y).applyQuaternion(w),C.expandByPoint(A),A.copy(p.max).setZ(p.min.z).applyQuaternion(w),C.expandByPoint(A),A.copy(p.min).setZ(p.max.z).applyQuaternion(w),C.expandByPoint(A),A.copy(p.max).setY(p.min.y).applyQuaternion(w),C.expandByPoint(A),A.copy(p.max).setX(p.min.x).applyQuaternion(w),C.expandByPoint(A),A.copy(p.max).applyQuaternion(w),C.expandByPoint(A),C.min.x-=s,C.min.y-=c,C.max.x+=u,C.max.y+=h,w.setFromUnitVectors(b,x),M&&w.premultiply(U.invert()),w.premultiply(this._yAxisUpSpace);let T=C.getSize(S),I=C.getCenter(A).applyQuaternion(w);if(gg(this._camera)){let t=this.getDistanceToFitBox(T.x,T.y,T.z,i);f.push(this.moveTo(I.x,I.y,I.z,r)),f.push(this.dollyTo(t,r)),f.push(this.setFocalOffset(0,0,0,r))}else if(gm(this._camera)){let t=this._camera,s=t.right-t.left,u=t.top-t.bottom,c=i?Math.max(s/T.x,u/T.y):Math.min(s/T.x,u/T.y);f.push(this.moveTo(I.x,I.y,I.z,r)),f.push(this.zoomTo(c,r)),f.push(this.setFocalOffset(0,0,0,r))}return Promise.all(f)}fitToSphere(t,r){let i=[],s="isObject3D"in t?gL.createBoundingSphere(t,N):N.copy(t);if(i.push(this.moveTo(s.center.x,s.center.y,s.center.z,r)),gg(this._camera)){let t=this.getDistanceToFitSphere(s.radius);i.push(this.dollyTo(t,r))}else if(gm(this._camera)){let t=this._camera.right-this._camera.left,u=this._camera.top-this._camera.bottom,c=2*s.radius,h=Math.min(t/c,u/c);i.push(this.zoomTo(h,r))}return i.push(this.setFocalOffset(0,0,0,r)),Promise.all(i)}setLookAt(t,r,i,s,u,c,h=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=gp.NONE,this._changedDolly=0;let f=A.set(s,u,c),p=S.set(t,r,i);this._targetEnd.copy(f),this._sphericalEnd.setFromVector3(p.sub(f).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,!h&&(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let v=!h||gw(this._target.x,this._targetEnd.x,this.restThreshold)&&gw(this._target.y,this._targetEnd.y,this.restThreshold)&&gw(this._target.z,this._targetEnd.z,this.restThreshold)&&gw(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&gw(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&gw(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(v)}lerpLookAt(t,r,i,s,u,c,h,f,p,v,y,x,_,b=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=gp.NONE,this._changedDolly=0;let w=S.set(s,u,c),C=A.set(t,r,i);L.setFromVector3(C.sub(w).applyQuaternion(this._yAxisUpSpace));let T=M.set(v,y,x),I=A.set(h,f,p);B.setFromVector3(I.sub(T).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(w.lerp(T,_));let D=B.theta-L.theta,R=B.phi-L.phi,P=B.radius-L.radius;this._sphericalEnd.set(L.radius+P*_,L.phi+R*_,L.theta+D*_),this.normalizeRotations(),this._needsUpdate=!0,!b&&(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let k=!b||gw(this._target.x,this._targetEnd.x,this.restThreshold)&&gw(this._target.y,this._targetEnd.y,this.restThreshold)&&gw(this._target.z,this._targetEnd.z,this.restThreshold)&&gw(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&gw(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&gw(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(k)}setPosition(t,r,i,s=!1){return this.setLookAt(t,r,i,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,s)}setTarget(t,r,i,s=!1){let u=this.getPosition(S),c=this.setLookAt(u.x,u.y,u.z,t,r,i,s);return this._sphericalEnd.phi=g_(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),c}setFocalOffset(t,r,i,s=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(t,r,i),this._needsUpdate=!0,!s&&this._focalOffset.copy(this._focalOffsetEnd);let u=!s||gw(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&gw(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&gw(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(u)}setOrbitPoint(t,r,i){this._camera.updateMatrixWorld(),T.setFromMatrixColumn(this._camera.matrixWorldInverse,0),I.setFromMatrixColumn(this._camera.matrixWorldInverse,1),D.setFromMatrixColumn(this._camera.matrixWorldInverse,2);let s=S.set(t,r,i),u=s.distanceTo(this._camera.position),c=s.sub(this._camera.position);T.multiplyScalar(c.x),I.multiplyScalar(c.y),D.multiplyScalar(c.z),S.copy(T).add(I).add(D),S.z=S.z+u,this.dollyTo(u,!1),this.setFocalOffset(-S.x,S.y,-S.z,!1),this.moveTo(t,r,i,!1)}setBoundary(t){if(!t){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(t),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(t,r,i,s){if(null===t){this._viewport=null;return}this._viewport=this._viewport||new y.Vector4,"number"==typeof t?this._viewport.set(t,r,i,s):this._viewport.copy(t)}getDistanceToFitBox(t,r,i,s=!1){if(gI(this._camera,"getDistanceToFitBox"))return this._spherical.radius;let u=t/r,c=this._camera.getEffectiveFOV()*gx,h=this._camera.aspect;return .5*((s?u>h:u<h)?r:t/h)/Math.tan(.5*c)+.5*i}getDistanceToFitSphere(t){if(gI(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;let r=this._camera.getEffectiveFOV()*gx,i=2*Math.atan(Math.tan(.5*r)*this._camera.aspect);return t/Math.sin(.5*(1<this._camera.aspect?r:i))}getTarget(t,r=!0){return(t&&t.isVector3?t:new y.Vector3).copy(r?this._targetEnd:this._target)}getPosition(t,r=!0){return(t&&t.isVector3?t:new y.Vector3).setFromSpherical(r?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(r?this._targetEnd:this._target)}getSpherical(t,r=!0){return(t||new y.Spherical).copy(r?this._sphericalEnd:this._spherical)}getFocalOffset(t,r=!0){return(t&&t.isVector3?t:new y.Vector3).copy(r?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%gv,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=gv),this._spherical.theta+=gv*Math.round((this._sphericalEnd.theta-this._spherical.theta)/gv)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(t=!1){if(!gw(this._camera.up.x,this._cameraUp0.x)||!gw(this._camera.up.y,this._cameraUp0.y)||!gw(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);let t=this.getPosition(S);this.updateCameraUp(),this.setPosition(t.x,t.y,t.z)}return Promise.all([this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,t),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,t),this.zoomTo(this._zoom0,t)])}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,_),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){let t=S.subVectors(this._target,this._camera.position).normalize(),r=A.crossVectors(t,this._camera.up);this._camera.up.crossVectors(r,t).normalize(),this._camera.updateMatrixWorld();let i=this.getPosition(S);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}update(t){let r=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,s=this._sphericalEnd.radius-this._spherical.radius,u=R.subVectors(this._targetEnd,this._target),c=P.subVectors(this._focalOffsetEnd,this._focalOffset),h=this._zoomEnd-this._zoom;if(gb(r))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{let r=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=gC(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,r,1/0,t),this._needsUpdate=!0}if(gb(i))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{let r=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=gC(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,r,1/0,t),this._needsUpdate=!0}if(gb(s))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{let r=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=gC(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,r,this.maxSpeed,t),this._needsUpdate=!0}if(gb(u.x)&&gb(u.y)&&gb(u.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{let r=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;gT(this._target,this._targetEnd,this._targetVelocity,r,this.maxSpeed,t,this._target),this._needsUpdate=!0}if(gb(c.x)&&gb(c.y)&&gb(c.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{let r=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;gT(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,r,this.maxSpeed,t,this._focalOffset),this._needsUpdate=!0}if(gb(h))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{let r=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=gC(this._zoom,this._zoomEnd,this._zoomVelocity,r,1/0,t)}if(this.dollyToCursor){if(gg(this._camera)&&0!==this._changedDolly){let t=this._spherical.radius-this._lastDistance,r=this._camera,i=this._getCameraDirection(C),s=S.copy(i).cross(r.up).normalize();0===s.lengthSq()&&(s.x=1);let u=A.crossVectors(s,i),c=this._sphericalEnd.radius*Math.tan(r.getEffectiveFOV()*gx*.5),h=(this._sphericalEnd.radius-t-this._sphericalEnd.radius)/this._sphericalEnd.radius,f=M.copy(this._targetEnd).add(s.multiplyScalar(this._dollyControlCoord.x*c*r.aspect)).add(u.multiplyScalar(this._dollyControlCoord.y*c)),p=S.copy(this._targetEnd).lerp(f,h),v=this._lastDollyDirection===gp.IN&&this._spherical.radius<=this.minDistance,y=this._lastDollyDirection===gp.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(v||y)){this._sphericalEnd.radius-=t,this._spherical.radius-=t;let r=A.copy(i).multiplyScalar(-t);p.add(r)}this._boundary.clampPoint(p,p);let x=A.subVectors(p,this._targetEnd);this._targetEnd.copy(p),this._target.add(x),this._changedDolly-=t,gb(this._changedDolly)&&(this._changedDolly=0)}else if(gm(this._camera)&&0!==this._changedZoom){let t=this._zoom-this._lastZoom,r=this._camera,i=S.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(r.near+r.far)/(r.near-r.far)).unproject(r),s=A.set(0,0,-1).applyQuaternion(r.quaternion),u=M.copy(i).add(s.multiplyScalar(-i.dot(r.up))),c=-(this._zoom-t-this._zoom)/this._zoom,h=this._getCameraDirection(C),f=this._targetEnd.dot(h),p=S.copy(this._targetEnd).lerp(u,c),v=p.dot(h),y=h.multiplyScalar(v-f);p.sub(y),this._boundary.clampPoint(p,p);let x=A.subVectors(p,this._targetEnd);this._targetEnd.copy(p),this._target.add(x),this._changedZoom-=t,gb(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;let f=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,f),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!gb(this._focalOffset.x)||!gb(this._focalOffset.y)||!gb(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),T.setFromMatrixColumn(this._camera.matrix,0),I.setFromMatrixColumn(this._camera.matrix,1),D.setFromMatrixColumn(this._camera.matrix,2),T.multiplyScalar(this._focalOffset.x),I.multiplyScalar(-this._focalOffset.y),D.multiplyScalar(this._focalOffset.z),S.copy(T).add(I).add(D),this._camera.position.add(S)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),S.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);let p=this._needsUpdate;return p&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):p?(this.dispatchEvent({type:"update"}),gb(r,this.restThreshold)&&gb(i,this.restThreshold)&&gb(s,this.restThreshold)&&gb(u.x,this.restThreshold)&&gb(u.y,this.restThreshold)&&gb(u.z,this.restThreshold)&&gb(c.x,this.restThreshold)&&gb(c.y,this.restThreshold)&&gb(c.z,this.restThreshold)&&gb(h,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!p&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=p,this._needsUpdate=!1,p}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:gA(this.maxDistance),minZoom:this.minZoom,maxZoom:gA(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:gA(this.maxPolarAngle),minAzimuthAngle:gA(this.minAzimuthAngle),maxAzimuthAngle:gA(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:S.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(t,r=!1){let i=JSON.parse(t);this.enabled=i.enabled,this.minDistance=i.minDistance,this.maxDistance=gM(i.maxDistance),this.minZoom=i.minZoom,this.maxZoom=gM(i.maxZoom),this.minPolarAngle=i.minPolarAngle,this.maxPolarAngle=gM(i.maxPolarAngle),this.minAzimuthAngle=gM(i.minAzimuthAngle),this.maxAzimuthAngle=gM(i.maxAzimuthAngle),this.smoothTime=i.smoothTime,this.draggingSmoothTime=i.draggingSmoothTime,this.dollySpeed=i.dollySpeed,this.truckSpeed=i.truckSpeed,this.dollyToCursor=i.dollyToCursor,this.verticalDragToForward=i.verticalDragToForward,this._target0.fromArray(i.target0),this._position0.fromArray(i.position0),this._zoom0=i.zoom0,this._focalOffset0.fromArray(i.focalOffset0),this.moveTo(i.target[0],i.target[1],i.target[2],r),L.setFromVector3(S.fromArray(i.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(L.theta,L.phi,r),this.dollyTo(L.radius,r),this.zoomTo(i.zoom,r),this.setFocalOffset(i.focalOffset[0],i.focalOffset[1],i.focalOffset[2],r),this._needsUpdate=!0}connect(t){if(!this._domElement)t.setAttribute("data-camera-controls-version","2.9.0"),this._addAllEventListeners(t),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(t){return t.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(t){return this._getTargetDirection(t).negate()}_findPointerById(t){return this._activePointers.find(r=>r.pointerId===t)}_findPointerByMouseButton(t){return this._activePointers.find(r=>r.mouseButton===t)}_disposePointer(t){this._activePointers.splice(this._activePointers.indexOf(t),1)}_encloseToBoundary(t,r,i){let s=r.lengthSq();if(0===s)return t;let u=A.copy(r).add(t),c=this._boundary.clampPoint(u,M).sub(u),h=c.lengthSq();if(0===h)return t.add(r);if(h===s)return t;if(0===i)return t.add(r).add(c);else{let s=1+i*h/r.dot(c);return t.add(A.copy(r).multiplyScalar(s)).add(c.multiplyScalar(1-i))}}_updateNearPlaneCorners(){if(gg(this._camera)){let t=this._camera,r=t.near,i=Math.tan(.5*(t.getEffectiveFOV()*gx))*r,s=i*t.aspect;this._nearPlaneCorners[0].set(-s,-i,0),this._nearPlaneCorners[1].set(s,-i,0),this._nearPlaneCorners[2].set(s,i,0),this._nearPlaneCorners[3].set(-s,i,0)}else if(gm(this._camera)){let t=this._camera,r=1/t.zoom,i=t.left*r,s=t.right*r,u=t.top*r,c=t.bottom*r;this._nearPlaneCorners[0].set(i,u,0),this._nearPlaneCorners[1].set(s,u,0),this._nearPlaneCorners[2].set(s,c,0),this._nearPlaneCorners[3].set(i,c,0)}}_collisionTest(){let t=1/0;if(!(this.colliderMeshes.length>=1)||gI(this._camera,"_collisionTest"))return t;let r=this._getTargetDirection(C);z.lookAt(x,r,this._camera.up);for(let i=0;i<4;i++){let s=A.copy(this._nearPlaneCorners[i]);s.applyMatrix4(z);let u=M.addVectors(this._target,s);G.set(u,r),G.far=this._spherical.radius+1;let c=G.intersectObjects(this.colliderMeshes);0!==c.length&&c[0].distance<t&&(t=c[0].distance)}return t}_getClientRect(t){if(!this._domElement)return;let r=this._domElement.getBoundingClientRect();return t.x=r.left,t.y=r.top,this._viewport?(t.x+=this._viewport.x,t.y+=r.height-this._viewport.w-this._viewport.y,t.width=this._viewport.z,t.height=this._viewport.w):(t.width=r.width,t.height=r.height),t}_createOnRestPromise(t){return t?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{let r=()=>{this.removeEventListener("rest",r),t()};this.addEventListener("rest",r)}))}_addAllEventListeners(t){}_removeAllEventListeners(){}get dampingFactor(){return 0}set dampingFactor(t){}get draggingDampingFactor(){return 0}set draggingDampingFactor(t){}static createBoundingSphere(t,r=new y.Sphere){let i=r.center;k.makeEmpty(),t.traverseVisible(t=>{t.isMesh&&k.expandByObject(t)}),k.getCenter(i);let s=0;return t.traverseVisible(t=>{if(!t.isMesh)return;let r=t.geometry.clone();r.applyMatrix4(t.matrixWorld);let u=r.attributes.position;for(let t=0,r=u.count;t<r;t++)S.fromBufferAttribute(u,t),s=Math.max(s,i.distanceToSquared(S))}),r.radius=Math.sqrt(s),r}}let gB=(0,ex.forwardRef)((t,r)=>{(0,ex.useMemo)(()=>{let t={Box3:id,MathUtils:{clamp:rU.clamp},Matrix4:iz,Quaternion:il,Raycaster:d8,Sphere:iR,Spherical:fe,Vector2:rz,Vector3:iu,Vector4:ie};gL.install({THREE:t}),f$({CameraControlsImpl:gL})},[]);let{camera:i,domElement:s,makeDefault:u,onStart:c,onEnd:h,onChange:f,regress:p,...v}=t,y=pB(t=>t.camera),x=pB(t=>t.gl),_=pB(t=>t.invalidate),b=pB(t=>t.events),w=pB(t=>t.setEvents),S=pB(t=>t.set),A=pB(t=>t.get),M=pB(t=>t.performance),C=i||y,T=s||b.connected||x.domElement,I=(0,ex.useMemo)(()=>new gL(C),[C]);return pk((t,r)=>{I.enabled&&I.update(r)},-1),(0,ex.useEffect)(()=>(I.connect(T),()=>void I.disconnect()),[T,I]),(0,ex.useEffect)(()=>{let t=t=>{_(),p&&M.regress(),f&&f(t)},r=t=>{c&&c(t)},i=t=>{h&&h(t)};return I.addEventListener("update",t),I.addEventListener("controlstart",r),I.addEventListener("controlend",i),I.addEventListener("control",t),I.addEventListener("transitionstart",t),I.addEventListener("wake",t),()=>{I.removeEventListener("update",t),I.removeEventListener("controlstart",r),I.removeEventListener("controlend",i),I.removeEventListener("control",t),I.removeEventListener("transitionstart",t),I.removeEventListener("wake",t)}},[I,c,h,_,w,p,f]),(0,ex.useEffect)(()=>{if(u){let t=A().controls;return S({controls:I}),()=>S({controls:t})}},[u,I]),ex.createElement("primitive",gh({ref:r,object:I},v))}),gk=t=>t&&t.isCubeTexture;class gO extends a6{constructor(t,r){var i,s;let u=gk(t),c=null!=(s=u?null==(i=t.image[0])?void 0:i.width:t.image.width)?s:1024,h=Math.floor(Math.log2(c/4)),f=Math.pow(2,h),p=3*Math.max(f,112),v=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=[u?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/p}`,`#define CUBEUV_TEXEL_HEIGHT ${1/(4*f)}`,`#define CUBEUV_MAX_MIP ${h}.0`].join("\n")+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(eb.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,x={map:{value:t},height:{value:(null==r?void 0:r.height)||15},radius:{value:(null==r?void 0:r.radius)||100}},_=new ht(1,16);super(_,new oa({uniforms:x,fragmentShader:y,vertexShader:v,side:eB}))}set radius(t){this.material.uniforms.radius.value=t}get radius(){return this.material.uniforms.radius.value}set height(t){this.material.uniforms.height.value=t}get height(){return this.material.uniforms.height.value}}class gN extends h${constructor(t){super(t),this.type=tj}parse(t){let r,i,s;let u=function(t,r){switch(t){case 1:throw Error("THREE.RGBELoader: Read Error: "+(r||""));case 2:throw Error("THREE.RGBELoader: Write Error: "+(r||""));case 3:throw Error("THREE.RGBELoader: Bad File Format: "+(r||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(r||""))}},c=function(t,r,i){r=r||1024;let s=t.pos,u=-1,c=0,h="",f=String.fromCharCode.apply(null,new Uint16Array(t.subarray(s,s+128)));for(;0>(u=f.indexOf("\n"))&&c<r&&s<t.byteLength;)h+=f,c+=f.length,s+=128,f+=String.fromCharCode.apply(null,new Uint16Array(t.subarray(s,s+128)));return!!(-1<u)&&(!1!==i&&(t.pos+=c+u+1),h+f.slice(0,u))},h=new Uint8Array(t);h.pos=0;let f=function(t){let r,i;let s=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,h=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,f=/^\s*FORMAT=(\S+)\s*$/,p=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,v={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for((t.pos>=t.byteLength||!(r=c(t)))&&u(1,"no header found"),!(i=r.match(/^#\?(\S+)/))&&u(3,"bad initial token"),v.valid|=1,v.programtype=i[1],v.string+=r+"\n";!1!==(r=c(t));){;if(v.string+=r+"\n","#"===r.charAt(0)){v.comments+=r+"\n";continue}if((i=r.match(s))&&(v.gamma=parseFloat(i[1])),(i=r.match(h))&&(v.exposure=parseFloat(i[1])),(i=r.match(f))&&(v.valid|=2,v.format=i[1]),(i=r.match(p))&&(v.valid|=4,v.height=parseInt(i[1],10),v.width=parseInt(i[2],10)),2&v.valid&&4&v.valid)break}return!(2&v.valid)&&u(3,"missing format specifier"),!(4&v.valid)&&u(3,"missing image size specifier"),v}(h),p=f.width,v=f.height,y=function(t,r,i){if(r<8||r>32767||2!==t[0]||2!==t[1]||128&t[2])return new Uint8Array(t);r!==(t[2]<<8|t[3])&&u(3,"wrong scanline width");let s=new Uint8Array(4*r*i);!s.length&&u(4,"unable to allocate buffer space");let c=0,h=0,f=4*r,p=new Uint8Array(4),v=new Uint8Array(f),y=i;for(;y>0&&h<t.byteLength;){h+4>t.byteLength&&u(1),p[0]=t[h++],p[1]=t[h++],p[2]=t[h++],p[3]=t[h++],(2!=p[0]||2!=p[1]||(p[2]<<8|p[3])!=r)&&u(3,"bad rgbe scanline format");let i=0,x;for(;i<f&&h<t.byteLength;){let r=(x=t[h++])>128;if(r&&(x-=128),(0===x||i+x>f)&&u(3,"bad scanline data"),r){let r=t[h++];for(let t=0;t<x;t++)v[i++]=r}else v.set(t.subarray(h,h+x),i),i+=x,h+=x}for(let t=0;t<r;t++){let i=0;s[c]=v[t+i],i+=r,s[c+1]=v[t+i],i+=r,s[c+2]=v[t+i],i+=r,s[c+3]=v[t+i],c+=4}y--}return s}(h.subarray(h.pos),p,v);switch(this.type){case tV:let x=new Float32Array(4*(s=y.length/4));for(let t=0;t<s;t++)!function(t,r,i,s){let u=Math.pow(2,t[r+3]-128)/255;i[s+0]=t[r+0]*u,i[s+1]=t[r+1]*u,i[s+2]=t[r+2]*u,i[s+3]=1}(y,4*t,x,4*t);r=x,i=tV;break;case tj:let _=new Uint16Array(4*(s=y.length/4));for(let t=0;t<s;t++)!function(t,r,i,s){let u=Math.pow(2,t[r+3]-128)/255;i[s+0]=aD.toHalfFloat(Math.min(t[r+0]*u,65504)),i[s+1]=aD.toHalfFloat(Math.min(t[r+1]*u,65504)),i[s+2]=aD.toHalfFloat(Math.min(t[r+2]*u,65504)),i[s+3]=aD.toHalfFloat(1)}(y,4*t,_,4*t);r=_,i=tj;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:p,height:v,data:r,header:f.string,gamma:f.gamma,exposure:f.exposure,type:i}}setDataType(t){return this.type=t,this}load(t,r,i,s){return super.load(t,function(t,i){switch(t.type){case tV:case tj:"colorSpace"in t?t.colorSpace="srgb-linear":t.encoding=3e3,t.minFilter=tP,t.magFilter=tP,t.generateMipmaps=!1,t.flipY=!0}r&&r(t,i)},i,s)}}var gF=function(t,r,i,s,u){var c=new Worker(null[r]||(null[r]=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))));return c.onerror=function(t){return u(t.error,null)},c.onmessage=function(t){return u(null,t.data)},c.postMessage(i,s),c},gU=Uint8Array,gz=Uint16Array,gG=Uint32Array,gH=new gU([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gV=new gU([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gj=new gU([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gW=function(t,r){for(var i=new gz(31),s=0;s<31;++s)i[s]=r+=1<<t[s-1];for(var u=new gG(i[30]),s=1;s<30;++s)for(var c=i[s];c<i[s+1];++c)u[c]=c-i[s]<<5|s;return[i,u]},gX=gW(gH,2),gY=gX[0],gZ=gX[1];gY[28]=258,gZ[258]=28;for(var gK=gW(gV,0),gJ=gK[0],gQ=gK[1],gq=new gz(32768),g$=0;g$<32768;++g$){var g0=(43690&g$)>>>1|(21845&g$)<<1;g0=(61680&(g0=(52428&g0)>>>2|(13107&g0)<<2))>>>4|(3855&g0)<<4,gq[g$]=((65280&g0)>>>8|(255&g0)<<8)>>>1}for(var g1=function(t,r,i){for(var s,u=t.length,c=0,h=new gz(r);c<u;++c)++h[t[c]-1];var f=new gz(r);for(c=0;c<r;++c)f[c]=f[c-1]+h[c-1]<<1;if(i){s=new gz(1<<r);var p=15-r;for(c=0;c<u;++c)if(t[c]){for(var v=c<<4|t[c],y=r-t[c],x=f[t[c]-1]++<<y,_=x|(1<<y)-1;x<=_;++x)s[gq[x]>>>p]=v}}else for(c=0,s=new gz(u);c<u;++c)t[c]&&(s[c]=gq[f[t[c]-1]++]>>>15-t[c]);return s},g2=new gU(288),g$=0;g$<144;++g$)g2[g$]=8;for(var g$=144;g$<256;++g$)g2[g$]=9;for(var g$=256;g$<280;++g$)g2[g$]=7;for(var g$=280;g$<288;++g$)g2[g$]=8;for(var g3=new gU(32),g$=0;g$<32;++g$)g3[g$]=5;var g5=g1(g2,9,1),g4=g1(g3,5,1),g9=function(t){for(var r=t[0],i=1;i<t.length;++i)t[i]>r&&(r=t[i]);return r},g8=function(t,r,i){var s=r/8|0;return(t[s]|t[s+1]<<8)>>(7&r)&i},g6=function(t,r){var i=r/8|0;return(t[i]|t[i+1]<<8|t[i+2]<<16)>>(7&r)},g7=function(t){return(t/8|0)+(7&t&&1)},me=function(t,r,i){(null==r||r<0)&&(r=0),(null==i||i>t.length)&&(i=t.length);var s=new(t instanceof gz?gz:t instanceof gG?gG:gU)(i-r);return s.set(t.subarray(r,i)),s},mt=function(t,r,i){var s=t.length;if(!s||i&&!i.l&&s<5)return r||new gU(0);var u=!r||i,c=!i||i.i;!i&&(i={}),!r&&(r=new gU(3*s));var h=function(t){var i=r.length;if(t>i){var s=new gU(Math.max(2*i,t));s.set(r),r=s}},f=i.f||0,p=i.p||0,v=i.b||0,y=i.l,x=i.d,_=i.m,b=i.n,w=8*s;do{if(!y){i.f=f=g8(t,p,1);var S=g8(t,p+1,3);if(p+=3,S){if(1==S)y=g5,x=g4,_=9,b=5;else if(2==S){var A=g8(t,p,31)+257,M=g8(t,p+10,15)+4,C=A+g8(t,p+5,31)+1;p+=14;for(var T=new gU(C),I=new gU(19),D=0;D<M;++D)I[gj[D]]=g8(t,p+3*D,7);p+=3*M;for(var R=g9(I),P=(1<<R)-1,L=g1(I,R,1),D=0;D<C;){var B=L[g8(t,p,P)];p+=15&B;var k=B>>>4;if(k<16)T[D++]=k;else{var O=0,N=0;for(16==k?(N=3+g8(t,p,3),p+=2,O=T[D-1]):17==k?(N=3+g8(t,p,7),p+=3):18==k&&(N=11+g8(t,p,127),p+=7);N--;)T[D++]=O}}var F=T.subarray(0,A),U=T.subarray(A);_=g9(F),b=g9(U),y=g1(F,_,1),x=g1(U,b,1)}else throw"invalid block type"}else{var k=g7(p)+4,z=t[k-4]|t[k-3]<<8,G=k+z;if(G>s){if(c)throw"unexpected EOF";break}u&&h(v+z),r.set(t.subarray(k,G),v),i.b=v+=z,i.p=p=8*G;continue}if(p>w){if(c)throw"unexpected EOF";break}}u&&h(v+131072);for(var H=(1<<_)-1,V=(1<<b)-1,j=p;;j=p){var O=y[g6(t,p)&H],W=O>>>4;if((p+=15&O)>w){if(c)throw"unexpected EOF";break}if(!O)throw"invalid length/literal";if(W<256)r[v++]=W;else if(256==W){j=p,y=null;break}else{var X=W-254;if(W>264){var D=W-257,Y=gH[D];X=g8(t,p,(1<<Y)-1)+gY[D],p+=Y}var Z=x[g6(t,p)&V],K=Z>>>4;if(!Z)throw"invalid distance";p+=15&Z;var U=gJ[K];if(K>3){var Y=gV[K];U+=g6(t,p)&(1<<Y)-1,p+=Y}if(p>w){if(c)throw"unexpected EOF";break}u&&h(v+131072);for(var J=v+X;v<J;v+=4)r[v]=r[v-U],r[v+1]=r[v+1-U],r[v+2]=r[v+2-U],r[v+3]=r[v+3-U];v=J}}i.l=y,i.p=j,i.b=v,y&&(f=1,i.m=_,i.d=x,i.n=b)}while(!f);return v==r.length?r:me(r,0,v)},mn=function(t,r,i){i<<=7&r;var s=r/8|0;t[s]|=i,t[s+1]|=i>>>8},mr=function(t,r,i){i<<=7&r;var s=r/8|0;t[s]|=i,t[s+1]|=i>>>8,t[s+2]|=i>>>16},mi=function(t,r){for(var i=[],s=0;s<t.length;++s)t[s]&&i.push({s:s,f:t[s]});var u=i.length,c=i.slice();if(!u)return[mh,0];if(1==u){var h=new gU(i[0].s+1);return h[i[0].s]=1,[h,1]}i.sort(function(t,r){return t.f-r.f}),i.push({s:-1,f:25001});var f=i[0],p=i[1],v=0,y=1,x=2;for(i[0]={s:-1,f:f.f+p.f,l:f,r:p};y!=u-1;)f=i[i[v].f<i[x].f?v++:x++],p=i[v!=y&&i[v].f<i[x].f?v++:x++],i[y++]={s:-1,f:f.f+p.f,l:f,r:p};for(var _=c[0].s,s=1;s<u;++s)c[s].s>_&&(_=c[s].s);var b=new gz(_+1),w=ma(i[y-1],b,0);if(w>r){var s=0,S=0,A=w-r,M=1<<A;for(c.sort(function(t,r){return b[r.s]-b[t.s]||t.f-r.f});s<u;++s){var C=c[s].s;if(b[C]>r)S+=M-(1<<w-b[C]),b[C]=r;else break}for(S>>>=A;S>0;){var T=c[s].s;b[T]<r?S-=1<<r-b[T]++-1:++s}for(;s>=0&&S;--s){var I=c[s].s;b[I]==r&&(--b[I],++S)}w=r}return[new gU(b),w]},ma=function(t,r,i){return -1==t.s?Math.max(ma(t.l,r,i+1),ma(t.r,r,i+1)):r[t.s]=i},mo=function(t){for(var r=t.length;r&&!t[--r];);for(var i=new gz(++r),s=0,u=t[0],c=1,h=function(t){i[s++]=t},f=1;f<=r;++f)if(t[f]==u&&f!=r)++c;else{if(!u&&c>2){for(;c>138;c-=138)h(32754);c>2&&(h(c>10?c-11<<5|28690:c-3<<5|12305),c=0)}else if(c>3){for(h(u),--c;c>6;c-=6)h(8304);c>2&&(h(c-3<<5|8208),c=0)}for(;c--;)h(u);c=1,u=t[f]}return[i.subarray(0,s),r]},ms=function(t,r){for(var i=0,s=0;s<r.length;++s)i+=t[s]*r[s];return i},ml=function(t,r,i){var s=i.length,u=g7(r+2);t[u]=255&s,t[u+1]=s>>>8,t[u+2]=255^t[u],t[u+3]=255^t[u+1];for(var c=0;c<s;++c)t[u+c+4]=i[c];return(u+4+s)*8},mu=function(t,r,i,s,u,c,h,f,p,v,y){mn(r,y++,i),++u[256];for(var x,_,b,w,S=mi(u,15),A=S[0],M=S[1],C=mi(c,15),T=C[0],I=C[1],D=mo(A),R=D[0],P=D[1],L=mo(T),B=L[0],k=L[1],O=new gz(19),N=0;N<R.length;++N)O[31&R[N]]++;for(var N=0;N<B.length;++N)O[31&B[N]]++;for(var F=mi(O,7),U=F[0],z=F[1],G=19;G>4&&!U[gj[G-1]];--G);var H=v+5<<3,V=ms(u,g2)+ms(c,g3)+h,j=ms(u,A)+ms(c,T)+h+14+3*G+ms(O,U)+(2*O[16]+3*O[17]+7*O[18]);if(H<=V&&H<=j)return ml(r,y,t.subarray(p,p+v));if(mn(r,y,1+(j<V)),y+=2,j<V){x=g1(A,M,0),_=A,b=g1(T,I,0),w=T;var W=g1(U,z,0);mn(r,y,P-257),mn(r,y+5,k-1),mn(r,y+10,G-4),y+=14;for(var N=0;N<G;++N)mn(r,y+3*N,U[gj[N]]);y+=3*G;for(var X=[R,B],Y=0;Y<2;++Y){for(var Z=X[Y],N=0;N<Z.length;++N){var K=31&Z[N];mn(r,y,W[K]),y+=U[K],K>15&&(mn(r,y,Z[N]>>>5&127),y+=Z[N]>>>12)}}}else x=null,_=g2,b=null,w=g3;for(var N=0;N<f;++N)if(s[N]>255){var K=s[N]>>>18&31;mr(r,y,x[K+257]),y+=_[K+257],K>7&&(mn(r,y,s[N]>>>23&31),y+=gH[K]);var J=31&s[N];mr(r,y,b[J]),y+=w[J],J>3&&(mr(r,y,s[N]>>>5&8191),y+=gV[J])}else mr(r,y,x[s[N]]),y+=_[s[N]];return mr(r,y,x[256]),y+_[256]},mc=new gG([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mh=new gU(0),md=function(t,r,i,s,u,c){var h=t.length,f=new gU(s+h+5*(1+Math.ceil(h/7e3))+u),p=f.subarray(s,f.length-u),v=0;if(!r||h<8)for(var y=0;y<=h;y+=65535){var x=y+65535;x<h?v=ml(p,v,t.subarray(y,x)):(p[y]=c,v=ml(p,v,t.subarray(y,h)))}else{for(var _=mc[r-1],b=_>>>13,w=8191&_,S=(1<<i)-1,A=new gz(32768),M=new gz(S+1),C=Math.ceil(i/3),T=2*C,I=function(r){return(t[r]^t[r+1]<<C^t[r+2]<<T)&S},D=new gG(25e3),R=new gz(288),P=new gz(32),L=0,B=0,y=0,k=0,O=0,N=0;y<h;++y){var F=I(y),U=32767&y,z=M[F];if(A[U]=z,M[F]=U,O<=y){var G=h-y;if((L>7e3||k>24576)&&G>423){v=mu(t,p,0,D,R,P,B,k,N,y-N,v),k=L=B=0,N=y;for(var H=0;H<286;++H)R[H]=0;for(var H=0;H<30;++H)P[H]=0}var V=2,j=0,W=w,X=U-z&32767;if(G>2&&F==I(y-X)){for(var Y=Math.min(b,G)-1,Z=Math.min(32767,y),K=Math.min(258,G);X<=Z&&--W&&U!=z;){if(t[y+V]==t[y+V-X]){for(var J=0;J<K&&t[y+J]==t[y+J-X];++J);if(J>V){if(V=J,j=X,J>Y)break;for(var Q=Math.min(X,J-2),q=0,H=0;H<Q;++H){var $=y-X+H+32768&32767,ee=A[$],et=$-ee+32768&32767;et>q&&(q=et,z=$)}}}z=A[U=z],X+=U-z+32768&32767}}if(j){D[k++]=0x10000000|gZ[V]<<18|gQ[j];var en=31&gZ[V],er=31&gQ[j];B+=gH[en]+gV[er],++R[257+en],++P[er],O=y+V,++L}else D[k++]=t[y],++R[t[y]]}}v=mu(t,p,c,D,R,P,B,k,N,y-N,v),!c&&7&v&&(v=ml(p,v+1,mh))}return me(f,0,s+g7(v)+u)},mf=function(){var t=-1;return{p:function(r){for(var i=t,s=0;s<r.length;++s)i=null[255&i^r[s]]^i>>>8;t=i},d:function(){return~t}}},mp=function(){var t=1,r=0;return{p:function(i){for(var s=t,u=r,c=i.length,h=0;h!=c;){for(var f=Math.min(h+2655,c);h<f;++h)u+=s+=i[h];s=(65535&s)+15*(s>>16),u=(65535&u)+15*(u>>16)}t=s,r=u},d:function(){return t%=65521,r%=65521,(255&t)<<24|t>>>8<<16|(255&r)<<8|r>>>8}}},mg=function(t,r,i,s,u){return md(t,null==r.level?6:r.level,null==r.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+r.mem,i,s,!u)},mm=function(t,r){var i={};for(var s in t)i[s]=t[s];for(var s in r)i[s]=r[s];return i},mv=function(t,r,i){for(var s=t(),u=t.toString(),c=u.slice(u.indexOf("[")+1,u.lastIndexOf("]")).replace(/ /g,"").split(","),h=0;h<s.length;++h){var f=s[h],p=c[h];if("function"==typeof f){r+=";"+p+"=";var v=f.toString();if(f.prototype){if(-1!=v.indexOf("[native code]")){var y=v.indexOf(" ",8)+1;r+=v.slice(y,v.indexOf("(",y))}else for(var x in r+=v,f.prototype)r+=";"+p+".prototype."+x+"="+f.prototype[x].toString()}else r+=v}else i[p]=f}return[r,i]},my=function(t){var r=[];for(var i in t)(t[i]instanceof gU||t[i]instanceof gz||t[i]instanceof gG)&&r.push((t[i]=new t[i].constructor(t[i])).buffer);return r},mx=function(t,r,i,s){if(!null[i]){for(var u,c="",h={},f=t.length-1,p=0;p<f;++p)c=(u=mv(t[p],c,h))[0],h=u[1];null[i]=mv(t[f],c,h)}var v=mm({},null[i][1]);return gF(null[i][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+r.toString()+"}",i,v,my(v),s)},m_=function(){return[gU,gz,gG,gH,gV,gj,gY,gJ,g5,g4,gq,g1,g9,g8,g6,g7,me,mt,mG,mC,mT]},mb=function(){return[gU,gz,gG,gH,gV,gj,gZ,gQ,null,g2,null,g3,gq,mc,mh,g1,mn,mr,mi,ma,mo,ms,ml,mu,g7,me,md,mg,mU,mC]},mw=function(){return[mL,mO,mP,mf,null]},mS=function(){return[mB,mk]},mA=function(){return[mN,mP,mp]},mM=function(){return[mF]},mC=function(t){return postMessage(t,[t.buffer])},mT=function(t){return t&&t.size&&new gU(t.size)},mE=function(t,r,i,s,u,c){var h=mx(i,s,u,function(t,r){h.terminate(),c(t,r)});return h.postMessage([t,r],r.consume?[t.buffer]:[]),function(){h.terminate()}},mI=function(t,r){return t[r]|t[r+1]<<8},mD=function(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16|t[r+3]<<24)>>>0},mR=function(t,r){return mD(t,r)+0x100000000*mD(t,r+4)},mP=function(t,r,i){for(;i;++r)t[r]=i,i>>>=8},mL=function(t,r){var i=r.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=r.level<2?4:9==r.level?2:0,t[9]=3,0!=r.mtime&&mP(t,4,Math.floor(new Date(r.mtime||Date.now())/1e3)),i){t[3]=8;for(var s=0;s<=i.length;++s)t[s+10]=i.charCodeAt(s)}},mB=function(t){if(31!=t[0]||139!=t[1]||8!=t[2])throw"invalid gzip data";var r=t[3],i=10;4&r&&(i+=t[10]|(t[11]<<8)+2);for(var s=(r>>3&1)+(r>>4&1);s>0;s-=!t[i++]);return i+(2&r)},mk=function(t){var r=t.length;return(t[r-4]|t[r-3]<<8|t[r-2]<<16|t[r-1]<<24)>>>0},mO=function(t){return 10+(t.filename&&t.filename.length+1||0)},mN=function(t,r){var i=r.level,s=0==i?0:i<6?1:9==i?3:2;t[0]=120,t[1]=s<<6|(s?32-2*s:1)},mF=function(t){if((15&t[0])!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(32&t[1])throw"invalid zlib data: preset dictionaries not supported"};function mU(t,r){return mg(t,r||{},0,0)}function mz(t,r,i){if(!i&&(i=r,r={}),"function"!=typeof i)throw"no callback";return mE(t,r,[m_],function(t){return mC(function(t,r){return mt(t,r)}(t.data[0],mT(t.data[1])))},1,i)}function mG(t,r){return mt(t,r)}function mH(t,r){!r&&(r={});var i=mf(),s=t.length;i.p(t);var u=mg(t,r,mO(r),8),c=u.length;return mL(u,r),mP(u,c-8,i.d()),mP(u,c-4,s),u}function mV(t,r){return mt(t.subarray(mB(t),-8),r||new gU(mk(t)))}function mj(t,r){!r&&(r={});var i=mp();i.p(t);var s=mg(t,r,2,4);return mN(s,r),mP(s,s.length-4,i.d()),s}function mW(t,r){return mt((mF(t),t.subarray(2,-4)),r)}var mX=function(t,r,i,s){for(var u in t){var c=t[u],h=r+u;c instanceof gU?i[h]=[c,s]:Array.isArray(c)?i[h]=[c[0],mm(s,c[1])]:mX(c,h+"/",i,s)}},mY="undefined"!=typeof TextEncoder&&new TextEncoder,mZ="undefined"!=typeof TextDecoder&&new TextDecoder,mK=0;try{mZ.decode(mh,{stream:!0})}catch(t){}var mJ=function(t){for(var r="",i=0;;){var s=t[i++],u=(s>127)+(s>223)+(s>239);if(i+u>t.length)return[r,me(t,i-1)];u?3==u?r+=String.fromCharCode(55296|(s=((15&s)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536)>>10,56320|1023&s):1&u?r+=String.fromCharCode((31&s)<<6|63&t[i++]):r+=String.fromCharCode((15&s)<<12|(63&t[i++])<<6|63&t[i++]):r+=String.fromCharCode(s)}};function mQ(t,r){if(r){for(var i=new gU(t.length),s=0;s<t.length;++s)i[s]=t.charCodeAt(s);return i}if(mY)return mY.encode(t);for(var u=t.length,c=new gU(t.length+(t.length>>1)),h=0,f=function(t){c[h++]=t},s=0;s<u;++s){if(h+5>c.length){var p=new gU(h+8+(u-s<<1));p.set(c),c=p}var v=t.charCodeAt(s);v<128||r?f(v):(v<2048?f(192|v>>6):(v>55295&&v<57344?(f(240|(v=65536+(1047552&v)|1023&t.charCodeAt(++s))>>18),f(128|v>>12&63)):f(224|v>>12),f(128|v>>6&63)),f(128|63&v))}return me(c,0,h)}var mq=function(t,r){return r+30+mI(t,r+26)+mI(t,r+28)},m$=function(t,r,i){var s=mI(t,r+28),u=function(t,r){if(r){for(var i="",s=0;s<t.length;s+=16384)i+=String.fromCharCode.apply(null,t.subarray(s,s+16384));return i}if(mZ)return mZ.decode(t);var u=mJ(t),c=u[0];if(u[1].length)throw"invalid utf-8 data";return c}(t.subarray(r+46,r+46+s),!(2048&mI(t,r+8))),c=r+46+s,h=mD(t,r+20),f=i&&0xffffffff==h?m0(t,c):[h,mD(t,r+24),mD(t,r+42)],p=f[0],v=f[1],y=f[2];return[mI(t,r+10),p,v,u,c+mI(t,r+30)+mI(t,r+32),y]},m0=function(t,r){for(;1!=mI(t,r);r+=4+mI(t,r+2));return[mR(t,r+12),mR(t,r+4),mR(t,r+20)]},m1=function(t){var r=0;if(t)for(var i in t){var s=t[i].length;if(s>65535)throw"extra field too long";r+=s+4}return r},m2=function(t,r,i,s,u,c,h,f){var p=s.length,v=i.extra,y=f&&f.length,x=m1(v);mP(t,r,null!=h?0x2014b50:0x4034b50),r+=4,null!=h&&(t[r++]=20,t[r++]=i.os),t[r]=20,r+=2,t[r++]=i.flag<<1|(null==c&&8),t[r++]=u&&8,t[r++]=255&i.compression,t[r++]=i.compression>>8;var _=new Date(null==i.mtime?Date.now():i.mtime),b=_.getFullYear()-1980;if(b<0||b>119)throw"date not in range 1980-2099";if(mP(t,r,b<<25|_.getMonth()+1<<21|_.getDate()<<16|_.getHours()<<11|_.getMinutes()<<5|_.getSeconds()>>>1),r+=4,null!=c&&(mP(t,r,i.crc),mP(t,r+4,c),mP(t,r+8,i.size)),mP(t,r+12,p),mP(t,r+14,x),r+=16,null!=h&&(mP(t,r,y),mP(t,r+6,i.attrs),mP(t,r+10,h),r+=14),t.set(s,r),r+=p,x)for(var w in v){var S=v[w],A=S.length;mP(t,r,+w),mP(t,r+2,A),t.set(S,r+4),r+=4+A}return y&&(t.set(f,r),r+=y),r},m3=function(t,r,i,s,u){mP(t,r,0x6054b50),mP(t,r+8,i),mP(t,r+10,i),mP(t,r+12,s),mP(t,r+16,u)};let m5="colorSpace"in new r7;class m4 extends h${constructor(t){super(t),this.type=tj}parse(t){let r=8192,i=65537,s=16384,u=16383,c=32768,h=65535,f=6,p={l:0,c:0,lc:0};function v(t,r,i,s,u){for(;i<t;)r=r<<8|j(s,u),i+=8;i-=t,p.l=r>>i&(1<<t)-1,p.c=r,p.lc=i}let y=Array(59);function x(t){return 63&t}function _(t){return t>>6}let b={c:0,lc:0};function w(t,r,i,s){t=t<<8|j(i,s),r+=8,b.c=t,b.lc=r}let S={c:0,lc:0};function A(t,r,i,s,u,c,h,f,p,v){if(t==r){s<8&&(w(i,s,u,h),i=b.c,s=b.lc);var y=i>>(s-=8),y=new Uint8Array([y])[0];if(p.value+y>v)return!1;for(var x=f[p.value-1];y-- >0;)f[p.value++]=x}else{if(!(p.value<v))return!1;f[p.value++]=t}S.c=i,S.lc=s}function M(t){return 65535&t}function C(t){var r=65535&t;return r>32767?r-65536:r}let T={a:0,b:0};function I(t,r){var i=C(t),s=C(r),u=i+(1&s)+(s>>1),c=u-s;T.a=u,T.b=c}function D(t,r){var i=65535&r,s=(65535&t)-(i>>1)&h;T.a=i+s-c&h,T.b=s}function R(t,r,c,h,x,_){var M=c.value,C=V(r,c),T=V(r,c);c.value+=4;var I=V(r,c);if(c.value+=4,C<0||C>=i||T<0||T>=i)throw"Something wrong with HUF_ENCSIZE";var D=Array(i),R=Array(s);!function(t){for(var r=0;r<s;r++)t[r]={},t[r].len=0,t[r].lit=0,t[r].p=null}(R);var P=h-(c.value-M);if(!function(t,r,s,u,c,h,x){for(var _=0,b=0;c<=h;c++){if(s.value-s.value>u)return!1;v(6,_,b,t,s);var w=p.l;if(_=p.c,b=p.lc,x[c]=w,63==w){if(s.value-s.value>u)throw"Something wrong with hufUnpackEncTable";v(8,_,b,t,s);var S=p.l+f;if(_=p.c,b=p.lc,c+S>h+1)throw"Something wrong with hufUnpackEncTable";for(;S--;)x[c++]=0;c--}else if(w>=59){var S=w-59+2;if(c+S>h+1)throw"Something wrong with hufUnpackEncTable";for(;S--;)x[c++]=0;c--}}!function(t){for(var r=0;r<=58;++r)y[r]=0;for(var r=0;r<i;++r)y[t[r]]+=1;for(var s=0,r=58;r>0;--r){var u=s+y[r]>>1;y[r]=s,s=u}for(var r=0;r<i;++r){var c=t[r];c>0&&(t[r]=c|y[c]++<<6)}}(x)}(t,0,c,P,C,T,D),I>8*(h-(c.value-M)))throw"Something wrong with hufUncompress";!function(t,r,i,s){for(;r<=i;r++){var u=t[r]>>6,c=63&t[r];if(u>>c)throw"Invalid table entry";if(c>14){var h=s[u>>c-14];if(h.len)throw"Invalid table entry";if(h.lit++,h.p){var f=h.p;h.p=Array(h.lit);for(var p=0;p<h.lit-1;++p)h.p[p]=f[p]}else h.p=[,];h.p[h.lit-1]=r}else if(c){for(var v=0,p=1<<14-c;p>0;p--){var h=s[(u<<14-c)+v];if(h.len||h.p)throw"Invalid table entry";h.len=c,h.lit=r,v++}}};}(D,C,T,R),!function(t,r,i,s,c,h,f,p,v,y){for(var x=0,_=0,M=Math.trunc(c.value+(h+7)/8);c.value<M;)for(w(x,_,i,c),x=b.c,_=b.lc;_>=14;){var C=r[x>>_-14&u];if(C.len)_-=C.len,A(C.lit,f,x,_,i,s,c,v,y,p),x=S.c,_=S.lc;else{if(!C.p)throw"hufDecode issues";for(T=0;T<C.lit;T++){for(var T,I=63&t[C.p[T]];_<I&&c.value<M;)w(x,_,i,c),x=b.c,_=b.lc;if(_>=I){if(t[C.p[T]]>>6==(x>>_-I&(1<<I)-1)){_-=I,A(C.p[T],f,x,_,i,s,c,v,y,p),x=S.c,_=S.lc;break}}}if(T==C.lit)throw"hufDecode issues"}}var D=8-h&7;for(x>>=D,_-=D;_>0;){var C=r[x<<14-_&u];if(C.len)_-=C.len,A(C.lit,f,x,_,i,s,c,v,y,p),x=S.c,_=S.lc;else throw"hufDecode issues"};}(D,R,t,r,c,I,T,_,x,{value:0})}function P(t){for(var r=1;r<t.length;r++){var i=t[r-1]+t[r]-128;t[r]=i}}function L(t,r){for(var i=0,s=Math.floor((t.length+1)/2),u=0,c=t.length-1;!(u>c);){;if(r[u++]=t[i++],u>c)break;r[u++]=t[s++]}}function B(t){for(var r=t.byteLength,i=[],s=0,u=new DataView(t);r>0;){var c=u.getInt8(s++);if(c<0){var h=-c;r-=h+1;for(var f=0;f<h;f++)i.push(u.getUint8(s++))}else{var h=c;r-=2;for(var p=u.getUint8(s++),f=0;f<h+1;f++)i.push(p)}}return i}function k(t){return new DataView(t.array.buffer,t.offset.value,t.size)}function O(t){var r=new Uint8Array(B(t.viewer.buffer.slice(t.offset.value,t.offset.value+t.size))),i=new Uint8Array(r.length);return P(r),L(r,i),new DataView(i.buffer)}function N(t){var r=mW(t.array.slice(t.offset.value,t.offset.value+t.size)),i=new Uint8Array(r.length);return P(r),L(r,i),new DataView(i.buffer)}function F(t){for(var i=t.viewer,s={value:t.offset.value},u=new Uint16Array(t.width*t.scanlineBlockSize*(t.channels*t.type)),c=new Uint8Array(r),h=0,f=Array(t.channels),p=0;p<t.channels;p++)f[p]={},f[p].start=h,f[p].end=f[p].start,f[p].nx=t.width,f[p].ny=t.lines,f[p].size=t.type,h+=f[p].nx*f[p].ny*f[p].size;var v=J(i,s),y=J(i,s);if(y>=r)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(v<=y)for(var p=0;p<y-v+1;p++)c[p+v]=W(i,s);var x=new Uint16Array(65536),_=function(t,r){for(var i=0,s=0;s<65536;++s)(0==s||t[s>>3]&1<<(7&s))&&(r[i++]=s);for(var u=i-1;i<65536;)r[i++]=0;return u}(c,x),b=V(i,s);R(t.array,i,s,b,u,h);for(var p=0;p<t.channels;++p){for(var w=f[p],S=0;S<f[p].size;++S)!function(t,r,i,s,u,c,h){for(var f=h<16384,p=i>u?u:i,v=1;v<=p;)v<<=1;for(v>>=1,y=v,v>>=1;v>=1;){for(var y,x,_,b,w,S=0,A=0+c*(u-y),M=c*v,C=c*y,R=s*v,P=s*y;S<=A;S+=C){for(var L=S,B=S+s*(i-y);L<=B;L+=P){var k=L+R,O=L+M,N=O+R;f?(I(t[L+r],t[O+r]),x=T.a,b=T.b,I(t[k+r],t[N+r]),_=T.a,w=T.b,I(x,_),t[L+r]=T.a,t[k+r]=T.b,I(b,w)):(D(t[L+r],t[O+r]),x=T.a,b=T.b,D(t[k+r],t[N+r]),_=T.a,w=T.b,D(x,_),t[L+r]=T.a,t[k+r]=T.b,D(b,w)),t[O+r]=T.a,t[N+r]=T.b}if(i&v){var O=L+M;f?I(t[L+r],t[O+r]):D(t[L+r],t[O+r]),x=T.a,t[O+r]=T.b,t[L+r]=x}}if(u&v){for(var L=S,B=S+s*(i-y);L<=B;L+=P){var k=L+R;f?I(t[L+r],t[k+r]):D(t[L+r],t[k+r]),x=T.a,t[k+r]=T.b,t[L+r]=x}}y=v,v>>=1};}(u,w.start+S,w.nx,w.size,w.ny,w.nx*w.size,_)}!function(t,r,i){for(var s=0;s<i;++s)r[s]=t[r[s]]}(x,u,h);for(var A=0,M=new Uint8Array(u.buffer.byteLength),C=0;C<t.lines;C++)for(var P=0;P<t.channels;P++){var w=f[P],L=w.nx*w.size,B=new Uint8Array(u.buffer,2*w.end,2*L);M.set(B,A),A+=2*L,w.end+=L}return new DataView(M.buffer)}function U(t){var r=mW(t.array.slice(t.offset.value,t.offset.value+t.size));let i=t.lines*t.channels*t.width,s=1==t.type?new Uint16Array(i):new Uint32Array(i),u=0,c=0,h=[,,,,];for(let i=0;i<t.lines;i++)for(let i=0;i<t.channels;i++){let i=0;switch(t.type){case 1:h[0]=u,h[1]=h[0]+t.width,u=h[1]+t.width;for(let u=0;u<t.width;++u)i+=r[h[0]++]<<8|r[h[1]++],s[c]=i,c++;break;case 2:h[0]=u,h[1]=h[0]+t.width,h[2]=h[1]+t.width,u=h[2]+t.width;for(let u=0;u<t.width;++u)i+=r[h[0]++]<<24|r[h[1]++]<<16|r[h[2]++]<<8,s[c]=i,c++}}return new DataView(s.buffer)}function z(t){var r=t.viewer,i={value:t.offset.value},s=new Uint8Array(t.width*t.lines*(t.channels*t.type*2)),u={version:X(r,i),unknownUncompressedSize:X(r,i),unknownCompressedSize:X(r,i),acCompressedSize:X(r,i),dcCompressedSize:X(r,i),rleCompressedSize:X(r,i),rleUncompressedSize:X(r,i),rleRawSize:X(r,i),totalAcUncompressedCount:X(r,i),totalDcUncompressedCount:X(r,i),acCompression:X(r,i)};if(u.version<2)throw"EXRLoader.parse: "+et.compression+" version "+u.version+" is unsupported";for(var c=[],h=J(r,i)-2;h>0;){var f=G(r.buffer,i),p=W(r,i),v=p>>2&3,y=new Int8Array([(p>>4)-1])[0],x=W(r,i);c.push({name:f,index:y,type:x,compression:v}),h-=f.length+3}for(var _=et.channels,b=Array(t.channels),w=0;w<t.channels;++w){var S=b[w]={},A=_[w];S.name=A.name,S.compression=0,S.decoded=!1,S.type=A.pixelType,S.pLinear=A.pLinear,S.width=t.width,S.height=t.lines}for(var M={idx:[,,,]},C=0;C<t.channels;++C){for(var S=b[C],w=0;w<c.length;++w){var T=c[w];S.name==T.name&&(S.compression=T.compression,T.index>=0&&(M.idx[T.index]=C),S.offset=C)}}if(u.acCompressedSize>0)switch(u.acCompression){case 0:var I=new Uint16Array(u.totalAcUncompressedCount);R(t.array,r,i,u.acCompressedSize,I,u.totalAcUncompressedCount);break;case 1:var D=t.array.slice(i.value,i.value+u.totalAcUncompressedCount),P=mW(D),I=new Uint16Array(P.buffer);i.value+=u.totalAcUncompressedCount}if(u.dcCompressedSize>0){var L=new Uint16Array(N({array:t.array,offset:i,size:u.dcCompressedSize}).buffer);i.value+=u.dcCompressedSize}if(u.rleRawSize>0){var D=t.array.slice(i.value,i.value+u.rleCompressedSize),P=mW(D),k=B(P.buffer);i.value+=u.rleCompressedSize}for(var O=0,F=Array(b.length),w=0;w<F.length;++w)F[w]=[];for(var U=0;U<t.lines;++U)for(var z=0;z<b.length;++z)F[z].push(O),O+=b[z].width*t.type*2;!function(t,r,i,s,u,c){var h=new DataView(c.buffer),f=i[t.idx[0]].width,p=i[t.idx[0]].height,v=Math.floor(f/8),y=Math.ceil(f/8),x=Math.ceil(p/8),_=f-(y-1)*8,b=p-(x-1)*8,w={value:0},S=[,,,],A=[,,,],M=[,,,],C=[,,,],T=[,,,];for(let i=0;i<3;++i)T[i]=r[t.idx[i]],S[i]=i<1?0:S[i-1]+y*x,A[i]=new Float32Array(64),M[i]=new Uint16Array(64),C[i]=new Uint16Array(64*y);for(let r=0;r<x;++r){var I=8;r==x-1&&(I=b);var D=8;for(let t=0;t<y;++t){t==y-1&&(D=_);for(let t=0;t<3;++t)M[t].fill(0),M[t][0]=u[S[t]++],function(t,r,i){for(var s,u=1;u<64;)65280==(s=r[t.value])?u=64:s>>8==255?u+=255&s:(i[u]=s,u++),t.value++}(w,s,M[t]),function(t,r){r[0]=K(t[0]),r[1]=K(t[1]),r[2]=K(t[5]),r[3]=K(t[6]),r[4]=K(t[14]),r[5]=K(t[15]),r[6]=K(t[27]),r[7]=K(t[28]),r[8]=K(t[2]),r[9]=K(t[4]),r[10]=K(t[7]),r[11]=K(t[13]),r[12]=K(t[16]),r[13]=K(t[26]),r[14]=K(t[29]),r[15]=K(t[42]),r[16]=K(t[3]),r[17]=K(t[8]),r[18]=K(t[12]),r[19]=K(t[17]),r[20]=K(t[25]),r[21]=K(t[30]),r[22]=K(t[41]),r[23]=K(t[43]),r[24]=K(t[9]),r[25]=K(t[11]),r[26]=K(t[18]),r[27]=K(t[24]),r[28]=K(t[31]),r[29]=K(t[40]),r[30]=K(t[44]),r[31]=K(t[53]),r[32]=K(t[10]),r[33]=K(t[19]),r[34]=K(t[23]),r[35]=K(t[32]),r[36]=K(t[39]),r[37]=K(t[45]),r[38]=K(t[52]),r[39]=K(t[54]),r[40]=K(t[20]),r[41]=K(t[22]),r[42]=K(t[33]),r[43]=K(t[38]),r[44]=K(t[46]),r[45]=K(t[51]),r[46]=K(t[55]),r[47]=K(t[60]),r[48]=K(t[21]),r[49]=K(t[34]),r[50]=K(t[37]),r[51]=K(t[47]),r[52]=K(t[50]),r[53]=K(t[56]),r[54]=K(t[59]),r[55]=K(t[61]),r[56]=K(t[35]),r[57]=K(t[36]),r[58]=K(t[48]),r[59]=K(t[49]),r[60]=K(t[57]),r[61]=K(t[58]),r[62]=K(t[62]),r[63]=K(t[63])}(M[t],A[t]),function(t){let r=.35355362513961314,i=.5*Math.cos(3.14159/16),s=.5*Math.cos(3.14159/8),u=.5*Math.cos(3*3.14159/16),c=.2777854612564676,h=.5*Math.cos(3*3.14159/8),f=.09754573032714427;for(var p=[,,,,],v=[,,,,],y=[,,,,],x=[,,,,],_=0;_<8;++_){var b=8*_;p[0]=s*t[b+2],p[1]=h*t[b+2],p[2]=s*t[b+6],p[3]=h*t[b+6],v[0]=i*t[b+1]+u*t[b+3]+c*t[b+5]+f*t[b+7],v[1]=u*t[b+1]-f*t[b+3]-i*t[b+5]-c*t[b+7],v[2]=c*t[b+1]-i*t[b+3]+f*t[b+5]+u*t[b+7],v[3]=f*t[b+1]-c*t[b+3]+u*t[b+5]-i*t[b+7],y[0]=r*(t[b+0]+t[b+4]),y[3]=r*(t[b+0]-t[b+4]),y[1]=p[0]+p[3],y[2]=p[1]-p[2],x[0]=y[0]+y[1],x[1]=y[3]+y[2],x[2]=y[3]-y[2],x[3]=y[0]-y[1],t[b+0]=x[0]+v[0],t[b+1]=x[1]+v[1],t[b+2]=x[2]+v[2],t[b+3]=x[3]+v[3],t[b+4]=x[3]-v[3],t[b+5]=x[2]-v[2],t[b+6]=x[1]-v[1],t[b+7]=x[0]-v[0]}for(var w=0;w<8;++w)p[0]=s*t[16+w],p[1]=h*t[16+w],p[2]=s*t[48+w],p[3]=h*t[48+w],v[0]=i*t[8+w]+u*t[24+w]+c*t[40+w]+f*t[56+w],v[1]=u*t[8+w]-f*t[24+w]-i*t[40+w]-c*t[56+w],v[2]=c*t[8+w]-i*t[24+w]+f*t[40+w]+u*t[56+w],v[3]=f*t[8+w]-c*t[24+w]+u*t[40+w]-i*t[56+w],y[0]=r*(t[w]+t[32+w]),y[3]=r*(t[w]-t[32+w]),y[1]=p[0]+p[3],y[2]=p[1]-p[2],x[0]=y[0]+y[1],x[1]=y[3]+y[2],x[2]=y[3]-y[2],x[3]=y[0]-y[1],t[0+w]=x[0]+v[0],t[8+w]=x[1]+v[1],t[16+w]=x[2]+v[2],t[24+w]=x[3]+v[3],t[32+w]=x[3]-v[3],t[40+w]=x[2]-v[2],t[48+w]=x[1]-v[1],t[56+w]=x[0]-v[0]}(A[t]);(function(t){for(var r=0;r<64;++r){var i=t[0][r],s=t[1][r],u=t[2][r];t[0][r]=i+1.5747*u,t[1][r]=i-.1873*s-.4682*u,t[2][r]=i+1.8556*s}})(A);for(let r=0;r<3;++r)(function(t,r,i){for(var s=0;s<64;++s)r[i+s]=aD.toHalfFloat(function(t){return t<=1?Math.sign(t)*Math.pow(Math.abs(t),2.2):Math.sign(t)*Math.pow(9.025013291561939,Math.abs(t)-1)}(t[s]))})(A[r],C[r],64*t)}let c=0;for(let s=0;s<3;++s){let u=i[t.idx[s]].type;for(let t=8*r;t<8*r+I;++t){c=T[s][t];for(let r=0;r<v;++r){let i=64*r+(7&t)*8;h.setUint16(c+0*u,C[s][i+0],!0),h.setUint16(c+2*u,C[s][i+1],!0),h.setUint16(c+4*u,C[s][i+2],!0),h.setUint16(c+6*u,C[s][i+3],!0),h.setUint16(c+8*u,C[s][i+4],!0),h.setUint16(c+10*u,C[s][i+5],!0),h.setUint16(c+12*u,C[s][i+6],!0),h.setUint16(c+14*u,C[s][i+7],!0),c+=16*u}}if(v!=y)for(let t=8*r;t<8*r+I;++t){let r=T[s][t]+8*v*2*u,i=64*v+(7&t)*8;for(let t=0;t<D;++t)h.setUint16(r+2*t*u,C[s][i+t],!0)}}}for(var R=new Uint16Array(f),h=new DataView(c.buffer),P=0;P<3;++P){i[t.idx[P]].decoded=!0;var L=i[t.idx[P]].type;if(2==i[P].type)for(var B=0;B<p;++B){let t=T[P][B];for(var k=0;k<f;++k)R[k]=h.getUint16(t+2*k*L,!0);for(var k=0;k<f;++k)h.setFloat32(t+2*k*L,K(R[k]),!0)}}}(M,F,b,I,L,s);for(var w=0;w<b.length;++w){var S=b[w];if(!S.decoded){if(2===S.compression){for(var H=0,V=0,U=0;U<t.lines;++U){for(var j=F[w][H],Y=0;Y<S.width;++Y){for(var Z=0;Z<2*S.type;++Z)s[j++]=k[V+Z*S.width*S.height];V++}H++}}else throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(s.buffer)}function G(t,r){for(var i=new Uint8Array(t),s=0;0!=i[r.value+s];)s+=1;var u=new TextDecoder().decode(i.slice(r.value,r.value+s));return r.value=r.value+s+1,u}function H(t,r){var i=t.getInt32(r.value,!0);return r.value=r.value+4,i}function V(t,r){var i=t.getUint32(r.value,!0);return r.value=r.value+4,i}function j(t,r){var i=t[r.value];return r.value=r.value+1,i}function W(t,r){var i=t.getUint8(r.value);return r.value=r.value+1,i}let X=function(t,r){let i;return"getBigInt64"in DataView.prototype?i=Number(t.getBigInt64(r.value,!0)):i=t.getUint32(r.value+4,!0)+Number(t.getUint32(r.value,!0)<<32),r.value+=8,i};function Y(t,r){var i=t.getFloat32(r.value,!0);return r.value+=4,i}function Z(t,r){return aD.toHalfFloat(Y(t,r))}function K(t){var r=(31744&t)>>10,i=1023&t;return(t>>15?-1:1)*(r?31===r?i?NaN:1/0:Math.pow(2,r-15)*(1+i/1024):i/1024*6103515625e-14)}function J(t,r){var i=t.getUint16(r.value,!0);return r.value+=2,i}function Q(t,r){return K(J(t,r))}let q=new DataView(t),$=new Uint8Array(t),ee={value:0},et=function(t,r,i){let s={};if(0x1312f76!=t.getUint32(0,!0))throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";s.version=t.getUint8(4);let u=t.getUint8(5);s.spec={singleTile:!!(2&u),longName:!!(4&u),deepFormat:!!(8&u),multiPart:!!(16&u)},i.value=8;for(var c=!0;c;){var h=G(r,i);if(0==h)c=!1;else{var f=G(r,i),p=V(t,i),v=function(t,r,i,s,u){var c,h,f,p,v,y,x,_,b,w,S,A,M,C,T,I,D,R,P,L,B,k,O,N;if("string"===s||"stringvector"===s||"iccProfile"===s){;return c=r,h=i,f=u,p=new TextDecoder().decode(new Uint8Array(c).slice(h.value,h.value+f)),h.value=h.value+f,p}if("chlist"===s)return function(t,r,i,s){for(var u=i.value,c=[];i.value<u+s-1;){var h=G(r,i),f=H(t,i),p=W(t,i);i.value+=3;var v=H(t,i),y=H(t,i);c.push({name:h,pixelType:f,pLinear:p,xSampling:v,ySampling:y})}return i.value+=1,c}(t,r,i,u);if("chromaticities"===s){;return x=Y(v=t,y=i),_=Y(v,y),b=Y(v,y),w=Y(v,y),S=Y(v,y),A=Y(v,y),{redX:x,redY:_,greenX:b,greenY:w,blueX:S,blueY:A,whiteX:Y(v,y),whiteY:Y(v,y)}}else if("compression"===s)return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][W(t,i)];else if("box2i"===s){;return T=V(M=t,C=i),I=V(M,C),{xMin:T,yMin:I,xMax:V(M,C),yMax:V(M,C)}}else if("lineOrder"===s)return["INCREASING_Y"][W(t,i)];else if("float"===s)return Y(t,i);else if("v2f"===s){;return[Y(D=t,R=i),Y(D,R)]}else if("v3f"===s){;return[Y(P=t,L=i),Y(P,L),Y(P,L)]}else if("int"===s)return H(t,i);else if("rational"===s){;return[H(B=t,k=i),V(B,k)]}else if("timecode"===s){;return[V(O=t,N=i),V(O,N)]}else{if("preview"===s)return i.value+=u,"skipped";i.value+=u;return}}(t,r,i,f,p);void 0===v||(s[h]=v)}}if((-5&u)!=0)throw"THREE.EXRLoader: provided file is currently unsupported.";return s}(q,t,ee),en=function(t,r,i,s,u){let c={size:0,viewer:r,array:i,offset:s,width:t.dataWindow.xMax-t.dataWindow.xMin+1,height:t.dataWindow.yMax-t.dataWindow.yMin+1,channels:t.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:t.channels[0].pixelType,uncompress:null,getter:null,format:null,[m5?"colorSpace":"encoding"]:null};switch(t.compression){case"NO_COMPRESSION":c.lines=1,c.uncompress=k;break;case"RLE_COMPRESSION":c.lines=1,c.uncompress=O;break;case"ZIPS_COMPRESSION":c.lines=1,c.uncompress=N;break;case"ZIP_COMPRESSION":c.lines=16,c.uncompress=N;break;case"PIZ_COMPRESSION":c.lines=32,c.uncompress=F;break;case"PXR24_COMPRESSION":c.lines=16,c.uncompress=U;break;case"DWAA_COMPRESSION":c.lines=32,c.uncompress=z;break;case"DWAB_COMPRESSION":c.lines=256,c.uncompress=z;break;default:throw"EXRLoader.parse: "+t.compression+" is unsupported"}if(c.scanlineBlockSize=c.lines,1==c.type)switch(u){case tV:c.getter=Q,c.inputSize=2;break;case tj:c.getter=J,c.inputSize=2}else if(2==c.type)switch(u){case tV:c.getter=Y,c.inputSize=4;break;case tj:c.getter=Z,c.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+c.type+" for "+t.compression+".";c.blockCount=(t.dataWindow.yMax+1)/c.scanlineBlockSize;for(var h=0;h<c.blockCount;h++)X(r,s);c.outputChannels=3==c.channels?4:c.channels;let f=c.width*c.height*c.outputChannels;switch(u){case tV:c.byteArray=new Float32Array(f),c.channels<c.outputChannels&&c.byteArray.fill(1,0,f);break;case tj:c.byteArray=new Uint16Array(f),c.channels<c.outputChannels&&c.byteArray.fill(15360,0,f)}return c.bytesPerLine=c.width*c.inputSize*c.channels,4==c.outputChannels?c.format=tQ:c.format=t2,m5?c.colorSpace="srgb-linear":c.encoding=3e3,c}(et,q,$,ee,this.type),er={value:0},ei={R:0,G:1,B:2,A:3,Y:0};for(let t=0;t<en.height/en.scanlineBlockSize;t++){let r=V(q,ee);en.size=V(q,ee),en.lines=r+en.scanlineBlockSize>en.height?en.height-r:en.scanlineBlockSize;let i=en.size<en.lines*en.bytesPerLine?en.uncompress(en):k(en);ee.value+=en.size;for(let r=0;r<en.scanlineBlockSize;r++){let s=r+t*en.scanlineBlockSize;if(s>=en.height)break;for(let t=0;t<en.channels;t++){let u=ei[et.channels[t].name];for(let c=0;c<en.width;c++){er.value=(r*(en.channels*en.width)+t*en.width+c)*en.inputSize;let h=(en.height-1-s)*(en.width*en.outputChannels)+c*en.outputChannels+u;en.byteArray[h]=en.getter(i,er)}}}}return{header:et,width:en.width,height:en.height,data:en.byteArray,format:en.format,[m5?"colorSpace":"encoding"]:en[m5?"colorSpace":"encoding"],type:this.type}}setDataType(t){return this.type=t,this}load(t,r,i,s){return super.load(t,function(t,i){m5?t.colorSpace=i.colorSpace:t.encoding=i.encoding,t.minFilter=tP,t.magFilter=tP,t.generateMipmaps=!1,t.flipY=!1,r&&r(t,i)},i,s)}}let m9=(t,r,i)=>{let s;switch(t){case tN:s=new Uint8ClampedArray(r*i*4);break;case tj:s=new Uint16Array(r*i*4);break;case tH:s=new Uint32Array(r*i*4);break;case tF:s=new Int8Array(r*i*4);break;case tU:s=new Int16Array(r*i*4);break;case tG:s=new Int32Array(r*i*4);break;case tV:s=new Float32Array(r*i*4);break;default:throw Error("Unsupported data type")}return s},m8=(t,r,i,s)=>{if(void 0!==H)return H;let u=new ir(1,1,s);r.setRenderTarget(u);let c=new a6(new oS,new aC({color:0xffffff}));r.render(c,i),r.setRenderTarget(null);let h=m9(t,u.width,u.height);return r.readRenderTargetPixels(u,0,0,u.width,u.height,h),u.dispose(),c.geometry.dispose(),c.material.dispose(),H=0!==h[0]};class m6{constructor(t){var r,i,s,u,c,h,f,p,v,y,x,_,b,w,S,A;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(t){throw this._renderer.setRenderTarget(null),t}this._renderer.setRenderTarget(null)},this._width=t.width,this._height=t.height,this._type=t.type,this._colorSpace=t.colorSpace;let M={format:tQ,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:(null===(r=t.renderTargetOptions)||void 0===r?void 0:r.anisotropy)!==void 0?null===(i=t.renderTargetOptions)||void 0===i?void 0:i.anisotropy:1,generateMipmaps:(null===(s=t.renderTargetOptions)||void 0===s?void 0:s.generateMipmaps)!==void 0&&(null===(u=t.renderTargetOptions)||void 0===u?void 0:u.generateMipmaps),magFilter:(null===(c=t.renderTargetOptions)||void 0===c?void 0:c.magFilter)!==void 0?null===(h=t.renderTargetOptions)||void 0===h?void 0:h.magFilter:tP,minFilter:(null===(f=t.renderTargetOptions)||void 0===f?void 0:f.minFilter)!==void 0?null===(p=t.renderTargetOptions)||void 0===p?void 0:p.minFilter:tP,samples:(null===(v=t.renderTargetOptions)||void 0===v?void 0:v.samples)!==void 0?null===(y=t.renderTargetOptions)||void 0===y?void 0:y.samples:void 0,wrapS:(null===(x=t.renderTargetOptions)||void 0===x?void 0:x.wrapS)!==void 0?null===(_=t.renderTargetOptions)||void 0===_?void 0:_.wrapS:tM,wrapT:(null===(b=t.renderTargetOptions)||void 0===b?void 0:b.wrapT)!==void 0?null===(w=t.renderTargetOptions)||void 0===w?void 0:w.wrapT:tM};if(this._material=t.material,t.renderer?this._renderer=t.renderer:(this._renderer=m6.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new lY,this._camera=new oO,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!m8(this._type,this._renderer,this._camera,M)){let t;if(this._type===tj)t=this._renderer.extensions.has("EXT_color_buffer_float")?tV:void 0;void 0!==t?this._type=t:this._supportsReadPixels=!1}this._quad=new a6(new oS,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new ir(this.width,this.height,M),this._renderTarget.texture.mapping=(null===(S=t.renderTargetOptions)||void 0===S?void 0:S.mapping)!==void 0?null===(A=t.renderTargetOptions)||void 0===A?void 0:A.mapping:ty}static instantiateRenderer(){let t=new lj;return t.setSize(128,128),t}toArray(){if(!this._supportsReadPixels)throw Error("Can't read pixels in this browser");let t=m9(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,t),t}toDataTexture(t){let r=new um(this.toArray(),this.width,this.height,tQ,this._type,(null==t?void 0:t.mapping)||ty,(null==t?void 0:t.wrapS)||tM,(null==t?void 0:t.wrapT)||tM,(null==t?void 0:t.magFilter)||tP,(null==t?void 0:t.minFilter)||tP,(null==t?void 0:t.anisotropy)||1,nq);return r.generateMipmaps=(null==t?void 0:t.generateMipmaps)!==void 0&&(null==t?void 0:t.generateMipmaps),r}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(t){this.disposeOnDemandRenderer(),t&&this.renderTarget.dispose(),this.material instanceof oa&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof r7&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof r7&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(t){this._width=t,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(t){this._height=t,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(t){this._renderTarget=t,this._width=t.width,this._height=t.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}let m7=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,ve=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class vt extends oa{constructor({gamma:t,offsetHdr:r,offsetSdr:i,gainMapMin:s,gainMapMax:u,maxDisplayBoost:c,hdrCapacityMin:h,hdrCapacityMax:f,sdr:p,gainMap:v}){super({name:"GainMapDecoderMaterial",vertexShader:m7,fragmentShader:ve,uniforms:{sdr:{value:p},gainMap:{value:v},gamma:{value:new iu(1/t[0],1/t[1],1/t[2])},offsetHdr:{value:new iu().fromArray(r)},offsetSdr:{value:new iu().fromArray(i)},gainMapMin:{value:new iu().fromArray(s)},gainMapMax:{value:new iu().fromArray(u)},weightFactor:{value:(Math.log2(c)-h)/(f-h)}},blending:ek,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=c,this._hdrCapacityMin=h,this._hdrCapacityMax=f,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(t){this.uniforms.sdr.value=t}get gainMap(){return this.uniforms.gainMap.value}set gainMap(t){this.uniforms.gainMap.value=t}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(t){this.uniforms.offsetHdr.value.fromArray(t)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(t){this.uniforms.offsetSdr.value.fromArray(t)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(t){this.uniforms.gainMapMin.value.fromArray(t)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(t){this.uniforms.gainMapMax.value.fromArray(t)}get gamma(){let t=this.uniforms.gamma.value;return[1/t.x,1/t.y,1/t.z]}set gamma(t){let r=this.uniforms.gamma.value;r.x=1/t[0],r.y=1/t[1],r.z=1/t[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(t){this._hdrCapacityMin=t,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(t){this._hdrCapacityMax=t,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(t){this._maxDisplayBoost=Math.max(1,Math.min(65504,t)),this.calculateWeight()}calculateWeight(){let t=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,t))}}class vn extends Error{}class vr extends Error{}let vi=(t,r,i)=>{var s;let u;let c=null===(s=t.attributes.getNamedItem(r))||void 0===s?void 0:s.nodeValue;if(c)u=c;else{let s=t.getElementsByTagName(r)[0];if(s){let t=s.getElementsByTagName("rdf:li");if(3===t.length)u=Array.from(t).map(t=>t.innerHTML);else throw Error(`Gainmap metadata contains an array of items for ${r} but its length is not 3`)}else{if(i)return i;throw Error(`Can't find ${r} in gainmap metadata`)}}return u},va=t=>{var r,i;let s;"undefined"!=typeof TextDecoder?s=new TextDecoder().decode(t):s=t.toString();let u=s.indexOf("<x:xmpmeta"),c=new DOMParser;for(;-1!==u;){let t=s.indexOf("x:xmpmeta>",u);s.slice(u,t+10);let h=s.slice(u,t+10);try{let t=c.parseFromString(h,"text/xml").getElementsByTagName("rdf:Description")[0],s=vi(t,"hdrgm:GainMapMin","0"),u=vi(t,"hdrgm:GainMapMax"),f=vi(t,"hdrgm:Gamma","1"),p=vi(t,"hdrgm:OffsetSDR","0.015625"),v=vi(t,"hdrgm:OffsetHDR","0.015625"),y=null===(r=t.attributes.getNamedItem("hdrgm:HDRCapacityMin"))||void 0===r?void 0:r.nodeValue;!y&&(y="0");let x=null===(i=t.attributes.getNamedItem("hdrgm:HDRCapacityMax"))||void 0===i?void 0:i.nodeValue;if(!x)throw Error("Incomplete gainmap metadata");return{gainMapMin:Array.isArray(s)?s.map(t=>parseFloat(t)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(u)?u.map(t=>parseFloat(t)):[parseFloat(u),parseFloat(u),parseFloat(u)],gamma:Array.isArray(f)?f.map(t=>parseFloat(t)):[parseFloat(f),parseFloat(f),parseFloat(f)],offsetSdr:Array.isArray(p)?p.map(t=>parseFloat(t)):[parseFloat(p),parseFloat(p),parseFloat(p)],offsetHdr:Array.isArray(v)?v.map(t=>parseFloat(t)):[parseFloat(v),parseFloat(v),parseFloat(v)],hdrCapacityMin:parseFloat(y),hdrCapacityMax:parseFloat(x)}}catch(t){}u=s.indexOf("<x:xmpmeta",t)}};class vo{constructor(t){this.options={debug:!!t&&void 0!==t.debug&&t.debug,extractFII:!t||void 0===t.extractFII||t.extractFII,extractNonFII:!t||void 0===t.extractNonFII||t.extractNonFII}}extract(t){return new Promise((r,i)=>{let s;let u=this.options.debug,c=new DataView(t.buffer);if(65496!==c.getUint16(0)){i(Error("Not a valid jpeg"));return}let h=c.byteLength,f=2,p=0;for(;f<h;){if(++p>250){i(Error(`Found no marker after ${p} loops `));return}if(255!==c.getUint8(f)){i(Error(`Not a valid marker at offset 0x${f.toString(16)}, found: 0x${c.getUint8(f).toString(16)}`));return}if(s=c.getUint8(f+1),226===s){let t=f+4;if(0x4d504600===c.getUint32(t)){let s;let u=t+4;if(18761===c.getUint16(u))s=!1;else if(19789===c.getUint16(u))s=!0;else{i(Error("No valid endianness marker found in TIFF header"));return}if(42!==c.getUint16(u+2,!s)){i(Error("Not valid TIFF data! (no 0x002A marker)"));return}let h=c.getUint32(u+4,!s);if(h<8){i(Error("Not valid TIFF data! (First offset less than 8)"));return}let f=u+h,p=c.getUint16(f,!s),v=f+2,y=0;for(let t=v;t<v+12*p;t+=12)45057===c.getUint16(t,!s)&&(y=c.getUint32(t+8,!s));let x=f+2+12*p+4,_=[];for(let t=x;t<x+16*y;t+=16){let r={MPType:c.getUint32(t,!s),size:c.getUint32(t+4,!s),dataOffset:c.getUint32(t+8,!s),dependantImages:c.getUint32(t+12,!s),start:-1,end:-1,isFII:!1};r.dataOffset?(r.start=u+r.dataOffset,r.isFII=!1):(r.start=0,r.isFII=!0),r.end=r.start+r.size,_.push(r)}if(this.options.extractNonFII&&_.length){let t=new Blob([c]),i=[];for(let r of _){if(r.isFII&&!this.options.extractFII)continue;let s=t.slice(r.start,r.end+1,"image/jpeg");i.push(s)}r(i)}}}f+=2+c.getUint16(f+2)}})}}let vs=async t=>{let r=va(t);if(!r)throw new vr("Gain map XMP metadata not found");let i=new vo({extractFII:!0,extractNonFII:!0}),s=await i.extract(t);if(2!==s.length)throw new vn("Gain map recovery image not found");return{sdr:new Uint8Array(await s[0].arrayBuffer()),gainMap:new Uint8Array(await s[1].arrayBuffer()),metadata:r}},vl=t=>new Promise((r,i)=>{let s=document.createElement("img");s.onload=()=>{r(s)},s.onerror=t=>{i(t)},s.src=URL.createObjectURL(t)});class vu extends hW{constructor(t,r){super(r),t&&(this._renderer=t),this._internalLoadingManager=new hV}setRenderer(t){return this._renderer=t,this}setRenderTargetOptions(t){return this._renderTargetOptions=t,this}prepareQuadRenderer(){return this._renderer,new m6({width:16,height:16,type:tj,colorSpace:nq,material:new vt({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new r7,sdr:new r7}),renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(t,r,i,s){let u,c;let h=s?new Blob([s],{type:"image/jpeg"}):void 0,f=new Blob([i],{type:"image/jpeg"}),p=!1;if("undefined"==typeof createImageBitmap){let t=await Promise.all([h?vl(h):Promise.resolve(void 0),vl(f)]);c=t[0],u=t[1],p=!0}else{let t=await Promise.all([h?createImageBitmap(h,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(f,{imageOrientation:"flipY"})]);c=t[0],u=t[1]}let v=new r7(c||new ImageData(2,2),ty,tM,tM,tP,tO,tQ,tN,1,nq);v.flipY=p,v.needsUpdate=!0;let y=new r7(u,ty,tM,tM,tP,tO,tQ,tN,1,nQ);y.flipY=p,y.needsUpdate=!0,t.width=u.width,t.height=u.height,t.material.gainMap=v,t.material.sdr=y,t.material.gainMapMin=r.gainMapMin,t.material.gainMapMax=r.gainMapMax,t.material.offsetHdr=r.offsetHdr,t.material.offsetSdr=r.offsetSdr,t.material.gamma=r.gamma,t.material.hdrCapacityMin=r.hdrCapacityMin,t.material.hdrCapacityMax=r.hdrCapacityMax,t.material.maxDisplayBoost=Math.pow(2,r.hdrCapacityMax),t.material.needsUpdate=!0,t.render()}}class vc extends vu{load([t,r,i],s,u,c){let h,f,p;let v=this.prepareQuadRenderer(),y=async()=>{if(h&&f&&p){try{await this.render(v,p,h,f)}catch(s){this.manager.itemError(t),this.manager.itemError(r),this.manager.itemError(i),"function"==typeof c&&c(s),v.disposeOnDemandRenderer();return}"function"==typeof s&&s(v),this.manager.itemEnd(t),this.manager.itemEnd(r),this.manager.itemEnd(i),v.disposeOnDemandRenderer()}},x=!0,_=0,b=0,w=!0,S=0,A=0,M=!0,C=0,T=0,I=()=>{"function"==typeof u&&u(new ProgressEvent("progress",{lengthComputable:x&&w&&M,loaded:b+A+T,total:_+S+C}))};this.manager.itemStart(t),this.manager.itemStart(r),this.manager.itemStart(i);let D=new hZ(this._internalLoadingManager);D.setResponseType("arraybuffer"),D.setRequestHeader(this.requestHeader),D.setPath(this.path),D.setWithCredentials(this.withCredentials),D.load(t,async t=>{if("string"==typeof t)throw Error("Invalid sdr buffer");h=t,await y()},t=>{x=t.lengthComputable,b=t.loaded,_=t.total,I()},r=>{this.manager.itemError(t),"function"==typeof c&&c(r)});let R=new hZ(this._internalLoadingManager);R.setResponseType("arraybuffer"),R.setRequestHeader(this.requestHeader),R.setPath(this.path),R.setWithCredentials(this.withCredentials),R.load(r,async t=>{if("string"==typeof t)throw Error("Invalid gainmap buffer");f=t,await y()},t=>{w=t.lengthComputable,A=t.loaded,S=t.total,I()},t=>{this.manager.itemError(r),"function"==typeof c&&c(t)});let P=new hZ(this._internalLoadingManager);return P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(i,async t=>{if("string"!=typeof t)throw Error("Invalid metadata string");p=JSON.parse(t),await y()},t=>{M=t.lengthComputable,T=t.loaded,C=t.total,I()},t=>{this.manager.itemError(i),"function"==typeof c&&c(t)}),v}}class vh extends vu{load(t,r,i,s){let u=this.prepareQuadRenderer(),c=new hZ(this._internalLoadingManager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(this.withCredentials),this.manager.itemStart(t),c.load(t,async i=>{let c,h,f;if("string"==typeof i)throw Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");let p=new Uint8Array(i);try{let t=await vs(p);c=t.sdr,h=t.gainMap,f=t.metadata}catch(t){if(t instanceof vr||t instanceof vn)f={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=p;else throw t}try{await this.render(u,f,c,h)}catch(r){this.manager.itemError(t),"function"==typeof s&&s(r),u.disposeOnDemandRenderer();return}"function"==typeof r&&r(u),this.manager.itemEnd(t),u.disposeOnDemandRenderer()},i,r=>{this.manager.itemError(t),"function"==typeof s&&s(r)}),u}}let vd={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},vf="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",vp=t=>Array.isArray(t),vg=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function vm({files:t=vg,path:r="",preset:i,encoding:s,extensions:u}={}){let c=null,h=!1;i&&(vx(i),t=vd[i],r=vf),h=vp(t);let{extension:f,isCubemap:p}=v_(t);if(!(c=vb(f)))throw Error("useEnvironment: Unrecognized file extension: "+t);let v=pB(t=>t.gl);(0,ex.useLayoutEffect)(()=>{("webp"===f||"jpg"===f||"jpeg"===f)&&v.domElement.addEventListener("webglcontextlost",function(){pF.clear(c,h?[t]:t)},{once:!0})},[t,v.domElement]);let y=pF(c,h?[t]:t,t=>{("webp"===f||"jpg"===f||"jpeg"===f)&&t.setRenderer(v),null==t.setPath||t.setPath(r),u&&u(t)}),x=h?y[0]:y;if("jpg"===f||"jpeg"===f||"webp"===f){var _;x=null==(_=x.renderTarget)?void 0:_.texture}return x.mapping=p?tx:tb,"colorSpace"in x?x.colorSpace=(null!=s?s:p)?"srgb":"srgb-linear":x.encoding=(null!=s?s:p)?3001:3e3,x}let vv={files:vg,path:"",preset:void 0,extensions:void 0};vm.preload=t=>{let r={...vv,...t},{files:i,path:s=""}=r,{preset:u,extensions:c}=r;u&&(vx(u),i=vd[u],s=vf);let{extension:h}=v_(i);if("webp"===h||"jpg"===h||"jpeg"===h)throw Error("useEnvironment: Preloading gainmaps is not supported");let f=vb(h);if(!f)throw Error("useEnvironment: Unrecognized file extension: "+i);pF.preload(f,vp(i)?[i]:i,t=>{null==t.setPath||t.setPath(s),c&&c(t)})};let vy={files:vg,preset:void 0};function vx(t){if(!(t in vd))throw Error("Preset must be one of: "+Object.keys(vd).join(", "))}function v_(t){var r;let i=vp(t)&&6===t.length,s=vp(t)&&3===t.length&&t.some(t=>t.endsWith("json")),u=vp(t)?t[0]:t;return{extension:i?"cube":s?"webp":u.startsWith("data:application/exr")?"exr":u.startsWith("data:application/hdr")?"hdr":u.startsWith("data:image/jpeg")?"jpg":null==(r=u.split(".").pop())||null==(r=r.split("?"))||null==(r=r.shift())?void 0:r.toLowerCase(),isCubemap:i,isGainmap:s}}function vb(t){return"cube"===t?hq:"hdr"===t?gN:"exr"===t?m4:"jpg"===t||"jpeg"===t?vh:"webp"===t?vc:null}vm.clear=t=>{let r={...vy,...t},{files:i}=r,{preset:s}=r;s&&(vx(s),i=vd[s]);let{extension:u}=v_(i),c=vb(u);if(!c)throw Error("useEnvironment: Unrecognized file extension: "+i);pF.clear(c,vp(i)?[i]:i)};let vw=t=>t.current&&t.current.isScene,vS=t=>vw(t)?t.current:t;function vA(t,r,i,s,u={}){var c,h,f,p,v;u={backgroundBlurriness:null!==(c=u.blur)&&void 0!==c?c:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...u};let y=vS(r||i),x=y.background,_=y.environment,b={backgroundBlurriness:y.backgroundBlurriness,backgroundIntensity:y.backgroundIntensity,backgroundRotation:null!==(h=null==(f=y.backgroundRotation)||null==f.clone?void 0:f.clone())&&void 0!==h?h:[0,0,0],environmentIntensity:y.environmentIntensity,environmentRotation:null!==(p=null==(v=y.environmentRotation)||null==v.clone?void 0:v.clone())&&void 0!==p?p:[0,0,0]};return"only"!==t&&(y.environment=s),t&&(y.background=s),pV(y,u),()=>{"only"!==t&&(y.environment=_),t&&(y.background=x),pV(y,b)}}function vM({scene:t,background:r=!1,map:i,...s}){let u=pB(t=>t.scene);return ex.useLayoutEffect(()=>{if(i)return vA(r,t,u,i,s)}),null}function vC({background:t=!1,scene:r,blur:i,backgroundBlurriness:s,backgroundIntensity:u,backgroundRotation:c,environmentIntensity:h,environmentRotation:f,...p}){let v=vm(p),y=pB(t=>t.scene);return ex.useLayoutEffect(()=>vA(t,r,y,v,{blur:i,backgroundBlurriness:s,backgroundIntensity:u,backgroundRotation:c,environmentIntensity:h,environmentRotation:f})),null}function vT({children:t,near:r=1,far:i=1e3,resolution:s=256,frames:u=1,map:c,background:h=!1,blur:f,backgroundBlurriness:p,backgroundIntensity:v,backgroundRotation:y,environmentIntensity:x,environmentRotation:_,scene:b,files:w,path:S,preset:A,extensions:M}){let C=pB(t=>t.gl),T=pB(t=>t.scene),I=ex.useRef(null),[D]=ex.useState(()=>new lY),R=ex.useMemo(()=>{let t=new of(s);return t.texture.type=tj,t},[s]);ex.useLayoutEffect(()=>(1===u&&I.current.update(C,D),vA(h,b,T,R.texture,{blur:f,backgroundBlurriness:p,backgroundIntensity:v,backgroundRotation:y,environmentIntensity:x,environmentRotation:_})),[t,D,R.texture,b,T,h,u,C]);let P=1;return pk(()=>{(u===1/0||P<u)&&(I.current.update(C,D),P++)}),ex.createElement(ex.Fragment,null,pK(ex.createElement(ex.Fragment,null,t,ex.createElement("cubeCamera",{ref:I,args:[r,i,R]}),w||A?ex.createElement(vC,{background:!0,files:w,preset:A,path:S,extensions:M}):c?ex.createElement(vM,{background:!0,map:c,extensions:M}):null),D))}function vE(t){var r,i,s,u;let c=vm(t),h=t.map||c;ex.useMemo(()=>f$({GroundProjectedEnvImpl:gO}),[]);let f=ex.useMemo(()=>[h],[h]),p=null==(r=t.ground)?void 0:r.height,v=null==(i=t.ground)?void 0:i.radius,y=null!==(s=null==(u=t.ground)?void 0:u.scale)&&void 0!==s?s:1e3;return ex.createElement(ex.Fragment,null,ex.createElement(vM,gh({},t,{map:h})),ex.createElement("groundProjectedEnvImpl",{args:f,scale:y,height:p,radius:v}))}function vI(t){return t.ground?ex.createElement(vE,t):t.map?ex.createElement(vM,t):t.children?ex.createElement(vT,t):ex.createElement(vC,t)}let vD=t=>{if(t.startsWith("http://")||t.startsWith("https://"))return t;let r=t.startsWith("/")?t:`/${t}`;return`${"/".replace(/\/+$/,"")}${r}`};var vR=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){"undefined"!=typeof document&&void 0!==document.hidden&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return .001*this._delta}get fixedDelta(){return .001*this._fixedDelta}set fixedDelta(t){this._fixedDelta=1e3*t}get elapsed(){return .001*this._elapsed}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(void 0!==t?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(t){!document.hidden&&(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},vP=(()=>{let t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),r=new Float32Array([0,0,2,0,0,2]),i=new aJ;return i.setAttribute("position",new aL(t,3)),i.setAttribute("uv",new aL(r,2)),i})(),vL=class t{static get fullscreenGeometry(){return vP}constructor(t="Pass",r=new lY,i=new oo){this.name=t,this.renderer=null,this.scene=r,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(t){if(this.rtt===t){let r=this.fullscreenMaterial;null!==r&&(r.needsUpdate=!0),this.rtt=!t}}set mainScene(t){}set mainCamera(t){}setRenderer(t){this.renderer=t}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}get fullscreenMaterial(){return null!==this.screen?this.screen.material:null}set fullscreenMaterial(r){let i=this.screen;null!==i?i.material=r:((i=new a6(t.fullscreenGeometry,r)).frustumCulled=!1,null===this.scene&&(this.scene=new lY),this.scene.add(i),this.screen=i)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(t){this.fullscreenMaterial=t}getDepthTexture(){return null}setDepthTexture(t,r=nj){}render(t,r,i,s,u){throw Error("Render method not implemented!")}setSize(t,r){}initialize(t,r,i){}dispose(){for(let r of Object.keys(this)){let i=this[r];(i instanceof ir||i instanceof aM||i instanceof r7||i instanceof t)&&this[r].dispose()}null!==this.fullscreenMaterial&&this.fullscreenMaterial.dispose()}},vB=class extends vL{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,r,i,s,u){let c=t.state.buffers.stencil;c.setLocked(!1),c.setTest(!1)}},vk="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",vO=class extends oa{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new d1(null),opacity:new d1(1)},blending:ek,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <colorspace_fragment>\n#include <dithering_fragment>\n}",vertexShader:vk})}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},vN=class extends vL{constructor(t,r=!0){super("CopyPass"),this.fullscreenMaterial=new vO,this.needsSwap=!1,this.renderTarget=t,void 0===t&&(this.renderTarget=new ir(1,1,{minFilter:tP,magFilter:tP,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=r}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,r,i,s,u){this.fullscreenMaterial.inputBuffer=r.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,r){this.autoResize&&this.renderTarget.setSize(t,r)}initialize(t,r,i){void 0!==i&&(this.renderTarget.texture.type=i,i!==tN?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":null!==t&&t.outputColorSpace===nQ&&(this.renderTarget.texture.colorSpace=nQ))}},vF=new aw,vU=class extends vL{constructor(t=!0,r=!0,i=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=r,this.stencil=i,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,r,i){this.color=t,this.depth=r,this.stencil=i}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,r,i,s,u){let c=this.overrideClearColor,h=this.overrideClearAlpha,f=t.getClearAlpha(),p=null!==c,v=h>=0;p?(t.getClearColor(vF),t.setClearColor(c,v?h:f)):v&&t.setClearAlpha(h),t.setRenderTarget(this.renderToScreen?null:r),t.clear(this.color,this.depth,this.stencil),p?t.setClearColor(vF,f):v&&t.setClearAlpha(f)}},vz=class extends vL{constructor(t,r){super("MaskPass",t,r),this.needsSwap=!1,this.clearPass=new vU(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,r,i,s,u){let c=t.getContext(),h=t.state.buffers,f=this.scene,p=this.camera,v=this.clearPass,y=this.inverted?0:1;h.color.setMask(!1),h.depth.setMask(!1),h.color.setLocked(!0),h.depth.setLocked(!0),h.stencil.setTest(!0),h.stencil.setOp(c.REPLACE,c.REPLACE,c.REPLACE),h.stencil.setFunc(c.ALWAYS,y,0xffffffff),h.stencil.setClear(1-y),h.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?v.render(t,null):(v.render(t,r),v.render(t,i))),this.renderToScreen?t.setRenderTarget(null):(t.setRenderTarget(r),t.render(f,p),t.setRenderTarget(i)),t.render(f,p),h.color.setLocked(!1),h.depth.setLocked(!1),h.stencil.setLocked(!1),h.stencil.setFunc(c.EQUAL,1,0xffffffff),h.stencil.setOp(c.KEEP,c.KEEP,c.KEEP),h.stencil.setLocked(!0)}},vG=class{constructor(t=null,{depthBuffer:r=!0,stencilBuffer:i=!1,multisampling:s=0,frameBufferType:u}={}){this.renderer=null,this.inputBuffer=this.createBuffer(r,i,u,s),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new vN,this.depthTexture=null,this.passes=[],this.timer=new vR,this.autoRenderToScreen=!0,this.setRenderer(t)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(t){let r=this.inputBuffer,i=this.multisampling;i>0&&t>0?(this.inputBuffer.samples=t,this.outputBuffer.samples=t,this.inputBuffer.dispose(),this.outputBuffer.dispose()):i!==t&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(r.depthBuffer,r.stencilBuffer,r.texture.type,t),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(t){if(this.renderer=t,null!==t){let r=t.getSize(new rz),i=t.getContext().getContextAttributes().alpha,s=this.inputBuffer.texture.type;for(let u of(s===tN&&t.outputColorSpace===nQ&&(this.inputBuffer.texture.colorSpace=nQ,this.outputBuffer.texture.colorSpace=nQ,this.inputBuffer.dispose(),this.outputBuffer.dispose()),t.autoClear=!1,this.setSize(r.width,r.height),this.passes))u.initialize(t,i,s)}}replaceRenderer(t,r=!0){let i=this.renderer,s=i.domElement.parentNode;return this.setRenderer(t),r&&null!==s&&(s.removeChild(i.domElement),s.appendChild(t.domElement)),i}createDepthTexture(){let t=this.depthTexture=new o9;return this.inputBuffer.depthTexture=t,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(t.format=t1,t.type=tY):t.type=tH,t}deleteDepthTexture(){if(null!==this.depthTexture)for(let t of(this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose(),this.passes))t.setDepthTexture(null)}createBuffer(t,r,i,s){let u=this.renderer,c=null===u?new rz:u.getDrawingBufferSize(new rz),h=new ir(c.width,c.height,{minFilter:tP,magFilter:tP,stencilBuffer:r,depthBuffer:t,type:i});return s>0&&(h.ignoreDepthForMultisampleCopy=!1,h.samples=s),i===tN&&null!==u&&u.outputColorSpace===nQ&&(h.texture.colorSpace=nQ),h.texture.name="EffectComposer.Buffer",h.texture.generateMipmaps=!1,h}setMainScene(t){for(let r of this.passes)r.mainScene=t}setMainCamera(t){for(let r of this.passes)r.mainCamera=t}addPass(t,r){let i=this.passes,s=this.renderer,u=s.getDrawingBufferSize(new rz),c=s.getContext().getContextAttributes().alpha,h=this.inputBuffer.texture.type;if(t.setRenderer(s),t.setSize(u.width,u.height),t.initialize(s,c,h),this.autoRenderToScreen&&(i.length>0&&(i[i.length-1].renderToScreen=!1),t.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==r?i.splice(r,0,t):i.push(t),this.autoRenderToScreen&&(i[i.length-1].renderToScreen=!0),t.needsDepthTexture||null!==this.depthTexture){if(null===this.depthTexture){let r=this.createDepthTexture();for(t of i)t.setDepthTexture(r)}else t.setDepthTexture(this.depthTexture)}}removePass(t){let r=this.passes,i=r.indexOf(t);-1!==i&&r.splice(i,1).length>0&&(null!==this.depthTexture&&!r.reduce((t,r)=>t||r.needsDepthTexture,!1)&&(t.getDepthTexture()===this.depthTexture&&t.setDepthTexture(null),this.deleteDepthTexture()),this.autoRenderToScreen&&i===r.length&&(t.renderToScreen=!1,r.length>0&&(r[r.length-1].renderToScreen=!0)))}removeAllPasses(){let t=this.passes;this.deleteDepthTexture(),t.length>0&&(this.autoRenderToScreen&&(t[t.length-1].renderToScreen=!1),this.passes=[])}render(t){let r,i,s;let u=this.renderer,c=this.copyPass,h=this.inputBuffer,f=this.outputBuffer,p=!1;for(let v of(void 0===t&&(this.timer.update(),t=this.timer.getDelta()),this.passes))v.enabled&&(v.render(u,h,f,t,p),v.needsSwap&&(p&&(c.renderToScreen=v.renderToScreen,r=u.getContext(),(i=u.state.buffers.stencil).setFunc(r.NOTEQUAL,1,0xffffffff),c.render(u,h,f,t,p),i.setFunc(r.EQUAL,1,0xffffffff)),s=h,h=f,f=s),v instanceof vz?p=!0:v instanceof vB&&(p=!1))}setSize(t,r,i){let s=this.renderer,u=s.getSize(new rz);(void 0===t||void 0===r)&&(t=u.width,r=u.height),(u.width!==t||u.height!==r)&&s.setSize(t,r,i);let c=s.getDrawingBufferSize(new rz);for(let t of(this.inputBuffer.setSize(c.width,c.height),this.outputBuffer.setSize(c.width,c.height),this.passes))t.setSize(c.width,c.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(let t of this.passes)t.dispose();this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),vL.fullscreenGeometry.dispose()}},vH={NONE:0,DEPTH:1,CONVOLUTION:2},vV={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},vj=class{constructor(){this.shaderParts=new Map([[vV.FRAGMENT_HEAD,null],[vV.FRAGMENT_MAIN_UV,null],[vV.FRAGMENT_MAIN_IMAGE,null],[vV.VERTEX_HEAD,null],[vV.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=vH.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=nq}};function vW(t){let r;if(0===t)r=new Float64Array(0);else if(1===t)r=new Float64Array([1]);else if(t>1){let i=new Float64Array(t),s=new Float64Array(t);for(let u=1;u<=t;++u){for(let t=0;t<u;++t)s[t]=0===t||t===u-1?1:i[t-1]+i[t];r=s,s=i,i=r}}return r}var vX=class{constructor(t,r=2){this.weights=null,this.offsets=null,this.linearWeights=null,this.linearOffsets=null,this.generate(t,r)}get steps(){return null===this.offsets?0:this.offsets.length}get linearSteps(){return null===this.linearOffsets?0:this.linearOffsets.length}generate(t,r){if(t<3||t>1020)throw Error("The kernel size must be in the range [3, 1020]");let i=t+2*r,s=r>0?vW(i).slice(r,-r):vW(i),u=Math.floor((s.length-1)/2),c=s.reduce((t,r)=>t+r,0),h=s.slice(u),f=[...Array(u+1).keys()],p=new Float64Array(Math.floor(f.length/2)),v=new Float64Array(p.length);p[0]=h[0]/c;for(let t=1,r=1,i=f.length-1;t<i;t+=2,++r){let i=f[t],s=f[t+1],u=h[t],y=h[t+1],x=u+y,_=(i*u+s*y)/x;p[r]=x/c,v[r]=_}for(let t=0,r=h.length,i=1/c;t<r;++t)h[t]*=i;let y=(p.reduce((t,r)=>t+r,0)-.5*p[0])*2;if(0!==y)for(let t=0,r=p.length,i=1/y;t<r;++t)p[t]*=i;this.offsets=f,this.weights=h,this.linearOffsets=v,this.linearWeights=p}},vY=!1,vZ=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let r;if(t.material.flatShading)switch(t.material.side){case eB:r=this.materialsFlatShadedDoubleSide;break;case eL:r=this.materialsFlatShadedBackSide;break;default:r=this.materialsFlatShaded}else switch(t.material.side){case eB:r=this.materialsDoubleSide;break;case eL:r=this.materialsBackSide;break;default:r=this.materials}this.originalMaterials.set(t,t.material),t.isSkinnedMesh?t.material=r[2]:t.isInstancedMesh?t.material=r[1]:t.material=r[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof oa))return t.clone();let r=t.uniforms,i=new Map;for(let t in r){let s=r[t].value;s.isRenderTargetTexture&&(r[t].value=null,i.set(t,s))}let s=t.clone();for(let t of i)r[t[0]].value=t[1],s.uniforms[t[0]].value=t[1];return s}setMaterial(t){if(this.disposeMaterials(),this.material=t,null!==t){let r=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(let i of r)i.uniforms=Object.assign({},t.uniforms),i.side=eP;r[2].skinning=!0,this.materialsBackSide=r.map(r=>{let i=this.cloneMaterial(r);return i.uniforms=Object.assign({},t.uniforms),i.side=eL,i}),this.materialsDoubleSide=r.map(r=>{let i=this.cloneMaterial(r);return i.uniforms=Object.assign({},t.uniforms),i.side=eB,i}),this.materialsFlatShaded=r.map(r=>{let i=this.cloneMaterial(r);return i.uniforms=Object.assign({},t.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=r.map(r=>{let i=this.cloneMaterial(r);return i.uniforms=Object.assign({},t.uniforms),i.flatShading=!0,i.side=eL,i}),this.materialsFlatShadedDoubleSide=r.map(r=>{let i=this.cloneMaterial(r);return i.uniforms=Object.assign({},t.uniforms),i.flatShading=!0,i.side=eB,i})}}render(t,r,i){let s=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,vY){let s=this.originalMaterials;for(let u of(this.meshCount=0,r.traverse(this.replaceMaterial),t.render(r,i),s))u[0].material=u[1];this.meshCount!==s.size&&s.clear()}else{let s=r.overrideMaterial;r.overrideMaterial=this.material,t.render(r,i),r.overrideMaterial=s}t.shadowMap.enabled=s}disposeMaterials(){if(null!==this.material)for(let t of this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide))t.dispose()}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return vY}static set workaroundEnabled(t){vY=t}},vK=class extends rE{constructor(t,r=-1,i=-1,s=1){super(),this.resizable=t,this.baseSize=new rz(1,1),this.preferredSize=new rz(r,i),this.target=this.preferredSize,this.s=s,this.effectiveSize=new rz,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){let t=this.baseSize,r=this.preferredSize,i=this.effectiveSize,s=this.scale;-1!==r.width?i.width=r.width:-1!==r.height?i.width=Math.round(r.height*(t.width/Math.max(t.height,1))):i.width=Math.round(t.width*s),-1!==r.height?i.height=r.height:-1!==r.width?i.height=Math.round(r.width/Math.max(t.width/Math.max(t.height,1),1)):i.height=Math.round(t.height*s)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(-1),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,r){(this.baseSize.width!==t||this.baseSize.height!==r)&&(this.baseSize.set(t,r),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,r){(this.preferredSize.width!==t||this.preferredSize.height!==r)&&(this.preferredSize.set(t,r),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return -1}},vJ=new class{constructor(t=0){this.nextId=t}getNextId(){return this.nextId++}reset(t=0){return this.nextId=t,this}}(2),vQ=class extends null{constructor(t,r=vJ.getNextId()){super(),this.exclusive=!1,this._layer=r,(this._layer<1||this._layer>31)&&(vJ.reset(2),this._layer=vJ.getNextId()),void 0!==t&&this.set(t)}get layer(){return this._layer}set layer(t){let r=this._layer;for(let i of this)i.layers.disable(r),i.layers.enable(t);this._layer=t}getLayer(){return this.layer}setLayer(t){this.layer=t}isExclusive(){return this.exclusive}setExclusive(t){this.exclusive=t}clear(){let t=this.layer;for(let r of this)r.layers.disable(t);return super.clear()}set(t){for(let r of(this.clear(),t))this.add(r);return this}indexOf(t){return this.has(t)?0:-1}add(t){return this.exclusive?t.layers.set(this.layer):t.layers.enable(this.layer),super.add(t)}delete(t){return this.has(t)&&t.layers.disable(this.layer),super.delete(t)}toggle(t){let r;return this.has(t)?(this.delete(t),r=!1):(this.add(t),r=!0),r}setVisible(t){for(let r of this)t?r.layers.enable(0):r.layers.disable(0);return this}},vq={ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},v$=new Map([[vq.ADD,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}"],[vq.ALPHA,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}"],[vq.AVERAGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}"],[vq.COLOR,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[vq.COLOR_BURN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}"],[vq.COLOR_DODGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}"],[vq.DARKEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}"],[vq.DIFFERENCE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}"],[vq.DIVIDE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}"],[vq.DST,null],[vq.EXCLUSION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}"],[vq.HARD_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}"],[vq.HARD_MIX,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}"],[vq.HUE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}"],[vq.INVERT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}"],[vq.INVERT_RGB,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}"],[vq.LIGHTEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}"],[vq.LINEAR_BURN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}"],[vq.LINEAR_DODGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}"],[vq.LINEAR_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}"],[vq.LUMINOSITY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[vq.MULTIPLY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}"],[vq.NEGATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}"],[vq.NORMAL,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}"],[vq.OVERLAY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}"],[vq.PIN_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}"],[vq.REFLECT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}"],[vq.SATURATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[vq.SCREEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}"],[vq.SOFT_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}"],[vq.SRC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}"],[vq.SUBTRACT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}"],[vq.VIVID_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}"]]),v0=class extends rE{constructor(t,r=1){super(),this._blendFunction=t,this.opacity=new d1(r)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return v$.get(this.blendFunction)}},v1={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3},v2=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],v3=class extends oa{constructor(t=new ie){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new d1(null),texelSize:new d1(new ie),scale:new d1(1),kernel:new d1(0)},blending:ek,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <colorspace_fragment>\n}",vertexShader:"uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.setTexelSize(t.x,t.y),this.kernelSize=v1.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return v2[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,r){this.uniforms.texelSize.value.set(t,r,.5*t,.5*r)}setSize(t,r){let i=1/t,s=1/r;this.uniforms.texelSize.value.set(i,s,.5*i,.5*s)}},v5=class extends vL{constructor({kernelSize:t=v1.MEDIUM,resolutionScale:r=.5,width:i=vK.AUTO_SIZE,height:s=vK.AUTO_SIZE,resolutionX:u=i,resolutionY:c=s}={}){super("KawaseBlurPass"),this.renderTargetA=new ir(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let h=this.resolution=new vK(this,u,c,r);h.addEventListener("change",t=>this.setSize(h.baseWidth,h.baseHeight)),this._blurMaterial=new v3,this._blurMaterial.kernelSize=t,this.copyMaterial=new vO}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,r,i,s,u){let c=this.scene,h=this.camera,f=this.renderTargetA,p=this.renderTargetB,v=this.blurMaterial,y=v.kernelSequence,x=r;this.fullscreenMaterial=v;for(let r=0,i=y.length;r<i;++r){let i=(1&r)==0?f:p;v.kernel=y[r],v.inputBuffer=x.texture,t.setRenderTarget(i),t.render(c,h),x=i}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=x.texture,t.setRenderTarget(this.renderToScreen?null:i),t.render(c,h)}setSize(t,r){let i=this.resolution;i.setBaseSize(t,r);let s=i.width,u=i.height;this.renderTargetA.setSize(s,u),this.renderTargetB.setSize(s,u),this.blurMaterial.setSize(t,r)}initialize(t,r,i){void 0!==i&&(this.renderTargetA.texture.type=i,this.renderTargetB.texture.type=i,i!==tN?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):null!==t&&t.outputColorSpace===nQ&&(this.renderTargetA.texture.colorSpace=nQ,this.renderTargetB.texture.colorSpace=nQ))}static get AUTO_SIZE(){return vK.AUTO_SIZE}},v4=class extends oa{constructor(t=!1,r=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:eb.replace(/\D+/g,"")},uniforms:{inputBuffer:new d1(null),threshold:new d1(0),smoothing:new d1(1),range:new d1(null)},blending:ek,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l)*l;\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*clamp(l,0.0,1.0),l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}",vertexShader:vk}),this.colorOutput=t,this.luminanceRange=r}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get threshold(){return this.uniforms.threshold.value}set threshold(t){this.smoothing>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=t}getThreshold(){return this.threshold}setThreshold(t){this.threshold=t}get smoothing(){return this.uniforms.smoothing.value}set smoothing(t){this.threshold>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=t}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(t){this.smoothing=t}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(t){}get colorOutput(){return void 0!==this.defines.COLOR}set colorOutput(t){t?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(t){return this.colorOutput}setColorOutputEnabled(t){this.colorOutput=t}get useRange(){return null!==this.luminanceRange}set useRange(t){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(t){null!==t?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=t,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(t){this.luminanceRange=t}},v9=class extends vL{constructor({renderTarget:t,luminanceRange:r,colorOutput:i,resolutionScale:s=1,width:u=vK.AUTO_SIZE,height:c=vK.AUTO_SIZE,resolutionX:h=u,resolutionY:f=c}={}){super("LuminancePass"),this.fullscreenMaterial=new v4(i,r),this.needsSwap=!1,this.renderTarget=t,void 0===this.renderTarget&&(this.renderTarget=new ir(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");let p=this.resolution=new vK(this,h,f,s);p.addEventListener("change",t=>this.setSize(p.baseWidth,p.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(t,r,i,s,u){this.fullscreenMaterial.inputBuffer=r.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,r){let i=this.resolution;i.setBaseSize(t,r),this.renderTarget.setSize(i.width,i.height)}initialize(t,r,i){void 0!==i&&i!==tN&&(this.renderTarget.texture.type=i,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},v8=class extends oa{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new d1(null),texelSize:new d1(new rz)},blending:ek,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#define WEIGHT_INNER 0.125\n#define WEIGHT_OUTER 0.0555555\nvarying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;\n#include <colorspace_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}"})}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setSize(t,r){this.uniforms.texelSize.value.set(1/t,1/r)}},v6=class extends oa{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new d1(null),supportBuffer:new d1(null),texelSize:new d1(new rz),radius:new d1(.85)},blending:ek,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;\n#else\nuniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;\n#endif\nuniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);\n#include <colorspace_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}"})}set inputBuffer(t){this.uniforms.inputBuffer.value=t}set supportBuffer(t){this.uniforms.supportBuffer.value=t}get radius(){return this.uniforms.radius.value}set radius(t){this.uniforms.radius.value=t}setSize(t,r){this.uniforms.texelSize.value.set(1/t,1/r)}},v7=class extends vL{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new ir(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new v8,this.upsamplingMaterial=new v6,this.resolution=new rz}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(t){if(this.levels!==t){let r=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let i=0;i<t;++i){let t=r.clone();t.texture.name="Downsampling.Mipmap"+i,this.downsamplingMipmaps.push(t)}this.upsamplingMipmaps.push(r);for(let i=1,s=t-1;i<s;++i){let t=r.clone();t.texture.name="Upsampling.Mipmap"+i,this.upsamplingMipmaps.push(t)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(t){this.upsamplingMaterial.radius=t}render(t,r,i,s,u){let{scene:c,camera:h}=this,{downsamplingMaterial:f,upsamplingMaterial:p}=this,{downsamplingMipmaps:v,upsamplingMipmaps:y}=this,x=r;this.fullscreenMaterial=f;for(let r=0,i=v.length;r<i;++r){let i=v[r];f.setSize(x.width,x.height),f.inputBuffer=x.texture,t.setRenderTarget(i),t.render(c,h),x=i}this.fullscreenMaterial=p;for(let r=y.length-1;r>=0;--r){let i=y[r];p.setSize(x.width,x.height),p.inputBuffer=x.texture,p.supportBuffer=v[r].texture,t.setRenderTarget(i),t.render(c,h),x=i}}setSize(t,r){let i=this.resolution;i.set(t,r);let s=i.width,u=i.height;for(let t=0,r=this.downsamplingMipmaps.length;t<r;++t)s=Math.round(.5*s),u=Math.round(.5*u),this.downsamplingMipmaps[t].setSize(s,u),t<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[t].setSize(s,u)}initialize(t,r,i){if(void 0!==i){let r=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(let t of r)t.texture.type=i;if(i!==tN)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(null!==t&&t.outputColorSpace===nQ)for(let t of r)t.texture.colorSpace=nQ}}dispose(){for(let t of(super.dispose(),this.downsamplingMipmaps.concat(this.upsamplingMipmaps)))t.dispose()}},ye=class extends rE{constructor(t,r,{attributes:i=vH.NONE,blendFunction:s=vq.NORMAL,defines:u=new Map,uniforms:c=new Map,extensions:h=null,vertexShader:f=null}={}){super(),this.name=t,this.renderer=null,this.attributes=i,this.fragmentShader=r,this.vertexShader=f,this.defines=u,this.uniforms=c,this.extensions=h,this.blendMode=new v0(s),this.blendMode.addEventListener("change",t=>this.setChanged()),this._inputColorSpace=nq,this._outputColorSpace=nJ}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,r=nj){}update(t,r,i){}setSize(t,r){}initialize(t,r,i){}dispose(){for(let t of Object.keys(this)){let r=this[t];(r instanceof ir||r instanceof aM||r instanceof r7||r instanceof vL)&&this[t].dispose()}}},yt=class extends ye{constructor({blendFunction:t=vq.SCREEN,luminanceThreshold:r=.9,luminanceSmoothing:i=.025,mipmapBlur:s=!1,intensity:u=1,radius:c=.85,levels:h=8,kernelSize:f=v1.LARGE,resolutionScale:p=.5,width:v=vK.AUTO_SIZE,height:y=vK.AUTO_SIZE,resolutionX:x=v,resolutionY:_=y}={}){super("BloomEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,texel.a);}",{blendFunction:t,uniforms:new Map([["map",new d1(null)],["intensity",new d1(u)]])}),this.renderTarget=new ir(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new v5({kernelSize:f}),this.luminancePass=new v9({colorOutput:!0}),this.luminanceMaterial.threshold=r,this.luminanceMaterial.smoothing=i,this.mipmapBlurPass=new v7,this.mipmapBlurPass.enabled=s,this.mipmapBlurPass.radius=c,this.mipmapBlurPass.levels=h,this.uniforms.get("map").value=s?this.mipmapBlurPass.texture:this.renderTarget.texture;let b=this.resolution=new vK(this,x,_,p);b.addEventListener("change",t=>this.setSize(b.baseWidth,b.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get distinction(){return 1}set distinction(t){}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}update(t,r,i){let s=this.renderTarget,u=this.luminancePass;u.enabled?(u.render(t,r),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,u.renderTarget):this.blurPass.render(t,u.renderTarget,s)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,r):this.blurPass.render(t,r,s)}setSize(t,r){let i=this.resolution;i.setBaseSize(t,r),this.renderTarget.setSize(i.width,i.height),this.blurPass.resolution.copy(i),this.luminancePass.setSize(t,r),this.mipmapBlurPass.setSize(t,r)}initialize(t,r,i){this.blurPass.initialize(t,r,i),this.luminancePass.initialize(t,r,i),this.mipmapBlurPass.initialize(t,r,i),void 0!==i&&(this.renderTarget.texture.type=i,null!==t&&t.outputColorSpace===nQ&&(this.renderTarget.texture.colorSpace=nQ))}},yn=class extends null{constructor(t=!1,r=!1){super({name:"BokehMaterial",defines:{PASS:t?"2":"1"},uniforms:{inputBuffer:new Uniform12(null),cocBuffer:new Uniform12(null),texelSize:new Uniform12(new Vector27),kernel64:new Uniform12(null),kernel16:new Uniform12(null),scale:new Uniform12(1)},blending:NoBlending6,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#if PASS == 1\nuniform vec4 kernel64[32];\n#else\nuniform vec4 kernel16[8];\n#endif\nuniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;varying vec2 vUv;void main(){\n#ifdef FOREGROUND\nvec2 cocNearFar=texture2D(cocBuffer,vUv).rg*scale;float coc=cocNearFar.x;\n#else\nfloat coc=texture2D(cocBuffer,vUv).g*scale;\n#endif\nif(coc==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\n#ifdef FOREGROUND\nvec2 step=texelSize*max(cocNearFar.x,cocNearFar.y);\n#else\nvec2 step=texelSize*coc;\n#endif\n#if PASS == 1\nvec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;\n#else\nvec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;\n#endif\n}}",vertexShader:vk}),r&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set cocBuffer(t){this.uniforms.cocBuffer.value=t}setCoCBuffer(t){this.uniforms.cocBuffer.value=t}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(t){return this.scale}setScale(t){this.scale=t}generateKernel(){let t=new Float64Array(128),r=new Float64Array(32),i=0,s=0;for(let u=0,c=Math.sqrt(80);u<80;++u){let h=2.39996323*u,f=Math.sqrt(u)/c,p=f*Math.cos(h),v=f*Math.sin(h);u%5==0?(r[s++]=p,r[s++]=v):(t[i++]=p,t[i++]=v)}this.uniforms.kernel64.value=t,this.uniforms.kernel16.value=r}setTexelSize(t,r){this.uniforms.texelSize.value.set(t,r)}setSize(t,r){this.uniforms.texelSize.value.set(1/t,1/r)}};function yr(t,r,i){return t*(r-i)-r}function yi(t,r,i){return Math.min(Math.max((t+r)/(r-i),0),1)}var ya=class extends null{constructor(t){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Uniform13(null),focusDistance:new Uniform13(0),focusRange:new Uniform13(0),cameraNear:new Uniform13(.3),cameraFar:new Uniform13(1e3)},blending:NoBlending7,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nfloat depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nfloat depth=texture2D(depthBuffer,uv).r;\n#endif\n#ifdef LOG_DEPTH\nfloat d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;\n#endif\nreturn depth;}void main(){float depth=readDepth(vUv);\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\n#else\nfloat linearDepth=depth;\n#endif\nfloat signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}",vertexShader:vk}),this.uniforms.focalLength=this.uniforms.focusRange,this.copyCameraSettings(t)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,r=BasicDepthPacking3){this.depthBuffer=t,this.depthPacking=r}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(t){this.uniforms.focusDistance.value=t}get worldFocusDistance(){var t,r;return-(t=this.focusDistance,r=this.near,t*(r-this.far)-r)}set worldFocusDistance(t){this.focusDistance=yi(-t,this.near,this.far)}getFocusDistance(t){this.uniforms.focusDistance.value=t}setFocusDistance(t){this.uniforms.focusDistance.value=t}get focalLength(){return this.focusRange}set focalLength(t){this.focusRange=t}get focusRange(){return this.uniforms.focusRange.value}set focusRange(t){this.uniforms.focusRange.value=t}get worldFocusRange(){var t,r;return-(t=this.focusRange,r=this.near,t*(r-this.far)-r)}set worldFocusRange(t){this.focusRange=yi(-t,this.near,this.far)}getFocalLength(t){return this.focusRange}setFocalLength(t){this.focusRange=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},yo=class extends null{constructor(t=null){super({name:"MaskMaterial",uniforms:{maskTexture:new Uniform14(t),inputBuffer:new Uniform14(null),strength:new Uniform14(1)},blending:NoBlending8,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef MASK_PRECISION_HIGH\nuniform mediump sampler2D maskTexture;\n#else\nuniform lowp sampler2D maskTexture;\n#endif\n#if MASK_FUNCTION != 0\nuniform float strength;\n#endif\nvarying vec2 vUv;void main(){\n#if COLOR_CHANNEL == 0\nfloat mask=texture2D(maskTexture,vUv).r;\n#elif COLOR_CHANNEL == 1\nfloat mask=texture2D(maskTexture,vUv).g;\n#elif COLOR_CHANNEL == 2\nfloat mask=texture2D(maskTexture,vUv).b;\n#else\nfloat mask=texture2D(maskTexture,vUv).a;\n#endif\n#if MASK_FUNCTION == 0\n#ifdef INVERTED\nmask=step(mask,0.0);\n#else\nmask=1.0-step(mask,0.0);\n#endif\n#else\nmask=clamp(mask*strength,0.0,1.0);\n#ifdef INVERTED\nmask=1.0-mask;\n#endif\n#endif\n#if MASK_FUNCTION == 3\nvec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=vec4(mask*texel.rgb,texel.a);\n#elif MASK_FUNCTION == 2\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\n#else\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\n#endif\n}",vertexShader:vk}),this.colorChannel=null.RED,this.maskFunction=null.DISCARD}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set maskTexture(t){this.uniforms.maskTexture.value=t,delete this.defines.MASK_PRECISION_HIGH,t.type!==UnsignedByteType6&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(t){this.maskTexture=t}set colorChannel(t){this.defines.COLOR_CHANNEL=t.toFixed(0),this.needsUpdate=!0}setColorChannel(t){this.colorChannel=t}set maskFunction(t){this.defines.MASK_FUNCTION=t.toFixed(0),this.needsUpdate=!0}setMaskFunction(t){this.maskFunction=t}get inverted(){return void 0!==this.defines.INVERTED}set inverted(t){this.inverted&&!t?delete this.defines.INVERTED:t&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get strength(){return this.uniforms.strength.value}set strength(t){this.uniforms.strength.value=t}getStrength(){return this.strength}setStrength(t){this.strength=t}},ys=class extends null{constructor(t,r="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=t,this.input=r}setInput(t){this.input=t}render(t,r,i,s,u){let c=this.fullscreenMaterial.uniforms;null!==r&&void 0!==c&&void 0!==c[this.input]&&(c[this.input].value=r.texture),t.setRenderTarget(this.renderToScreen?null:i),t.render(this.scene,this.camera)}initialize(t,r,i){void 0!==i&&i!==UnsignedByteType7&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},yl=class extends null{constructor(t,r,i=LuminanceFormat,s=UnsignedByteType9){super(function(t,r,i){let s;let u=new Map([[LuminanceFormat,1],[RedFormat,1],[RGFormat,2],[RGBAFormat,4]]);if(u.has(r),i===UnsignedByteType9){s=new Uint8Array(t*u.get(r));for(let t=0,r=s.length;t<r;++t)s[t]=255*Math.random()+.5}else{s=new Float32Array(t*u.get(r));for(let t=0,r=s.length;t<r;++t)s[t]=Math.random()}return s}(t*r,i,s),t,r,i,s),this.needsUpdate=!0}},yu="Glitch.Generated";function yc(t,r){return t+Math.random()*(r-t)}var yh=class extends null{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:null.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new Uniform19(null),depthBuffer0:new Uniform19(null),depthBuffer1:new Uniform19(null),cameraNearFar:new Uniform19(new Vector210(1,1))},blending:NoBlending9,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;\n#else\nuniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;\n#endif\nuniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#endif\n}varying vec2 vUv;void main(){vec2 depth;\n#if DEPTH_PACKING_0 == 3201\ndepth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));\n#else\ndepth.x=texture2D(depthBuffer0,vUv).r;\n#ifdef LOG_DEPTH\nfloat d=pow(2.0,depth.x*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.x=a+b/d;\n#endif\n#endif\n#if DEPTH_PACKING_1 == 3201\ndepth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));\n#else\ndepth.y=texture2D(depthBuffer1,vUv).r;\n#ifdef LOG_DEPTH\nfloat d=pow(2.0,depth.y*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.y=a+b/d;\n#endif\n#endif\nbool isMaxDepth=(depth.x==1.0);\n#ifdef PERSPECTIVE_CAMERA\ndepth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);\n#endif\n#if DEPTH_TEST_STRATEGY == 0\nbool keep=depthTest(depth.x,depth.y);\n#elif DEPTH_TEST_STRATEGY == 1\nbool keep=isMaxDepth||depthTest(depth.x,depth.y);\n#else\nbool keep=!isMaxDepth&&depthTest(depth.x,depth.y);\n#endif\nif(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}",vertexShader:vk}),this.depthMode=LessDepth}set depthBuffer0(t){this.uniforms.depthBuffer0.value=t}set depthPacking0(t){this.defines.DEPTH_PACKING_0=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(t,r=BasicDepthPacking5){this.depthBuffer0=t,this.depthPacking0=r}set depthBuffer1(t){this.uniforms.depthBuffer1.value=t}set depthPacking1(t){this.defines.DEPTH_PACKING_1=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(t,r=BasicDepthPacking5){this.depthBuffer1=t,this.depthPacking1=r}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(t){this.defines.DEPTH_TEST_STRATEGY=t.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(t){this.maxDepthStrategy=t?null.KEEP_MAX_DEPTH:null.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(t){this.maxDepthStrategy=t}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(t){this.defines.DEPTH_EPSILON=t.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(t){this.epsilon=t}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(t){let r;switch(t){case NeverDepth:r="false";break;case AlwaysDepth:r="true";break;case EqualDepth:r="abs(d1 - d0) <= DEPTH_EPSILON";break;case NotEqualDepth:r="abs(d1 - d0) > DEPTH_EPSILON";break;case LessDepth:r="d0 > d1";break;case LessEqualDepth:r="d0 >= d1";break;case GreaterEqualDepth:r="d0 <= d1";break;case GreaterDepth:default:r="d0 < d1"}this.defines.DEPTH_MODE=t.toFixed(0),this.defines["depthTest(d0, d1)"]=r,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(t){this.depthMode=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),t instanceof PerspectiveCamera2?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},yd=class extends null{constructor(t){super({name:"GodRaysMaterial",defines:{SAMPLES_INT:"60",SAMPLES_FLOAT:"60.0"},uniforms:{inputBuffer:new Uniform20(null),lightPosition:new Uniform20(t),density:new Uniform20(1),decay:new Uniform20(1),weight:new Uniform20(1),exposure:new Uniform20(1),clampMax:new Uniform20(1)},blending:NoBlending10,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);\n#include <dithering_fragment>\n}",vertexShader:vk})}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get lightPosition(){return this.uniforms.lightPosition.value}getLightPosition(){return this.uniforms.lightPosition.value}setLightPosition(t){this.uniforms.lightPosition.value=t}get density(){return this.uniforms.density.value}set density(t){this.uniforms.density.value=t}getDensity(){return this.uniforms.density.value}setDensity(t){this.uniforms.density.value=t}get decay(){return this.uniforms.decay.value}set decay(t){this.uniforms.decay.value=t}getDecay(){return this.uniforms.decay.value}setDecay(t){this.uniforms.decay.value=t}get weight(){return this.uniforms.weight.value}set weight(t){this.uniforms.weight.value=t}getWeight(){return this.uniforms.weight.value}setWeight(t){this.uniforms.weight.value=t}get exposure(){return this.uniforms.exposure.value}set exposure(t){this.uniforms.exposure.value=t}getExposure(){return this.uniforms.exposure.value}setExposure(t){this.uniforms.exposure.value=t}get maxIntensity(){return this.uniforms.clampMax.value}set maxIntensity(t){this.uniforms.clampMax.value=t}getMaxIntensity(){return this.uniforms.clampMax.value}setMaxIntensity(t){this.uniforms.clampMax.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){let r=Math.floor(t);this.defines.SAMPLES_INT=r.toFixed(0),this.defines.SAMPLES_FLOAT=r.toFixed(1),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}},yf=class extends vL{constructor(t,r,i=null){super("RenderPass",t,r),this.needsSwap=!1,this.clearPass=new vU,this.overrideMaterialManager=null===i?null:new vZ(i),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){let t=this.overrideMaterialManager;return null!==t?t.material:null}set overrideMaterial(t){let r=this.overrideMaterialManager;null!==t?null!==r?r.setMaterial(t):this.overrideMaterialManager=new vZ(t):null!==r&&(r.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,r,i,s,u){let c=this.scene,h=this.camera,f=this.selection,p=h.layers.mask,v=c.background,y=t.shadowMap.autoUpdate,x=this.renderToScreen?null:r;null!==f&&h.layers.set(f.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||null!==this.clearPass.overrideClearColor)&&(c.background=null),this.clearPass.enabled&&this.clearPass.render(t,r),t.setRenderTarget(x),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(t,c,h):t.render(c,h),h.layers.mask=p,c.background=v,t.shadowMap.autoUpdate=y}},yp=new iu,yg=new iz;function ym(t,r,i){let s=document.createElement("canvas"),u=s.getContext("2d");if(s.width=t,s.height=r,i instanceof Image)u.drawImage(i,0,0);else{let s=u.createImageData(t,r);s.data.set(i),u.putImageData(s,0,0)}return s}var yv=class t{constructor(t=0,r=0,i=null){this.width=t,this.height=r,this.data=i}toCanvas(){return"undefined"==typeof document?null:ym(this.width,this.height,this.data)}static from(r){let i;let{width:s,height:u}=r;if(r instanceof Image){let t=ym(s,u,r);null!==t&&(i=t.getContext("2d").getImageData(0,0,s,u).data)}else i=r.data;return new t(s,u,i)}},yy=new aw,yx=class t extends null{constructor(t,r){super(t,r,r,r),this.type=FloatType2,this.format=RGBAFormat3,this.minFilter=LinearFilter3,this.magFilter=LinearFilter3,this.wrapS=ClampToEdgeWrapping,this.wrapT=ClampToEdgeWrapping,this.wrapR=ClampToEdgeWrapping,this.unpackAlignment=1,this.needsUpdate=!0,this.colorSpace=LinearSRGBColorSpace3,this.domainMin=new Vector33(0,0,0),this.domainMax=new Vector33(1,1,1)}get isLookupTexture3D(){return!0}scaleUp(r,i=!0){let s;let u=this.image;return s=r<=u.width?Promise.reject(Error("The target size must be greater than the current size")):new Promise((s,c)=>{let h=URL.createObjectURL(new Blob(['"use strict";(()=>{var O={SCALE_UP:"lut.scaleup"};var _=[new Float32Array(3),new Float32Array(3)],n=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],Z=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function d(a,t,r,m){let i=r[0]-t[0],e=r[1]-t[1],y=r[2]-t[2],h=a[0]-t[0],A=a[1]-t[1],w=a[2]-t[2],c=e*w-y*A,l=y*h-i*w,x=i*A-e*h,u=Math.sqrt(c*c+l*l+x*x),b=u*.5,s=c/u,F=l/u,f=x/u,p=-(a[0]*s+a[1]*F+a[2]*f),M=m[0]*s+m[1]*F+m[2]*f;return Math.abs(M+p)*b/3}function V(a,t,r,m,i,e){let y=(r+m*t+i*t*t)*4;e[0]=a[y+0],e[1]=a[y+1],e[2]=a[y+2]}function k(a,t,r,m,i,e){let y=r*(t-1),h=m*(t-1),A=i*(t-1),w=Math.floor(y),c=Math.floor(h),l=Math.floor(A),x=Math.ceil(y),u=Math.ceil(h),b=Math.ceil(A),s=y-w,F=h-c,f=A-l;if(w===y&&c===h&&l===A)V(a,t,y,h,A,e);else{let p;s>=F&&F>=f?p=Z[0]:s>=f&&f>=F?p=Z[1]:f>=s&&s>=F?p=Z[2]:F>=s&&s>=f?p=Z[3]:F>=f&&f>=s?p=Z[4]:f>=F&&F>=s&&(p=Z[5]);let[M,g,X,Y]=p,P=_[0];P[0]=s,P[1]=F,P[2]=f;let o=_[1],L=x-w,S=u-c,U=b-l;o[0]=L*M[0]+w,o[1]=S*M[1]+c,o[2]=U*M[2]+l,V(a,t,o[0],o[1],o[2],n[0]),o[0]=L*g[0]+w,o[1]=S*g[1]+c,o[2]=U*g[2]+l,V(a,t,o[0],o[1],o[2],n[1]),o[0]=L*X[0]+w,o[1]=S*X[1]+c,o[2]=U*X[2]+l,V(a,t,o[0],o[1],o[2],n[2]),o[0]=L*Y[0]+w,o[1]=S*Y[1]+c,o[2]=U*Y[2]+l,V(a,t,o[0],o[1],o[2],n[3]);let T=d(g,X,Y,P)*6,q=d(M,X,Y,P)*6,C=d(M,g,Y,P)*6,E=d(M,g,X,P)*6;n[0][0]*=T,n[0][1]*=T,n[0][2]*=T,n[1][0]*=q,n[1][1]*=q,n[1][2]*=q,n[2][0]*=C,n[2][1]*=C,n[2][2]*=C,n[3][0]*=E,n[3][1]*=E,n[3][2]*=E,e[0]=n[0][0]+n[1][0]+n[2][0]+n[3][0],e[1]=n[0][1]+n[1][1]+n[2][1]+n[3][1],e[2]=n[0][2]+n[1][2]+n[2][2]+n[3][2]}}var v=class{static expand(t,r){let m=Math.cbrt(t.length/4),i=new Float32Array(3),e=new t.constructor(r**3*4),y=t instanceof Uint8Array?255:1,h=r**2,A=1/(r-1);for(let w=0;w<r;++w)for(let c=0;c<r;++c)for(let l=0;l<r;++l){let x=l*A,u=c*A,b=w*A,s=Math.round(l+c*r+w*h)*4;k(t,m,x,u,b,i),e[s+0]=i[0],e[s+1]=i[1],e[s+2]=i[2],e[s+3]=y}return e}};self.addEventListener("message",a=>{let t=a.data,r=t.data;switch(t.operation){case O.SCALE_UP:r=v.expand(r,t.size);break}postMessage(r,[r.buffer]),close()});})();\n'],{type:"text/javascript"})),f=new Worker(h);f.addEventListener("error",t=>c(t.error)),f.addEventListener("message",i=>{let u=new t(i.data,r);this.colorSpace=u.colorSpace,u.type=this.type,u.name=this.name,URL.revokeObjectURL(h),s(u)});let p=i?[u.data.buffer]:[];f.postMessage({operation:null.SCALE_UP,data:u.data,size:r},p)})}applyLUT(t){let r=this.image,i=t.image,s=Math.min(r.width,r.height,r.depth);if(s!==Math.min(i.width,i.height,i.depth));else if(t.type!==FloatType2||this.type!==FloatType2);else if(t.format!==RGBAFormat3||this.format!==RGBAFormat3);else{let t=r.data,u=i.data,c=s**2,h=s-1;for(let r=0,i=s**3;r<i;++r){let i=4*r,f=t[i+0]*h,p=t[i+1]*h,v=4*Math.round(f+p*s+t[i+2]*h*c);t[i+0]=u[v+0],t[i+1]=u[v+1],t[i+2]=u[v+2]}this.needsUpdate=!0}return this}convertToUint8(){if(this.type===FloatType2){let t=this.image.data,r=new Uint8Array(t.length);for(let i=0,s=t.length;i<s;++i)r[i]=255*t[i]+.5;this.image.data=r,this.type=UnsignedByteType10,this.needsUpdate=!0}return this}convertToFloat(){if(this.type===UnsignedByteType10){let t=this.image.data,r=new Float32Array(t.length);for(let i=0,s=t.length;i<s;++i)r[i]=t[i]/255;this.image.data=r,this.type=FloatType2,this.needsUpdate=!0}return this}convertToRGBA(){return this}convertLinearToSRGB(){let t=this.image.data;if(this.type===FloatType2){for(let r=0,i=t.length;r<i;r+=4)yy.fromArray(t,r).convertLinearToSRGB().toArray(t,r);this.colorSpace=SRGBColorSpace9,this.needsUpdate=!0}return this}convertSRGBToLinear(){let t=this.image.data;if(this.type===FloatType2){for(let r=0,i=t.length;r<i;r+=4)yy.fromArray(t,r).convertSRGBToLinear().toArray(t,r);this.colorSpace=LinearSRGBColorSpace3,this.needsUpdate=!0}return this}toDataTexture(){let t=this.image.width,r=this.image.height*this.image.depth,i=new DataTexture2(this.image.data,t,r);return i.name=this.name,i.type=this.type,i.format=this.format,i.minFilter=LinearFilter3,i.magFilter=LinearFilter3,i.wrapS=this.wrapS,i.wrapT=this.wrapT,i.generateMipmaps=!1,i.needsUpdate=!0,this.colorSpace=i.colorSpace,i}static from(r){let i;let s=r.image,{width:u,height:c}=s,h=Math.min(u,c);if(s instanceof Image){let t=yv.from(s).data;if(u>c){i=new Uint8Array(t.length);for(let r=0;r<h;++r)for(let s=0;s<h;++s)for(let u=0;u<h;++u){let c=(u+r*h+s*h*h)*4,f=(u+s*h+r*h*h)*4;i[f+0]=t[c+0],i[f+1]=t[c+1],i[f+2]=t[c+2],i[f+3]=t[c+3]}}else i=new Uint8Array(t.buffer)}else i=s.data.slice();let f=new t(i,h);return f.type=r.type,f.name=r.name,r.colorSpace=f.colorSpace,f}static createNeutral(r){let i=new Float32Array(r**3*4),s=r**2,u=1/(r-1);for(let t=0;t<r;++t)for(let c=0;c<r;++c)for(let h=0;h<r;++h){let f=(t+c*r+h*s)*4;i[f+0]=t*u,i[f+1]=c*u,i[f+2]=h*u,i[f+3]=1}let c=new t(i,r);return c.name="neutral",c}},y_=class extends null{constructor(t=null,r){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Uniform27(null),cameraNear:new Uniform27(.3),cameraFar:new Uniform27(1e3)},blending:NoBlending11,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\n#include <clipping_planes_pars_fragment>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float cameraNear;uniform float cameraFar;centroid varying float vViewZ;centroid varying vec4 vProjTexCoord;void main(){\n#include <clipping_planes_fragment>\nvec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);\n#if DEPTH_PACKING == 3201\nfloat fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));\n#else\nfloat fragCoordZ=texture2D(depthBuffer,projTexCoord).r;\n#endif\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#else\nfloat viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#endif\nfloat depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}",vertexShader:"#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying float vViewZ;varying vec4 vProjTexCoord;void main(){\n#include <skinbase_vertex>\n#include <begin_vertex>\n#include <morphtarget_vertex>\n#include <skinning_vertex>\n#include <project_vertex>\nvViewZ=mvPosition.z;vProjTexCoord=gl_Position;\n#include <clipping_planes_vertex>\n}"}),this.depthBuffer=t,this.depthPacking=RGBADepthPacking,this.copyCameraSettings(r)}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,r=RGBADepthPacking){this.depthBuffer=t,this.depthPacking=r}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof PerspectiveCamera3?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},yb=class extends null{constructor(t=new Vector214){super({name:"OutlineMaterial",uniforms:{inputBuffer:new Uniform28(null),texelSize:new Uniform28(new Vector214)},blending:NoBlending12,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.uniforms.texelSize.value.set(t.x,t.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}setTexelSize(t,r){this.uniforms.texelSize.value.set(t,r)}setSize(t,r){this.uniforms.texelSize.value.set(1/t,1/r)}},yw=class extends null{constructor(t,r,{renderTarget:i,resolutionScale:s=1,width:u=vK.AUTO_SIZE,height:c=vK.AUTO_SIZE,resolutionX:h=u,resolutionY:f=c}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new yf(t,r,new MeshDepthMaterial({depthPacking:RGBADepthPacking2}));let p=this.renderPass;p.skipShadowMapUpdate=!0,p.ignoreBackground=!0;let v=p.clearPass;v.overrideClearColor=new Color4(0xffffff),v.overrideClearAlpha=1,this.renderTarget=i,void 0===this.renderTarget&&(this.renderTarget=new WebGLRenderTarget11(1,1,{minFilter:NearestFilter3,magFilter:NearestFilter3}),this.renderTarget.texture.name="DepthPass.Target");let y=this.resolution=new vK(this,h,f,s);y.addEventListener("change",t=>this.setSize(y.baseWidth,y.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,r,i,s,u){let c=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,c)}setSize(t,r){let i=this.resolution;i.setBaseSize(t,r),this.renderTarget.setSize(i.width,i.height)}},yS=new iu,yA=new iu,yM=class extends null{constructor(t=new Vector218,r=null.COLOR){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:REVISION2.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new Uniform35(null),depthBuffer:new Uniform35(null),predicationBuffer:new Uniform35(null),texelSize:new Uniform35(t)},blending:NoBlending13,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\n#if EDGE_DETECTION_MODE == 1\n#include <common>\n#endif\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\n#elif PREDICATION_MODE == 2\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\n#endif\n#if PREDICATION_MODE != 0\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\n#endif\n#if EDGE_DETECTION_MODE != 0\nuniform sampler2D inputBuffer;\n#endif\nvoid main(){\n#if EDGE_DETECTION_MODE == 0\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\n#elif PREDICATION_MODE != 0\nvec2 threshold=calculatePredicatedThreshold();\n#else\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\n#endif\n#if EDGE_DETECTION_MODE == 0\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 1\nfloat l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 2\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#endif\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}"}),this.edgeDetectionMode=r}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,r=BasicDepthPacking8){this.depthBuffer=t,this.depthPacking=r}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(t){this.defines.EDGE_DETECTION_MODE=t.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(t){this.edgeDetectionMode=t}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(t){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=t.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(t){this.localContrastAdaptationFactor=t}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(t){this.defines.EDGE_THRESHOLD=t.toFixed("6"),this.defines.DEPTH_THRESHOLD=(.1*t).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(t){this.edgeDetectionThreshold=t}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(t){this.defines.PREDICATION_MODE=t.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(t){this.predicationMode=t}set predicationBuffer(t){this.uniforms.predicationBuffer.value=t}setPredicationBuffer(t){this.uniforms.predicationBuffer.value=t}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(t){this.defines.PREDICATION_THRESHOLD=t.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(t){this.predicationThreshold=t}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(t){this.defines.PREDICATION_SCALE=t.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(t){this.predicationScale=t}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(t){this.defines.PREDICATION_STRENGTH=t.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(t){this.predicationStrength=t}setSize(t,r){this.uniforms.texelSize.value.set(1/t,1/r)}},yC=class extends null{constructor(t=new Vector219,r=new Vector219){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new Uniform36(null),searchTexture:new Uniform36(null),areaTexture:new Uniform36(null),resolution:new Uniform36(r),texelSize:new Uniform36(t)},blending:NoBlending14,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}",vertexShader:"uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}"})}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(t){this.uniforms.searchTexture.value=t}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(t){this.uniforms.areaTexture.value=t}setLookupTextures(t,r){this.searchTexture=t,this.areaTexture=r}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(t){let r=Math.min(Math.max(t,0),112);this.defines.MAX_SEARCH_STEPS_INT=r.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=r.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(t){this.orthogonalSearchSteps=t}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(t){let r=Math.min(Math.max(t,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=r.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=r.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(t){this.diagonalSearchSteps=t}get diagonalDetection(){return void 0===this.defines.DISABLE_DIAG_DETECTION}set diagonalDetection(t){t?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(t){this.diagonalDetection=t}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(t){let r=Math.min(Math.max(t,0),100);this.defines.CORNER_ROUNDING=r.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(r/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(t){this.cornerRounding=t}get cornerDetection(){return void 0===this.defines.DISABLE_CORNER_DETECTION}set cornerDetection(t){t?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(t){this.cornerDetection=t}setSize(t,r){let i=this.uniforms;i.texelSize.value.set(1/t,1/r),i.resolution.value.set(t,r)}},yT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",yE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",yI=class extends null{constructor(t){super({name:"SSAOMaterial",defines:{SAMPLES_INT:"0",INV_SAMPLES_FLOAT:"0.0",SPIRAL_TURNS:"0.0",RADIUS:"1.0",RADIUS_SQ:"1.0",DISTANCE_SCALING:"1",DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Uniform38(null),normalBuffer:new Uniform38(null),normalDepthBuffer:new Uniform38(null),noiseTexture:new Uniform38(null),inverseProjectionMatrix:new Uniform38(new Matrix42),projectionMatrix:new Uniform38(new Matrix42),texelSize:new Uniform38(new Vector220),cameraNearFar:new Uniform38(new Vector220),distanceCutoff:new Uniform38(new Vector220),proximityCutoff:new Uniform38(new Vector220),noiseScale:new Uniform38(new Vector220),minRadiusScale:new Uniform38(.33),intensity:new Uniform38(1),fade:new Uniform38(.01),bias:new Uniform38(0)},blending:NoBlending15,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef NORMAL_DEPTH\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D normalDepthBuffer;\n#else\nuniform mediump sampler2D normalDepthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}\n#else\nuniform lowp sampler2D normalBuffer;\n#if DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}\n#endif\nuniform lowp sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform vec2 cameraNearFar;uniform float intensity;uniform float minRadiusScale;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#endif\n}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){vec4 clipPosition=vec4(vec3(screenPosition,depth)*2.0-1.0,1.0);float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){float radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;float noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*INV_SAMPLES_FLOAT;float angle=alpha*rings+baseAngle;vec2 rotation=vec2(cos(angle),sin(angle));vec2 coords=alpha*radius*rotation*texelSize+uv;if(coords.s<0.0||coords.s>1.0||coords.t<0.0||coords.t>1.0){continue;}float sampleDepth=readDepth(coords);float viewZ=getViewZ(sampleDepth);\n#ifdef PERSPECTIVE_CAMERA\nfloat linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);\n#else\nfloat linearSampleDepth=sampleDepth;\n#endif\nfloat proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coords,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){\n#ifdef NORMAL_DEPTH\nvec4 normalDepth=texture2D(normalDepthBuffer,vUv);\n#else\nvec4 normalDepth=vec4(texture2D(normalBuffer,vUv).xyz,readDepth(vUv));\n#endif\nfloat ao=0.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);\n#ifdef PERSPECTIVE_CAMERA\nfloat linearDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);\n#else\nfloat linearDepth=depth;\n#endif\nif(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao+=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,0.0,d);\n#ifdef LEGACY_INTENSITY\nao=clamp(1.0-pow(1.0-ao,abs(intensity)),0.0,1.0);\n#endif\n}gl_FragColor.r=ao;}",vertexShader:"uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}"}),this.copyCameraSettings(t),this.resolution=new Vector220,this.r=1}get near(){return this.uniforms.cameraNearFar.value.x}get far(){return this.uniforms.cameraNearFar.value.y}set normalDepthBuffer(t){this.uniforms.normalDepthBuffer.value=t,null!==t?this.defines.NORMAL_DEPTH="1":delete this.defines.NORMAL_DEPTH,this.needsUpdate=!0}setNormalDepthBuffer(t){this.normalDepthBuffer=t}set normalBuffer(t){this.uniforms.normalBuffer.value=t}setNormalBuffer(t){this.uniforms.normalBuffer.value=t}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,r=BasicDepthPacking10){this.depthBuffer=t,this.depthPacking=r}set noiseTexture(t){this.uniforms.noiseTexture.value=t}setNoiseTexture(t){this.uniforms.noiseTexture.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){this.defines.SAMPLES_INT=t.toFixed(0),this.defines.INV_SAMPLES_FLOAT=(1/t).toFixed(9),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}get rings(){return Number(this.defines.SPIRAL_TURNS)}set rings(t){this.defines.SPIRAL_TURNS=t.toFixed(1),this.needsUpdate=!0}getRings(){return this.rings}setRings(t){this.rings=t}get intensity(){return this.uniforms.intensity.value}set intensity(t){this.uniforms.intensity.value=t,void 0===this.defines.LEGACY_INTENSITY&&(this.defines.LEGACY_INTENSITY="1",this.needsUpdate=!0)}getIntensity(){return this.uniforms.intensity.value}setIntensity(t){this.uniforms.intensity.value=t}get fade(){return this.uniforms.fade.value}set fade(t){this.uniforms.fade.value=t}getFade(){return this.uniforms.fade.value}setFade(t){this.uniforms.fade.value=t}get bias(){return this.uniforms.bias.value}set bias(t){this.uniforms.bias.value=t}getBias(){return this.uniforms.bias.value}setBias(t){this.uniforms.bias.value=t}get minRadiusScale(){return this.uniforms.minRadiusScale.value}set minRadiusScale(t){this.uniforms.minRadiusScale.value=t}getMinRadiusScale(){return this.uniforms.minRadiusScale.value}setMinRadiusScale(t){this.uniforms.minRadiusScale.value=t}updateRadius(){let t=this.r*this.resolution.height;this.defines.RADIUS=t.toFixed(11),this.defines.RADIUS_SQ=(t*t).toFixed(11),this.needsUpdate=!0}get radius(){return this.r}set radius(t){this.r=Math.min(Math.max(t,1e-6),1),this.updateRadius()}getRadius(){return this.radius}setRadius(t){this.radius=t}get distanceScaling(){return!0}set distanceScaling(t){}isDistanceScalingEnabled(){return this.distanceScaling}setDistanceScalingEnabled(t){this.distanceScaling=t}get distanceThreshold(){return this.uniforms.distanceCutoff.value.x}set distanceThreshold(t){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.distanceFalloff,0),1))}get worldDistanceThreshold(){var t,r;return-(t=this.distanceThreshold,r=this.near,t*(r-this.far)-r)}set worldDistanceThreshold(t){this.distanceThreshold=yi(-t,this.near,this.far)}get distanceFalloff(){return this.uniforms.distanceCutoff.value.y-this.distanceThreshold}set distanceFalloff(t){this.uniforms.distanceCutoff.value.y=Math.min(Math.max(this.distanceThreshold+t,0),1)}get worldDistanceFalloff(){var t,r;return-(t=this.distanceFalloff,r=this.near,t*(r-this.far)-r)}set worldDistanceFalloff(t){this.distanceFalloff=yi(-t,this.near,this.far)}setDistanceCutoff(t,r){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+r,0),1))}get proximityThreshold(){return this.uniforms.proximityCutoff.value.x}set proximityThreshold(t){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.proximityFalloff,0),1))}get worldProximityThreshold(){var t,r;return-(t=this.proximityThreshold,r=this.near,t*(r-this.far)-r)}set worldProximityThreshold(t){this.proximityThreshold=yi(-t,this.near,this.far)}get proximityFalloff(){return this.uniforms.proximityCutoff.value.y-this.proximityThreshold}set proximityFalloff(t){this.uniforms.proximityCutoff.value.y=Math.min(Math.max(this.proximityThreshold+t,0),1)}get worldProximityFalloff(){var t,r;return-(t=this.proximityFalloff,r=this.near,t*(r-this.far)-r)}set worldProximityFalloff(t){this.proximityFalloff=yi(-t,this.near,this.far)}setProximityCutoff(t,r){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+r,0),1))}setTexelSize(t,r){this.uniforms.texelSize.value.set(t,r)}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),this.uniforms.projectionMatrix.value.copy(t.projectionMatrix),this.uniforms.inverseProjectionMatrix.value.copy(t.projectionMatrix).invert(),t instanceof PerspectiveCamera4?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,r){let i=this.uniforms,s=i.noiseTexture.value;null!==s&&i.noiseScale.value.set(t/s.image.width,r/s.image.height),i.texelSize.value.set(1/t,1/r),this.resolution.set(t,r),this.updateRadius()}},yD=class extends oa{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new d1(null),normalBuffer:new d1(null),texelSize:new d1(new rz)},blending:ek,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\n#ifdef DOWNSAMPLE_NORMALS\nuniform lowp sampler2D normalBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);\n#ifdef DOWNSAMPLE_NORMALS\nvec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;\n#else\nvec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);\n#endif\ngl_FragColor=vec4(n[index],d[index]);}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}"})}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,r=nj){this.depthBuffer=t,this.depthPacking=r}set normalBuffer(t){this.uniforms.normalBuffer.value=t,null!==t?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,r){this.uniforms.texelSize.value.set(t,r)}setSize(t,r){this.uniforms.texelSize.value.set(1/t,1/r)}},yR=class extends vL{constructor({normalBuffer:t=null,resolutionScale:r=.5,width:i=vK.AUTO_SIZE,height:s=vK.AUTO_SIZE,resolutionX:u=i,resolutionY:c=s}={}){super("DepthDownsamplingPass");let h=new yD;h.normalBuffer=t,this.fullscreenMaterial=h,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new ir(1,1,{minFilter:tT,magFilter:tT,depthBuffer:!1,type:tV}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;let f=this.resolution=new vK(this,u,c,r);f.addEventListener("change",t=>this.setSize(f.baseWidth,f.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,r=nj){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=r}render(t,r,i,s,u){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,r){let i=this.resolution;i.setBaseSize(t,r),this.renderTarget.setSize(i.width,i.height),this.fullscreenMaterial.setSize(t,r)}initialize(t,r,i){let s=t.getContext();if(!(s.getExtension("EXT_color_buffer_float")||s.getExtension("EXT_color_buffer_half_float")))throw Error("Rendering to float texture is not supported.")}},yP=class extends null{constructor({kernelSize:t=v1.MEDIUM,offset:r=0,rotation:i=0,focusArea:s=.4,feather:u=.3}={}){super(),this.fragmentShader="#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform vec4 maskParams;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;float linearGradientMask(const in float x){return smoothstep(maskParams.x,maskParams.y,x)-smoothstep(maskParams.w,maskParams.z,x);}void main(){vec2 dUv=vOffset*(1.0-linearGradientMask(vUv2.y));vec4 sum=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y-dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y-dUv.y));gl_FragColor=sum*0.25;\n#include <colorspace_fragment>\n}",this.vertexShader="uniform vec4 texelSize;uniform float kernel;uniform float scale;uniform float aspect;uniform vec2 rotation;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;void main(){vec2 uv=position.xy*0.5+0.5;vUv=uv;vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));vOffset=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;gl_Position=vec4(position.xy,1.0,1.0);}",this.kernelSize=t,this.uniforms.aspect=new Uniform42(1),this.uniforms.rotation=new Uniform42(new Vector222),this.uniforms.maskParams=new Uniform42(new Vector44),this._offset=r,this._focusArea=s,this._feather=u,this.rotation=i,this.updateParams()}updateParams(){let t=this.uniforms.maskParams.value,r=Math.max(this.focusArea,0),i=Math.max(r-this.feather,0);t.set(this.offset-r,this.offset-i,this.offset+r,this.offset+i)}get rotation(){return Math.acos(this.uniforms.rotation.value.x)}set rotation(t){this.uniforms.rotation.value.set(Math.cos(t),Math.sin(t))}get offset(){return this._offset}set offset(t){this._offset=t,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(t){this._focusArea=t,this.updateParams()}get feather(){return this._feather}set feather(t){this._feather=t,this.updateParams()}setSize(t,r){super.setSize(t,r),this.uniforms.aspect.value=t/r}},yL=class extends null{constructor({offset:t=0,rotation:r=0,focusArea:i=.4,feather:s=.3,kernelSize:u=v1.MEDIUM,resolutionScale:c=.5,resolutionX:h=vK.AUTO_SIZE,resolutionY:f=vK.AUTO_SIZE}={}){super({kernelSize:u,resolutionScale:c,resolutionX:h,resolutionY:f}),this.blurMaterial=new yP({kernelSize:u,offset:t,rotation:r,focusArea:i,feather:s})}},yB=class extends null{constructor(){super({name:"AdaptiveLuminanceMaterial",defines:{MIP_LEVEL_1X1:"0.0"},uniforms:{luminanceBuffer0:new Uniform44(null),luminanceBuffer1:new Uniform44(null),minLuminance:new Uniform44(.01),deltaTime:new Uniform44(0),tau:new Uniform44(1)},extensions:{shaderTextureLOD:!0},blending:NoBlending17,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\nuniform lowp sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=unpackRGBAToFloat(texture2D(luminanceBuffer0,vUv));\n#if __VERSION__ < 300\nfloat l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\n#else\nfloat l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\n#endif\nl0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor=(adaptedLum==1.0)?vec4(1.0):packFloatToRGBA(adaptedLum);}",vertexShader:vk})}set luminanceBuffer0(t){this.uniforms.luminanceBuffer0.value=t}setLuminanceBuffer0(t){this.uniforms.luminanceBuffer0.value=t}set luminanceBuffer1(t){this.uniforms.luminanceBuffer1.value=t}setLuminanceBuffer1(t){this.uniforms.luminanceBuffer1.value=t}set mipLevel1x1(t){this.defines.MIP_LEVEL_1X1=t.toFixed(1),this.needsUpdate=!0}setMipLevel1x1(t){this.mipLevel1x1=t}set deltaTime(t){this.uniforms.deltaTime.value=t}setDeltaTime(t){this.uniforms.deltaTime.value=t}get minLuminance(){return this.uniforms.minLuminance.value}set minLuminance(t){this.uniforms.minLuminance.value=t}getMinLuminance(){return this.uniforms.minLuminance.value}setMinLuminance(t){this.uniforms.minLuminance.value=t}get adaptationRate(){return this.uniforms.tau.value}set adaptationRate(t){this.uniforms.tau.value=t}getAdaptationRate(){return this.uniforms.tau.value}setAdaptationRate(t){this.uniforms.tau.value=t}},yk=class extends null{constructor(t,{minLuminance:r=.01,adaptationRate:i=1}={}){super("AdaptiveLuminancePass"),this.fullscreenMaterial=new yB,this.needsSwap=!1,this.renderTargetPrevious=new WebGLRenderTarget18(1,1,{minFilter:NearestFilter6,magFilter:NearestFilter6,depthBuffer:!1}),this.renderTargetPrevious.texture.name="Luminance.Previous";let s=this.fullscreenMaterial;s.luminanceBuffer0=this.renderTargetPrevious.texture,s.luminanceBuffer1=t,s.minLuminance=r,s.adaptationRate=i,this.renderTargetAdapted=this.renderTargetPrevious.clone(),this.renderTargetAdapted.texture.name="Luminance.Adapted",this.copyPass=new vN(this.renderTargetPrevious,!1)}get texture(){return this.renderTargetAdapted.texture}getTexture(){return this.renderTargetAdapted.texture}set mipLevel1x1(t){this.fullscreenMaterial.mipLevel1x1=t}get adaptationRate(){return this.fullscreenMaterial.adaptationRate}set adaptationRate(t){this.fullscreenMaterial.adaptationRate=t}render(t,r,i,s,u){this.fullscreenMaterial.deltaTime=s,t.setRenderTarget(this.renderToScreen?null:this.renderTargetAdapted),t.render(this.scene,this.camera),this.copyPass.render(t,this.renderTargetAdapted)}},yO=class extends null{constructor({bilateral:t=!1,kernelSize:r=5}={}){super({name:"BoxBlurMaterial",defines:{DEPTH_PACKING:"0",DISTANCE_THRESHOLD:"0.1"},uniforms:{inputBuffer:new Uniform47(null),depthBuffer:new Uniform47(null),normalDepthBuffer:new Uniform47(null),texelSize:new Uniform47(new Vector224),cameraNearFar:new Uniform47(new Vector224),scale:new Uniform47(1)},blending:NoBlending18,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef BILATERAL\n#include <packing>\nuniform vec2 cameraNearFar;\n#ifdef NORMAL_DEPTH\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D normalDepthBuffer;\n#else\nuniform mediump sampler2D normalDepthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}\n#else\n#if DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}\n#endif\nfloat getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#endif\n}\n#ifdef PERSPECTIVE_CAMERA\n#define linearDepth(v) viewZToOrthographicDepth(getViewZ(readDepth(v)), cameraNearFar.x, cameraNearFar.y)\n#else\n#define linearDepth(v) readDepth(v)\n#endif\n#endif\n#define getTexel(v) texture2D(inputBuffer, v)\n#if KERNEL_SIZE == 3\nvarying vec2 vUv00,vUv01,vUv02;varying vec2 vUv03,vUv04,vUv05;varying vec2 vUv06,vUv07,vUv08;\n#elif KERNEL_SIZE == 5 && MAX_VARYING_VECTORS >= 13\nvarying vec2 vUv00,vUv01,vUv02,vUv03,vUv04;varying vec2 vUv05,vUv06,vUv07,vUv08,vUv09;varying vec2 vUv10,vUv11,vUv12,vUv13,vUv14;varying vec2 vUv15,vUv16,vUv17,vUv18,vUv19;varying vec2 vUv20,vUv21,vUv22,vUv23,vUv24;\n#else\nuniform vec2 texelSize;uniform float scale;varying vec2 vUv;\n#endif\nvoid main(){\n#if KERNEL_SIZE == 3\nvec4 c[]=vec4[KERNEL_SIZE_SQ](getTexel(vUv00),getTexel(vUv01),getTexel(vUv02),getTexel(vUv03),getTexel(vUv04),getTexel(vUv05),getTexel(vUv06),getTexel(vUv07),getTexel(vUv08));\n#ifdef BILATERAL\nfloat z[]=float[KERNEL_SIZE_SQ](linearDepth(vUv00),linearDepth(vUv01),linearDepth(vUv02),linearDepth(vUv03),linearDepth(vUv04),linearDepth(vUv05),linearDepth(vUv06),linearDepth(vUv07),linearDepth(vUv08));\n#endif\n#elif KERNEL_SIZE == 5 && MAX_VARYING_VECTORS >= 13\nvec4 c[]=vec4[KERNEL_SIZE_SQ](getTexel(vUv00),getTexel(vUv01),getTexel(vUv02),getTexel(vUv03),getTexel(vUv04),getTexel(vUv05),getTexel(vUv06),getTexel(vUv07),getTexel(vUv08),getTexel(vUv09),getTexel(vUv10),getTexel(vUv11),getTexel(vUv12),getTexel(vUv13),getTexel(vUv14),getTexel(vUv15),getTexel(vUv16),getTexel(vUv17),getTexel(vUv18),getTexel(vUv19),getTexel(vUv20),getTexel(vUv21),getTexel(vUv22),getTexel(vUv23),getTexel(vUv24));\n#ifdef BILATERAL\nfloat z[]=float[KERNEL_SIZE_SQ](linearDepth(vUv00),linearDepth(vUv01),linearDepth(vUv02),linearDepth(vUv03),linearDepth(vUv04),linearDepth(vUv05),linearDepth(vUv06),linearDepth(vUv07),linearDepth(vUv08),linearDepth(vUv09),linearDepth(vUv10),linearDepth(vUv11),linearDepth(vUv12),linearDepth(vUv13),linearDepth(vUv14),linearDepth(vUv15),linearDepth(vUv16),linearDepth(vUv17),linearDepth(vUv18),linearDepth(vUv19),linearDepth(vUv20),linearDepth(vUv21),linearDepth(vUv22),linearDepth(vUv23),linearDepth(vUv24));\n#endif\n#endif\nvec4 result=vec4(0.0);\n#ifdef BILATERAL\nfloat w=0.0;\n#if KERNEL_SIZE == 3 || (KERNEL_SIZE == 5 && MAX_VARYING_VECTORS >= 13)\nfloat centerDepth=z[KERNEL_SIZE_SQ_HALF];for(int i=0;i<KERNEL_SIZE_SQ;++i){float d=step(abs(z[i]-centerDepth),DISTANCE_THRESHOLD);result+=c[i]*d;w+=d;}\n#else\nfloat centerDepth=linearDepth(vUv);vec2 s=texelSize*scale;for(int x=-KERNEL_SIZE_HALF;x<=KERNEL_SIZE_HALF;++x){for(int y=-KERNEL_SIZE_HALF;y<=KERNEL_SIZE_HALF;++y){vec2 coords=vUv+vec2(x,y)*s;vec4 c=getTexel(coords);float z=(x==0&&y==0)?centerDepth:linearDepth(coords);float d=step(abs(z-centerDepth),DISTANCE_THRESHOLD);result+=c*d;w+=d;}}\n#endif\ngl_FragColor=result/max(w,1.0);\n#else\n#if KERNEL_SIZE == 3 || (KERNEL_SIZE == 5 && MAX_VARYING_VECTORS >= 13)\nfor(int i=0;i<KERNEL_SIZE_SQ;++i){result+=c[i];}\n#else\nvec2 s=texelSize*scale;for(int x=-KERNEL_SIZE_HALF;x<=KERNEL_SIZE_HALF;++x){for(int y=-KERNEL_SIZE_HALF;y<=KERNEL_SIZE_HALF;++y){result+=getTexel(uv+vec2(x,y)*s);}}\n#endif\ngl_FragColor=result*INV_KERNEL_SIZE_SQ;\n#endif\n}",vertexShader:"uniform vec2 texelSize;uniform float scale;\n#if KERNEL_SIZE == 3\nvarying vec2 vUv00,vUv01,vUv02;varying vec2 vUv03,vUv04,vUv05;varying vec2 vUv06,vUv07,vUv08;\n#elif KERNEL_SIZE == 5 && MAX_VARYING_VECTORS >= 13\nvarying vec2 vUv00,vUv01,vUv02,vUv03,vUv04;varying vec2 vUv05,vUv06,vUv07,vUv08,vUv09;varying vec2 vUv10,vUv11,vUv12,vUv13,vUv14;varying vec2 vUv15,vUv16,vUv17,vUv18,vUv19;varying vec2 vUv20,vUv21,vUv22,vUv23,vUv24;\n#else\nvarying vec2 vUv;\n#endif\nvoid main(){vec2 uv=position.xy*0.5+0.5;\n#if KERNEL_SIZE == 3\nvec2 s=texelSize*scale;vUv00=uv+s*vec2(-1.0,-1.0);vUv01=uv+s*vec2(0.0,-1.0);vUv02=uv+s*vec2(1.0,-1.0);vUv03=uv+s*vec2(-1.0,0.0);vUv04=uv;vUv05=uv+s*vec2(1.0,0.0);vUv06=uv+s*vec2(-1.0,1.0);vUv07=uv+s*vec2(0.0,1.0);vUv08=uv+s*vec2(1.0,1.0);\n#elif KERNEL_SIZE == 5\nvec2 s=texelSize*scale;vUv00=uv+s*vec2(-2.0,-2.0);vUv01=uv+s*vec2(-1.0,-2.0);vUv02=uv+s*vec2(0.0,-2.0);vUv03=uv+s*vec2(1.0,-2.0);vUv04=uv+s*vec2(2.0,-2.0);vUv05=uv+s*vec2(-2.0,-1.0);vUv06=uv+s*vec2(-1.0,-1.0);vUv07=uv+s*vec2(0.0,-1.0);vUv08=uv+s*vec2(1.0,-1.0);vUv09=uv+s*vec2(2.0,-1.0);vUv10=uv+s*vec2(-2.0,0.0);vUv11=uv+s*vec2(-1.0,0.0);vUv12=uv;vUv13=uv+s*vec2(1.0,0.0);vUv14=uv+s*vec2(2.0,0.0);vUv15=uv+s*vec2(-2.0,1.0);vUv16=uv+s*vec2(-1.0,1.0);vUv17=uv+s*vec2(0.0,1.0);vUv18=uv+s*vec2(1.0,1.0);vUv19=uv+s*vec2(2.0,1.0);vUv20=uv+s*vec2(-2.0,2.0);vUv21=uv+s*vec2(-1.0,2.0);vUv22=uv+s*vec2(0.0,2.0);vUv23=uv+s*vec2(1.0,2.0);vUv24=uv+s*vec2(2.0,2.0);\n#else\nvUv=uv;\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}"}),this.bilateral=t,this.kernelSize=r,this.maxVaryingVectors=8}set maxVaryingVectors(t){this.defines.MAX_VARYING_VECTORS=t.toFixed(0)}get kernelSize(){return Number(this.defines.KERNEL_SIZE)}set kernelSize(t){if(t%2==0)throw Error("The kernel size must be an odd number");this.defines.KERNEL_SIZE=t.toFixed(0),this.defines.KERNEL_SIZE_HALF=Math.floor(t/2).toFixed(0),this.defines.KERNEL_SIZE_SQ=(t**2).toFixed(0),this.defines.KERNEL_SIZE_SQ_HALF=Math.floor(t**2/2).toFixed(0),this.defines.INV_KERNEL_SIZE_SQ=(1/t**2).toFixed(6),this.needsUpdate=!0}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}get near(){return this.uniforms.cameraNearFar.value.x}get far(){return this.uniforms.cameraNearFar.value.y}set inputBuffer(t){this.uniforms.inputBuffer.value=t}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set normalDepthBuffer(t){this.uniforms.normalDepthBuffer.value=t,null!==t?this.defines.NORMAL_DEPTH="1":delete this.defines.NORMAL_DEPTH,this.needsUpdate=!0}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get bilateral(){return void 0!==this.defines.BILATERAL}set bilateral(t){null!==t?this.defines.BILATERAL="1":delete this.defines.BILATERAL,this.needsUpdate=!0}get worldDistanceThreshold(){var t,r;return-(t=Number(this.defines.DISTANCE_THRESHOLD),r=this.near,t*(r-this.far)-r)}set worldDistanceThreshold(t){let r=yi(-t,this.near,this.far);this.defines.DISTANCE_THRESHOLD=r.toFixed(12),this.needsUpdate=!0}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),t instanceof PerspectiveCamera5?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,r){this.uniforms.texelSize.value.set(1/t,1/r)}},yN=class extends null{constructor(){super({name:"DepthCopyMaterial",defines:{INPUT_DEPTH_PACKING:"0",OUTPUT_DEPTH_PACKING:"0",DEPTH_COPY_MODE:"0"},uniforms:{depthBuffer:new Uniform48(null),texelPosition:new Uniform48(new Vector225)},blending:NoBlending19,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\nvarying vec2 vUv;\n#ifdef NORMAL_DEPTH\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D normalDepthBuffer;\n#else\nuniform mediump sampler2D normalDepthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}\n#else\n#if INPUT_DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if INPUT_DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}\n#endif\nvoid main(){\n#if INPUT_DEPTH_PACKING == OUTPUT_DEPTH_PACKING\ngl_FragColor=texture2D(depthBuffer,vUv);\n#else\nfloat depth=readDepth(vUv);\n#if OUTPUT_DEPTH_PACKING == 3201\ngl_FragColor=(depth==1.0)?vec4(1.0):packDepthToRGBA(depth);\n#else\ngl_FragColor=vec4(vec3(depth),1.0);\n#endif\n#endif\n}",vertexShader:"varying vec2 vUv;\n#if DEPTH_COPY_MODE == 1\nuniform vec2 texelPosition;\n#endif\nvoid main(){\n#if DEPTH_COPY_MODE == 1\nvUv=texelPosition;\n#else\nvUv=position.xy*0.5+0.5;\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}"}),this.depthCopyMode=null.FULL}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set inputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get outputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}set outputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,r=BasicDepthPacking14){this.depthBuffer=t,this.inputDepthPacking=r}getInputDepthPacking(){return Number(this.defines.INPUT_DEPTH_PACKING)}setInputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}getOutputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}setOutputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get texelPosition(){return this.uniforms.texelPosition.value}getTexelPosition(){return this.uniforms.texelPosition.value}setTexelPosition(t){this.uniforms.texelPosition.value=t}get mode(){return this.depthCopyMode}set mode(t){this.depthCopyMode=t,this.defines.DEPTH_COPY_MODE=t.toFixed(0),this.needsUpdate=!0}getMode(){return this.mode}setMode(t){this.mode=t}},yF=class extends oa{constructor(t,r,i,s,u=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:eb.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new d1(null),depthBuffer:new d1(null),resolution:new d1(new rz),texelSize:new d1(new rz),cameraNear:new d1(.3),cameraFar:new d1(1e3),aspect:new d1(1),time:new d1(0)},blending:ek,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:u}),t&&this.setShaderParts(t),r&&this.setDefines(r),i&&this.setUniforms(i),this.copyCameraSettings(s)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,r=nj){this.depthBuffer=t,this.depthPacking=r}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#if DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <colorspace_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(vV.FRAGMENT_HEAD,t.get(vV.FRAGMENT_HEAD)||"").replace(vV.FRAGMENT_MAIN_UV,t.get(vV.FRAGMENT_MAIN_UV)||"").replace(vV.FRAGMENT_MAIN_IMAGE,t.get(vV.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}".replace(vV.VERTEX_HEAD,t.get(vV.VERTEX_HEAD)||"").replace(vV.VERTEX_MAIN_SUPPORT,t.get(vV.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(t){for(let r of t.entries())this.defines[r[0]]=r[1];return this.needsUpdate=!0,this}setUniforms(t){for(let r of t.entries())this.uniforms[r[0]]=r[1];return this}setExtensions(t){for(let r of(this.extensions={},t))this.extensions[r]=!0;return this}get encodeOutput(){return void 0!==this.defines.ENCODE_OUTPUT}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof oc?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,r){let i=this.uniforms;i.resolution.value.set(t,r),i.texelSize.value.set(1/t,1/r),i.aspect.value=t/r}static get Section(){return vV}},yU=class extends null{constructor({kernelSize:t=35}={}){super({name:"GaussianBlurMaterial",uniforms:{inputBuffer:new Uniform50(null),texelSize:new Uniform50(new Vector227),direction:new Uniform50(new Vector227),kernel:new Uniform50(null),scale:new Uniform50(1)},blending:NoBlending21,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform vec2 kernel[STEPS];varying vec2 vOffset;varying vec2 vUv;void main(){vec4 result=texture2D(inputBuffer,vUv)*kernel[0].y;for(int i=1;i<STEPS;++i){vec2 offset=kernel[i].x*vOffset;vec4 c0=texture2D(inputBuffer,vUv+offset);vec4 c1=texture2D(inputBuffer,vUv-offset);result+=(c0+c1)*kernel[i].y;}gl_FragColor=result;\n#include <colorspace_fragment>\n}",vertexShader:"uniform vec2 texelSize;uniform vec2 direction;uniform float scale;varying vec2 vOffset;varying vec2 vUv;void main(){vOffset=direction*texelSize*scale;vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}"}),this._kernelSize=0,this.kernelSize=t}set inputBuffer(t){this.uniforms.inputBuffer.value=t}get kernelSize(){return this._kernelSize}set kernelSize(t){this._kernelSize=t,this.generateKernel(t)}get direction(){return this.uniforms.direction.value}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}generateKernel(t){let r=new vX(t),i=r.linearSteps,s=new Float64Array(2*i);for(let t=0,u=0;t<i;++t)s[u++]=r.linearOffsets[t],s[u++]=r.linearWeights[t];this.uniforms.kernel.value=s,this.defines.STEPS=i.toFixed(0),this.needsUpdate=!0}setSize(t,r){this.uniforms.texelSize.value.set(1/t,1/r)}},yz=Number(eb.replace(/\D+/g,"")),yG=255/256,yH=new Float32Array([255/256/0x1000000,255/256/65536,255/256/256,255/256]),yV=new Float32Array([yG,yG/256,yG/65536,1/0x1000000]);function yj(t,r,i){for(let s of r){let r="$1"+t+s.charAt(0).toUpperCase()+s.slice(1),u=RegExp("([^\\.])(\\b"+s+"\\b)","g");for(let t of i.entries())null!==t[1]&&i.set(t[0],t[1].replace(u,r))}}var yW=class extends vL{constructor(t,...r){super("EffectPass"),this.fullscreenMaterial=new yF(null,null,null,t),this.listener=t=>this.handleEvent(t),this.effects=[],this.setEffects(r),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(let r of this.effects)r.mainScene=t}set mainCamera(t){for(let r of(this.fullscreenMaterial.copyCameraSettings(t),this.effects))r.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){let r=this.fullscreenMaterial;r.dithering=t,r.needsUpdate=!0}setEffects(t){for(let t of this.effects)t.removeEventListener("change",this.listener);for(let r of(this.effects=t.sort((t,r)=>r.attributes-t.attributes),this.effects))r.addEventListener("change",this.listener)}updateMaterial(){let t=new vj,r=0;for(let i of this.effects)if(i.blendMode.blendFunction===vq.DST)t.attributes|=i.getAttributes()&vH.DEPTH;else if((t.attributes&i.getAttributes()&vH.CONVOLUTION)!=0)throw Error(`Convolution effects cannot be merged (${i.name})`);else!function(t,r,i){let s=r.getFragmentShader(),u=r.getVertexShader(),c=void 0!==s&&/mainImage/.test(s),h=void 0!==s&&/mainUv/.test(s);if(i.attributes|=r.getAttributes(),void 0===s)throw Error(`Missing fragment shader (${r.name})`);if(h&&(i.attributes&vH.CONVOLUTION)!=0)throw Error(`Effects that transform UVs are incompatible with convolution effects (${r.name})`);if(c||h){let f=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,p=i.shaderParts,v=p.get(vV.FRAGMENT_HEAD)||"",y=p.get(vV.FRAGMENT_MAIN_UV)||"",x=p.get(vV.FRAGMENT_MAIN_IMAGE)||"",_=p.get(vV.VERTEX_HEAD)||"",b=p.get(vV.VERTEX_MAIN_SUPPORT)||"",w=new Set,S=new Set;if(h&&(y+=`	${t}MainUv(UV);
`,i.uvTransformation=!0),null!==u&&/mainSupport/.test(u)){let r=/mainSupport *\([\w\s]*?uv\s*?\)/.test(u);for(let s of(b+=`	${t}MainSupport(`,b+=r?"vUv);\n":");\n",u.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g)))for(let t of s[1].split(/\s*,\s*/))i.varyings.add(t),w.add(t),S.add(t);for(let t of u.matchAll(f))S.add(t[1])}for(let t of s.matchAll(f))S.add(t[1]);for(let t of r.defines.keys())S.add(t.replace(/\([\w\s,]*\)/g,""));for(let t of r.uniforms.keys())S.add(t);S.delete("while"),S.delete("for"),S.delete("if"),r.uniforms.forEach((r,s)=>i.uniforms.set(t+s.charAt(0).toUpperCase()+s.slice(1),r)),r.defines.forEach((r,s)=>i.defines.set(t+s.charAt(0).toUpperCase()+s.slice(1),r));let A=new Map([["fragment",s],["vertex",u]]);yj(t,S,i.defines),yj(t,S,A),s=A.get("fragment"),u=A.get("vertex");let M=r.blendMode;if(i.blendModes.set(M.blendFunction,M),c){null!==r.inputColorSpace&&r.inputColorSpace!==i.colorSpace&&(x+=r.inputColorSpace===nQ?"color0 = sRGBTransferOETF(color0);\n	":"color0 = sRGBToLinear(color0);\n	"),r.outputColorSpace!==nJ?i.colorSpace=r.outputColorSpace:null!==r.inputColorSpace&&(i.colorSpace=r.inputColorSpace);x+=`${t}MainImage(color0, UV, `,(i.attributes&vH.DEPTH)!=0&&/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/.test(s)&&(x+="depth, ",i.readDepth=!0),x+="color1);\n	";let u=t+"BlendOpacity";i.uniforms.set(u,M.opacity),x+=`color0 = blend${M.blendFunction}(color0, color1, ${u});

	`,v+=`uniform float ${u};

`}if(v+=s+"\n",null!==u&&(_+=u+"\n"),p.set(vV.FRAGMENT_HEAD,v),p.set(vV.FRAGMENT_MAIN_UV,y),p.set(vV.FRAGMENT_MAIN_IMAGE,x),p.set(vV.VERTEX_HEAD,_),p.set(vV.VERTEX_MAIN_SUPPORT,b),null!==r.extensions)for(let t of r.extensions)i.extensions.add(t)}else throw Error(`Could not find mainImage or mainUv function (${r.name})`)}("e"+r++,i,t);let i=t.shaderParts.get(vV.FRAGMENT_HEAD),s=t.shaderParts.get(vV.FRAGMENT_MAIN_IMAGE),u=t.shaderParts.get(vV.FRAGMENT_MAIN_UV),c=/\bblend\b/g;for(let r of t.blendModes.values())i+=r.getShaderCode().replace(c,`blend${r.blendFunction}`)+"\n";for(let[r,c]of((t.attributes&vH.DEPTH)!=0?(t.readDepth&&(s="float depth = readDepth(UV);\n\n	"+s),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,t.colorSpace===nQ&&(s+="color0 = sRGBToLinear(color0);\n	"),t.uvTransformation?(u="vec2 transformedUv = vUv;\n"+u,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(vV.FRAGMENT_HEAD,i),t.shaderParts.set(vV.FRAGMENT_MAIN_IMAGE,s),t.shaderParts.set(vV.FRAGMENT_MAIN_UV,u),t.shaderParts))null!==c&&t.shaderParts.set(r,c.trim().replace(/^#/,"\n#"));this.skipRendering=0===r,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,r=nj){for(let i of(this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=r,this.effects))i.setDepthTexture(t,r)}render(t,r,i,s,u){for(let i of this.effects)i.update(t,r,s);if(!this.skipRendering||this.renderToScreen){let u=this.fullscreenMaterial;u.inputBuffer=r.texture,u.time+=s*this.timeScale,t.setRenderTarget(this.renderToScreen?null:i),t.render(this.scene,this.camera)}}setSize(t,r){for(let i of(this.fullscreenMaterial.setSize(t,r),this.effects))i.setSize(t,r)}initialize(t,r,i){for(let s of(this.renderer=t,this.effects))s.initialize(t,r,i);this.updateMaterial(),void 0!==i&&i!==tN&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){for(let t of(super.dispose(),this.effects))t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){if("change"===t.type)this.recompile()}},yX=class extends vL{constructor(t,r,{renderTarget:i,resolutionScale:s=1,width:u=vK.AUTO_SIZE,height:c=vK.AUTO_SIZE,resolutionX:h=u,resolutionY:f=c}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new yf(t,r,new hx);let p=this.renderPass;p.ignoreBackground=!0,p.skipShadowMapUpdate=!0;let v=p.getClearPass();v.overrideClearColor=new aw(7829503),v.overrideClearAlpha=1,this.renderTarget=i,void 0===this.renderTarget&&(this.renderTarget=new ir(1,1,{minFilter:tT,magFilter:tT}),this.renderTarget.texture.name="NormalPass.Target");let y=this.resolution=new vK(this,h,f,s);y.addEventListener("change",t=>this.setSize(y.baseWidth,y.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,r,i,s,u){let c=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,c,c)}setSize(t,r){let i=this.resolution;i.setBaseSize(t,r),this.renderTarget.setSize(i.width,i.height)}},yY=[new Float32Array(3),new Float32Array(3)],yZ=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],yK=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function yJ(t,r,i,s){let u=i[0]-r[0],c=i[1]-r[1],h=i[2]-r[2],f=t[0]-r[0],p=t[1]-r[1],v=t[2]-r[2],y=c*v-h*p,x=h*f-u*v,_=u*p-c*f,b=Math.sqrt(y*y+x*x+_*_),w=y/b,S=x/b,A=_/b,M=-(t[0]*w+t[1]*S+t[2]*A);return Math.abs(s[0]*w+s[1]*S+s[2]*A+M)*(.5*b)/3}function yQ(t,r,i,s,u,c){let h=(i+s*r+u*r*r)*4;c[0]=t[h+0],c[1]=t[h+1],c[2]=t[h+2]}var yq=[new Float32Array(2),new Float32Array(2)],y$=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),y0=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],y1=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],y2=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])];function y3(t,r,i){return t+(r-t)*i}function y5(t){var r,i,s,u,c,h,f,p;let v=yq[0],y=yq[1],x=.5*Math.sqrt(2*v[0]),_=.5*Math.sqrt(2*v[1]),b=.5*Math.sqrt(2*y[0]),w=.5*Math.sqrt(2*y[1]),S=Math.min(Math.max(t/32,0),1);v[0]=(r=x,i=v[0],r+(i-r)*S),v[1]=(s=_,u=v[1],s+(u-s)*S),y[0]=(c=b,h=y[0],c+(h-c)*S),y[1]=(f=w,p=y[1],f+(p-f)*S)}function y4(t,r,i,s,u,c){let h=i-t,f=s-r,p=u+1,v=r+f*(u-t)/h,y=r+f*(p-t)/h;if(u>=t&&u<i||p>t&&p<=i){if(Math.sign(v)===Math.sign(y)||1e-4>Math.abs(v)||1e-4>Math.abs(y)){let t=(v+y)/2;t<0?(c[0]=Math.abs(t),c[1]=0):(c[0]=0,c[1]=Math.abs(t))}else{let s=-r*h/f+t,u=Math.trunc(s),p=s>t?v*(s-u)/2:0,x=s<i?y*(1-(s-u))/2:0;(Math.abs(p)>Math.abs(x)?p:-x)<0?(c[0]=Math.abs(p),c[1]=Math.abs(x)):(c[0]=Math.abs(x),c[1]=Math.abs(p))}}else c[0]=0,c[1]=0;return c}function y9(t,r,i,s,u,c){let h=0;for(let f=0;f<30;++f)for(let p=0;p<30;++p)(function(t,r,i,s,u,c){let h=t===i&&r===s;return!h&&(h=(s-r)*(u-(t+i)/2)+(t-i)*(c-(r+s)/2)>0),h})(t,r,i,s,u+p/29,c+f/29)&&++h;return h/900}function y8(t,r,i,s,u,c,h,f){let p=y2[t],v=p[0],y=p[1];return v>0&&(r+=h[0],i+=h[1]),y>0&&(s+=h[0],u+=h[1]),f[0]=1-y9(r,i,s,u,1+c,0+c),f[1]=y9(r,i,s,u,1+c,1+c),f}function y6(t,r,i){let s=new Float32Array(2);for(let u=0,c=t.length;u<c;++u){let c=t[u],h=c.data,f=c.width;for(let t=0;t<f;++t)for(let c=0;c<f;++c){i?!function(t,r,i,s,u){let c=yq[0],h=yq[1],f=.5+s,p=.5+s-1,v=r+i+1;switch(t){case 0:case 5:case 10:u[0]=0,u[1]=0;break;case 1:r<=i?y4(0,p,v/2,0,r,u):(u[0]=0,u[1]=0);break;case 2:r>=i?y4(v/2,0,v,p,r,u):(u[0]=0,u[1]=0);break;case 3:y4(0,p,v/2,0,r,c),y4(v/2,0,v,p,r,h),y5(v,yq),u[0]=c[0]+h[0],u[1]=c[1]+h[1];break;case 4:r<=i?y4(0,f,v/2,0,r,u):(u[0]=0,u[1]=0);break;case 6:Math.abs(s)>0?(y4(0,f,v,p,r,c),y4(0,f,v/2,0,r,h),y4(v/2,0,v,p,r,u),h[0]=h[0]+u[0],h[1]=h[1]+u[1],u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2):y4(0,f,v,p,r,u);break;case 7:case 14:y4(0,f,v,p,r,u);break;case 8:r>=i?y4(v/2,0,v,f,r,u):(u[0]=0,u[1]=0);break;case 9:Math.abs(s)>0?(y4(0,p,v,f,r,c),y4(0,p,v/2,0,r,h),y4(v/2,0,v,f,r,u),h[0]=h[0]+u[0],h[1]=h[1]+u[1],u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2):y4(0,p,v,f,r,u);break;case 11:case 13:y4(0,p,v,f,r,u);break;case 12:y4(0,f,v/2,0,r,c),y4(v/2,0,v,f,r,h),y5(v,yq),u[0]=c[0]+h[0],u[1]=c[1]+h[1];break;case 15:u[0]=0,u[1]=0}return u}(u,c,t,r,s):!function(t,r,i,s,u){let c=yq[0],h=yq[1],f=r+i+1;switch(t){case 0:y8(t,1,1,1+f,1+f,r,s,c),y8(t,1,0,1+f,0+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2;break;case 1:y8(t,1,0,0+f,0+f,r,s,c),y8(t,1,0,1+f,0+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2;break;case 2:y8(t,0,0,1+f,0+f,r,s,c),y8(t,1,0,1+f,0+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2;break;case 3:y8(t,1,0,1+f,0+f,r,s,u);break;case 4:y8(t,1,1,0+f,0+f,r,s,c),y8(t,1,1,1+f,0+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2;break;case 5:y8(t,1,1,0+f,0+f,r,s,c),y8(t,1,0,1+f,0+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2;break;case 6:y8(t,1,1,1+f,0+f,r,s,u);break;case 7:y8(t,1,1,1+f,0+f,r,s,c),y8(t,1,0,1+f,0+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2;break;case 8:y8(t,0,0,1+f,1+f,r,s,c),y8(t,1,0,1+f,1+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2;break;case 9:y8(t,1,0,1+f,1+f,r,s,u),y8(t,1,0,1+f,1+f,r,s,u);break;case 10:y8(t,0,0,1+f,1+f,r,s,c),y8(t,1,0,1+f,0+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2;break;case 11:y8(t,1,0,1+f,1+f,r,s,c),y8(t,1,0,1+f,0+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2;break;case 12:y8(t,1,1,1+f,1+f,r,s,u);break;case 13:y8(t,1,1,1+f,1+f,r,s,c),y8(t,1,0,1+f,1+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2;break;case 14:y8(t,1,1,1+f,1+f,r,s,c),y8(t,1,1,1+f,0+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2;break;case 15:y8(t,1,1,1+f,1+f,r,s,c),y8(t,1,0,1+f,0+f,r,s,h),u[0]=(c[0]+h[0])/2,u[1]=(c[1]+h[1])/2}return u}(u,c,t,r,s);let p=(t*f+c)*2;h[p]=255*s[0],h[p+1]=255*s[1]}}}function y7(t,r,i,s,u,c,h){let f=h.data,p=h.width;for(let h=0,v=i.length;h<v;++h){let v=s[h],y=i[h],x=y.data,_=y.width;for(let i=0;i<u;++i)for(let s=0;s<u;++s){let h=v[0]*u+t+s,y=((v[1]*u+r+i)*p+h)*4,b=c?(i*i*_+s*s)*2:(i*_+s)*2;f[y]=x[b],f[y+1]=x[b+1],f[y+2]=0,f[y+3]=255}}}var xe=new Map([[xn(0,0,0,0),new Float32Array([0,0,0,0])],[xn(0,0,0,1),new Float32Array([0,0,0,1])],[xn(0,0,1,0),new Float32Array([0,0,1,0])],[xn(0,0,1,1),new Float32Array([0,0,1,1])],[xn(0,1,0,0),new Float32Array([0,1,0,0])],[xn(0,1,0,1),new Float32Array([0,1,0,1])],[xn(0,1,1,0),new Float32Array([0,1,1,0])],[xn(0,1,1,1),new Float32Array([0,1,1,1])],[xn(1,0,0,0),new Float32Array([1,0,0,0])],[xn(1,0,0,1),new Float32Array([1,0,0,1])],[xn(1,0,1,0),new Float32Array([1,0,1,0])],[xn(1,0,1,1),new Float32Array([1,0,1,1])],[xn(1,1,0,0),new Float32Array([1,1,0,0])],[xn(1,1,0,1),new Float32Array([1,1,0,1])],[xn(1,1,1,0),new Float32Array([1,1,1,0])],[xn(1,1,1,1),new Float32Array([1,1,1,1])]]);function xt(t,r,i){return t+(r-t)*i}function xn(t,r,i,s){var u,c,h;let f=(u=t)+(r-u)*.75;let p=(c=i)+(s-c)*.75;return(h=f)+(p-h)*.875}function xr(t){let r={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},i=document.createElement("div");i.id="webglmessage",i.style.fontFamily="monospace",i.style.fontSize="13px",i.style.fontWeight="normal",i.style.textAlign="center",i.style.background="#fff",i.style.color="#000",i.style.padding="1.5em",i.style.width="400px",i.style.margin="5em auto 0";let s='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>';return s=(s=r[t]?s.replace("$0","graphics card"):s.replace("$0","browser")).replace("$1",{1:"WebGL",2:"WebGL 2"}[t]),i.innerHTML=s,i}let xi=(0,ex.createContext)(null),xa=t=>(t.getAttributes()&vH.CONVOLUTION)===vH.CONVOLUTION,xo=ex.memo((0,ex.forwardRef)(({children:t,camera:r,scene:i,resolutionScale:s,enabled:u=!0,renderPriority:c=1,autoClear:h=!0,depthBuffer:f,enableNormalPass:p,stencilBuffer:v,multisampling:y=8,frameBufferType:x=tj},_)=>{let{gl:b,scene:w,camera:S,size:A}=pB(),M=i||w,C=r||S,[T,I,D]=(0,ex.useMemo)(()=>{let t=function(){var t;if(void 0!==j)return j;try{let r;let i=document.createElement("canvas");return j=!!(window.WebGL2RenderingContext&&(r=i.getContext("webgl2"))),r&&(null==(t=r.getExtension("WEBGL_lose_context"))||t.loseContext()),j}catch(t){return j=!1}}(),r=new vG(b,{depthBuffer:f,stencilBuffer:v,multisampling:y>0&&t?y:0,frameBufferType:x});r.addPass(new yf(M,C));let i=null,u=null;return p&&((u=new yX(M,C)).enabled=!1,r.addPass(u),void 0!==s&&t&&((i=new yR({normalBuffer:u.texture,resolutionScale:s})).enabled=!1,r.addPass(i))),[r,u,i]},[C,b,f,v,y,x,M,p,s]);(0,ex.useEffect)(()=>null==T?void 0:T.setSize(A.width,A.height),[T,A]),pk((t,r)=>{if(u){let t=b.autoClear;b.autoClear=h,v&&!h&&b.clearStencil(),T.render(r),b.autoClear=t}},u?c:0);let R=(0,ex.useRef)(null),P=function(t){let r=ex.useRef(null);return f5(()=>void(r.current=t.current.__r3f),[t]),r}(R);(0,ex.useLayoutEffect)(()=>{let t=[];if(R.current&&P.current&&T){let r=P.current.objects;for(let i=0;i<r.length;i++){let s=r[i];if(s instanceof ye){let u=[s];if(!xa(s)){let t=null;for(;(t=r[i+1])instanceof ye&&!xa(t);){;u.push(t),i++}}let c=new yW(C,...u);t.push(c)}else s instanceof vL&&t.push(s)}for(let r of t)null==T||T.addPass(r);I&&(I.enabled=!0),D&&(D.enabled=!0)}return()=>{for(let r of t)null==T||T.removePass(r);I&&(I.enabled=!1),D&&(D.enabled=!1)}},[T,t,C,I,D,P]),(0,ex.useEffect)(()=>{let t=b.toneMapping;return b.toneMapping=tl,()=>{b.toneMapping=t}},[]);let L=(0,ex.useMemo)(()=>({composer:T,normalPass:I,downSamplingPass:D,resolutionScale:s,camera:C,scene:M}),[T,I,D,s,C,M]);return(0,ex.useImperativeHandle)(_,()=>T,[T]),(0,ev.jsx)(xi.Provider,{value:L,children:(0,ev.jsx)("group",{ref:R,children:t})})})),xs=0,xl=new WeakMap,xu=((t,r)=>ex.forwardRef(function({blendFunction:i=null==r?void 0:r.blendFunction,opacity:s=null==r?void 0:r.opacity,...u},c){let h=xl.get(t);if(!h){let r=`@react-three/postprocessing/${t.name}-${xs++}`;f$({[r]:t}),xl.set(t,h=r)}let f=pB(t=>t.camera),p=ex.useMemo(()=>{var t,i;return[...null!=(t=null==r?void 0:r.args)?t:[],...null!=(i=u.args)?i:[{...r,...u}]]},[JSON.stringify(u)]);return(0,ev.jsx)(h,{camera:f,"blendMode-blendFunction":i,"blendMode-opacity-value":s,...u,ref:c,args:p})}))(yt,{blendFunction:vq.ADD}),xc={props:{shadow:{frames:60,color:"#cbd5e1",colorBlend:2,toneMapped:!0,alphaTest:.75,opacity:.9,scale:16},light:{intensity:3.5,amount:8,radius:4,ambient:.5,position:[-25,50,25],bias:.001,size:16},grid:{args:[12,12],cellSize:1,cellThickness:.5,cellColor:"#64748b",sectionSize:5,sectionThickness:1,sectionColor:"#cbd5e1",followCamera:!1,infiniteGrid:!0}}},xh=Symbol(),xd=Symbol(),xf=(t,r)=>new Proxy(t,r),xp=Object.getPrototypeOf,xg=new WeakMap,xm=t=>t&&(xg.has(t)?xg.get(t):xp(t)===Object.prototype||xp(t)===Array.prototype),xv=t=>"object"==typeof t&&null!==t,xy=t=>Object.values(Object.getOwnPropertyDescriptors(t)).some(t=>!t.configurable&&!t.writable),xx=t=>{if(Array.isArray(t))return Array.from(t);let r=Object.getOwnPropertyDescriptors(t);return Object.values(r).forEach(t=>{t.configurable=!0}),Object.create(xp(t),r)},x_=(t,r)=>{let i={f:r},s=!1,u=(r,u)=>{if(!s){let s=i.a.get(t);if(!s&&(s={},i.a.set(t,s)),"w"===r)s.w=!0;else{let t=s[r];!t&&(t=new Set,s[r]=t),t.add(u)}}},c=()=>{s=!0,i.a.delete(t)},h={get:(r,s)=>s===xd?t:(u("k",s),xw(Reflect.get(r,s),i.a,i.c,i.t)),has:(t,r)=>r===xh?(c(),!0):(u("h",r),Reflect.has(t,r)),getOwnPropertyDescriptor:(t,r)=>(u("o",r),Reflect.getOwnPropertyDescriptor(t,r)),ownKeys:t=>(u("w"),Reflect.ownKeys(t))};return r&&(h.set=h.deleteProperty=()=>!1),[h,i]},xb=t=>t[xd]||t,xw=(t,r,i,s)=>{if(!xm(t))return t;let u=s&&s.get(t);if(!u){let r=xb(t);u=xy(r)?[r,xx(r)]:[r],null==s||s.set(t,u)}let[c,h]=u,f=i&&i.get(c);return(!f||!!h!==f[1].f)&&((f=x_(c,!!h))[1].p=xf(h||c,f[0]),i&&i.set(c,f)),f[1].a=r,f[1].c=i,f[1].t=s,f[1].p},xS=(t,r)=>{let i=Reflect.ownKeys(t),s=Reflect.ownKeys(r);return i.length!==s.length||i.some((t,r)=>t!==s[r])},xA=(t,r,i,s,u=Object.is)=>{if(u(t,r))return!1;if(!xv(t)||!xv(r))return!0;let c=i.get(xb(t));if(!c)return!0;if(s){if(s.get(t)===r)return!1;s.set(t,r)}let h=null;for(let i of c.h||[])if(h=Reflect.has(t,i)!==Reflect.has(r,i))return h;if(!0===c.w){if(h=xS(t,r))return h}else for(let i of c.o||[]){let s=!!Reflect.getOwnPropertyDescriptor(t,i);if(h=!!Reflect.getOwnPropertyDescriptor(r,i)!==s)return h}for(let f of c.k||[])if(h=xA(t[f],r[f],i,s,u))return h;if(null===h)throw Error("invalid used");return h},xM=t=>xm(t)&&t[xd]||null,xC=(t,r=!0)=>{xg.set(t,r)},xT=(t,r,i)=>{let s=[],u=new WeakSet,c=(t,h)=>{var f,p,v;if(u.has(t))return;xv(t)&&u.add(t);let y=xv(t)&&r.get(xb(t));if(y){if(null===(f=y.h)||void 0===f||f.forEach(t=>{let r=`:has(${String(t)})`;s.push(h?[...h,r]:[r])}),!0===y.w){let t=":ownKeys";s.push(h?[...h,t]:[t])}else null===(p=y.o)||void 0===p||p.forEach(t=>{let r=`:hasOwn(${String(t)})`;s.push(h?[...h,r]:[r])});null===(v=y.k)||void 0===v||v.forEach(r=>{(!i||"value"in(Object.getOwnPropertyDescriptor(t,r)||{}))&&c(t[r],h?[...h,r]:[r])})}else h&&s.push(h)};return c(t),s},xE=t=>"object"==typeof t&&null!==t,xI=(t,r)=>{let i=xP.get(t);if((null==i?void 0:i[0])===r)return i[1];let s=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return xC(s,!0),xP.set(t,[r,s]),Reflect.ownKeys(t).forEach(r=>{if(Object.getOwnPropertyDescriptor(s,r))return;let i=Reflect.get(t,r),{enumerable:u}=Reflect.getOwnPropertyDescriptor(t,r),c={value:i,enumerable:u,configurable:!0};if(xR.has(i))xC(i,!1);else if(xD.has(i)){let[t,r]=xD.get(i);c.value=xI(t,r())}Object.defineProperty(s,r,c)}),Object.preventExtensions(s)},xD=new WeakMap,xR=new WeakSet,xP=new WeakMap,xL=[1,1],xB=new WeakMap,xk=Object.is,xO=(t,r)=>new Proxy(t,r),xN=t=>xE(t)&&!xR.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),xF=xI,xU=(t,r,i,s)=>({deleteProperty(t,r){let u=Reflect.get(t,r);i(r);let c=Reflect.deleteProperty(t,r);return c&&s(["delete",[r],u]),c},set(u,c,h,f){let p=!t()&&Reflect.has(u,c),v=Reflect.get(u,c,f);if(p&&(xk(v,h)||xB.has(h)&&xk(v,xB.get(h))))return!0;i(c),xE(h)&&(h=xM(h)||h);let y=!xD.has(h)&&xN(h)?xz(h):h;return r(c,y),Reflect.set(u,c,y,f),s(["set",[c],h,v]),!0}});function xz(t={}){if(!xE(t))throw Error("object required");let r=xB.get(t);if(r)return r;let i=xL[0],s=new Set,u=(t,r=++xL[0])=>{i!==r&&(i=r,s.forEach(i=>i(t,r)))},c=xL[1],h=t=>(r,i)=>{let s=[...r];s[1]=[t,...s[1]],u(s,i)},f=new Map,p=!0,v=xU(()=>p,(t,r)=>{let i=!xR.has(r)&&xD.get(r);if(i){if(f.has(t))throw Error("prop listener already exists");if(s.size){let r=i[2](h(t));f.set(t,[i,r])}else f.set(t,[i])}},t=>{var r;let i=f.get(t);i&&(f.delete(t),null==(r=i[1])||r.call(i))},u),y=xO(t,v);xB.set(t,y);let x=[t,(t=++xL[1])=>(c!==t&&!s.size&&(c=t,f.forEach(([r])=>{let s=r[1](t);s>i&&(i=s)})),i),t=>(s.add(t),1===s.size&&f.forEach(([t,r],i)=>{if(r)throw Error("remove already exists");let s=t[2](h(i));f.set(i,[t,s])}),()=>{s.delete(t),0===s.size&&f.forEach(([t,r],i)=>{r&&(r(),f.set(i,[t]))})})];return xD.set(y,x),Reflect.ownKeys(t).forEach(r=>{let i=Object.getOwnPropertyDescriptor(t,r);"value"in i&&i.writable&&(y[r]=t[r])}),p=!1,y}function xG(t,r,i){let s;let u=xD.get(t);let c=[],h=u[2],f=!1,p=h(t=>{if(c.push(t),i){r(c.splice(0));return}!s&&(s=Promise.resolve().then(()=>{s=void 0,f&&r(c.splice(0))}))});return f=!0,()=>{f=!1,p()}}function xH(t){let r=xD.get(t);let[i,s]=r;return xF(i,s())}let xV=()=>({proxyStateMap:xD,refSet:xR,snapCache:xP,versionHolder:xL,proxyCache:xB}),xj=(t,r)=>{let i=(0,ex.useRef)();(0,ex.useEffect)(()=>{i.current=xT(t,r,!0)}),(0,ex.useDebugValue)(i.current)},xW=new WeakMap;function xX(t,r){let i=null==r?void 0:r.sync,s=(0,ex.useMemo)(()=>t&&new WeakMap,[t]),u=(0,ex.useRef)(),c=!0,h=(0,ex.useSyncExternalStore)((0,ex.useCallback)(r=>{let s=xG(t,r,i);return r(),s},[t,i]),()=>{let r=xH(t);try{if(!c&&u.current&&!xA(u.current,r,s,new WeakMap))return u.current}catch(t){}return r},()=>xH(t));return c=!1,(0,ex.useLayoutEffect)(()=>{u.current=h}),xj(h,s),xw(h,s,(0,ex.useMemo)(()=>new WeakMap,[]),xW)}i("2611");let xY={storeName:"runtime-configs-store",defaultConfigs:{camera:{dollyToCursor:!1,maxPolarAngle:Math.PI/2.2,minZoom:25,maxZoom:125,initZoom:50,initRotation:45,initHeight:15},light:{ambientIntensity:2,ambientColor:"#bfdbfe",directionalIntensity:3,directionalColor:"#fed7aa",bloomLuminanceThreshold:1.5,bloomRadius:.7},environment:{shadows:!0,postProcess:!0,backgroundColor:"#f1f5f9",fogColor:"#cbd5e1"},trail:{trailColor:"blue",trailSize:1,trailSpeed:1,trailLength:5,trailIntensity:5,trailStartMinDelay:0,trailStartMaxDelay:5,tubeMaterial:""},floatingUI:{width:350,height:200,scale:.5,offset:[0,5,0],locked:!0,rotation:0}},configLabels:{camera:"",light:"",bloom:"",environment:"",interaction:"",trail:" ",floatingUI:" UI"},configsLabels:{camera:{dollyToCursor:"   ",maxPolarAngle:"   ",minZoom:"  ",maxZoom:"  ",initZoom:"  ",initRotation:"  ",initHeight:"  "},light:{ambientIntensity:"  ",ambientColor:"  ",directionalIntensity:"  ",directionalColor:"  ",bloomLuminanceThreshold:" ",bloomRadius:" "},environment:{shadows:" ",postProcess:"  ",backgroundColor:" ",fogColor:" "},trail:{trailColor:" ",trailSize:" ",trailSpeed:" ",trailLength:" ",trailIntensity:" ",trailStartMinDelay:"  ",trailStartMaxDelay:"  ",tubeMaterial:" "},floatingUI:{width:"UI ",height:"UI ",scale:"UI ",offset:"UI ",locked:"UI ",rotation:"UI "}},configsOptions:{camera:{maxPolarAngle:{min:Math.PI/3.3,max:Math.PI/2},minZoom:{min:15,max:75},maxZoom:{min:75,max:150},initZoom:{min:15,max:150},initRotation:{min:0,max:360,step:1}},light:{bloomLuminanceThreshold:{min:.5,max:1.5,step:.1},bloomRadius:{min:.4,max:1,step:.1}},trail:{trailSize:{min:.5,max:3.5,step:.1},trailSpeed:{min:.5,max:5,step:.1},trailLength:{min:3,max:7.5,step:.1},trailIntensity:{min:1,max:100,step:.1},trailStartMinDelay:{min:0,max:2.5,step:.1},trailStartMaxDelay:{min:2.5,max:5,step:.1},tubeMaterial:{options:["",""]}},floatingUI:{scale:{min:.25,max:1.25,step:.05},rotation:{min:0,max:360,step:1}}}},xZ=Symbol(),xK=t=>"object"==typeof t&&null!==t,xJ=()=>(!X&&(X=xV().refSet),X),xQ=(t,r=xJ)=>{if(!xK(t)||r().has(t))return t;let i=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return Reflect.ownKeys(t).forEach(s=>{i[s]=xQ(t[s],r)}),i},{proxyStateMap:xq,snapCache:x$}=xV(),x0=t=>"object"==typeof t?proxy({x:t}).x:t,x1=t=>xq.has(t),{proxyStateMap:x2,snapCache:x3}=xV(),x5=t=>x2.has(t),x4="runtime-configs",x9=localStorage.getItem(x4),x8=xz({configs:x9?JSON.parse(x9).configs:xQ(xY.defaultConfigs)});xG(x8,()=>{localStorage.setItem(x4,JSON.stringify(x8))});let x6={reset:()=>{localStorage.removeItem(x4),x8.configs=xQ(xY.defaultConfigs)}};i("7663");function x7(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,s=Array(r);i<r;i++)s[i]=t[i];return s}function _e(t,r){if(t){if("string"==typeof t)return x7(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return x7(t,r)}}function _t(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var i,s,u=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=u){var c=[],h=!0,f=!1;try{for(u=u.call(t);!(h=(i=u.next()).done)&&(c.push(i.value),!r||c.length!==r);h=!0);}catch(t){f=!0,s=t}finally{try{!h&&null!=u.return&&u.return()}finally{if(f)throw s}}return c}}(t,r)||_e(t,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(t){return function(t){if(Array.isArray(t))return x7(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_e(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(t,r,i){return _isNativeReflectConstruct()?_r=Reflect.construct:_r=function(t,r,i){var s=[null];s.push.apply(s,r);var u=new(Function.bind.apply(t,s));return i&&_setPrototypeOf(u,i.prototype),u},_r.apply(null,arguments)}function _i(t){var r=_t(t[0],2),i=r[0],s=r[1],u=_t(t[1],2),c=u[0],h=u[1],f=_t(t[2],2);return determinant3(i,s,1,c,h,1,f[0],f[1],1)}function _a(t){return 0===_i(t)}var _o=new rz,_s=new rz;function _l(t){return t/180*Math.PI}function _u(t,r){if(t.x===r.x)return void 0!==t.z&&t.y===r.y?t.z-r.z:t.y-r.y;return t.x-r.x}let _c=t=>[_l(t[0]),_l(t[1]),_l(t[2]),"XYZ"],_h=(t,r)=>{let i=r*Math.PI/180;return[20*Math.sin(i),t,20*Math.cos(i)]},_d=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=!(arguments.length>3)||void 0===arguments[3]||arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t.length<2)return[];let c=[];i&&c.push(t[0]);for(let i=0;i<t.length-1;i++){let s=new iu(...t[i]),h=new iu(...t[i+1]),f=Math.ceil(s.distanceTo(h)/r);if(!u&&i>0&&i<t.length-1&&c.push(t[i]),f>1){let t=h.clone().sub(s).normalize();for(let i=1;i<f;i++){let u=s.clone().add(t.clone().multiplyScalar(i*r));c.push([u.x,u.y,u.z])}}}return s&&c.push(t[t.length-1]),c},_f=t=>{let r,i,{tube:s,trail:u,visible:c,curve:h}=t;return s&&(i=new cm(_d(s,.5,null==c?void 0:c.start,null==c?void 0:c.end,h).map(t=>new iu().fromArray(t)),!1,"catmullrom",.1)),u&&(r=_d(u,.5,null==c?void 0:c.start,(null==c?void 0:c.end)??!1,h)),{tubeCurve:i,trailPoints:r}},_p=()=>{let{configs:t}=xX(x8),r=pB(t=>t.controls);return xG(x8.configs.camera,()=>{let t=_h(x8.configs.camera.initHeight,x8.configs.camera.initRotation);r&&(r.setPosition(t[0],t[1],t[2],!0),r.zoomTo(x8.configs.camera.initZoom,!0))}),(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(gB,{makeDefault:!0,dollyToCursor:t.camera.dollyToCursor,maxPolarAngle:t.camera.maxPolarAngle,minZoom:t.camera.minZoom,maxZoom:t.camera.maxZoom}),(0,ev.jsx)(vI,{path:vD("/assets/hdri/"),files:"kloppenheim_02_1k.hdr"}),(0,ev.jsx)(xo,{enabled:t.environment.postProcess,children:(0,ev.jsx)(xu,{mipmapBlur:!0,luminanceThreshold:t.light.bloomLuminanceThreshold,radius:t.light.bloomRadius})}),(0,ev.jsx)("ambientLight",{intensity:t.light.ambientIntensity,color:t.light.ambientColor}),(0,ev.jsx)("directionalLight",{intensity:t.light.directionalIntensity,position:xc.props.light.position,color:t.light.directionalColor}),(0,ev.jsx)("color",{attach:"background",args:[t.environment.backgroundColor]}),(0,ev.jsx)("fog",{attach:"fog",args:[t.environment.fogColor,0,50]})]})};var _g=Object.defineProperty,_m=(t,r,i)=>r in t?_g(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,_v=(t,r,i)=>(_m(t,"symbol"!=typeof r?r+"":r,i),i);function _y(t,r,i,s,u){let c;if(t=t.subarray||t.slice?t:t.buffer,i=i.subarray||i.slice?i:i.buffer,t=r?t.subarray?t.subarray(r,u&&r+u):t.slice(r,u&&r+u):t,i.set)i.set(t,s);else for(c=0;c<t.length;c++)i[c+s]=t[c];return i}class _x extends aJ{constructor(){super(),_v(this,"type","MeshLine"),_v(this,"isMeshLine",!0),_v(this,"positions",[]),_v(this,"previous",[]),_v(this,"next",[]),_v(this,"side",[]),_v(this,"width",[]),_v(this,"indices_array",[]),_v(this,"uvs",[]),_v(this,"counters",[]),_v(this,"widthCallback",null),_v(this,"_attributes"),_v(this,"_points",[]),_v(this,"points"),_v(this,"matrixWorld",new iz),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(t){this.setPoints(t,this.widthCallback)}}})}setMatrixWorld(t){this.matrixWorld=t}setPoints(t,r){var i;if(t=(i=t)instanceof Float32Array?i:i instanceof aJ?i.getAttribute("position").array:i.map(t=>{let r=Array.isArray(t);return t instanceof iu?[t.x,t.y,t.z]:t instanceof rz?[t.x,t.y,0]:r&&3===t.length?[t[0],t[1],t[2]]:r&&2===t.length?[t[0],t[1],0]:t}).flat(),this._points=t,this.widthCallback=null!=r?r:null,this.positions=[],this.counters=[],t.length&&t[0]instanceof iu)for(let r=0;r<t.length;r++){let i=t[r],s=r/(t.length-1);this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(s),this.counters.push(s)}else for(let r=0;r<t.length;r+=3){let i=r/(t.length-1);this.positions.push(t[r],t[r+1],t[r+2]),this.positions.push(t[r],t[r+1],t[r+2]),this.counters.push(i),this.counters.push(i)}this.process()}compareV3(t,r){let i=6*t,s=6*r;return this.positions[i]===this.positions[s]&&this.positions[i+1]===this.positions[s+1]&&this.positions[i+2]===this.positions[s+2]}copyV3(t){let r=6*t;return[this.positions[r],this.positions[r+1],this.positions[r+2]]}process(){let t,r;let i=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],r=this.compareV3(0,i-1)?this.copyV3(i-2):this.copyV3(0),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]);for(let s=0;s<i;s++){if(this.side.push(1),this.side.push(-1),t=this.widthCallback?this.widthCallback(s/(i-1)):1,this.width.push(t),this.width.push(t),this.uvs.push(s/(i-1),0),this.uvs.push(s/(i-1),1),s<i-1){r=this.copyV3(s),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]);let t=2*s;this.indices_array.push(t,t+1,t+2),this.indices_array.push(t+2,t+1,t+3)}s>0&&(r=this.copyV3(s),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]))}r=this.compareV3(i-1,0)?this.copyV3(1):this.copyV3(i-1),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]),this._attributes&&this._attributes.position.count===this.counters.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new aL(new Float32Array(this.positions),3),previous:new aL(new Float32Array(this.previous),3),next:new aL(new Float32Array(this.next),3),side:new aL(new Float32Array(this.side),1),width:new aL(new Float32Array(this.width),1),uv:new aL(new Float32Array(this.uvs),2),index:new aL(new Uint16Array(this.indices_array),1),counters:new aL(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:t,y:r,z:i}){let s=this._attributes.position.array,u=this._attributes.previous.array,c=this._attributes.next.array,h=s.length;_y(s,0,u,0,h),_y(s,6,s,0,h-6),s[h-6]=t,s[h-5]=r,s[h-4]=i,s[h-3]=t,s[h-2]=r,s[h-1]=i,_y(s,6,c,0,h-6),c[h-6]=t,c[h-5]=r,c[h-4]=i,c[h-3]=t,c[h-2]=r,c[h-1]=i,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}let __=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>
  #include <clipping_planes_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
    vCounters = counters;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0) * aspect;
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir;
    if (nextP == currentP) dir = normalize(currentP - prevP);
    else if (prevP == currentP) dir = normalize(nextP - currentP);
    else {
      vec2 dir1 = normalize(currentP - prevP);
      vec2 dir2 = normalize(nextP - currentP);
      dir = normalize(dir1 + dir2);
  
      vec2 perp = vec2(-dir1.y, dir1.x);
      vec2 miter = vec2(-dir.y, dir.x);
      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
    }
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy * aspect;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <clipping_planes_vertex>
    #include <fog_vertex>
  }
`,_b=parseInt(eb.replace(/\D+/g,"")),_w=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  #include <clipping_planes_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useGradient;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  uniform vec3 gradient[2];
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 diffuseColor = vColor;
    if (useGradient == 1.) diffuseColor = vec4(mix(gradient[0], gradient[1], vCounters), 1.0);
    if (useMap == 1.) diffuseColor *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) diffuseColor.a *= texture2D(alphaMap, vUV * repeat).a;
    if (diffuseColor.a < alphaTest) discard;
    if (useDash == 1.) diffuseColor.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    diffuseColor.a *= step(vCounters, visibility);
    #include <clipping_planes_fragment>
    gl_FragColor = diffuseColor;     
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <${_b>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`;class _S extends oa{constructor(t){super({uniforms:{...oM.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new aw(0xffffff)},gradient:{value:[new aw(0xff0000),new aw(65280)]},opacity:{value:1},resolution:{value:new rz(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},useGradient:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new rz(1,1)}},vertexShader:__,fragmentShader:_w}),_v(this,"lineWidth"),_v(this,"map"),_v(this,"useMap"),_v(this,"alphaMap"),_v(this,"useAlphaMap"),_v(this,"color"),_v(this,"gradient"),_v(this,"resolution"),_v(this,"sizeAttenuation"),_v(this,"dashArray"),_v(this,"dashOffset"),_v(this,"dashRatio"),_v(this,"useDash"),_v(this,"useGradient"),_v(this,"visibility"),_v(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(t){this.uniforms.lineWidth.value=t}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(t){this.uniforms.map.value=t}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(t){this.uniforms.useMap.value=t}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(t){this.uniforms.alphaMap.value=t}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(t){this.uniforms.useAlphaMap.value=t}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(t){this.uniforms.color.value=t}},gradient:{enumerable:!0,get(){return this.uniforms.gradient.value},set(t){this.uniforms.gradient.value=t}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(t){this.uniforms.resolution.value.copy(t)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(t){this.uniforms.sizeAttenuation.value=t}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(t){this.uniforms.dashArray.value=t,this.useDash=0!==t?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(t){this.uniforms.dashOffset.value=t}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(t){this.uniforms.dashRatio.value=t}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(t){this.uniforms.useDash.value=t}},useGradient:{enumerable:!0,get(){return this.uniforms.useGradient.value},set(t){this.uniforms.useGradient.value=t}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(t){this.uniforms.visibility.value=t}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(t){this.uniforms.alphaTest.value=t}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(t){this.uniforms.repeat.value.copy(t)}}}),this.setValues(t)}copy(t){return super.copy(t),this.lineWidth=t.lineWidth,this.map=t.map,this.useMap=t.useMap,this.alphaMap=t.alphaMap,this.useAlphaMap=t.useAlphaMap,this.color.copy(t.color),this.gradient=t.gradient,this.opacity=t.opacity,this.resolution.copy(t.resolution),this.sizeAttenuation=t.sizeAttenuation,this.dashArray=t.dashArray,this.dashOffset=t.dashOffset,this.dashRatio=t.dashRatio,this.useDash=t.useDash,this.useGradient=t.useGradient,this.visibility=t.visibility,this.alphaTest=t.alphaTest,this.repeat.copy(t.repeat),this}}let _A={width:.2,length:1,decay:1,local:!1,stride:0,interval:1},_M=(t,r=1)=>(t.set(t.subarray(r)),t.fill(-1/0,-r),t),_C=ex.forwardRef((t,r)=>{let{children:i}=t,{width:s,length:u,decay:c,local:h,stride:f,interval:p}={..._A,...t},{color:v="hotpink",attenuation:y,target:x}=t,_=pB(t=>t.size),b=pB(t=>t.scene),w=ex.useRef(null),[S,A]=ex.useState(null),M=function(t,r){let{length:i,local:s,decay:u,interval:c,stride:h}={..._A,...r},f=ex.useRef(),[p]=ex.useState(()=>new iu);ex.useLayoutEffect(()=>{t&&(f.current=Float32Array.from({length:30*i},(r,i)=>t.position.getComponent(i%3)))},[i,t]);let v=ex.useRef(new iu),y=ex.useRef(0);return pk(()=>{if(!!t){if(f.current){if(0===y.current){let r;s?r=t.position:(t.getWorldPosition(p),r=p);let i=1*u;for(let t=0;t<i;t++)!(r.distanceTo(v.current)<h)&&(_M(f.current,3),f.current.set(r.toArray(),f.current.length-3));v.current.copy(r)}y.current++,y.current=y.current%c}}}),f}(S,{length:u,decay:c,local:h,stride:f,interval:p});ex.useEffect(()=>{let t=(null==x?void 0:x.current)||w.current.children.find(t=>t instanceof ar);t&&A(t)},[M,x]);let C=ex.useMemo(()=>new _x,[]),T=ex.useMemo(()=>{var t;let r;let u=new _S({lineWidth:.1*s,color:v,sizeAttenuation:1,resolution:new rz(_.width,_.height)});return i&&(Array.isArray(i)?r=i.find(t=>"string"==typeof t.type&&"meshLineMaterial"===t.type):"string"==typeof i.type&&"meshLineMaterial"===i.type&&(r=i)),"object"==typeof(null==(t=r)?void 0:t.props)&&u.setValues(r.props),u},[s,v,_,i]);return ex.useEffect(()=>{T.uniforms.resolution.value.set(_.width,_.height)},[_]),pk(()=>{M.current&&C.setPoints(M.current,y)}),ex.createElement("group",null,pK(ex.createElement("mesh",{ref:r,geometry:C,material:T}),b),ex.createElement("group",{ref:w},i))});var _T=Symbol.for("preact-signals");function _E(){if(_R>1)_R--;else{for(var t,r=!1;void 0!==_D;){var i=_D;for(_D=void 0,_P++;void 0!==i;){var s=i.o;if(i.o=void 0,i.f&=-3,!(8&i.f)&&_N(i))try{i.c()}catch(i){!r&&(t=i,r=!0)}i=s}}if(_P=0,_R--,r)throw t}}var _I=void 0,_D=void 0,_R=0,_P=0,_L=0;function _B(t){if(void 0!==_I){var r=t.n;if(void 0===r||r.t!==_I)return r={i:0,S:t,p:_I.s,n:void 0,t:_I,e:void 0,x:void 0,r:r},void 0!==_I.s&&(_I.s.n=r),_I.s=r,t.n=r,32&_I.f&&t.S(r),r;if(-1===r.i)return r.i=0,void 0!==r.n&&(r.n.p=r.p,void 0!==r.p&&(r.p.n=r.n),r.p=_I.s,r.n=void 0,_I.s.n=r,_I.s=r),r}}function _k(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function _O(t){return new _k(t)}function _N(t){for(var r=t.s;void 0!==r;r=r.n)if(r.S.i!==r.i||!r.S.h()||r.S.i!==r.i)return!0;return!1}function _F(t){for(var r=t.s;void 0!==r;r=r.n){var i=r.S.n;if(void 0!==i&&(r.r=i),r.S.n=r,r.i=-1,void 0===r.n){t.s=r;break}}}function _U(t){for(var r=t.s,i=void 0;void 0!==r;){var s=r.p;-1===r.i?(r.S.U(r),void 0!==s&&(s.n=r.n),void 0!==r.n&&(r.n.p=s)):i=r,r.S.n=r.r,void 0!==r.r&&(r.r=void 0),r=s}t.s=i}function _z(t){_k.call(this,void 0),this.x=t,this.s=void 0,this.g=_L-1,this.f=4}_k.prototype.brand=_T,_k.prototype.h=function(){return!0},_k.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},_k.prototype.U=function(t){if(void 0!==this.t){var r=t.e,i=t.x;void 0!==r&&(r.x=i,t.e=void 0),void 0!==i&&(i.e=r,t.x=void 0),t===this.t&&(this.t=i)}},_k.prototype.subscribe=function(t){var r=this;return function(t){var r=new _j(t);try{r.c()}catch(t){throw r.d(),t}return r.d.bind(r)}(function(){var i=r.value,s=_I;_I=void 0;try{t(i)}finally{_I=s}})},_k.prototype.valueOf=function(){return this.value},_k.prototype.toString=function(){return this.value+""},_k.prototype.toJSON=function(){return this.value},_k.prototype.peek=function(){var t=_I;_I=void 0;try{return this.value}finally{_I=t}},Object.defineProperty(_k.prototype,"value",{get:function(){var t=_B(this);return void 0!==t&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(_P>100)throw Error("Cycle detected");this.v=t,this.i++,_L++,_R++;try{for(var r=this.t;void 0!==r;r=r.x)r.t.N()}finally{_E()}}}}),(_z.prototype=new _k).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===_L)return!0;if(this.g=_L,this.f|=1,this.i>0&&!_N(this))return this.f&=-2,!0;var t=_I;try{_F(this),_I=this;var r=this.x();(16&this.f||this.v!==r||0===this.i)&&(this.v=r,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return _I=t,_U(this),this.f&=-2,!0},_z.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var r=this.s;void 0!==r;r=r.n)r.S.S(r)}_k.prototype.S.call(this,t)},_z.prototype.U=function(t){if(void 0!==this.t&&(_k.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var r=this.s;void 0!==r;r=r.n)r.S.U(r)}},_z.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},Object.defineProperty(_z.prototype,"value",{get:function(){if(1&this.f)throw Error("Cycle detected");var t=_B(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function _G(t){var r=t.u;if(t.u=void 0,"function"==typeof r){_R++;var i=_I;_I=void 0;try{r()}catch(r){throw t.f&=-2,t.f|=8,_H(t),r}finally{_I=i,_E()}}}function _H(t){for(var r=t.s;void 0!==r;r=r.n)r.S.U(r);t.x=void 0,t.s=void 0,_G(t)}function _V(t){if(_I!==this)throw Error("Out-of-order effect");_U(this),_I=t,this.f&=-2,8&this.f&&_H(this),_E()}function _j(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}_j.prototype.c=function(){var t=this.S();try{if(8&this.f||void 0===this.x)return;var r=this.x();"function"==typeof r&&(this.u=r)}finally{t()}},_j.prototype.S=function(){if(1&this.f)throw Error("Cycle detected");this.f|=1,this.f&=-9,_G(this),_F(this),_R++;var t=_I;return _I=this,_V.bind(this,t)},_j.prototype.N=function(){!(2&this.f)&&(this.f|=2,this.o=_D,_D=this)},_j.prototype.d=function(){this.f|=8,!(1&this.f)&&_H(this)};let _W=t=>{let{points:r=[],loop:i=!1,...s}=t,{configs:u}=xX(x8),c=(0,ex.useRef)(null),h=(0,ex.useRef)(null),f=(0,ex.useMemo)(()=>_O(0),[]),p=(0,ex.useMemo)(()=>_O(0),[]),v=(0,ex.useMemo)(()=>_O("default"),[]),y=(0,ex.useMemo)(()=>.075*u.trail.trailSize,[u.trail.trailSize]),x=(0,ex.useMemo)(()=>_O(y),[y]),_=(0,ex.useMemo)(()=>_O(1),[]),b=(0,ex.useMemo)(()=>.01*u.trail.trailSize,[u.trail.trailSize]),w=(0,ex.useMemo)(()=>new aw(u.trail.trailColor).multiplyScalar(5*u.trail.trailIntensity).addScalar(1),[u.trail.trailColor,u.trail.trailIntensity]),S=(0,ex.useMemo)(()=>Math.random()*u.trail.trailStartMaxDelay+u.trail.trailStartMinDelay,[u.trail.trailStartMaxDelay,u.trail.trailStartMinDelay]);return pk((t,s)=>{if(!c.current||!h.current||r.length<2||t.clock.elapsedTime<S)return;if("request"===v.value){v.value="initializing",_.value=1;return}if("initializing"===v.value){c.current.visible?_.value<1?(h.current.visible=!0,_.value+=s,x.value=y*_.value/1):(_.value=1,x.value=y,v.value="default"):_.value>0?(_.value-=s,x.value=y*_.value/1):(h.current.visible=!1,_.value-=s,f.value=0,c.current.position.fromArray(r[0]),_.value<-.5&&(_.value=0,c.current.visible=!0));return}let b=r[f.value],w=r[(f.value+1)%r.length];if(p.value+=s*u.trail.trailSpeed*5,p.value>=1){let t=f.value+1;if(t>=r.length-1){if(i)c.current.visible=!1,v.value="request";else{c.current.visible=!1;return}}else f.value=t;p.value=0}let A=b[0]+(w[0]-b[0])*p.value,M=b[1]+(w[1]-b[1])*p.value,C=b[2]+(w[2]-b[2])*p.value;c.current.position.set(A,M,C)}),(0,ev.jsx)(_C,{ref:h,width:x.value,length:u.trail.trailLength,color:w,attenuation:t=>Math.pow(t,2),children:(0,ev.jsxs)("mesh",{ref:c,...s,position:r[0],children:[(0,ev.jsx)("sphereGeometry",{args:[b]}),(0,ev.jsx)("meshBasicMaterial",{color:w,toneMapped:!1,transparent:!0,opacity:_.value})]})})},_X=function(t,r){let i=t+"Geometry";return ex.forwardRef(({args:t,children:r,...s},u)=>{let c=ex.useRef(null);return ex.useImperativeHandle(u,()=>c.current),ex.useLayoutEffect(()=>void 0),ex.createElement("mesh",gh({ref:c},s),ex.createElement(i,{attach:"geometry",args:t}),r)})}("tube");function _Y(t,r,i,s){let u=class extends oa{constructor(u={}){let c=Object.entries(t);super({uniforms:c.reduce((t,[r,i])=>{let s=oi.clone({[r]:{value:i}});return{...t,...s}},{}),vertexShader:r,fragmentShader:i}),this.key="",c.forEach(([t])=>Object.defineProperty(this,t,{get:()=>this.uniforms[t].value,set:r=>this.uniforms[t].value=r})),Object.assign(this,u),s&&s(this)}};return u.key=rU.generateUUID(),u}function _Z(t,r){if(r===nG)return t;if(r!==nV&&r!==nH)return t;{let i=t.getIndex();if(null===i){let r=[],s=t.getAttribute("position");if(void 0===s)return t;for(let t=0;t<s.count;t++)r.push(t);t.setIndex(r),i=t.getIndex()}let s=i.count-2,u=[];if(i){if(r===nV)for(let t=1;t<=s;t++)u.push(i.getX(0)),u.push(i.getX(t)),u.push(i.getX(t+1));else for(let t=0;t<s;t++)t%2==0?(u.push(i.getX(t)),u.push(i.getX(t+1)),u.push(i.getX(t+2))):(u.push(i.getX(t+2)),u.push(i.getX(t+1)),u.push(i.getX(t)))}u.length;let c=t.clone();return c.setIndex(u),c.clearGroups(),c}}let _K=parseInt(eb.replace(/\D+/g,"")),_J=_Y({screenspace:!1,color:new aw("black"),opacity:1,thickness:.05,size:new rz},`#include <common>
   #include <morphtarget_pars_vertex>
   #include <skinning_pars_vertex>
   uniform float thickness;
   uniform bool screenspace;
   uniform vec2 size;
   void main() {
     #if defined (USE_SKINNING)
	     #include <beginnormal_vertex>
       #include <morphnormal_vertex>
       #include <skinbase_vertex>
       #include <skinnormal_vertex>
       #include <defaultnormal_vertex>
     #endif
     #include <begin_vertex>
	   #include <morphtarget_vertex>
	   #include <skinning_vertex>
     #include <project_vertex>
     vec4 tNormal = vec4(normal, 0.0);
     vec4 tPosition = vec4(transformed, 1.0);
     #ifdef USE_INSTANCING
       tNormal = instanceMatrix * tNormal;
       tPosition = instanceMatrix * tPosition;
     #endif
     if (screenspace) {
       vec3 newPosition = tPosition.xyz + tNormal.xyz * thickness;
       gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0); 
     } else {
       vec4 clipPosition = projectionMatrix * modelViewMatrix * tPosition;
       vec4 clipNormal = projectionMatrix * modelViewMatrix * tNormal;
       vec2 offset = normalize(clipNormal.xy) * thickness / size * clipPosition.w * 2.0;
       clipPosition.xy += offset;
       gl_Position = clipPosition;
     }
   }`,`uniform vec3 color;
   uniform float opacity;
   void main(){
     gl_FragColor = vec4(color, opacity);
     #include <tonemapping_fragment>
     #include <${_K>=154?"colorspace_fragment":"encodings_fragment"}>
   }`);function _Q({color:t="black",opacity:r=1,transparent:i=!1,screenspace:s=!1,toneMapped:u=!0,polygonOffset:c=!1,polygonOffsetFactor:h=0,renderOrder:f=0,thickness:p=.05,angle:v=Math.PI,...y}){let x=ex.useRef(),[_]=ex.useState(()=>new _J({side:eL})),{gl:b}=pB(),w=b.getDrawingBufferSize(new rz);ex.useMemo(()=>f$({OutlinesMaterial:_J}),[]);let S=ex.useRef(0),A=ex.useRef();return ex.useLayoutEffect(()=>{let t=x.current;if(!t)return;let r=t.parent;if(r&&r.geometry&&(S.current!==v||A.current!==r.geometry)){var i;S.current=v,A.current=r.geometry;let s=null==(i=t.children)?void 0:i[0];s&&(v&&s.geometry.dispose(),t.remove(s)),r.skeleton?((s=new up).material=_,s.bind(r.skeleton,r.bindMatrix)):r.isInstancedMesh?(s=new uE(r.geometry,_,r.count)).instanceMatrix=r.instanceMatrix:(s=new a6).material=_,t.add(s),s.geometry=v?function(t,r=Math.PI/3){let i=Math.cos(r),s=(1+1e-10)*100,u=[new iu,new iu,new iu],c=new iu,h=new iu,f=new iu,p=new iu;function v(t){let r=~~(t.x*s),i=~~(t.y*s),u=~~(t.z*s);return`${r},${i},${u}`}let y=t.index?t.toNonIndexed():t,x=y.attributes.position,_={};for(let t=0,r=x.count/3;t<r;t++){let r=3*t,i=u[0].fromBufferAttribute(x,r+0),s=u[1].fromBufferAttribute(x,r+1),f=u[2].fromBufferAttribute(x,r+2);c.subVectors(f,s),h.subVectors(i,s);let p=new iu().crossVectors(c,h).normalize();for(let t=0;t<3;t++){let r=v(u[t]);!(r in _)&&(_[r]=[]),_[r].push(p)}}let b=new aL(new Float32Array(3*x.count),3,!1);for(let t=0,r=x.count/3;t<r;t++){let r=3*t,s=u[0].fromBufferAttribute(x,r+0),y=u[1].fromBufferAttribute(x,r+1),w=u[2].fromBufferAttribute(x,r+2);c.subVectors(w,y),h.subVectors(s,y),f.crossVectors(c,h).normalize();for(let t=0;t<3;t++){let s=_[v(u[t])];p.set(0,0,0);for(let t=0,r=s.length;t<r;t++){let r=s[t];f.dot(r)>i&&p.add(r)}p.normalize(),b.setXYZ(r+t,p.x,p.y,p.z)}}return y.setAttribute("normal",b),y}(r.geometry,v):r.geometry}}),ex.useLayoutEffect(()=>{let v=x.current;if(!v)return;let y=v.children[0];y&&(y.renderOrder=f,pV(y.material,{transparent:i,thickness:p,color:t,opacity:r,size:w,screenspace:s,toneMapped:u,polygonOffset:c,polygonOffsetFactor:h}))}),ex.useEffect(()=>()=>{let t=x.current;if(!t)return;let r=t.children[0];r&&(v&&r.geometry.dispose(),t.remove(r))},[]),ex.createElement("group",gh({ref:x},y))}function _q(t,r,i){let s=pB(t=>t.size),u=pB(t=>t.viewport),c="number"==typeof t?t:s.width*u.dpr,h="number"==typeof r?r:s.height*u.dpr,{samples:f=0,depth:p,...v}=("number"==typeof t?i:t)||{},y=ex.useMemo(()=>{let t=new ir(c,h,{minFilter:tP,magFilter:tP,type:tj,...v});return p&&(t.depthTexture=new o9(c,h,tV)),t.samples=f,t},[]);return ex.useLayoutEffect(()=>{y.setSize(c,h),f&&(y.samples=f)},[f,y,c,h]),ex.useEffect(()=>()=>y.dispose(),[]),y}let _$=_Y({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");class _0 extends hm{constructor(t=6,r=!1){super(),this.uniforms={chromaticAberration:{value:.05},transmission:{value:0},_transmission:{value:1},transmissionMap:{value:null},roughness:{value:0},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:1/0},attenuationColor:{value:new aw("white")},anisotropicBlur:{value:.1},time:{value:0},distortion:{value:0},distortionScale:{value:.5},temporalDistortion:{value:0},buffer:{value:null}},this.onBeforeCompile=i=>{i.uniforms={...i.uniforms,...this.uniforms},this.anisotropy>0&&(i.defines.USE_ANISOTROPY=""),r?i.defines.USE_SAMPLER="":i.defines.USE_TRANSMISSION="",i.fragmentShader=`
      uniform float chromaticAberration;         
      uniform float anisotropicBlur;      
      uniform float time;
      uniform float distortion;
      uniform float distortionScale;
      uniform float temporalDistortion;
      uniform sampler2D buffer;

      vec3 random3(vec3 c) {
        float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
        vec3 r;
        r.z = fract(512.0*j);
        j *= .125;
        r.x = fract(512.0*j);
        j *= .125;
        r.y = fract(512.0*j);
        return r-0.5;
      }

      uint hash( uint x ) {
        x += ( x << 10u );
        x ^= ( x >>  6u );
        x += ( x <<  3u );
        x ^= ( x >> 11u );
        x += ( x << 15u );
        return x;
      }

      // Compound versions of the hashing algorithm I whipped together.
      uint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }
      uint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }
      uint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }

      // Construct a float with half-open range [0:1] using low 23 bits.
      // All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.
      float floatConstruct( uint m ) {
        const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask
        const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32
        m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)
        m |= ieeeOne;                          // Add fractional part to 1.0
        float  f = uintBitsToFloat( m );       // Range [1:2]
        return f - 1.0;                        // Range [0:1]
      }

      // Pseudo-random value in half-open range [0:1].
      float randomBase( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }
      float randomBase( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }
      float randomBase( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }
      float randomBase( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }
      float rand(float seed) {
        float result = randomBase(vec3(gl_FragCoord.xy, seed));
        return result;
      }

      const float F3 =  0.3333333;
      const float G3 =  0.1666667;

      float snoise(vec3 p) {
        vec3 s = floor(p + dot(p, vec3(F3)));
        vec3 x = p - s + dot(s, vec3(G3));
        vec3 e = step(vec3(0.0), x - x.yzx);
        vec3 i1 = e*(1.0 - e.zxy);
        vec3 i2 = 1.0 - e.zxy*(1.0 - e);
        vec3 x1 = x - i1 + G3;
        vec3 x2 = x - i2 + 2.0*G3;
        vec3 x3 = x - 1.0 + 3.0*G3;
        vec4 w, d;
        w.x = dot(x, x);
        w.y = dot(x1, x1);
        w.z = dot(x2, x2);
        w.w = dot(x3, x3);
        w = max(0.6 - w, 0.0);
        d.x = dot(random3(s), x);
        d.y = dot(random3(s + i1), x1);
        d.z = dot(random3(s + i2), x2);
        d.w = dot(random3(s + 1.0), x3);
        w *= w;
        w *= w;
        d *= w;
        return dot(d, vec4(52.0));
      }

      float snoiseFractal(vec3 m) {
        return 0.5333333* snoise(m)
              +0.2666667* snoise(2.0*m)
              +0.1333333* snoise(4.0*m)
              +0.0666667* snoise(8.0*m);
      }
`+i.fragmentShader,i.fragmentShader=i.fragmentShader.replace("#include <transmission_pars_fragment>",`
        #ifdef USE_TRANSMISSION
          // Transmission code is based on glTF-Sampler-Viewer
          // https://github.com/KhronosGroup/glTF-Sample-Viewer
          uniform float _transmission;
          uniform float thickness;
          uniform float attenuationDistance;
          uniform vec3 attenuationColor;
          #ifdef USE_TRANSMISSIONMAP
            uniform sampler2D transmissionMap;
          #endif
          #ifdef USE_THICKNESSMAP
            uniform sampler2D thicknessMap;
          #endif
          uniform vec2 transmissionSamplerSize;
          uniform sampler2D transmissionSamplerMap;
          uniform mat4 modelMatrix;
          uniform mat4 projectionMatrix;
          varying vec3 vWorldPosition;
          vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
            // Direction of refracted light.
            vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
            // Compute rotation-independant scaling of the model matrix.
            vec3 modelScale;
            modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
            modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
            modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
            // The thickness is specified in local space.
            return normalize( refractionVector ) * thickness * modelScale;
          }
          float applyIorToRoughness( const in float roughness, const in float ior ) {
            // Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
            // an IOR of 1.5 results in the default amount of microfacet refraction.
            return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
          }
          vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
            float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );            
            #ifdef USE_SAMPLER
              #ifdef texture2DLodEXT
                return texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod);
              #else
                return texture2D(transmissionSamplerMap, fragCoord.xy, framebufferLod);
              #endif
            #else
              return texture2D(buffer, fragCoord.xy);
            #endif
          }
          vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
            if ( isinf( attenuationDistance ) ) {
              // Attenuation distance is +, i.e. the transmitted color is not attenuated at all.
              return radiance;
            } else {
              // Compute light attenuation using Beer's law.
              vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
              vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance ); // Beer's law
              return transmittance * radiance;
            }
          }
          vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
            const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
            const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
            const in vec3 attenuationColor, const in float attenuationDistance ) {
            vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
            vec3 refractedRayExit = position + transmissionRay;
            // Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
            vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
            vec2 refractionCoords = ndcPos.xy / ndcPos.w;
            refractionCoords += 1.0;
            refractionCoords /= 2.0;
            // Sample framebuffer to get pixel the refracted ray hits.
            vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
            vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
            // Get the specular component.
            vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
            return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
          }
        #endif
`),i.fragmentShader=i.fragmentShader.replace("#include <transmission_fragment>",`  
        // Improve the refraction to use the world pos
        material.transmission = _transmission;
        material.transmissionAlpha = 1.0;
        material.thickness = thickness;
        material.attenuationDistance = attenuationDistance;
        material.attenuationColor = attenuationColor;
        #ifdef USE_TRANSMISSIONMAP
          material.transmission *= texture2D( transmissionMap, vUv ).r;
        #endif
        #ifdef USE_THICKNESSMAP
          material.thickness *= texture2D( thicknessMap, vUv ).g;
        #endif
        
        vec3 pos = vWorldPosition;
        float runningSeed = 0.0;
        vec3 v = normalize( cameraPosition - pos );
        vec3 n = inverseTransformDirection( normal, viewMatrix );
        vec3 transmission = vec3(0.0);
        float transmissionR, transmissionB, transmissionG;
        float randomCoords = rand(runningSeed++);
        float thickness_smear = thickness * max(pow(roughnessFactor, 0.33), anisotropicBlur);
        vec3 distortionNormal = vec3(0.0);
        vec3 temporalOffset = vec3(time, -time, -time) * temporalDistortion;
        if (distortion > 0.0) {
          distortionNormal = distortion * vec3(snoiseFractal(vec3((pos * distortionScale + temporalOffset))), snoiseFractal(vec3(pos.zxy * distortionScale - temporalOffset)), snoiseFractal(vec3(pos.yxz * distortionScale + temporalOffset)));
        }
        for (float i = 0.0; i < ${t}.0; i ++) {
          vec3 sampleNorm = normalize(n + roughnessFactor * roughnessFactor * 2.0 * normalize(vec3(rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5)) * pow(rand(runningSeed++), 0.33) + distortionNormal);
          transmissionR = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness  + thickness_smear * (i + randomCoords) / float(${t}),
            material.attenuationColor, material.attenuationDistance
          ).r;
          transmissionG = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior  * (1.0 + chromaticAberration * (i + randomCoords) / float(${t})) , material.thickness + thickness_smear * (i + randomCoords) / float(${t}),
            material.attenuationColor, material.attenuationDistance
          ).g;
          transmissionB = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior * (1.0 + 2.0 * chromaticAberration * (i + randomCoords) / float(${t})), material.thickness + thickness_smear * (i + randomCoords) / float(${t}),
            material.attenuationColor, material.attenuationDistance
          ).b;
          transmission.r += transmissionR;
          transmission.g += transmissionG;
          transmission.b += transmissionB;
        }
        transmission /= ${t}.0;
        totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
`)},Object.keys(this.uniforms).forEach(t=>Object.defineProperty(this,t,{get:()=>this.uniforms[t].value,set:r=>this.uniforms[t].value=r}))}}let _1=ex.forwardRef(({buffer:t,transmissionSampler:r=!1,backside:i=!1,side:s=eP,transmission:u=1,thickness:c=0,backsideThickness:h=0,backsideEnvMapIntensity:f=1,samples:p=10,resolution:v,backsideResolution:y,background:x,anisotropy:_,anisotropicBlur:b,...w},S)=>{let A,M,C,T;f$({MeshTransmissionMaterial:_0});let I=ex.useRef(null),[D]=ex.useState(()=>new _$),R=_q(y||v),P=_q(v);return pk(t=>{I.current.time=t.clock.getElapsedTime(),I.current.buffer===P.texture&&!r&&(T=I.current.__r3f.parent)&&(C=t.gl.toneMapping,A=t.scene.background,M=I.current.envMapIntensity,t.gl.toneMapping=tl,x&&(t.scene.background=x),T.material=D,i&&(t.gl.setRenderTarget(R),t.gl.render(t.scene,t.camera),T.material=I.current,T.material.buffer=R.texture,T.material.thickness=h,T.material.side=eL,T.material.envMapIntensity=f),t.gl.setRenderTarget(P),t.gl.render(t.scene,t.camera),T.material=I.current,T.material.thickness=c,T.material.side=s,T.material.buffer=P.texture,T.material.envMapIntensity=M,t.scene.background=A,t.gl.setRenderTarget(null),t.gl.toneMapping=C)}),ex.useImperativeHandle(S,()=>I.current,[]),ex.createElement("meshTransmissionMaterial",gh({args:[p,r],ref:I},w,{buffer:t||P.texture,_transmission:u,anisotropicBlur:null!=b?b:_,transmission:r?u:0,thickness:c,side:s}))}),_2={meshPhysicalMaterial:!1,transmissionSampler:!1,backside:!1,samples:10,resolution:256,transmission:1,roughness:0,thickness:.5,ior:1.1,chromaticAberration:0,anisotropy:.1,distortion:0,distortionScale:1,temporalDistortion:.5,clearcoat:1,attenuationDistance:.5,attenuationColor:"#ffffff",color:"#ffffff",bg:"#ffffff",depthWrite:!1},_3=(0,ev.jsx)(()=>(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("meshBasicMaterial",{color:"#f1f5f9",transparent:!0,opacity:.3}),(0,ev.jsx)(_Q,{matrixAutoUpdate:!1,thickness:1,color:"#e2e8f0"})]}),{}),_5=(0,ev.jsx)(()=>(0,ev.jsx)(_1,{..._2}),{}),_4=t=>{let{curve:r}=t,{configs:i}=xX(x8),s=(0,ex.useMemo)(()=>[r,64,.125,8,!1],[r]);return(0,ev.jsx)(_X,{matrixAutoUpdate:!1,args:s,children:""===i.trail.tubeMaterial?_5:_3})},_9=t=>{let{data:r,loop:i=!0}=t,{tubeCurve:s,trailPoints:u}=(0,ex.useMemo)(()=>_f(r),[r]);return(0,ev.jsxs)(ev.Fragment,{children:[u&&(0,ev.jsx)(_W,{points:u,loop:i}),s&&(0,ev.jsx)(_4,{curve:s})]})},_8=t=>{let r=(0,ex.useRef)(null);(0,ex.useEffect)(()=>{r.current&&(r.current.matrixAutoUpdate=!1)},[]),(0,ex.useEffect)(()=>{r.current&&t&&(Array.isArray(t)?r.current.position.fromArray(t):null==t||t(r.current),r.current.updateMatrix())},[t]);let i=(0,ex.useCallback)(t=>{r.current&&(t(r.current),r.current.updateMatrix())},[]);return[r,i]},_6=t=>{let{data:r}=t,[i]=_8([0,.3,0]);return(0,ev.jsx)("group",{ref:i,userData:r.metadata,children:(0,ev.jsx)(_9,{data:r})})},_7={models:[]},be=xz({runtimeData:_7}),bt=()=>{let{runtimeData:t}=xX(be),r=(0,ex.useMemo)(()=>{var r;return null===(r=t.paths)||void 0===r?void 0:r.map((t,r)=>(0,ev.jsx)(_6,{data:t},r))},[t.paths]);return(0,ev.jsx)("group",{matrixAutoUpdate:!1,children:r})};i("1811"),i("4838"),i("3747");let bn=new WeakMap;class br extends hW{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,r,i,s){let u=new hZ(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(t,t=>{let i={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(t,i).then(r).catch(s)},i,s)}decodeDracoFile(t,r,i,s){let u={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(t,u).then(r)}decodeGeometry(t,r){let i;for(let t in r.attributeTypes){let i=r.attributeTypes[t];void 0!==i.BYTES_PER_ELEMENT&&(r.attributeTypes[t]=i.name)}let s=JSON.stringify(r);if(bn.has(t)){let r=bn.get(t);if(r.key===s)return r.promise;if(0===t.byteLength)throw Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let u=this.workerNextTaskID++,c=t.byteLength,h=this._getWorker(u,c).then(s=>(i=s,new Promise((s,c)=>{i._callbacks[u]={resolve:s,reject:c},i.postMessage({type:"decode",id:u,taskConfig:r,buffer:t},[t])}))).then(t=>this._createGeometry(t.geometry));return h.catch(()=>!0).then(()=>{i&&u&&this._releaseTask(i,u)}),bn.set(t,{key:s,promise:h}),h}_createGeometry(t){let r=new aJ;t.index&&r.setIndex(new aL(t.index.array,1));for(let i=0;i<t.attributes.length;i++){let s=t.attributes[i],u=s.name,c=s.array,h=s.itemSize;r.setAttribute(u,new aL(c,h))}return r}_loadLibrary(t,r){let i=new hZ(this.manager);return i.setPath(this.decoderPath),i.setResponseType(r),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(t,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,r=[];return t?r.push(this._loadLibrary("draco_decoder.js","text")):(r.push(this._loadLibrary("draco_wasm_wrapper.js","text")),r.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(r).then(r=>{let i=r[0];!t&&(this.decoderConfig.wasmBinary=r[1]);let s=bi.toString(),u=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([u]))}),this.decoderPending}_getWorker(t,r){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let t=new Worker(this.workerSourceURL);t._callbacks={},t._taskCosts={},t._taskLoad=0,t.postMessage({type:"init",decoderConfig:this.decoderConfig}),t.onmessage=function(r){let i=r.data;switch(i.type){case"decode":t._callbacks[i.id].resolve(i);break;case"error":t._callbacks[i.id].reject(i)}},this.workerPool.push(t)}else this.workerPool.sort(function(t,r){return t._taskLoad>r._taskLoad?-1:1});let i=this.workerPool[this.workerPool.length-1];return i._taskCosts[t]=r,i._taskLoad+=r,i})}_releaseTask(t,r){t._taskLoad-=t._taskCosts[r],delete t._callbacks[r],delete t._taskCosts[r]}debug(){}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function bi(){let t,r;onmessage=function(i){let s=i.data;switch(s.type){case"init":t=s.decoderConfig,r=new Promise(function(r){t.onModuleLoaded=function(t){r({draco:t})},DracoDecoderModule(t)});break;case"decode":let u=s.buffer,c=s.taskConfig;r.then(t=>{let r=t.draco,i=new r.Decoder,h=new r.DecoderBuffer;h.Init(new Int8Array(u),u.byteLength);try{let t=function(t,r,i,s){let u,c;let h=s.attributeIDs,f=s.attributeTypes,p=r.GetEncodedGeometryType(i);if(p===t.TRIANGULAR_MESH)u=new t.Mesh,c=r.DecodeBufferToMesh(i,u);else if(p===t.POINT_CLOUD)u=new t.PointCloud,c=r.DecodeBufferToPointCloud(i,u);else throw Error("THREE.DRACOLoader: Unexpected geometry type.");if(!c.ok()||0===u.ptr)throw Error("THREE.DRACOLoader: Decoding failed: "+c.error_msg());let v={index:null,attributes:[]};for(let i in h){let c,p;let y=self[f[i]];if(s.useUniqueIDs)p=h[i],c=r.GetAttributeByUniqueId(u,p);else{if(-1===(p=r.GetAttributeId(u,t[h[i]])))continue;c=r.GetAttribute(u,p)}v.attributes.push(function(t,r,i,s,u,c){let h=c.num_components(),f=i.num_points()*h,p=f*u.BYTES_PER_ELEMENT,v=function(t,r){switch(r){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32}}(t,u),y=t._malloc(p);r.GetAttributeDataArrayForAllPoints(i,c,v,p,y);let x=new u(t.HEAPF32.buffer,y,f).slice();return t._free(y),{name:s,array:x,itemSize:h}}(t,r,u,i,y,c))}return p===t.TRIANGULAR_MESH&&(v.index=function(t,r,i){let s=3*i.num_faces(),u=4*s,c=t._malloc(u);r.GetTrianglesUInt32Array(i,u,c);let h=new Uint32Array(t.HEAPF32.buffer,c,s).slice();return t._free(c),{array:h,itemSize:1}}(t,r,u)),t.destroy(u),v}(r,i,h,c),u=t.attributes.map(t=>t.array.buffer);t.index&&u.push(t.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:t},u)}catch(t){self.postMessage({type:"error",id:s.id,error:t.message})}finally{r.destroy(h),r.destroy(i)}})}}}let ba=()=>{let t;if(Y)return Y;let r=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!=typeof WebAssembly)return{supported:!1};let s="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB";WebAssembly.validate(r)&&(s="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB");let u=WebAssembly.instantiate(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;++i){let s=t.charCodeAt(i);r[i]=s>96?s-71:s>64?s-65:s>47?s+4:s>46?63:62}let s=0;for(let u=0;u<t.length;++u)r[s++]=r[u]<60?i[r[u]]:(r[u]-60)*64+r[++u];return r.buffer.slice(0,s)}(s),{}).then(r=>{(t=r.instance).exports.__wasm_call_ctors()});function c(r,i,s,u,c,h){let f=t.exports.sbrk,p=s+3&-4,v=f(p*u),y=f(c.length),x=new Uint8Array(t.exports.memory.buffer);x.set(c,y);let _=r(v,s,u,y,c.length);if(0===_&&h&&h(v,p,u),i.set(x.subarray(v,v+s*u)),f(v-f(0)),0!==_)throw Error(`Malformed buffer data: ${_}`)}let h={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Y={ready:u,supported:!0,decodeVertexBuffer(r,i,s,u,f){c(t.exports.meshopt_decodeVertexBuffer,r,i,s,u,t.exports[h[f]])},decodeIndexBuffer(r,i,s,u){c(t.exports.meshopt_decodeIndexBuffer,r,i,s,u)},decodeIndexSequence(r,i,s,u){c(t.exports.meshopt_decodeIndexSequence,r,i,s,u)},decodeGltfBuffer(r,i,s,u,p,v){c(t.exports[f[p]],r,i,s,u,t.exports[h[v]])}}},bo=parseInt(eb.replace(/\D+/g,""));function bs(t){if("undefined"!=typeof TextDecoder)return new TextDecoder().decode(t);let r="";for(let i=0,s=t.length;i<s;i++)r+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(r))}catch(t){return r}}let bl="srgb",bu="srgb-linear";class bc extends hW{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new bm(t)}),this.register(function(t){return new bv(t)}),this.register(function(t){return new bC(t)}),this.register(function(t){return new bT(t)}),this.register(function(t){return new bE(t)}),this.register(function(t){return new bx(t)}),this.register(function(t){return new b_(t)}),this.register(function(t){return new bb(t)}),this.register(function(t){return new bw(t)}),this.register(function(t){return new bg(t)}),this.register(function(t){return new bS(t)}),this.register(function(t){return new by(t)}),this.register(function(t){return new bM(t)}),this.register(function(t){return new bA(t)}),this.register(function(t){return new bf(t)}),this.register(function(t){return new bI(t)}),this.register(function(t){return new bD(t)})}load(t,r,i,s){let u;let c=this;if(""!==this.resourcePath)u=this.resourcePath;else if(""!==this.path){let r=dd.extractUrlBase(t);u=dd.resolveURL(r,this.path)}else u=dd.extractUrlBase(t);this.manager.itemStart(t);let h=function(r){s&&s(r),c.manager.itemError(t),c.manager.itemEnd(t)},f=new hZ(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(t,function(i){try{c.parse(i,u,function(i){r(i),c.manager.itemEnd(t)},h)}catch(t){h(t)}},i,h)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return -1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return -1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,r,i,s){let u;let c={},h={};if("string"==typeof t)u=JSON.parse(t);else if(t instanceof ArrayBuffer){if(bs(new Uint8Array(t.slice(0,4)))===bR){try{c[bd.KHR_BINARY_GLTF]=new bL(t)}catch(t){s&&s(t);return}u=JSON.parse(c[bd.KHR_BINARY_GLTF].content)}else u=JSON.parse(bs(new Uint8Array(t)))}else u=t;if(void 0===u.asset||u.asset.version[0]<2){s&&s(Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let f=new b0(u,{path:r||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});f.fileLoader.setRequestHeader(this.requestHeader);for(let t=0;t<this.pluginCallbacks.length;t++){let r=this.pluginCallbacks[t](f);r.name,h[r.name]=r,c[r.name]=!0}if(u.extensionsUsed)for(let t=0;t<u.extensionsUsed.length;++t){let r=u.extensionsUsed[t],i=u.extensionsRequired||[];switch(r){case bd.KHR_MATERIALS_UNLIT:c[r]=new bp;break;case bd.KHR_DRACO_MESH_COMPRESSION:c[r]=new bB(u,this.dracoLoader);break;case bd.KHR_TEXTURE_TRANSFORM:c[r]=new bk;break;case bd.KHR_MESH_QUANTIZATION:c[r]=new bO;break;default:i.indexOf(r)>=0&&h[r]}}f.setExtensions(c),f.setPlugins(h),f.parse(i,s)}parseAsync(t,r){let i=this;return new Promise(function(s,u){i.parse(t,r,s,u)})}}function bh(){let t={};return{get:function(r){return t[r]},add:function(r,i){t[r]=i},remove:function(r){delete t[r]},removeAll:function(){t={}}}}let bd={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class bf{constructor(t){this.parser=t,this.name=bd.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let t=this.parser,r=this.parser.json.nodes||[];for(let i=0,s=r.length;i<s;i++){let s=r[i];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&t._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(t){let r;let i=this.parser,s="light:"+t,u=i.cache.get(s);if(u)return u;let c=i.json,h=((c.extensions&&c.extensions[this.name]||{}).lights||[])[t],f=new aw(0xffffff);void 0!==h.color&&f.setRGB(h.color[0],h.color[1],h.color[2],bu);let p=void 0!==h.range?h.range:0;switch(h.type){case"directional":(r=new da(f)).target.position.set(0,0,-1),r.add(r.target);break;case"point":(r=new dr(f)).distance=p;break;case"spot":(r=new h6(f)).distance=p,h.spot=h.spot||{},h.spot.innerConeAngle=void 0!==h.spot.innerConeAngle?h.spot.innerConeAngle:0,h.spot.outerConeAngle=void 0!==h.spot.outerConeAngle?h.spot.outerConeAngle:Math.PI/4,r.angle=h.spot.outerConeAngle,r.penumbra=1-h.spot.innerConeAngle/h.spot.outerConeAngle,r.target.position.set(0,0,-1),r.add(r.target);break;default:throw Error("THREE.GLTFLoader: Unexpected light type: "+h.type)}return r.position.set(0,0,0),r.decay=2,bJ(r,h),void 0!==h.intensity&&(r.intensity=h.intensity),r.name=i.createUniqueName(h.name||"light_"+t),u=Promise.resolve(r),i.cache.add(s,u),u}getDependency(t,r){if("light"===t)return this._loadLight(r)}createNodeAttachment(t){let r=this,i=this.parser,s=i.json.nodes[t],u=(s.extensions&&s.extensions[this.name]||{}).light;return void 0===u?null:this._loadLight(u).then(function(t){return i._getNodeRef(r.cache,u,t)})}}class bp{constructor(){this.name=bd.KHR_MATERIALS_UNLIT}getMaterialType(){return aC}extendParams(t,r,i){let s=[];t.color=new aw(1,1,1),t.opacity=1;let u=r.pbrMetallicRoughness;if(u){if(Array.isArray(u.baseColorFactor)){let r=u.baseColorFactor;t.color.setRGB(r[0],r[1],r[2],bu),t.opacity=r[3]}void 0!==u.baseColorTexture&&s.push(i.assignTexture(t,"map",u.baseColorTexture,bl))}return Promise.all(s)}}class bg{constructor(t){this.parser=t,this.name=bd.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,r){let i=this.parser.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let s=i.extensions[this.name].emissiveStrength;return void 0!==s&&(r.emissiveIntensity=s),Promise.resolve()}}class bm{constructor(t){this.parser=t,this.name=bd.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){let r=this.parser.json.materials[t];return r.extensions&&r.extensions[this.name]?hm:null}extendMaterialParams(t,r){let i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let u=[],c=s.extensions[this.name];if(void 0!==c.clearcoatFactor&&(r.clearcoat=c.clearcoatFactor),void 0!==c.clearcoatTexture&&u.push(i.assignTexture(r,"clearcoatMap",c.clearcoatTexture)),void 0!==c.clearcoatRoughnessFactor&&(r.clearcoatRoughness=c.clearcoatRoughnessFactor),void 0!==c.clearcoatRoughnessTexture&&u.push(i.assignTexture(r,"clearcoatRoughnessMap",c.clearcoatRoughnessTexture)),void 0!==c.clearcoatNormalTexture&&(u.push(i.assignTexture(r,"clearcoatNormalMap",c.clearcoatNormalTexture)),void 0!==c.clearcoatNormalTexture.scale)){let t=c.clearcoatNormalTexture.scale;r.clearcoatNormalScale=new rz(t,t)}return Promise.all(u)}}class bv{constructor(t){this.parser=t,this.name=bd.KHR_MATERIALS_DISPERSION}getMaterialType(t){let r=this.parser.json.materials[t];return r.extensions&&r.extensions[this.name]?hm:null}extendMaterialParams(t,r){let i=this.parser.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let s=i.extensions[this.name];return r.dispersion=void 0!==s.dispersion?s.dispersion:0,Promise.resolve()}}class by{constructor(t){this.parser=t,this.name=bd.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){let r=this.parser.json.materials[t];return r.extensions&&r.extensions[this.name]?hm:null}extendMaterialParams(t,r){let i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let u=[],c=s.extensions[this.name];return void 0!==c.iridescenceFactor&&(r.iridescence=c.iridescenceFactor),void 0!==c.iridescenceTexture&&u.push(i.assignTexture(r,"iridescenceMap",c.iridescenceTexture)),void 0!==c.iridescenceIor&&(r.iridescenceIOR=c.iridescenceIor),void 0===r.iridescenceThicknessRange&&(r.iridescenceThicknessRange=[100,400]),void 0!==c.iridescenceThicknessMinimum&&(r.iridescenceThicknessRange[0]=c.iridescenceThicknessMinimum),void 0!==c.iridescenceThicknessMaximum&&(r.iridescenceThicknessRange[1]=c.iridescenceThicknessMaximum),void 0!==c.iridescenceThicknessTexture&&u.push(i.assignTexture(r,"iridescenceThicknessMap",c.iridescenceThicknessTexture)),Promise.all(u)}}class bx{constructor(t){this.parser=t,this.name=bd.KHR_MATERIALS_SHEEN}getMaterialType(t){let r=this.parser.json.materials[t];return r.extensions&&r.extensions[this.name]?hm:null}extendMaterialParams(t,r){let i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let u=[];r.sheenColor=new aw(0,0,0),r.sheenRoughness=0,r.sheen=1;let c=s.extensions[this.name];if(void 0!==c.sheenColorFactor){let t=c.sheenColorFactor;r.sheenColor.setRGB(t[0],t[1],t[2],bu)}return void 0!==c.sheenRoughnessFactor&&(r.sheenRoughness=c.sheenRoughnessFactor),void 0!==c.sheenColorTexture&&u.push(i.assignTexture(r,"sheenColorMap",c.sheenColorTexture,bl)),void 0!==c.sheenRoughnessTexture&&u.push(i.assignTexture(r,"sheenRoughnessMap",c.sheenRoughnessTexture)),Promise.all(u)}}class b_{constructor(t){this.parser=t,this.name=bd.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){let r=this.parser.json.materials[t];return r.extensions&&r.extensions[this.name]?hm:null}extendMaterialParams(t,r){let i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let u=[],c=s.extensions[this.name];return void 0!==c.transmissionFactor&&(r.transmission=c.transmissionFactor),void 0!==c.transmissionTexture&&u.push(i.assignTexture(r,"transmissionMap",c.transmissionTexture)),Promise.all(u)}}class bb{constructor(t){this.parser=t,this.name=bd.KHR_MATERIALS_VOLUME}getMaterialType(t){let r=this.parser.json.materials[t];return r.extensions&&r.extensions[this.name]?hm:null}extendMaterialParams(t,r){let i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let u=[],c=s.extensions[this.name];r.thickness=void 0!==c.thicknessFactor?c.thicknessFactor:0,void 0!==c.thicknessTexture&&u.push(i.assignTexture(r,"thicknessMap",c.thicknessTexture)),r.attenuationDistance=c.attenuationDistance||1/0;let h=c.attenuationColor||[1,1,1];return r.attenuationColor=new aw().setRGB(h[0],h[1],h[2],bu),Promise.all(u)}}class bw{constructor(t){this.parser=t,this.name=bd.KHR_MATERIALS_IOR}getMaterialType(t){let r=this.parser.json.materials[t];return r.extensions&&r.extensions[this.name]?hm:null}extendMaterialParams(t,r){let i=this.parser.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let s=i.extensions[this.name];return r.ior=void 0!==s.ior?s.ior:1.5,Promise.resolve()}}class bS{constructor(t){this.parser=t,this.name=bd.KHR_MATERIALS_SPECULAR}getMaterialType(t){let r=this.parser.json.materials[t];return r.extensions&&r.extensions[this.name]?hm:null}extendMaterialParams(t,r){let i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let u=[],c=s.extensions[this.name];r.specularIntensity=void 0!==c.specularFactor?c.specularFactor:1,void 0!==c.specularTexture&&u.push(i.assignTexture(r,"specularIntensityMap",c.specularTexture));let h=c.specularColorFactor||[1,1,1];return r.specularColor=new aw().setRGB(h[0],h[1],h[2],bu),void 0!==c.specularColorTexture&&u.push(i.assignTexture(r,"specularColorMap",c.specularColorTexture,bl)),Promise.all(u)}}class bA{constructor(t){this.parser=t,this.name=bd.EXT_MATERIALS_BUMP}getMaterialType(t){let r=this.parser.json.materials[t];return r.extensions&&r.extensions[this.name]?hm:null}extendMaterialParams(t,r){let i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let u=[],c=s.extensions[this.name];return r.bumpScale=void 0!==c.bumpFactor?c.bumpFactor:1,void 0!==c.bumpTexture&&u.push(i.assignTexture(r,"bumpMap",c.bumpTexture)),Promise.all(u)}}class bM{constructor(t){this.parser=t,this.name=bd.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){let r=this.parser.json.materials[t];return r.extensions&&r.extensions[this.name]?hm:null}extendMaterialParams(t,r){let i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();let u=[],c=s.extensions[this.name];return void 0!==c.anisotropyStrength&&(r.anisotropy=c.anisotropyStrength),void 0!==c.anisotropyRotation&&(r.anisotropyRotation=c.anisotropyRotation),void 0!==c.anisotropyTexture&&u.push(i.assignTexture(r,"anisotropyMap",c.anisotropyTexture)),Promise.all(u)}}class bC{constructor(t){this.parser=t,this.name=bd.KHR_TEXTURE_BASISU}loadTexture(t){let r=this.parser,i=r.json,s=i.textures[t];if(!s.extensions||!s.extensions[this.name])return null;let u=s.extensions[this.name],c=r.options.ktx2Loader;if(!c){if(!(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return r.loadTextureImage(t,u.source,c)}}class bT{constructor(t){this.parser=t,this.name=bd.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){let r=this.name,i=this.parser,s=i.json,u=s.textures[t];if(!u.extensions||!u.extensions[r])return null;let c=u.extensions[r],h=s.images[c.source],f=i.textureLoader;if(h.uri){let t=i.options.manager.getHandler(h.uri);null!==t&&(f=t)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(t,c.source,f);if(s.extensionsRequired&&s.extensionsRequired.indexOf(r)>=0)throw Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return!this.isSupported&&(this.isSupported=new Promise(function(t){let r=new Image;r.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",r.onload=r.onerror=function(){t(1===r.height)}})),this.isSupported}}class bE{constructor(t){this.parser=t,this.name=bd.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){let r=this.name,i=this.parser,s=i.json,u=s.textures[t];if(!u.extensions||!u.extensions[r])return null;let c=u.extensions[r],h=s.images[c.source],f=i.textureLoader;if(h.uri){let t=i.options.manager.getHandler(h.uri);null!==t&&(f=t)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(t,c.source,f);if(s.extensionsRequired&&s.extensionsRequired.indexOf(r)>=0)throw Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return!this.isSupported&&(this.isSupported=new Promise(function(t){let r=new Image;r.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",r.onload=r.onerror=function(){t(1===r.height)}})),this.isSupported}}class bI{constructor(t){this.name=bd.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){let r=this.parser.json,i=r.bufferViews[t];if(!i.extensions||!i.extensions[this.name])return null;{let t=i.extensions[this.name],s=this.parser.getDependency("buffer",t.buffer),u=this.parser.options.meshoptDecoder;if(!u||!u.supported){if(!(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return s.then(function(r){let i=t.byteOffset||0,s=t.byteLength||0,c=t.count,h=t.byteStride,f=new Uint8Array(r,i,s);return u.decodeGltfBufferAsync?u.decodeGltfBufferAsync(c,h,f,t.mode,t.filter).then(function(t){return t.buffer}):u.ready.then(function(){let r=new ArrayBuffer(c*h);return u.decodeGltfBuffer(new Uint8Array(r),c,h,f,t.mode,t.filter),r})})}}}class bD{constructor(t){this.name=bd.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){let r=this.parser.json,i=r.nodes[t];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;for(let t of r.meshes[i.mesh].primitives)if(t.mode!==bz.TRIANGLES&&t.mode!==bz.TRIANGLE_STRIP&&t.mode!==bz.TRIANGLE_FAN&&void 0!==t.mode)return null;let s=i.extensions[this.name].attributes,u=[],c={};for(let t in s)u.push(this.parser.getDependency("accessor",s[t]).then(r=>(c[t]=r,c[t])));return u.length<1?null:(u.push(this.parser.createNodeMesh(t)),Promise.all(u).then(t=>{let r=t.pop(),i=r.isGroup?r.children:[r],s=t[0].count,u=[];for(let t of i){let r=new iz,i=new iu,h=new il,f=new iu(1,1,1),p=new uE(t.geometry,t.material,s);for(let t=0;t<s;t++)c.TRANSLATION&&i.fromBufferAttribute(c.TRANSLATION,t),c.ROTATION&&h.fromBufferAttribute(c.ROTATION,t),c.SCALE&&f.fromBufferAttribute(c.SCALE,t),p.setMatrixAt(t,r.compose(i,h,f));for(let r in c)if("_COLOR_0"===r){let t=c[r];p.instanceColor=new u_(t.array,t.itemSize,t.normalized)}else"TRANSLATION"!==r&&"ROTATION"!==r&&"SCALE"!==r&&t.geometry.setAttribute(r,c[r]);ar.prototype.copy.call(p,t),this.parser.assignFinalMaterial(p),u.push(p)}return r.isGroup?(r.clear(),r.add(...u),r):u[0]}))}}let bR="glTF",bP={JSON:0x4e4f534a,BIN:5130562};class bL{constructor(t){this.name=bd.KHR_BINARY_GLTF,this.content=null,this.body=null;let r=new DataView(t,0,12);if(this.header={magic:bs(new Uint8Array(t.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==bR)throw Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw Error("THREE.GLTFLoader: Legacy binary file detected.");let i=this.header.length-12,s=new DataView(t,12),u=0;for(;u<i;){let r=s.getUint32(u,!0);u+=4;let i=s.getUint32(u,!0);if(u+=4,i===bP.JSON){let i=new Uint8Array(t,12+u,r);this.content=bs(i)}else if(i===bP.BIN){let i=12+u;this.body=t.slice(i,i+r)}u+=r}if(null===this.content)throw Error("THREE.GLTFLoader: JSON content not found.")}}class bB{constructor(t,r){if(!r)throw Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=bd.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=r,this.dracoLoader.preload()}decodePrimitive(t,r){let i=this.json,s=this.dracoLoader,u=t.extensions[this.name].bufferView,c=t.extensions[this.name].attributes,h={},f={},p={};for(let t in c)h[bW[t]||t.toLowerCase()]=c[t];for(let r in t.attributes){let s=bW[r]||r.toLowerCase();if(void 0!==c[r]){let u=i.accessors[t.attributes[r]],c=bG[u.componentType];p[s]=c.name,f[s]=!0===u.normalized}}return r.getDependency("bufferView",u).then(function(t){return new Promise(function(r,i){s.decodeDracoFile(t,function(t){for(let r in t.attributes){let i=t.attributes[r],s=f[r];void 0!==s&&(i.normalized=s)}r(t)},h,p,bu,i)})})}}class bk{constructor(){this.name=bd.KHR_TEXTURE_TRANSFORM}extendTexture(t,r){return(void 0===r.texCoord||r.texCoord===t.channel)&&void 0===r.offset&&void 0===r.rotation&&void 0===r.scale?t:(t=t.clone(),void 0!==r.texCoord&&(t.channel=r.texCoord),void 0!==r.offset&&t.offset.fromArray(r.offset),void 0!==r.rotation&&(t.rotation=r.rotation),void 0!==r.scale&&t.repeat.fromArray(r.scale),t.needsUpdate=!0,t)}}class bO{constructor(){this.name=bd.KHR_MESH_QUANTIZATION}}class bN extends hI{constructor(t,r,i,s){super(t,r,i,s)}copySampleValue_(t){let r=this.resultBuffer,i=this.sampleValues,s=this.valueSize,u=t*s*3+s;for(let t=0;t!==s;t++)r[t]=i[u+t];return r}interpolate_(t,r,i,s){let u=this.resultBuffer,c=this.sampleValues,h=this.valueSize,f=2*h,p=3*h,v=s-r,y=(i-r)/v,x=y*y,_=x*y,b=t*p,w=b-p,S=-2*_+3*x,A=_-x,M=1-S,C=A-x+y;for(let t=0;t!==h;t++){let r=c[w+t+h],i=c[w+t+f]*v,s=c[b+t+h],p=c[b+t]*v;u[t]=M*r+C*i+S*s+A*p}return u}}let bF=new il;class bU extends bN{interpolate_(t,r,i,s){let u=super.interpolate_(t,r,i,s);return bF.fromArray(u).normalize().toArray(u),u}}let bz={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},bG={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},bH={9728:tT,9729:tP,9984:tE,9985:tL,9986:tD,9987:tk},bV={33071:tM,33648:tC,10497:tA},bj={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},bW={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...bo>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},bX={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},bY={CUBICSPLINE:void 0,LINEAR:nB,STEP:nL},bZ={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function bK(t,r,i){for(let s in i.extensions)void 0===t[s]&&(r.userData.gltfExtensions=r.userData.gltfExtensions||{},r.userData.gltfExtensions[s]=i.extensions[s])}function bJ(t,r){void 0!==r.extras&&"object"==typeof r.extras&&Object.assign(t.userData,r.extras)}function bQ(t){let r="",i=Object.keys(t).sort();for(let s=0,u=i.length;s<u;s++)r+=i[s]+":"+t[i[s]]+";";return r}function bq(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}let b$=new iz;class b0{constructor(t={},r={}){this.json=t,this.extensions={},this.plugins={},this.options=r,this.cache=new bh,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,u=-1;"undefined"!=typeof navigator&&void 0!==navigator.userAgent&&(i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),u=(s=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||i||s&&u<98?this.textureLoader=new h0(this.options.manager):this.textureLoader=new dx(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new hZ(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,r){let i=this,s=this.json,u=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(t){return t._markDefs&&t._markDefs()}),Promise.all(this._invokeAll(function(t){return t.beforeRoot&&t.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(r){let c={scene:r[0][s.scene||0],scenes:r[0],animations:r[1],cameras:r[2],asset:s.asset,parser:i,userData:{}};return bK(u,c,s),bJ(c,s),Promise.all(i._invokeAll(function(t){return t.afterRoot&&t.afterRoot(c)})).then(function(){for(let t of c.scenes)t.updateMatrixWorld();t(c)})}).catch(r)}_markDefs(){let t=this.json.nodes||[],r=this.json.skins||[],i=this.json.meshes||[];for(let i=0,s=r.length;i<s;i++){let s=r[i].joints;for(let r=0,i=s.length;r<i;r++)t[s[r]].isBone=!0}for(let r=0,s=t.length;r<s;r++){let s=t[r];void 0!==s.mesh&&(this._addNodeRef(this.meshCache,s.mesh),void 0!==s.skin&&(i[s.mesh].isSkinnedMesh=!0)),void 0!==s.camera&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(t,r){void 0!==r&&(void 0===t.refs[r]&&(t.refs[r]=t.uses[r]=0),t.refs[r]++)}_getNodeRef(t,r,i){if(t.refs[r]<=1)return i;let s=i.clone(),u=(t,r)=>{let i=this.associations.get(t);for(let[s,c]of(null!=i&&this.associations.set(r,i),t.children.entries()))u(c,r.children[s])};return u(i,s),s.name+="_instance_"+t.uses[r]++,s}_invokeOne(t){let r=Object.values(this.plugins);r.push(this);for(let i=0;i<r.length;i++){let s=t(r[i]);if(s)return s}return null}_invokeAll(t){let r=Object.values(this.plugins);r.unshift(this);let i=[];for(let s=0;s<r.length;s++){let u=t(r[s]);u&&i.push(u)}return i}getDependency(t,r){let i=t+":"+r,s=this.cache.get(i);if(!s){switch(t){case"scene":s=this.loadScene(r);break;case"node":s=this._invokeOne(function(t){return t.loadNode&&t.loadNode(r)});break;case"mesh":s=this._invokeOne(function(t){return t.loadMesh&&t.loadMesh(r)});break;case"accessor":s=this.loadAccessor(r);break;case"bufferView":s=this._invokeOne(function(t){return t.loadBufferView&&t.loadBufferView(r)});break;case"buffer":s=this.loadBuffer(r);break;case"material":s=this._invokeOne(function(t){return t.loadMaterial&&t.loadMaterial(r)});break;case"texture":s=this._invokeOne(function(t){return t.loadTexture&&t.loadTexture(r)});break;case"skin":s=this.loadSkin(r);break;case"animation":s=this._invokeOne(function(t){return t.loadAnimation&&t.loadAnimation(r)});break;case"camera":s=this.loadCamera(r);break;default:if(!(s=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(t,r)})))throw Error("Unknown type: "+t)}this.cache.add(i,s)}return s}getDependencies(t){let r=this.cache.get(t);if(!r){let i=this;r=Promise.all((this.json[t+("mesh"===t?"es":"s")]||[]).map(function(r,s){return i.getDependency(t,s)})),this.cache.add(t,r)}return r}loadBuffer(t){let r=this.json.buffers[t],i=this.fileLoader;if(r.type&&"arraybuffer"!==r.type)throw Error("THREE.GLTFLoader: "+r.type+" buffer type is not supported.");if(void 0===r.uri&&0===t)return Promise.resolve(this.extensions[bd.KHR_BINARY_GLTF].body);let s=this.options;return new Promise(function(t,u){i.load(dd.resolveURL(r.uri,s.path),t,void 0,function(){u(Error('THREE.GLTFLoader: Failed to load buffer "'+r.uri+'".'))})})}loadBufferView(t){let r=this.json.bufferViews[t];return this.getDependency("buffer",r.buffer).then(function(t){let i=r.byteLength||0,s=r.byteOffset||0;return t.slice(s,s+i)})}loadAccessor(t){let r=this,i=this.json,s=this.json.accessors[t];if(void 0===s.bufferView&&void 0===s.sparse){let t=bj[s.type],r=bG[s.componentType],i=!0===s.normalized;return Promise.resolve(new aL(new r(s.count*t),t,i))}let u=[];return void 0!==s.bufferView?u.push(this.getDependency("bufferView",s.bufferView)):u.push(null),void 0!==s.sparse&&(u.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),u.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(u).then(function(t){let u,c;let h=t[0],f=bj[s.type],p=bG[s.componentType],v=p.BYTES_PER_ELEMENT,y=v*f,x=s.byteOffset||0,_=void 0!==s.bufferView?i.bufferViews[s.bufferView].byteStride:void 0,b=!0===s.normalized;if(_&&_!==y){let t=Math.floor(x/_),i="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+t+":"+s.count,y=r.cache.get(i);!y&&(y=new lZ(u=new p(h,t*_,s.count*_/v),_/v),r.cache.add(i,y)),c=new lJ(y,f,x%_/v,b)}else c=new aL(u=null===h?new p(s.count*f):new p(h,x,s.count*f),f,b);if(void 0!==s.sparse){let r=bj.SCALAR,i=bG[s.sparse.indices.componentType],u=s.sparse.indices.byteOffset||0,v=s.sparse.values.byteOffset||0,y=new i(t[1],u,s.sparse.count*r),x=new p(t[2],v,s.sparse.count*f);null!==h&&(c=new aL(c.array.slice(),c.itemSize,c.normalized));for(let t=0,r=y.length;t<r;t++){let r=y[t];if(c.setX(r,x[t*f]),f>=2&&c.setY(r,x[t*f+1]),f>=3&&c.setZ(r,x[t*f+2]),f>=4&&c.setW(r,x[t*f+3]),f>=5)throw Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return c})}loadTexture(t){let r=this.json,i=this.options,s=r.textures[t].source,u=r.images[s],c=this.textureLoader;if(u.uri){let t=i.manager.getHandler(u.uri);null!==t&&(c=t)}return this.loadTextureImage(t,s,c)}loadTextureImage(t,r,i){let s=this,u=this.json,c=u.textures[t],h=u.images[r],f=(h.uri||h.bufferView)+":"+c.sampler;if(this.textureCache[f])return this.textureCache[f];let p=this.loadImageSource(r,i).then(function(r){r.flipY=!1,r.name=c.name||h.name||"",""===r.name&&"string"==typeof h.uri&&!1===h.uri.startsWith("data:image/")&&(r.name=h.uri);let i=(u.samplers||{})[c.sampler]||{};return r.magFilter=bH[i.magFilter]||tP,r.minFilter=bH[i.minFilter]||tk,r.wrapS=bV[i.wrapS]||tA,r.wrapT=bV[i.wrapT]||tA,s.associations.set(r,{textures:t}),r}).catch(function(){return null});return this.textureCache[f]=p,p}loadImageSource(t,r){let i=this.json,s=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then(t=>t.clone());let u=i.images[t],c=self.URL||self.webkitURL,h=u.uri||"",f=!1;if(void 0!==u.bufferView)h=this.getDependency("bufferView",u.bufferView).then(function(t){f=!0;let r=new Blob([t],{type:u.mimeType});return h=c.createObjectURL(r)});else if(void 0===u.uri)throw Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");let p=Promise.resolve(h).then(function(t){return new Promise(function(i,u){let c=i;!0===r.isImageBitmapLoader&&(c=function(t){let r=new r7(t);r.needsUpdate=!0,i(r)}),r.load(dd.resolveURL(t,s.path),c,void 0,u)})}).then(function(t){var r;return!0===f&&c.revokeObjectURL(h),bJ(t,u),t.userData.mimeType=u.mimeType||((r=u.uri).search(/\.jpe?g($|\?)/i)>0||0===r.search(/^data\:image\/jpeg/)?"image/jpeg":r.search(/\.webp($|\?)/i)>0||0===r.search(/^data\:image\/webp/)?"image/webp":"image/png"),t}).catch(function(t){throw t});return this.sourceCache[t]=p,p}assignTexture(t,r,i,s){let u=this;return this.getDependency("texture",i.index).then(function(c){if(!c)return null;if(void 0!==i.texCoord&&i.texCoord>0&&((c=c.clone()).channel=i.texCoord),u.extensions[bd.KHR_TEXTURE_TRANSFORM]){let t=void 0!==i.extensions?i.extensions[bd.KHR_TEXTURE_TRANSFORM]:void 0;if(t){let r=u.associations.get(c);c=u.extensions[bd.KHR_TEXTURE_TRANSFORM].extendTexture(c,t),u.associations.set(c,r)}}return void 0!==s&&("number"==typeof s&&(s=3001===s?bl:bu),"colorSpace"in c?c.colorSpace=s:c.encoding=s===bl?3001:3e3),t[r]=c,c})}assignFinalMaterial(t){let r=t.geometry,i=t.material,s=void 0===r.attributes.tangent,u=void 0!==r.attributes.color,c=void 0===r.attributes.normal;if(t.isPoints){let t="PointsMaterial:"+i.uuid,r=this.cache.get(t);!r&&(r=new u4,aM.prototype.copy.call(r,i),r.color.copy(i.color),r.map=i.map,r.sizeAttenuation=!1,this.cache.add(t,r)),i=r}else if(t.isLine){let t="LineBasicMaterial:"+i.uuid,r=this.cache.get(t);!r&&(r=new uW,aM.prototype.copy.call(r,i),r.color.copy(i.color),r.map=i.map,this.cache.add(t,r)),i=r}if(s||u||c){let t="ClonedMaterial:"+i.uuid+":";s&&(t+="derivative-tangents:"),u&&(t+="vertex-colors:"),c&&(t+="flat-shading:");let r=this.cache.get(t);!r&&(r=i.clone(),u&&(r.vertexColors=!0),c&&(r.flatShading=!0),s&&(r.normalScale&&(r.normalScale.y*=-1),r.clearcoatNormalScale&&(r.clearcoatNormalScale.y*=-1)),this.cache.add(t,r),this.associations.set(r,this.associations.get(i))),i=r}t.material=i}getMaterialType(){return hg}loadMaterial(t){let r;let i=this,s=this.json,u=this.extensions,c=s.materials[t],h={},f=c.extensions||{},p=[];if(f[bd.KHR_MATERIALS_UNLIT]){let t=u[bd.KHR_MATERIALS_UNLIT];r=t.getMaterialType(),p.push(t.extendParams(h,c,i))}else{let s=c.pbrMetallicRoughness||{};if(h.color=new aw(1,1,1),h.opacity=1,Array.isArray(s.baseColorFactor)){let t=s.baseColorFactor;h.color.setRGB(t[0],t[1],t[2],bu),h.opacity=t[3]}void 0!==s.baseColorTexture&&p.push(i.assignTexture(h,"map",s.baseColorTexture,bl)),h.metalness=void 0!==s.metallicFactor?s.metallicFactor:1,h.roughness=void 0!==s.roughnessFactor?s.roughnessFactor:1,void 0!==s.metallicRoughnessTexture&&(p.push(i.assignTexture(h,"metalnessMap",s.metallicRoughnessTexture)),p.push(i.assignTexture(h,"roughnessMap",s.metallicRoughnessTexture))),r=this._invokeOne(function(r){return r.getMaterialType&&r.getMaterialType(t)}),p.push(Promise.all(this._invokeAll(function(r){return r.extendMaterialParams&&r.extendMaterialParams(t,h)})))}!0===c.doubleSided&&(h.side=eB);let v=c.alphaMode||bZ.OPAQUE;if(v===bZ.BLEND?(h.transparent=!0,h.depthWrite=!1):(h.transparent=!1,v===bZ.MASK&&(h.alphaTest=void 0!==c.alphaCutoff?c.alphaCutoff:.5)),void 0!==c.normalTexture&&r!==aC&&(p.push(i.assignTexture(h,"normalMap",c.normalTexture)),h.normalScale=new rz(1,1),void 0!==c.normalTexture.scale)){let t=c.normalTexture.scale;h.normalScale.set(t,t)}if(void 0!==c.occlusionTexture&&r!==aC&&(p.push(i.assignTexture(h,"aoMap",c.occlusionTexture)),void 0!==c.occlusionTexture.strength&&(h.aoMapIntensity=c.occlusionTexture.strength)),void 0!==c.emissiveFactor&&r!==aC){let t=c.emissiveFactor;h.emissive=new aw().setRGB(t[0],t[1],t[2],bu)}return void 0!==c.emissiveTexture&&r!==aC&&p.push(i.assignTexture(h,"emissiveMap",c.emissiveTexture,bl)),Promise.all(p).then(function(){let s=new r(h);return c.name&&(s.name=c.name),bJ(s,c),i.associations.set(s,{materials:t}),c.extensions&&bK(u,s,c),s})}createUniqueName(t){let r=dJ.sanitizeNodeName(t||"");return r in this.nodeNamesUsed?r+"_"+ ++this.nodeNamesUsed[r]:(this.nodeNamesUsed[r]=0,r)}loadGeometries(t){let r=this,i=this.extensions,s=this.primitiveCache,u=[];for(let c=0,h=t.length;c<h;c++){let h=t[c],f=function(t){let r;let i=t.extensions&&t.extensions[bd.KHR_DRACO_MESH_COMPRESSION];if(r=i?"draco:"+i.bufferView+":"+i.indices+":"+bQ(i.attributes):t.indices+":"+bQ(t.attributes)+":"+t.mode,void 0!==t.targets)for(let i=0,s=t.targets.length;i<s;i++)r+=":"+bQ(t.targets[i]);return r}(h),p=s[f];if(p)u.push(p.promise);else{let t;t=h.extensions&&h.extensions[bd.KHR_DRACO_MESH_COMPRESSION]?function(t){return i[bd.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,r).then(function(i){return b1(i,t,r)})}(h):b1(new aJ,h,r),s[f]={primitive:h,promise:t},u.push(t)}}return Promise.all(u)}loadMesh(t){let r=this,i=this.json,s=this.extensions,u=i.meshes[t],c=u.primitives,h=[];for(let t=0,r=c.length;t<r;t++){var f;let r=void 0===c[t].material?(void 0===(f=this.cache).DefaultMaterial&&(f.DefaultMaterial=new hg({color:0xffffff,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:eP})),f.DefaultMaterial):this.getDependency("material",c[t].material);h.push(r)}return h.push(r.loadGeometries(c)),Promise.all(h).then(function(i){let h=i.slice(0,i.length-1),f=i[i.length-1],p=[];for(let i=0,v=f.length;i<v;i++){let v;let y=f[i],x=c[i],_=h[i];if(x.mode===bz.TRIANGLES||x.mode===bz.TRIANGLE_STRIP||x.mode===bz.TRIANGLE_FAN||void 0===x.mode)!0===(v=!0===u.isSkinnedMesh?new up(y,_):new a6(y,_)).isSkinnedMesh&&v.normalizeSkinWeights(),x.mode===bz.TRIANGLE_STRIP?v.geometry=_Z(v.geometry,nH):x.mode===bz.TRIANGLE_FAN&&(v.geometry=_Z(v.geometry,nV));else if(x.mode===bz.LINES)v=new u3(y,_);else if(x.mode===bz.LINE_STRIP)v=new u$(y,_);else if(x.mode===bz.LINE_LOOP)v=new u5(y,_);else if(x.mode===bz.POINTS)v=new ce(y,_);else throw Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(v.geometry.morphAttributes).length>0&&!function(t,r){if(t.updateMorphTargets(),void 0!==r.weights)for(let i=0,s=r.weights.length;i<s;i++)t.morphTargetInfluences[i]=r.weights[i];if(r.extras&&Array.isArray(r.extras.targetNames)){let i=r.extras.targetNames;if(t.morphTargetInfluences.length===i.length){t.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++)t.morphTargetDictionary[i[r]]=r}}}(v,u),v.name=r.createUniqueName(u.name||"mesh_"+t),bJ(v,u),x.extensions&&bK(s,v,x),r.assignFinalMaterial(v),p.push(v)}for(let i=0,s=p.length;i<s;i++)r.associations.set(p[i],{meshes:t,primitives:i});if(1===p.length)return u.extensions&&bK(s,p[0],u),p[0];let v=new lL;u.extensions&&bK(s,v,u),r.associations.set(v,{meshes:t});for(let t=0,r=p.length;t<r;t++)v.add(p[t]);return v})}loadCamera(t){let r;let i=this.json.cameras[t],s=i[i.type];if(!!s)return"perspective"===i.type?r=new oc(rU.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):"orthographic"===i.type&&(r=new oO(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(r.name=this.createUniqueName(i.name)),bJ(r,i),Promise.resolve(r)}loadSkin(t){let r=this.json.skins[t],i=[];for(let t=0,s=r.joints.length;t<s;t++)i.push(this._loadNodeShallow(r.joints[t]));return void 0!==r.inverseBindMatrices?i.push(this.getDependency("accessor",r.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(t){let r=t.pop(),i=[],s=[];for(let u=0,c=t.length;u<c;u++){let c=t[u];if(c){i.push(c);let t=new iz;null!==r&&t.fromArray(r.array,16*u),s.push(t)}}return new ux(i,s)})}loadAnimation(t){let r=this.json,i=this,s=r.animations[t],u=s.name?s.name:"animation_"+t,c=[],h=[],f=[],p=[],v=[];for(let t=0,r=s.channels.length;t<r;t++){let r=s.channels[t],i=s.samplers[r.sampler],u=r.target,y=u.node,x=void 0!==s.parameters?s.parameters[i.input]:i.input,_=void 0!==s.parameters?s.parameters[i.output]:i.output;void 0!==u.node&&(c.push(this.getDependency("node",y)),h.push(this.getDependency("accessor",x)),f.push(this.getDependency("accessor",_)),p.push(i),v.push(u))}return Promise.all([Promise.all(c),Promise.all(h),Promise.all(f),Promise.all(p),Promise.all(v)]).then(function(t){let r=t[0],s=t[1],c=t[2],h=t[3],f=t[4],p=[];for(let t=0,u=r.length;t<u;t++){let u=r[t],v=s[t],y=c[t],x=h[t],_=f[t];if(void 0===u)continue;u.updateMatrix&&u.updateMatrix();let b=i._createAnimationTracks(u,v,y,x,_);if(b)for(let t=0;t<b.length;t++)p.push(b[t])}return new hG(u,void 0,p)})}createNodeMesh(t){let r=this.json,i=this,s=r.nodes[t];return void 0===s.mesh?null:i.getDependency("mesh",s.mesh).then(function(t){let r=i._getNodeRef(i.meshCache,s.mesh,t);return void 0!==s.weights&&r.traverse(function(t){if(t.isMesh)for(let r=0,i=s.weights.length;r<i;r++)t.morphTargetInfluences[r]=s.weights[r]}),r})}loadNode(t){let r=this.json,i=r.nodes[t],s=this._loadNodeShallow(t),u=[],c=i.children||[];for(let t=0,r=c.length;t<r;t++)u.push(this.getDependency("node",c[t]));let h=void 0===i.skin?Promise.resolve(null):this.getDependency("skin",i.skin);return Promise.all([s,Promise.all(u),h]).then(function(t){let r=t[0],i=t[1],s=t[2];null!==s&&r.traverse(function(t){t.isSkinnedMesh&&t.bind(s,b$)});for(let t=0,s=i.length;t<s;t++)r.add(i[t]);return r})}_loadNodeShallow(t){let r=this.json,i=this.extensions,s=this;if(void 0!==this.nodeCache[t])return this.nodeCache[t];let u=r.nodes[t],c=u.name?s.createUniqueName(u.name):"",h=[],f=s._invokeOne(function(r){return r.createNodeMesh&&r.createNodeMesh(t)});return f&&h.push(f),void 0!==u.camera&&h.push(s.getDependency("camera",u.camera).then(function(t){return s._getNodeRef(s.cameraCache,u.camera,t)})),s._invokeAll(function(r){return r.createNodeAttachment&&r.createNodeAttachment(t)}).forEach(function(t){h.push(t)}),this.nodeCache[t]=Promise.all(h).then(function(r){let h;if((h=!0===u.isBone?new ug:r.length>1?new lL:1===r.length?r[0]:new ar)!==r[0])for(let t=0,i=r.length;t<i;t++)h.add(r[t]);if(u.name&&(h.userData.name=u.name,h.name=c),bJ(h,u),u.extensions&&bK(i,h,u),void 0!==u.matrix){let t=new iz;t.fromArray(u.matrix),h.applyMatrix4(t)}else void 0!==u.translation&&h.position.fromArray(u.translation),void 0!==u.rotation&&h.quaternion.fromArray(u.rotation),void 0!==u.scale&&h.scale.fromArray(u.scale);return!s.associations.has(h)&&s.associations.set(h,{}),s.associations.get(h).nodes=t,h}),this.nodeCache[t]}loadScene(t){let r=this.extensions,i=this.json.scenes[t],s=this,u=new lL;i.name&&(u.name=s.createUniqueName(i.name)),bJ(u,i),i.extensions&&bK(r,u,i);let c=i.nodes||[],h=[];for(let t=0,r=c.length;t<r;t++)h.push(s.getDependency("node",c[t]));return Promise.all(h).then(function(t){for(let r=0,i=t.length;r<i;r++)u.add(t[r]);return s.associations=(t=>{let r=new Map;for(let[t,i]of s.associations)(t instanceof aM||t instanceof r7)&&r.set(t,i);return t.traverse(t=>{let i=s.associations.get(t);null!=i&&r.set(t,i)}),r})(u),u})}_createAnimationTracks(t,r,i,s,u){let c;let h=[],f=t.name?t.name:t.uuid,p=[];switch(bX[u.path]===bX.weights?t.traverse(function(t){t.morphTargetInfluences&&p.push(t.name?t.name:t.uuid)}):p.push(f),bX[u.path]){case bX.weights:c=hO;break;case bX.rotation:c=hF;break;case bX.position:case bX.scale:c=hz;break;default:if(1===i.itemSize)c=hO;else c=hz}let v=void 0!==s.interpolation?bY[s.interpolation]:nB,y=this._getArrayFromAccessor(i);for(let t=0,i=p.length;t<i;t++){let i=new c(p[t]+"."+bX[u.path],r.array,y,v);"CUBICSPLINE"===s.interpolation&&this._createCubicSplineTrackInterpolant(i),h.push(i)}return h}_getArrayFromAccessor(t){let r=t.array;if(t.normalized){let t=bq(r.constructor),i=new Float32Array(r.length);for(let s=0,u=r.length;s<u;s++)i[s]=r[s]*t;r=i}return r}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(t){return new(this instanceof hF?bU:bN)(this.times,this.values,this.getValueSize()/3,t)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function b1(t,r,i){let s=r.attributes,u=[];for(let r in s){let c=bW[r]||r.toLowerCase();!(c in t.attributes)&&u.push(function(r,s){return i.getDependency("accessor",r).then(function(r){t.setAttribute(s,r)})}(s[r],c))}if(void 0!==r.indices&&!t.index){let s=i.getDependency("accessor",r.indices).then(function(r){t.setIndex(r)});u.push(s)}return bJ(t,r),!function(t,r,i){let s=r.attributes,u=new id;if(void 0===s.POSITION)return;{let t=i.json.accessors[s.POSITION],r=t.min,c=t.max;if(void 0===r||void 0===c)return;if(u.set(new iu(r[0],r[1],r[2]),new iu(c[0],c[1],c[2])),t.normalized){let r=bq(bG[t.componentType]);u.min.multiplyScalar(r),u.max.multiplyScalar(r)}}let c=r.targets;if(void 0!==c){let t=new iu,r=new iu;for(let s=0,u=c.length;s<u;s++){let u=c[s];if(void 0!==u.POSITION){let s=i.json.accessors[u.POSITION],c=s.min,h=s.max;if(void 0!==c&&void 0!==h){if(r.setX(Math.max(Math.abs(c[0]),Math.abs(h[0]))),r.setY(Math.max(Math.abs(c[1]),Math.abs(h[1]))),r.setZ(Math.max(Math.abs(c[2]),Math.abs(h[2]))),s.normalized){let t=bq(bG[s.componentType]);r.multiplyScalar(t)}t.max(r)}}}u.expandByVector(t)}t.boundingBox=u;let h=new iR;u.getCenter(h.center),h.radius=u.min.distanceTo(u.max)/2,t.boundingSphere=h}(t,r,i),Promise.all(u).then(function(){return void 0!==r.targets?function(t,r,i){let s=!1,u=!1,c=!1;for(let t=0,i=r.length;t<i;t++){let i=r[t];if(void 0!==i.POSITION&&(s=!0),void 0!==i.NORMAL&&(u=!0),void 0!==i.COLOR_0&&(c=!0),s&&u&&c)break}if(!s&&!u&&!c)return Promise.resolve(t);let h=[],f=[],p=[];for(let v=0,y=r.length;v<y;v++){let y=r[v];if(s){let r=void 0!==y.POSITION?i.getDependency("accessor",y.POSITION):t.attributes.position;h.push(r)}if(u){let r=void 0!==y.NORMAL?i.getDependency("accessor",y.NORMAL):t.attributes.normal;f.push(r)}if(c){let r=void 0!==y.COLOR_0?i.getDependency("accessor",y.COLOR_0):t.attributes.color;p.push(r)}}return Promise.all([Promise.all(h),Promise.all(f),Promise.all(p)]).then(function(r){let i=r[0],h=r[1],f=r[2];return s&&(t.morphAttributes.position=i),u&&(t.morphAttributes.normal=h),c&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}(t,r.targets,i):t})}let b2=null,b3="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function b5(t=!0,r=!0,i){return s=>{i&&i(s),t&&(!b2&&(b2=new br),b2.setDecoderPath("string"==typeof t?t:b3),s.setDRACOLoader(b2)),r&&s.setMeshoptDecoder("function"==typeof ba?ba():ba)}}let b4=(t,r,i,s)=>pF(bc,t,b5(r,i,s));function b9(t,r,i={}){let s,u,c,h,f;let p=new iu,v=new il,y=new iu,x=new iz,_=new iz,b=new iz;i.preserveMatrix=void 0===i.preserveMatrix||i.preserveMatrix,i.preservePosition=void 0===i.preservePosition||i.preservePosition,i.preserveHipPosition=void 0!==i.preserveHipPosition&&i.preserveHipPosition,i.useTargetMatrix=void 0!==i.useTargetMatrix&&i.useTargetMatrix,i.hip=void 0!==i.hip?i.hip:"hip",i.names=i.names||{};let w=r.isObject3D?r.skeleton.bones:b6(r),S=t.isObject3D?t.skeleton.bones:b6(t);if(t.isObject3D?t.skeleton.pose():(i.useTargetMatrix=!0,i.preserveMatrix=!1),i.preservePosition){f=[];for(let t=0;t<S.length;t++)f.push(S[t].position.clone())}if(i.preserveMatrix){t.updateMatrixWorld(),t.matrixWorld.identity();for(let r=0;r<t.children.length;++r)t.children[r].updateMatrixWorld(!0)}if(i.offsets){s=[];for(let t=0;t<S.length;++t)u=S[t],c=i.names[u.name]||u.name,i.offsets[c]&&(u.matrix.multiply(i.offsets[c]),u.matrix.decompose(u.position,u.quaternion,u.scale),u.updateMatrixWorld()),s.push(u.matrixWorld.clone())}for(let r=0;r<S.length;++r){if(u=S[r],h=b8(c=i.names[u.name]||u.name,w),b.copy(u.matrixWorld),h){if(h.updateMatrixWorld(),i.useTargetMatrix?_.copy(h.matrixWorld):(_.copy(t.matrixWorld).invert(),_.multiply(h.matrixWorld)),y.setFromMatrixScale(_),_.scale(y.set(1/y.x,1/y.y,1/y.z)),b.makeRotationFromQuaternion(v.setFromRotationMatrix(_)),t.isObject3D){let r=S.indexOf(u),i=s?s[r]:x.copy(t.skeleton.boneInverses[r]).invert();b.multiply(i)}b.copyPosition(_)}u.parent&&u.parent.isBone?(u.matrix.copy(u.parent.matrixWorld).invert(),u.matrix.multiply(b)):u.matrix.copy(b),i.preserveHipPosition&&c===i.hip&&u.matrix.setPosition(p.set(0,u.position.y,0)),u.matrix.decompose(u.position,u.quaternion,u.scale),u.updateMatrixWorld()}if(i.preservePosition)for(let t=0;t<S.length;++t)u=S[t],(c=i.names[u.name]||u.name)!==i.hip&&u.position.copy(f[t]);i.preserveMatrix&&t.updateMatrixWorld(!0)}b4.preload=(t,r,i,s)=>pF.preload(bc,t,b5(r,i,s)),b4.clear=t=>pF.clear(bc,t),b4.setDecoderPath=t=>{b3=t};function b8(t,r){for(let i=0,s=b6(r);i<s.length;i++)if(t===s[i].name)return s[i]}function b6(t){return Array.isArray(t)?t:t.bones}let b7={clone:function(t){let r=new Map,i=new Map,s=t.clone();return function t(r,i,s){s(r,i);for(let u=0;u<r.children.length;u++)t(r.children[u],i.children[u],s)}(t,s,function(t,s){r.set(s,t),i.set(t,s)}),s.traverse(function(t){if(!t.isSkinnedMesh)return;let s=r.get(t),u=s.skeleton.bones;t.skeleton=s.skeleton.clone(),t.bindMatrix.copy(s.bindMatrix),t.skeleton.bones=u.map(function(t){return i.get(t)}),t.bind(t.skeleton,t.bindMatrix)}),s}},we=ex.forwardRef(({isChild:t=!1,object:r,children:i,deep:s,castShadow:u,receiveShadow:c,inject:h,keys:f,...p},v)=>{let y={keys:f,deep:s,inject:h,castShadow:u,receiveShadow:c};if(Array.isArray(r=ex.useMemo(()=>{if(!1===t&&!Array.isArray(r)){let t=!1;if(r.traverse(r=>{r.isSkinnedMesh&&(t=!0)}),t)return b7.clone(r)}return r},[r,t])))return ex.createElement("group",gh({},p,{ref:v}),r.map(t=>ex.createElement(we,gh({key:t.uuid,object:t},y))),i);let{children:x,..._}=function(t,{keys:r=["near","far","color","distance","decay","penumbra","angle","intensity","skeleton","visible","castShadow","receiveShadow","morphTargetDictionary","morphTargetInfluences","name","geometry","material","position","rotation","scale","up","userData","bindMode","bindMatrix","bindMatrixInverse","skeleton"],deep:i,inject:s,castShadow:u,receiveShadow:c}){let h={};for(let i of r)h[i]=t[i];return i&&(h.geometry&&"materialsOnly"!==i&&(h.geometry=h.geometry.clone()),h.material&&"geometriesOnly"!==i&&(h.material=h.material.clone())),s&&(h="function"==typeof s?{...h,children:s(t)}:ex.isValidElement(s)?{...h,children:s}:{...h,...s}),t instanceof a6&&(u&&(h.castShadow=!0),c&&(h.receiveShadow=!0)),h}(r,y),b=r.type[0].toLowerCase()+r.type.slice(1);return ex.createElement(b,gh({},_,p,{ref:v}),r.children.map(t=>"Bone"===t.type?ex.createElement("primitive",gh({key:t.uuid,object:t},y)):ex.createElement(we,gh({key:t.uuid,object:t},y,{isChild:!0}))),i,x)}),wt=t=>(0,ev.jsx)("meshBasicMaterial",{color:"gray",transparent:!0,opacity:.7,...t}),wn=xz({focused:null,fullscreenId:null,isFullscreen:!1}),wr={setFullscreen:(t,r)=>{if(wn.fullscreenId===t||!wn.isFullscreen)wn.fullscreenId=t,wn.isFullscreen=r}},wi=t=>{let{data:r}=t,i=(0,ex.useRef)(null),{scene:s}=b4(vD(r.model)),{focused:u}=xX(wn),c=(0,ex.useMemo)(()=>r.id===(null==u?void 0:u.id),[r.id,null==u?void 0:u.id]),h=(0,ex.useMemo)(()=>u&&!c,[c,u]),f=(0,ex.useCallback)(()=>{wn.focused=c?null:{id:r.id,metadata:r.metadata}},[c,r]);return(0,ex.useEffect)(()=>{i.current&&(i.current.matrixAutoUpdate=!1)},[r.position]),(0,ev.jsx)(we,{ref:i,object:s,castShadow:!0,receiveShadow:!0,onPointerDown:f,name:r.id,userData:r.metadata,position:r.position,inject:h&&(0,ev.jsx)(wt,{})})},wa=ex.createContext(null),wo=_Y({color:new aw,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${_K>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),ws=ex.forwardRef(({children:t,temporal:r,frames:i=40,limit:s=1/0,blend:u=20,scale:c=10,opacity:h=1,alphaTest:f=.75,color:p="black",colorBlend:v=2,resolution:y=1024,toneMapped:x=!0,..._},b)=>{f$({SoftShadowMaterial:wo});let w=pB(t=>t.gl),S=pB(t=>t.scene),A=pB(t=>t.camera),M=pB(t=>t.invalidate),C=ex.useRef(null),T=ex.useRef(null),[I]=ex.useState(()=>new wu(w,S,y));ex.useLayoutEffect(()=>{I.configure(C.current)},[]);let D=ex.useMemo(()=>({lights:new Map,temporal:!!r,frames:Math.max(2,i),blend:Math.max(2,i===1/0?u:i),count:0,getMesh:()=>C.current,reset:()=>{I.clear();let t=C.current.material;t.opacity=0,t.alphaTest=0,D.count=0},update:(t=1)=>{let r=C.current.material;D.temporal?(r.opacity=Math.min(h,r.opacity+h/D.blend),r.alphaTest=Math.min(f,r.alphaTest+f/D.blend)):(r.opacity=h,r.alphaTest=f),T.current.visible=!0,I.prepare();for(let r=0;r<t;r++)D.lights.forEach(t=>t.update()),I.update(A,D.blend);T.current.visible=!1,I.finish()}}),[I,A,S,r,i,u,h,f]);return ex.useLayoutEffect(()=>{D.reset(),!D.temporal&&D.frames!==1/0&&D.update(D.blend)}),ex.useImperativeHandle(b,()=>D,[D]),pk(()=>{(D.temporal||D.frames===1/0)&&D.count<D.frames&&D.count<s&&(M(),D.update(),D.count++)}),ex.createElement("group",_,ex.createElement("group",{traverse:()=>null,ref:T},ex.createElement(wa.Provider,{value:D},t)),ex.createElement("mesh",{receiveShadow:!0,ref:C,scale:c,rotation:[-Math.PI/2,0,0]},ex.createElement("planeGeometry",null),ex.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:x,color:p,blend:v,map:I.progressiveLightMap2.texture})))}),wl=ex.forwardRef(({castShadow:t=!0,bias:r=.001,mapSize:i=512,size:s=5,near:u=.5,far:c=500,frames:h=1,position:f=[0,0,0],radius:p=1,amount:v=8,intensity:y=_K>=155?Math.PI:1,ambient:x=.5,..._},b)=>{let w=ex.useRef(null),S=new iu(...f).length(),A=ex.useContext(wa),M=ex.useCallback(()=>{let t;if(w.current)for(let r=0;r<w.current.children.length;r++)if(t=w.current.children[r],Math.random()>x)t.position.set(f[0]+rU.randFloatSpread(p),f[1]+rU.randFloatSpread(p),f[2]+rU.randFloatSpread(p));else{let r=Math.acos(2*Math.random()-1)-Math.PI/2,i=2*Math.PI*Math.random();t.position.set(Math.cos(r)*Math.cos(i)*S,Math.abs(Math.cos(r)*Math.sin(i)*S),Math.sin(r)*S)}},[p,x,S,...f]),C=ex.useMemo(()=>({update:M}),[M]);return ex.useImperativeHandle(b,()=>C,[C]),ex.useLayoutEffect(()=>{var t;let r=w.current;return A&&(null==(t=A.lights)||t.set(r.uuid,C)),()=>{var t;null==A||null==(t=A.lights)||t.delete(r.uuid)}},[A,C]),ex.createElement("group",gh({ref:w},_),Array.from({length:v},(h,f)=>ex.createElement("directionalLight",{key:f,castShadow:t,"shadow-bias":r,"shadow-mapSize":[i,i],intensity:y/v},ex.createElement("orthographicCamera",{attach:"shadow-camera",args:[-s,s,s,-s,u,c]}))))});class wu{constructor(t,r,i=1024){this.renderer=t,this.res=i,this.scene=r,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new aw,this.clearAlpha=0;let s={type:tj,magFilter:tT,minFilter:tT};this.progressiveLightMap1=new ir(this.res,this.res,s),this.progressiveLightMap2=new ir(this.res,this.res,s),this.discardMat=new _$,this.targetMat=new h_({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=t=>{t.vertexShader="varying vec2 vUv;\n"+t.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";let r=t.fragmentShader.indexOf("void main() {");t.fragmentShader="varying vec2 vUv;\n"+t.fragmentShader.slice(0,r)+"uniform sampler2D previousShadowMap;\n	uniform float averagingWindow;\n"+t.fragmentShader.slice(r-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,t.uniforms.previousShadowMap=this.previousShadowMap,t.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(t=>{if(!t.geometry){if(t.isLight)this.lights.push({object:t,intensity:t.intensity})}else this.meshes.push({object:t,material:t.material})})}prepare(){this.lights.forEach(t=>t.object.intensity=0),this.meshes.forEach(t=>t.object.material=this.discardMat)}finish(){this.lights.forEach(t=>t.object.intensity=t.intensity),this.meshes.forEach(t=>t.object.material=t.material)}configure(t){this.object=t}update(t,r=100){if(!this.object)return;this.averagingWindow.value=r,this.object.material=this.targetMat;let i=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,s=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,u=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(i),this.previousShadowMap.value=s.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,t),this.renderer.setRenderTarget(null),this.scene.background=u}}let wc=()=>(0,ev.jsx)(ws,{...xc.props.shadow,children:(0,ev.jsx)(wl,{...xc.props.light})});i("4958"),i("8725");let wh=t=>`/assets/models/sample/${t}.glb`,wd=t=>`/assets/images/sample/${t}.png`,wf=["basket","box","slope","switchboard","tank","waterTank"].reduce((t,r)=>({...t,[r]:{name:r,model:wh(r),image:wd(r)}}),{}),wp=Object.values(wf).map(t=>t.model),wg=t=>{let{data:r,color:i="#475569",disabled:s=!1,outline:u=!1}=t,{scene:c}=b4(vD(r.model));return(0,ev.jsx)(we,{object:c,userData:r.metadata,position:r.position,inject:(0,ev.jsxs)(ev.Fragment,{children:[s&&(0,ev.jsx)(wt,{depthTest:!1}),u&&(0,ev.jsx)(_Q,{thickness:5,color:i})]})})};wp.forEach(t=>b4.preload(vD(t)));let wm=t=>{let{interactable:r=!0}=t,{runtimeData:i}=xX(be),s=(0,ex.useMemo)(()=>{var t;return null===(t=i.models)||void 0===t?void 0:t.map((t,i)=>r?(0,ev.jsx)(wi,{data:t},i):(0,ev.jsx)(wg,{data:t},i))},[r,i.models]);return(0,ev.jsxs)("group",{matrixAutoUpdate:!1,children:[s,(0,ev.jsx)(wc,{})]})};i("3262"),i("5446"),i("5549");let wv="http://172.30.1.1:59095/api",wy=async t=>{try{let r=await fetch(`${wv}/farm-info?tankId=${t}`);return await r.json()}catch(t){return null}},w_=async(t,r)=>{try{let i=new URL(`${wv}/mortality`),s={tankCd:t,cycle:String(r)};i.search=new URLSearchParams(s).toString();let u=await fetch(i.toString());return await u.json()}catch(t){return[]}},wb=async(t,r)=>{try{let i=new URL(`${wv}/findDate`),s={tankCd:t,cycle:String(r)};i.search=new URLSearchParams(s).toString();let u=await fetch(i.toString());return await u.json()}catch(t){return[]}},ww=(0,ex.createContext)(void 0);function wS(){return(0,ex.useContext)(ww)}function wA({value:t,children:r}){return ex.createElement(ww.Provider,{value:t},r)}var wM=i("967");function wC(...t){return Array.from(new Set(t.flatMap(t=>"string"==typeof t?t.split(" "):[]))).filter(Boolean).join(" ")}function wT(t,r,...i){if(t in r){let s=r[t];return"function"==typeof s?s(...i):s}let s=Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(r).map(t=>`"${t}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,wT),s}var wE=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(wE||{}),wI=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(wI||{});function wD(){let t=function(){let t=(0,ex.useRef)([]),r=(0,ex.useCallback)(r=>{for(let i of t.current)null!=i&&("function"==typeof i?i(r):i.current=r)},[]);return(...i)=>{if(!i.every(t=>null==t))return t.current=i,r}}();return(0,ex.useCallback)(r=>(function({ourProps:t,theirProps:r,slot:i,defaultTag:s,features:u,visible:c=!0,name:h,mergeRefs:f}){f=null!=f?f:wP;let p=wL(r,t);if(c)return wR(p,i,s,h,f);let v=null!=u?u:0;if(2&v){let{static:t=!1,...r}=p;if(t)return wR(r,i,s,h,f)}if(1&v){let{unmount:t=!0,...r}=p;return wT(t?0:1,{0:()=>null,1:()=>wR({...r,hidden:!0,style:{display:"none"}},i,s,h,f)})}return wR(p,i,s,h,f)})({mergeRefs:t,...r}),[t])}function wR(t,r={},i,s,u){let{as:c=i,children:h,refName:f="ref",...p}=wN(t,["unmount","static"]),v=void 0!==t.ref?{[f]:t.ref}:{},y="function"==typeof h?h(r):h;"className"in p&&p.className&&"function"==typeof p.className&&(p.className=p.className(r)),p["aria-labelledby"]&&p["aria-labelledby"]===p.id&&(p["aria-labelledby"]=void 0);let x={};if(r){let t=!1,i=[];for(let[s,u]of Object.entries(r))"boolean"==typeof u&&(t=!0),!0===u&&i.push(s.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`));if(t)for(let t of(x["data-headlessui-state"]=i.join(" "),i))x[`data-${t}`]=""}if(c===ex.Fragment&&(Object.keys(wO(p)).length>0||Object.keys(wO(x)).length>0)){if(!(0,ex.isValidElement)(y)||Array.isArray(y)&&y.length>1){if(Object.keys(wO(p)).length>0)throw Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(wO(p)).concat(Object.keys(wO(x))).map(t=>`  - ${t}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(t=>`  - ${t}`).join(`
`)].join(`
`))}else{let t=y.props,r=null==t?void 0:t.className,i="function"==typeof r?(...t)=>wC(r(...t),p.className):wC(r,p.className),s=wL(y.props,wO(wN(p,["ref"])));for(let t in x)t in s&&delete x[t];return(0,ex.cloneElement)(y,Object.assign({},s,x,v,{ref:u(function(t){return ex.version.split(".")[0]>="19"?t.props.ref:t.ref}(y),v.ref)},i?{className:i}:{}))}}return(0,ex.createElement)(c,Object.assign({},wN(p,["ref"]),c!==ex.Fragment&&v,c!==ex.Fragment&&x),y)}function wP(...t){return t.every(t=>null==t)?void 0:r=>{for(let i of t)null!=i&&("function"==typeof i?i(r):i.current=r)}}function wL(...t){var r;if(0===t.length)return{};if(1===t.length)return t[0];let i={},s={};for(let r of t)for(let t in r)t.startsWith("on")&&"function"==typeof r[t]?(null!=s[t]||(s[t]=[]),s[t].push(r[t])):i[t]=r[t];if(i.disabled||i["aria-disabled"])for(let t in s)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(t)&&(s[t]=[t=>{var r;return null==(r=null==t?void 0:t.preventDefault)?void 0:r.call(t)}]);for(let t in s)Object.assign(i,{[t](r,...i){for(let u of s[t]){if((r instanceof Event||(null==r?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;u(r,...i)}}});return i}function wB(...t){var r;if(0===t.length)return{};if(1===t.length)return t[0];let i={},s={};for(let r of t)for(let t in r)t.startsWith("on")&&"function"==typeof r[t]?(null!=s[t]||(s[t]=[]),s[t].push(r[t])):i[t]=r[t];for(let t in s)Object.assign(i,{[t](...r){for(let i of s[t])null==i||i(...r)}});return i}function wk(t){var r;return Object.assign((0,ex.forwardRef)(t),{displayName:null!=(r=t.displayName)?r:t.name})}function wO(t){let r=Object.assign({},t);for(let t in r)void 0===r[t]&&delete r[t];return r}function wN(t,r=[]){let i=Object.assign({},t);for(let t of r)t in i&&delete i[t];return i}var wF=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(wF||{});let wU=wk(function(t,r){var i;let{features:s=1,...u}=t,c={ref:r,"aria-hidden":(2&s)==2||(null!=(i=u["aria-hidden"])?i:void 0),hidden:(4&s)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&s)==4&&(2&s)!=2&&{display:"none"}}};return wD()({ourProps:c,theirProps:u,slot:{},defaultTag:"span",name:"Hidden"})}),wz=(0,ex.createContext)(null);function wG(t){let[r,i]=(0,ex.useState)(null);return ex.createElement(wz.Provider,{value:{target:r}},t.children,ex.createElement(wU,{features:wF.Hidden,ref:i}))}function wH({children:t}){let r=E(wz);if(!r)return o.createElement(o.Fragment,null,t);let{target:i}=r;return i?g(o.createElement(o.Fragment,null,t),i):null}function wV({setForm:t,formId:r}){return m(()=>{if(r){let i=document.getElementById(r);i&&t(i)}},[t,r]),r?null:o.createElement(l,{features:d.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let i=r.closest("form");i&&t(i)}})}let wj=(0,ex.createContext)(void 0);function wW(){return(0,ex.useContext)(wj)}function wX({id:t,children:r}){return ex.createElement(wj.Provider,{value:t},r)}var wY=Object.defineProperty,wZ=(t,r,i)=>r in t?wY(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,wK=(t,r,i)=>(wZ(t,"symbol"!=typeof r?r+"":r,i),i);let wJ=new class t{constructor(){wK(this,"current",this.detect()),wK(this,"handoffState","pending"),wK(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},wQ=(t,r)=>{wJ.isServer?(0,ex.useEffect)(t,r):(0,ex.useLayoutEffect)(t,r)};function wq(t){let r=(0,ex.useRef)(t);return wQ(()=>{r.current=t},[t]),r}let w$=function(t){let r=wq(t);return ex.useCallback((...t)=>r.current(...t),[r])},w0=Symbol();function w1(...t){let r=(0,ex.useRef)(t);(0,ex.useEffect)(()=>{r.current=t},[t]);let i=w$(t=>{for(let i of r.current)null!=i&&("function"==typeof i?i(t):i.current=t)});return t.every(t=>null==t||(null==t?void 0:t[w0]))?void 0:i}let w2=(0,ex.createContext)(null);w2.displayName="DescriptionContext";Object.assign(wk(function(t,r){let i=(0,ex.useId)(),s=wS(),{id:u=`headlessui-description-${i}`,...c}=t,h=function t(){let r=(0,ex.useContext)(w2);if(null===r){let r=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return r}(),f=w1(r);wQ(()=>h.register(u),[u,h.register]);let p=s||!1,v=(0,ex.useMemo)(()=>({...h.slot,disabled:p}),[h.slot,p]),y={ref:f,...h.props,id:u};return wD()({ourProps:y,theirProps:c,slot:v,defaultTag:"p",name:h.name||"Description"})}),{});let w3=(0,ex.createContext)(null);w3.displayName="LabelContext";function w5(t){var r,i,s;let u=null!=(i=null==(r=(0,ex.useContext)(w3))?void 0:r.value)?i:void 0;return(null!=(s=null==t?void 0:t.length)?s:0)>0?[u,...t].filter(Boolean).join(" "):u}Object.assign(wk(function(t,r){var i;let s=(0,ex.useId)(),u=function t(){let r=(0,ex.useContext)(w3);if(null===r){let r=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return r}(),c=wW(),h=wS(),{id:f=`headlessui-label-${s}`,htmlFor:p=null!=c?c:null==(i=u.props)?void 0:i.htmlFor,passive:v=!1,...y}=t,x=w1(r);wQ(()=>u.register(f),[f,u.register]);let _=w$(t=>{let r=t.currentTarget;if(r instanceof HTMLLabelElement&&t.preventDefault(),u.props&&"onClick"in u.props&&"function"==typeof u.props.onClick&&u.props.onClick(t),r instanceof HTMLLabelElement){let t=document.getElementById(r.htmlFor);if(t){let r=t.getAttribute("disabled");if("true"===r||""===r)return;let i=t.getAttribute("aria-disabled");if("true"===i||""===i)return;(t instanceof HTMLInputElement&&("radio"===t.type||"checkbox"===t.type)||"radio"===t.role||"checkbox"===t.role||"switch"===t.role)&&t.click(),t.focus({preventScroll:!0})}}}),b=h||!1,w=(0,ex.useMemo)(()=>({...u.slot,disabled:b}),[u.slot,b]),S={ref:x,...u.props,id:f,htmlFor:p,onClick:_};return v&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in y&&delete y.onClick),wD()({ourProps:S,theirProps:y,slot:w,defaultTag:p?"label":"div",name:u.name||"Label"})}),{});let w4=wk(function(t,r){let i=`headlessui-control-${(0,ex.useId)()}`,[s,u]=function({inherit:t=!1}={}){let r=w5(),[i,s]=(0,ex.useState)([]),u=t?[r,...i].filter(Boolean):i;return[u.length>0?u.join(" "):void 0,(0,ex.useMemo)(()=>function(t){let r=w$(t=>(s(r=>[...r,t]),()=>s(r=>{let i=r.slice(),s=i.indexOf(t);return -1!==s&&i.splice(s,1),i}))),i=(0,ex.useMemo)(()=>({register:r,slot:t.slot,name:t.name,props:t.props,value:t.value}),[r,t.slot,t.name,t.props,t.value]);return ex.createElement(w3.Provider,{value:i},t.children)},[s])]}(),[c,h]=function(){let[t,r]=(0,ex.useState)([]);return[t.length>0?t.join(" "):void 0,(0,ex.useMemo)(()=>function(t){let i=w$(t=>(r(r=>[...r,t]),()=>r(r=>{let i=r.slice(),s=i.indexOf(t);return -1!==s&&i.splice(s,1),i}))),s=(0,ex.useMemo)(()=>({register:i,slot:t.slot,name:t.name,props:t.props,value:t.value}),[i,t.slot,t.name,t.props,t.value]);return ex.createElement(w2.Provider,{value:s},t.children)},[r])]}(),f=wS(),{disabled:p=f||!1,...v}=t,y=(0,ex.useMemo)(()=>({disabled:p}),[p]),x=wD();return ex.createElement(wA,{value:p},ex.createElement(u,{value:s},ex.createElement(h,{value:c},ex.createElement(wX,{id:i},x({ourProps:{ref:r,disabled:p||void 0,"aria-disabled":p||void 0},theirProps:{...v,children:ex.createElement(wG,null,"function"==typeof v.children?v.children(y):v.children)},slot:y,defaultTag:"div",name:"Field"})))))});function w9(t){var r;return"undefined"!=typeof window&&null!=window.navigator&&((null===(r=window.navigator.userAgentData)||void 0===r?void 0:r.brands.some(r=>t.test(r.brand)))||t.test(window.navigator.userAgent))}function w8(t){var r;return"undefined"!=typeof window&&null!=window.navigator&&t.test((null===(r=window.navigator.userAgentData)||void 0===r?void 0:r.platform)||window.navigator.platform)}function w6(t){let r=null;return()=>(null==r&&(r=t()),r)}let w7=w6(function(){return w8(/^Mac/i)}),Se=w6(function(){return w8(/^iPhone/i)}),St=w6(function(){return w8(/^iPad/i)||w7()&&navigator.maxTouchPoints>1}),Sn=w6(function(){return Se()||St()});w6(function(){return w7()||Sn()}),w6(function(){return w9(/AppleWebKit/i)&&!Sr()});let Sr=w6(function(){return w9(/Chrome/i)}),Si=w6(function(){return w9(/Android/i)});w6(function(){return w9(/Firefox/i)});let Sa=t=>{var r;return null!==(r=null==t?void 0:t.ownerDocument)&&void 0!==r?r:document},So=t=>t&&"window"in t&&t.window===t?t:Sa(t).defaultView||window,Ss=null,Sl=new Set,Su=new Map,Sc=!1,Sh=!1,Sd={Tab:!0,Escape:!0};function Sf(t,r){for(let i of Sl)i(t,r)}function Sp(t){var r;if(Sc=!0,!((r=t).metaKey||!w7()&&r.altKey||r.ctrlKey||"Control"===r.key||"Shift"===r.key||"Meta"===r.key))Ss="keyboard",Sf("keyboard",t)}function Sg(t){Ss="pointer",("mousedown"===t.type||"pointerdown"===t.type)&&(Sc=!0,Sf("pointer",t))}function Sm(t){var r;if(0===(r=t).mozInputSource&&r.isTrusted||(Si()&&r.pointerType?"click"===r.type&&1===r.buttons:0===r.detail&&!r.pointerType))Sc=!0,Ss="virtual"}function Sv(t){t.target!==window&&t.target!==document&&(!Sc&&!Sh&&(Ss="virtual",Sf("virtual",t)),Sc=!1,Sh=!1)}function Sy(){Sc=!1,Sh=!0}function Sx(t){if("undefined"==typeof window||Su.get(So(t)))return;let r=So(t),i=Sa(t),s=r.HTMLElement.prototype.focus;r.HTMLElement.prototype.focus=function(){Sc=!0,s.apply(this,arguments)},i.addEventListener("keydown",Sp,!0),i.addEventListener("keyup",Sp,!0),i.addEventListener("click",Sm,!0),r.addEventListener("focus",Sv,!0),r.addEventListener("blur",Sy,!1),"undefined"!=typeof PointerEvent?(i.addEventListener("pointerdown",Sg,!0),i.addEventListener("pointermove",Sg,!0),i.addEventListener("pointerup",Sg,!0)):(i.addEventListener("mousedown",Sg,!0),i.addEventListener("mousemove",Sg,!0),i.addEventListener("mouseup",Sg,!0)),r.addEventListener("beforeunload",()=>{S_(t)},{once:!0}),Su.set(r,{focus:s})}let S_=(t,r)=>{let i=So(t),s=Sa(t);r&&s.removeEventListener("DOMContentLoaded",r),Su.has(i)&&(i.HTMLElement.prototype.focus=Su.get(i).focus,s.removeEventListener("keydown",Sp,!0),s.removeEventListener("keyup",Sp,!0),s.removeEventListener("click",Sm,!0),i.removeEventListener("focus",Sv,!0),i.removeEventListener("blur",Sy,!1),"undefined"!=typeof PointerEvent?(s.removeEventListener("pointerdown",Sg,!0),s.removeEventListener("pointermove",Sg,!0),s.removeEventListener("pointerup",Sg,!0)):(s.removeEventListener("mousedown",Sg,!0),s.removeEventListener("mousemove",Sg,!0),s.removeEventListener("mouseup",Sg,!0)),Su.delete(i))};function Sb(){return"pointer"!==Ss}"undefined"!=typeof document&&!function(t){let r;let i=Sa(void 0);"loading"!==i.readyState?Sx(t):(r=()=>{Sx(t)},i.addEventListener("DOMContentLoaded",r)),()=>S_(t,r)}();let Sw=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function SS(t,r,i){Sx(),(0,ex.useEffect)(()=>{let r=(r,s)=>{(function(t,r,i){var s;let u="undefined"!=typeof window?So(null==i?void 0:i.target).HTMLInputElement:HTMLInputElement,c="undefined"!=typeof window?So(null==i?void 0:i.target).HTMLTextAreaElement:HTMLTextAreaElement,h="undefined"!=typeof window?So(null==i?void 0:i.target).HTMLElement:HTMLElement,f="undefined"!=typeof window?So(null==i?void 0:i.target).KeyboardEvent:KeyboardEvent;return!((t=t||(null==i?void 0:i.target)instanceof u&&!Sw.has(null==i?void 0:null===(s=i.target)||void 0===s?void 0:s.type)||(null==i?void 0:i.target)instanceof c||(null==i?void 0:i.target)instanceof h&&(null==i?void 0:i.target.isContentEditable))&&"keyboard"===r&&i instanceof f&&!Sd[i.key])})(!!(null==i?void 0:i.isTextInput),r,s)&&t(Sb())};return Sl.add(r),()=>{Sl.delete(r)}},r)}let SA="undefined"!=typeof document?ex.useLayoutEffect:()=>{};class SM{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function SC(t){let r=(0,ex.useRef)({isFocused:!1,observer:null});SA(()=>{let t=r.current;return()=>{t.observer&&(t.observer.disconnect(),t.observer=null)}},[]);let i=function(t){let r=(0,ex.useRef)(null);return SA(()=>{r.current=t},[t]),(0,ex.useCallback)((...t)=>{let i=r.current;return null==i?void 0:i(...t)},[])}(r=>{null==t||t(r)});return(0,ex.useCallback)(t=>{if(t.target instanceof HTMLButtonElement||t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLSelectElement){r.current.isFocused=!0;let s=t.target;s.addEventListener("focusout",t=>{r.current.isFocused=!1,s.disabled&&i(new SM("blur",t)),r.current.observer&&(r.current.observer.disconnect(),r.current.observer=null)},{once:!0}),r.current.observer=new MutationObserver(()=>{if(r.current.isFocused&&s.disabled){var t;null===(t=r.current.observer)||void 0===t||t.disconnect();let i=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:i})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:i}))}}),r.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[i])}function ST(t={}){let{autoFocus:r=!1,isTextInput:i,within:s}=t,u=(0,ex.useRef)({isFocused:!1,isFocusVisible:r||Sb()}),[c,h]=(0,ex.useState)(!1),[f,p]=(0,ex.useState)(()=>u.current.isFocused&&u.current.isFocusVisible),v=(0,ex.useCallback)(()=>p(u.current.isFocused&&u.current.isFocusVisible),[]),y=(0,ex.useCallback)(t=>{u.current.isFocused=t,h(t),v()},[v]);SS(t=>{u.current.isFocusVisible=t,v()},[],{isTextInput:i});let{focusProps:x}=function(t){let{isDisabled:r,onFocus:i,onBlur:s,onFocusChange:u}=t,c=(0,ex.useCallback)(t=>{if(t.target===t.currentTarget)return s&&s(t),u&&u(!1),!0},[s,u]),h=SC(c),f=(0,ex.useCallback)(t=>{let r=Sa(t.target);t.target===t.currentTarget&&r.activeElement===t.target&&(i&&i(t),u&&u(!0),h(t))},[u,i,h]);return{focusProps:{onFocus:!r&&(i||u||s)?f:void 0,onBlur:!r&&(s||u)?c:void 0}}}({isDisabled:s,onFocusChange:y}),{focusWithinProps:_}=function(t){let{isDisabled:r,onBlurWithin:i,onFocusWithin:s,onFocusWithinChange:u}=t,c=(0,ex.useRef)({isFocusWithin:!1}),h=(0,ex.useCallback)(t=>{c.current.isFocusWithin&&!t.currentTarget.contains(t.relatedTarget)&&(c.current.isFocusWithin=!1,i&&i(t),u&&u(!1))},[i,u,c]),f=SC(h),p=(0,ex.useCallback)(t=>{!c.current.isFocusWithin&&document.activeElement===t.target&&(s&&s(t),u&&u(!0),c.current.isFocusWithin=!0,f(t))},[s,u,f]);return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:p,onBlur:h}}}({isDisabled:!s,onFocusWithinChange:y});return{isFocused:c,isFocusVisible:f,focusProps:s?_:x}}let SE=!1,SI=0;function SD(){SE=!0,setTimeout(()=>{SE=!1},50)}function SR(t){"touch"===t.pointerType&&SD()}function SP(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",SR):document.addEventListener("touchend",SD),SI++,()=>{!(--SI>0)&&("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",SR):document.removeEventListener("touchend",SD))}}function SL(t){let{onHoverStart:r,onHoverChange:i,onHoverEnd:s,isDisabled:u}=t,[c,h]=(0,ex.useState)(!1),f=(0,ex.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,ex.useEffect)(SP,[]);let{hoverProps:p,triggerHoverEnd:v}=(0,ex.useMemo)(()=>{let t=(t,s)=>{if(f.pointerType=s,u||"touch"===s||f.isHovered||!t.currentTarget.contains(t.target))return;f.isHovered=!0;let c=t.currentTarget;f.target=c,r&&r({type:"hoverstart",target:c,pointerType:s}),i&&i(!0),h(!0)},c=(t,r)=>{if(f.pointerType="",f.target=null,"touch"===r||!f.isHovered)return;f.isHovered=!1;let u=t.currentTarget;s&&s({type:"hoverend",target:u,pointerType:r}),i&&i(!1),h(!1)},p={};return"undefined"!=typeof PointerEvent?(p.onPointerEnter=r=>{(!SE||"mouse"!==r.pointerType)&&t(r,r.pointerType)},p.onPointerLeave=t=>{!u&&t.currentTarget.contains(t.target)&&c(t,t.pointerType)}):(p.onTouchStart=()=>{f.ignoreEmulatedMouseEvents=!0},p.onMouseEnter=r=>{!f.ignoreEmulatedMouseEvents&&!SE&&t(r,"mouse"),f.ignoreEmulatedMouseEvents=!1},p.onMouseLeave=t=>{!u&&t.currentTarget.contains(t.target)&&c(t,"mouse")}),{hoverProps:p,triggerHoverEnd:c}},[r,i,s,u,f]);return(0,ex.useEffect)(()=>{u&&v({currentTarget:f.target},f.pointerType)},[u]),{hoverProps:p,isHovered:c}}function SB(){let t=[],r={addEventListener:(t,i,s,u)=>(t.addEventListener(i,s,u),r.add(()=>t.removeEventListener(i,s,u))),requestAnimationFrame(...t){let i=requestAnimationFrame(...t);return r.add(()=>cancelAnimationFrame(i))},nextFrame:(...t)=>r.requestAnimationFrame(()=>r.requestAnimationFrame(...t)),setTimeout(...t){let i=setTimeout(...t);return r.add(()=>clearTimeout(i))},microTask(...t){var i;let s={current:!0};return i=()=>{s.current&&t[0]()},"function"==typeof queueMicrotask?queueMicrotask(i):Promise.resolve().then(i).catch(t=>setTimeout(()=>{throw t})),r.add(()=>{s.current=!1})},style(t,r,i){let s=t.style.getPropertyValue(r);return Object.assign(t.style,{[r]:i}),this.add(()=>{Object.assign(t.style,{[r]:s})})},group(t){let r=SB();return t(r),this.add(()=>r.dispose())},add:r=>(t.includes(r)||t.push(r),()=>{let i=t.indexOf(r);if(i>=0)for(let r of t.splice(i,1))r()}),dispose(){for(let r of t.splice(0))r()}};return r}function Sk(){let[t]=(0,ex.useState)(SB);return(0,ex.useEffect)(()=>()=>t.dispose(),[t]),t}function SO({disabled:t=!1}={}){let r=(0,ex.useRef)(null),[i,s]=(0,ex.useState)(!1),u=Sk(),c=w$(()=>{r.current=null,s(!1),u.dispose()}),h=w$(t=>{if(u.dispose(),null===r.current){r.current=t.currentTarget,s(!0);{var i;let h=(i=t.currentTarget,wJ.isServer?null:i instanceof Node?i.ownerDocument:null!=i&&i.hasOwnProperty("current")&&i.current instanceof Node?i.current.ownerDocument:document);u.addEventListener(h,"pointerup",c,!1),u.addEventListener(h,"pointermove",t=>{if(r.current){var i,u,c;let h,f;s((u=(h=(i=t).width/2,f=i.height/2,{top:i.clientY-f,right:i.clientX+h,bottom:i.clientY+f,left:i.clientX-h}),c=r.current.getBoundingClientRect(),!(!u||!c||u.right<c.left||u.left>c.right||u.bottom<c.top||u.top>c.bottom)))}},!1),u.addEventListener(h,"pointercancel",c,!1)}}});return{pressed:i,pressProps:t?{}:{onPointerDown:h,onPointerUp:c,onClick:c}}}let SN=wk(function(t,r){var i,s;let u=(0,ex.useId)(),c=wW(),h=wS(),{id:f=c||`headlessui-select-${u}`,disabled:p=h||!1,invalid:v=!1,autoFocus:y=!1,...x}=t,_=w5(),b=null!=(s=null==(i=(0,ex.useContext)(w2))?void 0:i.value)?s:void 0,{isFocusVisible:w,focusProps:S}=ST({autoFocus:y}),{isHovered:A,hoverProps:M}=SL({isDisabled:p}),{pressed:C,pressProps:T}=SO({disabled:p}),I=wB({ref:r,id:f,"aria-labelledby":_,"aria-describedby":b,"aria-invalid":v?"":void 0,disabled:p||void 0,autoFocus:y},S,M,T),D=(0,ex.useMemo)(()=>({disabled:p,invalid:v,hover:A,focus:w,active:C,autofocus:y}),[p,v,A,w,C,y]);return wD()({ourProps:I,theirProps:x,slot:D,defaultTag:"select",name:"Select"})}),SF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SU=(...t)=>t.filter((t,r,i)=>!!t&&""!==t.trim()&&i.indexOf(t)===r).join(" ").trim();var Sz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let SG=(0,ex.forwardRef)(({color:t="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:u="",children:c,iconNode:h,...f},p)=>(0,ex.createElement)("svg",{ref:p,...Sz,width:r,height:r,stroke:t,strokeWidth:s?24*Number(i)/Number(r):i,className:SU("lucide",u),...f},[...h.map(([t,r])=>(0,ex.createElement)(t,r)),...Array.isArray(c)?c:[c]])),SH=(t,r)=>{let i=(0,ex.forwardRef)(({className:i,...s},u)=>(0,ex.createElement)(SG,{ref:u,iconNode:r,className:SU(`lucide-${SF(t)}`,i),...s}));return i.displayName=`${t}`,i},SV=SH("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Sj=t=>{let r=SZ(t),{conflictingClassGroups:i,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:t=>{let i=t.split("-");return""===i[0]&&1!==i.length&&i.shift(),SW(i,r)||SY(t)},getConflictingClassGroupIds:(t,r)=>{let u=i[t]||[];return r&&s[t]?[...u,...s[t]]:u}}},SW=(t,r)=>{if(0===t.length)return r.classGroupId;let i=t[0],s=r.nextPart.get(i),u=s?SW(t.slice(1),s):void 0;if(u)return u;if(0===r.validators.length)return;let c=t.join("-");return r.validators.find(({validator:t})=>t(c))?.classGroupId},SX=/^\[(.+)\]$/,SY=t=>{if(SX.test(t)){let r=SX.exec(t)[1],i=r?.substring(0,r.indexOf(":"));if(i)return"arbitrary.."+i}},SZ=t=>{let{theme:r,prefix:i}=t,s={nextPart:new Map,validators:[]};return Sq(Object.entries(t.classGroups),i).forEach(([t,i])=>{SK(i,s,t,r)}),s},SK=(t,r,i,s)=>{t.forEach(t=>{if("string"==typeof t){(""===t?r:SJ(r,t)).classGroupId=i;return}if("function"==typeof t){if(SQ(t)){SK(t(s),r,i,s);return}r.validators.push({validator:t,classGroupId:i});return}Object.entries(t).forEach(([t,u])=>{SK(u,SJ(r,t),i,s)})})},SJ=(t,r)=>{let i=t;return r.split("-").forEach(t=>{!i.nextPart.has(t)&&i.nextPart.set(t,{nextPart:new Map,validators:[]}),i=i.nextPart.get(t)}),i},SQ=t=>t.isThemeGetter,Sq=(t,r)=>r?t.map(([t,i])=>[t,i.map(t=>"string"==typeof t?r+t:"object"==typeof t?Object.fromEntries(Object.entries(t).map(([t,i])=>[r+t,i])):t)]):t,S$=t=>{if(t<1)return{get:()=>void 0,set:()=>{}};let r=0,i=new Map,s=new Map,u=(u,c)=>{i.set(u,c),++r>t&&(r=0,s=i,i=new Map)};return{get(t){let r=i.get(t);return void 0!==r?r:void 0!==(r=s.get(t))?(u(t,r),r):void 0},set(t,r){i.has(t)?i.set(t,r):u(t,r)}}},S0=t=>{let{separator:r,experimentalParseClassName:i}=t,s=1===r.length,u=r[0],c=r.length,h=t=>{let i;let h=[],f=0,p=0;for(let v=0;v<t.length;v++){let y=t[v];if(0===f){if(y===u&&(s||t.slice(v,v+c)===r)){h.push(t.slice(p,v)),p=v+c;continue}if("/"===y){i=v;continue}}"["===y?f++:"]"===y&&f--}let v=0===h.length?t:t.substring(p),y=v.startsWith("!"),x=y?v.substring(1):v;return{modifiers:h,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:i&&i>p?i-p:void 0}};return i?t=>i({className:t,parseClassName:h}):h},S1=t=>{if(t.length<=1)return t;let r=[],i=[];return t.forEach(t=>{"["===t[0]?(r.push(...i.sort(),t),i=[]):i.push(t)}),r.push(...i.sort()),r},S2=t=>({cache:S$(t.cacheSize),parseClassName:S0(t),...Sj(t)}),S3=/\s+/,S5=(t,r)=>{let{parseClassName:i,getClassGroupId:s,getConflictingClassGroupIds:u}=r,c=[],h=t.trim().split(S3),f="";for(let t=h.length-1;t>=0;t-=1){let r=h[t],{modifiers:p,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}=i(r),_=!!x,b=s(_?y.substring(0,x):y);if(!b){if(!_||!(b=s(y))){f=r+(f.length>0?" "+f:f);continue}_=!1}let w=S1(p).join(":"),S=v?w+"!":w,A=S+b;if(c.includes(A))continue;c.push(A);let M=u(b,_);for(let t=0;t<M.length;++t){let r=M[t];c.push(S+r)}f=r+(f.length>0?" "+f:f)}return f};function S4(){let t,r,i=0,s="";for(;i<arguments.length;)(t=arguments[i++])&&(r=S9(t))&&(s&&(s+=" "),s+=r);return s}let S9=t=>{let r;if("string"==typeof t)return t;let i="";for(let s=0;s<t.length;s++)t[s]&&(r=S9(t[s]))&&(i&&(i+=" "),i+=r);return i},S8=t=>{let r=r=>r[t]||[];return r.isThemeGetter=!0,r},S6=/^\[(?:([a-z-]+):)?(.+)\]$/i,S7=/^\d+\/\d+$/,Ae=new Set(["px","full","screen"]),At=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,An=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ar=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ai=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Aa=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ao=t=>Al(t)||Ae.has(t)||S7.test(t),As=t=>Ab(t,"length",Aw),Al=t=>!!t&&!Number.isNaN(Number(t)),Au=t=>Ab(t,"number",Al),Ac=t=>!!t&&Number.isInteger(Number(t)),Ah=t=>t.endsWith("%")&&Al(t.slice(0,-1)),Ad=t=>S6.test(t),Af=t=>At.test(t),Ap=new Set(["length","size","percentage"]),Ag=t=>Ab(t,Ap,AS),Am=t=>Ab(t,"position",AS),Av=new Set(["image","url"]),Ay=t=>Ab(t,Av,AM),Ax=t=>Ab(t,"",AA),A_=()=>!0,Ab=(t,r,i)=>{let s=S6.exec(t);if(s)return s[1]?"string"==typeof r?s[1]===r:r.has(s[1]):i(s[2]);return!1},Aw=t=>An.test(t)&&!Ar.test(t),AS=()=>!1,AA=t=>Ai.test(t),AM=t=>Aa.test(t);Symbol.toStringTag;let AC=function(t,...r){let i,s,u;let c=function(f){return s=(i=S2(r.reduce((t,r)=>r(t),t()))).cache.get,u=i.cache.set,c=h,h(f)};function h(t){let r=s(t);if(r)return r;let c=S5(t,i);return u(t,c),c}return function(){return c(S4.apply(null,arguments))}}(()=>{let t=S8("colors"),r=S8("spacing"),i=S8("blur"),s=S8("brightness"),u=S8("borderColor"),c=S8("borderRadius"),h=S8("borderSpacing"),f=S8("borderWidth"),p=S8("contrast"),v=S8("grayscale"),y=S8("hueRotate"),x=S8("invert"),_=S8("gap"),b=S8("gradientColorStops"),w=S8("gradientColorStopPositions"),S=S8("inset"),A=S8("margin"),M=S8("opacity"),C=S8("padding"),T=S8("saturate"),I=S8("scale"),D=S8("sepia"),R=S8("skew"),P=S8("space"),L=S8("translate"),B=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ad,r],N=()=>[Ad,r],F=()=>["",Ao,As],U=()=>["auto",Al,Ad],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",Ad],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Al,Ad];return{cacheSize:500,separator:":",theme:{colors:[A_],spacing:[Ao,As],blur:["none","",Af,Ad],brightness:X(),borderColor:[t],borderRadius:["none","","full",Af,Ad],borderSpacing:N(),borderWidth:F(),contrast:X(),grayscale:j(),hueRotate:X(),invert:j(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Ah,As],inset:O(),margin:O(),opacity:X(),padding:N(),saturate:X(),scale:X(),sepia:j(),skew:X(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Ad]}],container:["container"],columns:[{columns:[Af]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Ad]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ac,Ad]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ad]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Ac,Ad]}],"grid-cols":[{"grid-cols":[A_]}],"col-start-end":[{col:["auto",{span:["full",Ac,Ad]},Ad]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[A_]}],"row-start-end":[{row:["auto",{span:[Ac,Ad]},Ad]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ad]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ad]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ad,r]}],"min-w":[{"min-w":[Ad,r,"min","max","fit"]}],"max-w":[{"max-w":[Ad,r,"none","full","min","max","fit","prose",{screen:[Af]},Af]}],h:[{h:[Ad,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ad,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ad,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ad,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Af,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Au]}],"font-family":[{font:[A_]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ad]}],"line-clamp":[{"line-clamp":["none",Al,Au]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ao,Ad]}],"list-image":[{"list-image":["none",Ad]}],"list-style-type":[{list:["none","disc","decimal",Ad]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ao,As]}],"underline-offset":[{"underline-offset":["auto",Ao,Ad]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ad]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ad]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),Am]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ag]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ay]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:G()}],"border-color":[{border:[u]}],"border-color-x":[{"border-x":[u]}],"border-color-y":[{"border-y":[u]}],"border-color-s":[{"border-s":[u]}],"border-color-e":[{"border-e":[u]}],"border-color-t":[{"border-t":[u]}],"border-color-r":[{"border-r":[u]}],"border-color-b":[{"border-b":[u]}],"border-color-l":[{"border-l":[u]}],"divide-color":[{divide:[u]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Ao,Ad]}],"outline-w":[{outline:[Ao,As]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[Ao,As]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Af,Ax]}],"shadow-color":[{shadow:[A_]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[s]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Af,Ad]}],grayscale:[{grayscale:[v]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[x]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ad]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Ad]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ad]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Ac,Ad]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ad]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ad]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ad]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ao,As,Au]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),AT=function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return AC(function(){for(var t,r,i=0,s="",u=arguments.length;i<u;i++)(t=arguments[i])&&(r=function t(r){var i,s,u="";if("string"==typeof r||"number"==typeof r)u+=r;else if("object"==typeof r){if(Array.isArray(r)){var c=r.length;for(i=0;i<c;i++)r[i]&&(s=t(r[i]))&&(u&&(u+=" "),u+=s)}else for(s in r)r[s]&&(u&&(u+=" "),u+=s)}return u}(t))&&(s&&(s+=" "),s+=r);return s}(r))},AE=t=>{let{options:r,value:i,onChange:s}=t,[u,c]=(0,ex.useState)(i);(0,ex.useEffect)(()=>{c(i)},[i]);let h=(0,ex.useCallback)(t=>{c(t.target.value),s(t.target.value)},[s]);return(0,ev.jsx)("div",{className:"min-w-28",children:(0,ev.jsx)(w4,{children:(0,ev.jsxs)("div",{className:"relative",children:[(0,ev.jsx)(SN,{className:AT(`
              block w-full appearance-none rounded-lg border border-slate-300
              bg-slate-50 px-3 py-1.5 text-sm/6 text-neutral-700

              *:text-black

              data-[focus]:outline-2 data-[focus]:-outline-offset-2
              data-[focus]:outline-black/25

              focus:outline-none
            `),onChange:h,value:u,children:r.map(t=>(0,ev.jsx)("option",{value:t.value,children:t.name},t.value))}),(0,ev.jsx)(SV,{className:AT(`
              group pointer-events-none absolute right-2.5 top-2.5 size-4
              fill-black/60
            `),"aria-hidden":"true"})]})})})};function AI(t,r,i){return r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}var AD=function(t){return t.TMP="TMP",t.SA="SA",t.DO="DO",t.PH="PH",t.ORP="ORP",t.mortality="mortality",t}({});class AR{}AI(AR,"colors",Object.freeze({TMP:"#2A4B8C",SA:"#91CC75",DO:"#73C0DE",PH:"#FAC858",ORP:"#EE6666",mortality:"#FF6666"})),AI(AR,"durationColors",Object.freeze(["#FF0000","#FF6666","#FFE5E5"])),AI(AR,"units",Object.freeze({TMP:"",SA:"PPT",DO:"mg/L",PH:"pH",ORP:"mv",mortality:""}));class AP{static formatTooltip(t){let r="<b>"+t[0].axisValue+"</b> <br>";return t.forEach(t=>{if(null!==t.data){let i=AR.units[t.seriesName]||"";if("boxplot"===t.seriesType&&null!=t.data[1])r+=`${t.marker} ${t.seriesName}: <br>
                              : ${t.data[1]} ${i}<br>
                             Q1: ${t.data[2]} ${i}<br>
                             : ${t.data[3]} ${i}<br>
                             Q3: ${t.data[4]} ${i}<br>
                              : ${t.data[5]} ${i}<br>`;else if("line"===t.seriesType){let s="mortality"===t.seriesName?"":t.seriesName,u="mortality"===t.seriesName?t.data:t.data.toFixed(2);r+=`${t.marker} ${s}: ${u} ${i}<br>`}else if("bar"===t.seriesType&&0!==t.data.value){let i=Math.floor(t.data.value/60),s=t.data.value%60;r+=`${t.marker} <b>(25)  </b>: <br/>  ${t.data.period}<br>  ${i} ${s<10?"0"+s:s}<br>`}}}),r}static createYAxis(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4?arguments[4]:void 0;return{type:"value",name:t,position:r,offset:i,alignTicks:!0,axisLine:{show:!0,lineStyle:{color:u}},axisLabel:{formatter:r=>`${"mortality"!==t?r.toFixed(2):Math.floor(r)}${AR.units[t]||""}`},min:"mortality"===t?"dataMin":t=>t.min-1,gridIndex:s}}static createYAxisForDuration(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{type:"value",name:"duration",position:t,offset:r,alignTicks:!0,axisLine:{show:!0,lineStyle:{color:AR.colors.TMP}},axisLabel:{formatter:t=>{let r=Math.floor(t/60),i=t%60;return`${r}:${i<10?"0"+i:i}`}},min:t=>t.min-1,gridIndex:i}}static createSeries(t,r,i,s){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],h={name:r,type:t,yAxisIndex:s,data:i,smooth:c,itemStyle:u,lineStyle:{}};return"boxplot"===t?h.itemStyle={color:"transparent",borderColor:u.color}:h.lineStyle={opacity:.5},h}}let AL=(t,r)=>{let i={farmCd:t.farmCd,salValues:[],doValues:[],phValues:[],mortalityValues:[],durationValues:[],orpValues:[],values:[],date:[]},s="65AF1"===t.farmCd;return r.forEach(t=>{if(i.salValues.push(t.saData),i.doValues.push(t.doData),i.phValues.push(t.phData),i.mortalityValues.push(t.fishDeathCnt),t.duration){let r=t.duration.periodStarts.map((r,i)=>`${r} ~ ${t.duration.periodEnds[i]}`);i.durationValues.push({...t.duration,periods:r})}s&&i.orpValues.push(t.orpData),i.values.push([t.tmp.tmpMinValue,t.tmp.tmpQ1Value,t.tmp.tmpQ2Value,t.tmp.tmpQ3Value,t.tmp.tmpPeakValue]),i.date.push(`${t.collectDate} ${null==t.daysPassedPd?"":"("+t.daysPassedPd+")"}`)}),i},AB=(t,r)=>r.map(r=>({duration:void 0!==r.durations[t]?r.durations[t]:0,period:void 0!==r.periods[t]?r.periods[t]:""})),Ak=t=>Array.from({length:Math.max(...t.map(t=>t.durations.length))},(r,i)=>({type:"bar",name:"duration"+i,data:AB(i,t).map(t=>({value:t.duration,period:t.period})),xAxisIndex:1,yAxisIndex:1,itemStyle:{color:AR.durationColors[i]},stack:"stacked"})),AO=t=>{let r=["TMP","DO","SA","PH","mortality"],i=[AP.createYAxis(AD.TMP,"left",0,0,AR.colors.TMP),AP.createYAxisForDuration("left",0,1),AP.createYAxis(AD.DO,"right",55,0,AR.colors.DO),AP.createYAxis(AD.SA,"right",130,0,AR.colors.SA),AP.createYAxis(AD.PH,"right",0,0,AR.colors.PH),AP.createYAxis(AD.mortality,"left",70,0,AR.colors.mortality)],s=[AP.createSeries("boxplot",AD.TMP,t.values,0,{color:AR.colors.TMP}),AP.createSeries("line",AD.DO,t.doValues,2,{color:AR.colors.DO}),AP.createSeries("line",AD.SA,t.salValues,3,{color:AR.colors.SA}),AP.createSeries("line",AD.PH,t.phValues,4,{color:AR.colors.PH}),AP.createSeries("line",AD.mortality,t.mortalityValues,5,{color:AR.colors.mortality}),...Ak(t.durationValues)];return t.orpValues.length&&(r.push("ORP"),i.push({type:"value",name:"ORP",position:"left",offset:140,alignTicks:!0,axisLine:{show:!0,lineStyle:{color:AR.colors.mortality}},axisLabel:{formatter:t=>`${t.toFixed(2)}mv`},min:t=>t.min-1}),s.push({name:"ORP",type:"line",yAxisIndex:6,data:t.orpValues,smooth:!1,lineStyle:{opacity:.5},itemStyle:{color:AR.colors.mortality}})),{tooltip:{trigger:"axis",borderWidth:1,borderColor:"#ccc",padding:10,textStyle:{color:"#000"},formatter:t=>AP.formatTooltip(t)},legend:{bottom:10,left:"center",data:r},grid:[{left:"10%",right:"8%",height:"50%",containLabel:!0},{left:"10%",right:"8%",top:"63%",height:"16%",containLabel:!0}],xAxis:[{type:"category",data:t.date,gridIndex:0,boundaryGap:!0,axisLine:{onZero:!1},splitLine:{show:!1},axisPointer:{z:100}},{type:"category",gridIndex:1,data:t.date,boundaryGap:!0,axisLabel:{show:!1}}],yAxis:i,graphic:{type:"text",left:"10%",top:"82%",style:{text:"*      2  25    .",textAlign:"center",fill:"#333",font:"bold 12px Arial"}},dataZoom:[{type:"inside",xAxisIndex:[0,1],start:80,end:100},{show:!0,xAxisIndex:[0,1],type:"slider",top:"85%",start:80,end:100}],series:s}},AN=t=>t.map(t=>({name:"Mortality"===t.typeCd?"":t.typeCd,started:t.startDate,updated:t.updtDate}));var AF=function(t,r){return(AF=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(t,r)};function AU(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}AF(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}var Az=function(){return(Az=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++)for(var u in r=arguments[i],r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u]);return t}).apply(this,arguments)};function AG(t,r,i,s){return new(i||(i=Promise))(function(u,c){function h(t){try{p(s.next(t))}catch(t){c(t)}}function f(t){try{p(s.throw(t))}catch(t){c(t)}}function p(t){var r;t.done?u(t.value):((r=t.value)instanceof i?r:new i(function(t){t(r)})).then(h,f)}p((s=s.apply(t,r||[])).next())})}function AH(t,r){var i,s,u,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},h=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return h.next=f(0),h.throw=f(1),h.return=f(2),"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function f(f){return function(p){return function(f){if(i)throw TypeError("Generator is already executing.");for(;h&&(h=0,f[0]&&(c=0)),c;)try{if(i=1,s&&(u=2&f[0]?s.return:f[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,f[1])).done)return u;switch(s=0,u&&(f=[2&f[0],u.value]),f[0]){case 0:case 1:u=f;break;case 4:return c.label++,{value:f[1],done:!1};case 5:c.label++,s=f[1],f=[0];continue;case 7:f=c.ops.pop(),c.trys.pop();continue;default:if(!(u=(u=c.trys).length>0&&u[u.length-1])&&(6===f[0]||2===f[0])){c=0;continue}if(3===f[0]&&(!u||f[1]>u[0]&&f[1]<u[3])){c.label=f[1];break}if(6===f[0]&&c.label<u[1]){c.label=u[1],u=f;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(f);break}u[2]&&c.ops.pop(),c.trys.pop();continue}f=r.call(t,c)}catch(t){f=[6,t],s=0}finally{i=u=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,p])}}}var AV=Object.create?function(t,r,i,s){void 0===s&&(s=i);var u=Object.getOwnPropertyDescriptor(r,i);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[i]}}),Object.defineProperty(t,s,u)}:function(t,r,i,s){void 0===s&&(s=i),t[s]=r[i]};function Aj(t){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&t[r],s=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function AW(t){return this instanceof AW?(this.v=t,this):new AW(t)}var AX=Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r},AY=function(t){return(AY=Object.getOwnPropertyNames||function(t){var r=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[r.length]=i);return r})(t)},AZ=function(t,r){return(AZ=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(t,r)};function AK(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}AZ(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}var AJ=Object.create?function(t,r,i,s){void 0===s&&(s=i),Object.defineProperty(t,s,{enumerable:!0,get:function(){return r[i]}})}:function(t,r,i,s){void 0===s&&(s=i),t[s]=r[i]};function AQ(t){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&t[r],s=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Aq(t){return this instanceof Aq?(this.v=t,this):new Aq(t)}var A$=Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r},A0=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},A1=new function(){this.browser=new A0,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(A1.wxa=!0,A1.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?A1.worker=!0:"undefined"==typeof navigator||0===navigator.userAgent.indexOf("Node.js")?(A1.node=!0,A1.svgSupported=!0):function(t,r){var i=r.browser,s=t.match(/Firefox\/([\d.]+)/),u=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),c=t.match(/Edge?\/([\d.]+)/),h=/micromessenger/i.test(t);s&&(i.firefox=!0,i.version=s[1]),u&&(i.ie=!0,i.version=u[1]),c&&(i.edge=!0,i.version=c[1],i.newEdge=+c[1].split(".")[0]>18),h&&(i.weChat=!0),r.svgSupported="undefined"!=typeof SVGRect,r.touchEventsSupported="ontouchstart"in window&&!i.ie&&!i.edge,r.pointerEventsSupported="onpointerdown"in window&&(i.edge||i.ie&&+i.version>=11),r.domSupported="undefined"!=typeof document;var f=document.documentElement.style;r.transform3dSupported=(i.ie&&"transition"in f||i.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in f)&&!("OTransition"in f),r.transformSupported=r.transform3dSupported||i.ie&&+i.version>=9}(navigator.userAgent,A1);let A2=A1;var A3="sans-serif",A5="12px "+A3,A4=function(t){var r={};if("undefined"==typeof JSON)return r;for(var i=0;i<t.length;i++){var s=String.fromCharCode(i+32),u=(t.charCodeAt(i)-20)/100;r[s]=u}return r}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),A9={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(){var t,r;return function(i,s){if(!t){var u=A9.createCanvas();t=u&&u.getContext("2d")}if(t)return r!==s&&(r=t.font=s||A5),t.measureText(i);i=i||"",s=s||A5;var c=/((?:\d+)?\.?\d*)px/.exec(s),h=c&&+c[1]||12,f=0;if(s.indexOf("mono")>=0)f=h*i.length;else for(var p=0;p<i.length;p++){var v=A4[i[p]];f+=null==v?h:v*h}return{width:f}}}(),loadImage:function(t,r,i){var s=new Image;return s.onload=r,s.onerror=i,s.src=t,s}};function A8(t){for(var r in A9)t[r]&&(A9[r]=t[r])}var A6=MA(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,r){return t["[object "+r+"]"]=!0,t},{}),A7=MA(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,r){return t["[object "+r+"Array]"]=!0,t},{}),Me=Object.prototype.toString,Mt=Array.prototype,Mn=Mt.forEach,Mr=Mt.filter,Mi=Mt.slice,Ma=Mt.map,Mo=(function(){}).constructor,Ms=Mo?Mo.prototype:null,Ml="__proto__",Mu=2311;function Mc(){return Mu++}function Mh(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r]}function Md(t){if(null==t||"object"!=typeof t)return t;var r=t,i=Me.call(t);if("[object Array]"===i){if(!function(t){return t[MJ]}(t)){r=[];for(var s=0,u=t.length;s<u;s++)r[s]=Md(t[s])}}else if(A7[i]){if(!function(t){return t[MJ]}(t)){var c=t.constructor;if(c.from)r=c.from(t);else{r=new c(t.length);for(var s=0,u=t.length;s<u;s++)r[s]=t[s]}}}else if(!A6[i]&&!function(t){return t[MJ]}(t)&&!MF(t))for(var h in r={},t)t.hasOwnProperty(h)&&h!==Ml&&(r[h]=Md(t[h]));return r}function Mf(t,r,i){if(!Mk(r)||!Mk(t))return i?Md(r):t;for(var s in r)if(r.hasOwnProperty(s)&&s!==Ml){var u=t[s],c=r[s];!(Mk(c)&&Mk(u))||MD(c)||MD(u)||MF(c)||MF(u)||MO(c)||MO(u)||function(t){return t[MJ]}(c)||function(t){return t[MJ]}(u)?(i||!(s in t))&&(t[s]=Md(r[s])):Mf(u,c,i)}return t}function Mp(t,r){for(var i=t[0],s=1,u=t.length;s<u;s++)i=Mf(i,t[s],r);return i}function Mg(t,r){if(Object.assign)Object.assign(t,r);else for(var i in r)r.hasOwnProperty(i)&&i!==Ml&&(t[i]=r[i]);return t}function Mm(t,r,i){for(var s=MT(r),u=0;u<s.length;u++){var c=s[u];(i?null!=r[c]:null==t[c])&&(t[c]=r[c])}return t}var Mv=A9.createCanvas;function My(t,r){if(t){if(t.indexOf)return t.indexOf(r);for(var i=0,s=t.length;i<s;i++)if(t[i]===r)return i}return -1}function Mx(t,r){var i=t.prototype;function s(){}for(var u in s.prototype=r.prototype,t.prototype=new s,i)i.hasOwnProperty(u)&&(t.prototype[u]=i[u]);t.prototype.constructor=t,t.superClass=r}function M_(t,r,i){if(t="prototype"in t?t.prototype:t,r="prototype"in r?r.prototype:r,Object.getOwnPropertyNames){for(var s=Object.getOwnPropertyNames(r),u=0;u<s.length;u++){var c=s[u];"constructor"!==c&&(i?null!=r[c]:null==t[c])&&(t[c]=r[c])}}else Mm(t,r,i)}function Mb(t){return!!t&&"string"!=typeof t&&"number"==typeof t.length}function Mw(t,r,i){if(!!(t&&r))if(t.forEach&&t.forEach===Mn)t.forEach(r,i);else if(t.length===+t.length)for(var s=0,u=t.length;s<u;s++)r.call(i,t[s],s,t);else for(var c in t)t.hasOwnProperty(c)&&r.call(i,t[c],c,t)}function MS(t,r,i){if(!t)return[];if(!r)return MX(t);if(t.map&&t.map===Ma)return t.map(r,i);for(var s=[],u=0,c=t.length;u<c;u++)s.push(r.call(i,t[u],u,t));return s}function MA(t,r,i,s){if(!!(t&&r)){for(var u=0,c=t.length;u<c;u++)i=r.call(s,i,t[u],u,t);return i}}function MM(t,r,i){if(!t)return[];if(!r)return MX(t);if(t.filter&&t.filter===Mr)return t.filter(r,i);for(var s=[],u=0,c=t.length;u<c;u++)r.call(i,t[u],u,t)&&s.push(t[u]);return s}function MC(t,r,i){if(!!(t&&r)){for(var s=0,u=t.length;s<u;s++)if(r.call(i,t[s],s,t))return t[s]}}function MT(t){if(!t)return[];if(Object.keys)return Object.keys(t);var r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(i);return r}var ME=Ms&&MR(Ms.bind)?Ms.call.bind(Ms.bind):function(t,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return function(){return t.apply(r,i.concat(Mi.call(arguments)))}};function MI(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return function(){return t.apply(this,r.concat(Mi.call(arguments)))}}function MD(t){return Array.isArray?Array.isArray(t):"[object Array]"===Me.call(t)}function MR(t){return"function"==typeof t}function MP(t){return"string"==typeof t}function ML(t){return"[object String]"===Me.call(t)}function MB(t){return"number"==typeof t}function Mk(t){var r=typeof t;return"function"===r||!!t&&"object"===r}function MO(t){return!!A6[Me.call(t)]}function MN(t){return!!A7[Me.call(t)]}function MF(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function MU(t){return null!=t.colorStops}function Mz(t){return null!=t.image}function MG(t){return"[object RegExp]"===Me.call(t)}function MH(t){return t!=t}function MV(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var i=0,s=t.length;i<s;i++)if(null!=t[i])return t[i]}function Mj(t,r){return null!=t?t:r}function MW(t,r,i){return null!=t?t:null!=r?r:i}function MX(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return Mi.apply(t,r)}function MY(t){if("number"==typeof t)return[t,t,t,t];var r=t.length;return 2===r?[t[0],t[1],t[0],t[1]]:3===r?[t[0],t[1],t[2],t[1]]:t}function MZ(t,r){if(!t)throw Error(r)}function MK(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var MJ="__ec_primitive__";function MQ(t){t[MJ]=!0}function Mq(t){return t[MJ]}var M$=function(){function t(){this.data={}}return t.prototype.delete=function(t){var r=this.has(t);return r&&delete this.data[t],r},t.prototype.has=function(t){return this.data.hasOwnProperty(t)},t.prototype.get=function(t){return this.data[t]},t.prototype.set=function(t,r){return this.data[t]=r,this},t.prototype.keys=function(){return MT(this.data)},t.prototype.forEach=function(t){var r=this.data;for(var i in r)r.hasOwnProperty(i)&&t(r[i],i)},t}(),M0="function"==typeof Map,M1=function(){function t(r){var i=MD(r);this.data=M0?new Map:new M$;var s=this;function u(t,r){i?s.set(t,r):s.set(r,t)}r instanceof t?r.each(u):r&&Mw(r,u)}return t.prototype.hasKey=function(t){return this.data.has(t)},t.prototype.get=function(t){return this.data.get(t)},t.prototype.set=function(t,r){return this.data.set(t,r),r},t.prototype.each=function(t,r){this.data.forEach(function(i,s){t.call(r,i,s)})},t.prototype.keys=function(){var t=this.data.keys();return M0?Array.from(t):t},t.prototype.removeKey=function(t){this.data.delete(t)},t}();function M2(t){return new M1(t)}function M3(t,r){for(var i=new t.constructor(t.length+r.length),s=0;s<t.length;s++)i[s]=t[s];for(var u=t.length,s=0;s<r.length;s++)i[s+u]=r[s];return i}function M5(t,r){var i;if(Object.create)i=Object.create(t);else{var s=function(){};s.prototype=t,i=new s}return r&&Mg(i,r),i}function M4(t){var r=t.style;r.webkitUserSelect="none",r.userSelect="none",r.webkitTapHighlightColor="rgba(0,0,0,0)",r["-webkit-touch-callout"]="none"}function M9(t,r){return t.hasOwnProperty(r)}function M8(){}var M6=180/Math.PI;function M7(t,r){return null==t&&(t=0),null==r&&(r=0),[t,r]}function Ce(t,r){return t[0]=r[0],t[1]=r[1],t}function Ct(t){return[t[0],t[1]]}function Cn(t,r,i){return t[0]=r,t[1]=i,t}function Cr(t,r,i){return t[0]=r[0]+i[0],t[1]=r[1]+i[1],t}function Ci(t,r,i,s){return t[0]=r[0]+i[0]*s,t[1]=r[1]+i[1]*s,t}function Ca(t,r,i){return t[0]=r[0]-i[0],t[1]=r[1]-i[1],t}function Co(t){return Math.sqrt(Cl(t))}var Cs=Co;function Cl(t){return t[0]*t[0]+t[1]*t[1]}var Cu=Cl;function Cc(t,r,i){return t[0]=r[0]*i[0],t[1]=r[1]*i[1],t}function Ch(t,r,i){return t[0]=r[0]/i[0],t[1]=r[1]/i[1],t}function Cd(t,r){return t[0]*r[0]+t[1]*r[1]}function Cf(t,r,i){return t[0]=r[0]*i,t[1]=r[1]*i,t}function Cp(t,r){var i=Co(r);return 0===i?(t[0]=0,t[1]=0):(t[0]=r[0]/i,t[1]=r[1]/i),t}function Cg(t,r){return Math.sqrt((t[0]-r[0])*(t[0]-r[0])+(t[1]-r[1])*(t[1]-r[1]))}var Cm=Cg;function Cv(t,r){return(t[0]-r[0])*(t[0]-r[0])+(t[1]-r[1])*(t[1]-r[1])}var Cy=Cv;function Cx(t,r){return t[0]=-r[0],t[1]=-r[1],t}function C_(t,r,i,s){return t[0]=r[0]+s*(i[0]-r[0]),t[1]=r[1]+s*(i[1]-r[1]),t}function Cb(t,r,i){var s=r[0],u=r[1];return t[0]=i[0]*s+i[2]*u+i[4],t[1]=i[1]*s+i[3]*u+i[5],t}function Cw(t,r,i){return t[0]=Math.min(r[0],i[0]),t[1]=Math.min(r[1],i[1]),t}function CS(t,r,i){return t[0]=Math.max(r[0],i[0]),t[1]=Math.max(r[1],i[1]),t}var CA=function(t,r){this.target=t,this.topTarget=r&&r.topTarget},CM=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var r=t.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new CA(r,t),"dragstart",t.event))},t.prototype._drag=function(t){var r=this._draggingTarget;if(r){var i=t.offsetX,s=t.offsetY,u=i-this._x,c=s-this._y;this._x=i,this._y=s,r.drift(u,c,t),this.handler.dispatchToElement(new CA(r,t),"drag",t.event);var h=this.handler.findHover(i,s,r).target,f=this._dropTarget;this._dropTarget=h,r!==h&&(f&&h!==f&&this.handler.dispatchToElement(new CA(f,t),"dragleave",t.event),h&&h!==f&&this.handler.dispatchToElement(new CA(h,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new CA(r,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new CA(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),CC=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,r,i,s){!this._$handlers&&(this._$handlers={});var u=this._$handlers;if("function"==typeof r&&(s=i,i=r,r=null),!i||!t)return this;var c=this._$eventProcessor;null!=r&&c&&c.normalizeQuery&&(r=c.normalizeQuery(r)),!u[t]&&(u[t]=[]);for(var h=0;h<u[t].length;h++)if(u[t][h].h===i)return this;var f={h:i,query:r,ctx:s||this,callAtLast:i.zrEventfulCallAtLast},p=u[t].length-1,v=u[t][p];return v&&v.callAtLast?u[t].splice(p,0,f):u[t].push(f),this},t.prototype.isSilent=function(t){var r=this._$handlers;return!r||!r[t]||!r[t].length},t.prototype.off=function(t,r){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(r){if(i[t]){for(var s=[],u=0,c=i[t].length;u<c;u++)i[t][u].h!==r&&s.push(i[t][u]);i[t]=s}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},t.prototype.trigger=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!this._$handlers)return this;var s=this._$handlers[t],u=this._$eventProcessor;if(s){for(var c=r.length,h=s.length,f=0;f<h;f++){var p=s[f];if(!u||!u.filter||null==p.query||!!u.filter(t,p.query))switch(c){case 0:p.h.call(p.ctx);break;case 1:p.h.call(p.ctx,r[0]);break;case 2:p.h.call(p.ctx,r[0],r[1]);break;default:p.h.apply(p.ctx,r)}}}return u&&u.afterTrigger&&u.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!this._$handlers)return this;var s=this._$handlers[t],u=this._$eventProcessor;if(s){for(var c=r.length,h=r[c-1],f=s.length,p=0;p<f;p++){var v=s[p];if(!u||!u.filter||null==v.query||!!u.filter(t,v.query))switch(c){case 0:v.h.call(h);break;case 1:v.h.call(h,r[0]);break;case 2:v.h.call(h,r[0],r[1]);break;default:v.h.apply(h,r.slice(1,c-1))}}}return u&&u.afterTrigger&&u.afterTrigger(t),this},t}(),CT=Math.log(2);function CE(t,r,i,s,u,c){var h=s+"-"+u,f=t.length;if(c.hasOwnProperty(h))return c[h];if(1===r){var p=Math.round(Math.log((1<<f)-1&~u)/CT);return t[i][p]}for(var v=s|1<<i,y=i+1;s&1<<y;)y++;for(var x=0,_=0,b=0;_<f;_++){var w=1<<_;!(w&u)&&(x+=(b%2?-1:1)*t[i][_]*CE(t,r-1,y,v,u|w,c),b++)}return c[h]=x,x}function CI(t,r){var i=[[t[0],t[1],1,0,0,0,-r[0]*t[0],-r[0]*t[1]],[0,0,0,t[0],t[1],1,-r[1]*t[0],-r[1]*t[1]],[t[2],t[3],1,0,0,0,-r[2]*t[2],-r[2]*t[3]],[0,0,0,t[2],t[3],1,-r[3]*t[2],-r[3]*t[3]],[t[4],t[5],1,0,0,0,-r[4]*t[4],-r[4]*t[5]],[0,0,0,t[4],t[5],1,-r[5]*t[4],-r[5]*t[5]],[t[6],t[7],1,0,0,0,-r[6]*t[6],-r[6]*t[7]],[0,0,0,t[6],t[7],1,-r[7]*t[6],-r[7]*t[7]]],s={},u=CE(i,8,0,0,0,s);if(0!==u){for(var c=[],h=0;h<8;h++)for(var f=0;f<8;f++)null==c[f]&&(c[f]=0),c[f]+=((h+f)%2?-1:1)*CE(i,7,0===h?1:0,1<<h,1<<f,s)/u*r[h];return function(t,r,i){var s=r*c[6]+i*c[7]+1;t[0]=(r*c[0]+i*c[1]+c[2])/s,t[1]=(r*c[3]+i*c[4]+c[5])/s}}}var CD="___zrEVENTSAVED",CR=[];function CP(t,r,i,s,u){if(r.getBoundingClientRect&&A2.domSupported&&!CL(r)){var c=r[CD]||(r[CD]={}),h=function(t,r,i){for(var s=i?"invTrans":"trans",u=r[s],c=r.srcCoords,h=[],f=[],p=!0,v=0;v<4;v++){var y=t[v].getBoundingClientRect(),x=2*v,_=y.left,b=y.top;h.push(_,b),p=p&&c&&_===c[x]&&b===c[x+1],f.push(t[v].offsetLeft,t[v].offsetTop)}return p&&u?u:(r.srcCoords=h,r[s]=i?CI(f,h):CI(h,f))}(function(t,r){var i=r.markers;if(i)return i;i=r.markers=[];for(var s=["left","right"],u=["top","bottom"],c=0;c<4;c++){var h=document.createElement("div"),f=h.style,p=c%2,v=(c>>1)%2;f.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",s[p]+":0",u[v]+":0",s[1-p]+":auto",u[1-v]+":auto",""].join("!important;"),t.appendChild(h),i.push(h)}return i}(r,c),c,u);if(h)return h(t,i,s),!0}return!1}function CL(t){return"CANVAS"===t.nodeName.toUpperCase()}var CB=/([&<>"'])/g,Ck={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function CO(t){return null==t?"":(t+"").replace(CB,function(t,r){return Ck[r]})}var CN=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,CF=[],CU=A2.browser.firefox&&39>+A2.browser.version.split(".")[0];function Cz(t,r,i,s){return i=i||{},s?CG(t,r,i):CU&&null!=r.layerX&&r.layerX!==r.offsetX?(i.zrX=r.layerX,i.zrY=r.layerY):null!=r.offsetX?(i.zrX=r.offsetX,i.zrY=r.offsetY):CG(t,r,i),i}function CG(t,r,i){if(A2.domSupported&&t.getBoundingClientRect){var s=r.clientX,u=r.clientY;if(CL(t)){var c=t.getBoundingClientRect();i.zrX=s-c.left,i.zrY=u-c.top;return}if(CP(CF,t,s,u)){i.zrX=CF[0],i.zrY=CF[1];return}}i.zrX=i.zrY=0}function CH(t){return t||window.event}function CV(t,r,i){if(null!=(r=CH(r)).zrX)return r;var s=r.type;if(s&&s.indexOf("touch")>=0){var u="touchend"!==s?r.targetTouches[0]:r.changedTouches[0];u&&Cz(t,u,r,i)}else{Cz(t,r,r,i);var c=function(t){var r=t.wheelDelta;if(r)return r;var i=t.deltaX,s=t.deltaY;if(null==i||null==s)return r;var u=0!==s?Math.abs(s):Math.abs(i);return 3*u*(s>0?-1:s<0?1:i>0?-1:1)}(r);r.zrDelta=c?c/120:-(r.detail||0)/3}var h=r.button;return null==r.which&&void 0!==h&&CN.test(r.type)&&(r.which=1&h?1:2&h?3:4&h?2:0),r}function Cj(t,r,i,s){t.addEventListener(r,i,s)}var CW=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function CX(t){return 2===t.which||3===t.which}var CY=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,r,i){return this._doTrack(t,r,i),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,r,i){var s=t.touches;if(!!s){for(var u={points:[],touches:[],target:r,event:t},c=0,h=s.length;c<h;c++){var f=s[c],p=Cz(i,f,{});u.points.push([p.zrX,p.zrY]),u.touches.push(f)}this._track.push(u)}},t.prototype._recognize=function(t){for(var r in CK)if(CK.hasOwnProperty(r)){var i=CK[r](this._track,t);if(i)return i}},t}();function CZ(t){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(r*r+i*i)}var CK={pinch:function(t,r){var i=t.length;if(!!i){var s=(t[i-1]||{}).points,u=(t[i-2]||{}).points||s;if(u&&u.length>1&&s&&s.length>1){var c,h=CZ(s)/CZ(u);isFinite(h)||(h=1),r.pinchScale=h;var f=[((c=s)[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2];return r.pinchX=f[0],r.pinchY=f[1],{type:"pinch",target:t[0].target,event:r}}}}};function CJ(){return[1,0,0,1,0,0]}function CQ(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Cq(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t}function C$(t,r,i){var s=r[0]*i[0]+r[2]*i[1],u=r[1]*i[0]+r[3]*i[1],c=r[0]*i[2]+r[2]*i[3],h=r[1]*i[2]+r[3]*i[3],f=r[0]*i[4]+r[2]*i[5]+r[4],p=r[1]*i[4]+r[3]*i[5]+r[5];return t[0]=s,t[1]=u,t[2]=c,t[3]=h,t[4]=f,t[5]=p,t}function C0(t,r,i){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4]+i[0],t[5]=r[5]+i[1],t}function C1(t,r,i,s){void 0===s&&(s=[0,0]);var u=r[0],c=r[2],h=r[4],f=r[1],p=r[3],v=r[5],y=Math.sin(i),x=Math.cos(i);return t[0]=u*x+f*y,t[1]=-u*y+f*x,t[2]=c*x+p*y,t[3]=-c*y+x*p,t[4]=x*(h-s[0])+y*(v-s[1])+s[0],t[5]=x*(v-s[1])-y*(h-s[0])+s[1],t}function C2(t,r,i){var s=i[0],u=i[1];return t[0]=r[0]*s,t[1]=r[1]*u,t[2]=r[2]*s,t[3]=r[3]*u,t[4]=r[4]*s,t[5]=r[5]*u,t}function C3(t,r){var i=r[0],s=r[2],u=r[4],c=r[1],h=r[3],f=r[5],p=i*h-c*s;return p?(p=1/p,t[0]=h*p,t[1]=-c*p,t[2]=-s*p,t[3]=i*p,t[4]=(s*f-h*u)*p,t[5]=(c*u-i*f)*p,t):null}function C5(t){var r=CJ();return Cq(r,t),r}let C4=function(){function t(t,r){this.x=t||0,this.y=r||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,r){return this.x=t,this.y=r,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,r){this.x+=t.x*r,this.y+=t.y*r},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var r=this.x-t.x,i=this.y-t.y;return Math.sqrt(r*r+i*i)},t.prototype.distanceSquare=function(t){var r=this.x-t.x,i=this.y-t.y;return r*r+i*i},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(!!t){var r=this.x,i=this.y;return this.x=t[0]*r+t[2]*i+t[4],this.y=t[1]*r+t[3]*i+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,r,i){t.x=r,t.y=i},t.copy=function(t,r){t.x=r.x,t.y=r.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,r){return t.x*r.x+t.y*r.y},t.add=function(t,r,i){t.x=r.x+i.x,t.y=r.y+i.y},t.sub=function(t,r,i){t.x=r.x-i.x,t.y=r.y-i.y},t.scale=function(t,r,i){t.x=r.x*i,t.y=r.y*i},t.scaleAndAdd=function(t,r,i,s){t.x=r.x+i.x*s,t.y=r.y+i.y*s},t.lerp=function(t,r,i,s){var u=1-s;t.x=u*r.x+s*i.x,t.y=u*r.y+s*i.y},t}();var C9=Math.min,C8=Math.max,C6=new C4,C7=new C4,Te=new C4,Tt=new C4,Tn=new C4,Tr=new C4;let Ti=function(){function t(t,r,i,s){i<0&&(t+=i,i=-i),s<0&&(r+=s,s=-s),this.x=t,this.y=r,this.width=i,this.height=s}return t.prototype.union=function(t){var r=C9(t.x,this.x),i=C9(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=C8(t.x+t.width,this.x+this.width)-r:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=C8(t.y+t.height,this.y+this.height)-i:this.height=t.height,this.x=r,this.y=i},t.prototype.applyTransform=function(r){t.applyTransform(this,this,r)},t.prototype.calculateTransform=function(t){var r=t.width/this.width,i=t.height/this.height,s=CJ();return C0(s,s,[-this.x,-this.y]),C2(s,s,[r,i]),C0(s,s,[t.x,t.y]),s},t.prototype.intersect=function(r,i){if(!r)return!1;!(r instanceof t)&&(r=t.create(r));var s=this.x,u=this.x+this.width,c=this.y,h=this.y+this.height,f=r.x,p=r.x+r.width,v=r.y,y=r.y+r.height,x=!(u<f||p<s||h<v||y<c);if(i){var _=1/0,b=0,w=Math.abs(u-f),S=Math.abs(p-s),A=Math.abs(h-v),M=Math.abs(y-c),C=Math.min(w,S),T=Math.min(A,M);u<f||p<s?C>b&&(b=C,w<S?C4.set(Tr,-w,0):C4.set(Tr,S,0)):C<_&&(_=C,w<S?C4.set(Tn,w,0):C4.set(Tn,-S,0)),h<v||y<c?T>b&&(b=T,A<M?C4.set(Tr,0,-A):C4.set(Tr,0,M)):C<_&&(_=C,A<M?C4.set(Tn,0,A):C4.set(Tn,0,-M))}return i&&C4.copy(i,x?Tn:Tr),x},t.prototype.contain=function(t,r){return t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(r){t.copy(this,r)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(r){return new t(r.x,r.y,r.width,r.height)},t.copy=function(t,r){t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height},t.applyTransform=function(r,i,s){if(!s){r!==i&&t.copy(r,i);return}if(s[1]<1e-5&&s[1]>-1e-5&&s[2]<1e-5&&s[2]>-1e-5){var u=s[0],c=s[3],h=s[4],f=s[5];r.x=i.x*u+h,r.y=i.y*c+f,r.width=i.width*u,r.height=i.height*c,r.width<0&&(r.x+=r.width,r.width=-r.width),r.height<0&&(r.y+=r.height,r.height=-r.height);return}C6.x=Te.x=i.x,C6.y=Tt.y=i.y,C7.x=Tt.x=i.x+i.width,C7.y=Te.y=i.y+i.height,C6.transform(s),Tt.transform(s),C7.transform(s),Te.transform(s),r.x=C9(C6.x,C7.x,Te.x,Tt.x),r.y=C9(C6.y,C7.y,Te.y,Tt.y);var p=C8(C6.x,C7.x,Te.x,Tt.x),v=C8(C6.y,C7.y,Te.y,Tt.y);r.width=p-r.x,r.height=v-r.y},t}();var Ta="silent";function To(){CW(this.event)}var Ts=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.handler=null,r}return AK(r,t),r.prototype.dispose=function(){},r.prototype.setCursor=function(){},r}(CC),Tl=function(t,r){this.x=t,this.y=r},Tu=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Tc=new Ti(0,0,0,0),Th=function(t){function r(r,i,s,u,c){var h=t.call(this)||this;return h._hovered=new Tl(0,0),h.storage=r,h.painter=i,h.painterRoot=u,h._pointerSize=c,s=s||new Ts,h.proxy=null,h.setHandlerProxy(s),h._draggingMgr=new CM(h),h}return AK(r,t),r.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(Mw(Tu,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},r.prototype.mousemove=function(t){var r=t.zrX,i=t.zrY,s=Tf(this,r,i),u=this._hovered,c=u.target;c&&!c.__zr&&(c=(u=this.findHover(u.x,u.y)).target);var h=this._hovered=s?new Tl(r,i):this.findHover(r,i),f=h.target,p=this.proxy;p.setCursor&&p.setCursor(f?f.cursor:"default"),c&&f!==c&&this.dispatchToElement(u,"mouseout",t),this.dispatchToElement(h,"mousemove",t),f&&f!==c&&this.dispatchToElement(h,"mouseover",t)},r.prototype.mouseout=function(t){var r=t.zrEventControl;"only_globalout"!==r&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==r&&this.trigger("globalout",{type:"globalout",event:t})},r.prototype.resize=function(){this._hovered=new Tl(0,0)},r.prototype.dispatch=function(t,r){var i=this[t];i&&i.call(this,r)},r.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},r.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},r.prototype.dispatchToElement=function(t,r,i){var s,u,c,h=(t=t||{}).target;if(!h||!h.silent){var f="on"+r;for(var p=(s=r,u=t,{type:s,event:c=i,target:u.target,topTarget:u.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which,stop:To});h&&(h[f]&&(p.cancelBubble=!!h[f].call(h,p)),h.trigger(r,p),h=h.__hostTarget?h.__hostTarget:h.parent,!p.cancelBubble););!p.cancelBubble&&(this.trigger(r,p),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(t){"function"==typeof t[f]&&t[f].call(t,p),t.trigger&&t.trigger(r,p)}))}},r.prototype.findHover=function(t,r,i){var s=this.storage.getDisplayList(),u=new Tl(t,r);if(Td(s,u,t,r,i),this._pointerSize&&!u.target){for(var c=[],h=this._pointerSize,f=h/2,p=new Ti(t-f,r-f,h,h),v=s.length-1;v>=0;v--){var y=s[v];y!==i&&!y.ignore&&!y.ignoreCoarsePointer&&(!y.parent||!y.parent.ignoreCoarsePointer)&&(Tc.copy(y.getBoundingRect()),y.transform&&Tc.applyTransform(y.transform),Tc.intersect(p)&&c.push(y))}if(c.length){for(var x=Math.PI/12,_=2*Math.PI,b=0;b<f;b+=4)for(var w=0;w<_;w+=x)if(Td(c,u,t+b*Math.cos(w),r+b*Math.sin(w),i),u.target)return u}}return u},r.prototype.processGesture=function(t,r){!this._gestureMgr&&(this._gestureMgr=new CY);var i=this._gestureMgr;"start"===r&&i.clear();var s=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===r&&i.clear(),s){var u=s.type;t.gestureEvent=u;var c=new Tl;c.target=s.target,this.dispatchToElement(c,u,s.event)}},r}(CC);Mw(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Th.prototype[t]=function(r){var i,s,u=r.zrX,c=r.zrY,h=Tf(this,u,c);if(("mouseup"!==t||!h)&&(s=(i=this.findHover(u,c)).target),"mousedown"===t)this._downEl=s,this._downPoint=[r.zrX,r.zrY],this._upEl=s;else if("mouseup"===t)this._upEl=s;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||Cm(this._downPoint,[r.zrX,r.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,r)}});function Td(t,r,i,s,u){for(var c=t.length-1;c>=0;c--){var h=t[c],f=void 0;if(h!==u&&!h.ignore&&(f=function(t,r,i){if(t[t.rectHover?"rectContain":"contain"](r,i)){for(var s=t,u=void 0,c=!1;s;){if(s.ignoreClip&&(c=!0),!c){var h=s.getClipPath();if(h&&!h.contain(r,i))return!1}s.silent&&(u=!0);var f=s.__hostTarget;s=f||s.parent}return!u||Ta}return!1}(h,i,s))&&(r.topTarget||(r.topTarget=h),f!==Ta)){r.target=h;break}}}function Tf(t,r,i){var s=t.painter;return r<0||r>s.getWidth()||i<0||i>s.getHeight()}function Tp(t,r,i,s){var u=r+1;if(u===i)return 1;if(0>s(t[u++],t[r])){for(;u<i&&0>s(t[u],t[u-1]);)u++;(function(t,r,i){for(i--;r<i;){var s=t[r];t[r++]=t[i],t[i--]=s}})(t,r,u)}else for(;u<i&&s(t[u],t[u-1])>=0;)u++;return u-r}function Tg(t,r,i,s,u){for(s===r&&s++;s<i;s++){for(var c,h=t[s],f=r,p=s;f<p;)0>u(h,t[c=f+p>>>1])?p=c:f=c+1;var v=s-f;switch(v){case 3:t[f+3]=t[f+2];case 2:t[f+2]=t[f+1];case 1:t[f+1]=t[f];break;default:for(;v>0;)t[f+v]=t[f+v-1],v--}t[f]=h}}function Tm(t,r,i,s,u,c){var h=0,f=0,p=1;if(c(t,r[i+u])>0){for(f=s-u;p<f&&c(t,r[i+u+p])>0;)h=p,(p=(p<<1)+1)<=0&&(p=f);p>f&&(p=f),h+=u,p+=u}else{for(f=u+1;p<f&&0>=c(t,r[i+u-p]);)h=p,(p=(p<<1)+1)<=0&&(p=f);p>f&&(p=f);var v=h;h=u-p,p=u-v}for(h++;h<p;){var y=h+(p-h>>>1);c(t,r[i+y])>0?h=y+1:p=y}return p}function Tv(t,r,i,s,u,c){var h=0,f=0,p=1;if(0>c(t,r[i+u])){for(f=u+1;p<f&&0>c(t,r[i+u-p]);)h=p,(p=(p<<1)+1)<=0&&(p=f);p>f&&(p=f);var v=h;h=u-p,p=u-v}else{for(f=s-u;p<f&&c(t,r[i+u+p])>=0;)h=p,(p=(p<<1)+1)<=0&&(p=f);p>f&&(p=f),h+=u,p+=u}for(h++;h<p;){var y=h+(p-h>>>1);0>c(t,r[i+y])?p=y:h=y+1}return p}function Ty(t,r,i,s){!i&&(i=0),!s&&(s=t.length);var u=s-i;if(!(u<2)){var c=0;if(u<32){c=Tp(t,i,s,r),Tg(t,i,s,i+c,r);return}var h=function(t,r){var i,s,u=7,c=0,h=[];i=[],s=[];function f(f){var p=i[f],v=s[f],y=i[f+1],x=s[f+1];s[f]=v+x,f===c-3&&(i[f+1]=i[f+2],s[f+1]=s[f+2]),c--;var _=Tv(t[y],t,p,v,0,r);if(p+=_,0!=(v-=_)&&0!==(x=Tm(t[p+v-1],t,y,x,x-1,r)))v<=x?function(i,s,c,f){var p,v,y,x=0;for(x=0;x<s;x++)h[x]=t[i+x];var _=0,b=c,w=i;if(t[w++]=t[b++],0==--f){for(x=0;x<s;x++)t[w+x]=h[_+x];return}if(1===s){for(x=0;x<f;x++)t[w+x]=t[b+x];t[w+f]=h[_];return}for(var S=u;;){p=0,v=0,y=!1;do if(0>r(t[b],h[_])){if(t[w++]=t[b++],v++,p=0,0==--f){y=!0;break}}else if(t[w++]=h[_++],p++,v=0,1==--s){y=!0;break}while((p|v)<S);if(y)break;do{if(0!==(p=Tv(t[b],h,_,s,0,r))){for(x=0;x<p;x++)t[w+x]=h[_+x];if(w+=p,_+=p,(s-=p)<=1){y=!0;break}}if(t[w++]=t[b++],0==--f){y=!0;break}if(0!==(v=Tm(h[_],t,b,f,0,r))){for(x=0;x<v;x++)t[w+x]=t[b+x];if(w+=v,b+=v,0==(f-=v)){y=!0;break}}if(t[w++]=h[_++],1==--s){y=!0;break}S--}while(p>=7||v>=7);if(y)break;S<0&&(S=0),S+=2}if((u=S)<1&&(u=1),1===s){for(x=0;x<f;x++)t[w+x]=t[b+x];t[w+f]=h[_]}else if(0===s)throw Error();else for(x=0;x<s;x++)t[w+x]=h[_+x]}(p,v,y,x):function(i,s,c,f){var p=0;for(p=0;p<f;p++)h[p]=t[c+p];var v=i+s-1,y=f-1,x=c+f-1,_=0,b=0;if(t[x--]=t[v--],0==--s){for(p=0,_=x-(f-1);p<f;p++)t[_+p]=h[p];return}if(1===f){for(x-=s,v-=s,b=x+1,_=v+1,p=s-1;p>=0;p--)t[b+p]=t[_+p];t[x]=h[y];return}for(var w=u;;){var S=0,A=0,M=!1;do if(0>r(h[y],t[v])){if(t[x--]=t[v--],S++,A=0,0==--s){M=!0;break}}else if(t[x--]=h[y--],A++,S=0,1==--f){M=!0;break}while((S|A)<w);if(M)break;do{if(0!=(S=s-Tv(h[y],t,i,s,s-1,r))){for(x-=S,v-=S,s-=S,b=x+1,_=v+1,p=S-1;p>=0;p--)t[b+p]=t[_+p];if(0===s){M=!0;break}}if(t[x--]=h[y--],1==--f){M=!0;break}if(0!=(A=f-Tm(t[v],h,0,f,f-1,r))){for(x-=A,y-=A,f-=A,b=x+1,_=y+1,p=0;p<A;p++)t[b+p]=h[_+p];if(f<=1){M=!0;break}}if(t[x--]=t[v--],0==--s){M=!0;break}w--}while(S>=7||A>=7);if(M)break;w<0&&(w=0),w+=2}if((u=w)<1&&(u=1),1===f){for(x-=s,v-=s,b=x+1,_=v+1,p=s-1;p>=0;p--)t[b+p]=t[_+p];t[x]=h[y]}else if(0===f)throw Error();else for(p=0,_=x-(f-1);p<f;p++)t[_+p]=h[p]}(p,v,y,x)}return{mergeRuns:function(){for(;c>1;){var t=c-2;if(t>=1&&s[t-1]<=s[t]+s[t+1]||t>=2&&s[t-2]<=s[t]+s[t-1])s[t-1]<s[t+1]&&t--;else if(s[t]>s[t+1])break;f(t)}},forceMergeRuns:function(){for(;c>1;){var t=c-2;t>0&&s[t-1]<s[t+1]&&t--,f(t)}},pushRun:function(t,r){i[c]=t,s[c]=r,c+=1}}}(t,r),f=function(t){for(var r=0;t>=32;)r|=1&t,t>>=1;return t+r}(u);do{if((c=Tp(t,i,s,r))<f){var p=u;p>f&&(p=f),Tg(t,i,i+p,i+c,r),c=p}h.pushRun(i,c),h.mergeRuns(),u-=c,i+=c}while(0!==u);h.forceMergeRuns()}}var Tx=!1;function T_(){if(!Tx)Tx=!0}function Tb(t,r){if(t.zlevel===r.zlevel)return t.z===r.z?t.z2-r.z2:t.z-r.z;return t.zlevel-r.zlevel}var Tw=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Tb}return t.prototype.traverse=function(t,r){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,r)},t.prototype.getDisplayList=function(t,r){r=r||!1;var i=this._displayList;return(t||!i.length)&&this.updateDisplayList(r),i},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var r=this._roots,i=this._displayList,s=0,u=r.length;s<u;s++)this._updateAndAddDisplayable(r[s],null,t);i.length=this._displayListLen,Ty(i,Tb)},t.prototype._updateAndAddDisplayable=function(t,r,i){if(!t.ignore||!!i){t.beforeUpdate(),t.update(),t.afterUpdate();var s=t.getClipPath();if(t.ignoreClip)r=null;else if(s){r=r?r.slice():[];for(var u=s,c=t;u;)u.parent=c,u.updateTransform(),r.push(u),c=u,u=u.getClipPath()}if(t.childrenRef){for(var h=t.childrenRef(),f=0;f<h.length;f++){var p=h[f];t.__dirty&&(p.__dirty|=1),this._updateAndAddDisplayable(p,r,i)}t.__dirty=0}else r&&r.length?t.__clipPaths=r:t.__clipPaths&&t.__clipPaths.length>0&&(t.__clipPaths=[]),isNaN(t.z)&&(T_(),t.z=0),isNaN(t.z2)&&(T_(),t.z2=0),isNaN(t.zlevel)&&(T_(),t.zlevel=0),this._displayList[this._displayListLen++]=t;var v=t.getDecalElement&&t.getDecalElement();v&&this._updateAndAddDisplayable(v,r,i);var y=t.getTextGuideLine();y&&this._updateAndAddDisplayable(y,r,i);var x=t.getTextContent();x&&this._updateAndAddDisplayable(x,r,i)}},t.prototype.addRoot=function(t){if(!t.__zr||t.__zr.storage!==this)this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array){for(var r=0,i=t.length;r<i;r++)this.delRoot(t[r]);return}var s=My(this._roots,t);s>=0&&this._roots.splice(s,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}();elc=A2.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var TS={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var r,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,r=.1):r=.4*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(t-=1))*Math.sin(2*Math.PI*(t-r)/.4)))},elasticOut:function(t){var r,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,r=.1):r=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin(2*Math.PI*(t-r)/.4)+1)},elasticInOut:function(t){var r,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,r=.1):r=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1)?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin(2*Math.PI*(t-r)/.4)):i*Math.pow(2,-10*(t-=1))*Math.sin(2*Math.PI*(t-r)/.4)*.5+1},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){return(t*=2)<1?t*t*(3.5949095*t-2.5949095)*.5:.5*((t-=2)*t*(3.5949095*t+2.5949095)+2)},bounceIn:function(t){return 1-TS.bounceOut(1-t)},bounceOut:function(t){if(t<1/2.75)return 7.5625*t*t;if(t<2/2.75)return 7.5625*(t-=1.5/2.75)*t+.75;if(t<2.5/2.75)return 7.5625*(t-=2.25/2.75)*t+.9375;else return 7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*TS.bounceIn(2*t):.5*TS.bounceOut(2*t-1)+.5}},TA=Math.pow,TM=Math.sqrt,TC=TM(3),TT=1/3,TE=M7(),TI=M7(),TD=M7();function TR(t){return t>-1e-8&&t<1e-8}function TP(t){return t>1e-8||t<-1e-8}function TL(t,r,i,s,u){var c=1-u;return c*c*(c*t+3*u*r)+u*u*(u*s+3*c*i)}function TB(t,r,i,s,u){var c=1-u;return 3*(((r-t)*c+2*(i-r)*u)*c+(s-i)*u*u)}function Tk(t,r,i,s,u,c){var h=s+3*(r-i)-t,f=3*(i-2*r+t),p=3*(r-t),v=t-u,y=f*f-3*h*p,x=f*p-9*h*v,_=p*p-3*f*v,b=0;if(TR(y)&&TR(x)){if(TR(f))c[0]=0;else{var w=-p/f;w>=0&&w<=1&&(c[b++]=w)}}else{var S=x*x-4*y*_;if(TR(S)){var A=x/y,w=-f/h+A,M=-A/2;w>=0&&w<=1&&(c[b++]=w),M>=0&&M<=1&&(c[b++]=M)}else if(S>0){var C=TM(S),T=y*f+1.5*h*(-x+C),I=y*f+1.5*h*(-x-C);T=T<0?-TA(-T,TT):TA(T,TT);var w=(-f-(T+(I=I<0?-TA(-I,TT):TA(I,TT))))/(3*h);w>=0&&w<=1&&(c[b++]=w)}else{var D=Math.acos((2*y*f-3*h*x)/(2*TM(y*y*y)))/3,R=TM(y),P=Math.cos(D),w=(-f-2*R*P)/(3*h),M=(-f+R*(P+TC*Math.sin(D)))/(3*h),L=(-f+R*(P-TC*Math.sin(D)))/(3*h);w>=0&&w<=1&&(c[b++]=w),M>=0&&M<=1&&(c[b++]=M),L>=0&&L<=1&&(c[b++]=L)}}return b}function TO(t,r,i,s,u){var c=6*i-12*r+6*t,h=9*r+3*s-3*t-9*i,f=3*r-3*t,p=0;if(TR(h)){if(TP(c)){var v=-f/c;v>=0&&v<=1&&(u[p++]=v)}}else{var y=c*c-4*h*f;if(TR(y))u[0]=-c/(2*h);else if(y>0){var x=TM(y),v=(-c+x)/(2*h),_=(-c-x)/(2*h);v>=0&&v<=1&&(u[p++]=v),_>=0&&_<=1&&(u[p++]=_)}}return p}function TN(t,r,i,s,u,c){var h=(r-t)*u+t,f=(i-r)*u+r,p=(s-i)*u+i,v=(f-h)*u+h,y=(p-f)*u+f,x=(y-v)*u+v;c[0]=t,c[1]=h,c[2]=v,c[3]=x,c[4]=x,c[5]=y,c[6]=p,c[7]=s}function TF(t,r,i,s,u,c,h,f,p,v,y){var x,_,b,w,S,A=.005,M=1/0;TE[0]=p,TE[1]=v;for(var C=0;C<1;C+=.05)TI[0]=TL(t,i,u,h,C),TI[1]=TL(r,s,c,f,C),(w=Cy(TE,TI))<M&&(x=C,M=w);M=1/0;for(var T=0;T<32&&!(A<1e-4);T++){;_=x-A,b=x+A,TI[0]=TL(t,i,u,h,_),TI[1]=TL(r,s,c,f,_),w=Cy(TI,TE),_>=0&&w<M?(x=_,M=w):(TD[0]=TL(t,i,u,h,b),TD[1]=TL(r,s,c,f,b),S=Cy(TD,TE),b<=1&&S<M?(x=b,M=S):A*=.5)}return y&&(y[0]=TL(t,i,u,h,x),y[1]=TL(r,s,c,f,x)),TM(M)}function TU(t,r,i,s){var u=1-s;return u*(u*t+2*s*r)+s*s*i}function Tz(t,r,i,s){return 2*((1-s)*(r-t)+s*(i-r))}function TG(t,r,i){var s=t+i-2*r;return 0===s?.5:(t-r)/s}function TH(t,r,i,s,u){var c=(r-t)*s+t,h=(i-r)*s+r,f=(h-c)*s+c;u[0]=t,u[1]=c,u[2]=f,u[3]=f,u[4]=h,u[5]=i}function TV(t,r,i,s,u,c,h,f,p){var v,y=.005,x=1/0;TE[0]=h,TE[1]=f;for(var _=0;_<1;_+=.05){TI[0]=TU(t,i,u,_),TI[1]=TU(r,s,c,_);var b=Cy(TE,TI);b<x&&(v=_,x=b)}x=1/0;for(var w=0;w<32&&!(y<1e-4);w++){;var S=v-y,A=v+y;TI[0]=TU(t,i,u,S),TI[1]=TU(r,s,c,S);var b=Cy(TI,TE);if(S>=0&&b<x)v=S,x=b;else{TD[0]=TU(t,i,u,A),TD[1]=TU(r,s,c,A);var M=Cy(TD,TE);A<=1&&M<x?(v=A,x=M):y*=.5}}return p&&(p[0]=TU(t,i,u,v),p[1]=TU(r,s,c,v)),TM(x)}var Tj=/cubic-bezier\(([0-9,\.e ]+)\)/;function TW(t){var r=t&&Tj.exec(t);if(r){var i=r[1].split(","),s=+MK(i[0]),u=+MK(i[1]),c=+MK(i[2]),h=+MK(i[3]);if(isNaN(s+u+c+h))return;var f=[];return function(t){return t<=0?0:t>=1?1:Tk(0,s,c,1,t,f)&&TL(0,u,h,1,f[0])}}}var TX=function(){function t(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||M8,this.ondestroy=t.ondestroy||M8,this.onrestart=t.onrestart||M8,t.easing&&this.setEasing(t.easing)}return t.prototype.step=function(t,r){if(!this._inited&&(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var i=this._life,s=t-this._startTime-this._pausedTime,u=s/i;u<0&&(u=0),u=Math.min(u,1);var c=this.easingFunc,h=c?c(u):u;if(this.onframe(h),1===u){if(!this.loop)return!0;this._startTime=t-s%i,this._pausedTime=0,this.onrestart()}return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(t){this.easing=t,this.easingFunc=MR(t)?t:TS[t]||TW(t)},t}(),TY=function(t){this.value=t},TZ=function(){function t(){this._len=0}return t.prototype.insert=function(t){var r=new TY(t);return this.insertEntry(r),r},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var r=t.prev,i=t.next;r?r.next=i:this.head=i,i?i.prev=r:this.tail=r,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),TK=function(){function t(t){this._list=new TZ,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,r){var i=this._list,s=this._map,u=null;if(null==s[t]){var c=i.len(),h=this._lastRemovedEntry;if(c>=this._maxSize&&c>0){var f=i.head;i.remove(f),delete s[f.key],u=f.value,this._lastRemovedEntry=f}h?h.value=r:h=new TY(r),h.key=t,i.insertEntry(h),s[t]=h}return u},t.prototype.get=function(t){var r=this._map[t],i=this._list;if(null!=r)return r!==i.tail&&(i.remove(r),i.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),TJ={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function TQ(t){return(t=Math.round(t))<0?0:t>255?255:t}function Tq(t){return t<0?0:t>1?1:t}function T$(t){return t.length&&"%"===t.charAt(t.length-1)?TQ(parseFloat(t)/100*255):TQ(parseInt(t,10))}function T0(t){return t.length&&"%"===t.charAt(t.length-1)?Tq(parseFloat(t)/100):Tq(parseFloat(t))}function T1(t,r,i){return(i<0?i+=1:i>1&&(i-=1),6*i<1)?t+(r-t)*i*6:2*i<1?r:3*i<2?t+(r-t)*(2/3-i)*6:t}function T2(t,r,i){return t+(r-t)*i}function T3(t,r,i,s,u){return t[0]=r,t[1]=i,t[2]=s,t[3]=u,t}function T5(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}var T4=new TK(20),T9=null;function T8(t,r){T9&&T5(T9,r),T9=T4.put(t,T9||r.slice())}function T6(t,r){if(!!t){r=r||[];var i=T4.get(t);if(i)return T5(r,i);var s=(t+="").replace(/ /g,"").toLowerCase();if(s in TJ)return T5(r,TJ[s]),T8(t,r),r;var u=s.length;if("#"===s.charAt(0)){if(4===u||5===u){var c=parseInt(s.slice(1,4),16);if(!(c>=0&&c<=4095)){T3(r,0,0,0,1);return}return T3(r,(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,5===u?parseInt(s.slice(4),16)/15:1),T8(t,r),r}if(7===u||9===u){var c=parseInt(s.slice(1,7),16);if(!(c>=0&&c<=0xffffff)){T3(r,0,0,0,1);return}return T3(r,(0xff0000&c)>>16,(65280&c)>>8,255&c,9===u?parseInt(s.slice(7),16)/255:1),T8(t,r),r}return}var h=s.indexOf("("),f=s.indexOf(")");if(-1!==h&&f+1===u){var p=s.substr(0,h),v=s.substr(h+1,f-(h+1)).split(","),y=1;switch(p){case"rgba":if(4!==v.length)return 3===v.length?T3(r,+v[0],+v[1],+v[2],1):T3(r,0,0,0,1);y=T0(v.pop());case"rgb":if(v.length>=3)return T3(r,T$(v[0]),T$(v[1]),T$(v[2]),3===v.length?y:T0(v[3])),T8(t,r),r;T3(r,0,0,0,1);return;case"hsla":if(4!==v.length){T3(r,0,0,0,1);return}return v[3]=T0(v[3]),T7(v,r),T8(t,r),r;case"hsl":if(3!==v.length){T3(r,0,0,0,1);return}return T7(v,r),T8(t,r),r;default:return}}T3(r,0,0,0,1)}}function T7(t,r){var i=(parseFloat(t[0])%360+360)%360/360,s=T0(t[1]),u=T0(t[2]),c=u<=.5?u*(s+1):u+s-u*s,h=2*u-c;return T3(r=r||[],TQ(255*T1(h,c,i+1/3)),TQ(255*T1(h,c,i)),TQ(255*T1(h,c,i-1/3)),1),4===t.length&&(r[3]=t[3]),r}function Ee(t,r){var i=T6(t);if(i){for(var s=0;s<3;s++)r<0?i[s]=i[s]*(1-r)|0:i[s]=(255-i[s])*r+i[s]|0,i[s]>255?i[s]=255:i[s]<0&&(i[s]=0);return El(i,4===i.length?"rgba":"rgb")}}function Et(t){var r=T6(t);if(r)return(0x1000000+(r[0]<<16)+(r[1]<<8)+ +r[2]).toString(16).slice(1)}function En(t,r,i){if(!!(r&&r.length)&&!!(t>=0&&t<=1)){i=i||[];var s,u,c,h,f,p,v,y,x=t*(r.length-1),_=Math.floor(x),b=Math.ceil(x),w=r[_],S=r[b],A=x-_;return i[0]=TQ((s=w[0],u=S[0],s+(u-s)*A)),i[1]=TQ((c=w[1],h=S[1],c+(h-c)*A)),i[2]=TQ((f=w[2],p=S[2],f+(p-f)*A)),i[3]=Tq((v=w[3],y=S[3],v+(y-v)*A)),i}}var Er=En;function Ei(t,r,i){if(!!(r&&r.length)&&!!(t>=0&&t<=1)){var s,u,c,h,f,p,v,y,x=t*(r.length-1),_=Math.floor(x),b=Math.ceil(x),w=T6(r[_]),S=T6(r[b]),A=x-_;var M=El([TQ((s=w[0],u=S[0],s+(u-s)*A)),TQ((c=w[1],h=S[1],c+(h-c)*A)),TQ((f=w[2],p=S[2],f+(p-f)*A)),Tq((v=w[3],y=S[3],v+(y-v)*A))],"rgba");return i?{color:M,leftIndex:_,rightIndex:b,value:x}:M}}var Ea=Ei;function Eo(t,r,i,s){var u,c=T6(t);if(t){;return c=function(t){if(!!t){var r,i,s=t[0]/255,u=t[1]/255,c=t[2]/255,h=Math.min(s,u,c),f=Math.max(s,u,c),p=f-h,v=(f+h)/2;if(0===p)r=0,i=0;else{i=v<.5?p/(f+h):p/(2-f-h);var y=((f-s)/6+p/2)/p,x=((f-u)/6+p/2)/p,_=((f-c)/6+p/2)/p;s===f?r=_-x:u===f?r=1/3+y-_:c===f&&(r=2/3+x-y),r<0&&(r+=1),r>1&&(r-=1)}var b=[360*r,i,v];return null!=t[3]&&b.push(t[3]),b}}(c),null!=r&&(c[0]=(u=Math.round(u=r))<0?0:u>360?360:u),null!=i&&(c[1]=T0(i)),null!=s&&(c[2]=T0(s)),El(T7(c),"rgba")}}function Es(t,r){var i=T6(t);if(i&&null!=r)return i[3]=Tq(r),El(i,"rgba")}function El(t,r){if(!!t&&!!t.length){var i=t[0]+","+t[1]+","+t[2];return("rgba"===r||"hsva"===r||"hsla"===r)&&(i+=","+t[3]),r+"("+i+")"}}function Eu(t,r){var i=T6(t);return i?(.299*i[0]+.587*i[1]+.114*i[2])*i[3]/255+(1-i[3])*r:0}function Ec(){return El([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}var Eh=new TK(100);function Ed(t){if(MP(t)){var r=Eh.get(t);return!r&&(r=Ee(t,-.1),Eh.put(t,r)),r}if(MU(t)){var i=Mg({},t);return i.colorStops=MS(t.colorStops,function(t){return{offset:t.offset,color:Ee(t.color,-.1)}}),i}return t}var Ef=Math.round;function Ep(t){var r;if(t&&"transparent"!==t){if("string"==typeof t&&t.indexOf("rgba")>-1){var i=T6(t);i&&(t="rgb("+i[0]+","+i[1]+","+i[2]+")",r=i[3])}}else t="none";return{color:t,opacity:null==r?1:r}}function Eg(t){return t<1e-4&&t>-1e-4}function Em(t){return Ef(1e3*t)/1e3}function Ev(t){return Ef(1e4*t)/1e4}var Ey={left:"start",right:"end",center:"middle",middle:"middle"};function Ex(t){return t&&!!t.image}function E_(t){var r;return Ex(t)||(r=t)&&!!r.svgElement}function Eb(t){return"linear"===t.type}function Ew(t){return"radial"===t.type}function ES(t){return t&&("linear"===t.type||"radial"===t.type)}function EA(t){return"url(#"+t+")"}function EM(t){var r=t.getGlobalScale();return Math.max(Math.ceil(Math.log(Math.max(r[0],r[1]))/Math.log(10)),1)}function EC(t){var r=t.x||0,i=t.y||0,s=(t.rotation||0)*M6,u=Mj(t.scaleX,1),c=Mj(t.scaleY,1),h=t.skewX||0,f=t.skewY||0,p=[];return(r||i)&&p.push("translate("+r+"px,"+i+"px)"),s&&p.push("rotate("+s+")"),(1!==u||1!==c)&&p.push("scale("+u+","+c+")"),(h||f)&&p.push("skew("+Ef(h*M6)+"deg, "+Ef(f*M6)+"deg)"),p.join(" ")}var ET=A2.hasGlobalWindow&&MR(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:"undefined"!=typeof Buffer?function(t){return Buffer.from(t).toString("base64")}:function(t){return null},EE=Array.prototype.slice;function EI(t,r,i){return(r-t)*i+t}function ED(t,r,i,s){for(var u,c,h=r.length,f=0;f<h;f++){;t[f]=(u=r[f],c=i[f],(c-u)*s+u)}return t}function ER(t,r,i,s){for(var u=r.length,c=0;c<u;c++)t[c]=r[c]+i[c]*s;return t}function EP(t,r,i,s){for(var u=r.length,c=u&&r[0].length,h=0;h<u;h++){!t[h]&&(t[h]=[]);for(var f=0;f<c;f++)t[h][f]=r[h][f]+i[h][f]*s}return t}function EL(t){if(Mb(t)){var r=t.length;if(Mb(t[0])){for(var i=[],s=0;s<r;s++)i.push(EE.call(t[s]));return i}return EE.call(t)}return t}function EB(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=null==t[3]?1:t[3],"rgba("+t.join(",")+")"}function Ek(t){return 4===t||5===t}function EO(t){return 1===t||2===t}var EN=[0,0,0,0],EF=function(){function t(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,r,i){this._needsSort=!0;var s,u=this.keyframes,c=u.length,h=!1,f=6,p=r;if(Mb(r)){var v,y=Mb((v=r)&&v[0])?2:1;f=y,(1===y&&!MB(r[0])||2===y&&!MB(r[0][0]))&&(h=!0)}else{;if(MB(r)&&!((s=r)!=s))f=0;else if(MP(r)){if(isNaN(+r)){var x=T6(r);x&&(p=x,f=3)}else f=0}else if(MU(r)){var _=Mg({},p);_.colorStops=MS(r.colorStops,function(t){return{offset:t.offset,color:T6(t.color)}}),Eb(r)?f=4:Ew(r)&&(f=5),p=_}}0===c?this.valType=f:(f!==this.valType||6===f)&&(h=!0),this.discrete=this.discrete||h;var b={time:t,value:p,rawValue:r,percent:0};return i&&(b.easing=i,b.easingFunc=MR(i)?i:TS[i]||TW(i)),u.push(b),b},t.prototype.prepare=function(t,r){var i=this.keyframes;this._needsSort&&i.sort(function(t,r){return t.time-r.time});for(var s=this.valType,u=i.length,c=i[u-1],h=this.discrete,f=EO(s),p=Ek(s),v=0;v<u;v++){var y=i[v],x=y.value,_=c.value;y.percent=y.time/t,!h&&(f&&v!==u-1?!function(t,r,i){if(!!t.push&&!!r.push){var s=t.length,u=r.length;if(s!==u){if(s>u)t.length=u;else for(var c=s;c<u;c++)t.push(1===i?r[c]:EE.call(r[c]))}for(var h=t[0]&&t[0].length,c=0;c<t.length;c++)if(1===i)isNaN(t[c])&&(t[c]=r[c]);else for(var f=0;f<h;f++)isNaN(t[c][f])&&(t[c][f]=r[c][f])}}(x,_,s):p&&!function(t,r){for(var i=t.length,s=r.length,u=i>s?r:t,c=Math.min(i,s),h=u[c-1]||{color:[0,0,0,0],offset:0},f=c;f<Math.max(i,s);f++)u.push({offset:h.offset,color:h.color.slice()})}(x.colorStops,_.colorStops))}if(!h&&5!==s&&r&&this.needsAnimate()&&r.needsAnimate()&&s===r.valType&&!r._finished){this._additiveTrack=r;for(var b=i[0].value,v=0;v<u;v++)0===s?i[v].additiveValue=i[v].value-b:3===s?i[v].additiveValue=ER([],i[v].value,b,-1):EO(s)&&(i[v].additiveValue=1===s?ER([],i[v].value,b,-1):EP([],i[v].value,b,-1))}},t.prototype.step=function(t,r){if(this._finished)return;this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,s,u,c=null!=this._additiveTrack,h=c?"additiveValue":"value",f=this.valType,p=this.keyframes,v=p.length,y=this.propName,x=3===f,_=this._lastFr,b=Math.min;if(1===v)s=u=p[0];else{if(r<0)i=0;else if(r<this._lastFrP){;for(i=b(_+1,v-1);i>=0&&!(p[i].percent<=r);i--);i=b(i,v-2)}else{for(i=_;i<v&&!(p[i].percent>r);i++);i=b(i-1,v-2)}u=p[i+1],s=p[i]}if(!!(s&&u)){this._lastFr=i,this._lastFrP=r;var w=u.percent-s.percent,S=0===w?1:b((r-s.percent)/w,1);u.easingFunc&&(S=u.easingFunc(S));var A=c?this._additiveValue:x?EN:t[y];if((EO(f)||x)&&!A&&(A=this._additiveValue=[]),this.discrete)t[y]=S<1?s.rawValue:u.rawValue;else if(EO(f))1===f?ED(A,s[h],u[h],S):function(t,r,i,s){for(var u=r.length,c=u&&r[0].length,h=0;h<u;h++){!t[h]&&(t[h]=[]);for(var f,p,v=0;v<c;v++){;t[h][v]=(f=r[h][v],p=i[h][v],(p-f)*s+f)}}return t}(A,s[h],u[h],S);else if(Ek(f)){var M,C,T,I,D,R,P,L,B,k,O,N=s[h],F=u[h],U=4===f;if(t[y]={type:U?"linear":"radial",x:(C=N.x,T=F.x,(T-C)*S+C),y:(I=N.y,D=F.y,(D-I)*S+I),colorStops:MS(N.colorStops,function(t,r){var i,s,u=F.colorStops[r];return{offset:(i=t.offset,s=u.offset,(s-i)*S+i),color:EB(ED([],t.color,u.color,S))}}),global:F.global},U){;t[y].x2=(R=N.x2,P=F.x2,(P-R)*S+R),t[y].y2=(L=N.y2,B=F.y2,(B-L)*S+L)}else{;t[y].r=(k=N.r,O=F.r,(O-k)*S+k)}}else if(x)ED(A,s[h],u[h],S),!c&&(t[y]=EB(A));else{var z,G,H=(z=s[h],G=u[h],(G-z)*S+z);c?this._additiveValue=H:t[y]=H}c&&this._addToTarget(t)}},t.prototype._addToTarget=function(t){var r=this.valType,i=this.propName,s=this._additiveValue;0===r?t[i]=t[i]+s:3===r?(T6(t[i],EN),ER(EN,EN,s,1),t[i]=EB(EN)):1===r?ER(t[i],t[i],s,1):2===r&&EP(t[i],t[i],s,1)},t}(),EU=function(){function t(t,r,i,s){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&s){Mh("Can' use additive animation on looped animation.");return}this._additiveAnimators=s,this._allowDiscrete=i}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,r,i){return this.whenWithKeys(t,r,MT(r),i)},t.prototype.whenWithKeys=function(t,r,i,s){for(var u=this._tracks,c=0;c<i.length;c++){var h=i[c],f=u[h];if(!f){f=u[h]=new EF(h);var p=void 0,v=this._getAdditiveTrack(h);if(v){var y=v.keyframes,x=y[y.length-1];p=x&&x.value,3===v.valType&&p&&(p=EB(p))}else p=this._target[h];if(null==p)continue;t>0&&f.addKeyframe(0,EL(p),s),this._trackKeys.push(h)}f.addKeyframe(t,EL(r[h]),s)}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t){for(var r=t.length,i=0;i<r;i++)t[i].call(this)}},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var i=0;i<r.length;i++)r[i].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,i=0;i<r.length;i++)t[r[i]].setFinished()},t.prototype._getAdditiveTrack=function(t){var r,i=this._additiveAnimators;if(i)for(var s=0;s<i.length;s++){var u=i[s].getTrack(t);u&&(r=u)}return r},t.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,i=[],s=this._maxTime||0,u=0;u<this._trackKeys.length;u++){var c=this._trackKeys[u],h=this._tracks[c],f=this._getAdditiveTrack(c),p=h.keyframes,v=p.length;if(h.prepare(s,f),h.needsAnimate()){if(!this._allowDiscrete&&h.discrete){var y=p[v-1];y&&(r._target[h.propName]=y.rawValue),h.setFinished()}else i.push(h)}}if(i.length||this._force){var x=new TX({life:s,loop:this._loop,delay:this._delay||0,onframe:function(t){r._started=2;var s=r._additiveAnimators;if(s){for(var u=!1,c=0;c<s.length;c++)if(s[c]._clip){u=!0;break}!u&&(r._additiveAnimators=null)}for(var c=0;c<i.length;c++)i[c].step(r._target,t);var h=r._onframeCbs;if(h)for(var c=0;c<h.length;c++)h[c](r._target,t)},ondestroy:function(){r._doneCallback()}});this._clip=x,this.animation&&this.animation.addClip(x),t&&x.setEasing(t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(!!this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(!this._onframeCbs&&(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(!this._doneCbs&&(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(!this._abortedCbs&&(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.getTracks=function(){var t=this;return MS(this._trackKeys,function(r){return t._tracks[r]})},t.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var i=this._tracks,s=this._trackKeys,u=0;u<t.length;u++){var c=i[t[u]];c&&!c.isFinished()&&(r?c.step(this._target,1):1===this._started&&c.step(this._target,0),c.setFinished())}for(var h=!0,u=0;u<s.length;u++)if(!i[s[u]].isFinished()){h=!1;break}return h&&this._abortedCallback(),h},t.prototype.saveTo=function(t,r,i){if(!!t){r=r||this._trackKeys;for(var s=0;s<r.length;s++){var u=r[s],c=this._tracks[u];if(!(!c||c.isFinished())){var h=c.keyframes,f=h[i?0:h.length-1];f&&(t[u]=EL(f.rawValue))}}}},t.prototype.__changeFinalValue=function(t,r){r=r||MT(t);for(var i=0;i<r.length;i++){var s=r[i],u=this._tracks[s];if(!!u){var c=u.keyframes;if(c.length>1){var h=c.pop();u.addKeyframe(h.time,t[s]),u.prepare(this._maxTime,u.getAdditiveTrack())}}}},t}();function Ez(){return new Date().getTime()}var EG=function(t){function r(r){var i=t.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,r=r||{},i.stage=r.stage||{},i}return AK(r,t),r.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},r.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},r.prototype.removeClip=function(t){if(!!t.animation){var r=t.prev,i=t.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},r.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},r.prototype.update=function(t){for(var r=Ez()-this._pausedTime,i=r-this._time,s=this._head;s;){var u=s.next;s.step(r,i)&&(s.ondestroy(),this.removeClip(s)),s=u}this._time=r,!t&&(this.trigger("frame",i),this.stage.update&&this.stage.update())},r.prototype._startLoop=function(){var t=this;this._running=!0;elc(function r(){t._running&&(elc(r),t._paused||t.update())})},r.prototype.start=function(){if(!this._running)this._time=Ez(),this._pausedTime=0,this._startLoop()},r.prototype.stop=function(){this._running=!1},r.prototype.pause=function(){!this._paused&&(this._pauseStart=Ez(),this._paused=!0)},r.prototype.resume=function(){this._paused&&(this._pausedTime+=Ez()-this._pauseStart,this._paused=!1)},r.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},r.prototype.isFinished=function(){return null==this._head},r.prototype.animate=function(t,r){r=r||{},this.start();var i=new EU(t,r.loop);return this.addAnimator(i),i},r}(CC),EH=A2.domSupported,EV=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=MS(t,function(t){var i=t.replace("mouse","pointer");return r.hasOwnProperty(i)?i:t});return{mouse:t,touch:["touchstart","touchend","touchmove"],pointer:i}}(),Ej={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},EW=!1;function EX(t){var r=t.pointerType;return"pen"===r||"touch"===r}function EY(t){t&&(t.zrByTouch=!0)}function EZ(t,r){for(var i=r,s=!1;i&&9!==i.nodeType&&!(s=i.domBelongToZr||i!==r&&i===t.painterRoot);)i=i.parentNode;return s}var EK=function(t,r){this.stopPropagation=M8,this.stopImmediatePropagation=M8,this.preventDefault=M8,this.type=r.type,this.target=this.currentTarget=t.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY},EJ={mousedown:function(t){t=CV(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=CV(this.dom,t);var r=this.__mayPointerCapture;r&&(t.zrX!==r[0]||t.zrY!==r[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=CV(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){!EZ(this,(t=CV(this.dom,t)).toElement||t.relatedTarget)&&(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){EW=!0,t=CV(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){if(!EW)t=CV(this.dom,t),this.trigger("mousewheel",t)},touchstart:function(t){EY(t=CV(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),EJ.mousemove.call(this,t),EJ.mousedown.call(this,t)},touchmove:function(t){EY(t=CV(this.dom,t)),this.handler.processGesture(t,"change"),EJ.mousemove.call(this,t)},touchend:function(t){EY(t=CV(this.dom,t)),this.handler.processGesture(t,"end"),EJ.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&EJ.click.call(this,t)},pointerdown:function(t){EJ.mousedown.call(this,t)},pointermove:function(t){!EX(t)&&EJ.mousemove.call(this,t)},pointerup:function(t){EJ.mouseup.call(this,t)},pointerout:function(t){!EX(t)&&EJ.mouseout.call(this,t)}};Mw(["click","dblclick","contextmenu"],function(t){EJ[t]=function(r){r=CV(this.dom,r),this.trigger(t,r)}});var EQ={pointermove:function(t){!EX(t)&&EQ.mousemove.call(this,t)},pointerup:function(t){EQ.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var r=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),r&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Eq(t,r,i,s){t.mounted[r]=i,t.listenerOpts[r]=s,Cj(t.domTarget,r,i,s)}function E$(t){var r=t.mounted;for(var i in r)r.hasOwnProperty(i)&&!function(t,r,i,s){t.removeEventListener(r,i,s)}(t.domTarget,i,r[i],t.listenerOpts[i]);t.mounted={}}var E0=function(t,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=r},E1=function(t){function r(r,i){var s,u,c,h=t.call(this)||this;return h.__pointerCapturing=!1,h.dom=r,h.painterRoot=i,h._localHandlerScope=new E0(r,EJ),EH&&(h._globalHandlerScope=new E0(document,EQ)),s=h,c=(u=h._localHandlerScope).domHandlers,A2.pointerEventsSupported?Mw(EV.pointer,function(t){Eq(u,t,function(r){c[t].call(s,r)})}):(A2.touchEventsSupported&&Mw(EV.touch,function(t){Eq(u,t,function(r){var i;c[t].call(s,r),(i=u).touching=!0,null!=i.touchTimer&&(clearTimeout(i.touchTimer),i.touchTimer=null),i.touchTimer=setTimeout(function(){i.touching=!1,i.touchTimer=null},700)})}),Mw(EV.mouse,function(t){Eq(u,t,function(r){r=CH(r),!u.touching&&c[t].call(s,r)})})),h}return AK(r,t),r.prototype.dispose=function(){E$(this._localHandlerScope),EH&&E$(this._globalHandlerScope)},r.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},r.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,EH&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?function(t,r){A2.pointerEventsSupported?Mw(Ej.pointer,i):!A2.touchEventsSupported&&Mw(Ej.mouse,i);function i(i){Eq(r,i,function(s){if(!EZ(t,(s=CH(s)).target)){var u,c;u=t,c=s,s=CV(u.dom,new EK(u,c),!0),r.domHandlers[i].call(t,s)}},{capture:!0})}}(this,r):E$(r)}},r}(CC),E2=1;A2.hasGlobalWindow&&(E2=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var E3=E2,E5="#333",E4="#ccc",E9=CQ;function E8(t){return t>5e-5||t<-5e-5}var E6=[],E7=[],Ie=CJ(),It=Math.abs,In=function(){var t;function r(){}return r.prototype.getLocalTransform=function(t){return r.getLocalTransform(this,t)},r.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},r.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},r.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},r.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},r.prototype.needLocalTransform=function(){return E8(this.rotation)||E8(this.x)||E8(this.y)||E8(this.scaleX-1)||E8(this.scaleY-1)||E8(this.skewX)||E8(this.skewY)},r.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,r=this.needLocalTransform(),i=this.transform;if(!(r||t)){i&&(E9(i),this.invTransform=null);return}i=i||CJ(),r?this.getLocalTransform(i):E9(i),t&&(r?C$(i,t,i):Cq(i,t)),this.transform=i,this._resolveGlobalScaleRatio(i)},r.prototype._resolveGlobalScaleRatio=function(t){var r=this.globalScaleRatio;if(null!=r&&1!==r){this.getGlobalScale(E6);var i=E6[0]<0?-1:1,s=E6[1]<0?-1:1,u=((E6[0]-i)*r+i)/E6[0]||0,c=((E6[1]-s)*r+s)/E6[1]||0;t[0]*=u,t[1]*=u,t[2]*=c,t[3]*=c}this.invTransform=this.invTransform||CJ(),C3(this.invTransform,t)},r.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},r.prototype.setLocalTransform=function(t){if(!!t){var r=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],s=Math.atan2(t[1],t[0]),u=Math.PI/2+s-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(u),r=Math.sqrt(r),this.skewX=u,this.skewY=0,this.rotation=-s,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=i,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(!!this.transform){var t=this.parent,r=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||CJ(),C$(E7,t.invTransform,r),r=E7);var i=this.originX,s=this.originY;(i||s)&&(Ie[4]=i,Ie[5]=s,C$(E7,r,Ie),E7[4]-=i,E7[5]-=s,r=E7),this.setLocalTransform(r)}},r.prototype.getGlobalScale=function(t){var r=this.transform;return(t=t||[],r)?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},r.prototype.transformCoordToLocal=function(t,r){var i=[t,r],s=this.invTransform;return s&&Cb(i,i,s),i},r.prototype.transformCoordToGlobal=function(t,r){var i=[t,r],s=this.transform;return s&&Cb(i,i,s),i},r.prototype.getLineScale=function(){var t=this.transform;return t&&It(t[0]-1)>1e-10&&It(t[3]-1)>1e-10?Math.sqrt(It(t[0]*t[3]-t[2]*t[1])):1},r.prototype.copyTransform=function(t){Ii(this,t)},r.getLocalTransform=function(t,r){r=r||[];var i=t.originX||0,s=t.originY||0,u=t.scaleX,c=t.scaleY,h=t.anchorX,f=t.anchorY,p=t.rotation||0,v=t.x,y=t.y,x=t.skewX?Math.tan(t.skewX):0,_=t.skewY?Math.tan(-t.skewY):0;if(i||s||h||f){var b=i+h,w=s+f;r[4]=-b*u-x*w*c,r[5]=-w*c-_*b*u}else r[4]=r[5]=0;return r[0]=u,r[3]=c,r[1]=_*u,r[2]=x*c,p&&C1(r,r,p),r[4]+=i+v,r[5]+=s+y,r},r.initDefaultProps=void((t=r.prototype).scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0),r}(),Ir=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Ii(t,r){for(var i=0;i<Ir.length;i++){var s=Ir[i];t[s]=r[s]}}var Ia={};function Io(t,r){var i=Ia[r=r||A5];!i&&(i=Ia[r]=new TK(500));var s=i.get(t);return null==s&&(s=A9.measureText(t,r).width,i.put(t,s)),s}function Is(t,r,i,s){var u=Io(t,r),c=Ih(r);return new Ti(Iu(0,u,i),Ic(0,c,s),u,c)}function Il(t,r,i,s){var u=((t||"")+"").split("\n");if(1===u.length)return Is(u[0],r,i,s);for(var c=new Ti(0,0,0,0),h=0;h<u.length;h++){var f=Is(u[h],r,i,s);0===h?c.copy(f):c.union(f)}return c}function Iu(t,r,i){return"right"===i?t-=r:"center"===i&&(t-=r/2),t}function Ic(t,r,i){return"middle"===i?t-=r/2:"bottom"===i&&(t-=r),t}function Ih(t){return Io("",t)}function Id(t,r){if("string"==typeof t)return t.lastIndexOf("%")>=0?parseFloat(t)/100*r:parseFloat(t);return t}function If(t,r,i){var s=r.position||"inside",u=null!=r.distance?r.distance:5,c=i.height,h=i.width,f=c/2,p=i.x,v=i.y,y="left",x="top";if(s instanceof Array)p+=Id(s[0],i.width),v+=Id(s[1],i.height),y=null,x=null;else switch(s){case"left":p-=u,v+=f,y="right",x="middle";break;case"right":p+=u+h,v+=f,x="middle";break;case"top":p+=h/2,v-=u,y="center",x="bottom";break;case"bottom":p+=h/2,v+=c+u,y="center";break;case"inside":p+=h/2,v+=f,y="center",x="middle";break;case"insideLeft":p+=u,v+=f,x="middle";break;case"insideRight":p+=h-u,v+=f,y="right",x="middle";break;case"insideTop":p+=h/2,v+=u,y="center";break;case"insideBottom":p+=h/2,v+=c-u,y="center",x="bottom";break;case"insideTopLeft":p+=u,v+=u;break;case"insideTopRight":p+=h-u,v+=u,y="right";break;case"insideBottomLeft":p+=u,v+=c-u,x="bottom";break;case"insideBottomRight":p+=h-u,v+=c-u,y="right",x="bottom"}return(t=t||{}).x=p,t.y=v,t.align=y,t.verticalAlign=x,t}var Ip="__zr_normal__",Ig=Ir.concat(["ignore"]),Im=MA(Ir,function(t,r){return t[r]=!0,t},{ignore:!1}),Iv={},Iy=new Ti(0,0,0,0),Ix=function(){function t(t){this.id=Mc(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,r,i){switch(this.draggable){case"horizontal":r=0;break;case"vertical":t=0}var s=this.transform;!s&&(s=this.transform=[1,0,0,1,0,0]),s[4]+=t,s[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var r=this._textContent;if(r&&(!r.ignore||t)){!this.textConfig&&(this.textConfig={});var i=this.textConfig,s=i.local,u=r.innerTransformable,c=void 0,h=void 0,f=!1;u.parent=s?this:null;var p=!1;if(u.copyTransform(r),null!=i.position){i.layoutRect?Iy.copy(i.layoutRect):Iy.copy(this.getBoundingRect()),!s&&Iy.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Iv,i,Iy):If(Iv,i,Iy),u.x=Iv.x,u.y=Iv.y,c=Iv.align,h=Iv.verticalAlign;var v=i.origin;if(v&&null!=i.rotation){var y=void 0,x=void 0;"center"===v?(y=.5*Iy.width,x=.5*Iy.height):(y=Id(v[0],Iy.width),x=Id(v[1],Iy.height)),p=!0,u.originX=-u.x+y+(s?0:Iy.x),u.originY=-u.y+x+(s?0:Iy.y)}}null!=i.rotation&&(u.rotation=i.rotation);var _=i.offset;_&&(u.x+=_[0],u.y+=_[1],!p&&(u.originX=-_[0],u.originY=-_[1]));var b=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,w=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),S=void 0,A=void 0,M=void 0;b&&this.canBeInsideText()?(S=i.insideFill,A=i.insideStroke,(null==S||"auto"===S)&&(S=this.getInsideTextFill()),(null==A||"auto"===A)&&(A=this.getInsideTextStroke(S),M=!0)):(S=i.outsideFill,A=i.outsideStroke,(null==S||"auto"===S)&&(S=this.getOutsideFill()),(null==A||"auto"===A)&&(A=this.getOutsideStroke(S),M=!0)),((S=S||"#000")!==w.fill||A!==w.stroke||M!==w.autoStroke||c!==w.align||h!==w.verticalAlign)&&(f=!0,w.fill=S,w.stroke=A,w.autoStroke=M,w.align=c,w.verticalAlign=h,r.setDefaultTextStyle(w)),r.__dirty|=1,f&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?E4:E5},t.prototype.getOutsideStroke=function(t){var r=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof r&&T6(r);!i&&(i=[255,255,255,1]);for(var s=i[3],u=this.__zr.isDarkMode(),c=0;c<3;c++)i[c]=i[c]*s+(u?0:255)*(1-s);return i[3]=1,El(i,"rgba")},t.prototype.traverse=function(t,r){},t.prototype.attrKV=function(t,r){"textConfig"===t?this.setTextConfig(r):"textContent"===t?this.setTextContent(r):"clipPath"===t?this.setClipPath(r):"extra"===t?(this.extra=this.extra||{},Mg(this.extra,r)):this[t]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,r){if("string"==typeof t)this.attrKV(t,r);else if(Mk(t)){for(var i=MT(t),s=0;s<i.length;s++){var u=i[s];this.attrKV(u,t[u])}}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var r=this._normalState,i=0;i<this.animators.length;i++){var s=this.animators[i],u=s.__fromStateTransition;if(!s.getLoop()&&(!u||u===Ip)){var c=s.targetName,h=c?r[c]:r;s.saveTo(h)}}},t.prototype._innerSaveToNormal=function(t){var r=this._normalState;!r&&(r=this._normalState={}),t.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(t,r,Ig)},t.prototype._savePrimaryToNormal=function(t,r,i){for(var s=0;s<i.length;s++){var u=i[s];null!=t[u]&&!(u in r)&&(r[u]=this[u])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var r=this.states;return!r[t]&&(r[t]={}),r[t]},t.prototype.clearStates=function(t){this.useState(Ip,!1,t)},t.prototype.useState=function(t,r,i,s){var u,c=t===Ip;if(!this.hasState()&&c)return;var h=this.currentStates,f=this.stateTransition;if(!(My(h,t)>=0)||!r&&1!==h.length){if(this.stateProxy&&!c&&(u=this.stateProxy(t)),!u&&(u=this.states&&this.states[t]),!u&&!c){Mh("State "+t+" not exists.");return}!c&&this.saveCurrentToNormalState(u);var p=!!(u&&u.hoverLayer||s);p&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,r,!i&&!this.__inHover&&f&&f.duration>0,f);var v=this._textContent,y=this._textGuide;return v&&v.useState(t,r,i,p),y&&y.useState(t,r,i,p),c?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),u}},t.prototype.useStates=function(t,r,i){if(t.length){var s=[],u=this.currentStates,c=t.length,h=c===u.length;if(h){for(var f=0;f<c;f++)if(t[f]!==u[f]){h=!1;break}}if(!h){for(var f=0;f<c;f++){var p=t[f],v=void 0;this.stateProxy&&(v=this.stateProxy(p,t)),!v&&(v=this.states[p]),v&&s.push(v)}var y=s[c-1],x=!!(y&&y.hoverLayer||i);x&&this._toggleHoverLayerFlag(!0);var _=this._mergeStates(s),b=this.stateTransition;this.saveCurrentToNormalState(_),this._applyStateObj(t.join(","),_,this._normalState,!1,!r&&!this.__inHover&&b&&b.duration>0,b);var w=this._textContent,S=this._textGuide;w&&w.useStates(t,r,x),S&&S.useStates(t,r,x),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!x&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}}else this.clearStates()},t.prototype.isSilent=function(){for(var t=this.silent,r=this.parent;!t&&r;){if(r.silent){t=!0;break}r=r.parent}return t},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var r=this.animators[t];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(t){var r=My(this.currentStates,t);if(r>=0){var i=this.currentStates.slice();i.splice(r,1),this.useStates(i)}},t.prototype.replaceState=function(t,r,i){var s=this.currentStates.slice(),u=My(s,t),c=My(s,r)>=0;u>=0?c?s.splice(u,1):s[u]=r:i&&!c&&s.push(r),this.useStates(s)},t.prototype.toggleState=function(t,r){r?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var r,i={},s=0;s<t.length;s++){var u=t[s];Mg(i,u),u.textConfig&&Mg(r=r||{},u.textConfig)}return r&&(i.textConfig=r),i},t.prototype._applyStateObj=function(t,r,i,s,u,c){var h=!(r&&s);r&&r.textConfig?(this.textConfig=Mg({},s?this.textConfig:i.textConfig),Mg(this.textConfig,r.textConfig)):h&&i.textConfig&&(this.textConfig=i.textConfig);for(var f={},p=!1,v=0;v<Ig.length;v++){var y=Ig[v],x=u&&Im[y];r&&null!=r[y]?x?(p=!0,f[y]=r[y]):this[y]=r[y]:h&&null!=i[y]&&(x?(p=!0,f[y]=i[y]):this[y]=i[y])}if(!u)for(var v=0;v<this.animators.length;v++){var _=this.animators[v],b=_.targetName;!_.getLoop()&&_.__changeFinalValue(b?(r||i)[b]:r||i)}p&&this._transitionState(t,f,c)},t.prototype._attachComponent=function(t){if((!t.__zr||!!t.__hostTarget)&&t!==this){var r=this.__zr;r&&t.addSelfToZr(r),t.__zr=r,t.__hostTarget=this}},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var r=this._textContent;if(r!==t){r&&r!==t&&this.removeTextContent();t.innerTransformable=new In,this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){!this.textConfig&&(this.textConfig={}),Mg(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var r=this._textContent,i=this._textGuide;r&&(r.__inHover=t),i&&(i.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var r=this.animators;if(r)for(var i=0;i<r.length;i++)t.animation.addAnimator(r[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(!!this.__zr){this.__zr=null;var r=this.animators;if(r)for(var i=0;i<r.length;i++)t.animation.removeAnimator(r[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,r,i){var s=t?this[t]:this,u=new EU(s,r,i);return t&&(u.targetName=t),this.addAnimator(u,t),u},t.prototype.addAnimator=function(t,r){var i=this.__zr,s=this;t.during(function(){s.updateDuringAnimation(r)}).done(function(){var r=s.animators,i=My(r,t);i>=0&&r.splice(i,1)}),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,r){for(var i=this.animators,s=i.length,u=[],c=0;c<s;c++){var h=i[c];t&&t!==h.scope?u.push(h):h.stop(r)}return this.animators=u,this},t.prototype.animateTo=function(t,r,i){I_(this,t,r,i)},t.prototype.animateFrom=function(t,r,i){I_(this,t,r,i,!0)},t.prototype._transitionState=function(t,r,i,s){for(var u=I_(this,r,i,s),c=0;c<u.length;c++)u[c].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var r=t.prototype;function i(t,i,s,u){Object.defineProperty(r,t,{get:function(){return!this[i]&&c(this,this[i]=[]),this[i]},set:function(t){this[s]=t[0],this[u]=t[1],this[i]=t,c(this,t)}});function c(t,r){Object.defineProperty(r,0,{get:function(){return t[s]},set:function(r){t[s]=r}}),Object.defineProperty(r,1,{get:function(){return t[u]},set:function(r){t[u]=r}})}}r.type="element",r.name="",r.ignore=r.silent=r.isGroup=r.draggable=r.dragging=r.ignoreClip=r.__inHover=!1,r.__dirty=1,Object.defineProperty&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),t}();function I_(t,r,i,s,u){var c=[];(function t(r,i,s,u,c,h,f,p){for(var v=MT(u),y=c.duration,x=c.delay,_=c.additive,b=c.setToFinal,w=!Mk(h),S=r.animators,A=[],M=0;M<v.length;M++){var C=v[M],T=u[C];if(null!=T&&null!=s[C]&&(w||h[C])){if(!Mk(T)||Mb(T)||MU(T))A.push(C);else{if(i){!p&&(s[C]=T,r.updateDuringAnimation(i));continue}t(r,C,s[C],T,c,h&&h[C],f,p)}}else!p&&(s[C]=T,r.updateDuringAnimation(i),A.push(C))}var I=A.length;if(!_&&I)for(var D=0;D<S.length;D++){var R=S[D];if(R.targetName===i&&R.stopTracks(A)){var P=My(S,R);S.splice(P,1)}}if(!c.force&&(I=(A=MM(A,function(t){var r,i;return r=u[t],!(r===(i=s[t])||Mb(r)&&Mb(i)&&function(t,r){var i=t.length;if(i!==r.length)return!1;for(var s=0;s<i;s++)if(t[s]!==r[s])return!1;return!0}(r,i))})).length),I>0||c.force&&!f.length){var L=void 0,B=void 0,k=void 0;if(p){B={},b&&(L={});for(var D=0;D<I;D++){var C=A[D];B[C]=s[C],b?L[C]=u[C]:s[C]=u[C]}}else if(b){k={};for(var D=0;D<I;D++){var C=A[D];k[C]=EL(s[C]),!function(t,r,i){if(Mb(r[i])){if(!Mb(t[i])&&(t[i]=[]),MN(r[i])){var s=r[i].length;t[i].length!==s&&(t[i]=new r[i].constructor(s),Ib(t[i],r[i],s))}else{var u=r[i],c=t[i],h=u.length;if(Mb(u[0])){for(var f=u[0].length,p=0;p<h;p++)c[p]?Ib(c[p],u[p],f):c[p]=Array.prototype.slice.call(u[p])}else Ib(c,u,h);c.length=u.length}}else t[i]=r[i]}(s,u,C)}}var R=new EU(s,!1,!1,_?MM(S,function(t){return t.targetName===i}):null);R.targetName=i,c.scope&&(R.scope=c.scope),b&&L&&R.whenWithKeys(0,L,A),k&&R.whenWithKeys(0,k,A),R.whenWithKeys(null==y?500:y,p?B:u,A).delay(x||0),r.addAnimator(R,i),f.push(R)}})(t,"",t,r,i=i||{},s,c,u);var h=c.length,f=!1,p=i.done,v=i.aborted,y=function(){f=!0,--h<=0&&(f?p&&p():v&&v())},x=function(){--h<=0&&(f?p&&p():v&&v())};!h&&p&&p(),c.length>0&&i.during&&c[0].during(function(t,r){i.during(r)});for(var _=0;_<c.length;_++){var b=c[_];y&&b.done(y),x&&b.aborted(x),i.force&&b.duration(i.duration),b.start(i.easing)}return c}function Ib(t,r,i){for(var s=0;s<i;s++)t[s]=r[s]}M_(Ix,CC),M_(Ix,In);var Iw=function(t){function r(r){var i=t.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(r),i}return AK(r,t),r.prototype.childrenRef=function(){return this._children},r.prototype.children=function(){return this._children.slice()},r.prototype.childAt=function(t){return this._children[t]},r.prototype.childOfName=function(t){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]},r.prototype.childCount=function(){return this._children.length},r.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},r.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var i=this._children,s=i.indexOf(r);s>=0&&(i.splice(s,0,t),this._doAdd(t))}return this},r.prototype.replace=function(t,r){var i=My(this._children,t);return i>=0&&this.replaceAt(r,i),this},r.prototype.replaceAt=function(t,r){var i=this._children,s=i[r];if(t&&t!==this&&t.parent!==this&&t!==s){i[r]=t,s.parent=null;var u=this.__zr;u&&s.removeSelfFromZr(u),this._doAdd(t)}return this},r.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},r.prototype.remove=function(t){var r=this.__zr,i=this._children,s=My(i,t);return s<0?this:(i.splice(s,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh(),this)},r.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,i=0;i<t.length;i++){var s=t[i];r&&s.removeSelfFromZr(r),s.parent=null}return t.length=0,this},r.prototype.eachChild=function(t,r){for(var i=this._children,s=0;s<i.length;s++){var u=i[s];t.call(r,u,s)}return this},r.prototype.traverse=function(t,r){for(var i=0;i<this._children.length;i++){var s=this._children[i],u=t.call(r,s);s.isGroup&&!u&&s.traverse(t,r)}return this},r.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(r)},r.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(r)},r.prototype.getBoundingRect=function(t){for(var r=new Ti(0,0,0,0),i=t||this._children,s=[],u=null,c=0;c<i.length;c++){var h=i[c];if(!h.ignore&&!h.invisible){var f=h.getBoundingRect(),p=h.getLocalTransform(s);p?(Ti.applyTransform(r,f,p),(u=u||r.clone()).union(r)):(u=u||f.clone()).union(f)}}return u||r},r}(Ix);Iw.prototype.type="group";let IS=Iw;var IA={},IM={},IC=function(){function t(t,r,i){var s,u=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=r,this.id=t;var c=new Tw,h=i.renderer||"canvas";!IA[h]&&(h=MT(IA)[0]);i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var f=new IA[h](r,c,i,t),p=i.ssr||f.ssrOnly;this.storage=c,this.painter=f;var v=A2.node||A2.worker||p?null:new E1(f.getViewportRoot(),f.root),y=i.useCoarsePointer,x=null==y||"auto"===y?A2.touchEventsSupported:!!y;x&&(s=Mj(i.pointerSize,44)),this.handler=new Th(c,f,v,f.root,s),this.animation=new EG({stage:{update:p?null:function(){return u._flush(!0)}}}),!p&&this.animation.start()}return t.prototype.add=function(t){if(!this._disposed&&!!t)this.storage.addRoot(t),t.addSelfToZr(this),this.refresh()},t.prototype.remove=function(t){if(!this._disposed&&!!t)this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh()},t.prototype.configLayer=function(t,r){if(!this._disposed)this.painter.configLayer&&this.painter.configLayer(t,r),this.refresh()},t.prototype.setBackgroundColor=function(t){if(!this._disposed)this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return .4>Eu(t,1);if(t.colorStops){for(var r=t.colorStops,i=0,s=r.length,u=0;u<s;u++)i+=Eu(r[u].color,1);return(i/=s)<.4}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){if(!this._disposed)!t&&this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){if(!this._disposed)this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){if(!this._disposed)this._flush(!1)},t.prototype._flush=function(t){var r,i=Ez();this._needsRefresh&&(r=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var s=Ez();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:s-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){if(!this._disposed)this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){if(!this._disposed)this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){if(!this._disposed)t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){if(!this._disposed)this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(t){if(!this._disposed)this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,r){if(!this._disposed)return this.handler.findHover(t,r)},t.prototype.on=function(t,r,i){return!this._disposed&&this.handler.on(t,r,i),this},t.prototype.off=function(t,r){if(!this._disposed)this.handler.off(t,r)},t.prototype.trigger=function(t,r){if(!this._disposed)this.handler.trigger(t,r)},t.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),r=0;r<t.length;r++)t[r]instanceof IS&&t[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){var t;if(!this._disposed)this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,t=this.id,delete IM[t]},t}();function IT(t,r){var i=new IC(Mc(),t,r);return IM[i.id]=i,i}function IE(t){t.dispose()}function II(){for(var t in IM)IM.hasOwnProperty(t)&&IM[t].dispose();IM={}}function ID(t){return IM[t]}function IR(t,r){IA[t]=r}function IP(t){if("function"==typeof elh)return elh(t)}function IL(t){elh=t}var IB="5.6.0";function Ik(t,r,i,s){var u=r[0],c=r[1],h=i[0],f=i[1],p=c-u,v=f-h;if(0===p)return 0===v?h:(h+f)/2;if(s){if(p>0){if(t<=u)return h;if(t>=c)return f}else{if(t>=u)return h;if(t<=c)return f}}else{if(t===u)return h;if(t===c)return f}return(t-u)/p*v+h}function IO(t,r){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}if(MP(t))return t.replace(/^\s+|\s+$/g,"").match(/%$/)?parseFloat(t)/100*r:parseFloat(t);return null==t?NaN:+t}function IN(t,r,i){return null==r&&(r=10),r=Math.min(Math.max(0,r),20),t=(+t).toFixed(r),i?t:+t}function IF(t){return t.sort(function(t,r){return t-r}),t}function IU(t){if(isNaN(t=+t))return 0;if(t>1e-14){for(var r=1,i=0;i<15;i++,r*=10)if(Math.round(t*r)/r===t)return i}return Iz(t)}function Iz(t){var r=t.toString().toLowerCase(),i=r.indexOf("e"),s=i>0?+r.slice(i+1):0,u=i>0?i:r.length,c=r.indexOf(".");return Math.max(0,(c<0?0:u-1-c)-s)}function IG(t,r){var i=Math.log,s=Math.LN10,u=Math.min(Math.max(-Math.floor(i(t[1]-t[0])/s)+Math.round(i(Math.abs(r[1]-r[0]))/s),0),20);return isFinite(u)?u:20}function IH(t,r,i){return t[r]&&IV(t,i)[r]||0}function IV(t,r){var i=MA(t,function(t,r){return t+(isNaN(r)?0:r)},0);if(0===i)return[];for(var s=Math.pow(10,r),u=MS(t,function(t){return(isNaN(t)?0:t)/i*s*100}),c=100*s,h=MS(u,function(t){return Math.floor(t)}),f=MA(h,function(t,r){return t+r},0),p=MS(u,function(t,r){return t-h[r]});f<c;){for(var v=Number.NEGATIVE_INFINITY,y=null,x=0,_=p.length;x<_;++x)p[x]>v&&(v=p[x],y=x);++h[y],p[y]=0,++f}return MS(h,function(t){return t/s})}var Ij=0x1fffffffffffff;function IW(t){var r=2*Math.PI;return(t%r+r)%r}function IX(t){return t>-1e-4&&t<1e-4}var IY=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function IZ(t){if(t instanceof Date)return t;if(MP(t)){var r=IY.exec(t);if(!r)return new Date(NaN);if(!r[8])return new Date(+r[1],+(r[2]||1)-1,+r[3]||1,+r[4]||0,+(r[5]||0),+r[6]||0,r[7]?+r[7].substring(0,3):0);var i=+r[4]||0;return"Z"!==r[8].toUpperCase()&&(i-=+r[8].slice(0,3)),new Date(Date.UTC(+r[1],+(r[2]||1)-1,+r[3]||1,i,+(r[5]||0),+r[6]||0,r[7]?+r[7].substring(0,3):0))}if(null==t)return new Date(NaN);return new Date(Math.round(t))}function IK(t){return Math.pow(10,IJ(t))}function IJ(t){if(0===t)return 0;var r=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,r)>=10&&r++,r}function IQ(t,r){var i,s=IJ(t),u=Math.pow(10,s),c=t/u;return t=(i=r?c<1.5?1:c<2.5?2:c<4?3:c<7?5:10:c<1?1:c<2?2:c<3?3:c<5?5:10)*u,s>=-20?+t.toFixed(s<0?-s:0):t}function Iq(t,r){var i=(t.length-1)*r+1,s=Math.floor(i),u=+t[s-1],c=i-s;return c?u+c*(t[s]-u):u}function I$(t){t.sort(function(t,r){return function t(r,i,s){return r.interval[s]<i.interval[s]||r.interval[s]===i.interval[s]&&(r.close[s]-i.close[s]==(s?-1:1)||!s&&t(r,i,1))}(t,r,0)?-1:1});for(var r=-1/0,i=1,s=0;s<t.length;){for(var u=t[s].interval,c=t[s].close,h=0;h<2;h++)u[h]<=r&&(u[h]=r,c[h]=h?1:1-i),r=u[h],i=c[h];u[0]===u[1]&&c[0]*c[1]!=1?t.splice(s,1):s++}return t}function I0(t){var r=parseFloat(t);return r==t&&(0!==r||!MP(t)||0>=t.indexOf("x"))?r:NaN}function I1(t){return!isNaN(I0(t))}function I2(){return Math.round(9*Math.random())}function I3(t,r){return null==t?r:null==r?t:t*r/function t(r,i){return 0===i?r:t(i,r%i)}(t,r)}function I5(t,r,i){return(r-t)*i+t}var I4="series\0",I9="\0_ec_\0";function I8(t){return t instanceof Array?t:null==t?[]:[t]}function I6(t,r,i){if(t){t[r]=t[r]||{},t.emphasis=t.emphasis||{},t.emphasis[r]=t.emphasis[r]||{};for(var s=0,u=i.length;s<u;s++){var c=i[s];!t.emphasis[r].hasOwnProperty(c)&&t[r].hasOwnProperty(c)&&(t.emphasis[r][c]=t[r][c])}}}var I7=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function De(t){return!Mk(t)||MD(t)||t instanceof Date?t:t.value}function Dt(t,r,i){var s="normalMerge"===i,u="replaceMerge"===i,c="replaceAll"===i;t=t||[],r=(r||[]).slice();var h=M2();Mw(r,function(t,i){if(!Mk(t)){r[i]=null;return}});var f=function(t,r,i){var s=[];if("replaceAll"===i)return s;for(var u=0;u<t.length;u++){var c=t[u];c&&null!=c.id&&r.set(c.id,u),s.push({existing:"replaceMerge"===i||Do(c)?null:c,newOption:null,keyInfo:null,brandNew:null})}return s}(t,h,i);return(s||u)&&function(t,r,i,s){Mw(s,function(u,c){if(!!u&&null!=u.id){var h=Dr(u.id),f=i.get(h);if(null!=f){var p=t[f];MZ(!p.newOption,'Duplicated option on id "'+h+'".'),p.newOption=u,p.existing=r[f],s[c]=null}}})}(f,t,h,r),s&&function(t,r){Mw(r,function(i,s){if(!!i&&null!=i.name)for(var u=0;u<t.length;u++){var c=t[u].existing;if(!t[u].newOption&&c&&(null==c.id||null==i.id)&&!Do(i)&&!Do(c)&&Dn("name",c,i)){t[u].newOption=i,r[s]=null;return}}})}(f,r),s||u?function(t,r,i){Mw(r,function(r){if(!!r){for(var s,u=0;(s=t[u])&&(s.newOption||Do(s.existing)||s.existing&&null!=r.id&&!Dn("id",r,s.existing));)u++;s?(s.newOption=r,s.brandNew=i):t.push({newOption:r,brandNew:i,existing:null,keyInfo:null}),u++}})}(f,r,u):c&&function(t,r){Mw(r,function(r){t.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}(f,r),function(t){var r=M2();Mw(t,function(t){var i=t.existing;i&&r.set(i.id,t)}),Mw(t,function(t){var i=t.newOption;MZ(!i||null==i.id||!r.get(i.id)||r.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&r.set(i.id,t),t.keyInfo||(t.keyInfo={})}),Mw(t,function(t,i){var s=t.existing,u=t.newOption,c=t.keyInfo;if(!!Mk(u)){if(c.name=null!=u.name?Dr(u.name):s?s.name:I4+i,s)c.id=Dr(s.id);else if(null!=u.id)c.id=Dr(u.id);else{var h=0;do c.id="\0"+c.name+"\0"+h++;while(r.get(c.id))}r.set(c.id,t)}})}(f),f}function Dn(t,r,i){var s=Di(r[t],null),u=Di(i[t],null);return null!=s&&null!=u&&s===u}function Dr(t){return Di(t,"")}function Di(t,r){return null==t?r:MP(t)?t:MB(t)||ML(t)?t+"":r}function Da(t){var r=t.name;return!!(r&&r.indexOf(I4))}function Do(t){return t&&null!=t.id&&0===Dr(t.id).indexOf(I9)}function Ds(t,r){if(null!=r.dataIndexInside)return r.dataIndexInside;if(null!=r.dataIndex)return MD(r.dataIndex)?MS(r.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(r.dataIndex);if(null!=r.name)return MD(r.name)?MS(r.name,function(r){return t.indexOfName(r)}):t.indexOfName(r.name)}function Dl(){var t="__ec_inner_"+Du++;return function(r){return r[t]||(r[t]={})}}var Du=I2();function Dc(t,r,i){var s=Dh(r,i),u=s.mainTypeSpecified,c=s.queryOptionMap,h=s.others,f=i?i.defaultMainType:null;return!u&&f&&c.set(f,{}),c.each(function(r,s){var u=Dp(t,s,r,{useDefault:f===s,enableAll:!i||null==i.enableAll||i.enableAll,enableNone:!i||null==i.enableNone||i.enableNone});h[s+"Models"]=u.models,h[s+"Model"]=u.models[0]}),h}function Dh(t,r){if(MP(t)){var i,s={};s[t+"Index"]=0,i=s}else i=t;var u=M2(),c={},h=!1;return Mw(i,function(t,i){if("dataIndex"===i||"dataIndexInside"===i){c[i]=t;return}var s=i.match(/^(\w+)(Index|Id|Name)$/)||[],f=s[1],p=(s[2]||"").toLowerCase();if(!(!f||!p||r&&r.includeMainTypes&&0>My(r.includeMainTypes,f)))h=h||!!f,(u.get(f)||u.set(f,{}))[p]=t}),{mainTypeSpecified:h,queryOptionMap:u,others:c}}var Dd={useDefault:!0,enableAll:!1,enableNone:!1},Df={useDefault:!1,enableAll:!0,enableNone:!0};function Dp(t,r,i,s){s=s||Dd;var u=i.index,c=i.id,h=i.name,f={models:null,specified:null!=u||null!=c||null!=h};if(!f.specified){var p=void 0;return f.models=s.useDefault&&(p=t.getComponent(r))?[p]:[],f}return"none"===u||!1===u?(MZ(s.enableNone,'`"none"` or `false` is not a valid value on index option.'),f.models=[],f):("all"===u&&(MZ(s.enableAll,'`"all"` is not a valid value on index option.'),u=c=h=null),f.models=t.queryComponents({mainType:r,index:u,id:c,name:h}),f)}function Dg(t,r,i){t.setAttribute?t.setAttribute(r,i):t[r]=i}function Dm(t,r){var i=M2(),s=[];return Mw(t,function(t){var u=r(t);(i.get(u)||(s.push(u),i.set(u,[]))).push(t)}),{keys:s,buckets:i}}function Dv(t,r,i,s,u){var c=null==r||"auto"===r;if(null==s)return s;if(MB(s)){var h,f=(s-(h=i||0))*u+h;return IN(f,c?Math.max(IU(i||0),IU(s)):r)}if(MP(s))return u<1?i:s;for(var p=[],v=Math.max(i?i.length:0,s.length),y=0;y<v;++y){var x=t.getDimensionInfo(y);if(x&&"ordinal"===x.type)p[y]=(u<1&&i?i:s)[y];else{var _,b=i&&i[y]?i[y]:0,w=s[y];var f=(w-(_=b))*u+_;p[y]=IN(f,c?Math.max(IU(b),IU(w)):r)}}return p}var Dy="___EC__COMPONENT__CONTAINER___",Dx="___EC__EXTENDED_CLASS___";function D_(t){var r={main:"",sub:""};if(t){var i=t.split(".");r.main=i[0]||"",r.sub=i[1]||""}return r}function Db(t,r){t.$constructor=t,t.extend=function(t){var r,i=this;return function(t){return MR(t)&&/^class\s/.test(Function.prototype.toString.call(t))}(i)?r=function(t){function r(){return t.apply(this,arguments)||this}return AK(r,t),r}(i):Mx(r=function(){(t.$constructor||i).apply(this,arguments)},this),Mg(r.prototype,t),r[Dx]=!0,r.extend=this.extend,r.superCall=DA,r.superApply=DM,r.superClass=i,r}}function Dw(t,r){t.extend=r.extend}var DS=Math.round(10*Math.random());function DA(t,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return this.superClass.prototype[r].apply(t,i)}function DM(t,r,i){return this.superClass.prototype[r].apply(t,i)}function DC(t){var r={};t.registerClass=function(t){var i=t.type||t.prototype.type;if(i){s=i,MZ(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(s),'componentType "'+s+'" illegal'),t.prototype.type=i;var s,u=D_(i);u.sub?u.sub!==Dy&&(function(t){var i=r[t.main];return(!i||!i[Dy])&&((i=r[t.main]={})[Dy]=!0),i}(u)[u.sub]=t):r[u.main]=t}return t},t.getClass=function(t,i,s){var u=r[t];if(u&&u[Dy]&&(u=i?u[i]:null),s&&!u)throw Error(i?"Component "+t+"."+(i||"")+" is used but not imported.":t+".type should be specified.");return u},t.getClassesByMainType=function(t){var i=D_(t),s=[],u=r[i.main];return u&&u[Dy]?Mw(u,function(t,r){r!==Dy&&s.push(t)}):s.push(u),s},t.hasClass=function(t){return!!r[D_(t).main]},t.getAllClassMainTypes=function(){var t=[];return Mw(r,function(r,i){t.push(i)}),t},t.hasSubTypes=function(t){var i=r[D_(t).main];return i&&i[Dy]}}function DT(t,r){for(var i=0;i<t.length;i++)!t[i][1]&&(t[i][1]=t[i][0]);return r=r||!1,function(i,s,u){for(var c={},h=0;h<t.length;h++){var f=t[h][1];if(!(s&&My(s,f)>=0||u&&0>My(u,f))){var p=i.getShallow(f,r);null!=p&&(c[t[h][0]]=p)}}return c}}var DE=DT([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),DI=function(){function t(){}return t.prototype.getAreaStyle=function(t,r){return DE(this,t,r)},t}(),DD=new TK(50);function DR(t,r,i,s,u){if(!t)return r;if("string"!=typeof t)return t;if(r&&r.__zrImageSrc===t||!i)return r;var c=DD.get(t),h={hostEl:i,cb:s,cbPayload:u};return c?DL(r=c.image)||c.pending.push(h):((r=A9.loadImage(t,DP,DP)).__zrImageSrc=t,DD.put(t,r.__cachedImgObj={image:r,pending:[h]})),r}function DP(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var r=0;r<t.pending.length;r++){var i=t.pending[r],s=i.cb;s&&s(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function DL(t){return t&&t.width&&t.height}var DB=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Dk(t,r,i,s,u){if(!r)return"";var c=(t+"").split("\n");u=DO(r,i,s,u);for(var h=0,f=c.length;h<f;h++)c[h]=DN(c[h],u);return c.join("\n")}function DO(t,r,i,s){var u=Mg({},s=s||{});u.font=r,i=Mj(i,"..."),u.maxIterations=Mj(s.maxIterations,2);var c=u.minChar=Mj(s.minChar,0);u.cnCharWidth=Io("",r);var h=u.ascCharWidth=Io("a",r);u.placeholder=Mj(s.placeholder,"");for(var f=t=Math.max(0,t-1),p=0;p<c&&f>=h;p++)f-=h;var v=Io(i,r);return v>f&&(i="",v=0),f=t-v,u.ellipsis=i,u.ellipsisWidth=v,u.contentWidth=f,u.containerWidth=t,u}function DN(t,r){var i=r.containerWidth,s=r.font,u=r.contentWidth;if(!i)return"";var c=Io(t,s);if(c<=i)return t;for(var h=0;;h++){if(c<=u||h>=r.maxIterations){t+=r.ellipsis;break}var f=0===h?function(t,r,i,s){for(var u=0,c=0,h=t.length;c<h&&u<r;c++){var f=t.charCodeAt(c);u+=0<=f&&f<=127?i:s}return c}(t,u,r.ascCharWidth,r.cnCharWidth):c>0?Math.floor(t.length*u/c):0;c=Io(t=t.substr(0,f),s)}return""===t&&(t=r.placeholder),t}var DF=function(){},DU=function(t){this.tokens=[],t&&(this.tokens=t)},Dz=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function DG(t,r,i,s,u){var c,h,f=""===r,p=u&&i.rich[u]||{},v=t.lines,y=p.font||i.font,x=!1;if(s){var _=p.padding,b=_?_[1]+_[3]:0;if(null!=p.width&&"auto"!==p.width){var w=Id(p.width,s.width)+b;v.length>0&&w+s.accumWidth>s.width&&(c=r.split("\n"),x=!0),s.accumWidth=w}else{var S=DV(r,y,s.width,s.breakAll,s.accumWidth);s.accumWidth=S.accumWidth+b,h=S.linesWidths,c=S.lines}}else c=r.split("\n");for(var A=0;A<c.length;A++){var M=c[A],C=new DF;if(C.styleName=u,C.text=M,C.isLineHolder=!M&&!f,"number"==typeof p.width?C.width=p.width:C.width=h?h[A]:Io(M,y),A||x)v.push(new DU([C]));else{var T=(v[v.length-1]||(v[0]=new DU)).tokens,I=T.length;1===I&&T[0].isLineHolder?T[0]=C:(M||!I||f)&&T.push(C)}}}var DH=MA(",&?/;] ".split(""),function(t,r){return t[r]=!0,t},{});function DV(t,r,i,s,u){for(var c=[],h=[],f="",p="",v=0,y=0,x=0;x<t.length;x++){var _=t.charAt(x);if("\n"===_){p&&(f+=p,y+=v),c.push(f),h.push(y),f="",p="",v=0,y=0;continue}var b=Io(_,r),w=!s&&!function(t){var r;if((r=t.charCodeAt(0))>=32&&r<=591||r>=880&&r<=4351||r>=4608&&r<=5119||r>=7680&&r<=8303)return!!DH[t]||!1;return!0}(_);if(c.length?y+b>i:u+y+b>i){y?(f||p)&&(w?(!f&&(f=p,p="",y=v=0),c.push(f),h.push(y-v),p+=_,v+=b,f="",y=v):(p&&(f+=p,p="",v=0),c.push(f),h.push(y),f=_,y=b)):w?(c.push(p),h.push(v),p=_,v=b):(c.push(_),h.push(b));continue}y+=b,w?(p+=_,v+=b):(p&&(f+=p,p="",v=0),f+=_)}return!c.length&&!f&&(f=t,p="",v=0),p&&(f+=p),f&&(c.push(f),h.push(y)),1===c.length&&(y+=u),{accumWidth:y,lines:c,linesWidths:h}}var Dj="__zr_style_"+Math.round(10*Math.random()),DW={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DX={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DW[Dj]=!0;var DY=["z","z2","invisible"],DZ=["invisible"],DK=function(t){var r;function i(r){return t.call(this,r)||this}return AK(i,t),i.prototype._init=function(r){for(var i=MT(r),s=0;s<i.length;s++){var u=i[s];"style"===u?this.useStyle(r[u]):t.prototype.attrKV.call(this,u,r[u])}!this.style&&this.useStyle({})},i.prototype.beforeBrush=function(){},i.prototype.afterBrush=function(){},i.prototype.innerBeforeBrush=function(){},i.prototype.innerAfterBrush=function(){},i.prototype.shouldBePainted=function(t,r,i,s){var u=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(t,r,i){return DJ.copy(t.getBoundingRect()),t.transform&&DJ.applyTransform(t.transform),DQ.width=r,DQ.height=i,!DJ.intersect(DQ)}(this,t,r)||u&&!u[0]&&!u[3])return!1;if(i&&this.__clipPaths){for(var c=0;c<this.__clipPaths.length;++c)if(this.__clipPaths[c].isZeroArea())return!1}if(s&&this.parent){for(var h=this.parent;h;){if(h.ignore)return!1;h=h.parent}}return!0},i.prototype.contain=function(t,r){return this.rectContain(t,r)},i.prototype.traverse=function(t,r){t.call(r,this)},i.prototype.rectContain=function(t,r){var i=this.transformCoordToLocal(t,r);return this.getBoundingRect().contain(i[0],i[1])},i.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),s=this.style,u=s.shadowBlur||0,c=s.shadowOffsetX||0,h=s.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Ti(0,0,0,0)),r?Ti.applyTransform(t,i,r):t.copy(i),(u||c||h)&&(t.width+=2*u+Math.abs(c),t.height+=2*u+Math.abs(h),t.x=Math.min(t.x,t.x+c-u),t.y=Math.min(t.y,t.y+h-u));var f=this.dirtyRectTolerance;!t.isZero()&&(t.x=Math.floor(t.x-f),t.y=Math.floor(t.y-f),t.width=Math.ceil(t.width+1+2*f),t.height=Math.ceil(t.height+1+2*f))}return t},i.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Ti(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},i.prototype.getPrevPaintRect=function(){return this._prevPaintRect},i.prototype.animateStyle=function(t){return this.animate("style",t)},i.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},i.prototype.attrKV=function(r,i){"style"!==r?t.prototype.attrKV.call(this,r,i):this.style?this.setStyle(i):this.useStyle(i)},i.prototype.setStyle=function(t,r){return"string"==typeof t?this.style[t]=r:Mg(this.style,t),this.dirtyStyle(),this},i.prototype.dirtyStyle=function(t){!t&&this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},i.prototype.dirty=function(){this.dirtyStyle()},i.prototype.styleChanged=function(){return!!(2&this.__dirty)},i.prototype.styleUpdated=function(){this.__dirty&=-3},i.prototype.createStyle=function(t){return M5(DW,t)},i.prototype.useStyle=function(t){!t[Dj]&&(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},i.prototype.isStyleObject=function(t){return t[Dj]},i.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var i=this._normalState;r.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,i,DY)},i.prototype._applyStateObj=function(r,i,s,u,c,h){t.prototype._applyStateObj.call(this,r,i,s,u,c,h);var f,p=!(i&&u);if(i&&i.style?c?u?f=i.style:(f=this._mergeStyle(this.createStyle(),s.style),this._mergeStyle(f,i.style)):(f=this._mergeStyle(this.createStyle(),u?this.style:s.style),this._mergeStyle(f,i.style)):p&&(f=s.style),f){if(c){var v=this.style;if(this.style=this.createStyle(p?{}:v),p){for(var y=MT(v),x=0;x<y.length;x++){var _=y[x];_ in f&&(f[_]=f[_],this.style[_]=v[_])}}for(var b=MT(f),x=0;x<b.length;x++){var _=b[x];this.style[_]=this.style[_]}this._transitionState(r,{style:f},h,this.getAnimationStyleProps())}else this.useStyle(f)}for(var w=this.__inHover?DZ:DY,x=0;x<w.length;x++){var _=w[x];i&&null!=i[_]?this[_]=i[_]:p&&null!=s[_]&&(this[_]=s[_])}},i.prototype._mergeStates=function(r){for(var i,s=t.prototype._mergeStates.call(this,r),u=0;u<r.length;u++){var c=r[u];c.style&&(i=i||{},this._mergeStyle(i,c.style))}return i&&(s.style=i),s},i.prototype._mergeStyle=function(t,r){return Mg(t,r),t},i.prototype.getAnimationStyleProps=function(){return DX},i.initDefaultProps=void((r=i.prototype).type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=3),i}(Ix),DJ=new Ti(0,0,0,0),DQ=new Ti(0,0,0,0),Dq=Math.min,D$=Math.max,D0=Math.sin,D1=Math.cos,D2=2*Math.PI,D3=M7(),D5=M7(),D4=M7();function D9(t,r,i){if(0!==t.length){for(var s=t[0],u=s[0],c=s[0],h=s[1],f=s[1],p=1;p<t.length;p++)u=Dq(u,(s=t[p])[0]),c=D$(c,s[0]),h=Dq(h,s[1]),f=D$(f,s[1]);r[0]=u,r[1]=h,i[0]=c,i[1]=f}}function D8(t,r,i,s,u,c){u[0]=Dq(t,i),u[1]=Dq(r,s),c[0]=D$(t,i),c[1]=D$(r,s)}var D6=[],D7=[],Re={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Rt=[],Rn=[],Rr=[],Ri=[],Ra=[],Ro=[],Rs=Math.min,Rl=Math.max,Ru=Math.cos,Rc=Math.sin,Rh=Math.abs,Rd=Math.PI,Rf=2*Rd,Rp="undefined"!=typeof Float32Array,Rg=[];function Rm(t){return Math.round(t/Rd*1e8)/1e8%2*Rd}function Rv(t,r){var i=Rm(t[0]);i<0&&(i+=Rf);var s=i-t[0],u=t[1];u+=s,!r&&u-i>=Rf?u=i+Rf:r&&i-u>=Rf?u=i-Rf:!r&&i>u?u=i+(Rf-Rm(i-u)):r&&i<u&&(u=i-(Rf-Rm(u-i))),t[0]=i,t[1]=u}var Ry=function(){var t;function r(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(t,r,i){(i=i||0)>0&&(this._ux=Rh(i/E3/t)||0,this._uy=Rh(i/E3/r)||0)},r.prototype.setDPR=function(t){this.dpr=t},r.prototype.setContext=function(t){this._ctx=t},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(t,r){return this._drawPendingPt(),this.addData(Re.M,t,r),this._ctx&&this._ctx.moveTo(t,r),this._x0=t,this._y0=r,this._xi=t,this._yi=r,this},r.prototype.lineTo=function(t,r){var i=Rh(t-this._xi),s=Rh(r-this._yi),u=i>this._ux||s>this._uy;if(this.addData(Re.L,t,r),this._ctx&&u&&this._ctx.lineTo(t,r),u)this._xi=t,this._yi=r,this._pendingPtDist=0;else{var c=i*i+s*s;c>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=r,this._pendingPtDist=c)}return this},r.prototype.bezierCurveTo=function(t,r,i,s,u,c){return this._drawPendingPt(),this.addData(Re.C,t,r,i,s,u,c),this._ctx&&this._ctx.bezierCurveTo(t,r,i,s,u,c),this._xi=u,this._yi=c,this},r.prototype.quadraticCurveTo=function(t,r,i,s){return this._drawPendingPt(),this.addData(Re.Q,t,r,i,s),this._ctx&&this._ctx.quadraticCurveTo(t,r,i,s),this._xi=i,this._yi=s,this},r.prototype.arc=function(t,r,i,s,u,c){this._drawPendingPt(),Rg[0]=s,Rg[1]=u,Rv(Rg,c),s=Rg[0];var h=(u=Rg[1])-s;return this.addData(Re.A,t,r,i,i,s,h,0,c?0:1),this._ctx&&this._ctx.arc(t,r,i,s,u,c),this._xi=Ru(u)*i+t,this._yi=Rc(u)*i+r,this},r.prototype.arcTo=function(t,r,i,s,u){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,r,i,s,u),this},r.prototype.rect=function(t,r,i,s){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,r,i,s),this.addData(Re.R,t,r,i,s),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(Re.Z);var t=this._ctx,r=this._x0,i=this._y0;return t&&t.closePath(),this._xi=r,this._yi=i,this},r.prototype.fill=function(t){t&&t.fill(),this.toStatic()},r.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(t){var r=t.length;!(this.data&&this.data.length===r)&&Rp&&(this.data=new Float32Array(r));for(var i=0;i<r;i++)this.data[i]=t[i];this._len=r},r.prototype.appendPath=function(t){!(t instanceof Array)&&(t=[t]);for(var r=t.length,i=0,s=this._len,u=0;u<r;u++)i+=t[u].len();Rp&&this.data instanceof Float32Array&&(this.data=new Float32Array(s+i));for(var u=0;u<r;u++){for(var c=t[u].data,h=0;h<c.length;h++)this.data[s++]=c[h]}this._len=s},r.prototype.addData=function(t,r,i,s,u,c,h,f,p){if(!!this._saveData){var v=this.data;this._len+arguments.length>v.length&&(this._expandData(),v=this.data);for(var y=0;y<arguments.length;y++)v[this._len++]=arguments[y]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],r=0;r<this._len;r++)t[r]=this.data[r];this.data=t}},r.prototype.toStatic=function(){if(!!this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Rp&&this._len>11&&(this.data=new Float32Array(t)))}},r.prototype.getBoundingRect=function(){Rr[0]=Rr[1]=Ra[0]=Ra[1]=Number.MAX_VALUE,Ri[0]=Ri[1]=Ro[0]=Ro[1]=-Number.MAX_VALUE;var t,r=this.data,i=0,s=0,u=0,c=0;for(t=0;t<this._len;){var h=r[t++],f=1===t;switch(f&&(i=r[t],s=r[t+1],u=i,c=s),h){case Re.M:i=u=r[t++],s=c=r[t++],Ra[0]=u,Ra[1]=c,Ro[0]=u,Ro[1]=c;break;case Re.L:D8(i,s,r[t],r[t+1],Ra,Ro),i=r[t++],s=r[t++];break;case Re.C:!function(t,r,i,s,u,c,h,f,p,v){var y=TO(t,i,u,h,D6);p[0]=1/0,p[1]=1/0,v[0]=-1/0,v[1]=-1/0;for(var x=0;x<y;x++){var _=TL(t,i,u,h,D6[x]);p[0]=Dq(_,p[0]),v[0]=D$(_,v[0])}y=TO(r,s,c,f,D7);for(var x=0;x<y;x++){var b=TL(r,s,c,f,D7[x]);p[1]=Dq(b,p[1]),v[1]=D$(b,v[1])}p[0]=Dq(t,p[0]),v[0]=D$(t,v[0]),p[0]=Dq(h,p[0]),v[0]=D$(h,v[0]),p[1]=Dq(r,p[1]),v[1]=D$(r,v[1]),p[1]=Dq(f,p[1]),v[1]=D$(f,v[1])}(i,s,r[t++],r[t++],r[t++],r[t++],r[t],r[t+1],Ra,Ro),i=r[t++],s=r[t++];break;case Re.Q:!function(t,r,i,s,u,c,h,f){var p=D$(Dq(TG(t,i,u),1),0),v=D$(Dq(TG(r,s,c),1),0),y=TU(t,i,u,p),x=TU(r,s,c,v);h[0]=Dq(t,u,y),h[1]=Dq(r,c,x),f[0]=D$(t,u,y),f[1]=D$(r,c,x)}(i,s,r[t++],r[t++],r[t],r[t+1],Ra,Ro),i=r[t++],s=r[t++];break;case Re.A:var p=r[t++],v=r[t++],y=r[t++],x=r[t++],_=r[t++],b=r[t++]+_;t+=1;var w=!r[t++];f&&(u=Ru(_)*y+p,c=Rc(_)*x+v),!function(t,r,i,s,u,c,h,f,p){var v=Cw,y=CS,x=Math.abs(u-c);if(x%D2<1e-4&&x>1e-4){f[0]=t-i,f[1]=r-s,p[0]=t+i,p[1]=r+s;return}if(D3[0]=D1(u)*i+t,D3[1]=D0(u)*s+r,D5[0]=D1(c)*i+t,D5[1]=D0(c)*s+r,v(f,D3,D5),y(p,D3,D5),(u%=D2)<0&&(u+=D2),(c%=D2)<0&&(c+=D2),u>c&&!h?c+=D2:u<c&&h&&(u+=D2),h){var _=c;c=u,u=_}for(var b=0;b<c;b+=Math.PI/2)b>u&&(D4[0]=D1(b)*i+t,D4[1]=D0(b)*s+r,v(f,D4,f),y(p,D4,p))}(p,v,y,x,_,b,w,Ra,Ro),i=Ru(b)*y+p,s=Rc(b)*x+v;break;case Re.R:u=i=r[t++],D8(u,c=s=r[t++],u+r[t++],c+r[t++],Ra,Ro);break;case Re.Z:i=u,s=c}Cw(Rr,Rr,Ra),CS(Ri,Ri,Ro)}return 0===t&&(Rr[0]=Rr[1]=Ri[0]=Ri[1]=0),new Ti(Rr[0],Rr[1],Ri[0]-Rr[0],Ri[1]-Rr[1])},r.prototype._calculateLength=function(){var t=this.data,r=this._len,i=this._ux,s=this._uy,u=0,c=0,h=0,f=0;!this._pathSegLen&&(this._pathSegLen=[]);for(var p=this._pathSegLen,v=0,y=0,x=0;x<r;){var _=t[x++],b=1===x;b&&(u=t[x],c=t[x+1],h=u,f=c);var w=-1;switch(_){case Re.M:u=h=t[x++],c=f=t[x++];break;case Re.L:var S=t[x++],A=t[x++],M=S-u,C=A-c;(Rh(M)>i||Rh(C)>s||x===r-1)&&(w=Math.sqrt(M*M+C*C),u=S,c=A);break;case Re.C:var T=t[x++],I=t[x++],S=t[x++],A=t[x++],D=t[x++],R=t[x++];w=function(t,r,i,s,u,c,h,f,p){for(var v=t,y=r,x=0,_=.1,b=1;b<=p;b++){var w=b*_,S=TL(t,i,u,h,w),A=TL(r,s,c,f,w),M=S-v,C=A-y;x+=Math.sqrt(M*M+C*C),v=S,y=A}return x}(u,c,T,I,S,A,D,R,10),u=D,c=R;break;case Re.Q:var T=t[x++],I=t[x++],S=t[x++],A=t[x++];w=function(t,r,i,s,u,c,h){for(var f=t,p=r,v=0,y=.1,x=1;x<=h;x++){var _=x*y,b=TU(t,i,u,_),w=TU(r,s,c,_),S=b-f,A=w-p;v+=Math.sqrt(S*S+A*A),f=b,p=w}return v}(u,c,T,I,S,A,10),u=S,c=A;break;case Re.A:var P=t[x++],L=t[x++],B=t[x++],k=t[x++],O=t[x++],N=t[x++],F=N+O;x+=1,b&&(h=Ru(O)*B+P,f=Rc(O)*k+L),w=Rl(B,k)*Rs(Rf,Math.abs(N)),u=Ru(F)*B+P,c=Rc(F)*k+L;break;case Re.R:h=u=t[x++],f=c=t[x++],w=2*t[x++]+2*t[x++];break;case Re.Z:var M=h-u,C=f-c;w=Math.sqrt(M*M+C*C),u=h,c=f}w>=0&&(p[y++]=w,v+=w)}return this._pathLen=v,v},r.prototype.rebuildPath=function(t,r){var i,s,u,c,h,f,p,v,y,x,_=this.data,b=this._ux,w=this._uy,S=this._len,A=r<1,M=0,C=0,T=0;if(!A||(!this._pathSegLen&&this._calculateLength(),p=this._pathSegLen,!!(v=r*this._pathLen)))s:for(var I=0;I<S;){var D=_[I++],R=1===I;switch(R&&(u=_[I],c=_[I+1],i=u,s=c),D!==Re.L&&T>0&&(t.lineTo(y,x),T=0),D){case Re.M:i=u=_[I++],s=c=_[I++],t.moveTo(u,c);break;case Re.L:h=_[I++],f=_[I++];var P=Rh(h-u),L=Rh(f-c);if(P>b||L>w){if(A){var B=p[C++];if(M+B>v){var k=(v-M)/B;t.lineTo(u*(1-k)+h*k,c*(1-k)+f*k);break s}M+=B}t.lineTo(h,f),u=h,c=f,T=0}else{var O=P*P+L*L;O>T&&(y=h,x=f,T=O)}break;case Re.C:var N=_[I++],F=_[I++],U=_[I++],z=_[I++],G=_[I++],H=_[I++];if(A){var B=p[C++];if(M+B>v){var k=(v-M)/B;TN(u,N,U,G,k,Rt),TN(c,F,z,H,k,Rn),t.bezierCurveTo(Rt[1],Rn[1],Rt[2],Rn[2],Rt[3],Rn[3]);break s}M+=B}t.bezierCurveTo(N,F,U,z,G,H),u=G,c=H;break;case Re.Q:var N=_[I++],F=_[I++],U=_[I++],z=_[I++];if(A){var B=p[C++];if(M+B>v){var k=(v-M)/B;TH(u,N,U,k,Rt),TH(c,F,z,k,Rn),t.quadraticCurveTo(Rt[1],Rn[1],Rt[2],Rn[2]);break s}M+=B}t.quadraticCurveTo(N,F,U,z),u=U,c=z;break;case Re.A:var V=_[I++],j=_[I++],W=_[I++],X=_[I++],Y=_[I++],Z=_[I++],K=_[I++],J=!_[I++],Q=W>X?W:X,q=Rh(W-X)>.001,$=Y+Z,ee=!1;if(A){var B=p[C++];M+B>v&&($=Y+Z*(v-M)/B,ee=!0),M+=B}if(q&&t.ellipse?t.ellipse(V,j,W,X,K,Y,$,J):t.arc(V,j,Q,Y,$,J),ee)break s;R&&(i=Ru(Y)*W+V,s=Rc(Y)*X+j),u=Ru($)*W+V,c=Rc($)*X+j;break;case Re.R:i=u=_[I],s=c=_[I+1],h=_[I++],f=_[I++];var et=_[I++],en=_[I++];if(A){var B=p[C++];if(M+B>v){var er=v-M;t.moveTo(h,f),t.lineTo(h+Rs(er,et),f),(er-=et)>0&&t.lineTo(h+et,f+Rs(er,en)),(er-=en)>0&&t.lineTo(h+Rl(et-er,0),f+en),(er-=et)>0&&t.lineTo(h,f+Rl(en-er,0));break s}M+=B}t.rect(h,f,et,en);break;case Re.Z:if(A){var B=p[C++];if(M+B>v){var k=(v-M)/B;t.lineTo(u*(1-k)+i*k,c*(1-k)+s*k);break s}M+=B}t.closePath(),u=i,c=s}}},r.prototype.clone=function(){var t=new r,i=this.data;return t.data=i.slice?i.slice():Array.prototype.slice.call(i),t._len=this._len,t},r.CMD=Re,r.initDefaultProps=void((t=r.prototype)._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0),r}();function Rx(t,r,i,s,u,c,h){if(0===u)return!1;var f=0,p=t;if(h>r+u&&h>s+u||h<r-u&&h<s-u||c>t+u&&c>i+u||c<t-u&&c<i-u)return!1;if(t===i)return Math.abs(c-t)<=u/2;f=(r-s)/(t-i),p=(t*s-i*r)/(t-i);var v=f*c-h+p;return v*v/(f*f+1)<=u/2*u/2}function R_(t,r,i,s,u,c,h,f,p){return 0!==h&&(!(p>r+h)||!(p>s+h)||!(p>c+h))&&(!(p<r-h)||!(p<s-h)||!(p<c-h))&&(!(f>t+h)||!(f>i+h)||!(f>u+h))&&(!(f<t-h)||!(f<i-h)||!(f<u-h))&&TV(t,r,i,s,u,c,f,p,null)<=h/2}var Rb=2*Math.PI;function Rw(t){return(t%=Rb)<0&&(t+=Rb),t}var RS=2*Math.PI;function RA(t,r,i,s,u,c){if(c>r&&c>s||c<r&&c<s||s===r)return 0;var h=(c-r)/(s-r),f=s<r?1:-1;(1===h||0===h)&&(f=s<r?.5:-.5);var p=h*(i-t)+t;return p===u?1/0:p>u?f:0}var RM=Ry.CMD,RC=2*Math.PI,RT=[-1,-1,-1],RE=[-1,-1];function RI(t,r,i,s,u){for(var c,h,f=t.data,p=t.len(),v=0,y=0,x=0,_=0,b=0,w=0;w<p;){var S,A,M,C,T,I,D,R,P,L,B,k=f[w++],O=1===w;switch(k===RM.M&&w>1&&!i&&(v+=RA(y,x,_,b,s,u)),O&&(y=f[w],x=f[w+1],_=y,b=x),k){case RM.M:_=f[w++],b=f[w++],y=_,x=b;break;case RM.L:if(i){if(Rx(y,x,f[w],f[w+1],r,s,u))return!0}else v+=RA(y,x,f[w],f[w+1],s,u)||0;y=f[w++],x=f[w++];break;case RM.C:if(i){;if(S=y,A=x,M=f[w++],C=f[w++],T=f[w++],I=f[w++],D=f[w],R=f[w+1],P=r,L=s,B=u,0!==P&&(!(B>A+P)||!(B>C+P)||!(B>I+P)||!(B>R+P))&&(!(B<A-P)||!(B<C-P)||!(B<I-P)||!(B<R-P))&&(!(L>S+P)||!(L>M+P)||!(L>T+P)||!(L>D+P))&&(!(L<S-P)||!(L<M-P)||!(L<T-P)||!(L<D-P))&&TF(S,A,M,C,T,I,D,R,L,B,null)<=P/2)return!0}else v+=function(t,r,i,s,u,c,h,f,p,v){if(v>r&&v>s&&v>c&&v>f||v<r&&v<s&&v<c&&v<f)return 0;var y=Tk(r,s,c,f,v,RT);if(0===y)return 0;for(var x=0,_=-1,b=void 0,w=void 0,S=0;S<y;S++){var A=RT[S],M=0===A||1===A?.5:1;if(!(TL(t,i,u,h,A)<p))_<0&&(_=TO(r,s,c,f,RE),RE[1]<RE[0]&&_>1&&!function(){var t=RE[0];RE[0]=RE[1],RE[1]=t}(),b=TL(r,s,c,f,RE[0]),_>1&&(w=TL(r,s,c,f,RE[1]))),2===_?A<RE[0]?x+=b<r?M:-M:A<RE[1]?x+=w<b?M:-M:x+=f<w?M:-M:A<RE[0]?x+=b<r?M:-M:x+=f<b?M:-M}return x}(y,x,f[w++],f[w++],f[w++],f[w++],f[w],f[w+1],s,u)||0;y=f[w++],x=f[w++];break;case RM.Q:if(i){if(R_(y,x,f[w++],f[w++],f[w],f[w+1],r,s,u))return!0}else v+=function(t,r,i,s,u,c,h,f){if(f>r&&f>s&&f>c||f<r&&f<s&&f<c)return 0;var p=function(t,r,i,s,u){var c=t-2*r+i,h=2*(r-t),f=t-s,p=0;if(TR(c)){if(TP(h)){var v=-f/h;v>=0&&v<=1&&(u[p++]=v)}}else{var y=h*h-4*c*f;if(TR(y)){var v=-h/(2*c);v>=0&&v<=1&&(u[p++]=v)}else if(y>0){var x=TM(y),v=(-h+x)/(2*c),_=(-h-x)/(2*c);v>=0&&v<=1&&(u[p++]=v),_>=0&&_<=1&&(u[p++]=_)}}return p}(r,s,c,f,RT);if(0===p)return 0;var v=TG(r,s,c);if(v>=0&&v<=1){for(var y=0,x=TU(r,s,c,v),_=0;_<p;_++){var b=0===RT[_]||1===RT[_]?.5:1,w=TU(t,i,u,RT[_]);if(!(w<h))RT[_]<v?y+=x<r?b:-b:y+=c<x?b:-b}return y}var b=0===RT[0]||1===RT[0]?.5:1,w=TU(t,i,u,RT[0]);return w<h?0:c<r?b:-b}(y,x,f[w++],f[w++],f[w],f[w+1],s,u)||0;y=f[w++],x=f[w++];break;case RM.A:var N=f[w++],F=f[w++],U=f[w++],z=f[w++],G=f[w++],H=f[w++];w+=1;var V=!!(1-f[w++]);c=Math.cos(G)*U+N,h=Math.sin(G)*z+F,O?(_=c,b=h):v+=RA(y,x,c,h,s,u);var j=(s-N)*z/U+N;if(i){if(function(t,r,i,s,u,c,h,f,p){if(0===h)return!1;var v=Math.sqrt((f-=t)*f+(p-=r)*p);if(v-h>i||v+h<i)return!1;if(Math.abs(s-u)%RS<1e-4)return!0;if(c){var y=s;s=Rw(u),u=Rw(y)}else s=Rw(s),u=Rw(u);s>u&&(u+=RS);var x=Math.atan2(p,f);return x<0&&(x+=RS),x>=s&&x<=u||x+RS>=s&&x+RS<=u}(N,F,z,G,G+H,V,r,j,u))return!0}else v+=function(t,r,i,s,u,c,h,f){if((f-=r)>i||f<-i)return 0;var p=Math.sqrt(i*i-f*f);RT[0]=-p,RT[1]=p;var v=Math.abs(s-u);if(v<1e-4)return 0;if(v>=RC-1e-4){s=0,u=RC;var y=c?1:-1;return h>=RT[0]+t&&h<=RT[1]+t?y:0}if(s>u){var x=s;s=u,u=x}s<0&&(s+=RC,u+=RC);for(var _=0,b=0;b<2;b++){var w=RT[b];if(w+t>h){var S=Math.atan2(f,w),y=c?1:-1;S<0&&(S=RC+S),(S>=s&&S<=u||S+RC>=s&&S+RC<=u)&&(S>Math.PI/2&&S<1.5*Math.PI&&(y=-y),_+=y)}}return _}(N,F,z,G,G+H,V,j,u);y=Math.cos(G+H)*U+N,x=Math.sin(G+H)*z+F;break;case RM.R:_=y=f[w++],b=x=f[w++];var W=f[w++],X=f[w++];if(c=_+W,h=b+X,i){if(Rx(_,b,c,b,r,s,u)||Rx(c,b,c,h,r,s,u)||Rx(c,h,_,h,r,s,u)||Rx(_,h,_,b,r,s,u))return!0}else v+=RA(c,b,c,h,s,u),v+=RA(_,h,_,b,s,u);break;case RM.Z:if(i){if(Rx(y,x,_,b,r,s,u))return!0}else v+=RA(y,x,_,b,s,u);y=_,x=b}}if(!i&&!(1e-4>Math.abs(x-b)))v+=RA(y,x,_,b,s,u)||0;return 0!==v}var RD=Mm({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DW),RR={style:Mm({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DX.style)},RP=Ir.concat(["invisible","culling","z","z2","zlevel","parent"]);let RL=function(t){var r;function i(r){return t.call(this,r)||this}return AK(i,t),i.prototype.update=function(){var r=this;t.prototype.update.call(this);var s=this.style;if(s.decal){var u=this._decalEl=this._decalEl||new i;u.buildPath===i.prototype.buildPath&&(u.buildPath=function(t){r.buildPath(t,r.shape)}),u.silent=!0;var c=u.style;for(var h in s)c[h]!==s[h]&&(c[h]=s[h]);c.fill=s.fill?s.decal:null,c.decal=null,c.shadowColor=null,s.strokeFirst&&(c.stroke=null);for(var f=0;f<RP.length;++f)u[RP[f]]=this[RP[f]];u.__dirty|=1}else this._decalEl&&(this._decalEl=null)},i.prototype.getDecalElement=function(){return this._decalEl},i.prototype._init=function(r){var i=MT(r);this.shape=this.getDefaultShape();var s=this.getDefaultStyle();s&&this.useStyle(s);for(var u=0;u<i.length;u++){var c=i[u],h=r[c];"style"===c?this.style?Mg(this.style,h):this.useStyle(h):"shape"===c?Mg(this.shape,h):t.prototype.attrKV.call(this,c,h)}!this.style&&this.useStyle({})},i.prototype.getDefaultStyle=function(){return null},i.prototype.getDefaultShape=function(){return{}},i.prototype.canBeInsideText=function(){return this.hasFill()},i.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(MP(t)){var r=Eu(t,0);return r>.5?E5:r>.2?"#eee":E4}if(t)return E4}return E5},i.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(MP(r)){var i=this.__zr;if(!!(i&&i.isDarkMode())==.4>Eu(t,0))return r}},i.prototype.buildPath=function(t,r,i){},i.prototype.pathUpdated=function(){this.__dirty&=-5},i.prototype.getUpdatedPathProxy=function(t){return this.path||this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},i.prototype.createPathProxy=function(){this.path=new Ry(!1)},i.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(null==r||"none"===r||!(t.lineWidth>0))},i.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},i.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,i=!t;if(i){var s=!1;!this.path&&(s=!0,this.createPathProxy());var u=this.path;(s||4&this.__dirty)&&(u.beginPath(),this.buildPath(u,this.shape,!1),this.pathUpdated()),t=u.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var c=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){c.copy(t);var h=r.strokeNoScale?this.getLineScale():1,f=r.lineWidth;if(!this.hasFill()){var p=this.strokeContainThreshold;f=Math.max(f,null==p?4:p)}h>1e-10&&(c.width+=f/h,c.height+=f/h,c.x-=f/h/2,c.y-=f/h/2)}return c}return t},i.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),s=this.getBoundingRect(),u=this.style;if(t=i[0],r=i[1],s.contain(t,r)){var c=this.path;if(this.hasStroke()){var h=u.lineWidth,f=u.strokeNoScale?this.getLineScale():1;if(f>1e-10){if(!this.hasFill()&&(h=Math.max(h,this.strokeContainThreshold)),RI(c,h/f,!0,t,r))return!0}}if(this.hasFill())return RI(c,0,!1,t,r)}return!1},i.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},i.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},i.prototype.animateShape=function(t){return this.animate("shape",t)},i.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},i.prototype.attrKV=function(r,i){"shape"===r?this.setShape(i):t.prototype.attrKV.call(this,r,i)},i.prototype.setShape=function(t,r){var i=this.shape;return!i&&(i=this.shape={}),"string"==typeof t?i[t]=r:Mg(i,t),this.dirtyShape(),this},i.prototype.shapeChanged=function(){return!!(4&this.__dirty)},i.prototype.createStyle=function(t){return M5(RD,t)},i.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var i=this._normalState;r.shape&&!i.shape&&(i.shape=Mg({},this.shape))},i.prototype._applyStateObj=function(r,i,s,u,c,h){t.prototype._applyStateObj.call(this,r,i,s,u,c,h);var f,p=!(i&&u);if(i&&i.shape?c?u?f=i.shape:(f=Mg({},s.shape),Mg(f,i.shape)):(f=Mg({},u?this.shape:s.shape),Mg(f,i.shape)):p&&(f=s.shape),f){if(c){this.shape=Mg({},this.shape);for(var v={},y=MT(f),x=0;x<y.length;x++){var _=y[x];"object"==typeof f[_]?this.shape[_]=f[_]:v[_]=f[_]}this._transitionState(r,{shape:v},h)}else this.shape=f,this.dirtyShape()}},i.prototype._mergeStates=function(r){for(var i,s=t.prototype._mergeStates.call(this,r),u=0;u<r.length;u++){var c=r[u];c.shape&&(i=i||{},this._mergeStyle(i,c.shape))}return i&&(s.shape=i),s},i.prototype.getAnimationStyleProps=function(){return RR},i.prototype.isZeroArea=function(){return!1},i.extend=function(t){var r=function(r){function i(i){var s=r.call(this,i)||this;return t.init&&t.init.call(s,i),s}return AK(i,r),i.prototype.getDefaultStyle=function(){return Md(t.style)},i.prototype.getDefaultShape=function(){return Md(t.shape)},i}(i);for(var s in t)"function"==typeof t[s]&&(r.prototype[s]=t[s]);return r},i.initDefaultProps=void((r=i.prototype).type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=7),i}(DK);var RB=Mm({strokeFirst:!0,font:A5,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},RD),Rk=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return null!=r&&"none"!==r&&t.lineWidth>0},r.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},r.prototype.createStyle=function(t){return M5(RB,t)},r.prototype.setBoundingRect=function(t){this._rect=t},r.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var r=t.text;null!=r?r+="":r="";var i=Il(r,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var s=t.lineWidth;i.x-=s/2,i.y-=s/2,i.width+=s,i.height+=s}this._rect=i}return this._rect},r.initDefaultProps=void(r.prototype.dirtyRectTolerance=10),r}(DK);Rk.prototype.type="tspan";var RO=Mm({x:0,y:0},DW),RN={style:Mm({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DX.style)},RF=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.createStyle=function(t){return M5(RO,t)},r.prototype._getSize=function(t){var r,i=this.style,s=i[t];if(null!=s)return s;var u=(r=i.image)&&"string"!=typeof r&&r.width&&r.height?i.image:this.__image;if(!u)return 0;var c="width"===t?"height":"width",h=i[c];return null==h?u[t]:u[t]/u[c]*h},r.prototype.getWidth=function(){return this._getSize("width")},r.prototype.getHeight=function(){return this._getSize("height")},r.prototype.getAnimationStyleProps=function(){return RN},r.prototype.getBoundingRect=function(){var t=this.style;return!this._rect&&(this._rect=new Ti(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},r}(DK);RF.prototype.type="image";let RU=RF;var Rz=Math.round;function RG(t,r,i){if(!!r){var s=r.x1,u=r.x2,c=r.y1,h=r.y2;t.x1=s,t.x2=u,t.y1=c,t.y2=h;var f=i&&i.lineWidth;return f?(Rz(2*s)===Rz(2*u)&&(t.x1=t.x2=RV(s,f,!0)),Rz(2*c)===Rz(2*h)&&(t.y1=t.y2=RV(c,f,!0)),t):t}}function RH(t,r,i){if(!!r){var s=r.x,u=r.y,c=r.width,h=r.height;t.x=s,t.y=u,t.width=c,t.height=h;var f=i&&i.lineWidth;return f?(t.x=RV(s,f,!0),t.y=RV(u,f,!0),t.width=Math.max(RV(s+c,f,!1)-t.x,0===c?0:1),t.height=Math.max(RV(u+h,f,!1)-t.y,0===h?0:1),t):t}}function RV(t,r,i){if(!r)return t;var s=Rz(2*t);return(s+Rz(r))%2==0?s/2:(s+(i?1:-1))/2}var Rj=function(){this.x=0,this.y=0,this.width=0,this.height=0},RW={},RX=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultShape=function(){return new Rj},r.prototype.buildPath=function(t,r){if(this.subPixelOptimize){var i,s,u,c,h,f,p,v,y,x,_,b,w,S,A,M,C=RH(RW,r,this.style);w=C.x,S=C.y,A=C.width,M=C.height,C.r=r.r,r=C}else w=r.x,S=r.y,A=r.width,M=r.height;if(r.r){;i=t,v=(s=r).x,y=s.y,x=s.width,_=s.height,b=s.r,x<0&&(v+=x,x=-x),_<0&&(y+=_,_=-_),"number"==typeof b?u=c=h=f=b:b instanceof Array?1===b.length?u=c=h=f=b[0]:2===b.length?(u=h=b[0],c=f=b[1]):3===b.length?(u=b[0],c=f=b[1],h=b[2]):(u=b[0],c=b[1],h=b[2],f=b[3]):u=c=h=f=0,u+c>x&&(p=u+c,u*=x/p,c*=x/p),h+f>x&&(p=h+f,h*=x/p,f*=x/p),c+h>_&&(p=c+h,c*=_/p,h*=_/p),u+f>_&&(p=u+f,u*=_/p,f*=_/p),i.moveTo(v+u,y),i.lineTo(v+x-c,y),0!==c&&i.arc(v+x-c,y+c,c,-Math.PI/2,0),i.lineTo(v+x,y+_-h),0!==h&&i.arc(v+x-h,y+_-h,h,0,Math.PI/2),i.lineTo(v+f,y+_),0!==f&&i.arc(v+f,y+_-f,f,Math.PI/2,Math.PI),i.lineTo(v,y+u),0!==u&&i.arc(v+u,y+u,u,Math.PI,1.5*Math.PI)}else t.rect(w,S,A,M)},r.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},r}(RL);RX.prototype.type="rect";let RY=RX;var RZ={fill:"#000"},RK={style:Mm({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DX.style)},RJ=function(t){function r(r){var i=t.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=RZ,i.attr(r),i}return AK(r,t),r.prototype.childrenRef=function(){return this._children},r.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var i=this._children[r];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},r.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},r.prototype.getLocalTransform=function(r){var i=this.innerTransformable;return i?i.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},r.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},r.prototype._updateSubTexts=function(){this._childCursor=0,function(t){R3(t),Mw(t.rich,R3)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},r.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var i=0;i<this._children.length;i++)this._children[i].__zr=r},r.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},r.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Ti(0,0,0,0),r=this._children,i=[],s=null,u=0;u<r.length;u++){var c=r[u],h=c.getBoundingRect(),f=c.getLocalTransform(i);f?(t.copy(h),t.applyTransform(f),(s=s||t.clone()).union(t)):(s=s||h.clone()).union(h)}this._rect=s||t}return this._rect},r.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||RZ},r.prototype.setTextContent=function(t){},r.prototype._mergeStyle=function(t,r){if(!r)return t;var i=r.rich,s=t.rich||i&&{};return Mg(t,r),i&&s?(this._mergeRich(s,i),t.rich=s):s&&(t.rich=s),t},r.prototype._mergeRich=function(t,r){for(var i=MT(r),s=0;s<i.length;s++){var u=i[s];t[u]=t[u]||{},Mg(t[u],r[u])}},r.prototype.getAnimationStyleProps=function(){return RK},r.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},r.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||A5,i=t.padding,s=function(t,r){null!=t&&(t+="");var i,s=r.overflow,u=r.padding,c=r.font,h=Ih(c),f=Mj(r.lineHeight,h),p=!!r.backgroundColor,v="truncate"===r.lineOverflow,y=r.width,x=(i=null!=y&&("break"===s||"breakAll"===s)?t?DV(t,r.font,y,"breakAll"===s,0).lines:[]:t?t.split("\n"):[]).length*f,_=Mj(r.height,x);if(x>_&&v){var b=Math.floor(_/f);i=i.slice(0,b)}if(t&&"truncate"===s&&null!=y){for(var w=DO(y,c,r.ellipsis,{minChar:r.truncateMinChar,placeholder:r.placeholder}),S=0;S<i.length;S++)i[S]=DN(i[S],w)}for(var A=_,M=0,S=0;S<i.length;S++)M=Math.max(Io(i[S],c),M);null==y&&(y=M);var C=M;return u&&(A+=u[0]+u[2],C+=u[1]+u[3],y+=u[1]+u[3]),p&&(C=y),{lines:i,height:_,outerWidth:C,outerHeight:A,lineHeight:f,calculatedLineHeight:h,contentWidth:M,contentHeight:x,width:y}}(R8(t),t),u=R6(t),c=!!t.backgroundColor,h=s.outerHeight,f=s.outerWidth,p=s.contentWidth,v=s.lines,y=s.lineHeight,x=this._defaultStyle,_=t.x||0,b=t.y||0,w=t.align||x.align||"left",S=t.verticalAlign||x.verticalAlign||"top",A=_,M=Ic(b,s.contentHeight,S);if(u||i){var C=Iu(_,f,w),T=Ic(b,h,S);u&&this._renderBackground(t,t,C,T,f,h)}M+=y/2,i&&(A=R9(_,w,i),"top"===S?M+=i[0]:"bottom"===S&&(M-=i[2]));for(var I=0,D=!1,R=R4("fill"in t?t.fill:(D=!0,x.fill)),P=R5("stroke"in t?t.stroke:c||x.autoStroke&&!D?null:(I=2,x.stroke)),L=t.textShadowBlur>0,B=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),k=s.calculatedLineHeight,O=0;O<v.length;O++){var N=this._getOrCreateChild(Rk),F=N.createStyle();N.useStyle(F),F.text=v[O],F.x=A,F.y=M,w&&(F.textAlign=w),F.textBaseline="middle",F.opacity=t.opacity,F.strokeFirst=!0,L&&(F.shadowBlur=t.textShadowBlur||0,F.shadowColor=t.textShadowColor||"transparent",F.shadowOffsetX=t.textShadowOffsetX||0,F.shadowOffsetY=t.textShadowOffsetY||0),F.stroke=P,F.fill=R,P&&(F.lineWidth=t.lineWidth||I,F.lineDash=t.lineDash,F.lineDashOffset=t.lineDashOffset||0),F.font=r,R1(F,t),M+=y,B&&N.setBoundingRect(new Ti(Iu(F.x,t.width,F.textAlign),Ic(F.y,k,F.textBaseline),p,k))}},r.prototype._updateRichTexts=function(){var t=this.style,r=function(t,r){var i,s=new Dz;if(null!=t&&(t+=""),!t)return s;for(var u=r.width,c=r.height,h=r.overflow,f=("break"===h||"breakAll"===h)&&null!=u?{width:u,accumWidth:0,breakAll:"breakAll"===h}:null,p=DB.lastIndex=0;null!=(i=DB.exec(t));){var v=i.index;v>p&&DG(s,t.substring(p,v),r,f),DG(s,i[2],r,f,i[1]),p=DB.lastIndex}p<t.length&&DG(s,t.substring(p,t.length),r,f);var y=[],x=0,_=0,b=r.padding,w="truncate"===h,S="truncate"===r.lineOverflow;function A(t,r,i){t.width=r,t.lineHeight=i,x+=i,_=Math.max(_,r)}l:for(var M=0;M<s.lines.length;M++){for(var C=s.lines[M],T=0,I=0,D=0;D<C.tokens.length;D++){var R=C.tokens[D],P=R.styleName&&r.rich[R.styleName]||{},L=R.textPadding=P.padding,B=L?L[1]+L[3]:0,k=R.font=P.font||r.font;R.contentHeight=Ih(k);var O=Mj(P.height,R.contentHeight);if(R.innerHeight=O,L&&(O+=L[0]+L[2]),R.height=O,R.lineHeight=MW(P.lineHeight,r.lineHeight,O),R.align=P&&P.align||r.align,R.verticalAlign=P&&P.verticalAlign||"middle",S&&null!=c&&x+R.lineHeight>c){D>0?(C.tokens=C.tokens.slice(0,D),A(C,I,T),s.lines=s.lines.slice(0,M+1)):s.lines=s.lines.slice(0,M);break l}var N=P.width,F=null==N||"auto"===N;if("string"==typeof N&&"%"===N.charAt(N.length-1))R.percentWidth=N,y.push(R),R.contentWidth=Io(R.text,k);else{if(F){var U=P.backgroundColor,z=U&&U.image;z&&DL(z=function(t){if("string"!=typeof t)return t;var r=DD.get(t);return r&&r.image}(z))&&(R.width=Math.max(R.width,z.width*O/z.height))}var G=w&&null!=u?u-I:null;null!=G&&G<R.width?!F||G<B?(R.text="",R.width=R.contentWidth=0):(R.text=Dk(R.text,G-B,k,r.ellipsis,{minChar:r.truncateMinChar}),R.width=R.contentWidth=Io(R.text,k)):R.contentWidth=Io(R.text,k)}R.width+=B,I+=R.width,P&&(T=Math.max(T,R.lineHeight))}A(C,I,T)}s.outerWidth=s.width=Mj(u,_),s.outerHeight=s.height=Mj(c,x),s.contentHeight=x,s.contentWidth=_,b&&(s.outerWidth+=b[1]+b[3],s.outerHeight+=b[0]+b[2]);for(var M=0;M<y.length;M++){var R=y[M],H=R.percentWidth;R.width=parseInt(H,10)/100*s.width}return s}(R8(t),t),i=r.width,s=r.outerWidth,u=r.outerHeight,c=t.padding,h=t.x||0,f=t.y||0,p=this._defaultStyle,v=t.align||p.align,y=t.verticalAlign||p.verticalAlign,x=Iu(h,s,v),_=Ic(f,u,y),b=x,w=_;c&&(b+=c[3],w+=c[0]);var S=b+i;R6(t)&&this._renderBackground(t,t,x,_,s,u);for(var A=!!t.backgroundColor,M=0;M<r.lines.length;M++){for(var C=r.lines[M],T=C.tokens,I=T.length,D=C.lineHeight,R=C.width,P=0,L=b,B=S,k=I-1,O=void 0;P<I&&(!(O=T[P]).align||"left"===O.align);)this._placeToken(O,t,D,w,L,"left",A),R-=O.width,L+=O.width,P++;for(;k>=0&&"right"===(O=T[k]).align;)this._placeToken(O,t,D,w,B,"right",A),R-=O.width,B-=O.width,k--;for(L+=(i-(L-b)-(S-B)-R)/2;P<=k;)O=T[P],this._placeToken(O,t,D,w,L+O.width/2,"center",A),L+=O.width,P++;w+=D}},r.prototype._placeToken=function(t,r,i,s,u,c,h){var f=r.rich[t.styleName]||{};f.text=t.text;var p=t.verticalAlign,v=s+i/2;"top"===p?v=s+t.height/2:"bottom"===p&&(v=s+i-t.height/2),!t.isLineHolder&&R6(f)&&this._renderBackground(f,r,"right"===c?u-t.width:"center"===c?u-t.width/2:u,v-t.height/2,t.width,t.height);var y=!!f.backgroundColor,x=t.textPadding;x&&(u=R9(u,c,x),v-=t.height/2-x[0]-t.innerHeight/2);var _=this._getOrCreateChild(Rk),b=_.createStyle();_.useStyle(b);var w=this._defaultStyle,S=!1,A=0,M=R4("fill"in f?f.fill:"fill"in r?r.fill:(S=!0,w.fill)),C=R5("stroke"in f?f.stroke:"stroke"in r?r.stroke:y||h||w.autoStroke&&!S?null:(A=2,w.stroke)),T=f.textShadowBlur>0||r.textShadowBlur>0;b.text=t.text,b.x=u,b.y=v,T&&(b.shadowBlur=f.textShadowBlur||r.textShadowBlur||0,b.shadowColor=f.textShadowColor||r.textShadowColor||"transparent",b.shadowOffsetX=f.textShadowOffsetX||r.textShadowOffsetX||0,b.shadowOffsetY=f.textShadowOffsetY||r.textShadowOffsetY||0),b.textAlign=c,b.textBaseline="middle",b.font=t.font||A5,b.opacity=MW(f.opacity,r.opacity,1),R1(b,f),C&&(b.lineWidth=MW(f.lineWidth,r.lineWidth,A),b.lineDash=Mj(f.lineDash,r.lineDash),b.lineDashOffset=r.lineDashOffset||0,b.stroke=C),M&&(b.fill=M);var I=t.contentWidth,D=t.contentHeight;_.setBoundingRect(new Ti(Iu(b.x,I,b.textAlign),Ic(b.y,D,b.textBaseline),I,D))},r.prototype._renderBackground=function(t,r,i,s,u,c){var h,f,p=t.backgroundColor,v=t.borderWidth,y=t.borderColor,x=p&&p.image,_=p&&!x,b=t.borderRadius,w=this;if(_||t.lineHeight||v&&y){(h=this._getOrCreateChild(RY)).useStyle(h.createStyle()),h.style.fill=null;var S=h.shape;S.x=i,S.y=s,S.width=u,S.height=c,S.r=b,h.dirtyShape()}if(_){var A=h.style;A.fill=p||null,A.fillOpacity=Mj(t.fillOpacity,1)}else if(x){(f=this._getOrCreateChild(RU)).onload=function(){w.dirtyStyle()};var M=f.style;M.image=p.image,M.x=i,M.y=s,M.width=u,M.height=c}if(v&&y){var A=h.style;A.lineWidth=v,A.stroke=y,A.strokeOpacity=Mj(t.strokeOpacity,1),A.lineDash=t.borderDash,A.lineDashOffset=t.borderDashOffset||0,h.strokeContainThreshold=0,h.hasFill()&&h.hasStroke()&&(A.strokeFirst=!0,A.lineWidth*=2)}var C=(h||f).style;C.shadowBlur=t.shadowBlur||0,C.shadowColor=t.shadowColor||"transparent",C.shadowOffsetX=t.shadowOffsetX||0,C.shadowOffsetY=t.shadowOffsetY||0,C.opacity=MW(t.opacity,r.opacity,1)},r.makeFont=function(t){var r="";return R2(t)&&(r=[t.fontStyle,t.fontWeight,R0(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&MK(r)||t.textFont||t.font},r}(DK),RQ={left:!0,right:1,center:1},Rq={top:1,bottom:1,middle:1},R$=["fontStyle","fontWeight","fontSize","fontFamily"];function R0(t){return"string"==typeof t&&(-1!==t.indexOf("px")||-1!==t.indexOf("rem")||-1!==t.indexOf("em"))?t:isNaN(+t)?"12px":t+"px"}function R1(t,r){for(var i=0;i<R$.length;i++){var s=R$[i],u=r[s];null!=u&&(t[s]=u)}}function R2(t){return null!=t.fontSize||t.fontFamily||t.fontWeight}function R3(t){if(t){t.font=RJ.makeFont(t);var r=t.align;"middle"===r&&(r="center"),t.align=null==r||RQ[r]?r:"left";var i=t.verticalAlign;"center"===i&&(i="middle"),t.verticalAlign=null==i||Rq[i]?i:"top",t.padding&&(t.padding=MY(t.padding))}}function R5(t,r){return null==t||r<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function R4(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function R9(t,r,i){return"right"===r?t-i[1]:"center"===r?t+i[3]/2-i[1]/2:t+i[3]}function R8(t){var r=t.text;return null!=r&&(r+=""),r}function R6(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}let R7=RJ;var Pe=Dl(),Pt=function(t,r,i,s){if(s){var u=Pe(s);u.dataIndex=i,u.dataType=r,u.seriesIndex=t,u.ssrType="chart","group"===s.type&&s.traverse(function(s){var u=Pe(s);u.seriesIndex=t,u.dataIndex=i,u.dataType=r,u.ssrType="chart"})}},Pn=1,Pr={},Pi=Dl(),Pa=Dl(),Po=["emphasis","blur","select"],Ps=["normal","emphasis","blur","select"],Pl="highlight",Pu="downplay",Pc="select",Ph="unselect",Pd="toggleSelect";function Pf(t){return null!=t&&"none"!==t}function Pp(t,r,i){t.onHoverStateChange&&(t.hoverState||0)!==i&&t.onHoverStateChange(r),t.hoverState=i}function Pg(t){Pp(t,"emphasis",2)}function Pm(t){2===t.hoverState&&Pp(t,"normal",0)}function Pv(t){Pp(t,"blur",1)}function Py(t){1===t.hoverState&&Pp(t,"normal",0)}function Px(t){t.selected=!0}function P_(t){t.selected=!1}function Pb(t,r,i){r(t,i)}function Pw(t,r,i){r(t,i),t.isGroup&&t.traverse(function(t){r(t,i)})}function PS(t,r){switch(r){case"emphasis":t.hoverState=2;break;case"normal":t.hoverState=0;break;case"blur":t.hoverState=1;break;case"select":t.selected=!0}}function PA(t,r){var i,s,u,c,h,f,p,v=this.states[t];if(this.style){if("emphasis"===t)return function(t,r,i,s){var u=i&&My(i,"select")>=0,c=!1;if(t instanceof RL){var h=Pi(t),f=u&&h.selectFill||h.normalFill,p=u&&h.selectStroke||h.normalStroke;if(Pf(f)||Pf(p)){var v=(s=s||{}).style||{};"inherit"===v.fill?(c=!0,s=Mg({},s),(v=Mg({},v)).fill=f):!Pf(v.fill)&&Pf(f)?(c=!0,s=Mg({},s),(v=Mg({},v)).fill=Ed(f)):!Pf(v.stroke)&&Pf(p)&&(!c&&(s=Mg({},s),v=Mg({},v)),v.stroke=Ed(p)),s.style=v}}if(s&&null==s.z2){!c&&(s=Mg({},s));var y=t.z2EmphasisLift;s.z2=t.z2+(null!=y?y:10)}return s}(this,0,r,v);if("blur"===t){;return i=this,s=t,u=v,c=My(i.currentStates,s)>=0,h=i.style.opacity,f=c?null:function(t,r,i,s){for(var u=t.style,c={},h=0;h<r.length;h++){var f=r[h],p=u[f];c[f]=null==p?s&&s[f]:p}for(var h=0;h<t.animators.length;h++){var v=t.animators[h];v.__fromStateTransition&&0>v.__fromStateTransition.indexOf(i)&&"style"===v.targetName&&v.saveTo(c,r)}return c}(i,["opacity"],s,{opacity:1}),null==(p=(u=u||{}).style||{}).opacity&&(u=Mg({},u),p=Mg({opacity:c?h:.1*f.opacity},p),u.style=p),u}else if("select"===t)return function(t,r,i){if(i&&null==i.z2){i=Mg({},i);var s=t.z2SelectLift;i.z2=t.z2+(null!=s?s:9)}return i}(this,0,v)}return v}function PM(t){t.stateProxy=PA;var r=t.getTextContent(),i=t.getTextGuideLine();r&&(r.stateProxy=PA),i&&(i.stateProxy=PA)}function PC(t,r){PB(t,r)||t.__highByOuter||Pw(t,Pg)}function PT(t,r){PB(t,r)||t.__highByOuter||Pw(t,Pm)}function PE(t,r){t.__highByOuter|=1<<(r||0),Pw(t,Pg)}function PI(t,r){(t.__highByOuter&=~(1<<(r||0)))||Pw(t,Pm)}function PD(t){Pw(t,Pv)}function PR(t){Pw(t,Py)}function PP(t){Pw(t,Px)}function PL(t){Pw(t,P_)}function PB(t,r){return t.__highDownSilentOnTouch&&r.zrByTouch}function Pk(t){var r=t.getModel(),i=[],s=[];r.eachComponent(function(r,u){var c=Pa(u),h="series"===r,f=h?t.getViewOfSeriesModel(u):t.getViewOfComponentModel(u);h||s.push(f),c.isBlured&&(f.group.traverse(function(t){Py(t)}),h&&i.push(u)),c.isBlured=!1}),Mw(s,function(t){t&&t.toggleBlurSeries&&t.toggleBlurSeries(i,!1,r)})}function PO(t,r,i,s){var u=s.getModel();function c(t,r){for(var i=0;i<r.length;i++){var s=t.getItemGraphicEl(r[i]);s&&Pw(s,Py)}}if(i=i||"coordinateSystem",null!=t&&!!r&&"none"!==r){var h=u.getSeriesByIndex(t),f=h.coordinateSystem;f&&f.master&&(f=f.master);var p=[];u.eachSeries(function(t){var u=h===t,v=t.coordinateSystem;v&&v.master&&(v=v.master);var y=v&&f?v===f:u;if(!("series"===i&&!u||"coordinateSystem"===i&&!y||"series"===r&&u)){if(s.getViewOfSeriesModel(t).group.traverse(function(t){if(!t.__highByOuter||!u||"self"!==r)Pv(t)}),Mb(r))c(t.getData(),r);else if(Mk(r)){for(var x=MT(r),_=0;_<x.length;_++)c(t.getData(x[_]),r[x[_]])}p.push(t),Pa(t).isBlured=!0}}),u.eachComponent(function(t,r){if("series"!==t){var i=s.getViewOfComponentModel(r);i&&i.toggleBlurSeries&&i.toggleBlurSeries(p,!0,u)}})}}function PN(t,r,i){if(null==t||null==r)return;var s=i.getModel().getComponent(t,r);if(!s)return;Pa(s).isBlured=!0;var u=i.getViewOfComponentModel(s);if(!!u&&!!u.focusBlurEnabled)u.group.traverse(function(t){Pv(t)})}function PF(t,r,i,s){var u,c={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==r||null==i)return c;var h=s.getModel().getComponent(t,r);if(!h)return c;var f=s.getViewOfComponentModel(h);if(!f||!f.findHighDownDispatchers)return c;for(var p=f.findHighDownDispatchers(i),v=0;v<p.length;v++)if("self"===Pe(p[v]).focus){u=!0;break}return{focusSelf:u,dispatchers:p}}function PU(t){Mw(t.getAllData(),function(r){var i=r.data,s=r.type;i.eachItemGraphicEl(function(r,i){t.isSelected(i,s)?Pw(r,Px):Pw(r,P_)})})}function Pz(t,r,i){PX(t,!0),Pw(t,PM),PH(t,r,i)}function PG(t,r,i,s){s?PX(t,!1):Pz(t,r,i)}function PH(t,r,i){var s=Pe(t);null!=r?(s.focus=r,s.blurScope=i):s.focus&&(s.focus=null)}var PV=["emphasis","blur","select"],Pj={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function PW(t,r,i,s){i=i||"itemStyle";for(var u=0;u<PV.length;u++){var c=PV[u],h=r.getModel([c,i]);t.ensureState(c).style=s?s(h):h[Pj[i]]()}}function PX(t,r){var i=!1===r;t.highDownSilentOnTouch&&(t.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!i||t.__highDownDispatcher)&&(t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!i)}function PY(t){return!!(t&&t.__highDownDispatcher)}function PZ(t){var r=t.type;return r===Pc||r===Ph||r===Pd}function PK(t){var r=t.type;return r===Pl||r===Pu}var PJ=Dl();function PQ(t,r,i,s,u){if(r&&r.ecModel){var c,h=r.ecModel.getUpdatePayload();c=h&&h.animation}var f=r&&r.isAnimationEnabled(),p="update"===t;if(!f)return null;var v=void 0,y=void 0,x=void 0;return s?(v=Mj(s.duration,200),y=Mj(s.easing,"cubicOut"),x=0):(v=r.getShallow(p?"animationDurationUpdate":"animationDuration"),y=r.getShallow(p?"animationEasingUpdate":"animationEasing"),x=r.getShallow(p?"animationDelayUpdate":"animationDelay")),c&&(null!=c.duration&&(v=c.duration),null!=c.easing&&(y=c.easing),null!=c.delay&&(x=c.delay)),MR(x)&&(x=x(i,u)),MR(v)&&(v=v(i)),{duration:v||0,delay:x,easing:y}}function Pq(t,r,i,s,u,c,h){var f,p=!1;MR(u)?(h=c,c=u,u=null):Mk(u)&&(c=u.cb,h=u.during,p=u.isFrom,f=u.removeOpt,u=u.dataIndex);var v="leave"===t;!v&&r.stopAnimation("leave");var y=PQ(t,s,u,v?f||{}:null,s&&s.getAnimationDelayParams?s.getAnimationDelayParams(r,u):null);if(y&&y.duration>0){var x={duration:y.duration,delay:y.delay||0,easing:y.easing,done:c,force:!!c||!!h,setToFinal:!v,scope:t,during:h};p?r.animateFrom(i,x):r.animateTo(i,x)}else r.stopAnimation(),p||r.attr(i),h&&h(1),c&&c()}function P$(t,r,i,s,u,c){Pq("update",t,r,i,s,u,c)}function P0(t,r,i,s,u,c){Pq("enter",t,r,i,s,u,c)}function P1(t){if(!t.__zr)return!0;for(var r=0;r<t.animators.length;r++)if("leave"===t.animators[r].scope)return!0;return!1}function P2(t,r,i,s,u,c){if(!P1(t))Pq("leave",t,r,i,s,u,c)}function P3(t,r,i,s){t.removeTextContent(),t.removeTextGuideLine(),P2(t,{style:{opacity:0}},r,i,s)}function P5(t,r,i){function s(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(t){!t.isGroup&&P3(t,r,i,s)}):P3(t,r,i,s)}function P4(t){PJ(t).oldStyle=t.style}var P9={};function P8(t,r){for(var i=0;i<Po.length;i++){var s=Po[i],u=r[s],c=t.ensureState(s);c.style=c.style||{},c.style.text=u}var h=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:r.normal}),t.useStates(h,!0)}function P6(t,r,i){var s,u=t.labelFetcher,c=t.labelDataIndex,h=t.labelDimIndex,f=r.normal;u&&(s=u.getFormattedLabel(c,"normal",null,h,f&&f.get("formatter"),null!=i?{interpolatedValue:i}:null)),null==s&&(s=MR(t.defaultText)?t.defaultText(c,t,i):t.defaultText);for(var p={normal:s},v=0;v<Po.length;v++){var y=Po[v],x=r[y];p[y]=Mj(u?u.getFormattedLabel(c,y,null,h,x&&x.get("formatter")):null,s)}return p}function P7(t,r,i,s){i=i||P9;for(var u=t instanceof R7,c=!1,h=0;h<Ps.length;h++){var f=r[Ps[h]];if(f&&f.getShallow("show")){c=!0;break}}var p=u?t:t.getTextContent();if(c){!u&&(!p&&(p=new R7,t.setTextContent(p)),t.stateProxy&&(p.stateProxy=t.stateProxy));var v=P6(i,r),y=r.normal,x=!!y.getShallow("show"),_=Lt(y,s&&s.normal,i,!1,!u);_.text=v.normal,!u&&t.setTextConfig(Ln(y,i,!1));for(var h=0;h<Po.length;h++){var b=Po[h],f=r[b];if(f){var w=p.ensureState(b),S=!!Mj(f.getShallow("show"),x);S!==x&&(w.ignore=!S),w.style=Lt(f,s&&s[b],i,!0,!u),w.style.text=v[b],!u&&(t.ensureState(b).textConfig=Ln(f,i,!0))}}p.silent=!!y.getShallow("silent"),null!=p.style.x&&(_.x=p.style.x),null!=p.style.y&&(_.y=p.style.y),p.ignore=!x,p.useStyle(_),p.dirty(),i.enableTextSetter&&(Ll(p).setLabelText=function(t){var s=P6(i,r,t);P8(p,s)})}else p&&(p.ignore=!0);t.dirty()}function Le(t,r){r=r||"label";for(var i={normal:t.getModel(r)},s=0;s<Po.length;s++){var u=Po[s];i[u]=t.getModel([u,r])}return i}function Lt(t,r,i,s,u){var c={};return function(t,r,i,s,u){i=i||P9;var c,h=r.ecModel,f=h&&h.option.textStyle,p=function(t){for(var r;t&&t!==t.ecModel;){var i=(t.option||P9).rich;if(i){r=r||{};for(var s=MT(i),u=0;u<s.length;u++)r[s[u]]=1}t=t.parentModel}return r}(r);if(p){for(var v in c={},p)if(p.hasOwnProperty(v)){var y=r.getModel(["rich",v]);Lo(c[v]={},y,f,i,s,u,!1,!0)}}c&&(t.rich=c);var x=r.get("overflow");x&&(t.overflow=x);var _=r.get("minMargin");null!=_&&(t.margin=_),Lo(t,r,f,i,s,u,!0,!1)}(c,t,i,s,u),r&&Mg(c,r),c}function Ln(t,r,i){r=r||{};var s,u={},c=t.getShallow("rotate"),h=Mj(t.getShallow("distance"),i?null:5),f=t.getShallow("offset");return"outside"===(s=t.getShallow("position")||(i?null:"inside"))&&(s=r.defaultOutsidePosition||"top"),null!=s&&(u.position=s),null!=f&&(u.offset=f),null!=c&&(c*=Math.PI/180,u.rotation=c),null!=h&&(u.distance=h),u.outsideFill="inherit"===t.get("color")?r.inheritColor||null:"auto",u}var Lr=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Li=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],La=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Lo(t,r,i,s,u,c,h,f){i=!u&&i||P9;var p=s&&s.inheritColor,v=r.getShallow("color"),y=r.getShallow("textBorderColor"),x=Mj(r.getShallow("opacity"),i.opacity);("inherit"===v||"auto"===v)&&(v=p?p:null),("inherit"===y||"auto"===y)&&(y=p?p:null),!c&&(v=v||i.color,y=y||i.textBorderColor),null!=v&&(t.fill=v),null!=y&&(t.stroke=y);var _=Mj(r.getShallow("textBorderWidth"),i.textBorderWidth);null!=_&&(t.lineWidth=_);var b=Mj(r.getShallow("textBorderType"),i.textBorderType);null!=b&&(t.lineDash=b);var w=Mj(r.getShallow("textBorderDashOffset"),i.textBorderDashOffset);null!=w&&(t.lineDashOffset=w),!u&&null==x&&!f&&(x=s&&s.defaultOpacity),null!=x&&(t.opacity=x),!u&&!c&&null==t.fill&&s.inheritColor&&(t.fill=s.inheritColor);for(var S=0;S<Lr.length;S++){var A=Lr[S],M=Mj(r.getShallow(A),i[A]);null!=M&&(t[A]=M)}for(var S=0;S<Li.length;S++){var A=Li[S],M=r.getShallow(A);null!=M&&(t[A]=M)}if(null==t.verticalAlign){var C=r.getShallow("baseline");null!=C&&(t.verticalAlign=C)}if(!h||!s.disableBox){for(var S=0;S<La.length;S++){var A=La[S],M=r.getShallow(A);null!=M&&(t[A]=M)}var T=r.getShallow("borderType");null!=T&&(t.borderDash=T),("auto"===t.backgroundColor||"inherit"===t.backgroundColor)&&p&&(t.backgroundColor=p),("auto"===t.borderColor||"inherit"===t.borderColor)&&p&&(t.borderColor=p)}}function Ls(t,r){var i=r&&r.getModel("textStyle");return MK([t.fontStyle||i&&i.getShallow("fontStyle")||"",t.fontWeight||i&&i.getShallow("fontWeight")||"",(t.fontSize||i&&i.getShallow("fontSize")||12)+"px",t.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ll=Dl();function Lu(t,r,i,s){if(!!t){var u=Ll(t);u.prevValue=u.value,u.value=i;var c=r.normal;u.valueAnimation=c.get("valueAnimation"),u.valueAnimation&&(u.precision=c.get("precision"),u.defaultInterpolatedText=s,u.statesModels=r)}}function Lc(t,r,i,s,u){var c=Ll(t);if(!!c.valueAnimation&&c.prevValue!==c.value){var h=c.defaultInterpolatedText,f=Mj(c.interpolatedValue,c.prevValue),p=c.value;t.percent=0,(null==c.prevValue?P0:P$)(t,{percent:1},s,r,null,function(s){var v=Dv(i,c.precision,f,p,s);c.interpolatedValue=1===s?null:v,P8(t,P6({labelDataIndex:r,labelFetcher:u,defaultText:h?h(v):v+""},c.statesModels,v))})}}var Lh=["textStyle","color"],Ld=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Lf=new R7,Lp=function(){function t(){}return t.prototype.getTextColor=function(t){var r=this.ecModel;return this.getShallow("color")||(!t&&r?r.get(Lh):null)},t.prototype.getFont=function(){return Ls({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){for(var r={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<Ld.length;i++)r[Ld[i]]=this.getShallow(Ld[i]);return Lf.useStyle(r),Lf.update(),Lf.getBoundingRect()},t}(),Lg=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Lm=DT(Lg),Lv=function(){function t(){}return t.prototype.getLineStyle=function(t){return Lm(this,t)},t}(),Ly=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Lx=DT(Ly),L_=function(){function t(){}return t.prototype.getItemStyle=function(t,r){return Lx(this,t,r)},t}(),Lb=function(){function t(t,r,i){this.parentModel=r,this.ecModel=i,this.option=t}return t.prototype.init=function(t,r,i){for(var s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u]},t.prototype.mergeOption=function(t,r){Mf(this.option,t,!0)},t.prototype.get=function(t,r){return null==t?this.option:this._doGet(this.parsePath(t),!r&&this.parentModel)},t.prototype.getShallow=function(t,r){var i=this.option,s=null==i?i:i[t];if(null==s&&!r){var u=this.parentModel;u&&(s=u.getShallow(t))}return s},t.prototype.getModel=function(r,i){var s=null!=r,u=s?this.parsePath(r):null,c=s?this._doGet(u):this.option;return new t(c,i=i||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(u)),this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){return new this.constructor(Md(this.option))},t.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!A2.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,r){var i=this.option;if(!t)return i;for(var s=0;s<t.length;s++){if(!!t[s]){if(null==(i=i&&"object"==typeof i?i[t[s]]:null))break}}return null==i&&r&&(i=r._doGet(this.resolveParentPath(t),r.parentModel)),i},t}();Db(Lb),!function(t){var r=["__\0is_clz",DS++].join("_");t.prototype[r]=!0;t.isInstance=function(t){return!!(t&&t[r])}}(Lb),M_(Lb,Lv),M_(Lb,L_),M_(Lb,DI),M_(Lb,Lp);let Lw=Lb;var LS=Math.round(10*Math.random());function LA(t){return[t||"",LS++].join("_")}function LM(t,r){return Mf(Mf({},t,!0),r,!0)}var LC={},LT={},LE=A2.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||"EN").toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function LI(t,r){LT[t=t.toUpperCase()]=new Lw(r),LC[t]=r}function LD(t){return LT[t]}LI("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),LI("ZH",{time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}});var LR=6e4,LP=36e5,LL=864e5,LB=31536e6,Lk={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},LO="{yyyy}-{MM}-{dd}",LN={year:"{yyyy}",month:"{yyyy}-{MM}",day:LO,hour:LO+" "+Lk.hour,minute:LO+" "+Lk.minute,second:LO+" "+Lk.second,millisecond:Lk.none},LF=["year","month","day","hour","minute","second","millisecond"],LU=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Lz(t,r){return t+="","0000".substr(0,r-t.length)+t}function LG(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function LH(t,r,i,s){var u=IZ(t),c=u[LW(i)](),h=u[LX(i)]()+1,f=Math.floor((h-1)/3)+1,p=u[LY(i)](),v=u["get"+(i?"UTC":"")+"Day"](),y=u[LZ(i)](),x=(y-1)%12+1,_=u[LK(i)](),b=u[LJ(i)](),w=u[LQ(i)](),S=y>=12?"pm":"am",A=S.toUpperCase(),M=(s instanceof Lw?s:LT[s||LE]||LT.EN).getModel("time"),C=M.get("month"),T=M.get("monthAbbr"),I=M.get("dayOfWeek"),D=M.get("dayOfWeekAbbr");return(r||"").replace(/{a}/g,S+"").replace(/{A}/g,A+"").replace(/{yyyy}/g,c+"").replace(/{yy}/g,Lz(c%100+"",2)).replace(/{Q}/g,f+"").replace(/{MMMM}/g,C[h-1]).replace(/{MMM}/g,T[h-1]).replace(/{MM}/g,Lz(h,2)).replace(/{M}/g,h+"").replace(/{dd}/g,Lz(p,2)).replace(/{d}/g,p+"").replace(/{eeee}/g,I[v]).replace(/{ee}/g,D[v]).replace(/{e}/g,v+"").replace(/{HH}/g,Lz(y,2)).replace(/{H}/g,y+"").replace(/{hh}/g,Lz(x+"",2)).replace(/{h}/g,x+"").replace(/{mm}/g,Lz(_,2)).replace(/{m}/g,_+"").replace(/{ss}/g,Lz(b,2)).replace(/{s}/g,b+"").replace(/{SSS}/g,Lz(w,3)).replace(/{S}/g,w+"")}function LV(t,r){var i=IZ(t),s=i[LX(r)]()+1,u=i[LY(r)](),c=i[LZ(r)](),h=i[LK(r)](),f=i[LJ(r)](),p=0===i[LQ(r)](),v=p&&0===f,y=v&&0===h,x=y&&0===c,_=x&&1===u;if(_&&1===s)return"year";if(_)return"month";if(x)return"day";else if(y)return"hour";else if(v)return"minute";else if(p)return"second";else return"millisecond"}function Lj(t,r,i){var s=MB(t)?IZ(t):t;switch(r=r||LV(t,i)){case"year":return s[LW(i)]();case"half-year":return s[LX(i)]()>=6?1:0;case"quarter":return Math.floor((s[LX(i)]()+1)/4);case"month":return s[LX(i)]();case"day":return s[LY(i)]();case"half-day":return s[LZ(i)]()/24;case"hour":return s[LZ(i)]();case"minute":return s[LK(i)]();case"second":return s[LJ(i)]();case"millisecond":return s[LQ(i)]()}}function LW(t){return t?"getUTCFullYear":"getFullYear"}function LX(t){return t?"getUTCMonth":"getMonth"}function LY(t){return t?"getUTCDate":"getDate"}function LZ(t){return t?"getUTCHours":"getHours"}function LK(t){return t?"getUTCMinutes":"getMinutes"}function LJ(t){return t?"getUTCSeconds":"getSeconds"}function LQ(t){return t?"getUTCMilliseconds":"getMilliseconds"}function Lq(t){return t?"setUTCMonth":"setMonth"}function L$(t){return t?"setUTCDate":"setDate"}function L0(t){return t?"setUTCHours":"setHours"}function L1(t){return t?"setUTCMinutes":"setMinutes"}function L2(t){return t?"setUTCSeconds":"setSeconds"}function L3(t){return t?"setUTCMilliseconds":"setMilliseconds"}function L5(t){if(!I1(t))return MP(t)?t:"-";var r=(t+"").split(".");return r[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(r.length>1?"."+r[1]:"")}function L4(t,r){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),r&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var L9=MY;function L8(t,r,i){function s(t){return t&&MK(t)?t:"-"}function u(t){return!!(null!=t&&!isNaN(t)&&isFinite(t))}var c="time"===r,h=t instanceof Date;if(c||h){var f=c?IZ(t):t;if(!isNaN(+f))return LH(f,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",i);if(h)return"-"}if("ordinal"===r)return ML(t)?s(t):MB(t)&&u(t)?t+"":"-";var p=I0(t);return u(p)?L5(p):ML(t)?s(t):"boolean"==typeof t?t+"":"-"}var L6=["a","b","c","d","e","f","g"],L7=function(t,r){return"{"+t+(null==r?"":r)+"}"};function Be(t,r,i){!MD(r)&&(r=[r]);var s=r.length;if(!s)return"";for(var u=r[0].$vars||[],c=0;c<u.length;c++){var h=L6[c];t=t.replace(L7(h),L7(h,0))}for(var f=0;f<s;f++)for(var p=0;p<u.length;p++){var v=r[f][u[p]];t=t.replace(L7(L6[p],f),i?CO(v):v)}return t}function Bt(t,r){var i=MP(t)?{color:t,extraCssText:r}:t||{},s=i.color,u=i.type;r=i.extraCssText;var c=i.renderMode||"html";return s?"html"===c?"subItem"===u?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+CO(s)+";"+(r||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+CO(s)+";"+(r||"")+'"></span>':{renderMode:c,content:"{"+(i.markerId||"markerX")+"|}  ",style:"subItem"===u?{width:4,height:4,borderRadius:2,backgroundColor:s}:{width:10,height:10,borderRadius:5,backgroundColor:s}}:""}function Bn(t,r,i){("week"===t||"month"===t||"quarter"===t||"half-year"===t||"year"===t)&&(t="MM-dd\nyyyy");var s=IZ(r),u=i?"getUTC":"get",c=s[u+"FullYear"](),h=s[u+"Month"]()+1,f=s[u+"Date"](),p=s[u+"Hours"](),v=s[u+"Minutes"](),y=s[u+"Seconds"](),x=s[u+"Milliseconds"]();return t=t.replace("MM",Lz(h,2)).replace("M",h).replace("yyyy",c).replace("yy",Lz(c%100+"",2)).replace("dd",Lz(f,2)).replace("d",f).replace("hh",Lz(p,2)).replace("h",p).replace("mm",Lz(v,2)).replace("m",v).replace("ss",Lz(y,2)).replace("s",y).replace("SSS",Lz(x,3))}function Br(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function Bi(t,r){return r=r||"transparent",MP(t)?t:Mk(t)&&t.colorStops&&(t.colorStops[0]||{}).color||r}function Ba(t,r){if("_blank"===r||"blank"===r){var i=window.open();i.opener=null,i.location.href=t}else window.open(t,r)}var Bo=Mw,Bs=["left","right","top","bottom","width","height"],Bl=[["width","left","right"],["height","top","bottom"]];function Bu(t,r,i,s,u){var c=0,h=0;null==s&&(s=1/0),null==u&&(u=1/0);var f=0;r.eachChild(function(p,v){var y,x,_=p.getBoundingRect(),b=r.childAt(v+1),w=b&&b.getBoundingRect();if("horizontal"===t){var S=_.width+(w?-w.x+_.x:0);(y=c+S)>s||p.newline?(c=0,y=S,h+=f+i,f=_.height):f=Math.max(f,_.height)}else{var A=_.height+(w?-w.y+_.y:0);(x=h+A)>u||p.newline?(c+=f+i,h=0,x=A,f=_.width):f=Math.max(f,_.width)}if(!p.newline)p.x=c,p.y=h,p.markRedraw(),"horizontal"===t?c=y+i:h=x+i})}MI(Bu,"vertical"),MI(Bu,"horizontal");function Bc(t,r,i){i=L9(i||0);var s=r.width,u=r.height,c=IO(t.left,s),h=IO(t.top,u),f=IO(t.right,s),p=IO(t.bottom,u),v=IO(t.width,s),y=IO(t.height,u),x=i[2]+i[0],_=i[1]+i[3],b=t.aspect;switch(isNaN(v)&&(v=s-f-_-c),isNaN(y)&&(y=u-p-x-h),null!=b&&(isNaN(v)&&isNaN(y)&&(b>s/u?v=.8*s:y=.8*u),isNaN(v)&&(v=b*y),isNaN(y)&&(y=v/b)),isNaN(c)&&(c=s-f-v-_),isNaN(h)&&(h=u-p-y-x),t.left||t.right){case"center":c=s/2-v/2-i[3];break;case"right":c=s-v-_}switch(t.top||t.bottom){case"middle":case"center":h=u/2-y/2-i[0];break;case"bottom":h=u-y-x}c=c||0,h=h||0,isNaN(v)&&(v=s-_-c-(f||0)),isNaN(y)&&(y=u-x-h-(p||0));var w=new Ti(c+i[3],h+i[0],v,y);return w.margin=i,w}function Bh(t,r,i,s,u,c){var h,f=!u||!u.hv||u.hv[0],p=!u||!u.hv||u.hv[1],v=u&&u.boundingMode||"all";if((c=c||t).x=t.x,c.y=t.y,!f&&!p)return!1;if("raw"===v)h="group"===t.type?new Ti(0,0,+r.width||0,+r.height||0):t.getBoundingRect();else if(h=t.getBoundingRect(),t.needLocalTransform()){var y=t.getLocalTransform();(h=h.clone()).applyTransform(y)}var x=Bc(Mm({width:h.width,height:h.height},r),i,s),_=f?x.x-h.x:0,b=p?x.y-h.y:0;return"raw"===v?(c.x=_,c.y=b):(c.x+=_,c.y+=b),c===t&&t.markRedraw(),!0}function Bd(t){var r=t.layoutMode||t.constructor.layoutMode;return Mk(r)?r:r?{type:r}:null}function Bf(t,r,i){var s=i&&i.ignoreSize;MD(s)||(s=[s,s]);var u=h(Bl[0],0),c=h(Bl[1],1);function h(i,u){var c={},h=0,v={},y=0;if(Bo(i,function(r){v[r]=t[r]}),Bo(i,function(t){f(r,t)&&(c[t]=v[t]=r[t]),p(c,t)&&h++,p(v,t)&&y++}),s[u])return p(r,i[1])?v[i[2]]=null:p(r,i[2])&&(v[i[1]]=null),v;if(2===y||!h)return v;if(h>=2)return c;for(var x=0;x<i.length;x++){var _=i[x];if(!f(c,_)&&f(t,_)){c[_]=t[_];break}}return c}function f(t,r){return t.hasOwnProperty(r)}function p(t,r){return null!=t[r]&&"auto"!==t[r]}function v(t,r,i){Bo(t,function(t){r[t]=i[t]})}v(Bl[0],t,u),v(Bl[1],t,c)}function Bp(t){return Bg({},t)}function Bg(t,r){return r&&t&&Bo(Bs,function(i){r.hasOwnProperty(i)&&(t[i]=r[i])}),t}var Bm=Dl(),Bv=function(t){var r;function i(r,i,s){var u=t.call(this,r,i,s)||this;return u.uid=LA("ec_cpt_model"),u}return AK(i,t),i.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},i.prototype.mergeDefaultAndTheme=function(t,r){var i=Bd(this),s=i?Bp(t):{};Mf(t,r.getTheme().get(this.mainType)),Mf(t,this.getDefaultOption()),i&&Bf(t,s,i)},i.prototype.mergeOption=function(t,r){Mf(this.option,t,!0);var i=Bd(this);i&&Bf(this.option,t,i)},i.prototype.optionUpdated=function(t,r){},i.prototype.getDefaultOption=function(){var t,r=this.constructor;if(!((t=r)&&t[Dx]))return r.defaultOption;var i=Bm(this);if(!i.defaultOption){for(var s=[],u=r;u;){var c=u.prototype.defaultOption;c&&s.push(c),u=u.superClass}for(var h={},f=s.length-1;f>=0;f--)h=Mf(h,s[f],!0);i.defaultOption=h}return i.defaultOption},i.prototype.getReferringComponents=function(t,r){return Dp(this.ecModel,t,{index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)},r)},i.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},i.prototype.getZLevelKey=function(){return""},i.prototype.setZLevel=function(t){this.option.zlevel=t},i.protoInitialize=void((r=i.prototype).type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0),i}(Lw);Dw(Bv,Lw),DC(Bv),!function(t){var r={};t.registerSubTypeDefaulter=function(t,i){r[D_(t).main]=i},t.determineSubType=function(i,s){var u=s.type;if(!u){var c=D_(i).main;t.hasSubTypes(i)&&r[c]&&(u=r[c](s))}return u}}(Bv),!function(t,r){t.topologicalTravel=function(t,s,u,c){if(!!t.length){var h=function(t){var s={},u=[];return Mw(t,function(c){var h=i(s,c),f=function(t,r){var i=[];return Mw(t,function(t){My(r,t)>=0&&i.push(t)}),i}(h.originalDeps=r(c),t);h.entryCount=f.length,0===h.entryCount&&u.push(c),Mw(f,function(t){0>My(h.predecessor,t)&&h.predecessor.push(t);var r=i(s,t);0>My(r.successor,t)&&r.successor.push(c)})}),{graph:s,noEntryList:u}}(s),f=h.graph,p=h.noEntryList,v={};for(Mw(t,function(t){v[t]=!0});p.length;){var y=p.pop(),x=f[y],_=!!v[y];_&&(u.call(c,y,x.originalDeps.slice()),delete v[y]),Mw(x.successor,_?w:b)}Mw(v,function(){throw Error("")})}function b(t){f[t].entryCount--,0===f[t].entryCount&&p.push(t)}function w(t){v[t]=!0,b(t)}};function i(t,r){return!t[r]&&(t[r]={predecessor:[],successor:[]}),t[r]}}(Bv,function(t){var r=[];return Mw(Bv.getClassesByMainType(t),function(t){r=r.concat(t.dependencies||t.prototype.dependencies||[])}),r=MS(r,function(t){return D_(t).main}),"dataset"!==t&&0>=My(r,"dataset")&&r.unshift("dataset"),r});let By=Bv;var Bx="";"undefined"!=typeof navigator&&(Bx=navigator.platform||"");var B_="rgba(0, 0, 0, 0.2)";let Bb={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:B_,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:B_,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:B_,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:B_,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:B_,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:B_,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Bx.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Bw=M2(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),BS="original",BA="arrayRows",BM="objectRows",BC="keyedColumns",BT="typedArray",BE="unknown",BI="column",BD={Must:1,Might:2,Not:3},BR=Dl();function BP(t,r,i){var s,u,c={},h=BB(r);if(!h||!t)return c;var f=[],p=[],v=BR(r.ecModel).datasetMap,y=h.uid+"_"+i.seriesLayoutBy;Mw(t=t.slice(),function(r,i){var h=Mk(r)?r:t[i]={name:r};"ordinal"===h.type&&null==s&&(s=i,u=b(h)),c[h.name]=[]});var x=v.get(y)||v.set(y,{categoryWayDim:u,valueWayDim:0});function _(t,r,i){for(var s=0;s<i;s++)t.push(r+s)}function b(t){var r=t.dimsDef;return r?r.length:1}return Mw(t,function(t,r){var i=t.name,u=b(t);if(null==s){var h=x.valueWayDim;_(c[i],h,u),_(p,h,u),x.valueWayDim+=u}else if(s===r)_(c[i],0,u),_(f,0,u);else{var h=x.categoryWayDim;_(c[i],h,u),_(p,h,u),x.categoryWayDim+=u}}),f.length&&(c.itemName=f),p.length&&(c.seriesName=p),c}function BL(t,r,i){var s,u={};if(!BB(t))return u;var c=r.sourceFormat,h=r.dimensionsDefine;(c===BM||c===BC)&&Mw(h,function(t,r){(Mk(t)?t.name:t)==="name"&&(s=r)});var f=function(){for(var t={},u={},f=[],p=0,v=Math.min(5,i);p<v;p++){var y=BO(r.data,c,r.seriesLayoutBy,h,r.startIndex,p);f.push(y);var x=y===BD.Not;if(x&&null==t.v&&p!==s&&(t.v=p),(null==t.n||t.n===t.v||!x&&f[t.n]===BD.Not)&&(t.n=p),_(t)&&f[t.n]!==BD.Not)return t;!x&&(y===BD.Might&&null==u.v&&p!==s&&(u.v=p),(null==u.n||u.n===u.v)&&(u.n=p))}function _(t){return null!=t.v&&null!=t.n}return _(t)?t:_(u)?u:null}();if(f){u.value=[f.v];var p=null!=s?s:f.n;u.itemName=[p],u.seriesName=[p]}return u}function BB(t){if(!t.get("data",!0))return Dp(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},Dd).models[0]}function Bk(t,r){return BO(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,r)}function BO(t,r,i,s,u,c){var h,f,p;if(MN(t))return BD.Not;if(s){var v=s[c];Mk(v)?(f=v.name,p=v.type):MP(v)&&(f=v)}if(null!=p)return"ordinal"===p?BD.Must:BD.Not;if(r===BA){if("row"===i){for(var y=t[c],x=0;x<(y||[]).length&&x<5;x++)if(null!=(h=S(y[u+x])))return h}else for(var x=0;x<t.length&&x<5;x++){var _=t[u+x];if(_&&null!=(h=S(_[c])))return h}}else if(r===BM){if(!f)return BD.Not;for(var x=0;x<t.length&&x<5;x++){var b=t[x];if(b&&null!=(h=S(b[f])))return h}}else if(r===BC){if(!f)return BD.Not;var y=t[f];if(!y||MN(y))return BD.Not;for(var x=0;x<y.length&&x<5;x++)if(null!=(h=S(y[x])))return h}else if(r===BS)for(var x=0;x<t.length&&x<5;x++){var b=t[x],w=De(b);if(!MD(w))return BD.Not;if(null!=(h=S(w[c])))return h}function S(t){var r=MP(t);return null!=t&&Number.isFinite(Number(t))&&""!==t?r?BD.Might:BD.Not:r&&"-"!==t?BD.Must:void 0}return BD.Not}var BN=M2(),BF=Dl(),BU=Dl(),Bz=function(){function t(){}return t.prototype.getColorFromPalette=function(t,r,i){return BH(this,BF,I8(this.get("color",!0)),this.get("colorLayer",!0),t,r,i)},t.prototype.clearColorPalette=function(){(function(t,r){r(t).paletteIdx=0,r(t).paletteNameMap={}})(this,BF)},t}();function BG(t,r,i,s){var u=I8(t.get(["aria","decal","decals"]));return BH(t,BU,u,null,r,i,s)}function BH(t,r,i,s,u,c,h){var f=r(c=c||t),p=f.paletteIdx||0,v=f.paletteNameMap=f.paletteNameMap||{};if(v.hasOwnProperty(u))return v[u];var y=null!=h&&s?function(t,r){for(var i=t.length,s=0;s<i;s++)if(t[s].length>r)return t[s];return t[i-1]}(s,h):i;if(!!(y=y||i)&&!!y.length){var x=y[p];return u&&(v[u]=x),f.paletteIdx=(p+1)%y.length,x}}var BV="\0_ec_inner",Bj=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.init=function(t,r,i,s,u,c){s=s||{},this.option=null,this._theme=new Lw(s),this._locale=new Lw(u),this._optionManager=c},r.prototype.setOption=function(t,r,i){var s=BY(r);this._optionManager.setOption(t,i,s),this._resetOption(null,s)},r.prototype.resetOption=function(t,r){return this._resetOption(t,BY(r))},r.prototype._resetOption=function(t,r){var i=!1,s=this._optionManager;if(!t||"recreate"===t){var u=s.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(u,r)):elp(this,u),i=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var c=s.getTimelineOption(this);c&&(i=!0,this._mergeOption(c,r))}if(!t||"recreate"===t||"media"===t){var h=s.getMediaOption(this);h.length&&Mw(h,function(t){i=!0,this._mergeOption(t,r)},this)}return i},r.prototype.mergeOption=function(t){this._mergeOption(t,null)},r.prototype._mergeOption=function(t,r){var i,s=this.option,u=this._componentsMap,c=this._componentsCount,h=[],f=M2(),p=r&&r.replaceMergeMainTypeMap;i=this,BR(i).datasetMap=M2(),Mw(t,function(t,r){if(null!=t)By.hasClass(r)?r&&(h.push(r),f.set(r,!0)):s[r]=null==s[r]?Md(t):Mf(s[r],t,!0)}),p&&p.each(function(t,r){By.hasClass(r)&&!f.get(r)&&(h.push(r),f.set(r,!0))}),By.topologicalTravel(h,By.getAllClassMainTypes(),function(r){var i,h,f,v,y=function(t,r,i){var s=BN.get(r);if(!s)return i;var u=s(t);return u?i.concat(u):i}(this,r,I8(t[r])),x=u.get(r),_=x?p&&p.get(r)?"replaceMerge":"normalMerge":"replaceAll",b=Dt(x,y,_);i=b,h=r,f=By,Mw(i,function(t){var r=t.newOption;Mk(r)&&(t.keyInfo.mainType=h,t.keyInfo.subType=function(t,r,i,s){return r.type?r.type:i?i.subType:s.determineSubType(t,r)}(h,r,t.existing,f))}),s[r]=null,u.set(r,null),c.set(r,0);var w=[],S=[],A=0;Mw(b,function(t,i){var s=t.existing,u=t.newOption;if(u){var c="series"===r,h=By.getClass(r,t.keyInfo.subType,!c);if(!h)return;if("tooltip"===r){if(v)return;v=!0}if(s&&s.constructor===h)s.name=t.keyInfo.name,s.mergeOption(u,this),s.optionUpdated(u,!1);else{var f=Mg({componentIndex:i},t.keyInfo);Mg(s=new h(u,this,this,f),f),t.brandNew&&(s.__requireNewView=!0),s.init(u,this,this),s.optionUpdated(null,!0)}}else s&&(s.mergeOption({},this),s.optionUpdated({},!1));s?(w.push(s.option),S.push(s),A++):(w.push(void 0),S.push(void 0))},this),s[r]=w,u.set(r,S),c.set(r,A),"series"===r&&eld(this)},this);!this._seriesIndices&&eld(this)},r.prototype.getOption=function(){var t=Md(this.option);return Mw(t,function(r,i){if(By.hasClass(i)){for(var s=I8(r),u=s.length,c=!1,h=u-1;h>=0;h--)s[h]&&!Do(s[h])?c=!0:(s[h]=null,!c&&u--);s.length=u,t[i]=s}}),delete t[BV],t},r.prototype.getTheme=function(){return this._theme},r.prototype.getLocaleModel=function(){return this._locale},r.prototype.setUpdatePayload=function(t){this._payload=t},r.prototype.getUpdatePayload=function(){return this._payload},r.prototype.getComponent=function(t,r){var i=this._componentsMap.get(t);if(i){var s=i[r||0];if(s)return s;if(null==r){for(var u=0;u<i.length;u++)if(i[u])return i[u]}}},r.prototype.queryComponents=function(t){var r,i=t.mainType;if(!i)return[];var s=t.index,u=t.id,c=t.name,h=this._componentsMap.get(i);return h&&h.length?(null!=s?(r=[],Mw(I8(s),function(t){h[t]&&r.push(h[t])})):r=null!=u?BW("id",u,h):null!=c?BW("name",c,h):MM(h,function(t){return!!t}),BX(r,t)):[]},r.prototype.findComponents=function(t){var r=t.query,i=t.mainType,s=function(t){var r=i+"Index",s=i+"Id",u=i+"Name";return t&&(null!=t[r]||null!=t[s]||null!=t[u])?{mainType:i,index:t[r],id:t[s],name:t[u]}:null}(r);return function(r){return t.filter?MM(r,t.filter):r}(BX(s?this.queryComponents(s):MM(this._componentsMap.get(i),function(t){return!!t}),t))},r.prototype.eachComponent=function(t,r,i){var s=this._componentsMap;if(MR(t))s.each(function(i,s){for(var u=0;i&&u<i.length;u++){var c=i[u];c&&t.call(r,s,c,c.componentIndex)}});else{for(var u=MP(t)?s.get(t):Mk(t)?this.findComponents(t):null,c=0;u&&c<u.length;c++){var h=u[c];h&&r.call(i,h,h.componentIndex)}}},r.prototype.getSeriesByName=function(t){var r=Di(t,null);return MM(this._componentsMap.get("series"),function(t){return!!t&&null!=r&&t.name===r})},r.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},r.prototype.getSeriesByType=function(t){return MM(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},r.prototype.getSeries=function(){return MM(this._componentsMap.get("series"),function(t){return!!t})},r.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},r.prototype.eachSeries=function(t,r){elf(this),Mw(this._seriesIndices,function(i){var s=this._componentsMap.get("series")[i];t.call(r,s,i)},this)},r.prototype.eachRawSeries=function(t,r){Mw(this._componentsMap.get("series"),function(i){i&&t.call(r,i,i.componentIndex)})},r.prototype.eachSeriesByType=function(t,r,i){elf(this),Mw(this._seriesIndices,function(s){var u=this._componentsMap.get("series")[s];u.subType===t&&r.call(i,u,s)},this)},r.prototype.eachRawSeriesByType=function(t,r,i){return Mw(this.getSeriesByType(t),r,i)},r.prototype.isSeriesFiltered=function(t){return elf(this),null==this._seriesIndicesMap.get(t.componentIndex)},r.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},r.prototype.filterSeries=function(t,r){elf(this);var i=[];Mw(this._seriesIndices,function(s){var u=this._componentsMap.get("series")[s];t.call(r,u,s)&&i.push(s)},this),this._seriesIndices=i,this._seriesIndicesMap=M2(i)},r.prototype.restoreData=function(t){eld(this);var r=this._componentsMap,i=[];r.each(function(t,r){By.hasClass(r)&&i.push(r)}),By.topologicalTravel(i,By.getAllClassMainTypes(),function(i){Mw(r.get(i),function(r){r&&("series"!==i||!function(t,r){if(r){var i=r.seriesIndex,s=r.seriesId,u=r.seriesName;return null!=i&&t.componentIndex!==i||null!=s&&t.id!==s||null!=u&&t.name!==u}}(r,t))&&r.restoreData()})})},r.internalField=void(eld=function(t){var r=t._seriesIndices=[];Mw(t._componentsMap.get("series"),function(t){t&&r.push(t.componentIndex)}),t._seriesIndicesMap=M2(r)},elf=function(t){},elp=function(t,r){t.option={},t.option[BV]=1,t._componentsMap=M2({series:[]}),t._componentsCount=M2();var i=r.aria;Mk(i)&&null==i.enabled&&(i.enabled=!0),function(t,r){var i=t.color&&!t.colorLayer;Mw(r,function(r,s){if("colorLayer"!==s||!i)!By.hasClass(s)&&("object"==typeof r?t[s]=t[s]?Mf(t[s],r,!1):Md(r):null==t[s]&&(t[s]=r))})}(r,t._theme.option),Mf(r,Bb,!1),t._mergeOption(r,null)}),r}(Lw);function BW(t,r,i){if(MD(r)){var s=M2();return Mw(r,function(t){null!=t&&null!=Di(t,null)&&s.set(t,!0)}),MM(i,function(r){return r&&s.get(r[t])})}var u=Di(r,null);return MM(i,function(r){return r&&null!=u&&r[t]===u})}function BX(t,r){return r.hasOwnProperty("subType")?MM(t,function(t){return t&&t.subType===r.subType}):t}function BY(t){var r=M2();return t&&Mw(I8(t.replaceMerge),function(t){r.set(t,!0)}),{replaceMergeMainTypeMap:r}}M_(Bj,Bz);var BZ=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];let BK=function(t){Mw(BZ,function(r){this[r]=ME(t[r],t)},this)};var BJ={},BQ=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,r){var i=[];Mw(BJ,function(s,u){var c=s.create(t,r);i=i.concat(c||[])}),this._coordinateSystems=i},t.prototype.update=function(t,r){Mw(this._coordinateSystems,function(i){i.update&&i.update(t,r)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,r){BJ[t]=r},t.get=function(t){return BJ[t]},t}(),Bq=/^(min|max)?(.+)$/,B$=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,r,i){t&&(Mw(I8(t.series),function(t){t&&t.data&&MN(t.data)&&MQ(t.data)}),Mw(I8(t.dataset),function(t){t&&t.source&&MN(t.source)&&MQ(t.source)})),t=Md(t);var s=this._optionBackup,u=function(t,r,i){var s,u,c=[],h=t.baseOption,f=t.timeline,p=t.options,v=t.media,y=!!t.media,x=!!(p||f||h&&h.timeline);function _(t){Mw(r,function(r){r(t,i)})}return h?!(u=h).timeline&&(u.timeline=f):((x||y)&&(t.options=t.media=null),u=t),y&&MD(v)&&Mw(v,function(t){t&&t.option&&(t.query?c.push(t):!s&&(s=t))}),_(u),Mw(p,function(t){return _(t)}),Mw(c,function(t){return _(t.option)}),{baseOption:u,timelineOptions:p||[],mediaDefault:s,mediaList:c}}(t,r,!s);this._newBaseOption=u.baseOption,s?(u.timelineOptions.length&&(s.timelineOptions=u.timelineOptions),u.mediaList.length&&(s.mediaList=u.mediaList),u.mediaDefault&&(s.mediaDefault=u.mediaDefault)):this._optionBackup=u},t.prototype.mountOption=function(t){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],Md(t?r.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var r,i=this._timelineOptions;if(i.length){var s=t.getComponent("timeline");s&&(r=Md(i[s.getCurrentIndex()]))}return r},t.prototype.getMediaOption=function(t){var r=this._api.getWidth(),i=this._api.getHeight(),s=this._mediaList,u=this._mediaDefault,c=[],h=[];if(!s.length&&!u)return h;for(var f=0,p=s.length;f<p;f++)(function(t,r,i){var s={width:r,height:i,aspectratio:r/i},u=!0;return Mw(t,function(t,r){var i=r.match(Bq);if(!!i&&!!i[1]&&!!i[2]){var c=i[1];!function(t,r,i){return"min"===i?t>=r:"max"===i?t<=r:t===r}(s[i[2].toLowerCase()],t,c)&&(u=!1)}}),u})(s[f].query,r,i)&&c.push(f);return!c.length&&u&&(c=[-1]),c.length&&!function(t,r){return t.join(",")===r.join(",")}(c,this._currentMediaIndices)&&(h=MS(c,function(t){return Md(-1===t?u.option:s[t].option)})),this._currentMediaIndices=c,h},t}(),B0=Mw,B1=Mk,B2=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function B3(t){var r=t&&t.itemStyle;if(!!r)for(var i=0,s=B2.length;i<s;i++){var u=B2[i],c=r.normal,h=r.emphasis;c&&c[u]&&(t[u]=t[u]||{},t[u].normal?Mf(t[u].normal,c[u]):t[u].normal=c[u],c[u]=null),h&&h[u]&&(t[u]=t[u]||{},t[u].emphasis?Mf(t[u].emphasis,h[u]):t[u].emphasis=h[u],h[u]=null)}}function B5(t,r,i){if(t&&t[r]&&(t[r].normal||t[r].emphasis)){var s=t[r].normal,u=t[r].emphasis;s&&(i?(t[r].normal=t[r].emphasis=null,Mm(t[r],s)):t[r]=s),u&&(t.emphasis=t.emphasis||{},t.emphasis[r]=u,u.focus&&(t.emphasis.focus=u.focus),u.blurScope&&(t.emphasis.blurScope=u.blurScope))}}function B4(t){B5(t,"itemStyle"),B5(t,"lineStyle"),B5(t,"areaStyle"),B5(t,"label"),B5(t,"labelLine"),B5(t,"upperLabel"),B5(t,"edgeLabel")}function B9(t,r){var i=B1(t)&&t[r],s=B1(i)&&i.textStyle;if(s)for(var u=0,c=I7.length;u<c;u++){var h=I7[u];s.hasOwnProperty(h)&&(i[h]=s[h])}}function B8(t){t&&(B4(t),B9(t,"label"),t.emphasis&&B9(t.emphasis,"label"))}function B6(t){return MD(t)?t:t?[t]:[]}function B7(t){return(MD(t)?t[0]:t)||{}}function ke(t){t&&Mw(kt,function(r){r[0]in t&&!(r[1]in t)&&(t[r[1]]=t[r[0]])})}var kt=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],kn=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],kr=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function ki(t){var r=t&&t.itemStyle;if(r)for(var i=0;i<kr.length;i++){var s=kr[i][1],u=kr[i][0];null!=r[s]&&(r[u]=r[s])}}function ka(t){if(!!t)"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function ko(t){if(!!t)t.downplay&&!t.blur&&(t.blur=t.downplay)}function ks(t,r){var i,s,u;i=t,s=r,B0(B6(i.series),function(t){B1(t)&&function(t){if(!!B1(t)){B3(t),B4(t),B9(t,"label"),B9(t,"upperLabel"),B9(t,"edgeLabel"),t.emphasis&&(B9(t.emphasis,"label"),B9(t.emphasis,"upperLabel"),B9(t.emphasis,"edgeLabel"));var r=t.markPoint;r&&(B3(r),B8(r));var i=t.markLine;i&&(B3(i),B8(i));var s=t.markArea;s&&B8(s);var u=t.data;if("graph"===t.type){u=u||t.nodes;var c=t.links||t.edges;if(c&&!MN(c))for(var h=0;h<c.length;h++)B8(c[h]);Mw(t.categories,function(t){B4(t)})}if(u&&!MN(u))for(var h=0;h<u.length;h++)B8(u[h]);if((r=t.markPoint)&&r.data){for(var f=r.data,h=0;h<f.length;h++)B8(f[h])}if((i=t.markLine)&&i.data){for(var p=i.data,h=0;h<p.length;h++)MD(p[h])?(B8(p[h][0]),B8(p[h][1])):B8(p[h])}"gauge"===t.type?(B9(t,"axisLabel"),B9(t,"title"),B9(t,"detail")):"treemap"===t.type?(B5(t.breadcrumb,"itemStyle"),Mw(t.levels,function(t){B4(t)})):"tree"===t.type&&B4(t.leaves)}}(t)}),u=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"],s&&u.push("valueAxis","categoryAxis","logAxis","timeAxis"),B0(u,function(t){B0(B6(i[t]),function(t){t&&(B9(t,"axisLabel"),B9(t.axisPointer,"label"))})}),B0(B6(i.parallel),function(t){var r=t&&t.parallelAxisDefault;B9(r,"axisLabel"),B9(r&&r.axisPointer,"label")}),B0(B6(i.calendar),function(t){B5(t,"itemStyle"),B9(t,"dayLabel"),B9(t,"monthLabel"),B9(t,"yearLabel")}),B0(B6(i.radar),function(t){B9(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)}),B0(B6(i.geo),function(t){B1(t)&&(B8(t),B0(B6(t.regions),function(t){B8(t)}))}),B0(B6(i.timeline),function(t){B8(t),B5(t,"label"),B5(t,"itemStyle"),B5(t,"controlStyle",!0);var r=t.data;MD(r)&&Mw(r,function(t){Mk(t)&&(B5(t,"label"),B5(t,"itemStyle"))})}),B0(B6(i.toolbox),function(t){B5(t,"iconStyle"),B0(t.feature,function(t){B5(t,"iconStyle")})}),B9(B7(i.axisPointer),"label"),B9(B7(i.tooltip).axisPointer,"label"),t.series=I8(t.series),Mw(t.series,function(t){if(!!Mk(t)){var r=t.type;if("line"===r)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===r||"gauge"===r){null!=t.clockWise&&(t.clockwise=t.clockWise),ka(t.label);var i=t.data;if(i&&!MN(i))for(var s=0;s<i.length;s++)ka(i[s]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},t.emphasis.scaleSize=null)}else if("gauge"===r){var u=function(t,r){for(var i=r.split(","),s=t,u=0;u<i.length&&null!=(s=s&&s[i[u]]);u++);return s}(t,"pointer.color");null!=u&&function(t,r,i,s){for(var u,c=r.split(","),h=t,f=0;f<c.length-1;f++)null==h[u=c[f]]&&(h[u]={}),h=h[u];null==h[c[f]]&&(h[c[f]]=i)}(t,"itemStyle.color",u)}else if("bar"===r){ki(t),ki(t.backgroundStyle),ki(t.emphasis);var i=t.data;if(i&&!MN(i))for(var s=0;s<i.length;s++)"object"==typeof i[s]&&(ki(i[s]),ki(i[s]&&i[s].emphasis))}else if("sunburst"===r){var c=t.highlightPolicy;c&&(t.emphasis=t.emphasis||{},!t.emphasis.focus&&(t.emphasis.focus=c)),ko(t),!function t(r,i){if(r)for(var s=0;s<r.length;s++)i(r[s]),r[s]&&t(r[s].children,i)}(t.data,ko)}else"graph"===r||"sankey"===r?!function(t){if(!!t)null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}(t):"map"===r&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Mm(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),ke(t)}}),t.dataRange&&(t.visualMap=t.dataRange),Mw(kn,function(r){var i=t[r];i&&(!MD(i)&&(i=[i]),Mw(i,function(t){ke(t)}))})}function kl(t){Mw(t,function(r,i){var s=[],u=[NaN,NaN],c=[r.stackResultDimension,r.stackedOverDimension],h=r.data,f=r.isStackedByIndex,p=r.seriesModel.get("stackStrategy")||"samesign";h.modify(c,function(c,v,y){var x,_,b=h.get(r.stackedDimension,y);if(isNaN(b))return u;f?_=h.getRawIndex(y):x=h.get(r.stackedByDimension,y);for(var w=NaN,S=i-1;S>=0;S--){var A=t[S];if(!f&&(_=A.data.rawIndexOf(A.stackedByDimension,x)),_>=0){var M=A.data.getByRawIndex(A.stackResultDimension,_);if("all"===p||"positive"===p&&M>0||"negative"===p&&M<0||"samesign"===p&&b>=0&&M>0||"samesign"===p&&b<=0&&M<0){b=function(t,r){var i=Math.max(IU(t),IU(r)),s=t+r;return i>20?s:IN(s,i)}(b,M),w=M;break}}}return s[0]=b,s[1]=w,s})})}var ku=function(t){this.data=t.data||(t.sourceFormat===BC?{}:[]),this.sourceFormat=t.sourceFormat||BE,this.seriesLayoutBy=t.seriesLayoutBy||BI,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var r=this.dimensionsDefine=t.dimensionsDefine;if(r)for(var i=0;i<r.length;i++){var s=r[i];null==s.type&&Bk(this,i)===BD.Must&&(s.type="ordinal")}};function kc(t){return t instanceof ku}function kh(t,r,i){i=i||kf(t);var s=r.seriesLayoutBy,u=function(t,r,i,s,u){if(!t)return{dimensionsDefine:kp(u),startIndex:h,dimensionsDetectedCount:c};if(r===BA){var c,h;"auto"===s||null==s?kg(function(t){null!=t&&"-"!==t&&(MP(t)?null==h&&(h=1):h=0)},i,t,10):h=MB(s)?s:s?1:0,!u&&1===h&&(u=[],kg(function(t,r){u[r]=null!=t?t+"":""},i,t,1/0)),c=u?u.length:"row"===i?t.length:t[0]?t[0].length:null}else if(r===BM)!u&&(u=function(t){for(var r,i=0;i<t.length&&!(r=t[i++]););if(r)return MT(r)}(t));else if(r===BC)!u&&(u=[],Mw(t,function(t,r){u.push(r)}));else if(r===BS){var f=De(t[0]);c=MD(f)&&f.length||1}return{startIndex:h,dimensionsDefine:kp(u),dimensionsDetectedCount:c}}(t,i,s,r.sourceHeader,r.dimensions);return new ku({data:t,sourceFormat:i,seriesLayoutBy:s,dimensionsDefine:u.dimensionsDefine,startIndex:u.startIndex,dimensionsDetectedCount:u.dimensionsDetectedCount,metaRawOption:Md(r)})}function kd(t){return new ku({data:t,sourceFormat:MN(t)?BT:BS})}function kf(t){var r=BE;if(MN(t))r=BT;else if(MD(t)){0===t.length&&(r=BA);for(var i=0,s=t.length;i<s;i++){var u=t[i];if(null!=u){if(MD(u)||MN(u)){r=BA;break}else if(Mk(u)){r=BM;break}}}}else if(Mk(t)){for(var c in t)if(M9(t,c)&&Mb(t[c])){r=BC;break}}return r}function kp(t){if(!!t){var r=M2();return MS(t,function(t,i){var s={name:(t=Mk(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==s.name)return s;s.name+="",null==s.displayName&&(s.displayName=s.name);var u=r.get(s.name);return u?s.name+="-"+u.count++:r.set(s.name,{count:1}),s})}}function kg(t,r,i,s){if("row"===r)for(var u=0;u<i.length&&u<s;u++)t(i[u]?i[u][0]:null,u);else{for(var c=i[0]||[],u=0;u<c.length&&u<s;u++)t(c[u],u)}}function km(t){var r=t.sourceFormat;return r===BM||r===BC}var kv=function(){var t;function r(t,r){var i=kc(t)?t:kd(t);this._source=i;var s=this._data=i.data;i.sourceFormat===BT&&(this._offset=0,this._dimSize=r,this._data=s),elx(this,s,i)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(t,r){},r.prototype.appendData=function(t){},r.prototype.clean=function(){},r.protoInitialize=void((t=r.prototype).pure=!1,t.persistent=!0),r.internalField=function(){elx=function(t,u,c){var h=c.sourceFormat,f=c.seriesLayoutBy,p=c.startIndex,v=c.dimensionsDefine,y=ely[kT(h,f)];if(Mg(t,y),h===BT)t.getItem=r,t.count=s,t.fillStorage=i;else{var x=k_(h,f);t.getItem=ME(x,null,u,p,v);var _=kS(h,f);t.count=ME(_,null,u,p,v)}};var t,r=function(t,r){t-=this._offset,r=r||[];for(var i=this._data,s=this._dimSize,u=s*t,c=0;c<s;c++)r[c]=i[u+c];return r},i=function(t,r,i,s){for(var u=this._data,c=this._dimSize,h=0;h<c;h++){for(var f=s[h],p=null==f[0]?1/0:f[0],v=null==f[1]?-1/0:f[1],y=r-t,x=i[h],_=0;_<y;_++){var b=u[_*c+h];x[t+_]=b,b<p&&(p=b),b>v&&(v=b)}f[0]=p,f[1]=v}},s=function(){return this._data?this._data.length/this._dimSize:0};function u(t){for(var r=0;r<t.length;r++)this._data.push(t[r])}(t={})[BA+"_"+BI]={pure:!0,appendData:u},t[BA+"_row"]={pure:!0,appendData:function(){throw Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[BM]={pure:!0,appendData:u},t[BC]={pure:!0,appendData:function(t){var r=this._data;Mw(t,function(t,i){for(var s=r[i]||(r[i]=[]),u=0;u<(t||[]).length;u++)s.push(t[u])})}},t[BS]={appendData:u},t[BT]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},ely=t}(),r}(),ky=function(t,r,i,s){return t[s]},kx=((elg={})[BA+"_"+BI]=function(t,r,i,s){return t[s+r]},elg[BA+"_row"]=function(t,r,i,s,u){s+=r;for(var c=u||[],h=0;h<t.length;h++){var f=t[h];c[h]=f?f[s]:null}return c},elg[BM]=ky,elg[BC]=function(t,r,i,s,u){for(var c=u||[],h=0;h<i.length;h++){var f=i[h].name,p=t[f];c[h]=p?p[s]:null}return c},elg[BS]=ky,elg);function k_(t,r){var i=kx[kT(t,r)];return i}var kb=function(t,r,i){return t.length},kw=((elm={})[BA+"_"+BI]=function(t,r,i){return Math.max(0,t.length-r)},elm[BA+"_row"]=function(t,r,i){var s=t[0];return s?Math.max(0,s.length-r):0},elm[BM]=kb,elm[BC]=function(t,r,i){var s=i[0].name,u=t[s];return u?u.length:0},elm[BS]=kb,elm);function kS(t,r){var i=kw[kT(t,r)];return i}var kA=function(t,r,i){return t[r]},kM=((elv={})[BA]=kA,elv[BM]=function(t,r,i){return t[i]},elv[BC]=kA,elv[BS]=function(t,r,i){var s=De(t);return s instanceof Array?s[r]:s},elv[BT]=kA,elv);function kC(t){var r=kM[t];return r}function kT(t,r){return t===BA?t+"_"+r:t}function kE(t,r,i){if(!t)return;var s=t.getRawDataItem(r);if(null!=s){var u=t.getStore(),c=u.getSource().sourceFormat;if(null!=i){var h=t.getDimensionIndex(i),f=u.getDimensionProperty(h);return kC(c)(s,h,f)}var p=s;return c===BS&&(p=De(s)),p}}var kI=/\{@(.+?)\}/g,kD=function(){function t(){}return t.prototype.getDataParams=function(t,r){var i=this.getData(r),s=this.getRawValue(t,r),u=i.getRawIndex(t),c=i.getName(t),h=i.getRawDataItem(t),f=i.getItemVisual(t,"style"),p=f&&f[i.getItemVisual(t,"drawType")||"fill"],v=f&&f.stroke,y=this.mainType,x="series"===y,_=i.userOutput&&i.userOutput.get();return{componentType:y,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:x?this.subType:null,seriesIndex:this.seriesIndex,seriesId:x?this.id:null,seriesName:x?this.name:null,name:c,dataIndex:u,data:h,dataType:r,value:s,color:p,borderColor:v,dimensionNames:_?_.fullDimensions:null,encode:_?_.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,r,i,s,u,c){r=r||"normal";var h=this.getData(i),f=this.getDataParams(t,i);return(c&&(f.value=c.interpolatedValue),null!=s&&MD(f.value)&&(f.value=f.value[s]),!u&&(u=h.getItemModel(t).get("normal"===r?["label","formatter"]:[r,"label","formatter"])),MR(u))?(f.status=r,f.dimensionIndex=s,u(f)):MP(u)?Be(u,f).replace(kI,function(r,i){var s=i.length,u=i;"["===u.charAt(0)&&"]"===u.charAt(s-1)&&(u=+u.slice(1,s-1));var f=kE(h,t,u);if(c&&MD(c.interpolatedValue)){var p=h.getDimensionIndex(u);p>=0&&(f=c.interpolatedValue[p])}return null!=f?f+"":""}):void 0},t.prototype.getRawValue=function(t,r){return kE(this.getData(r),t)},t.prototype.formatTooltip=function(t,r,i){},t}();function kR(t){var r,i;return Mk(t)?t.type&&(i=t):r=t,{text:r,frag:i}}function kP(t){return new kL(t)}var kL=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var r,i,s=this._upstream,u=t&&t.skip;if(this._dirty&&s){var c=this.context;c.data=c.outputData=s.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!u&&(r=this._plan(this.context));var h=function(t){return t>=1||(t=1),t}(this._modBy),f=this._modDataCount||0,p=function(t){return t>=1||(t=1),t}(t&&t.modBy),v=t&&t.modDataCount||0;function y(t){return t>=1||(t=1),t}(h!==p||f!==v)&&(r="reset"),(this._dirty||"reset"===r)&&(this._dirty=!1,i=this._doReset(u)),this._modBy=p,this._modDataCount=v;var x=t&&t.step;if(s?this._dueEnd=s._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var _=this._dueIndex,b=Math.min(null!=x?this._dueIndex+x:1/0,this._dueEnd);if(!u&&(i||_<b)){var w=this._progress;if(MD(w))for(var S=0;S<w.length;S++)this._doProgress(w[S],_,b,p,v);else this._doProgress(w,_,b,p,v)}this._dueIndex=b;var A=null!=this._settedOutputEnd?this._settedOutputEnd:b;this._outputDueEnd=A}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,r,i,s,u){kB.reset(r,i,s,u),this._callingProgress=t,this._callingProgress({start:r,end:i,count:i-r,next:kB.next},this.context)},t.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((r=this._reset(this.context))&&r.progress&&(i=r.forceFirstProgress,r=r.progress),MD(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var r,i,s=this._downstream;return s&&s.dirty(),i},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){if(!this._disposed)this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),kB=function(){var t,r,i,s,u,c={reset:function(p,v,y,x){r=p,t=v,i=y,u=Math.ceil((s=x)/i),c.next=i>1&&s>0?f:h}};return c;function h(){return r<t?r++:null}function f(){var c=r%u*i+Math.ceil(r/u),h=r>=t?null:c<s?c:r;return r++,h}}(),kk={},kO="undefined"!=typeof console&&console.warn&&console.log;function kN(t,r,i){if(kO){if(i){if(kk[r])return;kk[r]=!0}console[t]("[ECharts] "+r)}}function kF(t){}function kU(t){throw Error(t)}function kz(t,r){var i=r&&r.type;return"ordinal"===i?t:("time"===i&&!MB(t)&&null!=t&&"-"!==t&&(t=+IZ(t)),null==t||""===t?NaN:Number(t))}var kG=M2({number:function(t){return parseFloat(t)},time:function(t){return+IZ(t)},trim:function(t){return MP(t)?MK(t):t}});function kH(t){return kG.get(t)}var kV={lt:function(t,r){return t<r},lte:function(t,r){return t<=r},gt:function(t,r){return t>r},gte:function(t,r){return t>=r}},kj=function(){function t(t,r){!MB(r)&&kU(""),this._opFn=kV[t],this._rvalFloat=I0(r)}return t.prototype.evaluate=function(t){return MB(t)?this._opFn(t,this._rvalFloat):this._opFn(I0(t),this._rvalFloat)},t}(),kW=function(){function t(t,r){var i="desc"===t;this._resultLT=i?1:-1,null==r&&(r=i?"min":"max"),this._incomparable="min"===r?-1/0:1/0}return t.prototype.evaluate=function(t,r){var i=MB(t)?t:I0(t),s=MB(r)?r:I0(r),u=isNaN(i),c=isNaN(s);if(u&&(i=this._incomparable),c&&(s=this._incomparable),u&&c){var h=MP(t),f=MP(r);h&&(i=f?t:0),f&&(s=h?r:0)}return i<s?this._resultLT:i>s?-this._resultLT:0},t}(),kX=function(){function t(t,r){this._rval=r,this._isEQ=t,this._rvalTypeof=typeof r,this._rvalFloat=I0(r)}return t.prototype.evaluate=function(t){var r=t===this._rval;if(!r){var i=typeof t;i!==this._rvalTypeof&&("number"===i||"number"===this._rvalTypeof)&&(r=I0(t)===this._rvalFloat)}return this._isEQ?r:!r},t}(),kY=function(){function t(){}return t.prototype.getRawData=function(){throw Error("not supported")},t.prototype.getRawDataItem=function(t){throw Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,r){},t.prototype.retrieveValueFromItem=function(t,r){},t.prototype.convertValue=function(t,r){return kz(t,r)},t}();function kZ(t){return!k$(t.sourceFormat)&&kU(""),t.data}function kK(t){var r=t.sourceFormat,i=t.data;if(!k$(r)&&kU(""),r===BA){for(var s=[],u=0,c=i.length;u<c;u++)s.push(i[u].slice());return s}if(r===BM){for(var s=[],u=0,c=i.length;u<c;u++)s.push(Mg({},i[u]));return s}}function kJ(t,r,i){return null==i?void 0:!MB(i)&&(isNaN(i)||M9(r,i))?M9(r,i)?r[i]:void 0:t[i]}function kQ(t){return Md(t)}var kq=M2();function k$(t){return t===BA||t===BM}var k0="undefined",k1=typeof Uint32Array===k0?Array:Uint32Array,k2=typeof Uint16Array===k0?Array:Uint16Array,k3=typeof Int32Array===k0?Array:Int32Array,k5=typeof Float64Array===k0?Array:Float64Array,k4={float:k5,int:k3,ordinal:Array,number:Array,time:k5};function k9(t){return t>65535?k1:k2}function k8(){return[1/0,-1/0]}function k6(t,r,i,s,u){var c=k4[i||"float"];if(u){var h=t[r],f=h&&h.length;if(f!==s){for(var p=new c(s),v=0;v<f;v++)p[v]=h[v];t[r]=p}}else t[r]=new c(s)}var k7=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=M2()}return t.prototype.initData=function(t,r,i){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var s=t.getSource(),u=this.defaultDimValueGetter=el_[s.sourceFormat];this._dimValueGetter=i||u,this._rawExtent=[],km(s),this._dimensions=MS(r,function(t){return{type:t.type,property:t.property}}),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,r){var i=this._calcDimNameToIdx,s=this._dimensions,u=i.get(t);if(null!=u){if(s[u].type===r)return u}else u=s.length;return s[u]={type:r},i.set(t,u),this._chunks[u]=new k4[r||"float"](this._rawCount),this._rawExtent[u]=k8(),u},t.prototype.collectOrdinalMeta=function(t,r){var i=this._chunks[t],s=this._dimensions[t],u=this._rawExtent,c=s.ordinalOffset||0,h=i.length;0===c&&(u[t]=k8());for(var f=u[t],p=c;p<h;p++){var v=i[p]=r.parseAndCollect(i[p]);!isNaN(v)&&(f[0]=Math.min(v,f[0]),f[1]=Math.max(v,f[1]))}s.ordinalMeta=r,s.ordinalOffset=h,s.type="ordinal"},t.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},t.prototype.getDimensionProperty=function(t){var r=this._dimensions[t];return r&&r.property},t.prototype.appendData=function(t){var r=this._provider,i=this.count();r.appendData(t);var s=r.count();return!r.persistent&&(s+=i),i<s&&this._initDataFromProvider(i,s,!0),[i,s]},t.prototype.appendValues=function(t,r){for(var i=this._chunks,s=this._dimensions,u=s.length,c=this._rawExtent,h=this.count(),f=h+Math.max(t.length,r||0),p=0;p<u;p++){var v=s[p];k6(i,p,v.type,f,!0)}for(var y=[],x=h;x<f;x++){for(var _=x-h,b=0;b<u;b++){var v=s[b],w=el_.arrayRows.call(this,t[_]||y,v.property,_,b);i[b][x]=w;var S=c[b];w<S[0]&&(S[0]=w),w>S[1]&&(S[1]=w)}}return this._rawCount=this._count=f,{start:h,end:f}},t.prototype._initDataFromProvider=function(t,r,i){for(var s=this._provider,u=this._chunks,c=this._dimensions,h=c.length,f=this._rawExtent,p=MS(c,function(t){return t.property}),v=0;v<h;v++){var y=c[v];!f[v]&&(f[v]=k8()),k6(u,v,y.type,r,i)}if(s.fillStorage)s.fillStorage(t,r,u,f);else{for(var x=[],_=t;_<r;_++){x=s.getItem(_,x);for(var b=0;b<h;b++){var w=u[b],S=this._dimValueGetter(x,p[b],_,b);w[_]=S;var A=f[b];S<A[0]&&(A[0]=S),S>A[1]&&(A[1]=S)}}}!s.persistent&&s.clean&&s.clean(),this._rawCount=this._count=r,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,r){if(!(r>=0&&r<this._count))return NaN;var i=this._chunks[t];return i?i[this.getRawIndex(r)]:NaN},t.prototype.getValues=function(t,r){var i=[],s=[];if(null==r){r=t,t=[];for(var u=0;u<this._dimensions.length;u++)s.push(u)}else s=t;for(var u=0,c=s.length;u<c;u++)i.push(this.get(s[u],r));return i},t.prototype.getByRawIndex=function(t,r){if(!(r>=0&&r<this._rawCount))return NaN;var i=this._chunks[t];return i?i[r]:NaN},t.prototype.getSum=function(t){var r=this._chunks[t],i=0;if(r)for(var s=0,u=this.count();s<u;s++){var c=this.get(t,s);!isNaN(c)&&(i+=c)}return i},t.prototype.getMedian=function(t){var r=[];this.each([t],function(t){!isNaN(t)&&r.push(t)});var i=r.sort(function(t,r){return t-r}),s=this.count();return 0===s?0:s%2==1?i[(s-1)/2]:(i[s/2]+i[s/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return -1;if(!this._indices)return t;var r=this._indices,i=r[t];if(null!=i&&i<this._count&&i===t)return t;for(var s=0,u=this._count-1;s<=u;){var c=(s+u)/2|0;if(r[c]<t)s=c+1;else{if(!(r[c]>t))return c;u=c-1}}return -1},t.prototype.indicesOfNearest=function(t,r,i){var s=this._chunks[t],u=[];if(!s)return u;null==i&&(i=1/0);for(var c=1/0,h=-1,f=0,p=0,v=this.count();p<v;p++){var y=r-s[this.getRawIndex(p)],x=Math.abs(y);x<=i&&((x<c||x===c&&y>=0&&h<0)&&(c=x,h=y,f=0),y===h&&(u[f++]=p))}return u.length=f,u},t.prototype.getIndices=function(){var t,r=this._indices;if(r){var i=r.constructor,s=this._count;if(i===Array){t=new i(s);for(var u=0;u<s;u++)t[u]=r[u]}else t=new i(r.buffer,0,s)}else{var i=k9(this._rawCount);t=new i(this.count());for(var u=0;u<t.length;u++)t[u]=u}return t},t.prototype.filter=function(t,r){if(!this._count)return this;for(var i=this.clone(),s=i.count(),u=new(k9(i._rawCount))(s),c=[],h=t.length,f=0,p=t[0],v=i._chunks,y=0;y<s;y++){var x=void 0,_=i.getRawIndex(y);if(0===h)x=r(y);else if(1===h)x=r(v[p][_],y);else{for(var b=0;b<h;b++)c[b]=v[t[b]][_];c[b]=y,x=r.apply(null,c)}x&&(u[f++]=_)}return f<s&&(i._indices=u),i._count=f,i._extent=[],i._updateGetRawIdx(),i},t.prototype.selectRange=function(t){var r=this.clone(),i=r._count;if(!i)return this;var s=MT(t),u=s.length;if(!u)return this;var c=r.count(),h=new(k9(r._rawCount))(c),f=0,p=s[0],v=t[p][0],y=t[p][1],x=r._chunks,_=!1;if(!r._indices){var b=0;if(1===u){for(var w=x[s[0]],S=0;S<i;S++){var A=w[S];(A>=v&&A<=y||isNaN(A))&&(h[f++]=b),b++}_=!0}else if(2===u){for(var w=x[s[0]],M=x[s[1]],C=t[s[1]][0],T=t[s[1]][1],S=0;S<i;S++){var A=w[S],I=M[S];(A>=v&&A<=y||isNaN(A))&&(I>=C&&I<=T||isNaN(I))&&(h[f++]=b),b++}_=!0}}if(!_){if(1===u)for(var S=0;S<c;S++){var D=r.getRawIndex(S),A=x[s[0]][D];(A>=v&&A<=y||isNaN(A))&&(h[f++]=D)}else for(var S=0;S<c;S++){for(var R=!0,D=r.getRawIndex(S),P=0;P<u;P++){var L=s[P],A=x[L][D];(A<t[L][0]||A>t[L][1])&&(R=!1)}R&&(h[f++]=r.getRawIndex(S))}}return f<c&&(r._indices=h),r._count=f,r._extent=[],r._updateGetRawIdx(),r},t.prototype.map=function(t,r){var i=this.clone(t);return this._updateDims(i,t,r),i},t.prototype.modify=function(t,r){this._updateDims(this,t,r)},t.prototype._updateDims=function(t,r,i){for(var s=t._chunks,u=[],c=r.length,h=t.count(),f=[],p=t._rawExtent,v=0;v<r.length;v++)p[r[v]]=k8();for(var y=0;y<h;y++){for(var x=t.getRawIndex(y),_=0;_<c;_++)f[_]=s[r[_]][x];f[c]=y;var b=i&&i.apply(null,f);if(null!=b){"object"!=typeof b&&(u[0]=b,b=u);for(var v=0;v<b.length;v++){var w=r[v],S=b[v],A=p[w],M=s[w];M&&(M[x]=S),S<A[0]&&(A[0]=S),S>A[1]&&(A[1]=S)}}}},t.prototype.lttbDownSample=function(t,r){var i,s,u,c=this.clone([t],!0),h=c._chunks[t],f=this.count(),p=0,v=Math.floor(1/r),y=this.getRawIndex(0),x=new(k9(this._rawCount))(Math.min((Math.ceil(f/v)+2)*2,f));x[p++]=y;for(var _=1;_<f-1;_+=v){for(var b=Math.min(_+v,f-1),w=Math.min(_+2*v,f),S=(w+b)/2,A=0,M=b;M<w;M++){var C=this.getRawIndex(M),T=h[C];if(!isNaN(T))A+=T}A/=w-b;var I=_,D=Math.min(_+v,f),R=_-1,P=h[y];i=-1,u=I;for(var L=-1,B=0,M=I;M<D;M++){var C=this.getRawIndex(M),T=h[C];if(isNaN(T)){B++,L<0&&(L=C);continue}(s=Math.abs((R-S)*(T-P)-(R-M)*(A-P)))>i&&(i=s,u=C)}B>0&&B<D-I&&(x[p++]=Math.min(L,u),u=Math.max(L,u)),x[p++]=u,y=u}return x[p++]=this.getRawIndex(f-1),c._count=p,c._indices=x,c.getRawIndex=this._getRawIdx,c},t.prototype.downSample=function(t,r,i,s){for(var u=this.clone([t],!0),c=u._chunks,h=[],f=Math.floor(1/r),p=c[t],v=this.count(),y=u._rawExtent[t]=k8(),x=new(k9(this._rawCount))(Math.ceil(v/f)),_=0,b=0;b<v;b+=f){f>v-b&&(f=v-b,h.length=f);for(var w=0;w<f;w++){var S=this.getRawIndex(b+w);h[w]=p[S]}var A=i(h),M=this.getRawIndex(Math.min(b+s(h,A)||0,v-1));p[M]=A,A<y[0]&&(y[0]=A),A>y[1]&&(y[1]=A),x[_++]=M}return u._count=_,u._indices=x,u._updateGetRawIdx(),u},t.prototype.each=function(t,r){if(!!this._count)for(var i=t.length,s=this._chunks,u=0,c=this.count();u<c;u++){var h=this.getRawIndex(u);switch(i){case 0:r(u);break;case 1:r(s[t[0]][h],u);break;case 2:r(s[t[0]][h],s[t[1]][h],u);break;default:for(var f=0,p=[];f<i;f++)p[f]=s[t[f]][h];p[f]=u,r.apply(null,p)}}},t.prototype.getDataExtent=function(t){var r,i=this._chunks[t],s=k8();if(!i)return s;var u=this.count();if(!this._indices)return this._rawExtent[t].slice();if(r=this._extent[t])return r.slice();for(var c=(r=s)[0],h=r[1],f=0;f<u;f++){var p=i[this.getRawIndex(f)];p<c&&(c=p),p>h&&(h=p)}return r=[c,h],this._extent[t]=r,r},t.prototype.getRawDataItem=function(t){var r=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(r);for(var i=[],s=this._chunks,u=0;u<s.length;u++)i.push(s[u][r]);return i},t.prototype.clone=function(r,i){var s=new t,u=this._chunks,c=r&&MA(r,function(t,r){return t[r]=!0,t},{});if(c)for(var h=0;h<u.length;h++)s._chunks[h]=c[h]?function(t){var r=t.constructor;return r===Array?t.slice():new r(t)}(u[h]):u[h];else s._chunks=u;return this._copyCommonProps(s),!i&&(s._indices=this._cloneIndices()),s._updateGetRawIdx(),s},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Md(this._extent),t._rawExtent=Md(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,r=void 0;if(t===Array){var i=this._indices.length;r=new t(i);for(var s=0;s<i;s++)r[s]=this._indices[s]}else r=new t(this._indices);return r}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,r,i,s){return kz(t[s],this._dimensions[s])}el_={arrayRows:t,objectRows:function(t,r,i,s){return kz(t[r],this._dimensions[s])},keyedColumns:t,original:function(t,r,i,s){var u=t&&(null==t.value?t:t.value);return kz(u instanceof Array?u[s]:u,this._dimensions[s])},typedArray:function(t,r,i,s){return t[s]}}}(),t}(),Oe=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,r){this._sourceList=t,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,r,i=this._sourceHost,s=this._getUpstreamSourceManagers(),u=!!s.length;if(On(i)){var c=void 0,h=void 0,f=void 0;if(u){var p=s[0];p.prepareSource(),c=(f=p.getSource()).data,h=f.sourceFormat,r=[p._getVersionSign()]}else h=MN(c=i.get("data",!0))?BT:BS,r=[];var v=this._getSourceMetaRawOption()||{},y=f&&f.metaRawOption||{},x=Mj(v.seriesLayoutBy,y.seriesLayoutBy)||null,_=Mj(v.sourceHeader,y.sourceHeader),b=Mj(v.dimensions,y.dimensions);t=x!==y.seriesLayoutBy||!!_!=!!y.sourceHeader||b?[kh(c,{seriesLayoutBy:x,sourceHeader:_,dimensions:b},h)]:[]}else if(u){var w=this._applyTransform(s);t=w.sourceList,r=w.upstreamSignList}else t=[kh(i.get("source",!0),this._getSourceMetaRawOption(),null)],r=[];this._setLocalSource(t,r)},t.prototype._applyTransform=function(t){var r,i,s=this._sourceHost,u=s.get("transform",!0),c=s.get("fromTransformResult",!0);null!=c&&1!==t.length&&Or("");var h=[],f=[];if(Mw(t,function(t){t.prepareSource();var r=t.getSource(c||0);null!=c&&!r&&Or(""),h.push(r),f.push(t._getVersionSign())}),u)i=function(t,r,i){var s=I8(t),u=s.length;!u&&kU("");for(var c=0;c<u;c++)r=function(t,r,i,s){!r.length&&kU(""),!Mk(t)&&kU("");var u=t.type,c=kq.get(u);!c&&kU("");var h=MS(r,function(t){return function(t,r){var i=new kY,s=t.data,u=i.sourceFormat=t.sourceFormat,c=t.startIndex;t.seriesLayoutBy!==BI&&kU("");var h=[],f={},p=t.dimensionsDefine;if(p)Mw(p,function(t,r){var i=t.name,s={index:r,name:i,displayName:t.displayName};h.push(s),null!=i&&(M9(f,i)&&kU(""),f[i]=s)});else for(var v=0;v<t.dimensionsDetectedCount;v++)h.push({index:v});var y=k_(u,BI);r.__isBuiltIn&&(i.getRawDataItem=function(t){return y(s,c,h,t)},i.getRawData=ME(kZ,null,t)),i.cloneRawData=ME(kK,null,t);var x=kS(u,BI);i.count=ME(x,null,s,c,h);var _=kC(u);i.retrieveValue=function(t,r){return b(y(s,c,h,t),r)};var b=i.retrieveValueFromItem=function(t,r){if(null!=t){var i=h[r];if(i)return _(t,r,i.name)}};return i.getDimensionInfo=ME(kJ,null,h,f),i.cloneAllDimensionInfo=ME(kQ,null,h),i}(t,c)}),f=I8(c.transform({upstream:h[0],upstreamList:h,config:Md(t.config)}));return MS(f,function(t,i){!Mk(t)&&kU(""),!t.data&&kU(""),!k$(kf(t.data))&&kU("");var s,u=r[0];if(u&&0===i&&!t.dimensions){var c=u.startIndex;c&&(t.data=u.data.slice(0,c).concat(t.data)),s={seriesLayoutBy:BI,sourceHeader:c,dimensions:u.metaRawOption.dimensions}}else s={seriesLayoutBy:BI,sourceHeader:0,dimensions:t.dimensions};return kh(t.data,s,null)})}(s[c],r,i,1===u?null:c),c!==u-1&&(r.length=Math.max(r.length,1));return r}(u,h,{datasetIndex:s.componentIndex});else if(null!=c){;i=[new ku({data:(r=h[0]).data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:Md(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})]}return{sourceList:i,upstreamSignList:f}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),r=0;r<t.length;r++){var i=t[r];if(i._isDirty()||this._upstreamSignList[r]!==i._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var r=this._sourceList[t];if(!r){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(t)}return r},t.prototype.getSharedDataStore=function(t){var r=t.makeStoreSchema();return this._innerGetDataStore(r.dimensions,t.source,r.hash)},t.prototype._innerGetDataStore=function(t,r,i){var s=this._storeList,u=s[0];!u&&(u=s[0]={});var c=u[i];if(!c){var h=this._getUpstreamSourceManagers()[0];On(this._sourceHost)&&h?c=h._innerGetDataStore(t,r,i):(c=new k7).initData(new kv(r,t.length),t),u[i]=c}return c},t.prototype._getUpstreamSourceManagers=function(){var t,r=this._sourceHost;if(On(r)){var i=BB(r);return i?[i.getSourceManager()]:[]}return MS((t=r).get("transform",!0)||t.get("fromTransformResult",!0)?Dp(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},Dd).models:[],function(t){return t.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var t,r,i,s=this._sourceHost;return On(s)?(t=s.get("seriesLayoutBy",!0),r=s.get("sourceHeader",!0),i=s.get("dimensions",!0)):!this._getUpstreamSourceManagers().length&&(t=s.get("seriesLayoutBy",!0),r=s.get("sourceHeader",!0),i=s.get("dimensions",!0)),{seriesLayoutBy:t,sourceHeader:r,dimensions:i}},t}();function Ot(t){t.option.transform&&MQ(t.option.transform)}function On(t){return"series"===t.mainType}function Or(t){throw Error(t)}var Oi="line-height:1";function Oa(t,r){var i=t.color||"#6e7079",s=t.fontSize||12,u=t.fontWeight||"400",c=t.color||"#464646",h=t.fontSize||14,f=t.fontWeight||"900";return"html"===r?{nameStyle:"font-size:"+CO(s+"")+"px;color:"+CO(i)+";font-weight:"+CO(u+""),valueStyle:"font-size:"+CO(h+"")+"px;color:"+CO(c)+";font-weight:"+CO(f+"")}:{nameStyle:{fontSize:s,fill:i,fontWeight:u},valueStyle:{fontSize:h,fill:c,fontWeight:f}}}var Oo=[0,10,20,30],Os=["","\n","\n\n","\n\n\n"];function Ol(t,r){return r.type=t,r}function Ou(t){return"section"===t.type}function Oc(t){return Ou(t)?Oh:Od}function Oh(t,r,i,s){var u=r.noHeader,c=function(t){return{html:Oo[t],richText:Os[t]}}(function t(r){if(Ou(r)){var i=0,s=r.blocks.length,u=s>1||s>0&&!r.noHeader;return Mw(r.blocks,function(r){var s=t(r);s>=i&&(i=s+ +(u&&(!s||Ou(r)&&!r.noHeader)))}),i}return 0}(r)),h=[],f=r.blocks||[];MZ(!f||MD(f)),f=f||[];var p=t.orderMode;if(r.sortBlocks&&p){f=f.slice();var v={valueAsc:"asc",valueDesc:"desc"};if(M9(v,p)){var y=new kW(v[p],null);f.sort(function(t,r){return y.evaluate(t.sortParam,r.sortParam)})}else"seriesDesc"===p&&f.reverse()}Mw(f,function(i,u){var f=r.valueFormatter,p=(Ou(i)?Oh:Od)(f?Mg(Mg({},t),{valueFormatter:f}):t,i,u>0?c.html:0,s);null!=p&&h.push(p)});var x="richText"===t.renderMode?h.join(c.richText):Op(h.join(""),u?i:c.html);if(u)return x;var _=L8(r.header,"ordinal",t.useUTC),b=Oa(s,t.renderMode).nameStyle;return"richText"===t.renderMode?Og(t,_,b)+c.richText+x:Op('<div style="'+b+";"+Oi+';">'+CO(_)+"</div>"+x,i)}function Od(t,r,i,s){var u=t.renderMode,c=r.noName,h=r.noValue,f=!r.markerType,p=r.name,v=t.useUTC,y=r.valueFormatter||t.valueFormatter||function(t){return MS(t=MD(t)?t:[t],function(t,r){return L8(t,MD(b)?b[r]:b,v)})};if(!c||!h){var x=f?"":t.markupStyleCreator.makeTooltipMarker(r.markerType,r.markerColor||"#333",u),_=c?"":L8(p,"ordinal",v),b=r.valueType,w=h?[]:y(r.value,r.dataIndex),S=!f||!c,A=!f&&c,M=Oa(s,u),C=M.nameStyle,T=M.valueStyle;return"richText"===u?(f?"":x)+(c?"":Og(t,_,C))+(h?"":function(t,r,i,s,u){var c=[u];return i&&c.push({padding:[0,0,0,s?10:20],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(MD(r)?r.join("  "):r,c)}(t,w,S,A,T)):Op((f?"":x)+(c?"":function(t,r,i){return'<span style="'+i+";"+(r?"margin-left:2px":"")+'">'+CO(t)+"</span>"}(_,!f,C))+(h?"":function(t,r,i,s){return'<span style="'+(r?"float:right;margin-left:"+(i?"10px":"20px"):"")+";"+s+'">'+MS(t=MD(t)?t:[t],function(t){return CO(t)}).join("&nbsp;&nbsp;")+"</span>"}(w,S,A,T)),i)}}function Of(t,r,i,s,u,c){if(!!t)return(Ou(t)?Oh:Od)({useUTC:u,renderMode:i,orderMode:s,markupStyleCreator:r,valueFormatter:t.valueFormatter},t,0,c)}function Op(t,r){return'<div style="margin: '+r+"px 0 0;"+Oi+';">'+t+'<div style="clear:both"></div></div>'}function Og(t,r,i){return t.markupStyleCreator.wrapRichTextStyle(r,i)}function Om(t,r){return Bi(t.getData().getItemVisual(r,"style")[t.visualDrawType])}function Ov(t,r){var i=t.get("padding");return null!=i?i:"richText"===r?[8,10]:10}var Oy=function(){function t(){this.richTextStyles={},this._nextStyleNameId=I2()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,r,i){var s="richText"===i?this._generateStyleName():null,u=Bt({color:r,type:t,renderMode:i,markerId:s});return MP(u)?u:(this.richTextStyles[s]=u.style,u.content)},t.prototype.wrapRichTextStyle=function(t,r){var i={};MD(r)?Mw(r,function(t){return Mg(i,t)}):Mg(i,r);var s=this._generateStyleName();return this.richTextStyles[s]=i,"{"+s+"|"+t+"}"},t}();function Ox(t){var r,i,s,u,c=t.series,h=t.dataIndex,f=t.multipleSeries,p=c.getData(),v=p.mapDimensionsAll("defaultedTooltip"),y=v.length,x=c.getRawValue(h),_=MD(x),b=Om(c,h);if(y>1||_&&!y){var w=function(t,r,i,s,u){var c=r.getData(),h=MA(t,function(t,r,i){var s=c.getDimensionInfo(i);return t=t||s&&!1!==s.tooltip&&null!=s.displayName},!1),f=[],p=[],v=[];function y(t,r){var i=c.getDimensionInfo(r);if(!!i&&!1!==i.otherDims.tooltip)h?v.push(Ol("nameValue",{markerType:"subItem",markerColor:u,name:i.displayName,value:t,valueType:i.type})):(f.push(t),p.push(i.type))}return s.length?Mw(s,function(t){y(kE(c,i,t),t)}):Mw(t,y),{inlineValues:f,inlineValueTypes:p,blocks:v}}(x,c,h,v,b);r=w.inlineValues,i=w.inlineValueTypes,s=w.blocks,u=w.inlineValues[0]}else if(y){var S=p.getDimensionInfo(v[0]);u=r=kE(p,h,v[0]),i=S.type}else u=r=_?x[0]:x;var A=Da(c),M=A&&c.name||"",C=p.getName(h),T=f?M:C;return Ol("section",{header:M,noHeader:f||!A,sortParam:u,blocks:[Ol("nameValue",{markerType:"item",markerColor:b,name:T,noName:!MK(T),value:r,valueType:i,dataIndex:h})].concat(s||[])})}var O_=Dl();function Ob(t,r){return t.getName(r)||t.getId(r)}var Ow="__universalTransitionEnabled",OS=function(t){var r;function i(){var r=null!==t&&t.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return AK(i,t),i.prototype.init=function(t,r,i){this.seriesIndex=this.componentIndex,this.dataTask=kP({count:OM,reset:OC}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),(O_(this).sourceManager=new Oe(this)).prepareSource();var s=this.getInitialData(t,i);OE(s,this),this.dataTask.context.data=s;O_(this).dataBeforeProcessed=s,OA(this),this._initSelectedMapFromData(s)},i.prototype.mergeDefaultAndTheme=function(t,r){var i=Bd(this),s=i?Bp(t):{},u=this.subType;By.hasClass(u)&&(u+="Series"),Mf(t,r.getTheme().get(this.subType)),Mf(t,this.getDefaultOption()),I6(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&Bf(t,s,i)},i.prototype.mergeOption=function(t,r){t=Mf(this.option,t,!0),this.fillDataTextStyle(t.data);var i=Bd(this);i&&Bf(this.option,t,i);var s=O_(this).sourceManager;s.dirty(),s.prepareSource();var u=this.getInitialData(t,r);OE(u,this),this.dataTask.dirty(),this.dataTask.context.data=u,O_(this).dataBeforeProcessed=u,OA(this),this._initSelectedMapFromData(u)},i.prototype.fillDataTextStyle=function(t){if(t&&!MN(t)){for(var r=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&I6(t[i],"label",r)}},i.prototype.getInitialData=function(t,r){},i.prototype.appendData=function(t){this.getRawData().appendData(t.data)},i.prototype.getData=function(t){var r=OD(this);if(!r)return O_(this).data;var i=r.context.data;return null!=t&&i.getLinkedData?i.getLinkedData(t):i},i.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},i.prototype.setData=function(t){var r=OD(this);if(r){var i=r.context;i.outputData=t,r!==this.dataTask&&(i.data=t)}O_(this).data=t},i.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return M2(t)},i.prototype.getSourceManager=function(){return O_(this).sourceManager},i.prototype.getSource=function(){return this.getSourceManager().getSource()},i.prototype.getRawData=function(){return O_(this).dataBeforeProcessed},i.prototype.getColorBy=function(){return this.get("colorBy")||"series"},i.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},i.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},i.prototype.formatTooltip=function(t,r,i){return Ox({series:this,dataIndex:t,multipleSeries:r})},i.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(A2.node&&!(t&&t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},i.prototype.restoreData=function(){this.dataTask.dirty()},i.prototype.getColorFromPalette=function(t,r,i){var s=this.ecModel,u=Bz.prototype.getColorFromPalette.call(this,t,r,i);return!u&&(u=s.getColorFromPalette(t,r,i)),u},i.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},i.prototype.getProgressive=function(){return this.get("progressive")},i.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},i.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},i.prototype.unselect=function(t,r){var i=this.option.selectedMap;if(!!i){var s=this.option.selectedMode,u=this.getData(r);if("series"===s||"all"===i){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var c=0;c<t.length;c++){var h=Ob(u,t[c]);i[h]=!1,this._selectedDataIndicesMap[h]=-1}}},i.prototype.toggleSelect=function(t,r){for(var i=[],s=0;s<t.length;s++)i[0]=t[s],this.isSelected(t[s],r)?this.unselect(i,r):this.select(i,r)},i.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=MT(t),i=[],s=0;s<r.length;s++){var u=t[r[s]];u>=0&&i.push(u)}return i},i.prototype.isSelected=function(t,r){var i=this.option.selectedMap;if(!i)return!1;var s=this.getData(r);return("all"===i||i[Ob(s,t)])&&!s.getItemModel(t).get(["select","disabled"])},i.prototype.isUniversalTransitionEnabled=function(){if(this[Ow])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},i.prototype._innerSelect=function(t,r){var i,s,u=this.option,c=u.selectedMode,h=r.length;if(!!c&&!!h){if("series"===c)u.selectedMap="all";else if("multiple"===c){!Mk(u.selectedMap)&&(u.selectedMap={});for(var f=u.selectedMap,p=0;p<h;p++){var v=r[p],y=Ob(t,v);f[y]=!0,this._selectedDataIndicesMap[y]=t.getRawIndex(v)}}else if("single"===c||!0===c){var x=r[h-1],y=Ob(t,x);u.selectedMap=((i={})[y]=!0,i),this._selectedDataIndicesMap=((s={})[y]=t.getRawIndex(x),s)}}},i.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(i){var s=t.getRawDataItem(i);s&&s.selected&&r.push(i)}),r.length>0&&this._innerSelect(t,r)}},i.registerClass=function(t){return By.registerClass(t)},i.protoInitialize=void((r=i.prototype).type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"),i}(By);function OA(t){var r=t.name;!Da(t)&&(t.name=function(t){var r=t.getRawData(),i=r.mapDimensionsAll("seriesName"),s=[];return Mw(i,function(t){var i=r.getDimensionInfo(t);i.displayName&&s.push(i.displayName)}),s.join(" ")}(t)||r)}M_(OS,kD),M_(OS,Bz),Dw(OS,By);function OM(t){return t.model.getRawData().count()}function OC(t){var r=t.model;return r.setData(r.getRawData().cloneShallow()),OT}function OT(t,r){r.outputData&&t.end>r.outputData.count()&&r.model.getRawData().cloneShallow(r.outputData)}function OE(t,r){Mw(M3(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(i){t.wrapMethod(i,MI(OI,r))})}function OI(t,r){var i=OD(t);return i&&i.setOutputEnd((r||this).count()),r}function OD(t){var r=(t.ecModel||{}).scheduler,i=r&&r.getPipeline(t.uid);if(i){var s=i.currentTask;if(s){var u=s.agentStubMap;u&&(s=u.get(t.uid))}return s}}let OR=OS;var OP=function(){function t(){this.group=new IS,this.uid=LA("viewComponent")}return t.prototype.init=function(t,r){},t.prototype.render=function(t,r,i,s){},t.prototype.dispose=function(t,r){},t.prototype.updateView=function(t,r,i,s){},t.prototype.updateLayout=function(t,r,i,s){},t.prototype.updateVisual=function(t,r,i,s){},t.prototype.toggleBlurSeries=function(t,r,i){},t.prototype.eachRendered=function(t){var r=this.group;r&&r.traverse(t)},t}();Db(OP),DC(OP);let OL=OP;function OB(){var t=Dl();return function(r){var i=t(r),s=r.pipelineContext,u=!!i.large,c=!!i.progressiveRender,h=i.large=!!(s&&s.large),f=i.progressiveRender=!!(s&&s.progressiveRender);return!!(u!==h||c!==f)&&"reset"}}var Ok=Ry.CMD,OO=[[],[],[]],ON=Math.sqrt,OF=Math.atan2;function OU(t,r){if(!!r){var i,s,u,c,h,f,p=t.data,v=t.len(),y=Ok.M,x=Ok.C,_=Ok.L,b=Ok.R,w=Ok.A,S=Ok.Q;for(u=0,c=0;u<v;){switch(i=p[u++],c=u,s=0,i){case y:case _:s=1;break;case x:s=3;break;case S:s=2;break;case w:var A=r[4],M=r[5],C=ON(r[0]*r[0]+r[1]*r[1]),T=ON(r[2]*r[2]+r[3]*r[3]),I=OF(-r[1]/T,r[0]/C);p[u]*=C,p[u++]+=A,p[u]*=T,p[u++]+=M,p[u++]*=C,p[u++]*=T,p[u++]+=I,p[u++]+=I,u+=2,c=u;break;case b:f[0]=p[u++],f[1]=p[u++],Cb(f,f,r),p[c++]=f[0],p[c++]=f[1],f[0]+=p[u++],f[1]+=p[u++],Cb(f,f,r),p[c++]=f[0],p[c++]=f[1]}for(h=0;h<s;h++){var D=OO[h];D[0]=p[u++],D[1]=p[u++],Cb(D,D,r),p[c++]=D[0],p[c++]=D[1]}}t.increaseVersion()}}var Oz=Math.sqrt,OG=Math.sin,OH=Math.cos,OV=Math.PI;function Oj(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function OW(t,r){return(t[0]*r[0]+t[1]*r[1])/(Oj(t)*Oj(r))}function OX(t,r){return(t[0]*r[1]<t[1]*r[0]?-1:1)*Math.acos(OW(t,r))}function OY(t,r,i,s,u,c,h,f,p,v,y){var x=OV/180*p,_=OH(x)*(t-i)/2+OG(x)*(r-s)/2,b=-1*OG(x)*(t-i)/2+OH(x)*(r-s)/2,w=_*_/(h*h)+b*b/(f*f);w>1&&(h*=Oz(w),f*=Oz(w));var S=(u===c?-1:1)*Oz((h*h*(f*f)-h*h*(b*b)-f*f*(_*_))/(h*h*(b*b)+f*f*(_*_)))||0,A=S*h*b/f,M=-(S*f)*_/h,C=(t+i)/2+OH(x)*A-OG(x)*M,T=(r+s)/2+OG(x)*A+OH(x)*M,I=OX([1,0],[(_-A)/h,(b-M)/f]),D=[(_-A)/h,(b-M)/f],R=[(-1*_-A)/h,(-1*b-M)/f],P=OX(D,R);if(-1>=OW(D,R)&&(P=OV),OW(D,R)>=1&&(P=0),P<0){var L=Math.round(P/OV*1e6)/1e6;P=2*OV+L%2*OV}y.addData(v,C,T,h,f,I,P,x,c)}var OZ=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,OK=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,OJ=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.applyTransform=function(t){},r}(RL);function OQ(t){return null!=t.setData}function Oq(t,r){var i=function(t){var r,i=new Ry;if(!t)return i;var s=0,u=0,c=0,h=0,f=Ry.CMD,p=t.match(OZ);if(!p)return i;for(var v=0;v<p.length;v++){for(var y=p[v],x=y.charAt(0),_=void 0,b=y.match(OK)||[],w=b.length,S=0;S<w;S++)b[S]=parseFloat(b[S]);for(var A=0;A<w;){var M=void 0,C=void 0,T=void 0,I=void 0,D=void 0,R=void 0,P=void 0,L=s,B=u,k=void 0,O=void 0;switch(x){case"l":s+=b[A++],u+=b[A++],_=f.L,i.addData(_,s,u);break;case"L":s=b[A++],u=b[A++],_=f.L,i.addData(_,s,u);break;case"m":s+=b[A++],u+=b[A++],_=f.M,i.addData(_,s,u),c=s,h=u,x="l";break;case"M":s=b[A++],u=b[A++],_=f.M,i.addData(_,s,u),c=s,h=u,x="L";break;case"h":s+=b[A++],_=f.L,i.addData(_,s,u);break;case"H":s=b[A++],_=f.L,i.addData(_,s,u);break;case"v":u+=b[A++],_=f.L,i.addData(_,s,u);break;case"V":u=b[A++],_=f.L,i.addData(_,s,u);break;case"C":_=f.C,i.addData(_,b[A++],b[A++],b[A++],b[A++],b[A++],b[A++]),s=b[A-2],u=b[A-1];break;case"c":_=f.C,i.addData(_,b[A++]+s,b[A++]+u,b[A++]+s,b[A++]+u,b[A++]+s,b[A++]+u),s+=b[A-2],u+=b[A-1];break;case"S":M=s,C=u,k=i.len(),O=i.data,r===f.C&&(M+=s-O[k-4],C+=u-O[k-3]),_=f.C,L=b[A++],B=b[A++],s=b[A++],u=b[A++],i.addData(_,M,C,L,B,s,u);break;case"s":M=s,C=u,k=i.len(),O=i.data,r===f.C&&(M+=s-O[k-4],C+=u-O[k-3]),_=f.C,L=s+b[A++],B=u+b[A++],s+=b[A++],u+=b[A++],i.addData(_,M,C,L,B,s,u);break;case"Q":L=b[A++],B=b[A++],s=b[A++],u=b[A++],_=f.Q,i.addData(_,L,B,s,u);break;case"q":L=b[A++]+s,B=b[A++]+u,s+=b[A++],u+=b[A++],_=f.Q,i.addData(_,L,B,s,u);break;case"T":M=s,C=u,k=i.len(),O=i.data,r===f.Q&&(M+=s-O[k-4],C+=u-O[k-3]),s=b[A++],u=b[A++],_=f.Q,i.addData(_,M,C,s,u);break;case"t":M=s,C=u,k=i.len(),O=i.data,r===f.Q&&(M+=s-O[k-4],C+=u-O[k-3]),s+=b[A++],u+=b[A++],_=f.Q,i.addData(_,M,C,s,u);break;case"A":T=b[A++],I=b[A++],D=b[A++],R=b[A++],P=b[A++],L=s,B=u,s=b[A++],u=b[A++],OY(L,B,s,u,R,P,T,I,D,_=f.A,i);break;case"a":T=b[A++],I=b[A++],D=b[A++],R=b[A++],P=b[A++],L=s,B=u,s+=b[A++],u+=b[A++],OY(L,B,s,u,R,P,T,I,D,_=f.A,i)}}("z"===x||"Z"===x)&&(_=f.Z,i.addData(_),s=c,u=h),r=_}return i.toStatic(),i}(t),s=Mg({},r);return s.buildPath=function(t){if(OQ(t)){t.setData(i.data);var r=t.getContext();r&&t.rebuildPath(r,1)}else{var r=t;i.rebuildPath(r,1)}},s.applyTransform=function(t){OU(i,t),this.dirtyShape()},s}function O$(t,r){return new OJ(Oq(t,r))}function O0(t,r){r=r||{};var i=new RL;return t.shape&&i.setShape(t.shape),i.setStyle(t.style),r.bakeTransform?OU(i.path,t.getComputedTransform()):r.toLocal?i.setLocalTransform(t.getComputedTransform()):i.copyTransform(t),i.buildPath=t.buildPath,i.applyTransform=i.applyTransform,i.z=t.z,i.z2=t.z2,i.zlevel=t.zlevel,i}var O1=function(){this.cx=0,this.cy=0,this.r=0},O2=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultShape=function(){return new O1},r.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,2*Math.PI)},r}(RL);O2.prototype.type="circle";let O3=O2;var O5=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},O4=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultShape=function(){return new O5},r.prototype.buildPath=function(t,r){var i=r.cx,s=r.cy,u=r.rx,c=r.ry,h=.5522848*u,f=.5522848*c;t.moveTo(i-u,s),t.bezierCurveTo(i-u,s-f,i-h,s-c,i,s-c),t.bezierCurveTo(i+h,s-c,i+u,s-f,i+u,s),t.bezierCurveTo(i+u,s+f,i+h,s+c,i,s+c),t.bezierCurveTo(i-h,s+c,i-u,s+f,i-u,s),t.closePath()},r}(RL);O4.prototype.type="ellipse";let O9=O4;var O8=Math.PI,O6=2*O8,O7=Math.sin,Ne=Math.cos,Nt=Math.acos,Nn=Math.atan2,Nr=Math.abs,Ni=Math.sqrt,Na=Math.max,No=Math.min;function Ns(t,r,i,s,u,c,h){var f=t-i,p=r-s,v=(h?c:-c)/Ni(f*f+p*p),y=v*p,x=-v*f,_=t+y,b=r+x,w=i+y,S=s+x,A=(_+w)/2,M=(b+S)/2,C=w-_,T=S-b,I=C*C+T*T,D=u-c,R=_*S-w*b,P=(T<0?-1:1)*Ni(Na(0,D*D*I-R*R)),L=(R*T-C*P)/I,B=(-R*C-T*P)/I,k=(R*T+C*P)/I,O=(-R*C+T*P)/I,N=L-A,F=B-M,U=k-A,z=O-M;return N*N+F*F>U*U+z*z&&(L=k,B=O),{cx:L,cy:B,x0:-y,y0:-x,x1:L*(u/D-1),y1:B*(u/D-1)}}var Nl=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},Nu=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultShape=function(){return new Nl},r.prototype.buildPath=function(t,r){!function(t,r){var i,s=Na(r.r,0),u=Na(r.r0||0,0),c=s>0,h=u>0;if(!c&&!h)return;if(!c&&(s=u,u=0),u>s){var f=s;s=u,u=f}var p=r.startAngle,v=r.endAngle;if(!(isNaN(p)||isNaN(v))){var y=r.cx,x=r.cy,_=!!r.clockwise,b=Nr(v-p),w=b>O6&&b%O6;if(w>1e-4&&(b=w),s>1e-4){if(b>O6-1e-4)t.moveTo(y+s*Ne(p),x+s*O7(p)),t.arc(y,x,s,p,v,!_),u>1e-4&&(t.moveTo(y+u*Ne(v),x+u*O7(v)),t.arc(y,x,u,v,p,_));else{var S=void 0,A=void 0,M=void 0,C=void 0,T=void 0,I=void 0,D=void 0,R=void 0,P=void 0,L=void 0,B=void 0,k=void 0,O=void 0,N=void 0,F=void 0,U=void 0,z=s*Ne(p),G=s*O7(p),H=u*Ne(v),V=u*O7(v),j=b>1e-4;if(j){var W=r.cornerRadius;W&&(S=(i=function(t){var r;if(MD(t)){var i=t.length;if(!i)return t;r=1===i?[t[0],t[0],0,0]:2===i?[t[0],t[0],t[1],t[1]]:3===i?t.concat(t[2]):t}else r=[t,t,t,t];return r}(W))[0],A=i[1],M=i[2],C=i[3]);var X=Nr(s-u)/2;if(T=No(X,M),I=No(X,C),D=No(X,S),R=No(X,A),B=P=Na(T,I),k=L=Na(D,R),(P>1e-4||L>1e-4)&&(O=s*Ne(v),N=s*O7(v),F=u*Ne(p),U=u*O7(p),b<O8)){var Y=function(t,r,i,s,u,c,h,f){var p=i-t,v=s-r,y=h-u,x=f-c,_=x*p-y*v;if(!(_*_<1e-4))return _=(y*(r-c)-x*(t-u))/_,[t+_*p,r+_*v]}(z,G,F,U,O,N,H,V);if(Y){var Z=z-Y[0],K=G-Y[1],J=O-Y[0],Q=N-Y[1],q=1/O7(Nt((Z*J+K*Q)/(Ni(Z*Z+K*K)*Ni(J*J+Q*Q)))/2),$=Ni(Y[0]*Y[0]+Y[1]*Y[1]);B=No(P,(s-$)/(q+1)),k=No(L,(u-$)/(q-1))}}}if(j){if(B>1e-4){var ee=No(M,B),et=No(C,B),en=Ns(F,U,z,G,s,ee,_),er=Ns(O,N,H,V,s,et,_);t.moveTo(y+en.cx+en.x0,x+en.cy+en.y0),B<P&&ee===et?t.arc(y+en.cx,x+en.cy,B,Nn(en.y0,en.x0),Nn(er.y0,er.x0),!_):(ee>0&&t.arc(y+en.cx,x+en.cy,ee,Nn(en.y0,en.x0),Nn(en.y1,en.x1),!_),t.arc(y,x,s,Nn(en.cy+en.y1,en.cx+en.x1),Nn(er.cy+er.y1,er.cx+er.x1),!_),et>0&&t.arc(y+er.cx,x+er.cy,et,Nn(er.y1,er.x1),Nn(er.y0,er.x0),!_))}else t.moveTo(y+z,x+G),t.arc(y,x,s,p,v,!_)}else t.moveTo(y+z,x+G);if(u>1e-4&&j){if(k>1e-4){var ee=No(S,k),et=No(A,k),en=Ns(H,V,O,N,u,-et,_),er=Ns(z,G,F,U,u,-ee,_);t.lineTo(y+en.cx+en.x0,x+en.cy+en.y0),k<L&&ee===et?t.arc(y+en.cx,x+en.cy,k,Nn(en.y0,en.x0),Nn(er.y0,er.x0),!_):(et>0&&t.arc(y+en.cx,x+en.cy,et,Nn(en.y0,en.x0),Nn(en.y1,en.x1),!_),t.arc(y,x,u,Nn(en.cy+en.y1,en.cx+en.x1),Nn(er.cy+er.y1,er.cx+er.x1),_),ee>0&&t.arc(y+er.cx,x+er.cy,ee,Nn(er.y1,er.x1),Nn(er.y0,er.x0),!_))}else t.lineTo(y+H,x+V),t.arc(y,x,u,v,p,_)}else t.lineTo(y+H,x+V)}}else t.moveTo(y,x);t.closePath()}}(t,r)},r.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},r}(RL);Nu.prototype.type="sector";let Nc=Nu;var Nh=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Nd=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultShape=function(){return new Nh},r.prototype.buildPath=function(t,r){var i=r.cx,s=r.cy,u=2*Math.PI;t.moveTo(i+r.r,s),t.arc(i,s,r.r,0,u,!1),t.moveTo(i+r.r0,s),t.arc(i,s,r.r0,0,u,!0)},r}(RL);Nd.prototype.type="ring";let Nf=Nd;function Np(t,r,i){var s=r.smooth,u=r.points;if(u&&u.length>=2){if(s){var c=function(t,r,i,s){var u,c,h,f,p=[],v=[],y=[],x=[];if(s){h=[1/0,1/0],f=[-1/0,-1/0];for(var _=0,b=t.length;_<b;_++)Cw(h,h,t[_]),CS(f,f,t[_]);Cw(h,h,s[0]),CS(f,f,s[1])}for(var _=0,b=t.length;_<b;_++){var w=t[_];if(i)u=t[_?_-1:b-1],c=t[(_+1)%b];else{if(0===_||_===b-1){p.push(Ct(t[_]));continue}u=t[_-1],c=t[_+1]}Ca(v,c,u),Cf(v,v,r);var S=Cg(w,u),A=Cg(w,c),M=S+A;0!==M&&(S/=M,A/=M),Cf(y,v,-S),Cf(x,v,A);var C=Cr([],w,y),T=Cr([],w,x);s&&(CS(C,C,h),Cw(C,C,f),CS(T,T,h),Cw(T,T,f)),p.push(C),p.push(T)}return i&&p.push(p.shift()),p}(u,s,i,r.smoothConstraint);t.moveTo(u[0][0],u[0][1]);for(var h=u.length,f=0;f<(i?h:h-1);f++){var p=c[2*f],v=c[2*f+1],y=u[(f+1)%h];t.bezierCurveTo(p[0],p[1],v[0],v[1],y[0],y[1])}}else{t.moveTo(u[0][0],u[0][1]);for(var f=1,x=u.length;f<x;f++)t.lineTo(u[f][0],u[f][1])}i&&t.closePath()}}var Ng=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Nm=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultShape=function(){return new Ng},r.prototype.buildPath=function(t,r){Np(t,r,!0)},r}(RL);Nm.prototype.type="polygon";let Nv=Nm;var Ny=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},Nx=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new Ny},r.prototype.buildPath=function(t,r){Np(t,r,!1)},r}(RL);Nx.prototype.type="polyline";let N_=Nx;var Nb={},Nw=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},NS=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new Nw},r.prototype.buildPath=function(t,r){if(this.subPixelOptimize){var i,s,u,c,h=RG(Nb,r,this.style);i=h.x1,s=h.y1,u=h.x2,c=h.y2}else i=r.x1,s=r.y1,u=r.x2,c=r.y2;var f=r.percent;if(0!==f)t.moveTo(i,s),f<1&&(u=i*(1-f)+u*f,c=s*(1-f)+c*f),t.lineTo(u,c)},r.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},r}(RL);NS.prototype.type="line";let NA=NS;var NM=[],NC=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function NT(t,r,i){var s=t.cpx2,u=t.cpy2;return null!=s||null!=u?[(i?TB:TL)(t.x1,t.cpx1,t.cpx2,t.x2,r),(i?TB:TL)(t.y1,t.cpy1,t.cpy2,t.y2,r)]:[(i?Tz:TU)(t.x1,t.cpx1,t.x2,r),(i?Tz:TU)(t.y1,t.cpy1,t.y2,r)]}var NE=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new NC},r.prototype.buildPath=function(t,r){var i=r.x1,s=r.y1,u=r.x2,c=r.y2,h=r.cpx1,f=r.cpy1,p=r.cpx2,v=r.cpy2,y=r.percent;if(0!==y)t.moveTo(i,s),null==p||null==v?(y<1&&(TH(i,h,u,y,NM),h=NM[1],u=NM[2],TH(s,f,c,y,NM),f=NM[1],c=NM[2]),t.quadraticCurveTo(h,f,u,c)):(y<1&&(TN(i,h,p,u,y,NM),h=NM[1],p=NM[2],u=NM[3],TN(s,f,v,c,y,NM),f=NM[1],v=NM[2],c=NM[3]),t.bezierCurveTo(h,f,p,v,u,c))},r.prototype.pointAt=function(t){return NT(this.shape,t,!1)},r.prototype.tangentAt=function(t){var r=NT(this.shape,t,!0);return Cp(r,r)},r}(RL);NE.prototype.type="bezier-curve";let NI=NE;var ND=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},NR=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new ND},r.prototype.buildPath=function(t,r){var i=r.cx,s=r.cy,u=Math.max(r.r,0),c=r.startAngle,h=r.endAngle,f=r.clockwise,p=Math.cos(c),v=Math.sin(c);t.moveTo(p*u+i,v*u+s),t.arc(i,s,u,c,h,!f)},r}(RL);NR.prototype.type="arc";let NP=NR,NL=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.type="compound",r}return AK(r,t),r.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),i=0;i<t.length;i++)r=r||t[i].shapeChanged();r&&this.dirtyShape()},r.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<t.length;i++)!t[i].path&&t[i].createPathProxy(),t[i].path.setScale(r[0],r[1],t[i].segmentIgnoreThreshold)},r.prototype.buildPath=function(t,r){for(var i=r.paths||[],s=0;s<i.length;s++)i[s].buildPath(t,i[s].shape,!0)},r.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},r.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),RL.prototype.getBoundingRect.call(this)},r}(RL);var NB=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,r){this.colorStops.push({offset:t,color:r})},t}();let Nk=function(t){function r(r,i,s,u,c,h){var f=t.call(this,c)||this;return f.x=null==r?0:r,f.y=null==i?0:i,f.x2=null==s?1:s,f.y2=null==u?0:u,f.type="linear",f.global=h||!1,f}return AK(r,t),r}(NB),NO=function(t){function r(r,i,s,u,c){var h=t.call(this,u)||this;return h.x=null==r?.5:r,h.y=null==i?.5:i,h.r=null==s?.5:s,h.type="radial",h.global=c||!1,h}return AK(r,t),r}(NB);var NN=[0,0],NF=[0,0],NU=new C4,Nz=new C4;let NG=function(){function t(t,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new C4;for(var i=0;i<2;i++)this._axes[i]=new C4;t&&this.fromBoundingRect(t,r)}return t.prototype.fromBoundingRect=function(t,r){var i=this._corners,s=this._axes,u=t.x,c=t.y,h=u+t.width,f=c+t.height;if(i[0].set(u,c),i[1].set(h,c),i[2].set(h,f),i[3].set(u,f),r)for(var p=0;p<4;p++)i[p].transform(r);C4.sub(s[0],i[1],i[0]),C4.sub(s[1],i[3],i[0]),s[0].normalize(),s[1].normalize();for(var p=0;p<2;p++)this._origin[p]=s[p].dot(i[0])},t.prototype.intersect=function(t,r){var i=!0,s=!r;return(NU.set(1/0,1/0),Nz.set(0,0),!this._intersectCheckOneSide(this,t,NU,Nz,s,1)&&(i=!1,s)||!this._intersectCheckOneSide(t,this,NU,Nz,s,-1)&&(i=!1,s))?i:(!s&&C4.copy(r,i?NU:Nz),i)},t.prototype._intersectCheckOneSide=function(t,r,i,s,u,c){for(var h=!0,f=0;f<2;f++){var p=this._axes[f];if(this._getProjMinMaxOnAxis(f,t._corners,NN),this._getProjMinMaxOnAxis(f,r._corners,NF),NN[1]<NF[0]||NN[0]>NF[1]){if(h=!1,u)return h;var v=Math.abs(NF[0]-NN[1]),y=Math.abs(NN[0]-NF[1]);Math.min(v,y)>s.len()&&(v<y?C4.scale(s,p,-v*c):C4.scale(s,p,y*c))}else if(i){var v=Math.abs(NF[0]-NN[1]),y=Math.abs(NN[0]-NF[1]);Math.min(v,y)<i.len()&&(v<y?C4.scale(i,p,v*c):C4.scale(i,p,-y*c))}}return h},t.prototype._getProjMinMaxOnAxis=function(t,r,i){for(var s=this._axes[t],u=this._origin,c=r[0].dot(s)+u[t],h=c,f=c,p=1;p<r.length;p++){var v=r[p].dot(s)+u[t];h=Math.min(v,h),f=Math.max(v,f)}i[0]=h,i[1]=f},t}();var NH=[];let NV=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return AK(r,t),r.prototype.traverse=function(t,r){t.call(r,this)},r.prototype.useStyle=function(){this.style={}},r.prototype.getCursor=function(){return this._cursor},r.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},r.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},r.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},r.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},r.prototype.addDisplayables=function(t,r){r=r||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],r)},r.prototype.getDisplayables=function(){return this._displayables},r.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},r.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},r.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var r=this._displayables[t];r.parent=this,r.update(),r.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var r=this._temporaryDisplayables[t];r.parent=this,r.update(),r.parent=null}},r.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Ti(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],s=i.getBoundingRect().clone();i.needLocalTransform()&&s.applyTransform(i.getLocalTransform(NH)),t.union(s)}this._rect=t}return this._rect},r.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r);if(this.getBoundingRect().contain(i[0],i[1])){for(var s=0;s<this._displayables.length;s++)if(this._displayables[s].contain(t,r))return!0}return!1},r}(DK);var Nj=Math.max,NW=Math.min,NX={};function NY(t){return RL.extend(t)}var NZ=function(t,r){var i=Oq(t,r);return function(t){function r(r){var s=t.call(this,r)||this;return s.applyTransform=i.applyTransform,s.buildPath=i.buildPath,s}return AK(r,t),r}(OJ)};function NK(t,r){return NZ(t,r)}function NJ(t,r){NX[t]=r}function NQ(t){if(NX.hasOwnProperty(t))return NX[t]}function Nq(t,r,i,s){var u=new OJ(Oq(t,r));return i&&("center"===s&&(i=N0(i,u.getBoundingRect())),N2(u,i)),u}function N$(t,r,i){var s=new RU({style:{image:t,x:r.x,y:r.y,width:r.width,height:r.height},onload:function(t){if("center"===i){var u={width:t.width,height:t.height};s.setStyle(N0(r,u))}}});return s}function N0(t,r){var i,s=r.width/r.height,u=t.height*s;return i=u<=t.width?t.height:(u=t.width)/s,{x:t.x+t.width/2-u/2,y:t.y+t.height/2-i/2,width:u,height:i}}var N1=function(t,r){for(var i=[],s=t.length,u=0;u<s;u++){var c=t[u];i.push(c.getUpdatedPathProxy(!0))}var h=new RL(r);return h.createPathProxy(),h.buildPath=function(t){if(OQ(t)){t.appendPath(i);var r=t.getContext();r&&t.rebuildPath(r,1)}},h};function N2(t,r){if(!!t.applyTransform){var i=t.getBoundingRect().calculateTransform(r);t.applyTransform(i)}}function N3(t,r){return RG(t,t,{lineWidth:r}),t}function N5(t){return RH(t.shape,t.shape,t.style),t}var N4=RV;function N9(t,r){for(var i=CQ([]);t&&t!==r;)C$(i,t.getLocalTransform(),i),t=t.parent;return i}function N8(t,r,i){return r&&!Mb(r)&&(r=In.getLocalTransform(r)),i&&(r=C3([],r)),Cb([],t,r)}function N6(t,r,i){var s=0===r[4]||0===r[5]||0===r[0]?1:Math.abs(2*r[4]/r[0]),u=0===r[4]||0===r[5]||0===r[2]?1:Math.abs(2*r[4]/r[2]),c=["left"===t?-s:"right"===t?s:0,"top"===t?-u:"bottom"===t?u:0];return Math.abs((c=N8(c,r,i))[0])>Math.abs(c[1])?c[0]>0?"right":"left":c[1]>0?"bottom":"top"}function N7(t){return!t.isGroup}function Fe(t,r,i){if(!!t&&!!r){var s,u=(s={},t.traverse(function(t){if(!t.isGroup&&t.anid)s[t.anid]=t}),s);r.traverse(function(t){if(!t.isGroup&&t.anid){var r=u[t.anid];if(r){var s=c(t);t.attr(c(r)),P$(t,s,i,Pe(t).dataIndex)}}})}function c(t){var r={x:t.x,y:t.y,rotation:t.rotation};if(null!=t.shape)r.shape=Mg({},t.shape);return r}}function Ft(t,r){return MS(t,function(t){var i=t[0];i=NW(i=Nj(i,r.x),r.x+r.width);var s=t[1];return[i,s=NW(s=Nj(s,r.y),r.y+r.height)]})}function Fn(t,r){var i=Nj(t.x,r.x),s=NW(t.x+t.width,r.x+r.width),u=Nj(t.y,r.y),c=NW(t.y+t.height,r.y+r.height);if(s>=i&&c>=u)return{x:i,y:u,width:s-i,height:c-u}}function Fr(t,r,i){var s=Mg({rectHover:!0},r),u=s.style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(u.image=t.slice(8),Mm(u,i),new RU(s)):Nq(t.replace("path://",""),s,i,"center")}function Fi(t,r,i,s,u){for(var c=0,h=u[u.length-1];c<u.length;c++){var f=u[c];if(Fa(t,r,i,s,f[0],f[1],h[0],h[1]))return!0;h=f}}function Fa(t,r,i,s,u,c,h,f){var p=i-t,v=s-r,y=h-u,x=f-c,_=function(t,r,i,s){return t*s-i*r}(y,x,p,v);if(function(t){return t<=1e-6&&t>=-1e-6}(_))return!1;var b=t-u,w=r-c,S=function(t,r,i,s){return t*s-i*r}(b,w,p,v)/_;if(S<0||S>1)return!1;var A=function(t,r,i,s){return t*s-i*r}(b,w,y,x)/_;return!(A<0)&&!(A>1)&&!0}function Fo(t,r,i,s){return t*s-i*r}function Fs(t){var r=t.itemTooltipOption,i=t.componentModel,s=t.itemName,u=MP(r)?{formatter:r}:r,c=i.mainType,h=i.componentIndex,f={componentType:c,name:s,$vars:["name"]};f[c+"Index"]=h;var p=t.formatterParamsExtra;p&&Mw(MT(p),function(t){!M9(f,t)&&(f[t]=p[t],f.$vars.push(t))});var v=Pe(t.el);v.componentMainType=c,v.componentIndex=h,v.tooltipConfig={name:s,option:Mm({content:s,encodeHTMLContent:!0,formatterParams:f},u)}}function Fl(t,r){var i;t.isGroup&&(i=r(t)),!i&&t.traverse(r)}function Fu(t,r){if(t){if(MD(t))for(var i=0;i<t.length;i++)Fl(t[i],r);else Fl(t,r)}}es2=O3,NX.circle=es2,es3=O9,NX.ellipse=es3,es5=Nc,NX.sector=es5,es4=Nf,NX.ring=es4,es9=Nv,NX.polygon=es9,es8=N_,NX.polyline=es8,es6=RY,NX.rect=es6,es7=NA,NX.line=es7,ele=NI,NX.bezierCurve=ele,elt=NP,NX.arc=elt;var Fc=Dl(),Fh=OB(),Fd=function(){function t(){this.group=new IS,this.uid=LA("viewChart"),this.renderTask=kP({plan:Fg,reset:Fm}),this.renderTask.context={view:this}}return t.prototype.init=function(t,r){},t.prototype.render=function(t,r,i,s){},t.prototype.highlight=function(t,r,i,s){var u=t.getData(s&&s.dataType);if(!!u)Fp(u,s,"emphasis")},t.prototype.downplay=function(t,r,i,s){var u=t.getData(s&&s.dataType);if(!!u)Fp(u,s,"normal")},t.prototype.remove=function(t,r){this.group.removeAll()},t.prototype.dispose=function(t,r){},t.prototype.updateView=function(t,r,i,s){this.render(t,r,i,s)},t.prototype.updateLayout=function(t,r,i,s){this.render(t,r,i,s)},t.prototype.updateVisual=function(t,r,i,s){this.render(t,r,i,s)},t.prototype.eachRendered=function(t){Fu(this.group,t)},t.markUpdateMethod=function(t,r){Fc(t).updateMethod=r},t.protoInitialize=void(t.prototype.type="chart"),t}();function Ff(t,r,i){t&&PY(t)&&("emphasis"===r?PE:PI)(t,i)}function Fp(t,r,i){var s,u,c=Ds(t,r);var h=r&&null!=r.highlightKey?(null==(u=Pr[s=r.highlightKey])&&Pn<=32&&(u=Pr[s]=Pn++),u):null;null!=c?Mw(I8(c),function(r){Ff(t.getItemGraphicEl(r),i,h)}):t.eachItemGraphicEl(function(t){Ff(t,i,h)})}function Fg(t){return Fh(t.model)}function Fm(t){var r=t.model,i=t.ecModel,s=t.api,u=t.payload,c=r.pipelineContext.progressiveRender,h=t.view,f=u&&Fc(u).updateMethod,p=c?"incrementalPrepareRender":f&&h[f]?f:"render";return"render"!==p&&h[p](r,i,s,u),Fv[p]}Db(Fd,["dispose"]),DC(Fd);var Fv={incrementalPrepareRender:{progress:function(t,r){r.view.incrementalRender(t,r.model,r.ecModel,r.api,r.payload)}},render:{forceFirstProgress:!0,progress:function(t,r){r.view.render(r.model,r.ecModel,r.api,r.payload)}}};let Fy=Fd;var Fx="\0__throttleOriginMethod",F_="\0__throttleRate",Fb="\0__throttleType";function Fw(t,r,i){var s,u,c,h,f,p=0,v=0,y=null;function x(){v=new Date().getTime(),y=null,t.apply(c,h||[])}r=r||0;var _=function(){for(var t=[],_=0;_<arguments.length;_++)t[_]=arguments[_];s=new Date().getTime(),c=this,h=t;var b=f||r,w=f||i;f=null,u=s-(w?p:v)-b,clearTimeout(y),w?y=setTimeout(x,b):u>=0?x():y=setTimeout(x,-u),p=s};return _.clear=function(){y&&(clearTimeout(y),y=null)},_.debounceNextCall=function(t){f=t},_}function FS(t,r,i,s){var u=t[r];if(!!u){var c=u[Fx]||u,h=u[Fb];if(u[F_]!==i||h!==s){if(null==i||!s)return t[r]=c;(u=t[r]=Fw(c,i,"debounce"===s))[Fx]=c,u[Fb]=s,u[F_]=i}return u}}function FA(t,r){var i=t[r];i&&i[Fx]&&(i.clear&&i.clear(),t[r]=i[Fx])}var FM=Dl(),FC={itemStyle:DT(Ly,!0),lineStyle:DT(Lg,!0)},FT={lineStyle:"stroke",itemStyle:"fill"};function FE(t,r){var i=t.visualStyleMapper||FC[r];return i?i:FC.itemStyle}function FI(t,r){var i=t.visualDrawType||FT[r];return i?i:"fill"}var FD=new Lw,FR=Math.PI,FP=function(){function t(t,r,i,s){this._stageTaskMap=M2(),this.ecInstance=t,this.api=r,i=this._dataProcessorHandlers=i.slice(),s=this._visualHandlers=s.slice(),this._allHandlers=i.concat(s)}return t.prototype.restoreData=function(t,r){t.restoreData(r),this._stageTaskMap.each(function(t){var r=t.overallTask;r&&r.dirty()})},t.prototype.getPerformArgs=function(t,r){if(!!t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),s=i.context,u=!r&&i.progressiveEnabled&&(!s||s.progressiveRender)&&t.__idxInPipeline>i.blockIndex?i.step:null,c=s&&s.modDataCount,h=null!=c?Math.ceil(c/u):null;return{step:u,modBy:h,modDataCount:c}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,r){var i=this._pipelineMap.get(t.uid),s=t.getData().count(),u=i.progressiveEnabled&&r.incrementalPrepareRender&&s>=i.threshold,c=t.get("large")&&s>=t.get("largeThreshold"),h="mod"===t.get("progressiveChunkMode")?s:null;t.pipelineContext=i.context={progressiveRender:u,modDataCount:h,large:c}},t.prototype.restorePipelines=function(t){var r=this,i=r._pipelineMap=M2();t.eachSeries(function(t){var s=t.getProgressive(),u=t.uid;i.set(u,{id:u,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:s&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(s||700),count:0}),r._pipe(t,t.dataTask)})},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,r=this.api.getModel(),i=this.api;Mw(this._allHandlers,function(s){var u=t.get(s.uid)||t.set(s.uid,{});MZ(!(s.reset&&s.overallReset),""),s.reset&&this._createSeriesStageTask(s,u,r,i),s.overallReset&&this._createOverallStageTask(s,u,r,i)},this)},t.prototype.prepareView=function(t,r,i,s){var u=t.renderTask,c=u.context;c.model=r,c.ecModel=i,c.api=s,u.__block=!t.incrementalPrepareRender,this._pipe(r,u)},t.prototype.performDataProcessorTasks=function(t,r){this._performStageTasks(this._dataProcessorHandlers,t,r,{block:!0})},t.prototype.performVisualTasks=function(t,r,i){this._performStageTasks(this._visualHandlers,t,r,i)},t.prototype._performStageTasks=function(t,r,i,s){s=s||{};var u=!1,c=this;function h(t,r){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(r.__pipeline.id))}Mw(t,function(t,f){if(!s.visualType||s.visualType===t.visualType){var p=c._stageTaskMap.get(t.uid),v=p.seriesTaskMap,y=p.overallTask;if(y){var x,_=y.agentStubMap;_.each(function(t){h(s,t)&&(t.dirty(),x=!0)}),x&&y.dirty(),c.updatePayload(y,i);var b=c.getPerformArgs(y,s.block);_.each(function(t){t.perform(b)}),y.perform(b)&&(u=!0)}else v&&v.each(function(f,p){h(s,f)&&f.dirty();var v=c.getPerformArgs(f,s.block);v.skip=!t.performRawSeries&&r.isSeriesFiltered(f.context.model),c.updatePayload(f,i),f.perform(v)&&(u=!0)})}}),this.unfinished=u||this.unfinished},t.prototype.performSeriesTasks=function(t){var r;t.eachSeries(function(t){r=t.dataTask.perform()||r}),this.unfinished=r||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(t){var r=t.tail;do{if(r.__block){t.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},t.prototype.updatePayload=function(t,r){"remain"!==r&&(t.context.payload=r)},t.prototype._createSeriesStageTask=function(t,r,i,s){var u=this,c=r.seriesTaskMap,h=r.seriesTaskMap=M2(),f=t.seriesType,p=t.getTargetSeries;function v(r){var f=r.uid,p=h.set(f,c&&c.get(f)||kP({plan:FN,reset:FF,count:FG}));p.context={model:r,ecModel:i,api:s,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:u},u._pipe(r,p)}t.createOnAllSeries?i.eachRawSeries(v):f?i.eachRawSeriesByType(f,v):p&&p(i,s).each(v)},t.prototype._createOverallStageTask=function(t,r,i,s){var u=this,c=r.overallTask=r.overallTask||kP({reset:FL});c.context={ecModel:i,api:s,overallReset:t.overallReset,scheduler:u};var h=c.agentStubMap,f=c.agentStubMap=M2(),p=t.seriesType,v=t.getTargetSeries,y=!0,x=!1;function _(t){var r=t.uid,i=f.set(r,h&&h.get(r)||(x=!0,kP({reset:FB,onDirty:FO})));i.context={model:t,overallProgress:y},i.agent=c,i.__block=y,u._pipe(t,i)}MZ(!t.createOnAllSeries,""),p?i.eachRawSeriesByType(p,_):v?v(i,s).each(_):(y=!1,Mw(i.getSeries(),_)),x&&c.dirty()},t.prototype._pipe=function(t,r){var i=t.uid,s=this._pipelineMap.get(i);s.head||(s.head=r),s.tail&&s.tail.pipe(r),s.tail=r,r.__idxInPipeline=s.count++,r.__pipeline=s},t.wrapStageHandler=function(t,r){return MR(t)&&(t={overallReset:t,seriesType:function(t){elb=null;try{t(FH,FV)}catch(t){}return elb}(t)}),t.uid=LA("stageHandler"),r&&(t.visualType=r),t},t}();function FL(t){t.overallReset(t.ecModel,t.api,t.payload)}function FB(t){return t.overallProgress&&Fk}function Fk(){this.agent.dirty(),this.getDownstream().dirty()}function FO(){this.agent&&this.agent.dirty()}function FN(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function FF(t){t.useClearVisual&&t.data.clearAllVisual();var r=t.resetDefines=I8(t.reset(t.model,t.ecModel,t.api,t.payload));return r.length>1?MS(r,function(t,r){return Fz(r)}):FU}var FU=Fz(0);function Fz(t){return function(r,i){var s=i.data,u=i.resetDefines[t];if(u&&u.dataEach)for(var c=r.start;c<r.end;c++)u.dataEach(s,c);else u&&u.progress&&u.progress(r,s)}}function FG(t){return t.data.count()}var FH={},FV={};function Fj(t,r){for(var i in r.prototype)t[i]=M8}Fj(FH,Bj),Fj(FV,BK),FH.eachSeriesByType=FH.eachRawSeriesByType=function(t){elb=t},FH.eachComponent=function(t){"series"===t.mainType&&t.subType&&(elb=t.subType)};var FW=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],FX="#B9B8CE",FY="#100C2A",FZ=function(){return{axisLine:{lineStyle:{color:FX}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},FK=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],FJ={darkMode:!0,color:FK,backgroundColor:FY,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:FX}},textStyle:{color:FX},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:FX}},dataZoom:{borderColor:"#71708A",textStyle:{color:FX},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:FX}},timeline:{lineStyle:{color:FX},label:{color:FX},controlStyle:{color:FX,borderColor:FX}},calendar:{itemStyle:{color:FY},dayLabel:{color:FX},monthLabel:{color:FX},yearLabel:{color:FX}},timeAxis:FZ(),logAxis:FZ(),valueAxis:FZ(),categoryAxis:FZ(),line:{symbol:"circle"},graph:{color:FK},gauge:{title:{color:FX},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:FX},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};FJ.categoryAxis.splitLine.show=!1;var FQ=function(){function t(){}return t.prototype.normalizeQuery=function(t){var r={},i={},s={};if(MP(t)){var u=D_(t);r.mainType=u.main||null,r.subType=u.sub||null}else{var c=["Index","Name","Id"],h={name:1,dataIndex:1,dataType:1};Mw(t,function(t,u){for(var f=!1,p=0;p<c.length;p++){var v=c[p],y=u.lastIndexOf(v);if(y>0&&y===u.length-v.length){var x=u.slice(0,y);"data"!==x&&(r.mainType=x,r[v.toLowerCase()]=t,f=!0)}}h.hasOwnProperty(u)&&(i[u]=t,f=!0),!f&&(s[u]=t)})}return{cptQuery:r,dataQuery:i,otherQuery:s}},t.prototype.filter=function(t,r){var i=this.eventInfo;if(!i)return!0;var s=i.targetEl,u=i.packedEvent,c=i.model,h=i.view;if(!c||!h)return!0;var f=r.cptQuery,p=r.dataQuery;return v(f,c,"mainType")&&v(f,c,"subType")&&v(f,c,"index","componentIndex")&&v(f,c,"name")&&v(f,c,"id")&&v(p,u,"name")&&v(p,u,"dataIndex")&&v(p,u,"dataType")&&(!h.filterForExposedEvent||h.filterForExposedEvent(t,r.otherQuery,s,u));function v(t,r,i,s){return null==t[i]||r[s||i]===t[i]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),Fq=["symbol","symbolSize","symbolRotate","symbolOffset"],F$=Fq.concat(["symbolKeepAspect"]);function F0(t,r,i){switch(i){case"color":return t.getItemVisual(r,"style")[t.getVisual("drawType")];case"opacity":return t.getItemVisual(r,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(r,i)}}function F1(t,r){switch(r){case"color":return t.getVisual("style")[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(r)}}function F2(t,r,i,s){switch(i){case"color":t.ensureUniqueItemVisual(r,"style")[t.getVisual("drawType")]=s,t.setItemVisual(r,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(r,"style").opacity=s;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(r,i,s)}}function F3(t,r){Mw([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(i){r(i[0],function(r,s,u){var c,h,f;r=Mg({},r);u.dispatchAction(Mg(r,{type:i[1],seriesIndex:(c=s,h=r,f=[],c.eachComponent({mainType:"series",subType:t,query:h},function(t){f.push(t.seriesIndex)}),f)}))})})}function F5(t,r,i,s,u){var c=t+r;!i.isSilent(c)&&s.eachComponent({mainType:"series",subType:"pie"},function(t){for(var r=t.seriesIndex,s=t.option.selectedMap,h=u.selected,f=0;f<h.length;f++)if(h[f].seriesIndex===r){var p=t.getData(),v=Ds(p,u.fromActionPayload);i.trigger(c,{type:c,seriesId:t.id,name:MD(v)?p.getName(v[0]):p.getName(v),selected:MP(s)?s:Mg({},s)})}})}function F4(t,r,i){for(var s;t&&(!r(t)||(s=t,!i));){;t=t.__hostTarget||t.parent}return s}var F9=Math.round(9*Math.random()),F8="function"==typeof Object.defineProperty,F6=function(){function t(){this._id="__ec_inner_"+F9++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,r){var i=this._guard(t);return F8?Object.defineProperty(i,this._id,{value:r,enumerable:!1,configurable:!0}):i[this._id]=r,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),F7=RL.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,r){var i=r.cx,s=r.cy,u=r.width/2,c=r.height/2;t.moveTo(i,s-c),t.lineTo(i+u,s+c),t.lineTo(i-u,s+c),t.closePath()}}),Ue=RL.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,r){var i=r.cx,s=r.cy,u=r.width/2,c=r.height/2;t.moveTo(i,s-c),t.lineTo(i+u,s),t.lineTo(i,s+c),t.lineTo(i-u,s),t.closePath()}}),Ut=RL.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,r){var i=r.x,s=r.y,u=r.width/5*3,c=Math.max(u,r.height),h=u/2,f=h*h/(c-h),p=s-c+h+f,v=Math.asin(f/h),y=Math.cos(v)*h,x=Math.sin(v),_=Math.cos(v),b=.6*h,w=.7*h;t.moveTo(i-y,p+f),t.arc(i,p,h,Math.PI-v,2*Math.PI+v),t.bezierCurveTo(i+y-x*b,p+f+_*b,i,s-w,i,s),t.bezierCurveTo(i,s-w,i-y+x*b,p+f+_*b,i-y,p+f),t.closePath()}}),Un=RL.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,r){var i=r.height,s=r.width,u=r.x,c=r.y,h=s/3*2;t.moveTo(u,c),t.lineTo(u+h,c+i),t.lineTo(u,c+i/4*3),t.lineTo(u-h,c+i),t.lineTo(u,c),t.closePath()}}),Ur={line:function(t,r,i,s,u){u.x1=t,u.y1=r+s/2,u.x2=t+i,u.y2=r+s/2},rect:function(t,r,i,s,u){u.x=t,u.y=r,u.width=i,u.height=s},roundRect:function(t,r,i,s,u){u.x=t,u.y=r,u.width=i,u.height=s,u.r=Math.min(i,s)/4},square:function(t,r,i,s,u){var c=Math.min(i,s);u.x=t,u.y=r,u.width=c,u.height=c},circle:function(t,r,i,s,u){u.cx=t+i/2,u.cy=r+s/2,u.r=Math.min(i,s)/2},diamond:function(t,r,i,s,u){u.cx=t+i/2,u.cy=r+s/2,u.width=i,u.height=s},pin:function(t,r,i,s,u){u.x=t+i/2,u.y=r+s/2,u.width=i,u.height=s},arrow:function(t,r,i,s,u){u.x=t+i/2,u.y=r+s/2,u.width=i,u.height=s},triangle:function(t,r,i,s,u){u.cx=t+i/2,u.cy=r+s/2,u.width=i,u.height=s}},Ui={};Mw({line:NA,rect:RY,roundRect:RY,square:RY,circle:O3,diamond:Ue,pin:Ut,arrow:Un,triangle:F7},function(t,r){Ui[r]=new t});var Ua=RL.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,r,i){var s=If(t,r,i),u=this.shape;return u&&"pin"===u.symbolType&&"inside"===r.position&&(s.y=i.y+.4*i.height),s},buildPath:function(t,r,i){var s=r.symbolType;if("none"!==s){var u=Ui[s];!u&&(u=Ui[s="rect"]),Ur[s](r.x,r.y,r.width,r.height,u.shape),u.buildPath(t,u.shape,i)}}});function Uo(t,r){if("image"!==this.type){var i=this.style;this.__isEmptyBrush?(i.stroke=t,i.fill=r||"#fff",i.lineWidth=2):"line"===this.shape.symbolType?i.stroke=t:i.fill=t,this.markRedraw()}}function Us(t,r,i,s,u,c,h){var f,p=0===t.indexOf("empty");return p&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(f=0===t.indexOf("image://")?N$(t.slice(8),new Ti(r,i,s,u),h?"center":"cover"):0===t.indexOf("path://")?Nq(t.slice(7),{},new Ti(r,i,s,u),h?"center":"cover"):new Ua({shape:{symbolType:t,x:r,y:i,width:s,height:u}})).__isEmptyBrush=p,f.setColor=Uo,c&&f.setColor(c),f}function Ul(t){return!MD(t)&&(t=[+t,+t]),[t[0]||0,t[1]||0]}function Uu(t,r){if(null!=t)return!MD(t)&&(t=[t,t]),[IO(t[0],r[0])||0,IO(Mj(t[1],t[0]),r[1])||0]}function Uc(t){return isFinite(t)}function Uh(t,r,i){for(var s,u,c,h,f,p,v,y,x,_,b,w,S,A,M,C,T="radial"===r.type?(s=t,u=r,h=(c=i).width,p=Math.min(h,f=c.height),v=null==u.x?.5:u.x,y=null==u.y?.5:u.y,x=null==u.r?.5:u.r,!u.global&&(v=v*h+c.x,y=y*f+c.y,x*=p),v=Uc(v)?v:.5,y=Uc(y)?y:.5,x=x>=0&&Uc(x)?x:.5,s.createRadialGradient(v,y,0,v,y,x)):(_=t,b=r,w=i,S=null==b.x?0:b.x,A=null==b.x2?1:b.x2,M=null==b.y?0:b.y,C=null==b.y2?0:b.y2,!b.global&&(S=S*w.width+w.x,A=A*w.width+w.x,M=M*w.height+w.y,C=C*w.height+w.y),S=Uc(S)?S:0,A=Uc(A)?A:1,M=Uc(M)?M:0,C=Uc(C)?C:0,_.createLinearGradient(S,M,A,C)),I=r.colorStops,D=0;D<I.length;D++)T.addColorStop(I[D].offset,I[D].color);return T}function Ud(t){return parseInt(t,10)}function Uf(t,r,i){var s=["width","height"][r],u=["clientWidth","clientHeight"][r],c=["paddingLeft","paddingTop"][r],h=["paddingRight","paddingBottom"][r];if(null!=i[s]&&"auto"!==i[s])return parseFloat(i[s]);var f=document.defaultView.getComputedStyle(t);return(t[u]||Ud(f[s])||Ud(t.style[s]))-(Ud(f[c])||0)-(Ud(f[h])||0)|0}function Up(t){var r,i,s=t.style;var u=s.lineDash&&s.lineWidth>0&&(r=s.lineDash,i=s.lineWidth,r&&"solid"!==r&&i>0?"dashed"===r?[4*i,2*i]:"dotted"===r?[i]:MB(r)?[r]:MD(r)?r:null:null),c=s.lineDashOffset;if(u){var h=s.strokeNoScale&&t.getLineScale?t.getLineScale():1;h&&1!==h&&(u=MS(u,function(t){return t/h}),c/=h)}return[u,c]}var Ug=new Ry(!0);function Um(t){var r=t.stroke;return!(null==r||"none"===r||!(t.lineWidth>0))}function Uv(t){return"string"==typeof t&&"none"!==t}function Uy(t){var r=t.fill;return null!=r&&"none"!==r}function Ux(t,r){if(null!=r.fillOpacity&&1!==r.fillOpacity){var i=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,t.fill(),t.globalAlpha=i}else t.fill()}function U_(t,r){if(null!=r.strokeOpacity&&1!==r.strokeOpacity){var i=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,t.stroke(),t.globalAlpha=i}else t.stroke()}function Ub(t,r,i){var s=DR(r.image,r.__image,i);if(DL(s)){var u=t.createPattern(s,r.repeat||"repeat");if("function"==typeof DOMMatrix&&u&&u.setTransform){var c=new DOMMatrix;c.translateSelf(r.x||0,r.y||0),c.rotateSelf(0,0,(r.rotation||0)*M6),c.scaleSelf(r.scaleX||1,r.scaleY||1),u.setTransform(c)}return u}}var Uw=["shadowBlur","shadowOffsetX","shadowOffsetY"],US=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function UA(t,r,i,s,u){var c=!1;if(!s&&r===(i=i||{}))return!1;if(s||r.opacity!==i.opacity){UT(t,u),c=!0;var h=Math.max(Math.min(r.opacity,1),0);t.globalAlpha=isNaN(h)?DW.opacity:h}(s||r.blend!==i.blend)&&(!c&&(UT(t,u),c=!0),t.globalCompositeOperation=r.blend||DW.blend);for(var f=0;f<Uw.length;f++){var p=Uw[f];(s||r[p]!==i[p])&&(!c&&(UT(t,u),c=!0),t[p]=t.dpr*(r[p]||0))}return(s||r.shadowColor!==i.shadowColor)&&(!c&&(UT(t,u),c=!0),t.shadowColor=r.shadowColor||DW.shadowColor),c}function UM(t,r,i,s,u){var c=UE(r,u.inHover),h=s?null:i&&UE(i,u.inHover)||{};if(c===h)return!1;var f=UA(t,c,h,s,u);if((s||c.fill!==h.fill)&&(!f&&(UT(t,u),f=!0),Uv(c.fill)&&(t.fillStyle=c.fill)),(s||c.stroke!==h.stroke)&&(!f&&(UT(t,u),f=!0),Uv(c.stroke)&&(t.strokeStyle=c.stroke)),(s||c.opacity!==h.opacity)&&(!f&&(UT(t,u),f=!0),t.globalAlpha=null==c.opacity?1:c.opacity),r.hasStroke()){var p=c.lineWidth/(c.strokeNoScale&&r.getLineScale?r.getLineScale():1);t.lineWidth!==p&&(!f&&(UT(t,u),f=!0),t.lineWidth=p)}for(var v=0;v<US.length;v++){var y=US[v],x=y[0];(s||c[x]!==h[x])&&(!f&&(UT(t,u),f=!0),t[x]=c[x]||y[1])}return f}function UC(t,r){var i=r.transform,s=t.dpr||1;i?t.setTransform(s*i[0],s*i[1],s*i[2],s*i[3],s*i[4],s*i[5]):t.setTransform(s,0,0,s,0,0)}function UT(t,r){r.batchFill&&t.fill(),r.batchStroke&&t.stroke(),r.batchFill="",r.batchStroke=""}function UE(t,r){return r&&t.__hoverStyle||t.style}function UI(t,r){UD(t,r,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function UD(t,r,i,s){var u,c,h,f,p,v,y,x,_,b,w=r.transform;if(!r.shouldBePainted(i.viewWidth,i.viewHeight,!1,!1)){r.__dirty&=-2,r.__isRendered=!1;return}var S=r.__clipPaths,A=i.prevElClipPaths,M=!1,C=!1;if((!A||function(t,r){if(t===r||!t&&!r)return!1;if(!t||!r||t.length!==r.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==r[i])return!0;return!1}(S,A))&&(A&&A.length&&(UT(t,i),t.restore(),C=M=!0,i.prevElClipPaths=null,i.allClipped=!1,i.prevEl=null),S&&S.length&&(UT(t,i),t.save(),!function(t,r,i){for(var s=!1,u=0;u<t.length;u++){var c=t[u];s=s||c.isZeroArea(),UC(r,c),r.beginPath(),c.buildPath(r,c.shape),r.clip()}i.allClipped=s}(S,t,i),M=!0),i.prevElClipPaths=S),i.allClipped){r.__isRendered=!1;return}r.beforeBrush&&r.beforeBrush(),r.innerBeforeBrush();var T=i.prevEl;!T&&(C=M=!0);var I=r instanceof RL&&r.autoBatch&&(c=Uy(u=r.style),h=Um(u),!(u.lineDash||!(+c^+h)||c&&"string"!=typeof u.fill||h&&"string"!=typeof u.stroke||u.strokePercent<1||u.strokeOpacity<1||u.fillOpacity<1));if(!M&&(f=w,p=T.transform,f&&p?f[0]===p[0]&&f[1]===p[1]&&f[2]===p[2]&&f[3]===p[3]&&f[4]===p[4]&&f[5]===p[5]:f||p?0:1))!I&&UT(t,i);else UT(t,i),UC(t,r);var D=UE(r,i.inHover);if(r instanceof RL)1!==i.lastDrawType&&(C=!0,i.lastDrawType=1),UM(t,r,T,C,i),(!I||!i.batchFill&&!i.batchStroke)&&t.beginPath(),!function(t,r,i,s){var u,c,h,f=Um(i),p=Uy(i),v=i.strokePercent,y=v<1,x=!r.path;(!r.silent||y)&&x&&r.createPathProxy();var _=r.path||Ug,b=r.__dirty;if(!s){var w=i.fill,S=i.stroke,A=p&&!!w.colorStops,M=f&&!!S.colorStops,C=p&&!!w.image,T=f&&!!S.image,I=void 0,D=void 0,R=void 0,P=void 0,L=void 0;(A||M)&&(L=r.getBoundingRect()),A&&(I=b?Uh(t,w,L):r.__canvasFillGradient,r.__canvasFillGradient=I),M&&(D=b?Uh(t,S,L):r.__canvasStrokeGradient,r.__canvasStrokeGradient=D),C&&(R=b||!r.__canvasFillPattern?Ub(t,w,r):r.__canvasFillPattern,r.__canvasFillPattern=R),T&&(P=b||!r.__canvasStrokePattern?Ub(t,S,r):r.__canvasStrokePattern,r.__canvasStrokePattern=R),A?t.fillStyle=I:C&&(R?t.fillStyle=R:p=!1),M?t.strokeStyle=D:T&&(P?t.strokeStyle=P:f=!1)}var B=r.getGlobalScale();_.setScale(B[0],B[1],r.segmentIgnoreThreshold),t.setLineDash&&i.lineDash&&(c=(u=Up(r))[0],h=u[1]);var k=!0;(x||4&b)&&(_.setDPR(t.dpr),y?_.setContext(null):(_.setContext(t),k=!1),_.reset(),r.buildPath(_,r.shape,s),_.toStatic(),r.pathUpdated()),k&&_.rebuildPath(t,y?v:1),c&&(t.setLineDash(c),t.lineDashOffset=h),!s&&(i.strokeFirst?(f&&U_(t,i),p&&Ux(t,i)):(p&&Ux(t,i),f&&U_(t,i))),c&&t.setLineDash([])}(t,r,D,I),I&&(i.batchFill=D.fill||"",i.batchStroke=D.stroke||"");else if(r instanceof Rk)3!==i.lastDrawType&&(C=!0,i.lastDrawType=3),UM(t,r,T,C,i),!function(t,r,i){var s,u=i.text;if(null!=u&&(u+=""),u){t.font=i.font||A5,t.textAlign=i.textAlign,t.textBaseline=i.textBaseline;var c=void 0,h=void 0;t.setLineDash&&i.lineDash&&(c=(s=Up(r))[0],h=s[1]),c&&(t.setLineDash(c),t.lineDashOffset=h),i.strokeFirst?(Um(i)&&t.strokeText(u,i.x,i.y),Uy(i)&&t.fillText(u,i.x,i.y)):(Uy(i)&&t.fillText(u,i.x,i.y),Um(i)&&t.strokeText(u,i.x,i.y)),c&&t.setLineDash([])}}(t,r,D);else if(r instanceof RU){;2!==i.lastDrawType&&(C=!0,i.lastDrawType=2),v=t,y=r,x=T,_=C,UA(v,UE(y,(b=i).inHover),x&&UE(x,b.inHover),_,b),!function(t,r,i){var s=r.__image=DR(i.image,r.__image,r,r.onload);if(!!s&&!!DL(s)){var u=i.x||0,c=i.y||0,h=r.getWidth(),f=r.getHeight(),p=s.width/s.height;if(null==h&&null!=f?h=f*p:null==f&&null!=h?f=h/p:null==h&&null==f&&(h=s.width,f=s.height),i.sWidth&&i.sHeight){var v=i.sx||0,y=i.sy||0;t.drawImage(s,v,y,i.sWidth,i.sHeight,u,c,h,f)}else if(i.sx&&i.sy){var v=i.sx,y=i.sy,x=h-v,_=f-y;t.drawImage(s,v,y,x,_,u,c,h,f)}else t.drawImage(s,u,c,h,f)}}(t,r,D)}else r.getTemporalDisplayables&&(4!==i.lastDrawType&&(C=!0,i.lastDrawType=4),function(t,r,i){var s,u,c=r.getDisplayables(),h=r.getTemporalDisplayables();t.save();var f={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:i.viewWidth,viewHeight:i.viewHeight,inHover:i.inHover};for(s=r.getCursor(),u=c.length;s<u;s++){var p=c[s];p.beforeBrush&&p.beforeBrush(),p.innerBeforeBrush(),UD(t,p,f,s===u-1),p.innerAfterBrush(),p.afterBrush&&p.afterBrush(),f.prevEl=p}for(var v=0,y=h.length;v<y;v++){var p=h[v];p.beforeBrush&&p.beforeBrush(),p.innerBeforeBrush(),UD(t,p,f,v===y-1),p.innerAfterBrush(),p.afterBrush&&p.afterBrush(),f.prevEl=p}r.clearTemporalDisplayables(),r.notClear=!0,t.restore()}(t,r,i));I&&s&&UT(t,i),r.innerAfterBrush(),r.afterBrush&&r.afterBrush(),i.prevEl=r,r.__dirty=0,r.__isRendered=!0}var UR=new F6,UP=new TK(100),UL=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function UB(t,r){if("none"===t)return null;var i=r.getDevicePixelRatio(),s=r.getZr(),u="svg"===s.painter.type;t.dirty&&UR.delete(t);var c=UR.get(t);if(c)return c;var h=Mm(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===h.backgroundColor&&(h.backgroundColor=null);var f={repeat:"repeat"};return function(t){for(var r,c,f=[i],p=!0,v=0;v<UL.length;++v){var y=h[UL[v]];if(null!=y&&!MD(y)&&!MP(y)&&!MB(y)&&"boolean"!=typeof y){p=!1;break}f.push(y)}if(p){r=f.join(",")+(u?"-svg":"");var x=UP.get(r);x&&(u?t.svgElement=x:t.image=x)}var _=function t(r){if(!r||0===r.length)return[[0,0]];if(MB(r)){var i=Math.ceil(r);return[[i,i]]}for(var s=!0,u=0;u<r.length;++u)if(!MB(r[u])){s=!1;break}if(s)return t([r]);for(var c=[],u=0;u<r.length;++u)if(MB(r[u])){var i=Math.ceil(r[u]);c.push([i,i])}else{var i=MS(r[u],function(t){return Math.ceil(t)});i.length%2==1?c.push(i.concat(i)):c.push(i)}return c}(h.dashArrayX),b=function(t){if(!t||"object"==typeof t&&0===t.length)return[0,0];if(MB(t)){var r=Math.ceil(t);return[r,r]}var i=MS(t,function(t){return Math.ceil(t)});return t.length%2?i.concat(i):i}(h.dashArrayY),w=function t(r){if(!r||0===r.length)return[["rect"]];if(MP(r))return[[r]];for(var i=!0,s=0;s<r.length;++s)if(!MP(r[s])){i=!1;break}if(i)return t([r]);for(var u=[],s=0;s<r.length;++s)MP(r[s])?u.push([r[s]]):u.push(r[s]);return u}(h.symbol),S=function(t){return MS(t,function(t){return Uk(t)})}(_),A=Uk(b),M=!u&&A9.createCanvas(),C=u&&{tag:"g",attrs:{},key:"dcl",children:[]},T=function(){for(var t=1,r=0,i=S.length;r<i;++r)t=I3(t,S[r]);for(var s=1,r=0,i=w.length;r<i;++r)s=I3(s,w[r].length);t*=s;var u=A*S.length*w.length;return{width:Math.max(1,Math.min(t,h.maxTileWidth)),height:Math.max(1,Math.min(u,h.maxTileHeight))}}();M&&(M.width=T.width*i,M.height=T.height*i,c=M.getContext("2d")),function(){c&&(c.clearRect(0,0,M.width,M.height),h.backgroundColor&&(c.fillStyle=h.backgroundColor,c.fillRect(0,0,M.width,M.height)));for(var t=0,r=0;r<b.length;++r)t+=b[r];if(!(t<=0))for(var f=-A,p=0,v=0,y=0;f<T.height;){if(p%2==0){for(var x=v/2%w.length,S=0,I=0,D=0;S<2*T.width;){for(var R=0,r=0;r<_[y].length;++r)R+=_[y][r];if(R<=0)break;if(I%2==0){var P=(1-h.symbolSize)*.5,L=S+_[y][I]*P,B=f+b[p]*P,k=_[y][I]*h.symbolSize,O=b[p]*h.symbolSize,N=D/2%w[x].length;(function(t,r,f,p,v){var y=u?1:i,x=Us(v,t*y,r*y,f*y,p*y,h.color,h.symbolKeepAspect);if(u){var _=s.painter.renderOneToVNode(x);_&&C.children.push(_)}else UI(c,x)})(L,B,k,O,w[x][N])}S+=_[y][I],++D,++I===_[y].length&&(I=0)}++y===_.length&&(y=0)}f+=b[p],++v,++p===b.length&&(p=0)}}(),p&&UP.put(r,M||C),t.image=M,t.svgElement=C,t.svgWidth=T.width,t.svgHeight=T.height}(f),f.rotation=h.rotation,f.scaleX=f.scaleY=u?1:1/i,UR.set(t,f),t.dirty=!1,f}function Uk(t){for(var r=0,i=0;i<t.length;++i)r+=t[i];return t.length%2==1?2*r:r}var UO=new CC,UN={};function UF(t){return UN[t]}var UU="5.5.1",Uz={zrender:"5.6.0"},UG={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},UH="__flagInMainProcess",UV="__pendingUpdate",Uj="__needsUpdateStatus",UW=/^[a-zA-Z0-9_]+$/,UX="__connectUpdateStatus";function UY(t){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(this.isDisposed()){U1(this.id);return}return UK(this,t,r)}}function UZ(t){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return UK(this,t,r)}}function UK(t,r,i){return i[0]=i[0]&&i[0].toLowerCase(),CC.prototype[r].apply(t,i)}var UJ=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r}(CC),UQ=UJ.prototype;UQ.on=UZ("on"),UQ.off=UZ("off");var Uq=function(t){function r(r,i,s){var u=t.call(this,new FQ)||this;u._chartsViews=[],u._chartsMap={},u._componentsViews=[],u._componentsMap={},u._pendingActions=[],s=s||{},MP(i)&&(i=U8[i]),u._dom=r;if(s.ssr)elh=function(t){var r=Pe(t),i=r.dataIndex;if(null!=i){var s=M2();return s.set("series_index",r.seriesIndex),s.set("data_index",i),r.ssrType&&s.set("ssr_type",r.ssrType),s}};var c=u._zr=IT(r,{renderer:s.renderer||"canvas",devicePixelRatio:s.devicePixelRatio,width:s.width,height:s.height,ssr:s.ssr,useDirtyRect:Mj(s.useDirtyRect,!1),useCoarsePointer:Mj(s.useCoarsePointer,"auto"),pointerSize:s.pointerSize});u._ssr=s.ssr,u._throttledZrFlush=Fw(ME(c.flush,c),17),(i=Md(i))&&ks(i,!0),u._theme=i,u._locale=function(t){if(!MP(t))return Mf(Md(t),Md(LC.EN),!1);var r=LC[t.toUpperCase()]||{};return"ZH"===t||"EN"===t?Md(r):Mf(Md(r),Md(LC.EN),!1)}(s.locale||LE),u._coordSysMgr=new BQ;var h=u._api=elO(u);function f(t,r){return t.__prio-r.__prio}return Ty(U9,f),Ty(U5,f),u._scheduler=new FP(u,h,U5,U9),u._messageCenter=new UJ,u._initEvents(),u.resize=ME(u.resize,u),c.animation.on("frame",u._onframe,u),elR(c,u),elP(c,u),MQ(u),u}return AK(r,t),r.prototype._onframe=function(){if(!this._disposed){elU(this);var t=this._scheduler;if(this[UV]){var r=this[UV].silent;this[UH]=!0;try{elw(this),elM.update.call(this,null,this[UV].updateParams)}catch(t){throw this[UH]=!1,this[UV]=null,t}this._zr.flush(),this[UH]=!1,this[UV]=null,elI.call(this,r),elD.call(this,r)}else if(t.unfinished){var i=1,s=this._model,u=this._api;t.unfinished=!1;do{var c=+new Date;t.performSeriesTasks(s),t.performDataProcessorTasks(s),elT(this,s),t.performVisualTasks(s),elk(this,this._model,u,"remain",{}),i-=+new Date-c}while(i>0&&t.unfinished);!t.unfinished&&this._zr.flush()}}},r.prototype.getDom=function(){return this._dom},r.prototype.getId=function(){return this.id},r.prototype.getZr=function(){return this._zr},r.prototype.isSSR=function(){return this._ssr},r.prototype.setOption=function(t,r,i){if(!this[UH]){if(this._disposed){U1(this.id);return}if(Mk(r)&&(i=r.lazyUpdate,s=r.silent,u=r.replaceMerge,c=r.transition,r=r.notMerge),this[UH]=!0,!this._model||r){var s,u,c,h=new B$(this._api),f=this._theme,p=this._model=new Bj;p.scheduler=this._scheduler,p.ssr=this._ssr,p.init(null,null,null,f,this._locale,h)}this._model.setOption(t,{replaceMerge:u},U4);var v={seriesTransition:c,optionChanged:!0};if(i)this[UV]={silent:s,updateParams:v},this[UH]=!1,this.getZr().wakeUp();else{try{elw(this),elM.update.call(this,null,v)}catch(t){throw this[UV]=null,this[UH]=!1,t}!this._ssr&&this._zr.flush(),this[UV]=null,this[UH]=!1,elI.call(this,s),elD.call(this,s)}}},r.prototype.setTheme=function(){kF("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},r.prototype.getModel=function(){return this._model},r.prototype.getOption=function(){return this._model&&this._model.getOption()},r.prototype.getWidth=function(){return this._zr.getWidth()},r.prototype.getHeight=function(){return this._zr.getHeight()},r.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||A2.hasGlobalWindow&&window.devicePixelRatio||1},r.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},r.prototype.renderToCanvas=function(t){t=t||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},r.prototype.renderToSVGString=function(t){t=t||{};var r=this._zr.painter;return r.renderToString({useViewBox:t.useViewBox})},r.prototype.getSvgDataURL=function(){if(!!A2.svgSupported){var t=this._zr;return Mw(t.storage.getDisplayList(),function(t){t.stopAnimation(null,!0)}),t.painter.toDataURL()}},r.prototype.getDataURL=function(t){if(this._disposed){U1(this.id);return}var r=(t=t||{}).excludeComponents,i=this._model,s=[],u=this;Mw(r,function(t){i.eachComponent({mainType:t},function(t){var r=u._componentsMap[t.__viewId];!r.group.ignore&&(s.push(r),r.group.ignore=!0)})});var c="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Mw(s,function(t){t.group.ignore=!1}),c},r.prototype.getConnectedDataURL=function(t){if(this._disposed){U1(this.id);return}var r="svg"===t.type,i=this.group,s=Math.min,u=Math.max,c=1/0;if(!ze[i])return this.getDataURL(t);var h=c,f=c,p=-c,v=-c,y=[],x=t&&t.pixelRatio||this.getDevicePixelRatio();Mw(U7,function(c,x){if(c.group===i){var _=r?c.getZr().painter.getSvgDom().innerHTML:c.renderToCanvas(Md(t)),b=c.getDom().getBoundingClientRect();h=s(b.left,h),f=s(b.top,f),p=u(b.right,p),v=u(b.bottom,v),y.push({dom:_,left:b.left,top:b.top})}}),h*=x,f*=x,p*=x,v*=x;var _=p-h,b=v-f,w=A9.createCanvas(),S=IT(w,{renderer:r?"svg":"canvas"});if(S.resize({width:_,height:b}),!r)return t.connectedBackgroundColor&&S.add(new RY({shape:{x:0,y:0,width:_,height:b},style:{fill:t.connectedBackgroundColor}})),Mw(y,function(t){var r=new RU({style:{x:t.left*x-h,y:t.top*x-f,image:t.dom}});S.add(r)}),S.refreshImmediately(),w.toDataURL("image/"+(t&&t.type||"png"));var A="";return Mw(y,function(t){var r=t.left-h,i=t.top-f;A+='<g transform="translate('+r+","+i+')">'+t.dom+"</g>"}),S.painter.getSvgRoot().innerHTML=A,t.connectedBackgroundColor&&S.painter.setBackgroundColor(t.connectedBackgroundColor),S.refreshImmediately(),S.painter.toDataURL()},r.prototype.convertToPixel=function(t,r){return elC(this,"convertToPixel",t,r)},r.prototype.convertFromPixel=function(t,r){return elC(this,"convertFromPixel",t,r)},r.prototype.containPixel=function(t,r){var i;if(this._disposed){U1(this.id);return}return Mw(Dc(this._model,t),function(t,s){s.indexOf("Models")>=0&&Mw(t,function(t){var u=t.coordinateSystem;if(u&&u.containPoint)i=i||!!u.containPoint(r);else if("seriesModels"===s){var c=this._chartsMap[t.__viewId];c&&c.containPoint&&(i=i||c.containPoint(r,t))}},this)},this),!!i},r.prototype.getVisual=function(t,r){var i=Dc(this._model,t,{defaultMainType:"series"}),s=i.seriesModel,u=s.getData(),c=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?u.indexOfRawIndex(i.dataIndex):null;return null!=c?F0(u,c,r):F1(u,r)},r.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},r.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},r.prototype._initEvents=function(){var t=this;Mw(U0,function(r){var i=function(i){var s,u=t.getModel(),c=i.target;if("globalout"===r?s={}:c&&F4(c,function(t){var r=Pe(t);if(r&&null!=r.dataIndex){var i=r.dataModel||u.getSeriesByIndex(r.seriesIndex);return s=i&&i.getDataParams(r.dataIndex,r.dataType,c)||{},!0}if(r.eventData)return s=Mg({},r.eventData),!0},!0),s){var h=s.componentType,f=s.componentIndex;("markLine"===h||"markPoint"===h||"markArea"===h)&&(h="series",f=s.seriesIndex);var p=h&&null!=f&&u.getComponent(h,f),v=p&&t["series"===p.mainType?"_chartsMap":"_componentsMap"][p.__viewId];s.event=i,s.type=r,t._$eventProcessor.eventInfo={targetEl:c,packedEvent:s,model:p,view:v},t.trigger(r,s)}};i.zrEventfulCallAtLast=!0,t._zr.on(r,i,t)}),Mw(U3,function(r,i){t._messageCenter.on(i,function(t){this.trigger(i,t)},t)}),Mw(["selectchanged"],function(r){t._messageCenter.on(r,function(t){this.trigger(r,t)},t)}),!function(t,r,i){t.on("selectchanged",function(t){var s=i.getModel();t.isFromClick?(F5("map","selectchanged",r,s,t),F5("pie","selectchanged",r,s,t)):"select"===t.fromAction?(F5("map","selected",r,s,t),F5("pie","selected",r,s,t)):"unselect"===t.fromAction&&(F5("map","unselected",r,s,t),F5("pie","unselected",r,s,t))})}(this._messageCenter,this,this._api)},r.prototype.isDisposed=function(){return this._disposed},r.prototype.clear=function(){if(this._disposed){U1(this.id);return}this.setOption({series:[]},!0)},r.prototype.dispose=function(){if(this._disposed){U1(this.id);return}this._disposed=!0,this.getDom()&&Dg(this.getDom(),zr,"");var t=this._api,r=this._model;Mw(this._componentsViews,function(i){i.dispose(r,t)}),Mw(this._chartsViews,function(i){i.dispose(r,t)}),this._zr.dispose(),this._dom=this._model=this._chartsMap=this._componentsMap=this._chartsViews=this._componentsViews=this._scheduler=this._api=this._zr=this._throttledZrFlush=this._theme=this._coordSysMgr=this._messageCenter=null,delete U7[this.id]},r.prototype.resize=function(t){if(this[UH])return;if(this._disposed){U1(this.id);return}this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),s=t&&t.silent;this[UV]&&(null==s&&(s=this[UV].silent),i=!0,this[UV]=null),this[UH]=!0;try{i&&elw(this),elM.update.call(this,{type:"resize",animation:Mg({duration:0},t&&t.animation)})}catch(t){throw this[UH]=!1,t}this[UH]=!1,elI.call(this,s),elD.call(this,s)}},r.prototype.showLoading=function(t,r){if(this._disposed){U1(this.id);return}if(Mk(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),!!U6[t]){var i=U6[t](this._api,r),s=this._zr;this._loadingFX=i,s.add(i)}},r.prototype.hideLoading=function(){if(this._disposed){U1(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},r.prototype.makeActionFromEvent=function(t){var r=Mg({},t);return r.type=U3[t.type],r},r.prototype.dispatchAction=function(t,r){if(this._disposed){U1(this.id);return}if(!Mk(r)&&(r={silent:!!r}),!!U2[t.type]&&!!this._model){if(this[UH]){this._pendingActions.push(t);return}var i=r.silent;elE.call(this,t,i);var s=r.flush;s?this._zr.flush():!1!==s&&A2.browser.weChat&&this._throttledZrFlush(),elI.call(this,i),elD.call(this,i)}},r.prototype.updateLabelLayout=function(){UO.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},r.prototype.appendData=function(t){if(this._disposed){U1(this.id);return}var r=t.seriesIndex,i=this.getModel().getSeriesByIndex(r);i.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},r.internalField=function(){function t(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}elw=function(t){var r=t._scheduler;r.restorePipelines(t._model),r.prepareStageTasks(),elS(t,!0),elS(t,!1),r.plan()},elS=function(t,r){for(var i=t._model,s=t._scheduler,u=r?t._componentsViews:t._chartsViews,c=r?t._componentsMap:t._chartsMap,h=t._zr,f=t._api,p=0;p<u.length;p++)u[p].__alive=!1;function v(t){var p=t.__requireNewView;t.__requireNewView=!1;var v="_ec_"+t.id+"_"+t.type,y=!p&&c[v];if(!y){var x=D_(t.type),_=r?OL.getClass(x.main,x.sub):Fy.getClass(x.sub);(y=new _).init(i,f),c[v]=y,u.push(y),h.add(y.group)}t.__viewId=y.__id=v,y.__alive=!0,y.__model=t,y.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},r||s.prepareView(y,t,i,f)}r?i.eachComponent(function(t,r){"series"!==t&&v(r)}):i.eachSeries(v);for(var p=0;p<u.length;){var y=u[p];y.__alive?p++:(r||y.renderTask.dispose(),h.remove(y.group),y.dispose(i,f),u.splice(p,1),c[y.__id]===y&&delete c[y.__id],y.__id=y.group.__ecComponentInfo=null)}},elA=function(t,r,i,s,u){var c,h=t._model;if(h.setUpdatePayload(i),!s){Mw([].concat(t._componentsViews).concat(t._chartsViews),y);return}var f={};f[s+"Id"]=i[s+"Id"],f[s+"Index"]=i[s+"Index"],f[s+"Name"]=i[s+"Name"];var p={mainType:s,query:f};u&&(p.subType=u);var v=i.excludeSeriesId;function y(s){s&&s.__alive&&s[r]&&s[r](s.__model,h,t._api,i)}null!=v&&(c=M2(),Mw(I8(v),function(t){var r=Di(t,null);null!=r&&c.set(r,!0)})),h&&h.eachComponent(p,function(r){if(!c||null==c.get(r.id))if(PK(i)){if(r instanceof OR)i.type===Pl&&!i.notBlur&&!r.get(["emphasis","disabled"])&&!function(t,r,i){var s=t.seriesIndex,u=t.getData(r.dataType);if(!!u){var c=Ds(u,r);c=(MD(c)?c[0]:c)||0;var h=u.getItemGraphicEl(c);if(!h){for(var f=u.count(),p=0;!h&&p<f;)h=u.getItemGraphicEl(p++)}if(h){var v=Pe(h);PO(s,v.focus,v.blurScope,i)}else{var y=t.get(["emphasis","focus"]),x=t.get(["emphasis","blurScope"]);null!=y&&PO(s,y,x,i)}}}(r,i,t._api);else{var s=PF(r.mainType,r.componentIndex,i.name,t._api),u=s.focusSelf,h=s.dispatchers;i.type===Pl&&u&&!i.notBlur&&PN(r.mainType,r.componentIndex,t._api),h&&Mw(h,function(t){i.type===Pl?PE(t):PI(t)})}}else PZ(i)&&r instanceof OR&&(!function(t,r,i){if(!!PZ(r)){var s=r.dataType,u=Ds(t.getData(s),r);!MD(u)&&(u=[u]),t[r.type===Pd?"toggleSelect":r.type===Pc?"select":"unselect"](u,s)}}(r,i,t._api),PU(r),elF(t))},t),h&&h.eachComponent(p,function(r){if(!c||null==c.get(r.id))y(t["series"===s?"_chartsMap":"_componentsMap"][r.__viewId])},t)},elM={prepareAndUpdate:function(t){elw(this),elM.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(r,i){var s=this._model,u=this._api,c=this._zr,h=this._coordSysMgr,f=this._scheduler;if(!!s){s.setUpdatePayload(r),f.restoreData(s,r),f.performSeriesTasks(s),h.create(s,u),f.performDataProcessorTasks(s,r),elT(this,s),h.update(s,u),t(s),f.performVisualTasks(s,r),elL(this,s,u,r,i);var p=s.get("backgroundColor")||"transparent",v=s.get("darkMode");c.setBackgroundColor(p),null!=v&&"auto"!==v&&c.setDarkMode(v),UO.trigger("afterupdate",s,u)}},updateTransform:function(r){var i=this,s=this._model,u=this._api;if(!!s){s.setUpdatePayload(r);var c=[];s.eachComponent(function(t,h){if("series"!==t){var f=i.getViewOfComponentModel(h);if(f&&f.__alive){if(f.updateTransform){var p=f.updateTransform(h,s,u,r);p&&p.update&&c.push(f)}else c.push(f)}}});var h=M2();s.eachSeries(function(t){var c=i._chartsMap[t.__viewId];if(c.updateTransform){var f=c.updateTransform(t,s,u,r);f&&f.update&&h.set(t.uid,1)}else h.set(t.uid,1)}),t(s),this._scheduler.performVisualTasks(s,r,{setDirty:!0,dirtyMap:h}),elk(this,s,u,r,{},h),UO.trigger("afterupdate",s,u)}},updateView:function(r){var i=this._model;if(!!i)i.setUpdatePayload(r),Fy.markUpdateMethod(r,"updateView"),t(i),this._scheduler.performVisualTasks(i,r,{setDirty:!0}),elL(this,i,this._api,r,{}),UO.trigger("afterupdate",i,this._api)},updateVisual:function(r){var i=this,s=this._model;if(!!s)s.setUpdatePayload(r),s.eachSeries(function(t){t.getData().clearAllVisual()}),Fy.markUpdateMethod(r,"updateVisual"),t(s),this._scheduler.performVisualTasks(s,r,{visualType:"visual",setDirty:!0}),s.eachComponent(function(t,u){if("series"!==t){var c=i.getViewOfComponentModel(u);c&&c.__alive&&c.updateVisual(u,s,i._api,r)}}),s.eachSeries(function(t){i._chartsMap[t.__viewId].updateVisual(t,s,i._api,r)}),UO.trigger("afterupdate",s,this._api)},updateLayout:function(t){elM.update.call(this,t)}},elC=function(t,r,i,s){if(t._disposed){U1(t.id);return}for(var u,c=t._model,h=t._coordSysMgr.getCoordinateSystems(),f=Dc(c,i),p=0;p<h.length;p++){var v=h[p];if(v[r]&&null!=(u=v[r](c,f,s)))return u}},elT=function(t,r){var i=t._chartsMap,s=t._scheduler;r.eachSeries(function(t){s.updateStreamModes(t,i[t.__viewId])})},elE=function(t,r){var i,s=this,u=this.getModel(),c=t.type,h=t.escapeConnect,f=U2[c],p=f.actionInfo,v=(p.update||"update").split(":"),y=v.pop(),x=null!=v[0]&&D_(v[0]);this[UH]=!0;var _=[t],b=!1;t.batch&&(b=!0,_=MS(t.batch,function(r){return(r=Mm(Mg({},r),t)).batch=null,r}));var w=[],S=PZ(t),A=PK(t);if(A&&Pk(this._api),Mw(_,function(r){if((i=(i=f.action(r,s._model,s._api))||Mg({},r)).type=p.event||i.type,w.push(i),A){var u=Dh(t),c=u.queryOptionMap;elA(s,y,r,u.mainTypeSpecified?c.keys()[0]:"series"),elF(s)}else S?(elA(s,y,r,"series"),elF(s)):x&&elA(s,y,r,x.main,x.sub)}),"none"!==y&&!A&&!S&&!x)try{this[UV]?(elw(this),elM.update.call(this,t),this[UV]=null):elM[y].call(this,t)}catch(t){throw this[UH]=!1,t}if(i=b?{type:p.event||c,escapeConnect:h,batch:w}:w[0],this[UH]=!1,!r){var M=this._messageCenter;if(M.trigger(i.type,i),S){var C,T={type:"selectchanged",escapeConnect:h,selected:(C=[],u.eachSeries(function(t){Mw(t.getAllData(),function(r){r.data;var i=r.type,s=t.getSelectedDataIndices();if(s.length>0){var u={dataIndex:s,seriesIndex:t.seriesIndex};null!=i&&(u.dataType=i),C.push(u)}})}),C),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};M.trigger(T.type,T)}}},elI=function(t){for(var r=this._pendingActions;r.length;){var i=r.shift();elE.call(this,i,t)}},elD=function(t){t||this.trigger("updated")},elR=function(t,r){t.on("rendered",function(i){r.trigger("rendered",i),t.animation.isFinished()&&!r[UV]&&!r._scheduler.unfinished&&!r._pendingActions.length&&r.trigger("finished")})},elP=function(t,r){t.on("mouseover",function(t){var i,s,u,c,h,f,p,v=F4(t.target,PY);if(v){;i=v,s=t,u=r._api,f=(h=PF((c=Pe(i)).componentMainType,c.componentIndex,c.componentHighDownName,u)).dispatchers,p=h.focusSelf,f?(p&&PN(c.componentMainType,c.componentIndex,u),Mw(f,function(t){return PC(t,s)})):(PO(c.seriesIndex,c.focus,c.blurScope,u),"self"===c.focus&&PN(c.componentMainType,c.componentIndex,u),PC(i,s)),elF(r)}}).on("mouseout",function(t){var i,s,u,c,h,f=F4(t.target,PY);if(f){;i=f,s=t,Pk(u=r._api),(h=PF((c=Pe(i)).componentMainType,c.componentIndex,c.componentHighDownName,u).dispatchers)?Mw(h,function(t){return PT(t,s)}):PT(i,s),elF(r)}}).on("click",function(t){var i=F4(t.target,function(t){return null!=Pe(t).dataIndex},!0);if(i){var s=i.selected?"unselect":"select",u=Pe(i);r._api.dispatchAction({type:s,dataType:u.dataType,dataIndexInside:u.dataIndex,seriesIndex:u.seriesIndex,isFromClick:!0})}})};function r(t){for(var r=[],i=t.currentStates,s=0;s<i.length;s++){var u=i[s];!("emphasis"===u||"blur"===u||"select"===u)&&r.push(u)}t.selected&&t.states.select&&r.push("select"),2===t.hoverState&&t.states.emphasis?r.push("emphasis"):1===t.hoverState&&t.states.blur&&r.push("blur"),t.useStates(r)}elL=function(t,r,i,s,u){!function(t){var r=[],i=[],s=!1;if(t.eachComponent(function(t,u){var c=u.get("zlevel")||0,h=u.get("z")||0,f=u.getZLevelKey();s=s||!!f,("series"===t?i:r).push({zlevel:c,z:h,idx:u.componentIndex,type:t,key:f})}),s){var u,c,h=r.concat(i);Ty(h,function(t,r){return t.zlevel===r.zlevel?t.z-r.z:t.zlevel-r.zlevel}),Mw(h,function(r){var i=t.getComponent(r.type,r.idx),s=r.zlevel,h=r.key;null!=u&&(s=Math.max(u,s)),h?(s===u&&h!==c&&s++,c=h):c&&(s===u&&s++,c=""),u=s,i.setZLevel(s)})}}(r),elB(t,r,i,s,u),Mw(t._chartsViews,function(t){t.__alive=!1}),elk(t,r,i,s,u),Mw(t._chartsViews,function(t){!t.__alive&&t.remove(r,i)})},elB=function(t,r,c,h,f,p){Mw(p||t._componentsViews,function(t){var f=t.__model;s(f,t),t.render(f,r,c,h),i(f,t),u(f,t)})},elk=function(t,r,c,h,f,p){var v=t._scheduler;f=Mg(f||{},{updatedSeries:r.getSeries()}),UO.trigger("series:beforeupdate",r,c,f);var y=!1;r.eachSeries(function(r){var i=t._chartsMap[r.__viewId];i.__alive=!0;var u=i.renderTask;v.updatePayload(u,h),s(r,i),p&&p.get(r.uid)&&u.dirty(),u.perform(v.getPerformArgs(u))&&(y=!0),i.group.silent=!!r.get("silent"),function(t,r){var i=t.get("blendMode")||null;r.eachRendered(function(t){!t.isGroup&&(t.style.blend=i)})}(r,i),PU(r)}),v.unfinished=y||v.unfinished,UO.trigger("series:layoutlabels",r,c,f),UO.trigger("series:transition",r,c,f),r.eachSeries(function(r){var s=t._chartsMap[r.__viewId];i(r,s),u(r,s)}),function(t,r){var i=t._zr.storage,s=0;i.traverse(function(t){!t.isGroup&&s++}),s>r.get("hoverLayerThreshold")&&!A2.node&&!A2.worker&&r.eachSeries(function(r){if(!r.preventUsingHoverLayer){var i=t._chartsMap[r.__viewId];i.__alive&&i.eachRendered(function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)})}})}(t,r),UO.trigger("series:afterupdate",r,c,f)},elF=function(t){t[Uj]=!0,t.getZr().wakeUp()},elU=function(t){if(!!t[Uj])t.getZr().storage.traverse(function(t){if(!P1(t))r(t)}),t[Uj]=!1};function i(t,r){if(!t.preventAutoZ){var i=t.get("z")||0,s=t.get("zlevel")||0;r.eachRendered(function(t){return function t(r,i,s,u){var c=r.getTextContent(),h=r.getTextGuideLine();if(r.isGroup){for(var f=r.childrenRef(),p=0;p<f.length;p++)u=Math.max(t(f[p],i,s,u),u)}else r.z=i,r.zlevel=s,u=Math.max(r.z2,u);if(c&&(c.z=i,c.zlevel=s,isFinite(u)&&(c.z2=u+2)),h){var v=r.textGuideLineConfig;h.z=i,h.zlevel=s,isFinite(u)&&(h.z2=u+(v&&v.showAbove?1:-1))}return u}(t,i,s,-1/0),!0})}}function s(t,r){r.eachRendered(function(t){if(!P1(t)){var r=t.getTextContent(),i=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),r&&r.stateTransition&&(r.stateTransition=null),i&&i.stateTransition&&(i.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}})}function u(t,i){var s=t.getModel("stateAnimation"),u=t.isAnimationEnabled(),c=s.get("duration"),h=c>0?{duration:c,delay:s.get("delay"),easing:s.get("easing")}:null;i.eachRendered(function(t){if(t.states&&t.states.emphasis){if(!P1(t)){if(t instanceof RL){var i,s,c;(s=Pi(i=t)).normalFill=i.style.fill,s.normalStroke=i.style.stroke,c=i.states.select||{},s.selectFill=c.style&&c.style.fill||null,s.selectStroke=c.style&&c.style.stroke||null}if(t.__dirty){var f=t.prevStates;f&&t.useStates(f)}if(u){t.stateTransition=h;var p=t.getTextContent(),v=t.getTextGuideLine();p&&(p.stateTransition=h),v&&(v.stateTransition=h)}t.__dirty&&r(t)}}})}elO=function(t){return new(function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return AK(i,r),i.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},i.prototype.getComponentByElement=function(r){for(;r;){var i=r.__ecComponentInfo;if(null!=i)return t._model.getComponent(i.mainType,i.index);r=r.parent}},i.prototype.enterEmphasis=function(r,i){PE(r,i),elF(t)},i.prototype.leaveEmphasis=function(r,i){PI(r,i),elF(t)},i.prototype.enterBlur=function(r){Pw(r,Pv),elF(t)},i.prototype.leaveBlur=function(r){Pw(r,Py),elF(t)},i.prototype.enterSelect=function(r){Pw(r,Px),elF(t)},i.prototype.leaveSelect=function(r){Pw(r,P_),elF(t)},i.prototype.getModel=function(){return t.getModel()},i.prototype.getViewOfComponentModel=function(r){return t.getViewOfComponentModel(r)},i.prototype.getViewOfSeriesModel=function(r){return t.getViewOfSeriesModel(r)},i}(BK))(t)},elN=function(t){function r(t,r){for(var i=0;i<t.length;i++)t[i][UX]=r}Mw(U3,function(i,s){t._messageCenter.on(s,function(i){if(ze[t.group]&&0!==t[UX]){if(!i||!i.escapeConnect){var s=t.makeActionFromEvent(i),u=[];Mw(U7,function(r){r!==t&&r.group===t.group&&u.push(r)}),r(u,0),Mw(u,function(t){1!==t[UX]&&t.dispatchAction(s)}),r(u,2)}}})})}}(),r}(CC),U$=Uq.prototype;U$.on=UY("on"),U$.off=UY("off"),U$.one=function(t,r,i){var s=this;kF("ECharts#one is deprecated.");this.on.call(this,t,function i(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];r&&r.apply&&r.apply(this,u),s.off(t,i)},i)};var U0=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function U1(t){}var U2={},U3={},U5=[],U4=[],U9=[],U8={},U6={},U7={},ze={},zt=+new Date-0,zn=+new Date-0,zr="_echarts_instance_";function zi(t,r,i){var s=!(i&&i.ssr);if(s){var u=zu(t);if(u)return u}var c=new Uq(t,r,i);return c.id="ec_"+zt++,U7[c.id]=c,s&&Dg(t,zr,c.id),elN(c),UO.trigger("afterinit",c),c}function za(t){if(MD(t)){var r=t;t=null,Mw(r,function(r){null!=r.group&&(t=r.group)}),t=t||"g_"+zn++,Mw(r,function(r){r.group=t})}return ze[t]=!0,t}function zo(t){ze[t]=!1}var zs=zo;function zl(t){MP(t)?t=U7[t]:!(t instanceof Uq)&&(t=zu(t)),t instanceof Uq&&!t.isDisposed()&&t.dispose()}function zu(t){var r,i;return U7[r=t,i=zr,r.getAttribute?r.getAttribute(i):r[i]]}function zc(t){return U7[t]}function zh(t,r){U8[t]=r}function zd(t){0>My(U4,t)&&U4.push(t)}function zf(t,r){zS(U5,t,r,2e3)}function zp(t){zm("afterinit",t)}function zg(t){zm("afterupdate",t)}function zm(t,r){UO.on(t,r)}function zv(t,r,i){MR(r)&&(i=r,r="");var s=Mk(t)?t.type:[t,t={event:r}][0];if(t.event=(t.event||s).toLowerCase(),!U3[r=t.event])MZ(UW.test(s)&&UW.test(r)),!U2[s]&&(U2[s]={action:i,actionInfo:t}),U3[r]=s}function zy(t,r){BQ.register(t,r)}function zx(t){var r=BQ.get(t);if(r)return r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice()}function z_(t,r){zS(U9,t,r,1e3,"layout")}function zb(t,r){zS(U9,t,r,3e3,"visual")}var zw=[];function zS(t,r,i,s,u){(MR(r)||Mk(r))&&(i=r,r=s);if(!(My(zw,i)>=0)){zw.push(i);var c=FP.wrapStageHandler(i,u);c.__prio=r,c.__raw=i,t.push(c)}}function zA(t,r){U6[t]=r}function zM(t){A8({createCanvas:t})}function zC(t,r,i){var s=UN.registerMap;s&&s(t,r,i)}function zT(t){var r=UN.getMap;return r&&r(t)}var zE=function(t){var r=(t=Md(t)).type;!r&&kU("");var i=r.split(":");2!==i.length&&kU("");var s=!1;"echarts"===i[0]&&(r=i[1],s=!0),t.__isBuiltIn=s,kq.set(r,t)};zb(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(t,r){var i=t.getData(),s=t.visualStyleAccessPath||"itemStyle",u=t.getModel(s),c=FE(t,s)(u),h=u.getShallow("decal");h&&(i.setVisual("decal",h),h.dirty=!0);var f=FI(t,s),p=c[f],v=MR(p)?p:null,y="auto"===c.fill||"auto"===c.stroke;if(!c[f]||v||y){var x=t.getColorFromPalette(t.name,null,r.getSeriesCount());!c[f]&&(c[f]=x,i.setVisual("colorFromPalette",!0)),c.fill="auto"===c.fill||MR(c.fill)?x:c.fill,c.stroke="auto"===c.stroke||MR(c.stroke)?x:c.stroke}if(i.setVisual("style",c),i.setVisual("drawType",f),!r.isSeriesFiltered(t)&&v)return i.setVisual("colorFromPalette",!1),{dataEach:function(r,i){var s=t.getDataParams(i),u=Mg({},c);u[f]=v(s),r.setItemVisual(i,"style",u)}}}}),zb(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(t,r){if(!(t.ignoreStyleOnData||r.isSeriesFiltered(t))){var i=t.getData(),s=t.visualStyleAccessPath||"itemStyle",u=FE(t,s),c=i.getVisual("drawType");return{dataEach:i.hasItemOption?function(t,r){var i=t.getRawDataItem(r);if(i&&i[s]){FD.option=i[s];var h=u(FD);Mg(t.ensureUniqueItemVisual(r,"style"),h),FD.option.decal&&(t.setItemVisual(r,"decal",FD.option.decal),FD.option.decal.dirty=!0),c in h&&t.setItemVisual(r,"colorFromPalette",!1)}}:null}}}}),zb(4500,{performRawSeries:!0,overallReset:function(t){var r=M2();t.eachSeries(function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var s=t.type+"-"+i,u=r.get(s);!u&&(u={},r.set(s,u)),FM(t).scope=u}}),t.eachSeries(function(r){if(!(r.isColorBySeries()||t.isSeriesFiltered(r))){var i=r.getRawData(),s={},u=r.getData(),c=FM(r).scope,h=r.visualStyleAccessPath||"itemStyle",f=FI(r,h);u.each(function(t){s[u.getRawIndex(t)]=t}),i.each(function(t){var h=s[t];if(u.getItemVisual(h,"colorFromPalette")){var p=u.ensureUniqueItemVisual(h,"style"),v=i.getName(t)||t+"",y=i.count();p[f]=r.getColorFromPalette(v,c,y)}})}})}}),zb(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(t,r){var i=t.getData();if(t.legendIcon&&i.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var s={},u={},c=!1,h=0;h<Fq.length;h++){var f=Fq[h],p=t.get(f);MR(p)?(c=!0,u[f]=p):s[f]=p}if(s.symbol=s.symbol||t.defaultSymbol,i.setVisual(Mg({legendIcon:t.legendIcon||s.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},s)),!r.isSeriesFiltered(t)){var v=MT(u);return{dataEach:c?function(r,i){for(var s=t.getRawValue(i),c=t.getDataParams(i),h=0;h<v.length;h++){var f=v[h];r.setItemVisual(i,f,u[f](s,c))}}:null}}}}),zb(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(t,r){if(!(!t.hasSymbolVisual||r.isSeriesFiltered(t))){var i=t.getData();return{dataEach:i.hasItemOption?function(t,r){for(var i=t.getItemModel(r),s=0;s<F$.length;s++){var u=F$[s],c=i.getShallow(u,!0);null!=c&&t.setItemVisual(r,u,c)}}:null}}}}),zb(7e3,function(t,r){t.eachRawSeries(function(i){if(!t.isSeriesFiltered(i)){var s=i.getData();s.hasItemVisual()&&s.each(function(t){var i=s.getItemVisual(t,"decal");i&&(s.ensureUniqueItemVisual(t,"style").decal=UB(i,r))});var u=s.getVisual("decal");u&&(s.getVisual("style").decal=UB(u,r))}})}),zd(ks),zf(900,function(t){var r=M2();t.eachSeries(function(t){var i=t.get("stack");if(i){var s=r.get(i)||r.set(i,[]),u=t.getData(),c={stackResultDimension:u.getCalculationInfo("stackResultDimension"),stackedOverDimension:u.getCalculationInfo("stackedOverDimension"),stackedDimension:u.getCalculationInfo("stackedDimension"),stackedByDimension:u.getCalculationInfo("stackedByDimension"),isStackedByIndex:u.getCalculationInfo("isStackedByIndex"),data:u,seriesModel:t};if(!c.stackedDimension||!(c.isStackedByIndex||c.stackedByDimension))return;s.length&&u.setCalculationInfo("stackedOnSeries",s[s.length-1].seriesModel),s.push(c)}}),r.each(kl)}),eln=function(t,r){Mm(r=r||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var i,s=new IS,u=new RY({style:{fill:r.maskColor},zlevel:r.zlevel,z:1e4});s.add(u);var c=new R7({style:{text:r.text,fill:r.textColor,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle,fontFamily:r.fontFamily},zlevel:r.zlevel,z:10001}),h=new RY({style:{fill:"none"},textContent:c,textConfig:{position:"right",distance:10},zlevel:r.zlevel,z:10001});return s.add(h),r.showSpinner&&((i=new NP({shape:{startAngle:-FR/2,endAngle:-FR/2+.1,r:r.spinnerRadius},style:{stroke:r.color,lineCap:"round",lineWidth:r.lineWidth},zlevel:r.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*FR/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*FR/2}).delay(300).start("circularInOut"),s.add(i)),s.resize=function(){var s=c.getBoundingRect().width,f=r.showSpinner?r.spinnerRadius:0,p=(t.getWidth()-2*f-(r.showSpinner&&s?10:0)-s)/2-(r.showSpinner&&s?0:5+s/2)+(r.showSpinner?0:s/2)+(s?0:f),v=t.getHeight()/2;r.showSpinner&&i.setShape({cx:p,cy:v}),h.setShape({x:p-f,y:v-f,width:2*f,height:2*f}),u.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},s.resize(),s},U6.default=eln,zv({type:Pl,event:Pl,update:Pl},M8),zv({type:Pu,event:Pu,update:Pu},M8),zv({type:Pc,event:Pc,update:Pc},M8),zv({type:Ph,event:Ph,update:Ph},M8),zv({type:Pd,event:Pd,update:Pd},M8),elr={color:FW,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],FW]},U8.light=elr,eli=FJ,U8.dark=eli;var zI={},zD=[],zR={registerPreprocessor:zd,registerProcessor:zf,registerPostInit:zp,registerPostUpdate:zg,registerUpdateLifecycle:zm,registerAction:zv,registerCoordinateSystem:zy,registerLayout:z_,registerVisual:zb,registerTransform:zE,registerLoading:zA,registerMap:zC,registerImpl:function(t,r){UN[t]=r},PRIORITY:UG,ComponentModel:By,ComponentView:OL,SeriesModel:OR,ChartView:Fy,registerComponentModel:function(t){By.registerClass(t)},registerComponentView:function(t){OL.registerClass(t)},registerSeriesModel:function(t){OR.registerClass(t)},registerChartView:function(t){Fy.registerClass(t)},registerSubTypeDefaulter:function(t,r){By.registerSubTypeDefaulter(t,r)},registerPainter:function(t,r){var i,s;i=t,s=r,IA[i]=s}};function zP(t){if(MD(t)){Mw(t,function(t){zP(t)});return}if(!(My(zD,t)>=0))zD.push(t),MR(t)&&(t={install:t}),t.install(zR)}function zL(t){return null==t?0:t.length||1}function zB(t){return t}var zk=function(){function t(t,r,i,s,u,c){this._old=t,this._new=r,this._oldKeyGetter=i||zB,this._newKeyGetter=s||zB,this.context=u,this._diffModeMultiple="multiple"===c}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,r=this._new,i={},s=Array(t.length),u=Array(r.length);this._initIndexMap(t,null,s,"_oldKeyGetter"),this._initIndexMap(r,i,u,"_newKeyGetter");for(var c=0;c<t.length;c++){var h=s[c],f=i[h],p=zL(f);if(p>1){var v=f.shift();1===f.length&&(i[h]=f[0]),this._update&&this._update(v,c)}else 1===p?(i[h]=null,this._update&&this._update(f,c)):this._remove&&this._remove(c)}this._performRestAdd(u,i)},t.prototype._executeMultiple=function(){var t=this._old,r=this._new,i={},s={},u=[],c=[];this._initIndexMap(t,i,u,"_oldKeyGetter"),this._initIndexMap(r,s,c,"_newKeyGetter");for(var h=0;h<u.length;h++){var f=u[h],p=i[f],v=s[f],y=zL(p),x=zL(v);if(y>1&&1===x)this._updateManyToOne&&this._updateManyToOne(v,p),s[f]=null;else if(1===y&&x>1)this._updateOneToMany&&this._updateOneToMany(v,p),s[f]=null;else if(1===y&&1===x)this._update&&this._update(v,p),s[f]=null;else if(y>1&&x>1)this._updateManyToMany&&this._updateManyToMany(v,p),s[f]=null;else if(y>1)for(var _=0;_<y;_++)this._remove&&this._remove(p[_]);else this._remove&&this._remove(p)}this._performRestAdd(c,s)},t.prototype._performRestAdd=function(t,r){for(var i=0;i<t.length;i++){var s=t[i],u=r[s],c=zL(u);if(c>1)for(var h=0;h<c;h++)this._add&&this._add(u[h]);else 1===c&&this._add&&this._add(u);r[s]=null}},t.prototype._initIndexMap=function(t,r,i,s){for(var u=this._diffModeMultiple,c=0;c<t.length;c++){var h="_ec_"+this[s](t[c],c);if(!u&&(i[c]=h),!!r){var f=r[h],p=zL(f);0===p?(r[h]=c,u&&i.push(h)):1===p?r[h]=[f,c]:f.push(c)}}},t}(),zO=function(){function t(t,r){this._encode=t,this._schema=r}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return!this._cachedDimNames&&(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function zN(t,r){return!t.hasOwnProperty(r)&&(t[r]=[]),t[r]}function zF(t){return"category"===t?"ordinal":"time"===t?"time":"float"}let zU=function(t){this.otherDims={},null!=t&&Mg(this,t)};var zz=Dl(),zG={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},zH=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){if(this._dimOmitted=t,!!t)!this._dimNameMap&&(this._dimNameMap=zW(this.source))},t.prototype.getSourceDimensionIndex=function(t){return Mj(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var r=this.source.dimensionsDefine;if(r)return r[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,r=km(this.source),i=!function(t){return t>30}(t),s="",u=[],c=0,h=0;c<t;c++){var f=void 0,p=void 0,v=void 0,y=this.dimensions[h];if(y&&y.storeDimIndex===c)f=r?y.name:null,p=y.type,v=y.ordinalMeta,h++;else{var x=this.getSourceDimension(c);x&&(f=r?x.name:null,p=x.type)}u.push({property:f,type:p,ordinalMeta:v}),r&&null!=f&&(!y||!y.isCalculationCoord)&&(s+=i?f.replace(/\`/g,"`1").replace(/\$/g,"`2"):f),s+="$",s+=zG[p]||"f",v&&(s+=v.uid),s+="$"}var _=this.source;return{dimensions:u,hash:[_.seriesLayoutBy,_.startIndex,s].join("$$")}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],r=0,i=0;r<this._fullDimCount;r++){var s=void 0,u=this.dimensions[i];if(u&&u.storeDimIndex===r)!u.isCalculationCoord&&(s=u.name),i++;else{var c=this.getSourceDimension(r);c&&(s=c.name)}t.push(s)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function zV(t){return t instanceof zH}function zj(t){for(var r=M2(),i=0;i<(t||[]).length;i++){var s=t[i],u=Mk(s)?s.name:s;null!=u&&null==r.get(u)&&r.set(u,i)}return r}function zW(t){var r=zz(t);return r.dimNameMap||(r.dimNameMap=zj(t.dimensionsDefine))}function zX(t){return t>30}var zY=Mk,zZ=MS,zK="undefined"==typeof Int32Array?Array:Int32Array,zJ=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],zQ=["_approximateExtent"];let zq=function(){function t(t,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i,s=!1;zV(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(s=!0,i=t),i=i||["x","y"];for(var u={},c=[],h={},f=!1,p={},v=0;v<i.length;v++){var y=i[v],x=MP(y)?new zU({name:y}):y instanceof zU?y:new zU(y),_=x.name;x.type=x.type||"float",!x.coordDim&&(x.coordDim=_,x.coordDimIndex=0);var b=x.otherDims=x.otherDims||{};c.push(_),u[_]=x,null!=p[_]&&(f=!0),x.createInvertedIndices&&(h[_]=[]),0===b.itemName&&(this._nameDimIdx=v),0===b.itemId&&(this._idDimIdx=v);s&&(x.storeDimIndex=v)}if(this.dimensions=c,this._dimInfos=u,this._initGetDimensionInfo(f),this.hostModel=r,this._invertedIndicesMap=h,this._dimOmitted){var w=this._dimIdxToName=M2();Mw(c,function(t){w.set(u[t].storeDimIndex,t)})}}return t.prototype.getDimension=function(t){var r=this._recognizeDimIndex(t);if(null==r)return t;if(r=t,!this._dimOmitted)return this.dimensions[r];var i=this._dimIdxToName.get(r);if(null!=i)return i;var s=this._schema.getSourceDimension(r);if(s)return s.name},t.prototype.getDimensionIndex=function(t){var r=this._recognizeDimIndex(t);if(null!=r)return r;if(null==t)return -1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if(MB(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||0>this._schema.getSourceDimensionIndex(t)))return+t},t.prototype._getStoreDimIndex=function(t){var r=this.getDimensionIndex(t);return r},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var r=this._dimInfos;this._getDimInfo=t?function(t){return r.hasOwnProperty(t)?r[t]:void 0}:function(t){return r[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,r){var i=this._dimSummary;if(null==r)return i.encodeFirstDimNotExtra[t];var s=i.encode[t];return s?s[r]:null},t.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,r,i){var s,u,c,h,f,p,v,y,x,_,b,w,S,A=this;if(t instanceof k7&&(S=t),!S){var M=this.dimensions,C=kc(t)||Mb(t)?new kv(t,M.length):t;S=new k7;var T=zZ(M,function(t){return{type:A._dimInfos[t].type,property:t}});S.initData(C,T,i)}this._store=S,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,S.count()),this._dimSummary=(s=this,u=this._schema,h=(c={}).encode={},f=M2(),p=[],v=[],y={},Mw(s.dimensions,function(t){var r=s.getDimensionInfo(t),i=r.coordDim;if(i){var u=r.coordDimIndex;zN(h,i)[u]=t,!r.isExtraCoord&&(f.set(i,1),function(t){return!("ordinal"===t||"time"===t)}(r.type)&&(p[0]=t),zN(y,i)[u]=s.getDimensionIndex(r.name)),r.defaultTooltip&&v.push(t)}Bw.each(function(t,i){var s=zN(h,i),u=r.otherDims[i];null!=u&&!1!==u&&(s[u]=r.name)})}),x=[],_={},f.each(function(t,r){var i=h[r];_[r]=i[0],x=x.concat(i)}),c.dataDimsOnCoord=x,c.dataDimIndicesOnCoord=MS(x,function(t){return s.getDimensionInfo(t).storeDimIndex}),c.encodeFirstDimNotExtra=_,(b=h.label)&&b.length&&(p=b.slice()),(w=h.tooltip)&&w.length?v=w.slice():!v.length&&(v=p.slice()),h.defaultedLabel=p,h.defaultedTooltip=v,c.userOutput=new zO(y,u),c),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var r=this._store.appendData(t);this._doInit(r[0],r[1])},t.prototype.appendValues=function(t,r){var i=this._store.appendValues(t,r.length),s=i.start,u=i.end,c=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var h=s;h<u;h++){var f=h-s;this._nameList[h]=r[f],c&&elX(this,h)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,r=this.dimensions,i=0;i<r.length;i++){var s=this._dimInfos[r[i]];s.ordinalMeta&&t.collectOrdinalMeta(s.storeDimIndex,s.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==BT&&!t.fillStorage},t.prototype._doInit=function(t,r){if(!(t>=r)){var i=this._store.getProvider();this._updateOrdinalMeta();var s=this._nameList,u=this._idList;if(i.getSource().sourceFormat===BS&&!i.pure){for(var c=[],h=t;h<r;h++){var f,p=i.getItem(h,c);if(!this.hasItemOption&&Mk(f=p)&&!(f instanceof Array))this.hasItemOption=!0;if(p){var v=p.name;null==s[h]&&null!=v&&(s[h]=Di(v,null));var y=p.id;null==u[h]&&null!=y&&(u[h]=Di(y,null))}}}if(this._shouldMakeIdFromName())for(var h=t;h<r;h++)elX(this,h);elz(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,r){r=this.getDimension(r),this._approximateExtent[r]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,r){zY(t)?Mg(this._calculationInfo,t):this._calculationInfo[t]=r},t.prototype.getName=function(t){var r=this.getRawIndex(t),i=this._nameList[r];return null==i&&null!=this._nameDimIdx&&(i=elH(this,this._nameDimIdx,r)),null==i&&(i=""),i},t.prototype._getCategory=function(t,r){var i=this._store.get(t,r),s=this._store.getOrdinalMeta(t);return s?s.categories[i]:i},t.prototype.getId=function(t){return elG(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,r){var i=this._store,s=this._dimInfos[t];if(s)return i.get(s.storeDimIndex,r)},t.prototype.getByRawIndex=function(t,r){var i=this._store,s=this._dimInfos[t];if(s)return i.getByRawIndex(s.storeDimIndex,r)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,r){var i=this,s=this._store;return MD(t)?s.getValues(zZ(t,function(t){return i._getStoreDimIndex(t)}),r):s.getValues(t)},t.prototype.hasValue=function(t){for(var r=this._dimSummary.dataDimIndicesOnCoord,i=0,s=r.length;i<s;i++)if(isNaN(this._store.get(r[i],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var r=0,i=this._store.count();r<i;r++)if(this.getName(r)===t)return r;return -1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,r){var i=t&&this._invertedIndicesMap[t],s=i[r];return null==s||isNaN(s)?-1:s},t.prototype.indicesOfNearest=function(t,r,i){return this._store.indicesOfNearest(this._getStoreDimIndex(t),r,i)},t.prototype.each=function(t,r,i){MR(t)&&(i=r,r=t,t=[]);var s=i||this,u=zZ(elV(t),this._getStoreDimIndex,this);this._store.each(u,s?ME(r,s):r)},t.prototype.filterSelf=function(t,r,i){MR(t)&&(i=r,r=t,t=[]);var s=i||this,u=zZ(elV(t),this._getStoreDimIndex,this);return this._store=this._store.filter(u,s?ME(r,s):r),this},t.prototype.selectRange=function(t){var r=this,i={},s=MT(t),u=[];return Mw(s,function(s){var c=r._getStoreDimIndex(s);i[c]=t[s],u.push(c)}),this._store=this._store.selectRange(i),this},t.prototype.mapArray=function(t,r,i){MR(t)&&(i=r,r=t,t=[]),i=i||this;var s=[];return this.each(t,function(){s.push(r&&r.apply(this,arguments))},i),s},t.prototype.map=function(t,r,i,s){var u=i||s||this,c=zZ(elV(t),this._getStoreDimIndex,this),h=elW(this);return h._store=this._store.map(c,u?ME(r,u):r),h},t.prototype.modify=function(t,r,i,s){var u=i||s||this,c=zZ(elV(t),this._getStoreDimIndex,this);this._store.modify(c,u?ME(r,u):r)},t.prototype.downSample=function(t,r,i,s){var u=elW(this);return u._store=this._store.downSample(this._getStoreDimIndex(t),r,i,s),u},t.prototype.lttbDownSample=function(t,r){var i=elW(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),r),i},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var r=this.hostModel;return new Lw(this.getRawDataItem(t),r,r&&r.ecModel)},t.prototype.diff=function(t){var r=this;return new zk(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return elG(t,r)},function(t){return elG(r,t)})},t.prototype.getVisual=function(t){var r=this._visual;return r&&r[t]},t.prototype.setVisual=function(t,r){this._visual=this._visual||{},zY(t)?Mg(this._visual,t):this._visual[t]=r},t.prototype.getItemVisual=function(t,r){var i=this._itemVisuals[t],s=i&&i[r];return null==s?this.getVisual(r):s},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,r){var i=this._itemVisuals,s=i[t];!s&&(s=i[t]={});var u=s[r];return null==u&&(MD(u=this.getVisual(r))?u=u.slice():zY(u)&&(u=Mg({},u)),s[r]=u),u},t.prototype.setItemVisual=function(t,r,i){var s=this._itemVisuals[t]||{};this._itemVisuals[t]=s,zY(r)?Mg(s,r):s[r]=i},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,r){zY(t)?Mg(this._layout,t):this._layout[t]=r},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,r,i){this._itemLayouts[t]=i?Mg(this._itemLayouts[t]||{},r):r},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,r){Pt(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,r),this._graphicEls[t]=r},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,r){Mw(this._graphicEls,function(i,s){i&&t&&t.call(r,i,s)})},t.prototype.cloneShallow=function(r){return!r&&(r=new t(this._schema?this._schema:zZ(this.dimensions,this._getDimInfo,this),this.hostModel)),elj(r,this),r._store=this._store,r},t.prototype.wrapMethod=function(t,r){var i=this[t];if(!!MR(i))this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return r.apply(this,[t].concat(MX(arguments)))}},t.internalField=void(elz=function(t){var r=t._invertedIndicesMap;Mw(r,function(i,s){var u=t._dimInfos[s],c=u.ordinalMeta,h=t._store;if(c){i=r[s]=new zK(c.categories.length);for(var f=0;f<i.length;f++)i[f]=-1;for(var f=0;f<h.count();f++)i[h.get(u.storeDimIndex,f)]=f}})},elH=function(t,r,i){return Di(t._getCategory(r,i),null)},elG=function(t,r){var i=t._idList[r];return null==i&&null!=t._idDimIdx&&(i=elH(t,t._idDimIdx,r)),null==i&&(i="e\0\0"+r),i},elV=function(t){return!MD(t)&&(t=null!=t?[t]:[]),t},elW=function(r){var i=new t(r._schema?r._schema:zZ(r.dimensions,r._getDimInfo,r),r.hostModel);return elj(i,r),i},elj=function(t,r){Mw(zJ.concat(r.__wrappedMethods||[]),function(i){r.hasOwnProperty(i)&&(t[i]=r[i])}),t.__wrappedMethods=r.__wrappedMethods,Mw(zQ,function(i){t[i]=Md(r[i])}),t._calculationInfo=Mg({},r._calculationInfo)},elX=function(t,r){var i=t._nameList,s=t._idList,u=t._nameDimIdx,c=t._idDimIdx,h=i[r],f=s[r];if(null==h&&null!=u&&(i[r]=h=elH(t,u,r)),null==f&&null!=c&&(s[r]=f=elH(t,c,r)),null==f&&null!=h){var p=t._nameRepeatCount,v=p[h]=(p[h]||0)+1;f=h,v>1&&(f+="__ec__"+v),s[r]=f}}),t}();function z$(t,r){return z0(t,r).dimensions}function z0(t,r){!kc(t)&&(t=kd(t));var i=(r=r||{}).coordDimensions||[],s=r.dimensionsDefine||t.dimensionsDefine||[],u=M2(),c=[],h=function(t,r,i,s){var u=Math.max(t.dimensionsDetectedCount||1,r.length,i.length,s||0);return Mw(r,function(t){var r;Mk(t)&&(r=t.dimsDef)&&(u=Math.max(u,r.length))}),u}(t,i,s,r.dimensionsCount),f=r.canOmitUnusedDimensions&&h>30,p=s===t.dimensionsDefine,v=p?zW(t):zj(s),y=r.encodeDefine;!y&&r.encodeDefaulter&&(y=r.encodeDefaulter(t,h));for(var x=M2(y),_=new k3(h),b=0;b<_.length;b++)_[b]=-1;function w(t){var r=_[t];if(r<0){var i=s[t],u=Mk(i)?i:{name:i},h=new zU,f=u.name;null!=f&&null!=v.get(f)&&(h.name=h.displayName=f),null!=u.type&&(h.type=u.type),null!=u.displayName&&(h.displayName=u.displayName);var p=c.length;return _[t]=p,h.storeDimIndex=t,c.push(h),h}return c[r]}if(!f)for(var b=0;b<h;b++)w(b);x.each(function(t,r){var i=I8(t).slice();if(1===i.length&&!MP(i[0])&&i[0]<0){x.set(r,!1);return}var s=x.set(r,[]);Mw(i,function(t,i){var u=MP(t)?v.get(t):t;null!=u&&u<h&&(s[i]=u,A(w(u),r,i))})});var S=0;function A(t,r,i){null!=Bw.get(r)?t.otherDims[r]=i:(t.coordDim=r,t.coordDimIndex=i,u.set(r,!0))}Mw(i,function(t){if(MP(t))r=t,u={};else{r=(u=t).name;var r,i,s,u,c=u.ordinalMeta;u.ordinalMeta=null,(u=Mg({},u)).ordinalMeta=c,i=u.dimsDef,s=u.otherDims,u.name=u.coordDim=u.coordDimIndex=u.dimsDef=u.otherDims=null}var f=x.get(r);if(!1!==f){if(!(f=I8(f)).length)for(var v=0;v<(i&&i.length||1);v++){for(;S<h&&null!=w(S).coordDim;)S++;S<h&&f.push(S++)}Mw(f,function(t,c){var h=w(t);if(p&&null!=u.type&&(h.type=u.type),A(Mm(h,u),r,c),null==h.name&&i){var f=i[c];Mk(f)||(f={name:f}),h.name=h.displayName=f.name,h.defaultTooltip=f.defaultTooltip}s&&Mm(h.otherDims,s)})}});var M=r.generateCoord,C=r.generateCoordCount,T=null!=C;C=M?C||1:0;var I=M||"value";function D(t){null==t.name&&(t.name=t.coordDim)}if(f)Mw(c,function(t){D(t)}),c.sort(function(t,r){return t.storeDimIndex-r.storeDimIndex});else for(var R=0;R<h;R++){var P=w(R);null==P.coordDim&&(P.coordDim=function(t,r,i){if(i||r.hasKey(t)){for(var s=0;r.hasKey(t+s);)s++;t+=s}return r.set(t,!0),t}(I,u,T),P.coordDimIndex=0,(!M||C<=0)&&(P.isExtraCoord=!0),C--),D(P),null==P.type&&(Bk(t,R)===BD.Must||P.isExtraCoord&&(null!=P.otherDims.itemName||null!=P.otherDims.seriesName))&&(P.type="ordinal")}return function(t){for(var r=M2(),i=0;i<t.length;i++){var s=t[i],u=s.name,c=r.get(u)||0;c>0&&(s.name=u+(c-1)),c++,r.set(u,c)}}(c),new zH({source:t,dimensions:c,fullDimensionCount:h,dimensionOmitted:f})}var z1=function(t){this.coordSysDims=[],this.axisMap=M2(),this.categoryAxisMap=M2(),this.coordSysName=t},z2={cartesian2d:function(t,r,i,s){var u=t.getReferringComponents("xAxis",Dd).models[0],c=t.getReferringComponents("yAxis",Dd).models[0];r.coordSysDims=["x","y"],i.set("x",u),i.set("y",c),z3(u)&&(s.set("x",u),r.firstCategoryDimIndex=0),z3(c)&&(s.set("y",c),null==r.firstCategoryDimIndex&&(r.firstCategoryDimIndex=1))},singleAxis:function(t,r,i,s){var u=t.getReferringComponents("singleAxis",Dd).models[0];r.coordSysDims=["single"],i.set("single",u),z3(u)&&(s.set("single",u),r.firstCategoryDimIndex=0)},polar:function(t,r,i,s){var u=t.getReferringComponents("polar",Dd).models[0],c=u.findAxisModel("radiusAxis"),h=u.findAxisModel("angleAxis");r.coordSysDims=["radius","angle"],i.set("radius",c),i.set("angle",h),z3(c)&&(s.set("radius",c),r.firstCategoryDimIndex=0),z3(h)&&(s.set("angle",h),null==r.firstCategoryDimIndex&&(r.firstCategoryDimIndex=1))},geo:function(t,r,i,s){r.coordSysDims=["lng","lat"]},parallel:function(t,r,i,s){var u=t.ecModel,c=u.getComponent("parallel",t.get("parallelIndex")),h=r.coordSysDims=c.dimensions.slice();Mw(c.parallelAxisIndex,function(t,c){var f=u.getComponent("parallelAxis",t),p=h[c];i.set(p,f),z3(f)&&(s.set(p,f),null==r.firstCategoryDimIndex&&(r.firstCategoryDimIndex=c))})}};function z3(t){return"category"===t.get("type")}function z5(t,r,i){var s,u,c,h,f,p,v,y=(i=i||{}).byIndex,x=i.stackedCoordDimension;(function(t){return!zV(t.schema)})(r)?s=r:(s=(u=r.schema).dimensions,c=r.store);var _=!!(t&&t.get("stack"));if(Mw(s,function(t,r){MP(t)&&(s[r]=t={name:t}),_&&!t.isExtraCoord&&(!y&&!h&&t.ordinalMeta&&(h=t),!f&&"ordinal"!==t.type&&"time"!==t.type&&(!x||x===t.coordDim)&&(f=t))}),f&&!y&&!h&&(y=!0),f){p="__\0ecstackresult_"+t.id,v="__\0ecstackedover_"+t.id,h&&(h.createInvertedIndices=!0);var b=f.coordDim,w=f.type,S=0;Mw(s,function(t){t.coordDim===b&&S++});var A={name:p,coordDim:b,coordDimIndex:S,type:w,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:s.length},M={name:v,coordDim:v,coordDimIndex:S+1,type:w,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:s.length+1};u?(c&&(A.storeDimIndex=c.ensureCalculationDimension(v,w),M.storeDimIndex=c.ensureCalculationDimension(p,w)),u.appendCalculationDimension(A),u.appendCalculationDimension(M)):(s.push(A),s.push(M))}return{stackedDimension:f&&f.name,stackedByDimension:h&&h.name,isStackedByIndex:y,stackedOverDimension:v,stackResultDimension:p}}function z4(t,r){return!!r&&r===t.getCalculationInfo("stackedDimension")}function z9(t,r){return z4(t,r)?t.getCalculationInfo("stackResultDimension"):r}let z8=function(t,r,i){i=i||{};var s,u,c,h,f,p,v,y,x,_,b,w=r.getSourceManager(),S=!1;t?(S=!0,b=kd(t)):S=(b=w.getSource()).sourceFormat===BS;var A=function(t){var r=t.get("coordinateSystem"),i=new z1(r),s=z2[r];if(s)return s(t,i,i.axisMap,i.categoryAxisMap),i}(r);var M=(s=r,u=A,h=s.get("coordinateSystem"),f=BQ.get(h),u&&u.coordSysDims&&(c=MS(u.coordSysDims,function(t){var r={name:t},i=u.axisMap.get(t);if(i){var s=i.get("type");r.type=zF(s)}return r})),!c&&(c=f&&(f.getDimensionsInfo?f.getDimensionsInfo():f.dimensions.slice())||["x","y"]),c),C=i.useEncodeDefaulter,T=MR(C)?C:C?MI(BP,M,r):null,I=z0(b,{coordDimensions:M,generateCoord:i.generateCoord,encodeDefine:r.getEncode(),encodeDefaulter:T,canOmitUnusedDimensions:!S});var D=(p=I.dimensions,v=i.createInvertedIndices,(y=A)&&Mw(p,function(t,r){var i=t.coordDim,s=y.categoryAxisMap.get(i);s&&(null==x&&(x=r),t.ordinalMeta=s.getOrdinalMeta(),v&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(_=!0)}),!_&&null!=x&&(p[x].otherDims.itemName=0),x),R=S?null:w.getSharedDataStore(I),P=z5(r,{schema:I,store:R}),L=new zq(I,r);L.setCalculationInfo(P);var B=null!=D&&function(t){if(t.sourceFormat===BS)return!MD(De(function(t){for(var r=0;r<t.length&&null==t[r];)r++;return t[r]}(t.data||[])))}(b)?function(t,r,i,s){return s===D?i:this.defaultDimValueGetter(t,r,i,s)}:null;return L.hasItemOption=!1,L.initData(S?b:R,null,B),L};var z6=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])},t.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,r){var i=this._extent;!isNaN(t)&&(i[0]=t),!isNaN(r)&&(i[1]=r)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();DC(z6);var z7=0,Ge=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++z7}return t.createByAxisModel=function(r){var i=r.option,s=i.data,u=s&&MS(s,Gt);return new t({categories:u,needCollect:!u,deduplication:!1!==i.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var r,i=this._needCollect;if(!MP(t)&&!i)return t;if(i&&!this._deduplication)return r=this.categories.length,this.categories[r]=t,r;var s=this._getOrCreateMap();return null==(r=s.get(t))&&(i?(r=this.categories.length,this.categories[r]=t,s.set(t,r)):r=NaN),r},t.prototype._getOrCreateMap=function(){return this._map||(this._map=M2(this.categories))},t}();function Gt(t){return Mk(t)&&null!=t.value?t.value:t+""}function Gn(t){return"interval"===t.type||"log"===t.type}function Gr(t){var r=Math.pow(10,IJ(t)),i=t/r;return i?2===i?i=3:3===i?i=5:i*=2:i=1,IN(i*r)}function Gi(t){return IU(t)+2}function Ga(t,r,i){t[r]=Math.max(Math.min(t[r],i[1]),i[0])}function Go(t,r){return t>=r[0]&&t<=r[1]}function Gs(t,r){return r[1]===r[0]?.5:(t-r[0])/(r[1]-r[0])}function Gl(t,r){return t*(r[1]-r[0])+r[0]}var Gu=function(t){function r(r){var i=t.call(this,r)||this;i.type="ordinal";var s=i.getSetting("ordinalMeta");return!s&&(s=new Ge({})),MD(s)&&(s=new Ge({categories:MS(s,function(t){return Mk(t)?t.value:t})})),i._ordinalMeta=s,i._extent=i.getSetting("extent")||[0,s.categories.length-1],i}return AK(r,t),r.prototype.parse=function(t){return null==t?NaN:MP(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},r.prototype.contain=function(t){return Go(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},r.prototype.normalize=function(t){return Gs(t=this._getTickNumber(this.parse(t)),this._extent)},r.prototype.scale=function(t){return t=Math.round(Gl(t,this._extent)),this.getRawOrdinalNumber(t)},r.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},r.prototype.getMinorTicks=function(t){},r.prototype.setSortInfo=function(t){if(null==t){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],s=this._ticksByOrdinalNumber=[],u=0,c=this._ordinalMeta.categories.length,h=Math.min(c,r.length);u<h;++u){var f=r[u];i[u]=f,s[f]=u}for(var p=0;u<c;++u){for(;null!=s[p];)p++;i.push(p),s[p]=u}},r.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},r.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},r.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return null==i?"":i+""}},r.prototype.count=function(){return this._extent[1]-this._extent[0]+1},r.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},r.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},r.prototype.calcNiceTicks=function(){},r.prototype.calcNiceExtent=function(){},r.type="ordinal",r}(z6);z6.registerClass(Gu);var Gc=IN,Gh=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return AK(r,t),r.prototype.parse=function(t){return t},r.prototype.contain=function(t){return Go(t,this._extent)},r.prototype.normalize=function(t){return Gs(t,this._extent)},r.prototype.scale=function(t){return Gl(t,this._extent)},r.prototype.setExtent=function(t,r){var i=this._extent;!isNaN(t)&&(i[0]=parseFloat(t)),!isNaN(r)&&(i[1]=parseFloat(r))},r.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},r.prototype.getInterval=function(){return this._interval},r.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=IU(t)+2},r.prototype.getTicks=function(t){var r=this._interval,i=this._extent,s=this._niceExtent,u=this._intervalPrecision,c=[];if(!r)return c;i[0]<s[0]&&(t?c.push({value:Gc(s[0]-r,u)}):c.push({value:i[0]}));for(var h=s[0];h<=s[1]&&(c.push({value:h}),(h=Gc(h+r,u))!==c[c.length-1].value);){;if(c.length>1e4)return[]}var f=c.length?c[c.length-1].value:s[1];return i[1]>f&&(t?c.push({value:Gc(f+r,u)}):c.push({value:i[1]})),c},r.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),i=[],s=this.getExtent(),u=1;u<r.length;u++){for(var c=r[u],h=r[u-1],f=0,p=[],v=(c.value-h.value)/t;f<t-1;){var y=Gc(h.value+(f+1)*v);y>s[0]&&y<s[1]&&p.push(y),f++}i.push(p)}return i},r.prototype.getLabel=function(t,r){if(null==t)return"";var i=r&&r.precision;return null==i?i=IU(t.value)||0:"auto"===i&&(i=this._intervalPrecision),L5(Gc(t.value,i,!0))},r.prototype.calcNiceTicks=function(t,r,i){t=t||5;var s,u,c,h,f,p,v,y,x=this._extent,_=x[1]-x[0];if(!!isFinite(_)){_<0&&(_=-_,x.reverse());var b=(s=x,u=t,c=r,h=i,f={},p=s[1]-s[0],v=f.interval=IQ(p/u,!0),null!=c&&v<c&&(v=f.interval=c),null!=h&&v>h&&(v=f.interval=h),y=f.intervalPrecision=function(t){return IU(t)+2}(v),function(t,r){isFinite(t[0])||(t[0]=r[0]),isFinite(t[1])||(t[1]=r[1]),Ga(t,0,r),Ga(t,1,r),t[0]>t[1]&&(t[0]=t[1])}(f.niceTickExtent=[IN(Math.ceil(s[0]/v)*v,y),IN(Math.floor(s[1]/v)*v,y)],s),f);this._intervalPrecision=b.intervalPrecision,this._interval=b.interval,this._niceExtent=b.niceTickExtent}},r.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]){if(0!==r[0]){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1}!isFinite(r[1]-r[0])&&(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval;!t.fixMin&&(r[0]=Gc(Math.floor(r[0]/s)*s)),!t.fixMax&&(r[1]=Gc(Math.ceil(r[1]/s)*s))},r.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},r.type="interval",r}(z6);z6.registerClass(Gh);var Gd="undefined"!=typeof Float32Array,Gf=Gd?Float32Array:Array;function Gp(t){return MD(t)?Gd?new Float32Array(t):t:new Gf(t)}var Gg="__ec_stack_";function Gm(t){return t.get("stack")||Gg+t.seriesIndex}function Gv(t){return t.dim+t.index}function Gy(t,r){var i=[];return r.eachSeriesByType(t,function(t){GS(t)&&i.push(t)}),i}function Gx(t){var r=function(t){var r={};Mw(t,function(t){var i=t.coordinateSystem.getBaseAxis();if("time"===i.type||"value"===i.type)for(var s=t.getData(),u=i.dim+"_"+i.index,c=s.getDimensionIndex(s.mapDimension(i.dim)),h=s.getStore(),f=0,p=h.count();f<p;++f){var v=h.get(c,f);r[u]?r[u].push(v):r[u]=[v]}});var i={};for(var s in r)if(r.hasOwnProperty(s)){var u=r[s];if(u){u.sort(function(t,r){return t-r});for(var c=null,h=1;h<u.length;++h){var f=u[h]-u[h-1];f>0&&(c=null===c?f:Math.min(c,f))}i[s]=c}}return i}(t),i=[];return Mw(t,function(t){var s,u=t.coordinateSystem.getBaseAxis(),c=u.getExtent();if("category"===u.type)s=u.getBandWidth();else if("value"===u.type||"time"===u.type){var h=r[u.dim+"_"+u.index],f=Math.abs(c[1]-c[0]),p=u.scale.getExtent(),v=Math.abs(p[1]-p[0]);s=h?f/v*h:f}else{var y=t.getData();s=Math.abs(c[1]-c[0])/y.count()}var x=IO(t.get("barWidth"),s),_=IO(t.get("barMaxWidth"),s),b=IO(t.get("barMinWidth")||(GA(t)?.5:1),s),w=t.get("barGap"),S=t.get("barCategoryGap");i.push({bandWidth:s,barWidth:x,barMaxWidth:_,barMinWidth:b,barGap:w,barCategoryGap:S,axisKey:Gv(u),stackId:Gm(t)})}),G_(i)}function G_(t){var r={};Mw(t,function(t,i){var s=t.axisKey,u=t.bandWidth,c=r[s]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},h=c.stacks;r[s]=c;var f=t.stackId;!h[f]&&c.autoWidthCount++,h[f]=h[f]||{width:0,maxWidth:0};var p=t.barWidth;p&&!h[f].width&&(h[f].width=p,p=Math.min(c.remainedWidth,p),c.remainedWidth-=p);var v=t.barMaxWidth;v&&(h[f].maxWidth=v);var y=t.barMinWidth;y&&(h[f].minWidth=y);var x=t.barGap;null!=x&&(c.gap=x);var _=t.barCategoryGap;null!=_&&(c.categoryGap=_)});var i={};return Mw(r,function(t,r){i[r]={};var s,u=t.stacks,c=t.bandWidth,h=t.categoryGap;null==h&&(h=Math.max(35-4*MT(u).length,15)+"%");var f=IO(h,c),p=IO(t.gap,1),v=t.remainedWidth,y=t.autoWidthCount,x=(v-f)/(y+(y-1)*p);x=Math.max(x,0),Mw(u,function(t){var r=t.maxWidth,i=t.minWidth;if(t.width){var s=t.width;r&&(s=Math.min(s,r)),i&&(s=Math.max(s,i)),t.width=s,v-=s+p*s,y--}else{var s=x;r&&r<s&&(s=Math.min(r,v)),i&&i>s&&(s=i),s!==x&&(t.width=s,v-=s+p*s,y--)}}),x=Math.max(x=(v-f)/(y+(y-1)*p),0);var _=0;Mw(u,function(t,r){!t.width&&(t.width=x),s=t,_+=t.width*(1+p)}),s&&(_-=s.width*p);var b=-_/2;Mw(u,function(t,s){i[r][s]=i[r][s]||{bandWidth:c,offset:b,width:t.width},b+=t.width*(1+p)})}),i}function Gb(t,r){var i=Gy(t,r),s=Gx(i);Mw(i,function(t){var r=t.getData(),i=t.coordinateSystem.getBaseAxis(),u=Gm(t),c=s[Gv(i)][u],h=c.offset,f=c.width;r.setLayout({bandWidth:c.bandWidth,offset:h,size:f})})}function Gw(t){return{seriesType:t,plan:OB(),reset:function(t){if(!!GS(t)){var r=t.getData(),i=t.coordinateSystem,s=i.getBaseAxis(),u=i.getOtherAxis(s),c=r.getDimensionIndex(r.mapDimension(u.dim)),h=r.getDimensionIndex(r.mapDimension(s.dim)),f=t.get("showBackground",!0),p=r.mapDimension(u.dim),v=r.getCalculationInfo("stackResultDimension"),y=z4(r,p)&&!!r.getCalculationInfo("stackedOnSeries"),x=u.isHorizontal(),_=function(t,r){var i=r.model.get("startValue");return!i&&(i=0),r.toGlobalCoord(r.dataToCoord("log"===r.type?i>0?i:1:i))}(s,u),b=GA(t),w=t.get("barMinHeight")||0,S=v&&r.getDimensionIndex(v),A=r.getLayout("size"),M=r.getLayout("offset");return{progress:function(t,r){for(var s,u=t.count,p=b&&Gp(3*u),v=b&&f&&Gp(3*u),C=b&&Gp(u),T=i.master.getRect(),I=x?T.width:T.height,D=r.getStore(),R=0;null!=(s=t.next());){var P=D.get(y?S:c,s),L=D.get(h,s),B=_,k=void 0;y&&(k=+P-D.get(c,s));var O=void 0,N=void 0,F=void 0,U=void 0;if(x){var z=i.dataToPoint([P,L]);if(y){var G=i.dataToPoint([k,L]);B=G[0]}O=B,N=z[1]+M,F=z[0]-B,U=A,Math.abs(F)<w&&(F=(F<0?-1:1)*w)}else{var z=i.dataToPoint([L,P]);if(y){var G=i.dataToPoint([L,k]);B=G[1]}O=z[0]+M,N=B,F=A,Math.abs(U=z[1]-B)<w&&(U=(U<=0?-1:1)*w)}b?(p[R]=O,p[R+1]=N,p[R+2]=x?F:U,v&&(v[R]=x?T.x:O,v[R+1]=x?N:T.y,v[R+2]=I),C[s]=s):r.setItemLayout(s,{x:O,y:N,width:F,height:U}),R+=3}b&&r.setLayout({largePoints:p,largeDataIndices:C,largeBackgroundPoints:v,valueAxisHorizontal:x})}}}}}}function GS(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function GA(t){return t.pipelineContext&&t.pipelineContext.large}var GM=function(t,r,i,s){for(;i<s;){var u=i+s>>>1;t[u][1]<r?i=u+1:s=u}return i},GC=function(t){function r(r){var i=t.call(this,r)||this;return i.type="time",i}return AK(r,t),r.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return LH(t.value,LN[function(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(LG(this._minLevelUnit))]||LN.second,r,this.getSetting("locale"))},r.prototype.getFormattedLabel=function(t,r,i){var s=this.getSetting("useUTC");return function(t,r,i,s,u){var c=null;if(MP(i))c=i;else if(MR(i))c=i(t.value,r,{level:t.level});else{var h=Mg({},Lk);if(t.level>0)for(var f=0;f<LF.length;++f)h[LF[f]]="{primary|"+h[LF[f]]+"}";var p=i?!1===i.inherit?i:Mm(i,h):h,v=LV(t.value,u);if(p[v])c=p[v];else if(p.inherit){for(var y=LU.indexOf(v),f=y-1;f>=0;--f)if(p[v]){c=p[v];break}c=c||h.none}if(MD(c)){var x=null==t.level?0:t.level>=0?t.level:c.length+t.level;x=Math.min(x,c.length-1),c=c[x]}}return LH(new Date(t.value),c,u,s)}(t,r,i,this.getSetting("locale"),s)},r.prototype.getTicks=function(){var t=this._interval,r=this._extent,i=[];if(!t)return i;i.push({value:r[0],level:0});var s=this.getSetting("useUTC"),u=function(t,r,i,s){for(var u=0,c=[],h=[],f=0,p=0,v=0;v<LU.length&&u++<1e4;++v){var y,x=LG(LU[v]);if((y=LU[v])===LG(y)){if(!function(t,u,c){var h=[],f=!u.length;if(!function(t,r,i,s){var u=IZ(r),c=IZ(i),h=function(t){return Lj(u,t,s)===Lj(c,t,s)},f=function(){return h("year")},p=function(){return f()&&h("month")},v=function(){return p()&&h("day")},y=function(){return v()&&h("hour")},x=function(){return y()&&h("minute")},_=function(){return x()&&h("second")};switch(t){case"year":return f();case"month":return p();case"day":return v();case"hour":return y();case"minute":return x();case"second":return _();case"millisecond":return _()&&h("millisecond")}}(LG(t),s[0],s[1],i)){f&&(u=[{value:function(t,r,i){var s=new Date(t);switch(LG(r)){case"year":case"month":s[Lq(i)](0);case"day":s[L$(i)](1);case"hour":s[L0(i)](0);case"minute":s[L1(i)](0);case"second":s[L2(i)](0),s[L3(i)](0)}return s.getTime()}(new Date(s[0]),t,i)},{value:s[1]}]);for(var p=0;p<u.length-1;p++){var v,y,x,_,b=u[p].value,w=u[p+1].value;if(b!==w){var S=void 0,A=void 0,M=void 0,C=!1;switch(t){case"year":S=Math.max(1,Math.round(r/LL/365)),A=LW(i),M=i?"setUTCFullYear":"setFullYear";break;case"half-year":case"quarter":case"month":;S=(v=r/(30*LL))>6?6:v>3?3:v>2?2:1,A=LX(i),M=Lq(i);break;case"week":case"half-week":case"day":;x=0,S=(y=r/LL)>16?16:y>7.5?7:y>3.5?4:y>1.5?2:1,A=LY(i),M=L$(i),C=!0;break;case"half-day":case"quarter-day":case"hour":;S=(_=r/LP)>12?12:_>6?6:_>3.5?4:_>2?2:1,A=LZ(i),M=L0(i);break;case"minute":S=GE(r,!0),A=LK(i),M=L1(i);break;case"second":S=GE(r,!1),A=LJ(i),M=L2(i);break;case"millisecond":S=IQ(r,!0),A=LQ(i),M=L3(i)}!function(t,r,i,u,c,h,f){for(var p=new Date(r),v=r,y=p[u]();v<i&&v<=s[1];)f.push({value:v}),y+=t,p[c](y),v=p.getTime();f.push({value:v,notAdd:!0})}(S,b,w,A,M,0,h),"year"===t&&c.length>1&&0===p&&c.unshift({value:c[0].value-S})}}for(var p=0;p<h.length;p++)c.push(h[p]);}}(LU[v],c[c.length-1]||[],h),x!==(LU[v+1]?LG(LU[v+1]):null)){if(h.length){p=f,h.sort(function(t,r){return t.value-r.value});for(var _=[],b=0;b<h.length;++b){var w=h[b].value;(0===b||h[b-1].value!==w)&&(_.push(h[b]),w>=s[0]&&w<=s[1]&&f++)}var S=(s[1]-s[0])/r;if(f>1.5*S&&p>S/1.5)break;if(c.push(_),f>S||t===LU[v])break}h=[]}}}for(var A=MM(MS(c,function(t){return MM(t,function(t){return t.value>=s[0]&&t.value<=s[1]&&!t.notAdd})}),function(t){return t.length>0}),M=[],C=A.length-1,v=0;v<A.length;++v){for(var T=A[v],I=0;I<T.length;++I)M.push({value:T[I].value,level:C-v})}M.sort(function(t,r){return t.value-r.value});for(var D=[],v=0;v<M.length;++v)(0===v||M[v].value!==M[v-1].value)&&D.push(M[v]);return D}(this._minLevelUnit,this._approxInterval,s,r);return(i=i.concat(u)).push({value:r[1],level:0}),i},r.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=LL,r[1]+=LL),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-LL}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},r.prototype.calcNiceTicks=function(t,r,i){t=t||10;var s=this._extent,u=s[1]-s[0];this._approxInterval=u/t,null!=r&&this._approxInterval<r&&(this._approxInterval=r),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var c=GT.length,h=Math.min(GM(GT,this._approxInterval,0,c),c-1);this._interval=GT[h][1],this._minLevelUnit=GT[Math.max(h-1,0)][0]},r.prototype.parse=function(t){return MB(t)?t:+IZ(t)},r.prototype.contain=function(t){return Go(this.parse(t),this._extent)},r.prototype.normalize=function(t){return Gs(this.parse(t),this._extent)},r.prototype.scale=function(t){return Gl(t,this._extent)},r.type="time",r}(Gh),GT=[["second",1e3],["minute",LR],["hour",LP],["quarter-day",6*LP],["half-day",12*LP],["day",1.2*LL],["half-week",3.5*LL],["week",7*LL],["month",31*LL],["quarter",95*LL],["half-year",LB/2],["year",LB]];function GE(t,r){return(t/=r?LR:1e3)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}z6.registerClass(GC);var GI=z6.prototype,GD=Gh.prototype,GR=Math.floor,GP=Math.ceil,GL=Math.pow,GB=Math.log,Gk=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new Gh,r._interval=0,r}return AK(r,t),r.prototype.getTicks=function(t){var r=this._originalScale,i=this._extent,s=r.getExtent();return MS(GD.getTicks.call(this,t),function(t){var r=t.value,u=IN(GL(this.base,r));return u=r===i[0]&&this._fixMin?function(t,r){return IN(t,IU(r))}(u,s[0]):u,{value:u=r===i[1]&&this._fixMax?function(t,r){return IN(t,IU(r))}(u,s[1]):u}},this)},r.prototype.setExtent=function(t,r){var i=GB(this.base);t=GB(Math.max(0,t))/i,r=GB(Math.max(0,r))/i,GD.setExtent.call(this,t,r)},r.prototype.getExtent=function(){var t=this.base,r=GI.getExtent.call(this);r[0]=GL(t,r[0]),r[1]=GL(t,r[1]);var i=this._originalScale.getExtent();return this._fixMin&&(r[0]=function(t,r){return IN(t,IU(r))}(r[0],i[0])),this._fixMax&&(r[1]=function(t,r){return IN(t,IU(r))}(r[1],i[1])),r},r.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=GB(t[0])/GB(r),t[1]=GB(t[1])/GB(r),GI.unionExtent.call(this,t)},r.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},r.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,i=r[1]-r[0];if(i!==1/0&&!(i<=0)){var s=IK(i);for(t/i*s<=.5&&(s*=10);!isNaN(s)&&1>Math.abs(s)&&Math.abs(s)>0;)s*=10;var u=[IN(GP(r[0]/s)*s),IN(GR(r[1]/s)*s)];this._interval=s,this._niceExtent=u}},r.prototype.calcNiceExtent=function(t){GD.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},r.prototype.parse=function(t){return t},r.prototype.contain=function(t){return Go(t=GB(t)/GB(this.base),this._extent)},r.prototype.normalize=function(t){return Gs(t=GB(t)/GB(this.base),this._extent)},r.prototype.scale=function(t){return t=Gl(t,this._extent),GL(this.base,t)},r.type="log",r}(z6),GO=Gk.prototype;function GN(t,r){return IN(t,IU(r))}GO.getMinorTicks=GD.getMinorTicks,GO.getLabel=GD.getLabel,z6.registerClass(Gk);var GF=function(){function t(t,r,i){this._prepareParams(t,r,i)}return t.prototype._prepareParams=function(t,r,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var s=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&r.getNeedCrossZero&&r.getNeedCrossZero();var u=r.get("min",!0);null==u&&(u=r.get("startValue",!0));var c=this._modelMinRaw=u;MR(c)?this._modelMinNum=GH(t,c({min:i[0],max:i[1]})):"dataMin"!==c&&(this._modelMinNum=GH(t,c));var h=this._modelMaxRaw=r.get("max",!0);if(MR(h)?this._modelMaxNum=GH(t,h({min:i[0],max:i[1]})):"dataMax"!==h&&(this._modelMaxNum=GH(t,h)),s)this._axisDataLen=r.getCategories().length;else{var f=r.get("boundaryGap"),p=MD(f)?f:[f||0,f||0];"boolean"==typeof p[0]||"boolean"==typeof p[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Id(p[0],1),Id(p[1],1)]}},t.prototype.calculate=function(){var t,r,i=this._isOrdinal,s=this._dataMin,u=this._dataMax,c=this._axisDataLen,h=this._boundaryGapInner,f=i?null:u-s||Math.abs(s),p="dataMin"===this._modelMinRaw?s:this._modelMinNum,v="dataMax"===this._modelMaxRaw?u:this._modelMaxNum,y=null!=p,x=null!=v;null==p&&(p=i?c?0:NaN:s-h[0]*f),null==v&&(v=i?c?c-1:NaN:u+h[1]*f),null!=p&&isFinite(p)||(p=NaN),null!=v&&isFinite(v)||(v=NaN);var _=(t=p)!=t||(r=v)!=r||i&&!c;this._needCrossZero&&(p>0&&v>0&&!y&&(p=0),p<0&&v<0&&!x&&(v=0));var b=this._determinedMin,w=this._determinedMax;return null!=b&&(p=b,y=!0),null!=w&&(v=w,x=!0),{min:p,max:v,minFixed:y,maxFixed:x,isBlank:_}},t.prototype.modifyDataMinMax=function(t,r){this[Gz[t]]=r},t.prototype.setDeterminedMinMax=function(t,r){var i=GU[t];this[i]=r},t.prototype.freeze=function(){this.frozen=!0},t}(),GU={min:"_determinedMin",max:"_determinedMax"},Gz={min:"_dataMin",max:"_dataMax"};function GG(t,r,i){var s=t.rawExtentInfo;return s?s:(s=new GF(t,r,i),t.rawExtentInfo=s,s)}function GH(t,r){var i;return null==r?null:(i=r)!=i?NaN:t.parse(r)}function GV(t,r){var i=t.type,s=GG(t,r,t.getExtent()).calculate();t.setBlank(s.isBlank);var u=s.min,c=s.max,h=r.ecModel;if(h&&"time"===i){var f=Gy("bar",h),p=!1;if(Mw(f,function(t){p=p||t.getBaseAxis()===r.axis}),p){var v=function(t,r,i,s){var u=i.axis.getExtent(),c=u[1]-u[0],h=function(t,r,i){if(t&&r){var s=t[Gv(r)];return s}}(s,i.axis);if(void 0===h)return{min:t,max:r};var f=1/0;Mw(h,function(t){f=Math.min(t.offset,f)});var p=-1/0;Mw(h,function(t){p=Math.max(t.offset+t.width,p)});var v=(f=Math.abs(f))+(p=Math.abs(p)),y=r-t,x=y/(1-(f+p)/c)-y;return r+=p/v*x,{min:t-=f/v*x,max:r}}(u,c,r,Gx(f));u=v.min,c=v.max}}return{extent:[u,c],fixMin:s.minFixed,fixMax:s.maxFixed}}function Gj(t,r){var i=GV(t,r),s=i.extent,u=r.get("splitNumber");t instanceof Gk&&(t.base=r.get("logBase"));var c=t.type,h=r.get("interval"),f="interval"===c||"time"===c;t.setExtent(s[0],s[1]),t.calcNiceExtent({splitNumber:u,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:f?r.get("minInterval"):null,maxInterval:f?r.get("maxInterval"):null}),null!=h&&t.setInterval&&t.setInterval(h)}function GW(t,r){if(r=r||t.get("type"))switch(r){case"category":return new Gu({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new GC({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(z6.getClass(r)||Gh)}}function GX(t){var r,i,s,u=t.getLabelModel().get("formatter"),c="category"===t.type?t.scale.getExtent()[0]:null;if("time"===t.scale.type){;return r=u,function(i,s){return t.scale.getFormattedLabel(i,s,r)}}if(MP(u)){;return i=u,function(r){var s=t.scale.getLabel(r);return i.replace("{value}",null!=s?s:"")}}if(!MR(u))return function(r){return t.scale.getLabel(r)};else{;return s=u,function(r,i){return null!=c&&(i=r.value-c),s(GY(t,r),i,null!=r.level?{level:r.level}:null)}}}function GY(t,r){return"category"===t.type?t.scale.getLabel(r):r.value}function GZ(t){var r=t.get("interval");return null==r?"auto":r}function GK(t){return"category"===t.type&&0===GZ(t.getLabelModel())}function GJ(t,r){var i={};return Mw(t.mapDimensionsAll(r),function(r){i[z9(t,r)]=!0}),MT(i)}var GQ=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}();function Gq(t){return z8(null,t)}var G$={isDimensionStacked:z4,enableDataStack:z5,getStackedDimension:z9};function G0(t,r){var i=r;!(r instanceof Lw)&&(i=new Lw(r));var s=GW(i);return s.setExtent(t[0],t[1]),Gj(s,i),s}function G1(t){M_(t,GQ)}function G2(t,r){return Lt(t,null,null,"normal"!==(r=r||{}).state)}function G3(t,r){return 1e-8>Math.abs(t-r)}function G5(t,r,i){var s=0,u=t[0];if(!u)return!1;for(var c=1;c<t.length;c++){var h=t[c];s+=RA(u[0],u[1],h[0],h[1],r,i),u=h}var f=t[0];return(!G3(u[0],f[0])||!G3(u[1],f[1]))&&(s+=RA(u[0],u[1],f[0],f[1],r,i)),0!==s}var G4=[];function G9(t,r){for(var i=0;i<t.length;i++)Cb(t[i],t[i],r)}function G8(t,r,i,s){for(var u=0;u<t.length;u++){var c=t[u];s&&(c=s.project(c)),c&&isFinite(c[0])&&isFinite(c[1])&&(Cw(r,r,c),CS(i,i,c))}}var G6=function(){function t(t){this.name=t}return t.prototype.setCenter=function(t){this._center=t},t.prototype.getCenter=function(){var t=this._center;return!t&&(t=this._center=this.calcCenter()),t},t}(),G7=function(t,r){this.type="polygon",this.exterior=t,this.interiors=r},He=function(t){this.type="linestring",this.points=t},Ht=function(t){function r(r,i,s){var u=t.call(this,r)||this;return u.type="geoJSON",u.geometries=i,u._center=s&&[s[0],s[1]],u}return AK(r,t),r.prototype.calcCenter=function(){for(var t,r=this.geometries,i=0,s=0;s<r.length;s++){var u=r[s],c=u.exterior,h=c&&c.length;h>i&&(t=u,i=h)}if(t)return function(t){for(var r=0,i=0,s=0,u=t.length,c=t[u-1][0],h=t[u-1][1],f=0;f<u;f++){var p=t[f][0],v=t[f][1],y=c*v-p*h;r+=y,i+=(c+p)*y,s+=(h+v)*y,c=p,h=v}return r?[i/r/3,s/r/3,r]:[t[0][0]||0,t[0][1]||0]}(t.exterior);var f=this.getBoundingRect();return[f.x+f.width/2,f.y+f.height/2]},r.prototype.getBoundingRect=function(t){var r=this._rect;if(r&&!t)return r;var i=[1/0,1/0],s=[-1/0,-1/0];return Mw(this.geometries,function(r){"polygon"===r.type?G8(r.exterior,i,s,t):Mw(r.points,function(r){G8(r,i,s,t)})}),!(isFinite(i[0])&&isFinite(i[1])&&isFinite(s[0])&&isFinite(s[1]))&&(i[0]=i[1]=s[0]=s[1]=0),r=new Ti(i[0],i[1],s[0]-i[0],s[1]-i[1]),!t&&(this._rect=r),r},r.prototype.contain=function(t){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(t[0],t[1]))return!1;u:for(var s=0,u=i.length;s<u;s++){var c=i[s];if("polygon"===c.type){var h=c.exterior,f=c.interiors;if(G5(h,t[0],t[1])){for(var p=0;p<(f?f.length:0);p++)if(G5(f[p],t[0],t[1]))continue u;return!0}}}return!1},r.prototype.transformTo=function(t,r,i,s){var u=this.getBoundingRect(),c=u.width/u.height;i?!s&&(s=i/c):i=c*s;for(var h=new Ti(t,r,i,s),f=u.calculateTransform(h),p=this.geometries,v=0;v<p.length;v++){var y=p[v];"polygon"===y.type?(G9(y.exterior,f),Mw(y.interiors,function(t){G9(t,f)})):Mw(y.points,function(t){G9(t,f)})}(u=this._rect).copy(h),this._center=[u.x+u.width/2,u.y+u.height/2]},r.prototype.cloneShallow=function(t){null==t&&(t=this.name);var i=new r(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},r}(G6),Hn=function(t){function r(r,i){var s=t.call(this,r)||this;return s.type="geoSVG",s._elOnlyForCalculate=i,s}return AK(r,t),r.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,r=t.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],s=CQ(G4),u=t;u&&!u.isGeoSVGGraphicRoot;)C$(s,u.getLocalTransform(),s),u=u.parent;return C3(s,s),Cb(i,i,s),i},r}(G6);function Hr(t,r,i){for(var s=0;s<t.length;s++)t[s]=Hi(t[s],r[s],i)}function Hi(t,r,i){for(var s=[],u=r[0],c=r[1],h=0;h<t.length;h+=2){var f=t.charCodeAt(h)-64,p=t.charCodeAt(h+1)-64;p=p>>1^-(1&p),f=(f>>1^-(1&f))+u,p+=c,u=f,c=p,s.push([f/i,p/i])}return s}function Ha(t,r){return MS(MM((t=function(t){if(!t.UTF8Encoding)return t;var r=t.UTF8Scale;return null==r&&(r=1024),Mw(t.features,function(t){var i=t.geometry,s=i.encodeOffsets,u=i.coordinates;if(!!s)switch(i.type){case"LineString":i.coordinates=Hi(u,s,r);break;case"Polygon":case"MultiLineString":Hr(u,s,r);break;case"MultiPolygon":Mw(u,function(t,i){return Hr(t,s[i],r)})}}),t.UTF8Encoding=!1,t}(t)).features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var i=t.properties,s=t.geometry,u=[];switch(s.type){case"Polygon":var c=s.coordinates;u.push(new G7(c[0],c.slice(1)));break;case"MultiPolygon":Mw(s.coordinates,function(t){t[0]&&u.push(new G7(t[0],t.slice(1)))});break;case"LineString":u.push(new He([s.coordinates]));break;case"MultiLineString":u.push(new He(s.coordinates))}var h=new Ht(i[r||"name"],u,i.cp);return h.properties=i,h})}function Ho(t,r,i,s,u,c,h,f){return new R7({style:{text:t,font:r,align:i,verticalAlign:s,padding:u,rich:c,overflow:h?"truncate":null,lineHeight:f}}).getBoundingRect()}var Hs=Dl();function Hl(t,r){var i=MS(r,function(r){return t.scale.parse(r)});return"time"===t.type&&i.length>0&&(i.sort(),i.unshift(i[0]),i.push(i[i.length-1])),i}function Hu(t,r){var i,s,u=Hc(t,"labels"),c=GZ(r),h=Hh(u,c);return h?h:(MR(c)?i=Hp(t,c):(s="auto"===c?function(t){var r=Hs(t).autoInterval;return null!=r?r:Hs(t).autoInterval=t.calculateCategoryInterval()}(t):c,i=Hf(t,s)),Hd(u,c,{labels:i,labelCategoryInterval:s}))}function Hc(t,r){return Hs(t)[r]||(Hs(t)[r]=[])}function Hh(t,r){for(var i=0;i<t.length;i++)if(t[i].key===r)return t[i].value}function Hd(t,r,i){return t.push({key:r,value:i}),i}function Hf(t,r,i){var s=GX(t),u=t.scale,c=u.getExtent(),h=t.getLabelModel(),f=[],p=Math.max((r||0)+1,1),v=c[0],y=u.count();0!==v&&p>1&&y/p>2&&(v=Math.round(Math.ceil(v/p)*p));var x=GK(t),_=h.get("showMinLabel")||x,b=h.get("showMaxLabel")||x;_&&v!==c[0]&&S(c[0]);for(var w=v;w<=c[1];w+=p)S(w);function S(t){var r={value:t};f.push(i?t:{formattedLabel:s(r),rawLabel:u.getLabel(r),tickValue:t})}return b&&w-p!==c[1]&&S(c[1]),f}function Hp(t,r,i){var s=t.scale,u=GX(t),c=[];return Mw(s.getTicks(),function(t){var h=s.getLabel(t),f=t.value;r(t.value,h)&&c.push(i?f:{formattedLabel:u(t),rawLabel:h,tickValue:f})}),c}var Hg=[0,1],Hm=function(){function t(t,r,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=i||[0,0]}return t.prototype.contain=function(t){var r=this._extent,i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return t>=i&&t<=s},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return IG(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,r){var i=this._extent;i[0]=t,i[1]=r},t.prototype.dataToCoord=function(t,r){var i=this._extent,s=this.scale;return t=s.normalize(t),this.onBand&&"ordinal"===s.type&&Hv(i=i.slice(),s.count()),Ik(t,Hg,i,r)},t.prototype.coordToData=function(t,r){var i=this._extent,s=this.scale;this.onBand&&"ordinal"===s.type&&Hv(i=i.slice(),s.count());var u=Ik(t,i,Hg,r);return this.scale.scale(u)},t.prototype.pointToData=function(t,r){},t.prototype.getTicksCoords=function(t){var r,i,s,u=(t=t||{}).tickModel||this.getTickModel();var c=(r=this,i=u,(s=r.getTickModel().get("customValues"))?{ticks:Hl(r,s)}:"category"===r.type?function(t,r){var i,s,u=Hc(t,"ticks"),c=GZ(r),h=Hh(u,c);if(h)return h;if((!r.get("show")||t.scale.isBlank())&&(i=[]),MR(c))i=Hp(t,c,!0);else if("auto"===c){var f=Hu(t,t.getLabelModel());s=f.labelCategoryInterval,i=MS(f.labels,function(t){return t.tickValue})}else i=Hf(t,s=c,!0);return Hd(u,c,{ticks:i,tickCategoryInterval:s})}(r,i):{ticks:MS(r.scale.getTicks(),function(t){return t.value})}).ticks,h=MS(c,function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}},this);return function(t,r,i,s){var u,c,h=r.length;if(!!t.onBand&&!i&&!!h){var f=t.getExtent();if(1===h)r[0].coord=f[0],u=r[1]={coord:f[1]};else{var p=r[h-1].tickValue-r[0].tickValue,v=(r[h-1].coord-r[0].coord)/p;Mw(r,function(t){t.coord-=v/2}),c=1+t.scale.getExtent()[1]-r[h-1].tickValue,u={coord:r[h-1].coord+v*c},r.push(u)}var y=f[0]>f[1];x(r[0].coord,f[0])&&(s?r[0].coord=f[0]:r.shift()),s&&x(f[0],r[0].coord)&&r.unshift({coord:f[0]}),x(f[1],u.coord)&&(s?u.coord=f[1]:r.pop()),s&&x(u.coord,f[1])&&r.push({coord:f[1]})}function x(t,r){return t=IN(t),r=IN(r),y?t>r:t<r}}(this,h,u.get("alignWithLabel"),t.clamp),h},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return!(t>0&&t<100)&&(t=5),MS(this.scale.getMinorTicks(t),function(t){return MS(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this)},t.prototype.getViewLabels=function(){return function(t){var r=t.getLabelModel().get("customValues");if(r){var i=GX(t);return{labels:Hl(t,r).map(function(r){var s={value:r};return{formattedLabel:i(s),rawLabel:t.scale.getLabel(s),tickValue:r}})}}return"category"===t.type?function(t){var r=t.getLabelModel(),i=Hu(t,r);return!r.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(t):function(t){var r=t.scale.getTicks(),i=GX(t);return{labels:MS(r,function(r,s){return{level:r.level,formattedLabel:i(r,s),rawLabel:t.scale.getLabel(r),tickValue:r.value}})}}(t)}(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),i=r[1]-r[0]+(this.onBand?1:0);return 0===i&&(i=1),Math.abs(Math.abs(t[1]-t[0]))/i},t.prototype.calculateCategoryInterval=function(){return function(t){var r=function(t){var r=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:r.get("rotate")||0,font:r.getFont()}}(t),i=GX(t),s=(r.axisRotate-r.labelRotate)/180*Math.PI,u=t.scale,c=u.getExtent(),h=u.count();if(c[1]-c[0]<1)return 0;var f=1;h>40&&(f=Math.max(1,Math.floor(h/40)));for(var p=c[0],v=t.dataToCoord(p+1)-t.dataToCoord(p),y=Math.abs(v*Math.cos(s)),x=Math.abs(v*Math.sin(s)),_=0,b=0;p<=c[1];p+=f){var w=0,S=0,A=Il(i({value:p}),r.font,"center","top");w=1.3*A.width,S=1.3*A.height,_=Math.max(_,w,7),b=Math.max(b,S,7)}var M=_/y,C=b/x;isNaN(M)&&(M=1/0),isNaN(C)&&(C=1/0);var T=Math.max(0,Math.floor(Math.min(M,C))),I=Hs(t.model),D=t.getExtent(),R=I.lastAutoInterval,P=I.lastTickCount;return null!=R&&null!=P&&1>=Math.abs(R-T)&&1>=Math.abs(P-h)&&R>T&&I.axisExtent0===D[0]&&I.axisExtent1===D[1]?T=R:(I.lastTickCount=h,I.lastAutoInterval=T,I.axisExtent0=D[0],I.axisExtent1=D[1]),T}(this)},t}();function Hv(t,r){var i=t[1]-t[0],s=i/r/2;t[0]+=s,t[1]-=s}let Hy=Hm;function Hx(t){var r=By.extend(t);return By.registerClass(r),r}function H_(t){var r=OL.extend(t);return OL.registerClass(r),r}function Hb(t){var r=OR.extend(t);return OR.registerClass(r),r}function Hw(t){var r=Fy.extend(t);return Fy.registerClass(r),r}var HS=2*Math.PI,HA=Ry.CMD,HM=["top","right","bottom","left"];function HC(t,r,i,s,u,c,h,f){var p=i-t,v=s-r,y=Math.sqrt(p*p+v*v),x=((u-t)*(p/=y)+(c-r)*(v/=y))/y;f&&(x=Math.min(Math.max(x,0),1)),x*=y;var _=h[0]=t+x*p,b=h[1]=r+x*v;return Math.sqrt((_-u)*(_-u)+(b-c)*(b-c))}function HT(t,r,i,s,u,c,h){i<0&&(t+=i,i=-i),s<0&&(r+=s,s=-s);var f=t+i,p=r+s,v=h[0]=Math.min(Math.max(u,t),f),y=h[1]=Math.min(Math.max(c,r),p);return Math.sqrt((v-u)*(v-u)+(y-c)*(y-c))}var HE=[],HI=new C4,HD=new C4,HR=new C4,HP=new C4,HL=new C4;function HB(t,r){if(!t)return;var i=t.getTextGuideLine(),s=t.getTextContent();if(!!(s&&i)){var u=t.textGuideLineConfig||{},c=[[0,0],[0,0],[0,0]],h=u.candidates||HM,f=s.getBoundingRect().clone();f.applyTransform(s.getComputedTransform());var p=1/0,v=u.anchor,y=t.getComputedTransform(),x=y&&C3([],y),_=r.get("length2")||0;v&&HR.copy(v);for(var b=0;b<h.length;b++){!function(t,r,i,s,u){var c=i.width,h=i.height;switch(t){case"top":s.set(i.x+c/2,i.y-0),u.set(0,-1);break;case"bottom":s.set(i.x+c/2,i.y+h+r),u.set(0,1);break;case"left":s.set(i.x-r,i.y+h/2),u.set(-1,0);break;case"right":s.set(i.x+c+r,i.y+h/2),u.set(1,0)}}(h[b],0,f,HI,HP),C4.scaleAndAdd(HD,HI,HP,_),HD.transform(x);var w=t.getBoundingRect(),S=v?v.distance(HD):t instanceof RL?function(t,r,i){for(var s,u,c=0,h=0,f=0,p=0,v=1/0,y=r.data,x=t.x,_=t.y,b=0;b<y.length;){var w=y[b++];1===b&&(c=y[b],h=y[b+1],f=c,p=h);var S=v;switch(w){case HA.M:f=y[b++],p=y[b++],c=f,h=p;break;case HA.L:S=HC(c,h,y[b],y[b+1],x,_,HE,!0),c=y[b++],h=y[b++];break;case HA.C:S=TF(c,h,y[b++],y[b++],y[b++],y[b++],y[b],y[b+1],x,_,HE),c=y[b++],h=y[b++];break;case HA.Q:S=TV(c,h,y[b++],y[b++],y[b],y[b+1],x,_,HE),c=y[b++],h=y[b++];break;case HA.A:var A=y[b++],M=y[b++],C=y[b++],T=y[b++],I=y[b++],D=y[b++];b+=1;var R=!!(1-y[b++]);s=Math.cos(I)*C+A,u=Math.sin(I)*T+M,b<=1&&(f=s,p=u);var P=(x-A)*T/C+A;S=function(t,r,i,s,u,c,h,f,p){var v=Math.sqrt((h-=t)*h+(f-=r)*f),y=(h/=v)*i+t,x=(f/=v)*i+r;if(Math.abs(s-u)%HS<1e-4)return p[0]=y,p[1]=x,v-i;if(c){var _=s;s=Rw(u),u=Rw(_)}else s=Rw(s),u=Rw(u);s>u&&(u+=HS);var b=Math.atan2(f,h);if(b<0&&(b+=HS),b>=s&&b<=u||b+HS>=s&&b+HS<=u)return p[0]=y,p[1]=x,v-i;var w=i*Math.cos(s)+t,S=i*Math.sin(s)+r,A=i*Math.cos(u)+t,M=i*Math.sin(u)+r,C=(w-h)*(w-h)+(S-f)*(S-f),T=(A-h)*(A-h)+(M-f)*(M-f);return C<T?(p[0]=w,p[1]=S,Math.sqrt(C)):(p[0]=A,p[1]=M,Math.sqrt(T))}(A,M,T,I,I+D,R,P,_,HE),c=Math.cos(I+D)*C+A,h=Math.sin(I+D)*T+M;break;case HA.R:f=c=y[b++],S=HT(f,p=h=y[b++],y[b++],y[b++],x,_,HE);break;case HA.Z:S=HC(c,h,f,p,x,_,HE,!0),c=f,h=p}S<v&&(v=S,i.set(HE[0],HE[1]))}return v}(HD,t.path,HR):function(t,r,i){var s=HT(r.x,r.y,r.width,r.height,t.x,t.y,HE);return i.set(HE[0],HE[1]),s}(HD,w,HR);S<p&&(p=S,HD.transform(y),HR.transform(y),HR.toArray(c[0]),HD.toArray(c[1]),HI.toArray(c[2]))}HN(c,r.get("minTurnAngle")),i.setShape({points:c})}}var Hk=[],HO=new C4;function HN(t,r){if(!(r<=180&&r>0))return;r=r/180*Math.PI,HI.fromArray(t[0]),HD.fromArray(t[1]),HR.fromArray(t[2]),C4.sub(HP,HI,HD),C4.sub(HL,HR,HD);var i=HP.len(),s=HL.len();if(!(i<.001)&&!(s<.001)){if(HP.scale(1/i),HL.scale(1/s),Math.cos(r)<HP.dot(HL)){var u=HC(HD.x,HD.y,HR.x,HR.y,HI.x,HI.y,Hk,!1);HO.fromArray(Hk),HO.scaleAndAdd(HL,u/Math.tan(Math.PI-r));var c=HR.x!==HD.x?(HO.x-HD.x)/(HR.x-HD.x):(HO.y-HD.y)/(HR.y-HD.y);if(isNaN(c))return;c<0?C4.copy(HO,HD):c>1&&C4.copy(HO,HR),HO.toArray(t[1])}}}function HF(t,r,i,s){var u="normal"===i,c=u?t:t.ensureState(i);c.ignore=r;var h=s.get("smooth");h&&!0===h&&(h=.3),c.shape=c.shape||{},h>0&&(c.shape.smooth=h);var f=s.getModel("lineStyle").getLineStyle();u?t.useStyle(f):c.style=f}function HU(t,r){var i=r.smooth,s=r.points;if(!!s)if(t.moveTo(s[0][0],s[0][1]),i>0&&s.length>=3){var u=Cm(s[0],s[1]),c=Cm(s[1],s[2]);if(!u||!c){t.lineTo(s[1][0],s[1][1]),t.lineTo(s[2][0],s[2][1]);return}var h=Math.min(u,c)*i,f=C_([],s[1],s[0],h/u),p=C_([],s[1],s[2],h/c),v=C_([],f,p,.5);t.bezierCurveTo(f[0],f[1],f[0],f[1],v[0],v[1]),t.bezierCurveTo(p[0],p[1],p[0],p[1],s[2][0],s[2][1])}else for(var y=1;y<s.length;y++)t.lineTo(s[y][0],s[y][1])}function Hz(t,r,i){var s=t.getTextGuideLine(),u=t.getTextContent();if(!u){s&&t.removeTextGuideLine();return}for(var c=r.normal,h=c.get("show"),f=u.ignore,p=0;p<Ps.length;p++){var v=Ps[p],y=r[v],x="normal"===v;if(y){var _=y.get("show");if((x?f:Mj(u.states[v]&&u.states[v].ignore,f))||!Mj(_,h)){var b=x?s:s&&s.states[v];b&&(b.ignore=!0),s&&HF(s,!0,v,y);continue}!s&&(s=new N_,t.setTextGuideLine(s),!x&&(f||!h)&&HF(s,!0,"normal",r.normal),t.stateProxy&&(s.stateProxy=t.stateProxy)),HF(s,!1,v,y)}}if(s){Mm(s.style,i),s.style.fill=null;var w=c.get("showAbove");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=w||!1,s.buildPath=HU}}function HG(t,r){r=r||"labelLine";for(var i={normal:t.getModel(r)},s=0;s<Po.length;s++){var u=Po[s];i[u]=t.getModel([u,r])}return i}function HH(t){for(var r=[],i=0;i<t.length;i++){var s=t[i];if(!s.defaultAttr.ignore){var u=s.label,c=u.getComputedTransform(),h=u.getBoundingRect(),f=!c||c[1]<1e-5&&c[2]<1e-5,p=u.style.margin||0,v=h.clone();v.applyTransform(c),v.x-=p/2,v.y-=p/2,v.width+=p,v.height+=p;var y=f?new NG(h,c):null;r.push({label:u,labelLine:s.labelLine,rect:v,localRect:h,obb:y,priority:s.priority,defaultAttr:s.defaultAttr,layoutOption:s.computedLayoutOption,axisAligned:f,transform:c})}}return r}function HV(t,r,i,s,u,c){var h,f,p,v=t.length;if(!(v<2)){t.sort(function(t,i){return t.rect[r]-i.rect[r]});for(var y=0,x=!1,_=[],b=0,w=0;w<v;w++){var S=t[w],A=S.rect;(h=A[r]-y)<0&&(A[r]-=h,S.label[r]-=h,x=!0);var M=Math.max(-h,0);_.push(M),b+=M,y=A[r]+A[i]}b>0&&c&&R(-b/v,0,v);var C=t[0],T=t[v-1];return I(),f<0&&P(-f,.8),p<0&&P(p,.8),I(),D(f,p,1),D(p,f,-1),I(),f<0&&L(-f),p<0&&L(p),x}function I(){f=C.rect[r]-s,p=u-T.rect[r]-T.rect[i]}function D(t,r,i){if(t<0){var s=Math.min(r,-t);if(s>0){R(s*i,0,v);var u=s+t;u<0&&P(-u*i,1)}else P(-t*i,1)}}function R(i,s,u){0!==i&&(x=!0);for(var c=s;c<u;c++){var h=t[c],f=h.rect;f[r]+=i,h.label[r]+=i}}function P(s,u){for(var c=[],h=0,f=1;f<v;f++){var p=t[f-1].rect,y=Math.max(t[f].rect[r]-p[r]-p[i],0);c.push(y),h+=y}if(!!h){var x=Math.min(Math.abs(s)/h,u);if(s>0)for(var f=0;f<v-1;f++){var _=c[f]*x;R(_,0,f+1)}else for(var f=v-1;f>0;f--){var _=c[f-1]*x;R(-_,f,v)}}}function L(t){for(var r=t<0?-1:1,i=Math.ceil((t=Math.abs(t))/(v-1)),s=0;s<v-1;s++)if(r>0?R(i,0,s+1):R(-i,v-s-1,v),(t-=i)<=0)return}}function Hj(t,r,i,s){return HV(t,"y","height",r,i,s)}function HW(t){var r=[];t.sort(function(t,r){return r.priority-t.priority});var i=new Ti(0,0,0,0);function s(t){if(!t.ignore){var r=t.ensureState("emphasis");null==r.ignore&&(r.ignore=!1)}t.ignore=!0}for(var u=0;u<t.length;u++){var c=t[u],h=c.axisAligned,f=c.localRect,p=c.transform,v=c.label,y=c.labelLine;i.copy(c.rect),i.width-=.1,i.height-=.1,i.x+=.05,i.y+=.05;for(var x=c.obb,_=!1,b=0;b<r.length;b++){var w=r[b];if(!!i.intersect(w.rect)){if(h&&w.axisAligned){_=!0;break}if(!w.obb&&(w.obb=new NG(w.localRect,w.transform)),!x&&(x=new NG(f,p)),x.intersect(w.obb)){_=!0;break}}}_?(s(v),y&&s(y)):(v.attr("ignore",c.defaultAttr.ignore),y&&y.attr("ignore",c.defaultAttr.labelGuideIgnore),r.push(c))}}var HX=["align","verticalAlign","width","height","fontSize"],HY=new In,HZ=Dl(),HK=Dl();function HJ(t,r,i){for(var s=0;s<i.length;s++){var u=i[s];null!=r[u]&&(t[u]=r[u])}}var HQ=["x","y","rotation"],Hq=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,r,i,s,u){var c,h=s.style,f=s.__hostTarget.textConfig||{},p=s.getComputedTransform(),v=s.getBoundingRect().plain();Ti.applyTransform(v,v,p),p?HY.setLocalTransform(p):(HY.x=HY.y=HY.rotation=HY.originX=HY.originY=0,HY.scaleX=HY.scaleY=1),HY.rotation=Rw(HY.rotation);var y=s.__hostTarget;if(y){c=y.getBoundingRect().plain();var x=y.getComputedTransform();Ti.applyTransform(c,c,x)}var _=c&&y.getTextGuideLine();this._labelList.push({label:s,labelLine:_,seriesModel:i,dataIndex:t,dataType:r,layoutOption:u,computedLayoutOption:null,rect:v,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:s.ignore,labelGuideIgnore:_&&_.ignore,x:HY.x,y:HY.y,scaleX:HY.scaleX,scaleY:HY.scaleY,rotation:HY.rotation,style:{x:h.x,y:h.y,align:h.align,verticalAlign:h.verticalAlign,width:h.width,height:h.height,fontSize:h.fontSize},cursor:s.cursor,attachedPos:f.position,attachedRot:f.rotation}})},t.prototype.addLabelsOfSeries=function(t){var r=this;this._chartViewList.push(t);var i=t.__model,s=i.get("labelLayout");if(!!(MR(s)||MT(s).length))t.group.traverse(function(t){if(t.ignore)return!0;var u=t.getTextContent(),c=Pe(t);u&&!u.disableLabelLayout&&r._addLabel(c.dataIndex,c.dataType,i,u,s)})},t.prototype.updateLayoutConfig=function(t){for(var r=t.getWidth(),i=t.getHeight(),s=0;s<this._labelList.length;s++){var u=this._labelList[s],c=u.label,h=c.__hostTarget,f=u.defaultAttr,p=void 0;p=(p=MR(u.layoutOption)?u.layoutOption(function(t,r){var i=t.label,s=r&&r.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:i.style.align,verticalAlign:i.style.verticalAlign,labelLinePoints:function(t){if(t){for(var r=[],i=0;i<t.length;i++)r.push(t[i].slice());return r}}(s&&s.shape.points)}}(u,h)):u.layoutOption)||{},u.computedLayoutOption=p;var v=Math.PI/180;h&&h.setTextConfig({local:!1,position:null!=p.x||null!=p.y?null:f.attachedPos,rotation:null!=p.rotate?p.rotate*v:f.attachedRot,offset:[p.dx||0,p.dy||0]});var y=!1;if(null!=p.x?(c.x=IO(p.x,r),c.setStyle("x",0),y=!0):(c.x=f.x,c.setStyle("x",f.style.x)),null!=p.y?(c.y=IO(p.y,i),c.setStyle("y",0),y=!0):(c.y=f.y,c.setStyle("y",f.style.y)),p.labelLinePoints){var x=h.getTextGuideLine();x&&(x.setShape({points:p.labelLinePoints}),y=!1)}HZ(c).needsUpdateLabelLine=y,c.rotation=null!=p.rotate?p.rotate*v:f.rotation,c.scaleX=f.scaleX,c.scaleY=f.scaleY;for(var _=0;_<HX.length;_++){var b=HX[_];c.setStyle(b,null!=p[b]?p[b]:f.style[b])}if(p.draggable){if(c.draggable=!0,c.cursor="move",h){var w=u.seriesModel;null!=u.dataIndex&&(w=u.seriesModel.getData(u.dataType).getItemModel(u.dataIndex)),c.on("drag",function(t,r){return function(){HB(t,r)}}(h,w.getModel("labelLine")))}}else c.off("drag"),c.cursor=f.cursor}},t.prototype.layout=function(t){var r,i,s=t.getWidth(),u=t.getHeight(),c=HH(this._labelList),h=MM(c,function(t){return"shiftX"===t.layoutOption.moveOverlap}),f=MM(c,function(t){return"shiftY"===t.layoutOption.moveOverlap});r=0,HV(h,"x","width",0,s,void 0),Hj(f,0,u),HW(MM(c,function(t){return t.layoutOption.hideOverlap}))},t.prototype.processLabelsOverall=function(){var t=this;Mw(this._chartViewList,function(r){var i=r.__model,s=r.ignoreLabelLineUpdate,u=i.isAnimationEnabled();r.group.traverse(function(r){if(r.ignore&&!r.forceLabelAnimation)return!0;var c=!s,h=r.getTextContent();!c&&h&&(c=HZ(h).needsUpdateLabelLine),c&&t._updateLabelLine(r,i),u&&t._animateLabels(r,i)})})},t.prototype._updateLabelLine=function(t,r){var i=t.getTextContent(),s=Pe(t),u=s.dataIndex;if(i&&null!=u){var c=r.getData(s.dataType),h=c.getItemModel(u),f={},p=c.getItemVisual(u,"style");if(p){var v=c.getVisual("drawType");f.stroke=p[v]}var y=h.getModel("labelLine");Hz(t,HG(h),f),HB(t,y)}},t.prototype._animateLabels=function(t,r){var i=t.getTextContent(),s=t.getTextGuideLine();if(i&&(t.forceLabelAnimation||!i.ignore&&!i.invisible&&!t.disableLabelAnimation&&!P1(t))){var u=HZ(i),c=u.oldLayout,h=Pe(t),f=h.dataIndex,p={x:i.x,y:i.y,rotation:i.rotation},v=r.getData(h.dataType);if(c){i.attr(c);var y=t.prevStates;y&&(My(y,"select")>=0&&i.attr(u.oldLayoutSelect),My(y,"emphasis")>=0&&i.attr(u.oldLayoutEmphasis)),P$(i,p,r,f)}else if(i.attr(p),!Ll(i).valueAnimation){var x=Mj(i.style.opacity,1);i.style.opacity=0,P0(i,{style:{opacity:x}},r,f)}if(u.oldLayout=p,i.states.select){var _=u.oldLayoutSelect={};HJ(_,p,HQ),HJ(_,i.states.select,HQ)}if(i.states.emphasis){var b=u.oldLayoutEmphasis={};HJ(b,p,HQ),HJ(b,i.states.emphasis,HQ)}Lc(i,f,v,r,r)}if(s&&!s.ignore&&!s.invisible){var u=HK(s),c=u.oldLayout,w={points:s.shape.points};c?(s.attr({shape:c}),P$(s,{shape:w},r)):(s.setShape(w),s.style.strokePercent=0,P0(s,{style:{strokePercent:1}},r)),u.oldLayout=w}},t}(),H$=Dl();function H0(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,r,i){var s=H$(r).labelManager;!s&&(s=H$(r).labelManager=new Hq),s.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(t,r,i){var s=H$(r).labelManager;i.updatedSeries.forEach(function(t){s.addLabelsOfSeries(r.getViewOfSeriesModel(t))}),s.updateLayoutConfig(r),s.layout(r),s.processLabelsOverall()})}function H1(t,r,i){var s=A9.createCanvas(),u=r.getWidth(),c=r.getHeight(),h=s.style;return h&&(h.position="absolute",h.left="0",h.top="0",h.width=u+"px",h.height=c+"px",s.setAttribute("data-zr-dom-id",t)),s.width=u*i,s.height=c*i,s}zP(H0);var H2=function(t){function r(r,i,s){var u,c=t.call(this)||this;c.motionBlur=!1,c.lastFrameAlpha=.7,c.dpr=1,c.virtual=!1,c.config={},c.incremental=!1,c.zlevel=0,c.maxRepaintRectCount=5,c.__dirty=!0,c.__firstTimePaint=!0,c.__used=!1,c.__drawIndex=0,c.__startIndex=0,c.__endIndex=0,c.__prevStartIndex=null,c.__prevEndIndex=null,s=s||E3,"string"==typeof r?u=H1(r,i,s):Mk(r)&&(r=(u=r).id),c.id=r,c.dom=u;var h=u.style;return h&&(M4(u),u.onselectstart=function(){return!1},h.padding="0",h.margin="0",h.borderWidth="0"),c.painter=i,c.dpr=s,c}return AK(r,t),r.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},r.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},r.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},r.prototype.setUnpainted=function(){this.__firstTimePaint=!0},r.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=H1("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},r.prototype.createRepaintRects=function(t,r,i,s){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var u,c=[],h=this.maxRepaintRectCount,f=!1,p=new Ti(0,0,0,0);function v(t){if(!(!t.isFinite()||t.isZero()))if(0===c.length){var r=new Ti(0,0,0,0);r.copy(t),c.push(r)}else{for(var i=!1,s=1/0,u=0,v=0;v<c.length;++v){var y=c[v];if(y.intersect(t)){var x=new Ti(0,0,0,0);x.copy(y),x.union(t),c[v]=x,i=!0;break}if(f){p.copy(t),p.union(y);var _=t.width*t.height,b=y.width*y.height,w=p.width*p.height-_-b;w<s&&(s=w,u=v)}}if(f&&(c[u].union(t),i=!0),!i){var r=new Ti(0,0,0,0);r.copy(t),c.push(r)}!f&&(f=c.length>=h)}}for(var y=this.__startIndex;y<this.__endIndex;++y){var x=t[y];if(x){var _=x.shouldBePainted(i,s,!0,!0),b=x.__isRendered&&(1&x.__dirty||!_)?x.getPrevPaintRect():null;b&&v(b);var w=_&&(1&x.__dirty||!x.__isRendered)?x.getPaintRect():null;w&&v(w)}}for(var y=this.__prevStartIndex;y<this.__prevEndIndex;++y){var x=r[y],_=x&&x.shouldBePainted(i,s,!0,!0);if(x&&(!_||!x.__zr)&&x.__isRendered){var b=x.getPrevPaintRect();b&&v(b)}}do{u=!1;for(var y=0;y<c.length;){if(c[y].isZero()){c.splice(y,1);continue}for(var S=y+1;S<c.length;)c[y].intersect(c[S])?(u=!0,c[y].union(c[S]),c.splice(S,1)):S++;y++}}while(u);return this._paintRects=c,c},r.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},r.prototype.resize=function(t,r){var i=this.dpr,s=this.dom,u=s.style,c=this.domBack;u&&(u.width=t+"px",u.height=r+"px"),s.width=t*i,s.height=r*i,c&&(c.width=t*i,c.height=r*i,1!==i&&this.ctxBack.scale(i,i))},r.prototype.clear=function(t,r,i){var s=this.dom,u=this.ctx,c=s.width,h=s.height;r=r||this.clearColor;var f=this.motionBlur&&!t,p=this.lastFrameAlpha,v=this.dpr,y=this;f&&(!this.domBack&&this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(s,0,0,c/v,h/v));var x=this.domBack;function _(t,i,s,c){if(u.clearRect(t,i,s,c),r&&"transparent"!==r){var h=void 0;MU(r)?(h=(r.global||r.__width===s&&r.__height===c)&&r.__canvasGradient||Uh(u,r,{x:0,y:0,width:s,height:c}),r.__canvasGradient=h,r.__width=s,r.__height=c):Mz(r)&&(r.scaleX=r.scaleX||v,r.scaleY=r.scaleY||v,h=Ub(u,r,{dirty:function(){y.setUnpainted(),y.painter.refresh()}})),u.save(),u.fillStyle=h||r,u.fillRect(t,i,s,c),u.restore()}f&&(u.save(),u.globalAlpha=p,u.drawImage(x,t,i,s,c),u.restore())}!i||f?_(0,0,c,h):i.length&&Mw(i,function(t){_(t.x*v,t.y*v,t.width*v,t.height*v)})},r}(CC),H3=function(){function t(t,r,i,s){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var u=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=Mg({},i||{}),this.dpr=i.devicePixelRatio||E3,this._singleCanvas=u,this.root=t,t.style&&(M4(t),t.innerHTML=""),this.storage=r;var c=this._zlevelList;this._prevDisplayList=[];var h=this._layers;if(u){var f=t.width,p=t.height;null!=i.width&&(f=i.width),null!=i.height&&(p=i.height),this.dpr=i.devicePixelRatio||1,t.width=f*this.dpr,t.height=p*this.dpr,this._width=f,this._height=p;var v=new H2(t,this,this.dpr);v.__builtin__=!0,v.initContext(),h[314159]=v,v.zlevel=314159,c.push(314159),this._domRoot=t}else{this._width=Uf(t,0,i),this._height=Uf(t,1,i);var y,x,_,b=this._domRoot=(y=this._width,x=this._height,(_=document.createElement("div")).style.cssText=["position:relative","width:"+y+"px","height:"+x+"px","padding:0","margin:0","border-width:0"].join(";")+";",_);t.appendChild(b)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var r=this.storage.getDisplayList(!0),i=this._prevDisplayList,s=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,i,t,this._redrawId);for(var u=0;u<s.length;u++){var c=s[u],h=this._layers[c];if(!h.__builtin__&&h.refresh){var f=0===u?this._backgroundColor:null;h.refresh(f)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var r,i=t.length,s=this._hoverlayer;if(s&&s.clear(),!!i){for(var u={inHover:!0,viewWidth:this._width,viewHeight:this._height},c=0;c<i;c++){var h=t[c];h.__inHover&&(!s&&(s=this._hoverlayer=this.getLayer(1e5)),!r&&(r=s.ctx).save(),UD(r,h,u,c===i-1))}r&&r.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(1e5)},t.prototype.paintOne=function(t,r){UI(t,r)},t.prototype._paintList=function(t,r,i,s){if(this._redrawId===s){i=i||!1,this._updateLayerStatus(t);var u=this._doPaintList(t,r,i),c=u.finished,h=u.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),h&&this._paintHoverList(t),c)this.eachLayer(function(t){t.afterBrush&&t.afterBrush()});else{var f=this;elc(function(){f._paintList(t,r,i,s)})}}},t.prototype._compositeManually=function(){var t=this.getLayer(314159).ctx,r=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,r,i),this.eachBuiltinLayer(function(s){s.virtual&&t.drawImage(s.dom,0,0,r,i)})},t.prototype._doPaintList=function(t,r,i){for(var s=this,u=[],c=this._opts.useDirtyRect,h=0;h<this._zlevelList.length;h++){var f=this._zlevelList[h],p=this._layers[f];p.__builtin__&&p!==this._hoverlayer&&(p.__dirty||i)&&u.push(p)}for(var v=!0,y=!1,x=this,_=0;_<u.length;_++)!function(h){var f,p=u[h],_=p.ctx,b=c&&p.createRepaintRects(t,r,x._width,x._height),w=i?p.__startIndex:p.__drawIndex,S=!i&&p.incremental&&Date.now,A=S&&Date.now(),M=p.zlevel===x._zlevelList[0]?x._backgroundColor:null;if(p.__startIndex===p.__endIndex)p.clear(!1,M,b);else if(w===p.__startIndex){var C=t[w];(!C.incremental||!C.notClear||i)&&p.clear(!1,M,b)}-1===w&&(w=p.__startIndex);var T=function(r){var i={inHover:!1,allClipped:!1,prevEl:null,viewWidth:s._width,viewHeight:s._height};for(f=w;f<p.__endIndex;f++){var u=t[f];if(u.__inHover&&(y=!0),s._doPaintEl(u,p,c,r,i,f===p.__endIndex-1),S&&Date.now()-A>15)break}i.prevElClipPaths&&_.restore()};if(b){if(0===b.length)f=p.__endIndex;else{for(var I=x.dpr,D=0;D<b.length;++D){var R=b[D];_.save(),_.beginPath(),_.rect(R.x*I,R.y*I,R.width*I,R.height*I),_.clip(),T(R),_.restore()}}}else _.save(),T(),_.restore();p.__drawIndex=f,p.__drawIndex<p.__endIndex&&(v=!1)}(_);return A2.wxa&&Mw(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),{finished:v,needsRefreshHover:y}},t.prototype._doPaintEl=function(t,r,i,s,u,c){var h=r.ctx;if(i){var f=t.getPaintRect();(!s||f&&f.intersect(s))&&(UD(h,t,u,c),t.setPrevPaintRect(f))}else UD(h,t,u,c)},t.prototype.getLayer=function(t,r){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var i=this._layers[t];return!i&&((i=new H2("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]?Mf(i,this._layerConfig[t],!0):this._layerConfig[t-.01]&&Mf(i,this._layerConfig[t-.01],!0),r&&(i.virtual=r),this.insertLayer(t,i),i.initContext()),i},t.prototype.insertLayer=function(t,r){var i,s=this._layers,u=this._zlevelList,c=u.length,h=this._domRoot,f=null,p=-1;if(s[t])return;if(!!((i=r)&&(i.__builtin__||"function"==typeof i.resize&&"function"==typeof i.refresh))){if(c>0&&t>u[0]){for(p=0;p<c-1&&(!(u[p]<t)||!(u[p+1]>t));p++);f=s[u[p]]}if(u.splice(p+1,0,t),s[t]=r,!r.virtual){if(f){var v=f.dom;v.nextSibling?h.insertBefore(r.dom,v.nextSibling):h.appendChild(r.dom)}else h.firstChild?h.insertBefore(r.dom,h.firstChild):h.appendChild(r.dom)}r.painter||(r.painter=this)}},t.prototype.eachLayer=function(t,r){for(var i=this._zlevelList,s=0;s<i.length;s++){var u=i[s];t.call(r,this._layers[u],u)}},t.prototype.eachBuiltinLayer=function(t,r){for(var i=this._zlevelList,s=0;s<i.length;s++){var u=i[s],c=this._layers[u];c.__builtin__&&t.call(r,c,u)}},t.prototype.eachOtherLayer=function(t,r){for(var i=this._zlevelList,s=0;s<i.length;s++){var u=i[s],c=this._layers[u];!c.__builtin__&&t.call(r,c,u)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function r(t){h&&(h.__endIndex!==t&&(h.__dirty=!0),h.__endIndex=t)}if(this.eachBuiltinLayer(function(t,r){t.__dirty=t.__used=!1}),this._singleCanvas)for(var i,s,u=1;u<t.length;u++){var c=t[u];if(c.zlevel!==t[u-1].zlevel||c.incremental){this._needsManuallyCompositing=!0;break}}var h=null,f=0;for(s=0;s<t.length;s++){var c=t[s],p=c.zlevel,v=void 0;i!==p&&(i=p,f=0),c.incremental?((v=this.getLayer(p+.001,this._needsManuallyCompositing)).incremental=!0,f=1):v=this.getLayer(p+(f>0?.01:0),this._needsManuallyCompositing),!v.__builtin__&&Mh("ZLevel "+p+" has been used by unkown layer "+v.id),v!==h&&(v.__used=!0,v.__startIndex!==s&&(v.__dirty=!0),v.__startIndex=s,v.incremental?v.__drawIndex=-1:v.__drawIndex=s,r(s),h=v),1&c.__dirty&&!c.__inHover&&(v.__dirty=!0,v.incremental&&v.__drawIndex<0&&(v.__drawIndex=s))}r(s),this.eachBuiltinLayer(function(t,r){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,Mw(this._layers,function(t){t.setUnpainted()})},t.prototype.configLayer=function(t,r){if(r){var i=this._layerConfig;i[t]?Mf(i[t],r,!0):i[t]=r;for(var s=0;s<this._zlevelList.length;s++){var u=this._zlevelList[s];(u===t||u===t+.01)&&Mf(this._layers[u],i[t],!0)}}},t.prototype.delLayer=function(t){var r=this._layers,i=this._zlevelList,s=r[t];if(!!s)s.dom.parentNode.removeChild(s.dom),delete r[t],i.splice(My(i,t),1)},t.prototype.resize=function(t,r){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var s=this._opts,u=this.root;if(null!=t&&(s.width=t),null!=r&&(s.height=r),t=Uf(u,0,s),r=Uf(u,1,s),i.style.display="",this._width!==t||r!==this._height){for(var c in i.style.width=t+"px",i.style.height=r+"px",this._layers)this._layers.hasOwnProperty(c)&&this._layers[c].resize(t,r);this.refresh(!0)}this._width=t,this._height=r}else{if(null==t||null==r)return;this._width=t,this._height=r,this.getLayer(314159).resize(t,r)}return this},t.prototype.clearLayer=function(t){var r=this._layers[t];r&&r.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var r=new H2("image",this,t.pixelRatio||this.dpr);r.initContext(),r.clear(!1,t.backgroundColor||this._backgroundColor);var i=r.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var s=r.dom.width,u=r.dom.height;this.eachLayer(function(t){t.__builtin__?i.drawImage(t.dom,0,0,s,u):t.renderToCanvas&&(i.save(),t.renderToCanvas(i),i.restore())})}else{for(var c={inHover:!1,viewWidth:this._width,viewHeight:this._height},h=this.storage.getDisplayList(!0),f=0,p=h.length;f<p;f++)UD(i,h[f],c,f===p-1)}return r.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}(),H5=Math.sin,H4=Math.cos,H9=Math.PI,H8=2*Math.PI,H6=180/H9,H7=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},t.prototype.moveTo=function(t,r){this._add("M",t,r)},t.prototype.lineTo=function(t,r){this._add("L",t,r)},t.prototype.bezierCurveTo=function(t,r,i,s,u,c){this._add("C",t,r,i,s,u,c)},t.prototype.quadraticCurveTo=function(t,r,i,s){this._add("Q",t,r,i,s)},t.prototype.arc=function(t,r,i,s,u,c){this.ellipse(t,r,i,i,0,s,u,c)},t.prototype.ellipse=function(t,r,i,s,u,c,h,f){var p=h-c,v=!f,y=Math.abs(p),x=Eg(y-H8)||(v?p>=H8:-p>=H8),_=p>0?p%H8:p%H8+H8,b=!1;b=!!x||!Eg(y)&&_>=H9==!!v;var w=t+i*H4(c),S=r+s*H5(c);this._start&&this._add("M",w,S);var A=Math.round(u*H6);if(x){var M=1/this._p,C=(v?1:-1)*(H8-M);this._add("A",i,s,A,1,+v,t+i*H4(c+C),r+s*H5(c+C)),M>.01&&this._add("A",i,s,A,0,+v,w,S)}else{var T=t+i*H4(h),I=r+s*H5(h);this._add("A",i,s,A,+b,+v,T,I)}},t.prototype.rect=function(t,r,i,s){this._add("M",t,r),this._add("l",i,0),this._add("l",0,s),this._add("l",-i,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,r,i,s,u,c,h,f,p){for(var v=[],y=this._p,x=1;x<arguments.length;x++){var _=arguments[x];if(isNaN(_)){this._invalid=!0;return}v.push(Math.round(_*y)/y)}this._d.push(t+v.join(" ")),this._start="Z"===t},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),Ve="none",Vt=Math.round,Vn=["lineCap","miterLimit","lineJoin"],Vr=MS(Vn,function(t){return"stroke-"+t.toLowerCase()}),Vi="http://www.w3.org/2000/svg",Va="http://www.w3.org/1999/xlink",Vo="ecmeta_";function Vs(t){return document.createElementNS(Vi,t)}function Vl(t,r,i,s,u){return{tag:t,attrs:i||{},children:s,text:u,key:r}}function Vu(t,r){var i=(r=r||{}).newline?"\n":"";return function t(r){var s=r.children,u=r.tag,c=r.attrs,h=r.text;return function(t,r){var i=[];if(r)for(var s in r){var u=r[s],c=s;if(!1!==u){!0!==u&&null!=u&&(c+='="'+u+'"');i.push(c)}}return"<"+t+" "+i.join(" ")+">"}(u,c)+("style"!==u?CO(h):h||"")+(s?""+i+MS(s,function(r){return t(r)}).join(i)+i:"")+("</"+u)+">"}(t)}function Vc(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Vh(t,r,i,s){return Vl("svg","root",{width:t,height:r,xmlns:Vi,"xmlns:xlink":Va,version:"1.1",baseProfile:"full",viewBox:!!s&&"0 0 "+t+" "+r},i)}var Vd=0;function Vf(){return Vd++}var Vp={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Vg="transform-origin",Vm={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Vv(t,r){var i=r.zrId+"-ani-"+r.cssAnimIdx++;return r.cssAnims[i]=t,i}function Vy(t){return MP(t)?Vp[t]?"cubic-bezier("+Vp[t]+")":TW(t)?t:"":""}function Vx(t,r,i,s){var u=t.animators,c=u.length,h=[];if(t instanceof NL){var f=function(t,r,i){var s,u,c=t.shape.paths,h={};if(Mw(c,function(t){var r=Vc(i.zrId);r.animation=!0,Vx(t,{},r,!0);var c=r.cssAnims,f=r.cssNodes,p=MT(c),v=p.length;if(!!v){var y=c[u=p[v-1]];for(var x in y){var _=y[x];h[x]=h[x]||{d:""},h[x].d+=_.d||""}for(var b in f){var w=f[b].animation;w.indexOf(u)>=0&&(s=w)}}}),!!s){r.d=!1;var f=Vv(h,i);return s.replace(u,f)}}(t,r,i);if(f)h.push(f);else if(!c)return}else if(!c)return;for(var p={},v=0;v<c;v++){var y=u[v],x=[y.getMaxTime()/1e3+"s"],_=Vy(y.getClip().easing),b=y.getDelay();_?x.push(_):x.push("linear"),b&&x.push(b/1e3+"s"),y.getLoop()&&x.push("infinite");var w=x.join(" ");p[w]=p[w]||[w,[]],p[w][1].push(y)}for(var S in p){var f=function(u){var c,h,f=u[1],p=f.length,v={},y={},x={},_="animation-timing-function";function b(t,r,i){for(var s=t.getTracks(),u=t.getMaxTime(),c=0;c<s.length;c++){var h=s[c];if(h.needsAnimate()){var f=h.keyframes,p=h.propName;if(i&&(p=i(p)),p)for(var v=0;v<f.length;v++){var y=f[v],x=Math.round(y.time/u*100)+"%",b=Vy(y.easing),w=y.rawValue;(MP(w)||MB(w))&&(r[x]=r[x]||{},r[x][p]=y.rawValue,b&&(r[x][_]=b))}}}}for(var w=0;w<p;w++){var S=f[w],A=S.targetName;A?"shape"===A&&b(S,y):s||b(S,v)}for(var M in v){var C={};Ii(C,t),Mg(C,v[M]);var T=EC(C),I=v[M][_];x[M]=T?{transform:T}:{},!function(t,r){var i=r.originX,s=r.originY;(i||s)&&(t[Vg]=i+"px "+s+"px")}(x[M],C),I&&(x[M][_]=I)}var D=!0;for(var M in y){x[M]=x[M]||{};var R=!c,I=y[M][_];R&&(c=new Ry);var P=c.len();c.reset(),x[M].d=function(t,r,i){var s=Mg({},t.shape);Mg(s,r),t.buildPath(i,s);var u=new H7;return u.reset(EM(t)),i.rebuildPath(u,1),u.generateStr(),u.getStr()}(t,y[M],c);var L=c.len();if(!R&&P!==L){D=!1;break}I&&(x[M][_]=I)}if(!D)for(var M in x)delete x[M].d;if(!s)for(var w=0;w<p;w++){var S=f[w],A=S.targetName;"style"===A&&b(S,x,function(t){return Vm[t]})}for(var B=MT(x),k=!0,w=1;w<B.length;w++){var O=B[w-1],N=B[w];if(x[O][Vg]!==x[N][Vg]){k=!1;break}h=x[O][Vg]}if(k&&h){for(var M in x)x[M][Vg]&&delete x[M][Vg];r[Vg]=h}if(MM(B,function(t){return MT(x[t]).length>0}).length)return Vv(x,i)+" "+u[0]+" both"}(p[S]);f&&h.push(f)}if(h.length){var A=i.zrId+"-cls-"+Vd++;i.cssNodes["."+A]={animation:h.join(",")},r.class=A}}function V_(t,r,i,s){var u=JSON.stringify(t),c=i.cssStyleCache[u];!c&&(c=i.zrId+"-cls-"+Vd++,i.cssStyleCache[u]=c,i.cssNodes["."+c+(s?":hover":"")]=t),r.class=r.class?r.class+" "+c:c}var Vb=Math.round;function Vw(t){return t&&MP(t.src)}function VS(t){return t&&MR(t.toDataURL)}function VA(t,r,i,s){!function(t,r,i,s){var u,c,h=null==r.opacity?1:r.opacity;if(i instanceof RU){t("opacity",h);return}if(null!=(u=r.fill)&&u!==Ve){var f=Ep(r.fill);t("fill",f.color);var p=null!=r.fillOpacity?r.fillOpacity*f.opacity*h:f.opacity*h;(s||p<1)&&t("fill-opacity",p)}else t("fill",Ve);if(null!=(c=r.stroke)&&c!==Ve){var v=Ep(r.stroke);t("stroke",v.color);var y=r.strokeNoScale?i.getLineScale():1,x=y?(r.lineWidth||0)/y:0,_=null!=r.strokeOpacity?r.strokeOpacity*v.opacity*h:v.opacity*h,b=r.strokeFirst;if((s||1!==x)&&t("stroke-width",x),(s||b)&&t("paint-order",b?"stroke":"fill"),(s||_<1)&&t("stroke-opacity",_),r.lineDash){var w=Up(i),S=w[0],A=w[1];S&&(A=Vt(A||0),t("stroke-dasharray",S.join(",")),(A||s)&&t("stroke-dashoffset",A))}else s&&t("stroke-dasharray",Ve);for(var M=0;M<Vn.length;M++){var C=Vn[M];if(s||r[C]!==RD[C]){var T=r[C]||RD[C];T&&t(Vr[M],T)}}}else s&&t("stroke",Ve)}(function(u,c){var h="fill"===u||"stroke"===u;h&&ES(c)?VL(r,t,u,s):h&&E_(c)?VB(i,t,u,s):h&&"none"===c?t[u]="transparent":t[u]=c},r,i,!1),function(t,r,i){var s=t.style;if((u=s)&&(u.shadowBlur||u.shadowOffsetX||u.shadowOffsetY)){var u,c,h,f,p=(h=(c=t).style,f=c.getGlobalScale(),[h.shadowColor,(h.shadowBlur||0).toFixed(2),(h.shadowOffsetX||0).toFixed(2),(h.shadowOffsetY||0).toFixed(2),f[0],f[1]].join(",")),v=i.shadowCache,y=v[p];if(!y){var x=t.getGlobalScale(),_=x[0],b=x[1];if(!_||!b)return;var w=s.shadowOffsetX||0,S=s.shadowOffsetY||0,A=s.shadowBlur,M=Ep(s.shadowColor),C=M.opacity,T=M.color;y=i.zrId+"-s"+i.shadowIdx++,i.defs[y]=Vl("filter",y,{id:y,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Vl("feDropShadow","",{dx:w/_,dy:S/b,stdDeviation:A/2/_+" "+A/2/b,"flood-color":T,"flood-opacity":C})]),v[p]=y}r.filter=EA(y)}}(i,t,s)}function VM(t,r){var i=IP(r);i&&(i.each(function(r,i){null!=r&&(t[(Vo+i).toLowerCase()]=r+"")}),r.isSilent()&&(t[Vo+"silent"]="true"))}function VC(t){return Eg(t[0]-1)&&Eg(t[1])&&Eg(t[2])&&Eg(t[3]-1)}function VT(t,r,i){var s;if(r&&!(Eg((s=r)[4])&&Eg(s[5])&&VC(r))){var u,c=i?10:1e4;t.transform=VC(r)?"translate("+Vb(r[4]*c)/c+" "+Vb(r[5]*c)/c+")":"matrix("+Em((u=r)[0])+","+Em(u[1])+","+Em(u[2])+","+Em(u[3])+","+Ev(u[4])+","+Ev(u[5])+")"}}function VE(t,r,i){for(var s=t.points,u=[],c=0;c<s.length;c++)u.push(Vb(s[c][0]*i)/i),u.push(Vb(s[c][1]*i)/i);r.points=u.join(" ")}function VI(t){return!t.smooth}var VD={circle:[function(t){var r=MS(t,function(t){return"string"==typeof t?[t,t]:t});return function(t,i,s){for(var u=0;u<r.length;u++){var c=r[u],h=t[c[0]];null!=h&&(i[c[1]]=Vb(h*s)/s)}}}(["cx","cy","r"])],polyline:[VE,VI],polygon:[VE,VI]};function VR(t,r){var i=t.style,s=t.shape,u=VD[t.type],c={},h=r.animation,f="path",p=t.style.strokePercent,v=r.compress&&EM(t)||4;if(!u||r.willUpdate||u[1]&&!u[1](s)||h&&function(t){for(var r=t.animators,i=0;i<r.length;i++)if("shape"===r[i].targetName)return!0;return!1}(t)||p<1){var y=!t.path||t.shapeChanged();!t.path&&t.createPathProxy();var x=t.path;y&&(x.beginPath(),t.buildPath(x,t.shape),t.pathUpdated());var _=x.getVersion(),b=t.__svgPathBuilder;(t.__svgPathVersion!==_||!b||p!==t.__svgPathStrokePercent)&&(!b&&(b=t.__svgPathBuilder=new H7),b.reset(v),x.rebuildPath(b,p),b.generateStr(),t.__svgPathVersion=_,t.__svgPathStrokePercent=p),c.d=b.getStr()}else{f=t.type;var w=Math.pow(10,v);u[0](s,c,w)}return VT(c,t.transform),VA(c,i,t,r),VM(c,t),r.animation&&Vx(t,c,r),r.emphasis&&function(t,r,i){if(!t.ignore){if(t.isSilent()){var s={"pointer-events":"none"};V_(s,r,i,!0)}else{var u=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},c=u.fill;if(!c){var h=t.style&&t.style.fill,f=t.states.select&&t.states.select.style&&t.states.select.style.fill,p=t.currentStates.indexOf("select")>=0&&f||h;p&&(c=Ed(p))}var v=u.lineWidth;v&&(v/=!u.strokeNoScale&&t.transform?t.transform[0]:1);var s={cursor:"pointer"};c&&(s.fill=c),u.stroke&&(s.stroke=u.stroke),v&&(s["stroke-width"]=v),V_(s,r,i,!0)}}}(t,c,r),Vl(f,t.id+"",c)}function VP(t,r){if(t instanceof RL)return VR(t,r);if(t instanceof RU)return function(t,r){var i,s=t.style,u=s.image;if(u&&!MP(u)){;if((i=u)&&MP(i.src))u=u.src;else VS(u)&&(u=u.toDataURL())}if(!!u){var c=s.x||0,h=s.y||0,f={href:u,width:s.width,height:s.height};return c&&(f.x=c),h&&(f.y=h),VT(f,t.transform),VA(f,s,t,r),VM(f,t),r.animation&&Vx(t,f,r),Vl("image",t.id+"",f)}}(t,r);if(t instanceof Rk)return function(t,r){var i,s,u,c=t.style,h=c.text;if(null!=h&&(h+=""),!(!h||isNaN(c.x)||isNaN(c.y))){var f=c.font||A5,p=c.x||0;var v=(i=c.y||0,s=Ih(f),"top"===(u=c.textBaseline)?i+=s/2:"bottom"===u&&(i-=s/2),i),y={"dominant-baseline":"central","text-anchor":Ey[c.textAlign]||c.textAlign};if(R2(c)){var x="",_=c.fontStyle,b=R0(c.fontSize);if(!parseFloat(b))return;var w=c.fontFamily||A3,S=c.fontWeight;x+="font-size:"+b+";font-family:"+w+";",_&&"normal"!==_&&(x+="font-style:"+_+";"),S&&"normal"!==S&&(x+="font-weight:"+S+";"),y.style=x}else y.style="font: "+f;return h.match(/\s/)&&(y["xml:space"]="preserve"),p&&(y.x=p),v&&(y.y=v),VT(y,t.transform),VA(y,c,t,r),VM(y,t),r.animation&&Vx(t,y,r),Vl("text",t.id+"",y,void 0,h)}}(t,r)}function VL(t,r,i,s){var u,c=t[i],h={gradientUnits:c.global?"userSpaceOnUse":"objectBoundingBox"};if(Eb(c))u="linearGradient",h.x1=c.x,h.y1=c.y,h.x2=c.x2,h.y2=c.y2;else{if(!Ew(c))return;u="radialGradient",h.cx=Mj(c.x,.5),h.cy=Mj(c.y,.5),h.r=Mj(c.r,.5)}for(var f=c.colorStops,p=[],v=0,y=f.length;v<y;++v){var x=100*Ev(f[v].offset)+"%",_=Ep(f[v].color),b=_.color,w=_.opacity,S={offset:x};S["stop-color"]=b,w<1&&(S["stop-opacity"]=w),p.push(Vl("stop",v+"",S))}var A=Vu(Vl(u,"",h,p)),M=s.gradientCache,C=M[A];!C&&(C=s.zrId+"-g"+s.gradientIdx++,M[A]=C,h.id=C,s.defs[C]=Vl(u,C,h,p)),r[i]=EA(C)}function VB(t,r,i,s){var u,c,h,f=t.style[i],p=t.getBoundingRect(),v={},y=f.repeat,x="no-repeat"===y,_="repeat-x"===y,b="repeat-y"===y;if(Ex(f)){var w,S=f.imageWidth,A=f.imageHeight,M=void 0,C=f.image;if(MP(C))M=C;else{;if((w=C)&&MP(w.src))M=C.src;else VS(C)&&(M=C.toDataURL())}if("undefined"==typeof Image){var T="Image width/height must been given explictly in svg-ssr renderer.";MZ(S,T),MZ(A,T)}else if(null==S||null==A){var I=function(t,r){if(t){var i=t.elm,s=S||r.width,u=A||r.height;"pattern"===t.tag&&(_?(u=1,s/=p.width):b&&(s=1,u/=p.height)),t.attrs.width=s,t.attrs.height=u,i&&(i.setAttribute("width",s),i.setAttribute("height",u))}},D=DR(M,null,t,function(t){x||I(P,t),I(u,t)});D&&D.width&&D.height&&(S=S||D.width,A=A||D.height)}u=Vl("image","img",{href:M,width:S,height:A}),v.width=S,v.height=A}else f.svgElement&&(u=Md(f.svgElement),v.width=f.svgWidth,v.height=f.svgHeight);if(!!u){x?c=h=1:_?(h=1,c=v.width/p.width):b?(c=1,h=v.height/p.height):v.patternUnits="userSpaceOnUse",null!=c&&!isNaN(c)&&(v.width=c),null!=h&&!isNaN(h)&&(v.height=h);var R=EC(f);R&&(v.patternTransform=R);var P=Vl("pattern","",v,[u]),L=Vu(P),B=s.patternCache,k=B[L];!k&&(k=s.zrId+"-p"+s.patternIdx++,B[L]=k,v.id=k,P=s.defs[k]=Vl("pattern",k,v,[u])),r[i]=EA(k)}}function Vk(t){return document.createTextNode(t)}function VO(t,r,i){t.insertBefore(r,i)}function VN(t,r){t.removeChild(r)}function VF(t,r){t.appendChild(r)}function VU(t){return t.parentNode}function Vz(t){return t.nextSibling}function VG(t,r){t.textContent=r}var VH=Vl("","");function VV(t){return void 0===t}function Vj(t){return void 0!==t}function VW(t,r){var i=t.key===r.key;return t.tag===r.tag&&i}function VX(t){var r,i=t.children,s=t.tag;if(Vj(s)){var u=t.elm=Vs(s);if(VK(VH,t),MD(i))for(r=0;r<i.length;++r){var c=i[r];null!=c&&VF(u,VX(c))}else Vj(t.text)&&!Mk(t.text)&&VF(u,Vk(t.text))}else t.elm=Vk(t.text);return t.elm}function VY(t,r,i,s,u){for(;s<=u;++s){var c=i[s];null!=c&&VO(t,VX(c),r)}}function VZ(t,r,i,s){for(;i<=s;++i){var u=r[i];null!=u&&(Vj(u.tag)?VN(VU(u.elm),u.elm):VN(t,u.elm))}}function VK(t,r){var i,s=r.elm,u=t&&t.attrs||{},c=r.attrs||{};if(u!==c){for(i in c){var h=c[i];u[i]!==h&&(!0===h?s.setAttribute(i,""):!1===h?s.removeAttribute(i):"style"===i?s.style.cssText=h:120!==i.charCodeAt(0)?s.setAttribute(i,h):"xmlns:xlink"===i||"xmlns"===i?s.setAttributeNS("http://www.w3.org/2000/xmlns/",i,h):58===i.charCodeAt(3)?s.setAttributeNS("http://www.w3.org/XML/1998/namespace",i,h):58===i.charCodeAt(5)?s.setAttributeNS(Va,i,h):s.setAttribute(i,h))}for(i in u)!(i in c)&&s.removeAttribute(i)}}function VJ(t,r){var i=r.elm=t.elm,s=t.children,u=r.children;if(t!==r)VK(t,r),VV(r.text)?Vj(s)&&Vj(u)?s!==u&&!function(t,r,i){for(var s,u,c,h=0,f=0,p=r.length-1,v=r[0],y=r[p],x=i.length-1,_=i[0],b=i[x];h<=p&&f<=x;)null==v?v=r[++h]:null==y?y=r[--p]:null==_?_=i[++f]:null==b?b=i[--x]:VW(v,_)?(VJ(v,_),v=r[++h],_=i[++f]):VW(y,b)?(VJ(y,b),y=r[--p],b=i[--x]):VW(v,b)?(VJ(v,b),VO(t,v.elm,Vz(y.elm)),v=r[++h],b=i[--x]):(VW(y,_)?(VJ(y,_),VO(t,y.elm,v.elm),y=r[--p]):(VV(s)&&(s=function(t,r,i){for(var s={},u=r;u<=i;++u){var c=t[u].key;void 0!==c&&(s[c]=u)}return s}(r,h,p)),VV(u=s[_.key])?VO(t,VX(_),v.elm):(c=r[u]).tag!==_.tag?VO(t,VX(_),v.elm):(VJ(c,_),r[u]=void 0,VO(t,c.elm,v.elm))),_=i[++f]);(h<=p||f<=x)&&(h>p?VY(t,null==i[x+1]?null:i[x+1].elm,i,f,x):VZ(t,r,h,p))}(i,s,u):Vj(u)?(Vj(t.text)&&VG(i,""),VY(i,null,u,0,u.length-1)):Vj(s)?VZ(i,s,0,s.length-1):Vj(t.text)&&VG(i,""):t.text!==r.text&&(Vj(s)&&VZ(i,s,0,s.length-1),VG(i,r.text))}var VQ=0,Vq=function(){function t(t,r,i){if(this.type="svg",this.refreshHover=V$("refreshHover"),this.configLayer=V$("configLayer"),this.storage=r,this._opts=i=Mg({},i),this.root=t,this._id="zr"+VQ++,this._oldVNode=Vh(i.width,i.height),t&&!i.ssr){var s=this._viewport=document.createElement("div");s.style.cssText="position:relative;overflow:hidden";var u=this._svgDom=this._oldVNode.elm=Vs("svg");VK(null,this._oldVNode),s.appendChild(u),t.appendChild(s)}this.resize(i.width,i.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",!function(t,r){if(VW(t,r))VJ(t,r);else{var i=t.elm,s=VU(i);VX(r),null!==s&&(VO(s,r.elm,Vz(i)),VZ(s,[t],0,0))};}(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return VP(t,Vc(this._id))},t.prototype.renderToVNode=function(t){t=t||{};var r=this.storage.getDisplayList(!0),i=this._width,s=this._height,u=Vc(this._id);u.animation=t.animation,u.willUpdate=t.willUpdate,u.compress=t.compress,u.emphasis=t.emphasis;var c=[],h=this._bgVNode=function(t,r,i,s){var u;if(i&&"none"!==i){if(u=Vl("rect","bg",{width:t,height:r,x:"0",y:"0"}),ES(i))VL({fill:i},u.attrs,"fill",s);else if(E_(i))VB({style:{fill:i},dirty:M8,getBoundingRect:function(){return{width:t,height:r}}},u.attrs,"fill",s);else{var c=Ep(i),h=c.color,f=c.opacity;u.attrs.fill=h,f<1&&(u.attrs["fill-opacity"]=f)}}return u}(i,s,this._backgroundColor,u);h&&c.push(h);var f=t.compress?null:this._mainVNode=Vl("g","main",{},[]);this._paintList(r,u,f?f.children:c),f&&c.push(f);var p=MS(MT(u.defs),function(t){return u.defs[t]});if(p.length&&c.push(Vl("defs","defs",{},p)),t.animation){var v,y,x,_,b,w,S,A,M=(v=u.cssNodes,y=u.cssAnims,b=" {"+(_=(x=x={newline:!0}).newline?"\n":""),w=_+"}",S=MS(MT(v),function(t){return t+b+MS(MT(v[t]),function(r){return r+":"+v[t][r]+";"}).join(_)+w}).join(_),A=MS(MT(y),function(t){return"@keyframes "+t+b+MS(MT(y[t]),function(r){return r+b+MS(MT(y[t][r]),function(i){var s=y[t][r][i];return"d"===i&&(s='path("'+s+'")'),i+":"+s+";"}).join(_)+w}).join(_)+w}).join(_),S||A?["<![CDATA[",S,A,"]]>"].join(_):"");if(M){var C=Vl("style","stl",{},[],M);c.push(C)}}return Vh(i,s,c,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},Vu(this.renderToVNode({animation:Mj(t.cssAnimation,!0),emphasis:Mj(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Mj(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,r,i){for(var s,u,c=t.length,h=[],f=0,p=0,v=0;v<c;v++){var y=t[v];if(!y.invisible){var x=y.__clipPaths,_=x&&x.length||0,b=u&&u.length||0,w=void 0;for(w=Math.max(_-1,b-1);w>=0&&(!x||!u||x[w]!==u[w]);w--);for(var S=b-1;S>w;S--)s=h[--f-1];for(var A=w+1;A<_;A++){var M={};!function(t,r,i){var s=i.clipPathCache,u=i.defs,c=s[t.id];if(!c){var h={id:c=i.zrId+"-c"+i.clipPathIdx++};s[t.id]=c,u[c]=Vl("clipPath",c,h,[VR(t,i)])}r["clip-path"]=EA(c)}(x[A],M,r);var C=Vl("g","clip-g-"+p++,M,[]);(s?s.children:i).push(C),h[f++]=C,s=C}u=x;var T=VP(y,r);T&&(s?s.children:i).push(T)}}},t.prototype.resize=function(t,r){var i=this._opts,s=this.root,u=this._viewport;if(null!=t&&(i.width=t),null!=r&&(i.height=r),s&&u&&(u.style.display="none",t=Uf(s,0,i),r=Uf(s,1,i),u.style.display=""),this._width!==t||this._height!==r){if(this._width=t,this._height=r,u){var c=u.style;c.width=t+"px",c.height=r+"px"}if(E_(this._backgroundColor))this.refresh();else{var h=this._svgDom;h&&(h.setAttribute("width",t),h.setAttribute("height",r));var f=this._bgVNode&&this._bgVNode.elm;f&&(f.setAttribute("width",t),f.setAttribute("height",r))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var r=this.renderToString(),i="data:image/svg+xml;";return t?(r=ET(r))&&i+"base64,"+r:i+"charset=UTF-8,"+encodeURIComponent(r)},t}();function V$(t){return function(){}}var V0=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.hasSymbolVisual=!0,i}return AK(r,t),r.prototype.getInitialData=function(t){return z8(null,this,{useEncodeDefaulter:!0})},r.prototype.getLegendIcon=function(t){var r=new IS,i=Us("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(i),i.setStyle(t.lineStyle);var s=this.getData().getVisual("symbol"),u=this.getData().getVisual("symbolRotate"),c="none"===s?"circle":s,h=.8*t.itemHeight,f=Us(c,(t.itemWidth-h)/2,(t.itemHeight-h)/2,h,h,t.itemStyle.fill);r.add(f),f.setStyle(t.itemStyle);var p="inherit"===t.iconRotate?u:t.iconRotate||0;return f.rotation=p*Math.PI/180,f.setOrigin([t.itemWidth/2,t.itemHeight/2]),c.indexOf("empty")>-1&&(f.style.stroke=f.style.fill,f.style.fill="#fff",f.style.lineWidth=2),r},r.type="series.line",r.dependencies=["grid","polar"],r.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},r}(OR);function V1(t,r){var i=t.mapDimensionsAll("defaultedLabel"),s=i.length;if(1===s){var u=kE(t,r,i[0]);return null!=u?u+"":null}if(s){for(var c=[],h=0;h<i.length;h++)c.push(kE(t,r,i[h]));return c.join(" ")}}function V2(t,r){var i=t.mapDimensionsAll("defaultedLabel");if(!MD(r))return r+"";for(var s=[],u=0;u<i.length;u++){var c=t.getDimensionIndex(i[u]);c>=0&&s.push(r[c])}return s.join(" ")}var V3=function(t){function r(r,i,s,u){var c=t.call(this)||this;return c.updateData(r,i,s,u),c}return AK(r,t),r.prototype._createSymbol=function(t,r,i,s,u){this.removeAll();var c=Us(t,-1,-1,2,2,null,u);c.attr({z2:100,culling:!0,scaleX:s[0]/2,scaleY:s[1]/2}),c.drift=V5,this._symbolType=t,this.add(c)},r.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},r.prototype.getSymbolType=function(){return this._symbolType},r.prototype.getSymbolPath=function(){return this.childAt(0)},r.prototype.highlight=function(){PE(this.childAt(0))},r.prototype.downplay=function(){PI(this.childAt(0))},r.prototype.setZ=function(t,r){var i=this.childAt(0);i.zlevel=t,i.z=r},r.prototype.setDraggable=function(t,r){var i=this.childAt(0);i.draggable=t,i.cursor=!r&&t?"move":i.cursor},r.prototype.updateData=function(t,i,s,u){this.silent=!1;var c=t.getItemVisual(i,"symbol")||"circle",h=t.hostModel,f=r.getSymbolSize(t,i),p=c!==this._symbolType,v=u&&u.disableAnimation;if(p){var y=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(c,t,i,f,y)}else{var x=this.childAt(0);x.silent=!1;var _={scaleX:f[0]/2,scaleY:f[1]/2};v?x.attr(_):P$(x,_,h,i),P4(x)}if(this._updateCommon(t,i,f,s,u),p){var x=this.childAt(0);if(!v){var _={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:x.style.opacity}};x.scaleX=x.scaleY=0,x.style.opacity=0,P0(x,_,h,i)}}v&&this.childAt(0).stopAnimation("leave")},r.prototype._updateCommon=function(t,r,i,s,u){var c,h,f,p,v,y,x,_,b,w=this.childAt(0),S=t.hostModel;if(s&&(c=s.emphasisItemStyle,h=s.blurItemStyle,f=s.selectItemStyle,p=s.focus,v=s.blurScope,x=s.labelStatesModels,_=s.hoverScale,b=s.cursorStyle,y=s.emphasisDisabled),!s||t.hasItemOption){var A=s&&s.itemModel?s.itemModel:t.getItemModel(r),M=A.getModel("emphasis");c=M.getModel("itemStyle").getItemStyle(),f=A.getModel(["select","itemStyle"]).getItemStyle(),h=A.getModel(["blur","itemStyle"]).getItemStyle(),p=M.get("focus"),v=M.get("blurScope"),y=M.get("disabled"),x=Le(A),_=M.getShallow("scale"),b=A.getShallow("cursor")}var C=t.getItemVisual(r,"symbolRotate");w.attr("rotation",(C||0)*Math.PI/180||0);var T=Uu(t.getItemVisual(r,"symbolOffset"),i);T&&(w.x=T[0],w.y=T[1]),b&&w.attr("cursor",b);var I=t.getItemVisual(r,"style"),D=I.fill;if(w instanceof RU){var R=w.style;w.useStyle(Mg({image:R.image,x:R.x,y:R.y,width:R.width,height:R.height},I))}else w.__isEmptyBrush?w.useStyle(Mg({},I)):w.useStyle(I),w.style.decal=null,w.setColor(D,u&&u.symbolInnerColor),w.style.strokeNoScale=!0;var P=t.getItemVisual(r,"liftZ"),L=this._z2;null!=P?null==L&&(this._z2=w.z2,w.z2+=P):null!=L&&(w.z2=L,this._z2=null);var B=u&&u.useNameLabel;P7(w,x,{labelFetcher:S,labelDataIndex:r,defaultText:function(r){return B?t.getName(r):V1(t,r)},inheritColor:D,defaultOpacity:I.opacity});this._sizeX=i[0]/2,this._sizeY=i[1]/2;var k=w.ensureState("emphasis");k.style=c,w.ensureState("select").style=f,w.ensureState("blur").style=h;var O=null==_||!0===_?Math.max(1.1,3/this._sizeY):isFinite(_)&&_>0?+_:1;k.scaleX=this._sizeX*O,k.scaleY=this._sizeY*O,this.setSymbolScale(1),PG(this,p,v,y)},r.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},r.prototype.fadeOut=function(t,r,i){var s=this.childAt(0),u=Pe(this).dataIndex,c=i&&i.animation;if(this.silent=s.silent=!0,i&&i.fadeLabel){var h=s.getTextContent();h&&P2(h,{style:{opacity:0}},r,{dataIndex:u,removeOpt:c,cb:function(){s.removeTextContent()}})}else s.removeTextContent();P2(s,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:u,cb:t,removeOpt:c})},r.getSymbolSize=function(t,r){return Ul(t.getItemVisual(r,"symbolSize"))},r}(IS);function V5(t,r){this.parent.drift(t,r)}function V4(t,r,i,s){return r&&!isNaN(r[0])&&!isNaN(r[1])&&!(s.isIgnore&&s.isIgnore(i))&&!(s.clipShape&&!s.clipShape.contain(r[0],r[1]))&&"none"!==t.getItemVisual(i,"symbol")}function V9(t){return null!=t&&!Mk(t)&&(t={isIgnore:t}),t||{}}function V8(t){var r=t.hostModel,i=r.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:r.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:r.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),emphasisDisabled:i.get("disabled"),hoverScale:i.get("scale"),labelStatesModels:Le(r),cursorStyle:r.get("cursor")}}var V6=function(){function t(t){this.group=new IS,this._SymbolCtor=t||V3}return t.prototype.updateData=function(t,r){this._progressiveEls=null,r=V9(r);var i=this.group,s=t.hostModel,u=this._data,c=this._SymbolCtor,h=r.disableAnimation,f=V8(t),p={disableAnimation:h},v=r.getSymbolPoint||function(r){return t.getItemLayout(r)};!u&&i.removeAll(),t.diff(u).add(function(s){var u=v(s);if(V4(t,u,s,r)){var h=new c(t,s,f,p);h.setPosition(u),t.setItemGraphicEl(s,h),i.add(h)}}).update(function(y,x){var _=u.getItemGraphicEl(x),b=v(y);if(!V4(t,b,y,r)){i.remove(_);return}var w=t.getItemVisual(y,"symbol")||"circle",S=_&&_.getSymbolType&&_.getSymbolType();if(!_||S&&S!==w)i.remove(_),(_=new c(t,y,f,p)).setPosition(b);else{_.updateData(t,y,f,p);var A={x:b[0],y:b[1]};h?_.attr(A):P$(_,A,s)}i.add(_),t.setItemGraphicEl(y,_)}).remove(function(t){var r=u.getItemGraphicEl(t);r&&r.fadeOut(function(){i.remove(r)},s)}).execute(),this._getSymbolPoint=v,this._data=t},t.prototype.updateLayout=function(){var t=this,r=this._data;r&&r.eachItemGraphicEl(function(r,i){var s=t._getSymbolPoint(i);r.setPosition(s),r.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=V8(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,r,i){function s(t){!t.isGroup&&(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=V9(i);for(var u=t.start;u<t.end;u++){var c=r.getItemLayout(u);if(V4(r,c,u,i)){var h=new this._SymbolCtor(r,u,this._seriesScope);h.traverse(s),h.setPosition(c),this.group.add(h),r.setItemGraphicEl(u,h),this._progressiveEls.push(h)}}},t.prototype.eachRendered=function(t){Fu(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var r=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){r.remove(t)},i.hostModel)}):r.removeAll()},t}();function V7(t,r,i){var s=t.getBaseAxis(),u=t.getOtherAxis(s),c=function(t,r){var i=0,s=t.scale.getExtent();return"start"===r?i=s[0]:"end"===r?i=s[1]:MB(r)&&!isNaN(r)?i=r:s[0]>0?i=s[0]:s[1]<0&&(i=s[1]),i}(u,i),h=s.dim,f=u.dim,p=r.mapDimension(f),v=r.mapDimension(h),y="x"===f||"radius"===f?1:0,x=MS(t.dimensions,function(t){return r.mapDimension(t)}),_=!1,b=r.getCalculationInfo("stackResultDimension");return z4(r,x[0])&&(_=!0,x[0]=b),z4(r,x[1])&&(_=!0,x[1]=b),{dataDimsForPoint:x,valueStart:c,valueAxisDim:f,baseAxisDim:h,stacked:!!_,valueDim:p,baseDim:v,baseDataOffset:y,stackedOverDimension:r.getCalculationInfo("stackedOverDimension")}}function je(t,r,i,s){var u=NaN;t.stacked&&(u=i.get(i.getCalculationInfo("stackedOverDimension"),s)),isNaN(u)&&(u=t.valueStart);var c=t.baseDataOffset,h=[];return h[c]=i.get(t.baseDim,s),h[1-c]=u,r.dataToPoint(h)}var jt=Math.min,jn=Math.max;function jr(t,r){return isNaN(t)||isNaN(r)}function ji(t,r,i,s,u,c,h,f,p){for(var v,y,x,_,b,w,S=i,A=0;A<s;A++){var M=r[2*S],C=r[2*S+1];if(S>=u||S<0)break;if(jr(M,C)){if(p){S+=c;continue}break}if(S===i)t[c>0?"moveTo":"lineTo"](M,C),x=M,_=C;else{var T=M-v,I=C-y;if(T*T+I*I<.5){S+=c;continue}if(h>0){for(var D=S+c,R=r[2*D],P=r[2*D+1];R===M&&P===C&&A<s;)A++,D+=c,S+=c,R=r[2*D],P=r[2*D+1],M=r[2*S],C=r[2*S+1],T=M-v,I=C-y;var L=A+1;if(p)for(;jr(R,P)&&L<s;)L++,D+=c,R=r[2*D],P=r[2*D+1];var B=.5,k=0,O=0,N=void 0,F=void 0;if(L>=s||jr(R,P))b=M,w=C;else{k=R-v,O=P-y;var U=M-v,z=R-M,G=C-y,H=P-C,V=void 0,j=void 0;if("x"===f){V=Math.abs(U),j=Math.abs(z);var W=k>0?1:-1;b=M-W*V*h,w=C,N=M+W*j*h,F=C}else if("y"===f){V=Math.abs(G),j=Math.abs(H);var X=O>0?1:-1;b=M,w=C-X*V*h,N=M,F=C+X*j*h}else V=Math.sqrt(U*U+G*G),b=M-k*h*(1-(B=(j=Math.sqrt(z*z+H*H))/(j+V))),w=C-O*h*(1-B),N=M+k*h*B,F=C+O*h*B,N=jt(N,jn(R,M)),F=jt(F,jn(P,C)),N=jn(N,jt(R,M)),F=jn(F,jt(P,C)),k=N-M,O=F-C,b=M-k*V/j,w=C-O*V/j,b=jt(b,jn(v,M)),w=jt(w,jn(y,C)),b=jn(b,jt(v,M)),w=jn(w,jt(y,C)),k=M-b,O=C-w,N=M+k*j/V,F=C+O*j/V}t.bezierCurveTo(x,_,b,w,M,C),x=N,_=F}else t.lineTo(M,C)}v=M,y=C,S+=c}return A}var ja=function(){this.smooth=0,this.smoothConstraint=!0},jo=function(t){function r(r){var i=t.call(this,r)||this;return i.type="ec-polyline",i}return AK(r,t),r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new ja},r.prototype.buildPath=function(t,r){var i=r.points,s=0,u=i.length/2;if(r.connectNulls){for(;u>0&&jr(i[2*u-2],i[2*u-1]);u--);for(;s<u&&jr(i[2*s],i[2*s+1]);s++);}for(;s<u;)s+=ji(t,i,s,u,u,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},r.prototype.getPointOn=function(t,r){!this.path&&(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i,s,u=this.path.data,c=Ry.CMD,h="x"===r,f=[],p=0;p<u.length;){var v=u[p++],y=void 0,x=void 0,_=void 0,b=void 0,w=void 0,S=void 0,A=void 0;switch(v){case c.M:i=u[p++],s=u[p++];break;case c.L:if(y=u[p++],x=u[p++],(A=h?(t-i)/(y-i):(t-s)/(x-s))<=1&&A>=0){var M=h?(x-s)*A+s:(y-i)*A+i;return h?[t,M]:[M,t]}i=y,s=x;break;case c.C:y=u[p++],x=u[p++],_=u[p++],b=u[p++],w=u[p++],S=u[p++];var C=h?Tk(i,y,_,w,t,f):Tk(s,x,b,S,t,f);if(C>0)for(var T=0;T<C;T++){var I=f[T];if(I<=1&&I>=0){var M=h?TL(s,x,b,S,I):TL(i,y,_,w,I);return h?[t,M]:[M,t]}}i=w,s=S}}},r}(RL),js=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r}(ja),jl=function(t){function r(r){var i=t.call(this,r)||this;return i.type="ec-polygon",i}return AK(r,t),r.prototype.getDefaultShape=function(){return new js},r.prototype.buildPath=function(t,r){var i=r.points,s=r.stackedOnPoints,u=0,c=i.length/2,h=r.smoothMonotone;if(r.connectNulls){for(;c>0&&jr(i[2*c-2],i[2*c-1]);c--);for(;u<c&&jr(i[2*u],i[2*u+1]);u++);}for(;u<c;){var f=ji(t,i,u,c,c,1,r.smooth,h,r.connectNulls);ji(t,s,u+f-1,f,c,-1,r.stackedOnSmooth,h,r.connectNulls),u+=f+1,t.closePath()}},r}(RL);function ju(t,r,i,s,u){var c=t.getArea(),h=c.x,f=c.y,p=c.width,v=c.height,y=i.get(["lineStyle","width"])||2;h-=y/2,f-=y/2,p+=y,v+=y,p=Math.ceil(p),h!==Math.floor(h)&&(h=Math.floor(h),p++);var x=new RY({shape:{x:h,y:f,width:p,height:v}});if(r){var _=t.getBaseAxis(),b=_.isHorizontal(),w=_.inverse;b?(w&&(x.shape.x+=p),x.shape.width=0):(!w&&(x.shape.y+=v),x.shape.height=0);var S=MR(u)?function(t){u(t,x)}:null;P0(x,{shape:{width:p,height:v,x:h,y:f}},i,null,s,S)}return x}function jc(t,r,i){var s=t.getArea(),u=IN(s.r0,1),c=IN(s.r,1),h=new Nc({shape:{cx:IN(t.cx,1),cy:IN(t.cy,1),r0:u,r:c,startAngle:s.startAngle,endAngle:s.endAngle,clockwise:s.clockwise}});return r&&("angle"===t.getBaseAxis().dim?h.shape.endAngle=s.startAngle:h.shape.r=u,P0(h,{shape:{endAngle:s.endAngle,r:c}},i)),h}function jh(t,r,i,s,u){if(t){if("polar"===t.type)return jc(t,r,i);else if("cartesian2d"===t.type)return ju(t,r,i,s,u)}else;return null}function jd(t,r){return t.type===r}function jf(t,r){if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])return;return!0}}function jp(t){for(var r=1/0,i=1/0,s=-1/0,u=-1/0,c=0;c<t.length;){var h=t[c++],f=t[c++];!isNaN(h)&&(r=Math.min(h,r),s=Math.max(h,s)),!isNaN(f)&&(i=Math.min(f,i),u=Math.max(f,u))}return[[r,i],[s,u]]}function jg(t,r){var i=jp(t),s=i[0],u=i[1],c=jp(r),h=c[0],f=c[1];return Math.max(Math.abs(s[0]-h[0]),Math.abs(s[1]-h[1]),Math.abs(u[0]-f[0]),Math.abs(u[1]-f[1]))}function jm(t){return MB(t)?t:t?.5:0}function jv(t,r,i,s){var u=r.getBaseAxis(),c="x"===u.dim||"radius"===u.dim?0:1,h=[],f=0,p=[],v=[],y=[],x=[];if(s){for(f=0;f<t.length;f+=2)!isNaN(t[f])&&!isNaN(t[f+1])&&x.push(t[f],t[f+1]);t=x}for(f=0;f<t.length-2;f+=2)switch(y[0]=t[f+2],y[1]=t[f+3],v[0]=t[f],v[1]=t[f+1],h.push(v[0],v[1]),i){case"end":p[c]=y[c],p[1-c]=v[1-c],h.push(p[0],p[1]);break;case"middle":var _=(v[c]+y[c])/2,b=[];p[c]=b[c]=_,p[1-c]=v[1-c],b[1-c]=y[1-c],h.push(p[0],p[1]),h.push(b[0],b[1]);break;default:p[c]=v[c],p[1-c]=y[1-c],h.push(p[0],p[1])}return h.push(t[f++],t[f++]),h}function jy(t,r){return[t[2*r],t[2*r+1]]}function jx(t){if(t.get(["endLabel","show"]))return!0;for(var r=0;r<Po.length;r++)if(t.get([Po[r],"endLabel","show"]))return!0;return!1}function j_(t,r,i,s){if(!jd(r,"cartesian2d"))return jc(r,i,s);var u=s.getModel("endLabel"),c=u.get("valueAnimation"),h=s.getData(),f={lastFrameIndex:0},p=jx(s)?function(i,s){t._endLabelOnDuring(i,s,h,f,c,u,r)}:null,v=r.getBaseAxis().isHorizontal(),y=ju(r,i,s,function(){var r=t._endLabel;r&&i&&null!=f.originalX&&r.attr({x:f.originalX,y:f.originalY})},p);if(!s.get("clip",!0)){var x=y.shape,_=Math.max(x.width,x.height);v?(x.y-=_,x.height+=2*_):(x.x-=_,x.width+=2*_)}return p&&p(1,y),y}var jb=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.init=function(){var t=new IS,r=new V6;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t},r.prototype.render=function(t,r,i){var s,u=this,c=t.coordinateSystem,h=this.group,f=t.getData(),p=t.getModel("lineStyle"),v=t.getModel("areaStyle"),y=f.getLayout("points")||[],x="polar"===c.type,_=this._coordSys,b=this._symbolDraw,w=this._polyline,S=this._polygon,A=this._lineGroup,M=!r.ssr&&t.get("animation"),C=!v.isEmpty(),T=v.get("origin"),I=V7(c,f,T),D=C&&function(t,r,i){if(!i.valueDim)return[];for(var s=r.count(),u=Gp(2*s),c=0;c<s;c++){var h=je(i,t,r,c);u[2*c]=h[0],u[2*c+1]=h[1]}return u}(c,f,I),R=t.get("showSymbol"),P=t.get("connectNulls"),L=R&&!x&&function(t,r,i){var s=t.get("showAllSymbol"),u="auto"===s;if(s&&!u)return;var c=i.getAxesByScale("ordinal")[0];if(!(!c||u&&function(t,r){var i=t.getExtent(),s=Math.abs(i[1]-i[0])/t.scale.count();isNaN(s)&&(s=0);for(var u=r.count(),c=Math.max(1,Math.round(u/5)),h=0;h<u;h+=c)if(1.5*V3.getSymbolSize(r,h)[t.isHorizontal()?1:0]>s)return!1;return!0}(c,r))){var h=r.mapDimension(c.dim),f={};return Mw(c.getViewLabels(),function(t){f[c.scale.getRawOrdinalNumber(t.tickValue)]=1}),function(t){return!f.hasOwnProperty(r.get(h,t))}}}(t,f,c),B=this._data;B&&B.eachItemGraphicEl(function(t,r){t.__temp&&(h.remove(t),B.setItemGraphicEl(r,null))}),!R&&b.remove(),h.add(A);var k=!x&&t.get("step");c&&c.getArea&&t.get("clip",!0)&&(null!=(s=c.getArea()).width?(s.x-=.1,s.y-=.1,s.width+=.2,s.height+=.2):s.r0&&(s.r0-=.5,s.r+=.5)),this._clipShapeForSymbol=s;var O=function(t,r,i){var s,u,c=t.getVisual("visualMeta");if(!c||!c.length||!t.count()||"cartesian2d"!==r.type)return;for(var h=c.length-1;h>=0;h--){var f=t.getDimensionInfo(c[h].dimension);if("x"===(s=f&&f.coordDim)||"y"===s){u=c[h];break}}if(!!u){var p=r.getAxis(s),v=MS(u.stops,function(t){return{coord:p.toGlobalCoord(p.dataToCoord(t.value)),color:t.color}}),y=v.length,x=u.outerColors.slice();y&&v[0].coord>v[y-1].coord&&(v.reverse(),x.reverse());var _=function(t,r){var i,s,u=[],c=t.length;function h(t,r,i){var s=t.coord,u=Ei((i-s)/(r.coord-s),[t.color,r.color]);return{coord:i,color:u}}for(var f=0;f<c;f++){var p=t[f],v=p.coord;if(v<0)i=p;else if(v>r){s?u.push(h(s,p,r)):i&&u.push(h(i,p,0),h(i,p,r));break}else i&&(u.push(h(i,p,0)),i=null),u.push(p),s=p}return u}(v,"x"===s?i.getWidth():i.getHeight()),b=_.length;if(!b&&y)return v[0].coord<0?x[1]?x[1]:v[y-1].color:x[0]?x[0]:v[0].color;var w=_[0].coord-10,S=_[b-1].coord+10,A=S-w;if(A<.001)return"transparent";Mw(_,function(t){t.offset=(t.coord-w)/A}),_.push({offset:b?_[b-1].offset:.5,color:x[1]||"transparent"}),_.unshift({offset:b?_[0].offset:.5,color:x[0]||"transparent"});var M=new Nk(0,0,0,0,_,!0);return M[s]=w,M[s+"2"]=S,M}}(f,c,i)||f.getVisual("style")[f.getVisual("drawType")];if(w&&_.type===c.type&&k===this._step){C&&!S?S=this._newPolygon(y,D):S&&!C&&(A.remove(S),S=this._polygon=null),!x&&this._initOrUpdateEndLabel(t,c,Bi(O));var N=A.getClipPath();N?P0(N,{shape:j_(this,c,!1,t).shape},t):A.setClipPath(j_(this,c,!0,t)),R&&b.updateData(f,{isIgnore:L,clipShape:s,disableAnimation:!0,getSymbolPoint:function(t){return[y[2*t],y[2*t+1]]}}),(!jf(this._stackedOnPoints,D)||!jf(this._points,y))&&(M?this._doUpdateAnimation(f,D,c,i,k,T,P):(k&&(y=jv(y,c,k,P),D&&(D=jv(D,c,k,P))),w.setShape({points:y}),S&&S.setShape({points:y,stackedOnPoints:D})))}else R&&b.updateData(f,{isIgnore:L,clipShape:s,disableAnimation:!0,getSymbolPoint:function(t){return[y[2*t],y[2*t+1]]}}),M&&this._initSymbolLabelAnimation(f,c,s),k&&(y=jv(y,c,k,P),D&&(D=jv(D,c,k,P))),w=this._newPolyline(y),C?S=this._newPolygon(y,D):S&&(A.remove(S),S=this._polygon=null),!x&&this._initOrUpdateEndLabel(t,c,Bi(O)),A.setClipPath(j_(this,c,!0,t));var F=t.getModel("emphasis"),U=F.get("focus"),z=F.get("blurScope"),G=F.get("disabled");w.useStyle(Mm(p.getLineStyle(),{fill:"none",stroke:O,lineJoin:"bevel"})),PW(w,t,"lineStyle"),w.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(w.getState("emphasis").style.lineWidth=+w.style.lineWidth+1),Pe(w).seriesIndex=t.seriesIndex,PG(w,U,z,G);var H=jm(t.get("smooth")),V=t.get("smoothMonotone");if(w.setShape({smooth:H,smoothMonotone:V,connectNulls:P}),S){var j=f.getCalculationInfo("stackedOnSeries"),W=0;S.useStyle(Mm(v.getAreaStyle(),{fill:O,opacity:.7,lineJoin:"bevel",decal:f.getVisual("style").decal})),j&&(W=jm(j.get("smooth"))),S.setShape({smooth:H,stackedOnSmooth:W,smoothMonotone:V,connectNulls:P}),PW(S,t,"areaStyle"),Pe(S).seriesIndex=t.seriesIndex,PG(S,U,z,G)}var X=function(t){u._changePolyState(t)};f.eachItemGraphicEl(function(t){t&&(t.onHoverStateChange=X)}),this._polyline.onHoverStateChange=X,this._data=f,this._coordSys=c,this._stackedOnPoints=D,this._points=y,this._step=k,this._valueOrigin=T,t.get("triggerLineEvent")&&(this.packEventData(t,w),S&&this.packEventData(t,S))},r.prototype.packEventData=function(t,r){Pe(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},r.prototype.highlight=function(t,r,i,s){var u=t.getData(),c=Ds(u,s);if(this._changePolyState("emphasis"),c instanceof Array||null==c||!(c>=0))Fy.prototype.highlight.call(this,t,r,i,s);else{var h=u.getLayout("points"),f=u.getItemGraphicEl(c);if(!f){var p=h[2*c],v=h[2*c+1];if(isNaN(p)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(p,v))return;var y=t.get("zlevel")||0,x=t.get("z")||0;(f=new V3(u,c)).x=p,f.y=v,f.setZ(y,x);var _=f.getSymbolPath().getTextContent();_&&(_.zlevel=y,_.z=x,_.z2=this._polyline.z2+1),f.__temp=!0,u.setItemGraphicEl(c,f),f.stopSymbolAnimation(!0),this.group.add(f)}f.highlight()}},r.prototype.downplay=function(t,r,i,s){var u=t.getData(),c=Ds(u,s);if(this._changePolyState("normal"),null!=c&&c>=0){var h=u.getItemGraphicEl(c);h&&(h.__temp?(u.setItemGraphicEl(c,null),this.group.remove(h)):h.downplay())}else Fy.prototype.downplay.call(this,t,r,i,s)},r.prototype._changePolyState=function(t){var r=this._polygon;PS(this._polyline,t),r&&PS(r,t)},r.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new jo({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},r.prototype._newPolygon=function(t,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new jl({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},r.prototype._initSymbolLabelAnimation=function(t,r,i){var s,u,c=r.getBaseAxis(),h=c.inverse;"cartesian2d"===r.type?(s=c.isHorizontal(),u=!1):"polar"===r.type&&(s="angle"===c.dim,u=!0);var f=t.hostModel,p=f.get("animationDuration");MR(p)&&(p=p(null));var v=f.get("animationDelay")||0,y=MR(v)?v(null):v;t.eachItemGraphicEl(function(t,c){if(t){var f=[t.x,t.y],x=void 0,_=void 0,b=void 0;if(i){if(u){var w=r.pointToCoord(f);s?(x=i.startAngle,_=i.endAngle,b=-w[1]/180*Math.PI):(x=i.r0,_=i.r,b=w[0])}else s?(x=i.x,_=i.x+i.width,b=t.x):(x=i.y+i.height,_=i.y,b=t.y)}var S=_===x?0:(b-x)/(_-x);h&&(S=1-S);var A=MR(v)?v(c):p*S+y,M=t.getSymbolPath(),C=M.getTextContent();t.attr({scaleX:0,scaleY:0}),t.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:A}),C&&C.animateFrom({style:{opacity:0}},{duration:300,delay:A}),M.disableLabelAnimation=!0}})},r.prototype._initOrUpdateEndLabel=function(t,r,i){var s=t.getModel("endLabel");if(jx(t)){var u,c,h,f,p=t.getData(),v=this._polyline,y=p.getLayout("points");if(!y){v.removeTextContent(),this._endLabel=null;return}var x=this._endLabel;!x&&((x=this._endLabel=new R7({z2:200})).ignoreClip=!0,v.setTextContent(this._endLabel),v.disableLabelAnimation=!0);var _=function(t){for(var r,i,s=t.length/2;s>0;s--){;if(r=t[2*s-2],i=t[2*s-1],!(isNaN(r)||isNaN(i)))break}return s-1}(y);if(_>=0){;P7(v,Le(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:_,defaultText:function(t,r,i){return null!=i?V2(p,i):V1(p,t)},enableTextSetter:!0},(u=s,h=(c=r.getBaseAxis()).isHorizontal(),f=c.inverse,{normal:{align:u.get("align")||(h?f?"right":"left":"center"),verticalAlign:u.get("verticalAlign")||(h?"middle":f?"top":"bottom")}})),v.textConfig.position=null}}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},r.prototype._endLabelOnDuring=function(t,r,i,s,u,c,h){var f=this._endLabel,p=this._polyline;if(f){t<1&&null==s.originalX&&(s.originalX=f.x,s.originalY=f.y);var v=i.getLayout("points"),y=i.hostModel,x=y.get("connectNulls"),_=c.get("precision"),b=c.get("distance")||0,w=h.getBaseAxis(),S=w.isHorizontal(),A=w.inverse,M=r.shape,C=A?S?M.x:M.y+M.height:S?M.x+M.width:M.y,T=(S?b:0)*(A?-1:1),I=(S?0:-b)*(A?-1:1),D=S?"x":"y",R=function(t,r,i){for(var s,u,c=t.length/2,h="x"===i?0:1,f=0,p=-1,v=0;v<c;v++){if(!(isNaN(u=t[2*v+h])||isNaN(t[2*v+1-h]))){if(0===v){s=u;continue}if(s<=r&&u>=r||s>=r&&u<=r){p=v;break}f=v,s=u}}return{range:[f,p],t:(r-s)/(u-s)}}(v,C,D),P=R.range,L=P[1]-P[0],B=void 0;if(L>=1){if(L>1&&!x){var k=jy(v,P[0]);f.attr({x:k[0]+T,y:k[1]+I}),u&&(B=y.getRawValue(P[0]))}else{var k=p.getPointOn(C,D);k&&f.attr({x:k[0]+T,y:k[1]+I});var O=y.getRawValue(P[0]),N=y.getRawValue(P[1]);u&&(B=Dv(i,_,O,N,R.t))}s.lastFrameIndex=P[0]}else{var F=1===t||s.lastFrameIndex>0?P[0]:0,k=jy(v,F);u&&(B=y.getRawValue(F)),f.attr({x:k[0]+T,y:k[1]+I})}if(u){var U=Ll(f);"function"==typeof U.setLabelText&&U.setLabelText(B)}}},r.prototype._doUpdateAnimation=function(t,r,i,s,u,c,h){var f=this._polyline,p=this._polygon,v=t.hostModel,y=function(t,r,i,s,u,c,h,f){for(var p,v,y=(p=t,v=[],r.diff(p).add(function(t){v.push({cmd:"+",idx:t})}).update(function(t,r){v.push({cmd:"=",idx:r,idx1:t})}).remove(function(t){v.push({cmd:"-",idx:t})}).execute(),v),x=[],_=[],b=[],w=[],S=[],A=[],M=[],C=V7(u,r,h),T=t.getLayout("points")||[],I=r.getLayout("points")||[],D=0;D<y.length;D++){var R=y[D],P=!0,L=void 0,B=void 0;switch(R.cmd){case"=":L=2*R.idx,B=2*R.idx1;var k=T[L],O=T[L+1],N=I[B],F=I[B+1];(isNaN(k)||isNaN(O))&&(k=N,O=F),x.push(k,O),_.push(N,F),b.push(i[L],i[L+1]),w.push(s[B],s[B+1]),M.push(r.getRawIndex(R.idx1));break;case"+":var U=R.idx,z=C.dataDimsForPoint,G=u.dataToPoint([r.get(z[0],U),r.get(z[1],U)]);B=2*U,x.push(G[0],G[1]),_.push(I[B],I[B+1]);var H=je(C,u,r,U);b.push(H[0],H[1]),w.push(s[B],s[B+1]),M.push(r.getRawIndex(U));break;case"-":P=!1}P&&(S.push(R),A.push(A.length))}A.sort(function(t,r){return M[t]-M[r]});for(var V=x.length,j=Gp(V),W=Gp(V),X=Gp(V),Y=Gp(V),Z=[],D=0;D<A.length;D++){var K=A[D],J=2*D,Q=2*K;j[J]=x[Q],j[J+1]=x[Q+1],W[J]=_[Q],W[J+1]=_[Q+1],X[J]=b[Q],X[J+1]=b[Q+1],Y[J]=w[Q],Y[J+1]=w[Q+1],Z[D]=S[K]}return{current:j,next:W,stackedOnCurrent:X,stackedOnNext:Y,status:Z}}(this._data,t,this._stackedOnPoints,r,this._coordSys,0,this._valueOrigin,0),x=y.current,_=y.stackedOnCurrent,b=y.next,w=y.stackedOnNext;if(u&&(x=jv(y.current,i,u,h),_=jv(y.stackedOnCurrent,i,u,h),b=jv(y.next,i,u,h),w=jv(y.stackedOnNext,i,u,h)),jg(x,b)>3e3||p&&jg(_,w)>3e3){f.stopAnimation(),f.setShape({points:b}),p&&(p.stopAnimation(),p.setShape({points:b,stackedOnPoints:w}));return}f.shape.__points=y.current,f.shape.points=x;var S={shape:{points:b}};y.current!==x&&(S.shape.__points=y.next),f.stopAnimation(),P$(f,S,v),p&&(p.setShape({points:x,stackedOnPoints:_}),p.stopAnimation(),P$(p,{shape:{stackedOnPoints:w}},v),f.shape.points!==p.shape.points&&(p.shape.points=f.shape.points));for(var A=[],M=y.status,C=0;C<M.length;C++)if("="===M[C].cmd){var T=t.getItemGraphicEl(M[C].idx1);T&&A.push({el:T,ptIdx:C})}f.animators&&f.animators.length&&f.animators[0].during(function(){p&&p.dirtyShape();for(var t=f.shape.__points,r=0;r<A.length;r++){var i=A[r].el,s=2*A[r].ptIdx;i.x=t[s],i.y=t[s+1],i.markRedraw()}})},r.prototype.remove=function(t){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,s){t.__temp&&(r.remove(t),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},r.type="line",r}(Fy);function jw(t,r){return{seriesType:t,plan:OB(),reset:function(t){var i=t.getData(),s=t.coordinateSystem,u=t.pipelineContext,c=r||u.large;if(!!s){var h=MS(s.dimensions,function(t){return i.mapDimension(t)}).slice(0,2),f=h.length,p=i.getCalculationInfo("stackResultDimension");z4(i,h[0])&&(h[0]=p),z4(i,h[1])&&(h[1]=p);var v=i.getStore(),y=i.getDimensionIndex(h[0]),x=i.getDimensionIndex(h[1]);return f&&{progress:function(t,r){for(var i=t.end-t.start,u=c&&Gp(i*f),h=[],p=[],_=t.start,b=0;_<t.end;_++){var w=void 0;if(1===f){var S=v.get(y,_);w=s.dataToPoint(S,null,p)}else h[0]=v.get(y,_),h[1]=v.get(x,_),w=s.dataToPoint(h,null,p);c?(u[b++]=w[0],u[b++]=w[1]):r.setItemLayout(_,w.slice())}c&&r.setLayout("points",u)}}}}}}var jS={average:function(t){for(var r=0,i=0,s=0;s<t.length;s++)!isNaN(t[s])&&(r+=t[s],i++);return 0===i?NaN:r/i},sum:function(t){for(var r=0,i=0;i<t.length;i++)r+=t[i]||0;return r},max:function(t){for(var r=-1/0,i=0;i<t.length;i++)t[i]>r&&(r=t[i]);return isFinite(r)?r:NaN},min:function(t){for(var r=1/0,i=0;i<t.length;i++)t[i]<r&&(r=t[i]);return isFinite(r)?r:NaN},minmax:function(t){for(var r=-1/0,i=-1/0,s=0;s<t.length;s++){var u=t[s],c=Math.abs(u);c>r&&(r=c,i=u)}return isFinite(i)?i:NaN},nearest:function(t){return t[0]}},jA=function(t){return Math.round(t.length/2)};function jM(t){return{seriesType:t,reset:function(t,r,i){var s=t.getData(),u=t.get("sampling"),c=t.coordinateSystem,h=s.count();if(h>10&&"cartesian2d"===c.type&&u){var f=c.getBaseAxis(),p=c.getOtherAxis(f),v=f.getExtent(),y=i.getDevicePixelRatio(),x=Math.round(h/(Math.abs(v[1]-v[0])*(y||1)));if(isFinite(x)&&x>1){"lttb"===u&&t.setData(s.lttbDownSample(s.mapDimension(p.dim),1/x));var _=void 0;MP(u)?_=jS[u]:MR(u)&&(_=u),_&&t.setData(s.downSample(s.mapDimension(p.dim),1/x,_,jA))}}}}}var jC=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.getInitialData=function(t,r){return z8(null,this,{useEncodeDefaulter:!0})},r.prototype.getMarkerPosition=function(t,r,i){var s=this.coordinateSystem;if(s&&s.clampData){var u=s.clampData(t),c=s.dataToPoint(u);if(i)Mw(s.getAxes(),function(t,i){if("category"===t.type&&null!=r){var s=t.getTicksCoords(),h=t.getTickModel().get("alignWithLabel"),f=u[i],p="x1"===r[i]||"y1"===r[i];if(p&&!h&&(f+=1),!(s.length<2)){if(2===s.length){c[i]=t.toGlobalCoord(t.getExtent()[p?1:0]);return}for(var v=void 0,y=void 0,x=1,_=0;_<s.length;_++){var b=s[_].coord,w=_===s.length-1?s[_-1].tickValue+x:s[_].tickValue;if(w===f){y=b;break}if(w<f)v=b;else if(null!=v&&w>f){y=(b+v)/2;break}1===_&&(x=w-s[0].tickValue)}null==y&&(v?v&&(y=s[s.length-1].coord):y=s[0].coord),c[i]=t.toGlobalCoord(y)}}});else{var h=this.getData(),f=h.getLayout("offset"),p=h.getLayout("size"),v=s.getBaseAxis().isHorizontal()?0:1;c[v]+=f+p/2}return c}return[NaN,NaN]},r.type="series.__base_bar__",r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},r}(OR);OR.registerClass(jC);var jT=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.getInitialData=function(){return z8(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},r.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},r.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},r.prototype.brushSelector=function(t,r,i){return i.rect(r.getItemLayout(t))},r.type="series.bar",r.dependencies=["grid","polar"],r.defaultOption=LM(jC.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),r}(jC),jE=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},jI=function(t){function r(r){var i=t.call(this,r)||this;return i.type="sausage",i}return AK(r,t),r.prototype.getDefaultShape=function(){return new jE},r.prototype.buildPath=function(t,r){var i=r.cx,s=r.cy,u=Math.max(r.r0||0,0),c=Math.max(r.r,0),h=(c-u)*.5,f=u+h,p=r.startAngle,v=r.endAngle,y=r.clockwise,x=2*Math.PI,_=y?v-p<x:p-v<x;!_&&(p=v-(y?x:-x));var b=Math.cos(p),w=Math.sin(p),S=Math.cos(v),A=Math.sin(v);_?(t.moveTo(b*u+i,w*u+s),t.arc(b*f+i,w*f+s,h,-Math.PI+p,p,!y)):t.moveTo(b*c+i,w*c+s),t.arc(i,s,c,p,v,!y),t.arc(S*f+i,A*f+s,h,v-2*Math.PI,v-Math.PI,!y),0!==u&&t.arc(i,s,u,v,p,y)},r}(RL);function jD(t,r,i){return r*Math.sin(t)*(i?-1:1)}function jR(t,r,i){return r*Math.cos(t)*(i?1:-1)}function jP(t,r,i){var s=t.get("borderRadius");if(null==s)return i?{cornerRadius:0}:null;!MD(s)&&(s=[s,s,s,s]);var u=Math.abs(r.r||0-r.r0||0);return{cornerRadius:MS(s,function(t){return Id(t,u)})}}var jL=Math.max,jB=Math.min,jk=function(t){function r(){var i=t.call(this)||this;return i.type=r.type,i._isFirstFrame=!0,i}return AK(r,t),r.prototype.render=function(t,r,i,s){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var u=t.get("coordinateSystem");("cartesian2d"===u||"polar"===u)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,i):this._renderNormal(t,r,i,s))},r.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},r.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},r.prototype.eachRendered=function(t){Fu(this._progressiveEls||this.group,t)},r.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(null==this._isLargeDraw||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},r.prototype._renderNormal=function(t,r,i,s){var u,c=this.group,h=t.getData(),f=this._data,p=t.coordinateSystem,v=p.getBaseAxis();"cartesian2d"===p.type?u=v.isHorizontal():"polar"===p.type&&(u="angle"===v.dim);var y=t.isAnimationEnabled()?t:null,x=function(t,r){var i=t.get("realtimeSort",!0),s=r.getBaseAxis();if(i&&"category"===s.type&&"cartesian2d"===r.type)return{baseAxis:s,otherAxis:r.getOtherAxis(s)}}(t,p);x&&this._enableRealtimeSort(x,h,i);var _=t.get("clip",!0)||x,b=function(t,r){var i=t.getArea&&t.getArea();if(jd(t,"cartesian2d")){var s=t.getBaseAxis();if("category"!==s.type||!s.onBand){var u=r.getLayout("bandWidth");s.isHorizontal()?(i.x-=u,i.width+=2*u):(i.y-=u,i.height+=2*u)}}return i}(p,h);c.removeClipPath();var w=t.get("roundCap",!0),S=t.get("showBackground",!0),A=t.getModel("backgroundStyle"),M=A.get("borderRadius")||0,C=[],T=this._backgroundEls,I=s&&s.isInitSort,D=s&&"changeAxisOrder"===s.type;function R(t){var r=jV[p.type](h,t),i=function(t,r,i){return new("polar"===t.type?Nc:RY)({shape:jJ(r,i,t),silent:!0,z2:0})}(p,u,r);return i.useStyle(A.getItemStyle()),"cartesian2d"===p.type?i.setShape("r",M):i.setShape("cornerRadius",M),C[t]=i,i}h.diff(f).add(function(r){var i=h.getItemModel(r),s=jV[p.type](h,r,i);if(S&&R(r),!!h.hasValue(r)&&!!jH[p.type](s)){var f=!1;_&&(f=jO[p.type](b,s));var A=jN[p.type](t,h,r,s,u,y,v.model,!1,w);x&&(A.forceLabelAnimation=!0),jW(A,h,r,i,s,t,u,"polar"===p.type),I?A.attr({shape:s}):x?jF(x,y,A,s,r,u,!1,!1):P0(A,{shape:s},t,r),h.setItemGraphicEl(r,A),c.add(A),A.ignore=f}}).update(function(r,i){var s=h.getItemModel(r),P=jV[p.type](h,r,s);if(S){var L=void 0;0===T.length?L=R(i):((L=T[i]).useStyle(A.getItemStyle()),"cartesian2d"===p.type?L.setShape("r",M):L.setShape("cornerRadius",M),C[r]=L);var B=jV[p.type](h,r);P$(L,{shape:jJ(u,B,p)},y,r)}var k=f.getItemGraphicEl(i);if(!h.hasValue(r)||!jH[p.type](P)){c.remove(k);return}var O=!1;if(_&&(O=jO[p.type](b,P))&&c.remove(k),k?P4(k):k=jN[p.type](t,h,r,P,u,y,v.model,!!k,w),x&&(k.forceLabelAnimation=!0),D){var N=k.getTextContent();if(N){var F=Ll(N);null!=F.prevValue&&(F.prevValue=F.value)}}else jW(k,h,r,s,P,t,u,"polar"===p.type);I?k.attr({shape:P}):x?jF(x,y,k,P,r,u,!0,D):P$(k,{shape:P},t,r,null),h.setItemGraphicEl(r,k),k.ignore=O,c.add(k)}).remove(function(r){var i=f.getItemGraphicEl(r);i&&P5(i,t,r)}).execute();var P=this._backgroundGroup||(this._backgroundGroup=new IS);P.removeAll();for(var L=0;L<C.length;++L)P.add(C[L]);c.add(P),this._backgroundEls=C,this._data=h},r.prototype._renderLarge=function(t,r,i){this._clear(),jZ(t,this.group),this._updateLargeClip(t)},r.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),jZ(r,this.group,this._progressiveEls,!0)},r.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&jh(t.coordinateSystem,!1,t),i=this.group;r?i.setClipPath(r):i.removeClipPath()},r.prototype._enableRealtimeSort=function(t,r,i){var s=this;if(!!r.count()){var u=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,i),this._isFirstFrame=!1;else{var c=function(t){var i=r.getItemGraphicEl(t),s=i&&i.shape;return s&&Math.abs(u.isHorizontal()?s.height:s.width)||0};this._onRendered=function(){s._updateSortWithinSameData(r,c,u,i)},i.getZr().on("rendered",this._onRendered)}}},r.prototype._dataSort=function(t,r,i){var s=[];return t.each(t.mapDimension(r.dim),function(t,r){var u=i(r);u=null==u?NaN:u,s.push({dataIndex:r,mappedValue:u,ordinalNumber:t})}),s.sort(function(t,r){return r.mappedValue-t.mappedValue}),{ordinalNumbers:MS(s,function(t){return t.ordinalNumber})}},r.prototype._isOrderChangedWithinSameData=function(t,r,i){for(var s=i.scale,u=t.mapDimension(i.dim),c=Number.MAX_VALUE,h=0,f=s.getOrdinalMeta().categories.length;h<f;++h){var p=t.rawIndexOf(u,s.getRawOrdinalNumber(h)),v=p<0?Number.MIN_VALUE:r(t.indexOfRawIndex(p));if(v>c)return!0;c=v}return!1},r.prototype._isOrderDifferentInView=function(t,r){for(var i=r.scale,s=i.getExtent(),u=Math.max(0,s[0]),c=Math.min(s[1],i.getOrdinalMeta().categories.length-1);u<=c;++u)if(t.ordinalNumbers[u]!==i.getRawOrdinalNumber(u))return!0},r.prototype._updateSortWithinSameData=function(t,r,i,s){if(!!this._isOrderChangedWithinSameData(t,r,i)){var u=this._dataSort(t,i,r);this._isOrderDifferentInView(u,i)&&(this._removeOnRenderedListener(s),s.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:u}))}},r.prototype._dispatchInitSort=function(t,r,i){var s=r.baseAxis,u=this._dataSort(t,s,function(i){return t.get(t.mapDimension(r.otherAxis.dim),i)});i.dispatchAction({type:"changeAxisOrder",componentType:s.dim+"Axis",isInitSort:!0,axisId:s.index,sortInfo:u})},r.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},r.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},r.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},r.prototype._clear=function(t){var r=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(r){P5(r,t,Pe(r).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},r.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},r.type="bar",r}(Fy),jO={cartesian2d:function(t,r){var i=r.width<0?-1:1,s=r.height<0?-1:1;i<0&&(r.x+=r.width,r.width=-r.width),s<0&&(r.y+=r.height,r.height=-r.height);var u=t.x+t.width,c=t.y+t.height,h=jL(r.x,t.x),f=jB(r.x+r.width,u),p=jL(r.y,t.y),v=jB(r.y+r.height,c),y=f<h,x=v<p;return r.x=y&&h>u?f:h,r.y=x&&p>c?v:p,r.width=y?0:f-h,r.height=x?0:v-p,i<0&&(r.x+=r.width,r.width=-r.width),s<0&&(r.y+=r.height,r.height=-r.height),y||x},polar:function(t,r){var i=r.r0<=r.r?1:-1;if(i<0){var s=r.r;r.r=r.r0,r.r0=s}var u=jB(r.r,t.r),c=jL(r.r0,t.r0);r.r=u,r.r0=c;var h=u-c<0;if(i<0){var s=r.r;r.r=r.r0,r.r0=s}return h}},jN={cartesian2d:function(t,r,i,s,u,c,h,f,p){var v=new RY({shape:Mg({},s),z2:1});if(v.__dataIndex=i,v.name="item",c){var y=v.shape;y[u?"height":"width"]=0}return v},polar:function(t,r,i,s,u,c,h,f,p){var v,y,x,_=!u&&p?jI:Nc,b=new _({shape:s,z2:1});b.name="item";var w=jj(u);if(b.calculateTextPosition=(v=w,x=(y=y={isRoundCap:_===jI}).isRoundCap,function(t,r,i){var s=r.position;if(!s||s instanceof Array)return If(t,r,i);var u=v(s),c=null!=r.distance?r.distance:5,h=this.shape,f=h.cx,p=h.cy,y=h.r,_=h.r0,b=(y+_)/2,w=h.startAngle,S=h.endAngle,A=(w+S)/2,M=x?Math.abs(y-_)/2:0,C=Math.cos,T=Math.sin,I=f+y*C(w),D=p+y*T(w),R="left",P="top";switch(u){case"startArc":I=f+(_-c)*C(A),D=p+(_-c)*T(A),R="center",P="top";break;case"insideStartArc":I=f+(_+c)*C(A),D=p+(_+c)*T(A),R="center",P="bottom";break;case"startAngle":I=f+b*C(w)+jD(w,c+M,!1),D=p+b*T(w)+jR(w,c+M,!1),R="right",P="middle";break;case"insideStartAngle":I=f+b*C(w)+jD(w,-c+M,!1),D=p+b*T(w)+jR(w,-c+M,!1),R="left",P="middle";break;case"middle":I=f+b*C(A),D=p+b*T(A),R="center",P="middle";break;case"endArc":I=f+(y+c)*C(A),D=p+(y+c)*T(A),R="center",P="bottom";break;case"insideEndArc":I=f+(y-c)*C(A),D=p+(y-c)*T(A),R="center",P="top";break;case"endAngle":I=f+b*C(S)+jD(S,c+M,!0),D=p+b*T(S)+jR(S,c+M,!0),R="left",P="middle";break;case"insideEndAngle":I=f+b*C(S)+jD(S,-c+M,!0),D=p+b*T(S)+jR(S,-c+M,!0),R="right",P="middle";break;default:return If(t,r,i)}return(t=t||{}).x=I,t.y=D,t.align=R,t.verticalAlign=P,t}),c){var S=b.shape,A=u?"r":"endAngle",M={};S[A]=u?s.r0:s.startAngle,M[A]=s[A],(f?P$:P0)(b,{shape:M},c)}return b}};function jF(t,r,i,s,u,c,h,f){var p,v;c?(v={x:s.x,width:s.width},p={y:s.y,height:s.height}):(v={y:s.y,height:s.height},p={x:s.x,width:s.width}),!f&&(h?P$:P0)(i,{shape:p},r,u,null),(h?P$:P0)(i,{shape:v},r?t.baseAxis.model:null,u)}function jU(t,r){for(var i=0;i<r.length;i++)if(!isFinite(t[r[i]]))return!0;return!1}var jz=["x","y","width","height"],jG=["cx","cy","r","startAngle","endAngle"],jH={cartesian2d:function(t){return!jU(t,jz)},polar:function(t){return!jU(t,jG)}},jV={cartesian2d:function(t,r,i){var s=t.getItemLayout(r),u=i?function(t,r){var i=t.get(["itemStyle","borderColor"]);return i&&"none"!==i?Math.min(t.get(["itemStyle","borderWidth"])||0,isNaN(r.width)?Number.MAX_VALUE:Math.abs(r.width),isNaN(r.height)?Number.MAX_VALUE:Math.abs(r.height)):0}(i,s):0,c=s.width>0?1:-1,h=s.height>0?1:-1;return{x:s.x+c*u/2,y:s.y+h*u/2,width:s.width-c*u,height:s.height-h*u}},polar:function(t,r,i){var s=t.getItemLayout(r);return{cx:s.cx,cy:s.cy,r0:s.r0,r:s.r,startAngle:s.startAngle,endAngle:s.endAngle,clockwise:s.clockwise}}};function jj(t){var r;return r=t?"Arc":"Angle",function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+r;default:return t}}}function jW(t,r,i,s,u,c,h,f){var p,v=r.getItemVisual(i,"style");if(f){if(!c.get("roundCap")){var y=t.shape,x=jP(s.getModel("itemStyle"),y,!0);Mg(y,x),t.setShape(y)}}else{var _=s.get(["itemStyle","borderRadius"])||0;t.setShape("r",_)}t.useStyle(v);var b=s.getShallow("cursor");b&&t.attr("cursor",b);var w=f?h?u.r>=u.r0?"endArc":"startArc":u.endAngle>=u.startAngle?"endAngle":"startAngle":h?u.height>=0?"bottom":"top":u.width>=0?"right":"left",S=Le(s);P7(t,S,{labelFetcher:c,labelDataIndex:i,defaultText:V1(c.getData(),i),inheritColor:v.fill,defaultOpacity:v.opacity,defaultOutsidePosition:w});var A=t.getTextContent();if(f&&A){var M=s.get(["label","position"]);t.textConfig.inside="middle"===M||null,!function(t,r,i,s){if(MB(s)){t.setTextConfig({rotation:s});return}if(MD(r)){t.setTextConfig({rotation:0});return}var u,c=t.shape,h=c.clockwise?c.startAngle:c.endAngle,f=c.clockwise?c.endAngle:c.startAngle,p=i(r);switch(p){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=(h+f)/2;break;case"startAngle":case"insideStartAngle":u=h;break;case"endAngle":case"insideEndAngle":u=f;break;default:t.setTextConfig({rotation:0});return}var v=1.5*Math.PI-u;"middle"===p&&v>Math.PI/2&&v<1.5*Math.PI&&(v-=Math.PI),t.setTextConfig({rotation:v})}(t,"outside"===M?w:M,jj(h),s.get(["label","rotate"]))}Lu(A,S,c.getRawValue(i),function(t){return V2(r,t)});var C=s.getModel(["emphasis"]);if(PG(t,C.get("focus"),C.get("blurScope"),C.get("disabled")),PW(t,s),null!=(p=u).startAngle&&null!=p.endAngle&&p.startAngle===p.endAngle)t.style.fill="none",t.style.stroke="none",Mw(t.states,function(t){t.style&&(t.style.fill=t.style.stroke="none")})}var jX=function(){},jY=function(t){function r(r){var i=t.call(this,r)||this;return i.type="largeBar",i}return AK(r,t),r.prototype.getDefaultShape=function(){return new jX},r.prototype.buildPath=function(t,r){for(var i=r.points,s=this.baseDimIdx,u=1-this.baseDimIdx,c=[],h=[],f=this.barWidth,p=0;p<i.length;p+=3)h[s]=f,h[u]=i[p+2],c[s]=i[p+s],c[u]=i[p+u],t.rect(c[0],c[1],h[0],h[1])},r}(RL);function jZ(t,r,i,s){var u=t.getData(),c=u.getLayout("valueAxisHorizontal")?1:0,h=u.getLayout("largeDataIndices"),f=u.getLayout("size"),p=t.getModel("backgroundStyle"),v=u.getLayout("largeBackgroundPoints");if(v){var y=new jY({shape:{points:v},incremental:!!s,silent:!0,z2:0});y.baseDimIdx=c,y.largeDataIndices=h,y.barWidth=f,y.useStyle(p.getItemStyle()),r.add(y),i&&i.push(y)}var x=new jY({shape:{points:u.getLayout("largePoints")},incremental:!!s,ignoreCoarsePointer:!0,z2:1});x.baseDimIdx=c,x.largeDataIndices=h,x.barWidth=f,r.add(x),x.useStyle(u.getVisual("style")),Pe(x).seriesIndex=t.seriesIndex,!t.get("silent")&&(x.on("mousedown",jK),x.on("mousemove",jK)),i&&i.push(x)}var jK=Fw(function(t){var r=function(t,r,i){for(var s=t.baseDimIdx,u=1-s,c=t.shape.points,h=t.largeDataIndices,f=[],p=[],v=t.barWidth,y=0,x=c.length/3;y<x;y++){var _=3*y;if(p[s]=v,p[u]=c[_+2],f[s]=c[_+s],f[u]=c[_+u],p[u]<0&&(f[u]+=p[u],p[u]=-p[u]),r>=f[0]&&r<=f[0]+p[0]&&i>=f[1]&&i<=f[1]+p[1])return h[y]}return -1}(this,t.offsetX,t.offsetY);Pe(this).dataIndex=r>=0?r:null},30,!1);function jJ(t,r,i){if(jd(i,"cartesian2d")){var s=i.getArea();return{x:t?r.x:s.x,y:t?s.y:r.y,width:t?r.width:s.width,height:t?s.height:r.height}}var s=i.getArea();return{cx:s.cx,cy:s.cy,r0:t?s.r0:r.r0,r:t?s.r:r.r,startAngle:t?r.startAngle:0,endAngle:t?r.endAngle:2*Math.PI}}var jQ=2*Math.PI,jq=Math.PI/180;function j$(t,r){return Bc(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function j0(t,r){var i,s,u=j$(t,r),c=t.get("center"),h=t.get("radius");!MD(h)&&(h=[0,h]);var f=IO(u.width,r.getWidth()),p=IO(u.height,r.getHeight()),v=Math.min(f,p),y=IO(h[0],v/2),x=IO(h[1],v/2),_=t.coordinateSystem;if(_){var b=_.dataToPoint(c);i=b[0]||0,s=b[1]||0}else!MD(c)&&(c=[c,c]),i=IO(c[0],f)+u.x,s=IO(c[1],p)+u.y;return{cx:i,cy:s,r0:y,r:x}}function j1(t,r,i){r.eachSeriesByType(t,function(t){var r=t.getData(),s=r.mapDimension("value"),u=j$(t,i),c=j0(t,i),h=c.cx,f=c.cy,p=c.r,v=c.r0,y=-t.get("startAngle")*jq,x=t.get("endAngle"),_=t.get("padAngle")*jq;x="auto"===x?y-jQ:-x*jq;var b=t.get("minAngle")*jq+_,w=0;r.each(s,function(t){!isNaN(t)&&w++});var S=r.getSum(s),A=Math.PI/(S||w)*2,M=t.get("clockwise"),C=t.get("roseType"),T=t.get("stillShowZeroSum"),I=r.getDataExtent(s);I[0]=0;var D=M?1:-1,R=[y,x],P=D*_/2;Rv(R,!M),y=R[0],x=R[1];var L=j2(t);L.startAngle=y,L.endAngle=x,L.clockwise=M;var B=Math.abs(x-y),k=B,O=0,N=y;if(r.setLayout({viewRect:u,r:p}),r.each(s,function(t,i){if(isNaN(t)){r.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:M,cx:h,cy:f,r0:v,r:C?NaN:p});return}(s="area"!==C?0===S&&T?A:t*A:B/w)<b?(s=b,k-=b):O+=t;var s,u=N+D*s,c=0,y=0;_>s?y=c=N+D*s/2:(c=N+P,y=u-P),r.setItemLayout(i,{angle:s,startAngle:c,endAngle:y,clockwise:M,cx:h,cy:f,r0:v,r:C?Ik(t,I,[v,p]):p}),N=u}),k<jQ&&w){if(k<=.001){var F=B/w;r.each(s,function(t,i){if(!isNaN(t)){var s=r.getItemLayout(i);s.angle=F;var u=0,c=0;F<_?c=u=y+D*(i+.5)*F:(u=y+D*i*F+P,c=y+D*(i+1)*F-P),s.startAngle=u,s.endAngle=c}})}else A=k/O,N=y,r.each(s,function(t,i){if(!isNaN(t)){var s=r.getItemLayout(i),u=s.angle===b?b:t*A,c=0,h=0;u<_?h=c=N+D*u/2:(c=N+P,h=N+D*u-P),s.startAngle=c,s.endAngle=h,N+=D*u}})}})}var j2=Dl();function j3(t){return{seriesType:t,reset:function(t,r){var i=r.findComponents({mainType:"legend"});if(!!i&&!!i.length){var s=t.getData();s.filterSelf(function(t){for(var r=s.getName(t),u=0;u<i.length;u++)if(!i[u].isSelected(r))return!1;return!0})}}}}var j5=Math.PI/180;function j4(t,r,i,s,u,c,h,f,p,v){if(!(t.length<2)){for(var y=t.length,x=0;x<y;x++)if("outer"===t[x].position&&"labelLine"===t[x].labelAlignTo){var _=t[x].label.x-v;t[x].linePoints[1][0]+=_,t[x].label.x=v}Hj(t,p,p+h)&&!function(t){for(var c={list:[],maxY:0},h={list:[],maxY:0},f=0;f<t.length;f++){if("none"===t[f].labelAlignTo){var p=t[f],v=p.label.y>i?h:c,y=Math.abs(p.label.y-i);if(y>=v.maxY){var x=p.label.x-r-p.len2*u,_=s+p.len,w=Math.abs(x)<_?Math.sqrt(y*y/(1-x*x/_/_)):_;v.rB=w,v.maxY=y}v.list.push(p)}}b(c),b(h)}(t)}function b(t){for(var c=t.rB,h=c*c,f=0;f<t.list.length;f++){var p=t.list[f],v=Math.abs(p.label.y-i),y=s+p.len,x=r+(Math.sqrt(y*y*(1-Math.abs(v*v/h)))+p.len2)*u,_=x-p.label.x,b=p.targetTextWidth-_*u;j9(p,b,!0),p.label.x=x}}}function j9(t,r,i){if(void 0===i&&(i=!1),null==t.labelStyleWidth){var s=t.label,u=s.style,c=t.rect,h=u.backgroundColor,f=u.padding,p=f?f[1]+f[3]:0,v=u.overflow,y=c.width+(h?0:p);if(r<y||i){var x=c.height;if(v&&v.match("break")){s.setStyle("backgroundColor",null),s.setStyle("width",r-p);var _=s.getBoundingRect();s.setStyle("width",Math.ceil(_.width)),s.setStyle("backgroundColor",h)}else{var b=r-p,w=r<y?b:i?b>t.unconstrainedWidth?null:b:null;s.setStyle("width",w)}var S=s.getBoundingRect();c.width=S.width;var A=(s.style.margin||0)+2.1;c.height=S.height+A,c.y-=(c.height-x)/2}}}function j8(t){return"center"===t.position}var j6=function(t){function r(r,i,s){var u=t.call(this)||this;u.z2=2;var c=new R7;return u.setTextContent(c),u.updateData(r,i,s,!0),u}return AK(r,t),r.prototype.updateData=function(t,r,i,s){var u=t.hostModel,c=t.getItemModel(r),h=c.getModel("emphasis"),f=t.getItemLayout(r),p=Mg(jP(c.getModel("itemStyle"),f,!0),f);if(isNaN(p.startAngle)){this.setShape(p);return}if(s){this.setShape(p);var v=u.getShallow("animationType");u.ecModel.ssr?(P0(this,{scaleX:0,scaleY:0},u,{dataIndex:r,isFrom:!0}),this.originX=p.cx,this.originY=p.cy):"scale"===v?(this.shape.r=f.r0,P0(this,{shape:{r:f.r}},u,r)):null!=i?(this.setShape({startAngle:i,endAngle:i}),P0(this,{shape:{startAngle:f.startAngle,endAngle:f.endAngle}},u,r)):(this.shape.endAngle=f.startAngle,P$(this,{shape:{endAngle:f.endAngle}},u,r))}else P4(this),P$(this,{shape:p},u,r);this.useStyle(t.getItemVisual(r,"style")),PW(this,c);var y=(f.startAngle+f.endAngle)/2,x=u.get("selectedOffset"),_=Math.cos(y)*x,b=Math.sin(y)*x,w=c.getShallow("cursor");w&&this.attr("cursor",w),this._updateLabel(u,t,r),this.ensureState("emphasis").shape=Mg({r:f.r+(h.get("scale")&&h.get("scaleSize")||0)},jP(h.getModel("itemStyle"),f)),Mg(this.ensureState("select"),{x:_,y:b,shape:jP(c.getModel(["select","itemStyle"]),f)}),Mg(this.ensureState("blur"),{shape:jP(c.getModel(["blur","itemStyle"]),f)});var S=this.getTextGuideLine(),A=this.getTextContent();S&&Mg(S.ensureState("select"),{x:_,y:b}),Mg(A.ensureState("select"),{x:_,y:b}),PG(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},r.prototype._updateLabel=function(t,r,i){var s=r.getItemModel(i),u=s.getModel("labelLine"),c=r.getItemVisual(i,"style"),h=c&&c.fill,f=c&&c.opacity;P7(this,Le(s),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:h,defaultOpacity:f,defaultText:t.getFormattedLabel(i,"normal")||r.getName(i)});var p=this.getTextContent();this.setTextConfig({position:null,rotation:null}),p.attr({z2:10});var v=t.get(["label","position"]);if("outside"!==v&&"outer"!==v)this.removeTextGuideLine();else{var y=this.getTextGuideLine();!y&&(y=new N_,this.setTextGuideLine(y)),Hz(this,HG(s),{stroke:h,opacity:MW(u.get(["lineStyle","opacity"]),f,1)})}},r}(Nc),j7=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return AK(r,t),r.prototype.render=function(t,r,i,s){var u,c=t.getData(),h=this._data,f=this.group;if(!h&&c.count()>0){for(var p=c.getItemLayout(0),v=1;isNaN(p&&p.startAngle)&&v<c.count();++v)p=c.getItemLayout(v);p&&(u=p.startAngle)}if(this._emptyCircleSector&&f.remove(this._emptyCircleSector),0===c.count()&&t.get("showEmptyCircle")){var y=j2(t),x=new Nc({shape:Mg(j0(t,i),y)});x.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=x,f.add(x)}c.diff(h).add(function(t){var r=new j6(c,t,u);c.setItemGraphicEl(t,r),f.add(r)}).update(function(t,r){var i=h.getItemGraphicEl(r);i.updateData(c,t,u),i.off("click"),f.add(i),c.setItemGraphicEl(t,i)}).remove(function(r){P5(h.getItemGraphicEl(r),t,r)}).execute(),!function(t){var r,i,s=t.getData(),u=[],c=!1,h=(t.get("minShowLabelAngle")||0)*j5,f=s.getLayout("viewRect"),p=s.getLayout("r"),v=f.width,y=f.x,x=f.y,_=f.height;function b(t){t.ignore=!0}s.each(function(t){var f,x,_,w,S=s.getItemGraphicEl(t),A=S.shape,M=S.getTextContent(),C=S.getTextGuideLine(),T=s.getItemModel(t),I=T.getModel("label"),D=I.get("position")||T.get(["emphasis","label","position"]),R=I.get("distanceToLabelLine"),P=I.get("alignTo"),L=IO(I.get("edgeDistance"),v),B=I.get("bleedMargin"),k=T.getModel("labelLine"),O=k.get("length");O=IO(O,v);var N=k.get("length2");if(N=IO(N,v),Math.abs(A.endAngle-A.startAngle)<h){Mw(M.states,b),M.ignore=!0,C&&(Mw(C.states,b),C.ignore=!0);return}if(!!function(t){if(!t.ignore)return!0;for(var r in t.states)if(!1===t.states[r].ignore)return!0;return!1}(M)){var F=(A.startAngle+A.endAngle)/2,U=Math.cos(F),z=Math.sin(F);r=A.cx,i=A.cy;var G="inside"===D||"inner"===D;if("center"===D)f=A.cx,x=A.cy,w="center";else{var H=(G?(A.r+A.r0)/2*U:A.r*U)+r,V=(G?(A.r+A.r0)/2*z:A.r*z)+i;if(f=H+3*U,x=V+3*z,!G){var j=H+U*(O+p-A.r),W=V+z*(O+p-A.r),X=j+(U<0?-1:1)*N;f="edge"===P?U<0?y+L:y+v-L:X+(U<0?-R:R),x=W,_=[[H,V],[j,W],[X,W]]}w=G?"center":"edge"===P?U>0?"right":"left":U>0?"left":"right"}var Y=Math.PI,Z=0,K=I.get("rotate");if(MB(K))Z=Y/180*K;else if("center"===D)Z=0;else if("radial"===K||!0===K)Z=U<0?-F+Y:-F;else if("tangential"===K&&"outside"!==D&&"outer"!==D){var J=Math.atan2(U,z);J<0&&(J=2*Y+J),z>0&&(J=Y+J),Z=J-Y}if(c=!!Z,M.x=f,M.y=x,M.rotation=Z,M.setStyle({verticalAlign:"middle"}),G){M.setStyle({align:w});var Q=M.states.select;Q&&(Q.x+=M.x,Q.y+=M.y)}else{var q=M.getBoundingRect().clone();q.applyTransform(M.getComputedTransform());var $=(M.style.margin||0)+2.1;q.y-=$/2,q.height+=$,u.push({label:M,labelLine:C,position:D,len:O,len2:N,minTurnAngle:k.get("minTurnAngle"),maxSurfaceAngle:k.get("maxSurfaceAngle"),surfaceNormal:new C4(U,z),linePoints:_,textAlign:w,labelDistance:R,labelAlignTo:P,edgeDistance:L,bleedMargin:B,rect:q,unconstrainedWidth:q.width,labelStyleWidth:M.style.width})}S.setTextConfig({inside:G})}}),!c&&t.get("avoidLabelOverlap")&&!function(t,r,i,s,u,c,h,f){for(var p=[],v=[],y=Number.MAX_VALUE,x=-Number.MAX_VALUE,_=0;_<t.length;_++){var b=t[_].label;if(!j8(t[_]))b.x<r?(y=Math.min(y,b.x),p.push(t[_])):(x=Math.max(x,b.x),v.push(t[_]))}for(var _=0;_<t.length;_++){var w=t[_];if(!j8(w)&&w.linePoints){if(null!=w.labelStyleWidth)continue;var b=w.label,S=w.linePoints,A=void 0;A="edge"===w.labelAlignTo?b.x<r?S[2][0]-w.labelDistance-h-w.edgeDistance:h+u-w.edgeDistance-S[2][0]-w.labelDistance:"labelLine"===w.labelAlignTo?b.x<r?y-h-w.bleedMargin:h+u-x-w.bleedMargin:b.x<r?b.x-h-w.bleedMargin:h+u-b.x-w.bleedMargin,w.targetTextWidth=A,j9(w,A)}}j4(v,r,i,s,1,u,c,h,f,x),j4(p,r,i,s,-1,u,c,h,f,y);for(var _=0;_<t.length;_++){var w=t[_];if(!j8(w)&&w.linePoints){var b=w.label,S=w.linePoints,M="edge"===w.labelAlignTo,C=b.style.padding,T=C?C[1]+C[3]:0,I=b.style.backgroundColor?0:T,D=w.rect.width+I,R=S[1][0]-S[2][0];M?b.x<r?S[2][0]=h+w.edgeDistance+D+w.labelDistance:S[2][0]=h+u-w.edgeDistance-D-w.labelDistance:(b.x<r?S[2][0]=b.x+w.labelDistance:S[2][0]=b.x-w.labelDistance,S[1][0]=S[2][0]+R),S[1][1]=S[2][1]=b.y}}}(u,r,i,p,v,_,y,x);for(var w=0;w<u.length;w++){var S=u[w],A=S.label,M=S.labelLine,C=isNaN(A.x)||isNaN(A.y);if(A){A.setStyle({align:S.textAlign}),C&&(Mw(A.states,b),A.ignore=!0);var T=A.states.select;T&&(T.x+=A.x,T.y+=A.y)}if(M){var I=S.linePoints;C||!I?(Mw(M.states,b),M.ignore=!0):(HN(I,S.minTurnAngle),!function(t,r,i){if(!(i<=180&&i>0))return;i=i/180*Math.PI,HI.fromArray(t[0]),HD.fromArray(t[1]),HR.fromArray(t[2]),C4.sub(HP,HD,HI),C4.sub(HL,HR,HD);var s=HP.len(),u=HL.len();if(!(s<.001)&&!(u<.001)){if(HP.scale(1/s),HL.scale(1/u),HP.dot(r)<Math.cos(i)){var c=HC(HD.x,HD.y,HR.x,HR.y,HI.x,HI.y,Hk,!1);HO.fromArray(Hk);var h=Math.PI/2,f=h+Math.acos(HL.dot(r))-i;if(f>=h)C4.copy(HO,HR);else{HO.scaleAndAdd(HL,c/Math.tan(Math.PI/2-f));var p=HR.x!==HD.x?(HO.x-HD.x)/(HR.x-HD.x):(HO.y-HD.y)/(HR.y-HD.y);if(isNaN(p))return;p<0?C4.copy(HO,HD):p>1&&C4.copy(HO,HR)}HO.toArray(t[1])}}}(I,S.surfaceNormal,S.maxSurfaceAngle),M.setShape({points:I}),A.__hostTarget.textGuideLineConfig={anchor:new C4(I[0][0],I[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=c)},r.prototype.dispose=function(){},r.prototype.containPoint=function(t,r){var i=r.getData().getItemLayout(0);if(i){var s=t[0]-i.cx,u=t[1]-i.cy,c=Math.sqrt(s*s+u*u);return c<=i.r&&c>=i.r0}},r.type="pie",r}(Fy);function We(t,r,i){r=MD(r)&&{coordDimensions:r}||Mg({encodeDefine:t.getEncode()},r);var s=t.getSource(),u=new zq(z0(s,r).dimensions,t);return u.initData(s,i),u}var Wt=function(){function t(t,r){this._getDataWithEncodedVisual=t,this._getRawData=r}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,r){return this._getDataWithEncodedVisual().getItemVisual(t,r)},t}(),Wn=Dl(),Wr=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wt(ME(this.getData,this),ME(this.getRawData,this)),this._defaultLabelLine(r)},r.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},r.prototype.getInitialData=function(){return We(this,{coordDimensions:["value"],encodeDefaulter:MI(BL,this)})},r.prototype.getDataParams=function(r){var i=this.getData(),s=Wn(i),u=s.seats;if(!u){var c=[];i.each(i.mapDimension("value"),function(t){c.push(t)}),u=s.seats=IV(c,i.hostModel.get("percentPrecision"))}var h=t.prototype.getDataParams.call(this,r);return h.percent=u[r]||0,h.$vars.push("percent"),h},r.prototype._defaultLabelLine=function(t){I6(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},r.type="series.pie",r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},r}(OR),Wi=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.hasSymbolVisual=!0,i}return AK(r,t),r.prototype.getInitialData=function(t,r){return z8(null,this,{useEncodeDefaulter:!0})},r.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},r.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},r.prototype.brushSelector=function(t,r,i){return i.point(r.getItemLayout(t))},r.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},r.type="series.scatter",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},r}(OR),Wa=function(){},Wo=function(t){function r(r){var i=t.call(this,r)||this;return i._off=0,i.hoverDataIdx=-1,i}return AK(r,t),r.prototype.getDefaultShape=function(){return new Wa},r.prototype.reset=function(){this.notClear=!1,this._off=0},r.prototype.buildPath=function(t,r){var i,s=r.points,u=r.size,c=this.symbolProxy,h=c.shape,f=t.getContext?t.getContext():t,p=f&&u[0]<4,v=this.softClipShape;if(p){this._ctx=f;return}for(this._ctx=null,i=this._off;i<s.length;){var y=s[i++],x=s[i++];if(!(isNaN(y)||isNaN(x))&&(!v||!!v.contain(y,x)))h.x=y-u[0]/2,h.y=x-u[1]/2,h.width=u[0],h.height=u[1],c.buildPath(t,h,!0)}this.incremental&&(this._off=i,this.notClear=!0)},r.prototype.afterBrush=function(){var t,r=this.shape,i=r.points,s=r.size,u=this._ctx,c=this.softClipShape;if(!!u){for(t=this._off;t<i.length;){var h=i[t++],f=i[t++];if(!(isNaN(h)||isNaN(f))&&(!c||!!c.contain(h,f)))u.fillRect(h-s[0]/2,f-s[1]/2,s[0],s[1])}this.incremental&&(this._off=t,this.notClear=!0)}},r.prototype.findDataIndex=function(t,r){for(var i=this.shape,s=i.points,u=i.size,c=Math.max(u[0],4),h=Math.max(u[1],4),f=s.length/2-1;f>=0;f--){var p=2*f,v=s[p]-c/2,y=s[p+1]-h/2;if(t>=v&&r>=y&&t<=v+c&&r<=y+h)return f}return -1},r.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),s=this.getBoundingRect();return(t=i[0],r=i[1],s.contain(t,r))?(this.hoverDataIdx=this.findDataIndex(t,r))>=0:(this.hoverDataIdx=-1,!1)},r.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape,i=r.points,s=r.size,u=s[0],c=s[1],h=1/0,f=1/0,p=-1/0,v=-1/0,y=0;y<i.length;){var x=i[y++],_=i[y++];h=Math.min(x,h),p=Math.max(x,p),f=Math.min(_,f),v=Math.max(_,v)}t=this._rect=new Ti(h-u/2,f-c/2,p-h+u,v-f+c)}return t},r}(RL),Ws=function(){function t(){this.group=new IS}return t.prototype.updateData=function(t,r){this._clear();var i=this._create();i.setShape({points:t.getLayout("points")}),this._setCommon(i,t,r)},t.prototype.updateLayout=function(t){var r=t.getLayout("points");this.group.eachChild(function(t){if(null!=t.startIndex){var i=(t.endIndex-t.startIndex)*2,s=8*t.startIndex;r=new Float32Array(r.buffer,s,i)}t.setShape("points",r),t.reset()})},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,r,i){var s=this._newAdded[0],u=r.getLayout("points"),c=s&&s.shape.points;if(c&&c.length<2e4){var h=c.length,f=new Float32Array(h+u.length);f.set(c),f.set(u,h),s.endIndex=t.end,s.setShape({points:f})}else{this._newAdded=[];var p=this._create();p.startIndex=t.start,p.endIndex=t.end,p.incremental=!0,p.setShape({points:u}),this._setCommon(p,r,i)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new Wo({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,r,i){var s=r.hostModel;i=i||{};var u=r.getVisual("symbolSize");t.setShape("size",u instanceof Array?u:[u,u]),t.softClipShape=i.clipShape||null,t.symbolProxy=Us(r.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var c=t.shape.size[0]<4;t.useStyle(s.getModel("itemStyle").getItemStyle(c?["color","shadowBlur","shadowColor"]:["color"]));var h=r.getVisual("style"),f=h&&h.fill;f&&t.setColor(f);var p=Pe(t);p.seriesIndex=s.seriesIndex,t.on("mousemove",function(r){p.dataIndex=null;var i=t.hoverDataIdx;i>=0&&(p.dataIndex=i+(t.startIndex||0))})},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),Wl=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){var s=t.getData();this._updateSymbolDraw(s,t).updateData(s,{clipShape:this._getClipShape(t)}),this._finished=!0},r.prototype.incrementalPrepareRender=function(t,r,i){var s=t.getData();this._updateSymbolDraw(s,t).incrementalPrepareUpdate(s),this._finished=!1},r.prototype.incrementalRender=function(t,r,i){this._symbolDraw.incrementalUpdate(t,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=t.end===r.getData().count()},r.prototype.updateTransform=function(t,r,i){var s=t.getData();if(this.group.dirty(),!this._finished||s.count()>1e4)return{update:!0};var u=jw("").reset(t,r,i);u.progress&&u.progress({start:0,end:s.count(),count:s.count()},s),this._symbolDraw.updateLayout(s)},r.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},r.prototype._getClipShape=function(t){if(!!t.get("clip",!0)){var r=t.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},r.prototype._updateSymbolDraw=function(t,r){var i=this._symbolDraw,s=r.pipelineContext.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new Ws:new V6,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},r.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},r.prototype.dispose=function(){},r.type="scatter",r}(Fy),Wu=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.type="grid",r.dependencies=["xAxis","yAxis"],r.layoutMode="box",r.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},r}(By),Wc=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Dd).models[0]},r.type="cartesian2dAxis",r}(By);M_(Wc,GQ);var Wh={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Wd=Mf({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Wh),Wf=Mf({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Wh),Wp=Mf({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Wf),Wg=Mm({logBase:10},Wf);let Wm={category:Wd,value:Wf,time:Wp,log:Wg};var Wv={value:1,category:1,time:1,log:1};function Wy(t,r,i,s){Mw(Wv,function(u,c){var h=Mf(Mf({},Wm[c],!0),s,!0),f=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r+"Axis."+c,i}return AK(i,t),i.prototype.mergeDefaultAndTheme=function(t,r){var i=Bd(this),s=i?Bp(t):{};Mf(t,r.getTheme().get(c+"Axis")),Mf(t,this.getDefaultOption()),t.type=Wx(t),i&&Bf(t,s,i)},i.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Ge.createByAxisModel(this))},i.prototype.getCategories=function(t){var r=this.option;if("category"===r.type)return t?r.data:this.__ordinalMeta.categories},i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},i.type=r+"Axis."+c,i.defaultOption=h,i}(i);t.registerComponentModel(f)}),t.registerSubTypeDefaulter(r+"Axis",Wx)}function Wx(t){return t.type||(t.data?"category":"value")}var W_=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return MS(this._dimList,function(t){return this._axes[t]},this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),MM(this.getAxes(),function(r){return r.scale.type===t})},t.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},t}(),Wb=["x","y"];function Ww(t){return"interval"===t.type||"time"===t.type}var WS=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=Wb,r}return AK(r,t),r.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!Ww(t)||!Ww(r))return;var i=t.getExtent(),s=r.getExtent(),u=this.dataToPoint([i[0],s[0]]),c=this.dataToPoint([i[1],s[1]]),h=i[1]-i[0],f=s[1]-s[0];if(!!h&&!!f){var p=(c[0]-u[0])/h,v=(c[1]-u[1])/f,y=u[0]-i[0]*p,x=u[1]-s[0]*v,_=this._transform=[p,0,0,v,y,x];this._invTransform=C3([],_)}},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},r.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},r.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},r.prototype.containZone=function(t,r){var i=this.dataToPoint(t),s=this.dataToPoint(r),u=this.getArea(),c=new Ti(i[0],i[1],s[0]-i[0],s[1]-i[1]);return u.intersect(c)},r.prototype.dataToPoint=function(t,r,i){i=i||[];var s=t[0],u=t[1];if(this._transform&&null!=s&&isFinite(s)&&null!=u&&isFinite(u))return Cb(i,t,this._transform);var c=this.getAxis("x"),h=this.getAxis("y");return i[0]=c.toGlobalCoord(c.dataToCoord(s,r)),i[1]=h.toGlobalCoord(h.dataToCoord(u,r)),i},r.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,s=this.getAxis("y").scale,u=i.getExtent(),c=s.getExtent(),h=i.parse(t[0]),f=s.parse(t[1]);return(r=r||[])[0]=Math.min(Math.max(Math.min(u[0],u[1]),h),Math.max(u[0],u[1])),r[1]=Math.min(Math.max(Math.min(c[0],c[1]),f),Math.max(c[0],c[1])),r},r.prototype.pointToData=function(t,r){var i=[];if(this._invTransform)return Cb(i,t,this._invTransform);var s=this.getAxis("x"),u=this.getAxis("y");return i[0]=s.coordToData(s.toLocalCoord(t[0]),r),i[1]=u.coordToData(u.toLocalCoord(t[1]),r),i},r.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},r.prototype.getArea=function(t){t=t||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),s=Math.min(r[0],r[1])-t,u=Math.min(i[0],i[1])-t,c=Math.max(r[0],r[1])-s+t,h=Math.max(i[0],i[1])-u+t;return new Ti(s,u,c,h)},r}(W_),WA=function(t){function r(r,i,s,u,c){var h=t.call(this,r,i,s)||this;return h.index=0,h.type=u||"value",h.position=c||"bottom",h}return AK(r,t),r.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},r.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},r.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),r)},r.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},r}(Hy);function WM(t,r,i){i=i||{};var s=t.coordinateSystem,u=r.axis,c={},h=u.getAxesOnZeroOf()[0],f=u.position,p=h?"onZero":f,v=u.dim,y=s.getRect(),x=[y.x,y.x+y.width,y.y,y.y+y.height],_={left:0,right:1,top:0,bottom:1,onZero:2},b=r.get("offset")||0,w="x"===v?[x[2]-b,x[3]+b]:[x[0]-b,x[1]+b];if(h){var S=h.toGlobalCoord(h.dataToCoord(0));w[_.onZero]=Math.max(Math.min(S,w[1]),w[0])}c.position=["y"===v?w[_[p]]:x[0],"x"===v?w[_[p]]:x[3]],c.rotation=Math.PI/2*("x"===v?0:1);c.labelDirection=c.tickDirection=c.nameDirection=({top:-1,bottom:1,left:-1,right:1})[f],c.labelOffset=h?w[_[f]]-w[_.onZero]:0,r.get(["axisTick","inside"])&&(c.tickDirection=-c.tickDirection),MV(i.labelInside,r.get(["axisLabel","inside"]))&&(c.labelDirection=-c.labelDirection);var A=r.get(["axisLabel","rotate"]);return c.labelRotate="top"===p?-A:A,c.z2=1,c}function WC(t){return"cartesian2d"===t.get("coordinateSystem")}function WT(t){var r={xAxisModel:null,yAxisModel:null};return Mw(r,function(i,s){var u=s.replace(/Model$/,""),c=t.getReferringComponents(u,Dd).models[0];r[s]=c}),r}var WE=Math.log;function WI(t,r,i){var s=Gh.prototype,u=s.getTicks.call(i),c=s.getTicks.call(i,!0),h=u.length-1,f=s.getInterval.call(i),p=GV(t,r),v=p.extent,y=p.fixMin,x=p.fixMax;if("log"===t.type){var _=WE(t.base);v=[WE(v[0])/_,WE(v[1])/_]}t.setExtent(v[0],v[1]),t.calcNiceExtent({splitNumber:h,fixMin:y,fixMax:x});var b=s.getExtent.call(t);y&&(v[0]=b[0]),x&&(v[1]=b[1]);var w=s.getInterval.call(t),S=v[0],A=v[1];if(y&&x)w=(A-S)/h;else if(y)for(A=v[0]+w*h;A<v[1]&&isFinite(A)&&isFinite(v[1]);)w=Gr(w),A=v[0]+w*h;else if(x)for(S=v[1]-w*h;S>v[0]&&isFinite(S)&&isFinite(v[0]);)w=Gr(w),S=v[1]-w*h;else{t.getTicks().length-1>h&&(w=Gr(w));var M=w*h;(S=IN((A=Math.ceil(v[1]/w)*w)-M))<0&&v[0]>=0?(S=0,A=IN(M)):A>0&&v[1]<=0&&(A=0,S=-IN(M))}var C=(u[0].value-c[0].value)/f,T=(u[h].value-c[h].value)/f;s.setExtent.call(t,S+w*C,A+w*T),s.setInterval.call(t,w),(C||T)&&s.setNiceExtent.call(t,S+w,A-w)}var WD=function(){function t(t,r,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Wb,this._initCartesian(t,r,i),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,r){var i=this._axesMap;function s(t){var r,i=MT(t),s=i.length;if(!!s){for(var u=[],c=s-1;c>=0;c--){var h=t[+i[c]],f=h.model,p=h.scale;Gn(p)&&f.get("alignTicks")&&null==f.get("interval")?u.push(h):(Gj(p,f),Gn(p)&&(r=h))}u.length&&(!r&&Gj((r=u.pop()).scale,r.model),Mw(u,function(t){WI(t.scale,t.model,r.scale)}))}}this._updateScale(t,this.model),s(i.x),s(i.y);var u={};Mw(i.x,function(t){WP(i,"y",t,u)}),Mw(i.y,function(t){WP(i,"x",t,u)}),this.resize(this.model,r)},t.prototype.resize=function(t,r,i){var s=t.getBoxLayoutParams(),u=!i&&t.get("containLabel"),c=Bc(s,{width:r.getWidth(),height:r.getHeight()});this._rect=c;var h=this._axesList;function f(){Mw(h,function(t){var r=t.isHorizontal(),i=r?[0,c.width]:[0,c.height],s=t.inverse?1:0;t.setExtent(i[s],i[1-s]),function(t,r){var i=t.getExtent(),s=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+r}:function(t){return s-t+r},t.toLocalCoord="x"===t.dim?function(t){return t-r}:function(t){return s-t+r}}(t,r?c.x:c.y)})}f(),u&&(Mw(h,function(t){if(!t.model.get(["axisLabel","inside"])){var r=function(t){var r,i,s,u=t.model,c=t.scale;if(!(!u.get(["axisLabel","show"])||c.isBlank())){var h=c.getExtent();i=c instanceof Gu?c.count():(r=c.getTicks()).length;var f=t.getLabelModel(),p=GX(t),v=1;i>40&&(v=Math.ceil(i/40));for(var y=0;y<i;y+=v){var x=p(r?r[y]:{value:h[0]+y},y),_=function(t,r){var i=r*Math.PI/180,s=t.width,u=t.height,c=s*Math.abs(Math.cos(i))+Math.abs(u*Math.sin(i)),h=s*Math.abs(Math.sin(i))+Math.abs(u*Math.cos(i));return new Ti(t.x,t.y,c,h)}(f.getTextRect(x),f.get("rotate")||0);s?s.union(_):s=_}return s}}(t);if(r){var i=t.isHorizontal()?"height":"width",s=t.model.get(["axisLabel","margin"]);c[i]-=r[i]+s,"top"===t.position?c.y+=r.height+s:"left"===t.position&&(c.x+=r.width+s)}}}),f()),Mw(this._coordsList,function(t){t.calcAffineTransform()})},t.prototype.getAxis=function(t,r){var i=this._axesMap[t];if(null!=i)return i[r||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,r){if(null!=t&&null!=r){var i="x"+t+"y"+r;return this._coordsMap[i]}Mk(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var s=0,u=this._coordsList;s<u.length;s++)if(u[s].getAxis("x").index===t||u[s].getAxis("y").index===r)return u[s]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,r,i){var s=this._findConvertTarget(r);return s.cartesian?s.cartesian.dataToPoint(i):s.axis?s.axis.toGlobalCoord(s.axis.dataToCoord(i)):null},t.prototype.convertFromPixel=function(t,r,i){var s=this._findConvertTarget(r);return s.cartesian?s.cartesian.pointToData(i):s.axis?s.axis.coordToData(s.axis.toLocalCoord(i)):null},t.prototype._findConvertTarget=function(t){var r,i,s=t.seriesModel,u=t.xAxisModel||s&&s.getReferringComponents("xAxis",Dd).models[0],c=t.yAxisModel||s&&s.getReferringComponents("yAxis",Dd).models[0],h=t.gridModel,f=this._coordsList;return s?0>My(f,r=s.coordinateSystem)&&(r=null):u&&c?r=this.getCartesian(u.componentIndex,c.componentIndex):u?i=this.getAxis("x",u.componentIndex):c?i=this.getAxis("y",c.componentIndex):h&&h.coordinateSystem===this&&(r=this._coordsList[0]),{cartesian:r,axis:i}},t.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},t.prototype._initCartesian=function(t,r,i){var s=this,u=this,c={left:!1,right:!1,top:!1,bottom:!1},h={x:{},y:{}},f={x:0,y:0};if(r.eachComponent("xAxis",p("x"),this),r.eachComponent("yAxis",p("y"),this),!f.x||!f.y){this._axesMap={},this._axesList=[];return}function p(r){return function(i,s){if(!!WR(i,t)){var p=i.get("position");"x"===r?"top"!==p&&"bottom"!==p&&(p=c.bottom?"top":"bottom"):"left"!==p&&"right"!==p&&(p=c.left?"right":"left"),c[p]=!0;var v=new WA(r,GW(i),[0,0],i.get("type"),p),y="category"===v.type;v.onBand=y&&i.get("boundaryGap"),v.inverse=i.get("inverse"),i.axis=v,v.model=i,v.grid=u,v.index=s,u._axesList.push(v),h[r][s]=v,f[r]++}}}this._axesMap=h,Mw(h.x,function(r,i){Mw(h.y,function(u,c){var h="x"+i+"y"+c,f=new WS(h);f.master=s,f.model=t,s._coordsMap[h]=f,s._coordsList.push(f),f.addAxis(r),f.addAxis(u)})})},t.prototype._updateScale=function(t,r){function i(t,r){Mw(GJ(t,r.dim),function(i){r.scale.unionExtentFromData(t,i)})}Mw(this._axesList,function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var r=t.model.get("categorySortInfo");t.scale.setSortInfo(r)}}),t.eachSeries(function(t){if(WC(t)){var s=WT(t),u=s.xAxisModel,c=s.yAxisModel;if(!!WR(u,r)&&!!WR(c,r)){var h=this.getCartesian(u.componentIndex,c.componentIndex),f=t.getData(),p=h.getAxis("x"),v=h.getAxis("y");i(f,p),i(f,v)}}},this)},t.prototype.getTooltipAxes=function(t){var r=[],i=[];return Mw(this.getCartesians(),function(s){var u=null!=t&&"auto"!==t?s.getAxis(t):s.getBaseAxis(),c=s.getOtherAxis(u);0>My(r,u)&&r.push(u),0>My(i,c)&&i.push(c)}),{baseAxes:r,otherAxes:i}},t.create=function(r,i){var s=[];return r.eachComponent("grid",function(u,c){var h=new t(u,r,i);h.name="grid_"+c,h.resize(u,i,!0),u.coordinateSystem=h,s.push(h)}),r.eachSeries(function(t){if(!!WC(t)){var r=WT(t),i=r.xAxisModel,s=r.yAxisModel,u=i.getCoordSysModel(),c=u.coordinateSystem;t.coordinateSystem=c.getCartesian(i.componentIndex,s.componentIndex)}}),s},t.dimensions=Wb,t}();function WR(t,r){return t.getCoordSysModel()===r}function WP(t,r,i,s){i.getAxesOnZeroOf=function(){return u?[u]:[]};var u,c=t[r],h=i.model,f=h.get(["axisLine","onZero"]),p=h.get(["axisLine","onZeroAxisIndex"]);if(!!f){if(null!=p)WL(c[p])&&(u=c[p]);else for(var v in c)if(c.hasOwnProperty(v)&&WL(c[v])&&!s[y(c[v])]){u=c[v];break}u&&(s[y(u)]=!0)}function y(t){return t.dim+"_"+t.index}}function WL(t){var r,i,s;return t&&"category"!==t.type&&"time"!==t.type&&(i=(r=t.scale.getExtent())[0],s=r[1],!(i>0&&s>0||i<0&&s<0))}var WB=Math.PI,Wk=function(){function t(t,r){this.group=new IS,this.opt=r,this.axisModel=t,Mm(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new IS({x:r.position[0],y:r.position[1],rotation:r.rotation});i.updateTransform(),this._transformGroup=i}return t.prototype.hasBuilder=function(t){return!!WO[t]},t.prototype.add=function(t){WO[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,r,i){var s,u,c=IW(r-t);return IX(c)?(u=i>0?"top":"bottom",s="center"):IX(c-WB)?(u=i>0?"bottom":"top",s="center"):(u="middle",s=c>0&&c<WB?i>0?"right":"left":i>0?"left":"right"),{rotation:c,textAlign:s,textVerticalAlign:u}},t.makeAxisEventDataBase=function(t){var r={componentType:t.mainType,componentIndex:t.componentIndex};return r[t.mainType+"Index"]=t.componentIndex,r},t.isLabelSilent=function(t){var r=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||r&&r.show)},t}(),WO={axisLine:function(t,r,i,s){var u=r.get(["axisLine","show"]);if("auto"===u&&t.handleAutoShown&&(u=t.handleAutoShown("axisLine")),!!u){var c=r.axis.getExtent(),h=s.transform,f=[c[0],0],p=[c[1],0],v=f[0]>p[0];h&&(Cb(f,f,h),Cb(p,p,h));var y=Mg({lineCap:"round"},r.getModel(["axisLine","lineStyle"]).getLineStyle()),x=new NA({shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:y,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});N3(x.shape,x.style.lineWidth),x.anid="line",i.add(x);var _=r.get(["axisLine","symbol"]);if(null!=_){var b=r.get(["axisLine","symbolSize"]);MP(_)&&(_=[_,_]),(MP(b)||MB(b))&&(b=[b,b]);var w=Uu(r.get(["axisLine","symbolOffset"])||0,b),S=b[0],A=b[1];Mw([{rotate:t.rotation+Math.PI/2,offset:w[0],r:0},{rotate:t.rotation-Math.PI/2,offset:w[1],r:Math.sqrt((f[0]-p[0])*(f[0]-p[0])+(f[1]-p[1])*(f[1]-p[1]))}],function(r,s){if("none"!==_[s]&&null!=_[s]){var u=Us(_[s],-S/2,-A/2,S,A,y.stroke,!0),c=r.r+r.offset,h=v?p:f;u.attr({rotation:r.rotate,x:h[0]+c*Math.cos(t.rotation),y:h[1]-c*Math.sin(t.rotation),silent:!0,z2:11}),i.add(u)}})}}},axisTickLabel:function(t,r,i,s){var u=function(t,r,i,s){var u=i.axis,c=i.getModel("axisTick"),h=c.get("show");if("auto"===h&&s.handleAutoShown&&(h=s.handleAutoShown("axisTick")),!(!h||u.scale.isBlank())){for(var f=c.getModel("lineStyle"),p=s.tickDirection*c.get("length"),v=Wz(u.getTicksCoords(),r.transform,p,Mm(f.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),y=0;y<v.length;y++)t.add(v[y]);return v}}(i,s,r,t),c=function(t,r,i,s){var u=i.axis;if(!(!MV(s.axisLabelShow,i.get(["axisLabel","show"]))||u.scale.isBlank())){var c=i.getModel("axisLabel"),h=c.get("margin"),f=u.getViewLabels(),p=(MV(s.labelRotate,c.get("rotate"))||0)*WB/180,v=Wk.innerTextLayout(s.rotation,p,s.labelDirection),y=i.getCategories&&i.getCategories(!0),x=[],_=Wk.isLabelSilent(i),b=i.get("triggerEvent");return Mw(f,function(p,w){var S="ordinal"===u.scale.type?u.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,A=p.formattedLabel,M=p.rawLabel,C=c;if(y&&y[S]){var T=y[S];Mk(T)&&T.textStyle&&(C=new Lw(T.textStyle,c,i.ecModel))}var I=C.getTextColor()||i.get(["axisLine","lineStyle","color"]),D=u.dataToCoord(S),R=C.getShallow("align",!0)||v.textAlign,P=Mj(C.getShallow("alignMinLabel",!0),R),L=Mj(C.getShallow("alignMaxLabel",!0),R),B=C.getShallow("verticalAlign",!0)||C.getShallow("baseline",!0)||v.textVerticalAlign,k=Mj(C.getShallow("verticalAlignMinLabel",!0),B),O=Mj(C.getShallow("verticalAlignMaxLabel",!0),B),N=new R7({x:D,y:s.labelOffset+s.labelDirection*h,rotation:v.rotation,silent:_,z2:10+(p.level||0),style:Lt(C,{text:A,align:0===w?P:w===f.length-1?L:R,verticalAlign:0===w?k:w===f.length-1?O:B,fill:MR(I)?I("category"===u.type?M:"value"===u.type?S+"":S,w):I})});if(N.anid="label_"+S,b){var F=Wk.makeAxisEventDataBase(i);F.targetType="axisLabel",F.value=M,F.tickIndex=w,"category"===u.type&&(F.dataIndex=S),Pe(N).eventData=F}r.add(N),N.updateTransform(),x.push(N),t.add(N),N.decomposeTransform()}),x}}(i,s,r,t);(function(t,r,i){if(!GK(t.axis)){var s=t.get(["axisLabel","showMinLabel"]),u=t.get(["axisLabel","showMaxLabel"]);i=i||[];var c=(r=r||[])[0],h=r[1],f=r[r.length-1],p=r[r.length-2],v=i[0],y=i[1],x=i[i.length-1],_=i[i.length-2];!1===s?(WN(c),WN(v)):WF(c,h)&&(s?(WN(h),WN(y)):(WN(c),WN(v))),!1===u?(WN(f),WN(x)):WF(p,f)&&(u?(WN(p),WN(_)):(WN(f),WN(x)))}})(r,c,u),function(t,r,i,s){var u=i.axis,c=i.getModel("minorTick");if(!c.get("show")||u.scale.isBlank())return;var h=u.getMinorTicksCoords();if(!!h.length)for(var f=c.getModel("lineStyle"),p=s*c.get("length"),v=Mm(f.getLineStyle(),Mm(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),y=0;y<h.length;y++){for(var x=Wz(h[y],r.transform,p,v,"minorticks_"+y),_=0;_<x.length;_++)t.add(x[_])}}(i,s,r,t.tickDirection),r.get(["axisLabel","hideOverlap"])&&HW(HH(MS(c,function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}})))},axisName:function(t,r,i,s){var u,c,h=MV(t.axisName,r.get("name"));if(!!h){var f=r.get("nameLocation"),p=t.nameDirection,v=r.getModel("nameTextStyle"),y=r.get("nameGap")||0,x=r.axis.getExtent(),_=x[0]>x[1]?-1:1,b=["start"===f?x[0]-_*y:"end"===f?x[1]+_*y:(x[0]+x[1])/2,WU(f)?t.labelOffset+p*y:0],w=r.get("nameRotate");null!=w&&(w=w*WB/180),WU(f)?u=Wk.innerTextLayout(t.rotation,null!=w?w:t.rotation,p):(u=function(t,r,i,s){var u,c,h=IW(i-t),f=s[0]>s[1],p="start"===r&&!f||"start"!==r&&f;return IX(h-WB/2)?(c=p?"bottom":"top",u="center"):IX(h-1.5*WB)?(c=p?"top":"bottom",u="center"):(c="middle",u=h<1.5*WB&&h>WB/2?p?"left":"right":p?"right":"left"),{rotation:h,textAlign:u,textVerticalAlign:c}}(t.rotation,f,w||0,x),null!=(c=t.axisNameAvailableWidth)&&(isFinite(c=Math.abs(c/Math.sin(u.rotation)))||(c=null)));var S=v.getFont(),A=r.get("nameTruncate",!0)||{},M=A.ellipsis,C=MV(t.nameTruncateMaxWidth,A.maxWidth,c),T=new R7({x:b[0],y:b[1],rotation:u.rotation,silent:Wk.isLabelSilent(r),style:Lt(v,{text:h,font:S,overflow:"truncate",width:C,ellipsis:M,fill:v.getTextColor()||r.get(["axisLine","lineStyle","color"]),align:v.get("align")||u.textAlign,verticalAlign:v.get("verticalAlign")||u.textVerticalAlign}),z2:1});if(Fs({el:T,componentModel:r,itemName:h}),T.__fullText=h,T.anid="name",r.get("triggerEvent")){var I=Wk.makeAxisEventDataBase(r);I.targetType="axisName",I.name=h,Pe(T).eventData=I}s.add(T),T.updateTransform(),i.add(T),T.decomposeTransform()}}};function WN(t){t&&(t.ignore=!0)}function WF(t,r){var i=t&&t.getBoundingRect().clone(),s=r&&r.getBoundingRect().clone();if(!!i&&!!s){var u=CQ([]);return C1(u,u,-t.rotation),i.applyTransform(C$([],u,t.getLocalTransform())),s.applyTransform(C$([],u,r.getLocalTransform())),i.intersect(s)}}function WU(t){return"middle"===t||"center"===t}function Wz(t,r,i,s,u){for(var c=[],h=[],f=[],p=0;p<t.length;p++){var v=t[p].coord;h[0]=v,h[1]=0,f[0]=v,f[1]=i,r&&(Cb(h,h,r),Cb(f,f,r));var y=new NA({shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:s,z2:2,autoBatch:!0,silent:!0});N3(y.shape,y.style.lineWidth),y.anid=u+"_"+t[p].tickValue,c.push(y)}return c}function WG(t,r){return"all"===t||MD(t)&&My(t,r)>=0||t===r}function WH(t){var r=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return r&&r.axesInfo[Wj(t)]}function WV(t){return!!t.get(["handle","show"])}function Wj(t){return t.type+"||"+t.id}var WW={},WX=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(r,i,s,u){this.axisPointerClass&&function(t){var r=WH(t);if(!!r){var i=r.axisPointerModel,s=r.axis.scale,u=i.option,c=i.get("status"),h=i.get("value");null!=h&&(h=s.parse(h));var f=WV(i);null==c&&(u.status=f?"show":"hide");var p=s.getExtent().slice();p[0]>p[1]&&p.reverse(),(null==h||h>p[1])&&(h=p[1]),h<p[0]&&(h=p[0]),u.value=h,f&&(u.status=r.axis.scale.isBlank()?"hide":"show")}}(r),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,s,!0)},r.prototype.updateAxisPointer=function(t,r,i,s){this._doUpdateAxisPointerClass(t,i,!1)},r.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},r.prototype.dispose=function(r,i){this._disposeAxisPointer(i),t.prototype.dispose.apply(this,arguments)},r.prototype._doUpdateAxisPointerClass=function(t,i,s){var u,c=r.getAxisPointerClass(this.axisPointerClass);if(!!c){var h=(u=WH(t))&&u.axisPointerModel;h?(this._axisPointer||(this._axisPointer=new c)).render(t,h,i,s):this._disposeAxisPointer(i)}},r.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},r.registerAxisPointerClass=function(t,r){WW[t]=r},r.getAxisPointerClass=function(t){return t&&WW[t]},r.type="axis",r}(OL),WY=Dl();function WZ(t,r,i,s){var u=i.axis;if(u.scale.isBlank())return;var c=i.getModel("splitArea"),h=c.getModel("areaStyle"),f=h.get("color"),p=s.coordinateSystem.getRect(),v=u.getTicksCoords({tickModel:c,clamp:!0});if(!!v.length){var y=f.length,x=WY(t).splitAreaColors,_=M2(),b=0;if(x)for(var w=0;w<v.length;w++){var S=x.get(v[w].tickValue);if(null!=S){b=(S+(y-1)*w)%y;break}}var A=u.toGlobalCoord(v[0].coord),M=h.getAreaStyle();f=MD(f)?f:[f];for(var w=1;w<v.length;w++){var C=u.toGlobalCoord(v[w].coord),T=void 0,I=void 0,D=void 0,R=void 0;u.isHorizontal()?(T=A,I=p.y,D=C-T,R=p.height,A=T+D):(T=p.x,I=A,D=p.width,R=C-I,A=I+R);var P=v[w-1].tickValue;null!=P&&_.set(P,b),r.add(new RY({anid:null!=P?"area_"+P:null,shape:{x:T,y:I,width:D,height:R},style:Mm({fill:f[b]},M),autoBatch:!0,silent:!0})),b=(b+1)%y}WY(t).splitAreaColors=_}}function WK(t){WY(t).splitAreaColors=null}var WJ=["axisLine","axisTickLabel","axisName"],WQ=["splitArea","splitLine","minorSplitLine"],Wq=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.axisPointerClass="CartesianAxisPointer",i}return AK(r,t),r.prototype.render=function(r,i,s,u){this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new IS,this.group.add(this._axisGroup),!!r.get("show")){var h=r.getCoordSysModel(),f=WM(h,r),p=new Wk(r,Mg({handleAutoShown:function(t){for(var i=h.coordinateSystem.getCartesians(),s=0;s<i.length;s++)if(Gn(i[s].getOtherAxis(r.axis).scale))return!0;return!1}},f));Mw(WJ,p.add,p),this._axisGroup.add(p.getGroup()),Mw(WQ,function(t){r.get([t,"show"])&&W$[t](this,this._axisGroup,r,h)},this),!(u&&"changeAxisOrder"===u.type&&u.isInitSort)&&Fe(c,this._axisGroup,r),t.prototype.render.call(this,r,i,s,u)}},r.prototype.remove=function(){WK(this)},r.type="cartesianAxis",r}(WX),W$={splitLine:function(t,r,i,s){var u=i.axis;if(!u.scale.isBlank()){var c=i.getModel("splitLine"),h=c.getModel("lineStyle"),f=h.get("color");f=MD(f)?f:[f];for(var p=s.coordinateSystem.getRect(),v=u.isHorizontal(),y=0,x=u.getTicksCoords({tickModel:c}),_=[],b=[],w=h.getLineStyle(),S=0;S<x.length;S++){var A=u.toGlobalCoord(x[S].coord);v?(_[0]=A,_[1]=p.y,b[0]=A,b[1]=p.y+p.height):(_[0]=p.x,_[1]=A,b[0]=p.x+p.width,b[1]=A);var M=y++%f.length,C=new NA({anid:null!=x[S].tickValue?"line_"+x[S].tickValue:null,autoBatch:!0,shape:{x1:_[0],y1:_[1],x2:b[0],y2:b[1]},style:Mm({stroke:f[M]},w),silent:!0});N3(C.shape,w.lineWidth),r.add(C)}}},minorSplitLine:function(t,r,i,s){var u=i.axis,c=i.getModel("minorSplitLine").getModel("lineStyle"),h=s.coordinateSystem.getRect(),f=u.isHorizontal(),p=u.getMinorTicksCoords();if(!!p.length)for(var v=[],y=[],x=c.getLineStyle(),_=0;_<p.length;_++)for(var b=0;b<p[_].length;b++){var w=u.toGlobalCoord(p[_][b].coord);f?(v[0]=w,v[1]=h.y,y[0]=w,y[1]=h.y+h.height):(v[0]=h.x,v[1]=w,y[0]=h.x+h.width,y[1]=w);var S=new NA({anid:"minor_line_"+p[_][b].tickValue,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:y[0],y2:y[1]},style:x,silent:!0});N3(S.shape,x.lineWidth),r.add(S)}},splitArea:function(t,r,i,s){WZ(t,r,i,s)}},W0=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="xAxis",r}(Wq),W1=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.type=W0.type,r}return AK(r,t),r.type="yAxis",r}(Wq),W2=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.type="grid",r}return AK(r,t),r.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new RY({shape:t.coordinateSystem.getRect(),style:Mm({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},r.type="grid",r}(OL),W3={offset:0};function W5(t){t.registerComponentView(W2),t.registerComponentModel(Wu),t.registerCoordinateSystem("cartesian2d",WD),Wy(t,"x",Wc,W3),Wy(t,"y",Wc,W3),t.registerComponentView(W0),t.registerComponentView(W1),t.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function W4(t){t.eachSeriesByType("radar",function(t){var r=t.getData(),i=[],s=t.coordinateSystem;if(!!s){var u=s.getIndicatorAxes();Mw(u,function(t,c){r.each(r.mapDimension(u[c].dim),function(t,r){i[r]=i[r]||[];var u=s.dataToPoint(t,c);i[r][c]=W9(u)?u:function(t){return[t.cx,t.cy]}(s)})}),r.each(function(t){var u=MC(i[t],function(t){return W9(t)})||function(t){return[t.cx,t.cy]}(s);i[t].push(u.slice()),r.setItemLayout(t,i[t])})}})}function W9(t){return!isNaN(t[0])&&!isNaN(t[1])}function W8(t){return[t.cx,t.cy]}function W6(t){var r=t.polar;if(r){!MD(r)&&(r=[r]);var i=[];Mw(r,function(r,s){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),t.radar=t.radar||[],!MD(t.radar)&&(t.radar=[t.radar]),t.radar.push(r)):i.push(r)}),t.polar=i}Mw(t.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}var W7=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){var s=t.coordinateSystem,u=this.group,c=t.getData(),h=this._data;function f(r,i,s,u,c,h){s.removeAll();for(var f=0;f<i.length-1;f++){var p=function(t,r){var i=t.getItemVisual(r,"symbol")||"circle";if("none"!==i){var s=Ul(t.getItemVisual(r,"symbolSize")),u=Us(i,-1,-1,2,2),c=t.getItemVisual(r,"symbolRotate")||0;return u.attr({style:{strokeNoScale:!0},z2:100,scaleX:s[0]/2,scaleY:s[1]/2,rotation:c*Math.PI/180||0}),u}}(u,c);p&&(p.__dimIdx=f,r[f]?(p.setPosition(r[f]),eu[h?"initProps":"updateProps"](p,{x:i[f][0],y:i[f][1]},t,c)):p.setPosition(i[f]),s.add(p))}}function p(t){return MS(t,function(t){return[s.cx,s.cy]})}c.diff(h).add(function(r){var i=c.getItemLayout(r);if(!!i){var s=new Nv,u=new N_,h={shape:{points:i}};s.shape.points=p(i),u.shape.points=p(i),P0(s,h,t,r),P0(u,h,t,r);var v=new IS,y=new IS;v.add(u),v.add(s),v.add(y),f(u.shape.points,i,y,c,r,!0),c.setItemGraphicEl(r,v)}}).update(function(r,i){var s=h.getItemGraphicEl(i),u=s.childAt(0),p=s.childAt(1),v=s.childAt(2),y={shape:{points:c.getItemLayout(r)}};if(!!y.shape.points)f(u.shape.points,y.shape.points,v,c,r,!1),P4(p),P4(u),P$(u,y,t),P$(p,y,t),c.setItemGraphicEl(r,s)}).remove(function(t){u.remove(h.getItemGraphicEl(t))}).execute(),c.eachItemGraphicEl(function(t,r){var i=c.getItemModel(r),s=t.childAt(0),h=t.childAt(1),f=t.childAt(2),p=c.getItemVisual(r,"style"),v=p.fill;u.add(t),s.useStyle(Mm(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:v})),PW(s,i,"lineStyle"),PW(h,i,"areaStyle");var y=i.getModel("areaStyle"),x=y.isEmpty()&&y.parentModel.isEmpty();h.ignore=x,Mw(["emphasis","select","blur"],function(t){var r=i.getModel([t,"areaStyle"]),s=r.isEmpty()&&r.parentModel.isEmpty();h.ensureState(t).ignore=s&&x}),h.useStyle(Mm(y.getAreaStyle(),{fill:v,opacity:.7,decal:p.decal}));var _=i.getModel("emphasis"),b=_.getModel("itemStyle").getItemStyle();f.eachChild(function(t){if(t instanceof RU){var s=t.style;t.useStyle(Mg({image:s.image,x:s.x,y:s.y,width:s.width,height:s.height},p))}else t.useStyle(p),t.setColor(v),t.style.strokeNoScale=!0;t.ensureState("emphasis").style=Md(b);var u=c.getStore().get(c.getDimensionIndex(t.__dimIdx),r);(null==u||isNaN(u))&&(u=""),P7(t,Le(i),{labelFetcher:c.hostModel,labelDataIndex:r,labelDimIndex:t.__dimIdx,defaultText:u,inheritColor:v,defaultOpacity:p.opacity})}),PG(t,_.get("focus"),_.get("blurScope"),_.get("disabled"))}),this._data=c},r.prototype.remove=function(){this.group.removeAll(),this._data=null},r.type="radar",r}(Fy),Xe=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.hasSymbolVisual=!0,i}return AK(r,t),r.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wt(ME(this.getData,this),ME(this.getRawData,this))},r.prototype.getInitialData=function(t,r){return We(this,{generateCoord:"indicator_",generateCoordCount:1/0})},r.prototype.formatTooltip=function(t,r,i){var s=this.getData(),u=this.coordinateSystem.getIndicatorAxes(),c=this.getData().getName(t),h=""===c?this.name:c,f=Om(this,t);return Ol("section",{header:h,sortBlocks:!0,blocks:MS(u,function(r){var i=s.get(s.mapDimension(r.dim),t);return Ol("nameValue",{markerType:"subItem",markerColor:f,name:r.name,value:i,sortParam:i})})})},r.prototype.getTooltipPosition=function(t){if(null!=t){for(var r=this.getData(),i=this.coordinateSystem,s=r.getValues(MS(i.dimensions,function(t){return r.mapDimension(t)}),t),u=0,c=s.length;u<c;u++)if(!isNaN(s[u])){var h=i.getIndicatorAxes();return i.coordToPoint(h[u].dataToCoord(s[u]),u)}}},r.type="series.radar",r.dependencies=["radar"],r.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},r}(OR),Xt=Wm.value;function Xn(t,r){return Mm({show:r},t)}var Xr=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),s=this.get("axisLine"),u=this.get("axisTick"),c=this.get("axisLabel"),h=this.get("axisName"),f=this.get(["axisName","show"]),p=this.get(["axisName","formatter"]),v=this.get("axisNameGap"),y=this.get("triggerEvent"),x=MS(this.get("indicator")||[],function(x){null!=x.max&&x.max>0&&!x.min?x.min=0:null!=x.min&&x.min<0&&!x.max&&(x.max=0);var _=h;null!=x.color&&(_=Mm({color:x.color},h));var b=Mf(Md(x),{boundaryGap:t,splitNumber:r,scale:i,axisLine:s,axisTick:u,axisLabel:c,name:x.text,showName:f,nameLocation:"end",nameGap:v,nameTextStyle:_,triggerEvent:y},!1);if(MP(p)){var w=b.name;b.name=p.replace("{value}",null!=w?w:"")}else MR(p)&&(b.name=p(b.name,b));var S=new Lw(b,null,this.ecModel);return M_(S,GQ.prototype),S.mainType="radar",S.componentIndex=this.componentIndex,S},this);this._indicatorModels=x},r.prototype.getIndicatorModels=function(){return this._indicatorModels},r.type="radar",r.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Mf({lineStyle:{color:"#bbb"}},Xt.axisLine),axisLabel:Xn(Xt.axisLabel,!1),axisTick:Xn(Xt.axisTick,!1),splitLine:Xn(Xt.splitLine,!0),splitArea:Xn(Xt.splitArea,!0),indicator:[]},r}(By),Xi=["axisLine","axisTickLabel","axisName"],Xa=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},r.prototype._buildAxes=function(t){var r=t.coordinateSystem;Mw(MS(r.getIndicatorAxes(),function(t){var i=t.model.get("showName")?t.name:"";return new Wk(t.model,{axisName:i,position:[r.cx,r.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(t){Mw(Xi,t.add,t),this.group.add(t.getGroup())},this)},r.prototype._buildSplitLineAndArea=function(t){var r=t.coordinateSystem,i=r.getIndicatorAxes();if(!!i.length){var s=t.get("shape"),u=t.getModel("splitLine"),c=t.getModel("splitArea"),h=u.getModel("lineStyle"),f=c.getModel("areaStyle"),p=u.get("show"),v=c.get("show"),y=h.get("color"),x=f.get("color"),_=MD(y)?y:[y],b=MD(x)?x:[x],w=[],S=[];if("circle"===s){for(var A=i[0].getTicksCoords(),M=r.cx,C=r.cy,T=0;T<A.length;T++){if(p){var I=N(w,_,T);w[I].push(new O3({shape:{cx:M,cy:C,r:A[T].coord}}))}if(v&&T<A.length-1){var I=N(S,b,T);S[I].push(new Nf({shape:{cx:M,cy:C,r0:A[T].coord,r:A[T+1].coord}}))}}}else{for(var D,R=MS(i,function(t,i){var s=t.getTicksCoords();return D=null==D?s.length-1:Math.min(s.length-1,D),MS(s,function(t){return r.coordToPoint(t.coord,i)})}),P=[],T=0;T<=D;T++){for(var L=[],B=0;B<i.length;B++)L.push(R[B][T]);if(L[0]&&L.push(L[0].slice()),p){var I=N(w,_,T);w[I].push(new N_({shape:{points:L}}))}if(v&&P){var I=N(S,b,T-1);S[I].push(new Nv({shape:{points:L.concat(P)}}))}P=L.slice().reverse()}}var k=h.getLineStyle(),O=f.getAreaStyle();Mw(S,function(t,r){this.group.add(N1(t,{style:Mm({stroke:"none",fill:b[r%b.length]},O),silent:!0}))},this),Mw(w,function(t,r){this.group.add(N1(t,{style:Mm({fill:"none",stroke:_[r%_.length]},k),silent:!0}))},this)}function N(t,r,i){var s=i%r.length;return t[s]=t[s]||[],s}},r.type="radar",r}(OL),Xo=function(t){function r(r,i,s){var u=t.call(this,r,i,s)||this;return u.type="value",u.angle=0,u.name="",u}return AK(r,t),r}(Hy),Xs=function(){function t(t,r,i){this.dimensions=[],this._model=t,this._indicatorAxes=MS(t.getIndicatorModels(),function(t,r){var i="indicator_"+r,s=new Xo(i,new Gh);return s.name=t.get("name"),s.model=t,t.axis=s,this.dimensions.push(i),s},this),this.resize(t,i)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,r){var i=this._indicatorAxes[r];return this.coordToPoint(i.dataToCoord(t),r)},t.prototype.coordToPoint=function(t,r){var i=this._indicatorAxes[r].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},t.prototype.pointToData=function(t){var r,i=t[0]-this.cx,s=t[1]-this.cy,u=Math.sqrt(i*i+s*s);i/=u;for(var c=Math.atan2(-(s/=u),i),h=1/0,f=-1,p=0;p<this._indicatorAxes.length;p++){var v=this._indicatorAxes[p],y=Math.abs(c-v.angle);y<h&&(r=v,f=p,h=y)}return[f,+(r&&r.coordToData(u))]},t.prototype.resize=function(t,r){var i=t.get("center"),s=r.getWidth(),u=r.getHeight(),c=Math.min(s,u)/2;this.cx=IO(i[0],s),this.cy=IO(i[1],u),this.startAngle=t.get("startAngle")*Math.PI/180;var h=t.get("radius");(MP(h)||MB(h))&&(h=[0,h]),this.r0=IO(h[0],c),this.r=IO(h[1],c),Mw(this._indicatorAxes,function(t,r){t.setExtent(this.r0,this.r);var i=this.startAngle+r*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i},this)},t.prototype.update=function(t,r){var i=this._indicatorAxes,s=this._model;Mw(i,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(r,u){if("radar"===r.get("coordinateSystem")&&t.getComponent("radar",r.get("radarIndex"))===s){var c=r.getData();Mw(i,function(t){t.scale.unionExtentFromData(c,c.mapDimension(t.dim))})}},this);var u=s.get("splitNumber"),c=new Gh;c.setExtent(0,u),c.setInterval(1),Mw(i,function(t,r){WI(t.scale,t.model,c)})},t.prototype.convertToPixel=function(t,r,i){return null},t.prototype.convertFromPixel=function(t,r,i){return null},t.prototype.containPoint=function(t){return!1},t.create=function(r,i){var s=[];return r.eachComponent("radar",function(u){var c=new t(u,r,i);s.push(c),u.coordinateSystem=c}),r.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=s[t.get("radarIndex")||0])}),s},t.dimensions=[],t}();function Xl(t){t.registerCoordinateSystem("radar",Xs),t.registerComponentModel(Xr),t.registerComponentView(Xa),t.registerVisual({seriesType:"radar",reset:function(t){var r=t.getData();r.each(function(t){r.setItemVisual(t,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}var Xu="\0_ec_interaction_mutex";function Xc(t,r){return!!Xh(t)[r]}function Xh(t){return t[Xu]||(t[Xu]={})}zv({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},M8);var Xd=function(t){function r(r){var i=t.call(this)||this;i._zr=r;var s=ME(i._mousedownHandler,i),u=ME(i._mousemoveHandler,i),c=ME(i._mouseupHandler,i),h=ME(i._mousewheelHandler,i),f=ME(i._pinchHandler,i);return i.enable=function(t,i){this.disable(),this._opt=Mm(Md(i)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),(!0===t||"move"===t||"pan"===t)&&(r.on("mousedown",s),r.on("mousemove",u),r.on("mouseup",c)),(!0===t||"scale"===t||"zoom"===t)&&(r.on("mousewheel",h),r.on("pinch",f))},i.disable=function(){r.off("mousedown",s),r.off("mousemove",u),r.off("mouseup",c),r.off("mousewheel",h),r.off("pinch",f)},i}return AK(r,t),r.prototype.isDragging=function(){return this._dragging},r.prototype.isPinching=function(){return this._pinching},r.prototype.setPointerChecker=function(t){this.pointerChecker=t},r.prototype.dispose=function(){this.disable()},r.prototype._mousedownHandler=function(t){if(!CX(t)){for(var r=t.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=t.offsetX,s=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,s)&&(this._x=i,this._y=s,this._dragging=!0)}},r.prototype._mousemoveHandler=function(t){if(!!this._dragging&&!!Xg("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!Xh(this._zr).globalPan){var r=t.offsetX,i=t.offsetY,s=this._x,u=this._y;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&CW(t.event),Xp(this,"pan","moveOnMouseMove",t,{dx:r-s,dy:i-u,oldX:s,oldY:u,newX:r,newY:i,isAvailableBehavior:null})}},r.prototype._mouseupHandler=function(t){!CX(t)&&(this._dragging=!1)},r.prototype._mousewheelHandler=function(t){var r=Xg("zoomOnMouseWheel",t,this._opt),i=Xg("moveOnMouseWheel",t,this._opt),s=t.wheelDelta,u=Math.abs(s),c=t.offsetX,h=t.offsetY;if(0!==s&&(!!r||!!i)){if(r){var f=u>3?1.4:u>1?1.2:1.1;Xf(this,"zoom","zoomOnMouseWheel",t,{scale:s>0?f:1/f,originX:c,originY:h,isAvailableBehavior:null})}if(i){var p=Math.abs(s);Xf(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(s>0?1:-1)*(p>3?.4:p>1?.15:.05),originX:c,originY:h,isAvailableBehavior:null})}}},r.prototype._pinchHandler=function(t){if(!Xh(this._zr).globalPan){var r=t.pinchScale>1?1.1:1/1.1;Xf(this,"zoom",null,t,{scale:r,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},r}(CC);function Xf(t,r,i,s,u){t.pointerChecker&&t.pointerChecker(s,u.originX,u.originY)&&(CW(s.event),Xp(t,r,i,s,u))}function Xp(t,r,i,s,u){u.isAvailableBehavior=ME(Xg,null,i,s),t.trigger(r,u)}function Xg(t,r,i){var s=i[t];return!t||s&&(!MP(s)||r.event[s+"Key"])}function Xm(t,r,i){var s=t.target;s.x+=r,s.y+=i,s.dirty()}function Xv(t,r,i,s){var u=t.target,c=t.zoomLimit,h=t.zoom=t.zoom||1;if(h*=r,c){var f=c.min||0;h=Math.max(Math.min(c.max||1/0,h),f)}var p=h/t.zoom;t.zoom=h,u.x-=(i-u.x)*(p-1),u.y-=(s-u.y)*(p-1),u.scaleX*=p,u.scaleY*=p,u.dirty()}var Xy={axisPointer:1,tooltip:1,brush:1};function Xx(t,r,i){var s=r.getComponentByElement(t.topTarget),u=s&&s.coordinateSystem;return s&&s!==i&&!Xy.hasOwnProperty(s.mainType)&&u&&u.model!==i}function X_(t){MP(t)&&(t=new DOMParser().parseFromString(t,"text/xml"));var r=t;for(9===r.nodeType&&(r=r.firstChild);"svg"!==r.nodeName.toLowerCase()||1!==r.nodeType;)r=r.nextSibling;return r}var Xb={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Xw=MT(Xb),XS={"alignment-baseline":"textBaseline","stop-color":"stopColor"},XA=MT(XS),XM=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,r){r=r||{};var i,s,u=X_(t);this._defsUsePending=[];var c=new IS;this._root=c;var h=[],f=u.getAttribute("viewBox")||"",p=parseFloat(u.getAttribute("width")||r.width),v=parseFloat(u.getAttribute("height")||r.height);isNaN(p)&&(p=null),isNaN(v)&&(v=null),XR(u,c,null,!0,!1);for(var y=u.firstChild;y;)this._parseNode(y,c,h,null,!1,!1),y=y.nextSibling;if(function(t,r){for(var i=0;i<r.length;i++){var s=r[i];s[0].style[s[1]]=t[s[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],f){var x=Xk(f);x.length>=4&&(i={x:parseFloat(x[0]||0),y:parseFloat(x[1]||0),width:parseFloat(x[2]),height:parseFloat(x[3])})}if(i&&null!=p&&null!=v&&(s=Xz(i,{x:0,y:0,width:p,height:v}),!r.ignoreViewBox)){var _=c;(c=new IS).add(_),_.scaleX=_.scaleY=s.scale,_.x=s.x,_.y=s.y}return!r.ignoreRootClip&&null!=p&&null!=v&&c.setClipPath(new RY({shape:{x:0,y:0,width:p,height:v}})),{root:c,width:p,height:v,viewBoxRect:i,viewBoxTransform:s,named:h}},t.prototype._parseNode=function(t,r,i,s,u,c){var h,f=t.nodeName.toLowerCase(),p=s;if("defs"===f&&(u=!0),"text"===f&&(c=!0),"defs"===f||"switch"===f)h=r;else{if(!u){var v=elY[f];if(v&&M9(elY,f)){h=v.call(this,t,r);var y=t.getAttribute("name");if(y){var x={name:y,namedFrom:null,svgNodeTagLower:f,el:h};i.push(x),"g"===f&&(p=x)}else s&&i.push({name:s.name,namedFrom:s,svgNodeTagLower:f,el:h});r.add(h)}}var _=XC[f];if(_&&M9(XC,f)){var b=_.call(this,t),w=t.getAttribute("id");w&&(this._defs[w]=b)}}if(h&&h.isGroup){for(var S=t.firstChild;S;)1===S.nodeType?this._parseNode(S,h,i,p,u,c):3===S.nodeType&&c&&this._parseText(S,h),S=S.nextSibling}},t.prototype._parseText=function(t,r){var i=new Rk({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});XI(r,i),XR(t,i,this._defsUsePending,!1,!1),function(t,r){var i=r.__selfStyle;if(i){var s=i.textBaseline,u=s;s&&"auto"!==s?"baseline"===s?u="alphabetic":"before-edge"===s||"text-before-edge"===s?u="top":"after-edge"===s||"text-after-edge"===s?u="bottom":("central"===s||"mathematical"===s)&&(u="middle"):u="alphabetic",t.style.textBaseline=u}var c=r.__inheritedStyle;if(c){var h=c.textAlign,f=h;h&&("middle"===h&&(f="center"),t.style.textAlign=f)}}(i,r);var s=i.style,u=s.fontSize;u&&u<9&&(s.fontSize=9,i.scaleX*=u/9,i.scaleY*=u/9);var c=(s.fontSize||s.fontFamily)&&[s.fontStyle,s.fontWeight,(s.fontSize||12)+"px",s.fontFamily||"sans-serif"].join(" ");s.font=c;var h=i.getBoundingRect();return this._textX+=h.width,r.add(i),i},t.internalField=void(elY={g:function(t,r){var i=new IS;return XI(r,i),XR(t,i,this._defsUsePending,!1,!1),i},rect:function(t,r){var i=new RY;return XI(r,i),XR(t,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(t,r){var i=new O3;return XI(r,i),XR(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),i.silent=!0,i},line:function(t,r){var i=new NA;return XI(r,i),XR(t,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(t,r){var i=new O9;return XI(r,i),XR(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(t,r){var i,s=t.getAttribute("points");s&&(i=XD(s));var u=new Nv({shape:{points:i||[]},silent:!0});return XI(r,u),XR(t,u,this._defsUsePending,!1,!1),u},polyline:function(t,r){var i,s=t.getAttribute("points");s&&(i=XD(s));var u=new N_({shape:{points:i||[]},silent:!0});return XI(r,u),XR(t,u,this._defsUsePending,!1,!1),u},image:function(t,r){var i=new RU;return XI(r,i),XR(t,i,this._defsUsePending,!1,!1),i.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),i.silent=!0,i},text:function(t,r){var i=t.getAttribute("x")||"0",s=t.getAttribute("y")||"0",u=t.getAttribute("dx")||"0",c=t.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(u),this._textY=parseFloat(s)+parseFloat(c);var h=new IS;return XI(r,h),XR(t,h,this._defsUsePending,!1,!0),h},tspan:function(t,r){var i=t.getAttribute("x"),s=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=s&&(this._textY=parseFloat(s));var u=t.getAttribute("dx")||"0",c=t.getAttribute("dy")||"0",h=new IS;return XI(r,h),XR(t,h,this._defsUsePending,!1,!0),this._textX+=parseFloat(u),this._textY+=parseFloat(c),h},path:function(t,r){var i,s=new OJ(Oq(t.getAttribute("d")||"",void 0));return XI(r,s),XR(t,s,this._defsUsePending,!1,!1),s.silent=!0,s}}),t}(),XC={lineargradient:function(t){var r=new Nk(parseInt(t.getAttribute("x1")||"0",10),parseInt(t.getAttribute("y1")||"0",10),parseInt(t.getAttribute("x2")||"10",10),parseInt(t.getAttribute("y2")||"0",10));return XT(t,r),XE(t,r),r},radialgradient:function(t){var r=new NO(parseInt(t.getAttribute("cx")||"0",10),parseInt(t.getAttribute("cy")||"0",10),parseInt(t.getAttribute("r")||"0",10));return XT(t,r),XE(t,r),r}};function XT(t,r){"userSpaceOnUse"===t.getAttribute("gradientUnits")&&(r.global=!0)}function XE(t,r){for(var i=t.firstChild;i;){if(1===i.nodeType&&"stop"===i.nodeName.toLocaleLowerCase()){var s=i.getAttribute("offset"),u=void 0;u=s&&s.indexOf("%")>0?parseInt(s,10)/100:s?parseFloat(s):0;var c={};XU(i,c,c);var h=c.stopColor||i.getAttribute("stop-color")||"#000000";r.colorStops.push({offset:u,color:h})}i=i.nextSibling}}function XI(t,r){t&&t.__inheritedStyle&&(!r.__inheritedStyle&&(r.__inheritedStyle={}),Mm(r.__inheritedStyle,t.__inheritedStyle))}function XD(t){for(var r=Xk(t),i=[],s=0;s<r.length;s+=2){var u=parseFloat(r[s]),c=parseFloat(r[s+1]);i.push([u,c])}return i}function XR(t,r,i,s,u){var c=r.__inheritedStyle=r.__inheritedStyle||{},h={};1===t.nodeType&&(function(t,r){var i=t.getAttribute("transform");if(i){i=i.replace(/,/g," ");var s=[],u=null;i.replace(XO,function(t,r,i){return s.push(r,i),""});for(var c=s.length-1;c>0;c-=2){var h=s[c],f=s[c-1],p=Xk(h);switch(u=u||CJ(),f){case"translate":C0(u,u,[parseFloat(p[0]),parseFloat(p[1]||"0")]);break;case"scale":C2(u,u,[parseFloat(p[0]),parseFloat(p[1]||p[0])]);break;case"rotate":C1(u,u,-parseFloat(p[0])*XN,[parseFloat(p[1]||"0"),parseFloat(p[2]||"0")]);break;case"skewX":C$(u,[1,0,Math.tan(parseFloat(p[0])*XN),1,0,0],u);break;case"skewY":C$(u,[1,Math.tan(parseFloat(p[0])*XN),0,1,0,0],u);break;case"matrix":u[0]=parseFloat(p[0]),u[1]=parseFloat(p[1]),u[2]=parseFloat(p[2]),u[3]=parseFloat(p[3]),u[4]=parseFloat(p[4]),u[5]=parseFloat(p[5])}}r.setLocalTransform(u)}}(t,r),XU(t,c,h),!s&&function(t,r,i){for(var s=0;s<Xw.length;s++){var u=Xw[s],c=t.getAttribute(u);null!=c&&(r[Xb[u]]=c)}for(var s=0;s<XA.length;s++){var u=XA[s],c=t.getAttribute(u);null!=c&&(i[XS[u]]=c)}}(t,c,h)),r.style=r.style||{},null!=c.fill&&(r.style.fill=XL(r,"fill",c.fill,i)),null!=c.stroke&&(r.style.stroke=XL(r,"stroke",c.stroke,i)),Mw(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){null!=c[t]&&(r.style[t]=parseFloat(c[t]))}),Mw(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(t){null!=c[t]&&(r.style[t]=c[t])}),u&&(r.__selfStyle=h),c.lineDash&&(r.style.lineDash=MS(Xk(c.lineDash),function(t){return parseFloat(t)})),("hidden"===c.visibility||"collapse"===c.visibility)&&(r.invisible=!0),"none"===c.display&&(r.ignore=!0)}var XP=/^url\(\s*#(.*?)\)/;function XL(t,r,i,s){var u=i&&i.match(XP);if(u){var c=MK(u[1]);s.push([t,r,c]);return}return"none"===i&&(i=null),i}var XB=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Xk(t){return t.match(XB)||[]}var XO=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,XN=Math.PI/180,XF=/([^\s:;]+)\s*:\s*([^:;]+)/g;function XU(t,r,i){var s,u=t.getAttribute("style");if(!!u)for(XF.lastIndex=0;null!=(s=XF.exec(u));){var c=s[1],h=M9(Xb,c)?Xb[c]:null;h&&(r[h]=s[2]);var f=M9(XS,c)?XS[c]:null;f&&(i[f]=s[2])}}function Xz(t,r){var i=Math.min(r.width/t.width,r.height/t.height);return{scale:i,x:-(t.x+t.width/2)*i+(r.x+r.width/2),y:-(t.y+t.height/2)*i+(r.y+r.height/2)}}for(var XG=M2(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),XH=function(){function t(t,r){this.type="geoSVG",this._usedGraphicMap=M2(),this._freedGraphics=[],this._mapName=t,this._parsedXML=X_(r)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=function(t){var r=[],i=M2();return Mw(t,function(t){if(null==t.namedFrom){var s=new Hn(t.name,t.el);r.push(s),i.set(t.name,s)}}),{regions:r,regionsMap:i}}(t.named),i=r.regions,s=r.regionsMap;this._regions=i,this._regionsMap=s}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){try{var r,i;u=(s=t&&(r=t,i={ignoreViewBox:!0,ignoreRootClip:!0},new XM().parse(r,i))||{}).root,MZ(null!=u)}catch(t){throw Error("Invalid svg format\n"+t.message)}var s,u,c=new IS;c.add(u),c.isGeoSVGGraphicRoot=!0;var h=s.width,f=s.height,p=s.viewBoxRect,v=this._boundingRect;if(!v){var y=void 0,x=void 0,_=void 0,b=void 0;if(null!=h?(y=0,_=h):p&&(y=p.x,_=p.width),null!=f?(x=0,b=f):p&&(x=p.y,b=p.height),null==y||null==x){var w=u.getBoundingRect();null==y&&(y=w.x,_=w.width),null==x&&(x=w.y,b=w.height)}v=this._boundingRect=new Ti(y,x,_,b)}if(p){var S=Xz(p,v);u.scaleX=u.scaleY=S.scale,u.x=S.x,u.y=S.y}c.setClipPath(new RY({shape:v.plain()}));var A=[];return Mw(s.named,function(t){null!=XG.get(t.svgNodeTagLower)&&(A.push(t),function(t){t.silent=!1,t.isGroup&&t.traverse(function(t){t.silent=!1})}(t.el))}),{root:c,boundingRect:v,named:A}},t.prototype.useGraphic=function(t){var r=this._usedGraphicMap,i=r.get(t);return i?i:(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(t,i),i)},t.prototype.freeGraphic=function(t){var r=this._usedGraphicMap,i=r.get(t);i&&(r.removeKey(t),this._freedGraphics.push(i))},t}(),XV=[126,25],Xj="",XW=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],XX=0;XX<XW.length;XX++)for(var XY=0;XY<XW[XX].length;XY++)XW[XX][XY][0]/=10.5,XW[XX][XY][1]/=-14,XW[XX][XY][0]+=XV[0],XW[XX][XY][1]+=XV[1];var XZ={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]},XK=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],XJ=function(){function t(t,r,i){this.type="geoJSON",this._parsedMap=M2(),this._mapName=t,this._specialAreas=i,this._geoJSON=function(t){return MP(t)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):Function("return ("+t+");")():t}(r)}return t.prototype.load=function(t,r){r=r||"name";var i=this._parsedMap.get(r);if(!i){var s=this._parseToRegions(r);i=this._parsedMap.set(r,{regions:s,boundingRect:function(t){for(var r,i=0;i<t.length;i++){var s=t[i].getBoundingRect();(r=r||s.clone()).union(s)}return r}(s)})}var u=M2(),c=[];return Mw(i.regions,function(r){var i=r.name;t&&M9(t,i)&&(r=r.cloneShallow(i=t[i])),c.push(r),u.set(i,r)}),{regions:c,boundingRect:i.boundingRect||new Ti(0,0,0,0),regionsMap:u}},t.prototype._parseToRegions=function(t){var r,i=this._mapName,s=this._geoJSON;try{r=s?Ha(s,t):[]}catch(t){throw Error("Invalid geoJson format\n"+t.message)}return!function(t,r){if("china"===t){for(var i=0;i<r.length;i++)if(r[i].name===Xj)return;r.push(new Ht(Xj,MS(XW,function(t){return{type:"polygon",exterior:t}}),XV))}}(i,r),Mw(r,function(t){var r,s,u=t.name;!function(t,r){if("china"===t){var i=XZ[r.name];if(i){var s=r.getCenter();s[0]+=i[0]/10.5,s[1]+=-i[1]/14,r.setCenter(s)}}}(i,t),r=i,s=t,"china"===r&&""===s.name&&s.geometries.push({type:"polygon",exterior:XK[0]});var c=this._specialAreas&&this._specialAreas[u];c&&t.transformTo(c.left,c.top,c.width,c.height)},this),r},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}(),XQ=M2();let Xq={registerMap:function(t,r,i){if(r.svg){var s=new XH(t,r.svg);XQ.set(t,s)}else{var u=r.geoJson||r.geoJSON;u&&!r.features?i=r.specialAreas:u=r;var s=new XJ(t,u,i);XQ.set(t,s)}},getGeoResource:function(t){return XQ.get(t)},getMapForUser:function(t){var r=XQ.get(t);return r&&"geoJSON"===r.type&&r.getMapForUser()},load:function(t,r,i){var s=XQ.get(t);if(!!s)return s.load(r,i)}};var X$=["rect","circle","line","ellipse","polygon","polyline","path"],X0=M2(X$),X1=M2(X$.concat(["g"])),X2=M2(X$.concat(["g"])),X3=Dl();function X5(t){var r=t.getItemStyle(),i=t.get("areaColor");return null!=i&&(r.fill=i),r}function X4(t){var r=t.style;r&&(r.stroke=r.stroke||r.fill,r.fill=null)}var X9=function(){function t(t){var r=new IS;this.uid=LA("ec_map_draw"),this._controller=new Xd(t.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new IS),r.add(this._svgGroup=new IS)}return t.prototype.draw=function(t,r,i,s,u){var c="geo"===t.mainType,h=t.getData&&t.getData();c&&r.eachComponent({mainType:"series",subType:"map"},function(r){!h&&r.getHostGeoModel()===t&&(h=r.getData())});var f=t.coordinateSystem,p=this._regionsGroup,v=this.group,y=f.getTransformInfo(),x=y.raw,_=y.roam;!p.childAt(0)||u?(v.x=_.x,v.y=_.y,v.scaleX=_.scaleX,v.scaleY=_.scaleY,v.dirty()):P$(v,_,t);var b=h&&h.getVisual("visualMeta")&&h.getVisual("visualMeta").length>0,w={api:i,geo:f,mapOrGeoModel:t,data:h,isVisualEncodedByVisualMap:b,isGeo:c,transformInfoRaw:x};"geoJSON"===f.resourceType?this._buildGeoJSON(w):"geoSVG"===f.resourceType&&this._buildSVG(w),this._updateController(t,r,i),this._updateMapSelectHandler(t,p,i,s)},t.prototype._buildGeoJSON=function(t){var r=this._regionsGroupByName=M2(),i=M2(),s=this._regionsGroup,u=t.transformInfoRaw,c=t.mapOrGeoModel,h=t.data,f=t.geo.projection,p=f&&f.stream;function v(t,r){return r&&(t=r(t)),t&&[t[0]*u.scaleX+u.x,t[1]*u.scaleY+u.y]}function y(t){return{shape:{points:function(t){for(var r=[],i=!p&&f&&f.project,s=0;s<t.length;++s){var u=v(t[s],i);u&&r.push(u)}return r}(t)}}}s.removeAll(),Mw(t.geo.regions,function(u){var x=u.name,_=r.get(x),b=i.get(x)||{},w=b.dataIdx,S=b.regionModel;!_&&(_=r.set(x,new IS),s.add(_),w=h?h.indexOfName(x):null,S=t.isGeo?c.getRegionModel(x):h?h.getItemModel(w):null,i.set(x,{dataIdx:w,regionModel:S}));var A=[],M=[];Mw(u.geometries,function(t){if("polygon"===t.type){var r=[t.exterior].concat(t.interiors||[]);p&&(r=Yn(r,p)),Mw(r,function(t){A.push(new Nv(y(t)))})}else{var i=t.points;p&&(i=Yn(i,p,!0)),Mw(i,function(t){M.push(new N_(y(t)))})}});var C=v(u.getCenter(),f&&f.project);function T(r,i){if(!!r.length){var s=new NL({culling:!0,segmentIgnoreThreshold:1,shape:{paths:r}});_.add(s),X8(t,s,w,S),X6(t,s,x,S,c,w,C),i&&(X4(s),Mw(s.states,X4))}}T(A),T(M,!0)}),r.each(function(r,s){var u=i.get(s),h=u.dataIdx,f=u.regionModel;X7(t,r,s,f,c,h),Ye(t,r,s,f,c),Yt(t,r,s,f,c)},this)},t.prototype._buildSVG=function(t){var r=t.geo.map,i=t.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var s=this._svgDispatcherMap=M2(),u=!1;Mw(this._svgGraphicRecord.named,function(r){var i=r.name,c=t.mapOrGeoModel,h=t.data,f=r.svgNodeTagLower,p=r.el,v=h?h.indexOfName(i):null,y=c.getRegionModel(i);null!=X0.get(f)&&p instanceof DK&&X8(t,p,v,y),p instanceof DK&&(p.culling=!0),p.z2EmphasisLift=0,!r.namedFrom&&(null!=X2.get(f)&&X6(t,p,i,y,c,v,null),X7(t,p,i,y,c,v),Ye(t,p,i,y,c),null!=X1.get(f)&&("self"===Yt(t,p,i,y,c)&&(u=!0),(s.get(i)||s.set(i,[])).push(p)))},this),this._enableBlurEntireSVG(u,t)},t.prototype._enableBlurEntireSVG=function(t,r){if(t&&r.isGeo){var i=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(t){if(!t.isGroup){PM(t);var r=t.ensureState("blur").style||{};null==r.opacity&&null!=i&&(r.opacity=i),t.ensureState("emphasis")}})}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(t,r){if(null==t)return[];var i=r.coordinateSystem;if("geoJSON"===i.resourceType){var s=this._regionsGroupByName;if(s){var u=s.get(t);return u?[u]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},t.prototype._useSVG=function(t){var r=Xq.getGeoResource(t);if(r&&"geoSVG"===r.type){var i=r.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=t}},t.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var r=Xq.getGeoResource(t);r&&"geoSVG"===r.type&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(t,r,i){var s=t.coordinateSystem,u=this._controller,c=this._controllerHost;c.zoomLimit=t.get("scaleLimit"),c.zoom=s.getZoom(),u.enable(t.get("roam")||!1);var h=t.mainType;function f(){var r={type:"geoRoam",componentType:h};return r[h+"Id"]=t.id,r}u.off("pan").on("pan",function(t){this._mouseDownFlag=!1,Xm(c,t.dx,t.dy),i.dispatchAction(Mg(f(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))},this),u.off("zoom").on("zoom",function(t){this._mouseDownFlag=!1,Xv(c,t.scale,t.originX,t.originY),i.dispatchAction(Mg(f(),{totalZoom:c.zoom,zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))},this),u.setPointerChecker(function(r,u,c){return s.containPoint([u,c])&&!Xx(r,i,t)})},t.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var r=t.getTextContent();r&&(r.ignore=X3(r).ignore)})},t.prototype._updateMapSelectHandler=function(t,r,i,s){var u=this;r.off("mousedown"),r.off("click"),t.get("selectedMode")&&(r.on("mousedown",function(){u._mouseDownFlag=!0}),r.on("click",function(t){if(!!u._mouseDownFlag)u._mouseDownFlag=!1}))},t}();function X8(t,r,i,s){var u=s.getModel("itemStyle"),c=s.getModel(["emphasis","itemStyle"]),h=s.getModel(["blur","itemStyle"]),f=s.getModel(["select","itemStyle"]),p=X5(u),v=X5(c),y=X5(f),x=X5(h),_=t.data;if(_){var b=_.getItemVisual(i,"style"),w=_.getItemVisual(i,"decal");t.isVisualEncodedByVisualMap&&b.fill&&(p.fill=b.fill),w&&(p.decal=UB(w,t.api))}r.setStyle(p),r.style.strokeNoScale=!0,r.ensureState("emphasis").style=v,r.ensureState("select").style=y,r.ensureState("blur").style=x,PM(r)}function X6(t,r,i,s,u,c,h){var f=t.data,p=t.isGeo,v=f&&isNaN(f.get(f.mapDimension("value"),c)),y=f&&f.getItemLayout(c);if(p||v||y&&y.showLabel){var x=p?i:c,_=void 0;(!f||c>=0)&&(_=u);var b=h?{normal:{align:"center",verticalAlign:"middle"}}:null;P7(r,Le(s),{labelFetcher:_,labelDataIndex:x,defaultText:i},b);var w=r.getTextContent();if(w&&(X3(w).ignore=w.ignore,r.textConfig&&h)){var S=r.getBoundingRect().clone();r.textConfig.layoutRect=S,r.textConfig.position=[(h[0]-S.x)/S.width*100+"%",(h[1]-S.y)/S.height*100+"%"]}r.disableLabelAnimation=!0}else r.removeTextContent(),r.removeTextConfig(),r.disableLabelAnimation=null}function X7(t,r,i,s,u,c){t.data?t.data.setItemGraphicEl(c,r):Pe(r).eventData={componentType:"geo",componentIndex:u.componentIndex,geoIndex:u.componentIndex,name:i,region:s&&s.option||{}}}function Ye(t,r,i,s,u){!t.data&&Fs({el:r,componentModel:u,itemName:i,itemTooltipOption:s.get("tooltip")})}function Yt(t,r,i,s,u){r.highDownSilentOnTouch=!!u.get("selectedMode");var c,h,f,p,v=s.getModel("emphasis"),y=v.get("focus");if(PG(r,y,v.get("blurScope"),v.get("disabled")),t.isGeo){;c=r,h=u,f=i,(p=Pe(c)).componentMainType=h.mainType,p.componentIndex=h.componentIndex,p.componentHighDownName=f}return y}function Yn(t,r,i){var s,u=[];function c(){s=[]}function h(){s.length&&(u.push(s),s=[])}var f=r({polygonStart:c,polygonEnd:h,lineStart:c,lineEnd:h,point:function(t,r){isFinite(t)&&isFinite(r)&&s.push([t,r])},sphere:function(){}});return i||f.polygonStart(),Mw(t,function(t){f.lineStart();for(var r=0;r<t.length;r++)f.point(t[r][0],t[r][1]);f.lineEnd()}),i||f.polygonEnd(),u}var Yr=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i,s){if(s&&"mapToggleSelect"===s.type&&s.from===this.uid)return;var u=this.group;if(u.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&s&&"geoRoam"===s.type&&this._mapDraw.resetForLabelLayout(),s&&"geoRoam"===s.type&&"series"===s.componentType&&s.seriesId===t.id){var c=this._mapDraw;c&&u.add(c.group)}else if(t.needsDrawMap){var c=this._mapDraw||new X9(i);u.add(c.group),c.draw(t,r,i,this,s),this._mapDraw=c}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(t,r,i)}},r.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},r.prototype._renderSymbols=function(t,r,i){var s=t.originalData,u=this.group;s.each(s.mapDimension("value"),function(r,i){if(isNaN(r))return;var c=s.getItemLayout(i);if(!!c&&!!c.point){var h=c.point,f=c.offset,p=new O3({style:{fill:t.getData().getVisual("style").fill},shape:{cx:h[0]+9*f,cy:h[1],r:3},silent:!0,z2:8+(f?0:11)});if(!f){var v=t.mainSeries.getData(),y=s.getName(i),x=v.indexOfName(y),_=s.getItemModel(i),b=_.getModel("label"),w=v.getItemGraphicEl(x);P7(p,Le(_),{labelFetcher:{getFormattedLabel:function(r,i){return t.getFormattedLabel(x,i)}},defaultText:y}),p.disableLabelAnimation=!0,!b.get("position")&&p.setTextConfig({position:"bottom"}),w.onHoverStateChange=function(t){PS(p,t)}}u.add(p)}})},r.type="map",r}(Fy),Yi=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.needsDrawMap=!1,i.seriesGroup=[],i.getTooltipPosition=function(t){if(null!=t){var r=this.getData().getName(t),i=this.coordinateSystem,s=i.getRegion(r);return s&&i.dataToPoint(s.getCenter())}},i}return AK(r,t),r.prototype.getInitialData=function(t){for(var r=We(this,{coordDimensions:["value"],encodeDefaulter:MI(BL,this)}),i=M2(),s=[],u=0,c=r.count();u<c;u++){var h=r.getName(u);i.set(h,!0)}return Mw(Xq.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(t){var r=t.name;!i.get(r)&&s.push(r)}),r.appendValues([],s),r},r.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},r.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},r.prototype.getRawValue=function(t){var r=this.getData();return r.get(r.mapDimension("value"),t)},r.prototype.getRegionModel=function(t){var r=this.getData();return r.getItemModel(r.indexOfName(t))},r.prototype.formatTooltip=function(t,r,i){for(var s=this.getData(),u=this.getRawValue(t),c=s.getName(t),h=this.seriesGroup,f=[],p=0;p<h.length;p++){var v=h[p].originalData.indexOfName(c),y=s.mapDimension("value");!isNaN(h[p].originalData.get(y,v))&&f.push(h[p].name)}return Ol("section",{header:f.join(", "),noHeader:!f.length,blocks:[Ol("nameValue",{name:c,value:u})]})},r.prototype.setZoom=function(t){this.option.zoom=t},r.prototype.setCenter=function(t){this.option.center=t},r.prototype.getLegendIcon=function(t){var r=t.icon||"roundRect",i=Us(r,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},r.type="series.map",r.dependencies=["geo"],r.layoutMode="box",r.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},r}(OR);function Ya(t){var r={};t.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),s=i?"o"+i.id:"i"+t.getMapType();(r[s]=r[s]||[]).push(t)}),Mw(r,function(t,r){for(var i,s,u,c=(i=MS(t,function(t){return t.getData()}),s=t[0].get("mapValueCalculation"),u={},Mw(i,function(t){t.each(t.mapDimension("value"),function(r,i){var s="ec-"+t.getName(i);u[s]=u[s]||[],!isNaN(r)&&u[s].push(r)})}),i[0].map(i[0].mapDimension("value"),function(t,r){for(var c,h="ec-"+i[0].getName(r),f=0,p=1/0,v=-1/0,y=u[h].length,x=0;x<y;x++)p=Math.min(p,u[h][x]),v=Math.max(v,u[h][x]),f+=u[h][x];return c="min"===s?p:"max"===s?v:"average"===s?f/y:f,0===y?NaN:c})),h=0;h<t.length;h++)t[h].originalData=t[h].getData();for(var h=0;h<t.length;h++)t[h].seriesGroup=t,t[h].needsDrawMap=0===h&&!t[h].getHostGeoModel(),t[h].setData(c.cloneShallow()),t[h].mainSeries=t[0]})}function Yo(t){var r={};t.eachSeriesByType("map",function(i){var s=i.getMapType();if(!i.getHostGeoModel()&&!r[s]){var u={};Mw(i.seriesGroup,function(r){var i=r.coordinateSystem,s=r.originalData;r.get("showLegendSymbol")&&t.getComponent("legend")&&s.each(s.mapDimension("value"),function(t,r){var c=s.getName(r),h=i.getRegion(c);if(!(!h||isNaN(t))){var f=u[c]||0,p=i.dataToPoint(h.getCenter());u[c]=f+1,s.setItemLayout(r,{point:p,offset:f})}})});var c=i.getData();c.each(function(t){var r=c.getName(t),i=c.getItemLayout(t)||{};i.showLabel=!u[r],c.setItemLayout(t,i)}),r[s]=!0}})}var Ys=Cb,Yl=function(t){function r(r){var i=t.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new In,i._rawTransformable=new In,i.name=r,i}return AK(r,t),r.prototype.setBoundingRect=function(t,r,i,s){return this._rect=new Ti(t,r,i,s),this._rect},r.prototype.getBoundingRect=function(){return this._rect},r.prototype.setViewRect=function(t,r,i,s){this._transformTo(t,r,i,s),this._viewRect=new Ti(t,r,i,s)},r.prototype._transformTo=function(t,r,i,s){var u=this.getBoundingRect(),c=this._rawTransformable;c.transform=u.calculateTransform(new Ti(t,r,i,s));var h=c.parent;c.parent=null,c.decomposeTransform(),c.parent=h,this._updateTransform()},r.prototype.setCenter=function(t,r){if(!!t)this._center=[IO(t[0],r.getWidth()),IO(t[1],r.getHeight())],this._updateCenterAndZoom()},r.prototype.setZoom=function(t){t=t||1;var r=this.zoomLimit;r&&(null!=r.max&&(t=Math.min(r.max,t)),null!=r.min&&(t=Math.max(r.min,t))),this._zoom=t,this._updateCenterAndZoom()},r.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},r.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},r.prototype.getZoom=function(){return this._zoom||1},r.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},r.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),s=this.getCenter(),u=this.getZoom();s=Cb([],s,t),i=Cb([],i,t),r.originX=s[0],r.originY=s[1],r.x=i[0]-s[0],r.y=i[1]-s[1],r.scaleX=r.scaleY=u,this._updateTransform()},r.prototype._updateTransform=function(){var t=this._roamTransformable,r=this._rawTransformable;r.parent=t,t.updateTransform(),r.updateTransform(),Cq(this.transform||(this.transform=[]),r.transform||CJ()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],C3(this.invTransform,this.transform),this.decomposeTransform()},r.prototype.getTransformInfo=function(){var t=this._rawTransformable,r=this._roamTransformable,i=new In;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},r.prototype.getViewRect=function(){return this._viewRect},r.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},r.prototype.dataToPoint=function(t,r,i){var s=r?this._rawTransform:this.transform;return i=i||[],s?Ys(i,t,s):Ce(i,t)},r.prototype.pointToData=function(t){var r=this.invTransform;return r?Ys([],t,r):[t[0],t[1]]},r.prototype.convertToPixel=function(t,r,i){var s=Yu(r);return s===this?s.dataToPoint(i):null},r.prototype.convertFromPixel=function(t,r,i){var s=Yu(r);return s===this?s.pointToData(i):null},r.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},r.dimensions=["x","y"],r}(In);function Yu(t){var r=t.seriesModel;return r?r.coordinateSystem:null}var Yc={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Yh=["lng","lat"],Yd=function(t){function r(r,i,s){var u,c=t.call(this,r)||this;c.dimensions=Yh,c.type="geo",c._nameCoordMap=M2(),c.map=i;var h=s.projection,f=Xq.load(i,s.nameMap,s.nameProperty),p=Xq.getGeoResource(i);c.resourceType=p?p.type:null;var v=c.regions=f.regions,y=Yc[p.type];c._regionsMap=f.regionsMap,c.regions=f.regions;if(c.projection=h,h)for(var x=0;x<v.length;x++){var _=v[x].getBoundingRect(h);(u=u||_.clone()).union(_)}else u=f.boundingRect;return c.setBoundingRect(u.x,u.y,u.width,u.height),c.aspectScale=h?1:Mj(s.aspectScale,y.aspectScale),c._invertLongitute=!h&&y.invertLongitute,c}return AK(r,t),r.prototype._transformTo=function(t,r,i,s){var u=this.getBoundingRect(),c=this._invertLongitute;u=u.clone(),c&&(u.y=-u.y-u.height);var h=this._rawTransformable;h.transform=u.calculateTransform(new Ti(t,r,i,s));var f=h.parent;h.parent=null,h.decomposeTransform(),h.parent=f,c&&(h.scaleY=-h.scaleY),this._updateTransform()},r.prototype.getRegion=function(t){return this._regionsMap.get(t)},r.prototype.getRegionByCoord=function(t){for(var r=this.regions,i=0;i<r.length;i++){var s=r[i];if("geoJSON"===s.type&&s.contain(t))return r[i]}},r.prototype.addGeoCoord=function(t,r){this._nameCoordMap.set(t,r)},r.prototype.getGeoCoord=function(t){var r=this._regionsMap.get(t);return this._nameCoordMap.get(t)||r&&r.getCenter()},r.prototype.dataToPoint=function(t,r,i){if(MP(t)&&(t=this.getGeoCoord(t)),t){var s=this.projection;return s&&(t=s.project(t)),t&&this.projectedToPoint(t,r,i)}},r.prototype.pointToData=function(t){var r=this.projection;return r&&(t=r.unproject(t)),t&&this.pointToProjected(t)},r.prototype.pointToProjected=function(r){return t.prototype.pointToData.call(this,r)},r.prototype.projectedToPoint=function(r,i,s){return t.prototype.dataToPoint.call(this,r,i,s)},r.prototype.convertToPixel=function(t,r,i){var s=Yf(r);return s===this?s.dataToPoint(i):null},r.prototype.convertFromPixel=function(t,r,i){var s=Yf(r);return s===this?s.pointToData(i):null},r}(Yl);function Yf(t){var r=t.geoModel,i=t.seriesModel;return r?r.coordinateSystem:i?i.coordinateSystem||(i.getReferringComponents("geo",Dd).models[0]||{}).coordinateSystem:null}M_(Yd,Yl);function Yp(t,r){var i,s,u,c=t.get("boundingCoords");if(null!=c){var h=c[0],f=c[1];if(isFinite(h[0])&&isFinite(h[1])&&isFinite(f[0])&&isFinite(f[1])){var p=this.projection;if(p){var v=h[0],y=h[1],x=f[0],_=f[1];h=[1/0,1/0],f=[-1/0,-1/0];var b=function(t,r,i,s){for(var u=i-t,c=s-r,v=0;v<=100;v++){var y=v/100,x=p.project([t+u*y,r+c*y]);Cw(h,h,x),CS(f,f,x)}};b(v,y,x,y),b(x,y,x,_),b(x,_,v,_),b(v,_,x,y)}this.setBoundingRect(h[0],h[1],f[0]-h[0],f[1]-h[1])}}var w=this.getBoundingRect(),S=t.get("layoutCenter"),A=t.get("layoutSize"),M=r.getWidth(),C=r.getHeight(),T=w.width/w.height*this.aspectScale,I=!1;if(S&&A&&(i=[IO(S[0],M),IO(S[1],C)],s=IO(A,Math.min(M,C)),!isNaN(i[0])&&!isNaN(i[1])&&!isNaN(s)&&(I=!0)),I)u={},T>1?(u.width=s,u.height=s/T):(u.height=s,u.width=s*T),u.y=i[1]-u.height/2,u.x=i[0]-u.width/2;else{var D=t.getBoxLayoutParams();D.aspect=T,u=Bc(D,{width:M,height:C})}this.setViewRect(u.x,u.y,u.width,u.height),this.setCenter(t.get("center"),r),this.setZoom(t.get("zoom"))}var Yg=new(function(){function t(){this.dimensions=Yh}return t.prototype.create=function(t,r){var i=[];function s(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",function(t,u){var c=t.get("map"),h=new Yd(c+u,c,Mg({nameMap:t.get("nameMap")},s(t)));h.zoomLimit=t.get("scaleLimit"),i.push(h),t.coordinateSystem=h,h.model=t,h.resize=Yp,h.resize(t,r)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var r=t.get("geoIndex")||0;t.coordinateSystem=i[r]}});var u={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var r=t.getMapType();u[r]=u[r]||[],u[r].push(t)}}),Mw(u,function(t,u){var c=new Yd(u,u,Mg({nameMap:Mp(MS(t,function(t){return t.get("nameMap")}))},s(t[0])));c.zoomLimit=MV.apply(null,MS(t,function(t){return t.get("scaleLimit")})),i.push(c),c.resize=Yp,c.resize(t[0],r),Mw(t,function(t){var r;t.coordinateSystem=c,r=c,Mw(t.get("geoCoord"),function(t,i){r.addGeoCoord(i,t)})})}),i},t.prototype.getFilledRegions=function(t,r,i,s){for(var u=(t||[]).slice(),c=M2(),h=0;h<u.length;h++)c.set(u[h].name,u[h]);return Mw(Xq.load(r,i,s).regions,function(t){var r=t.name;c.get(r)||u.push({name:r})}),u},t}()),Ym=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(t,r,i){var s=Xq.getGeoResource(t.map);if(s&&"geoJSON"===s.type){var u=t.itemStyle=t.itemStyle||{};!("color"in u)&&(u.color="#eee")}this.mergeDefaultAndTheme(t,i),I6(t,"label",["show"])},r.prototype.optionUpdated=function(){var t=this,r=this.option;r.regions=Yg.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=MA(r.regions||[],function(r,s){var u=s.name;return u&&(r.set(u,new Lw(s,t,t.ecModel)),s.selected&&(i[u]=!0)),r},M2()),!r.selectedMap&&(r.selectedMap=i)},r.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Lw(null,this,this.ecModel)},r.prototype.getFormattedLabel=function(t,r){var i=this.getRegionModel(t),s="normal"===r?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),u={name:t};return MR(s)?(u.status=r,s(u)):MP(s)?s.replace("{a}",null!=t?t:""):void 0},r.prototype.setZoom=function(t){this.option.zoom=t},r.prototype.setCenter=function(t){this.option.center=t},r.prototype.select=function(t){var r=this.option,i=r.selectedMode;if(!!i)"multiple"!==i&&(r.selectedMap=null),(r.selectedMap||(r.selectedMap={}))[t]=!0},r.prototype.unSelect=function(t){var r=this.option.selectedMap;r&&(r[t]=!1)},r.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},r.prototype.isSelected=function(t){var r=this.option.selectedMap;return!!(r&&r[t])},r.type="geo",r.layoutMode="box",r.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},r}(By);function Yv(t,r){return t.pointToProjected?t.pointToProjected(r):t.pointToData(r)}function Yy(t,r,i,s){var u=t.getZoom(),c=t.getCenter(),h=r.zoom,f=t.projectedToPoint?t.projectedToPoint(c):t.dataToPoint(c);if(null!=r.dx&&null!=r.dy&&(f[0]-=r.dx,f[1]-=r.dy,t.setCenter(Yv(t,f),s)),null!=h){if(i){var p=i.min||0;h=Math.max(Math.min(u*h,i.max||1/0),p)/u}t.scaleX*=h,t.scaleY*=h;var v=(r.originX-t.x)*(h-1),y=(r.originY-t.y)*(h-1);t.x-=v,t.y-=y,t.updateTransform(),t.setCenter(Yv(t,f),s),t.setZoom(h*u)}return{center:t.getCenter(),zoom:t.getZoom()}}var Yx=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.focusBlurEnabled=!0,i}return AK(r,t),r.prototype.init=function(t,r){this._api=r},r.prototype.render=function(t,r,i,s){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}!this._mapDraw&&(this._mapDraw=new X9(i));var u=this._mapDraw;u.draw(t,r,i,this,s),u.group.on("click",this._handleRegionClick,this),u.group.silent=t.get("silent"),this.group.add(u.group),this.updateSelectStatus(t,r,i)},r.prototype._handleRegionClick=function(t){var r;F4(t.target,function(t){return null!=(r=Pe(t).eventData)},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},r.prototype.updateSelectStatus=function(t,r,i){var s=this;this._mapDraw.group.traverse(function(t){var r=Pe(t).eventData;if(r)return s._model.isSelected(r.name)?i.enterSelect(t):i.leaveSelect(t),!0})},r.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},r.type="geo",r}(OL);function Y_(t,r,i){Xq.registerMap(t,r,i)}function Yb(t){function r(r,i){i.update="geo:updateSelectStatus",t.registerAction(i,function(t,i){var s={},u=[];return i.eachComponent({mainType:"geo",query:t},function(i){i[r](t.name),Mw(i.coordinateSystem.regions,function(t){s[t.name]=i.isSelected(t.name)||!1});var c=[];Mw(s,function(t,r){s[r]&&c.push(r)}),u.push({geoIndex:i.componentIndex,name:c})}),{selected:s,allSelected:u,name:t.name}})}t.registerCoordinateSystem("geo",Yg),t.registerComponentModel(Ym),t.registerComponentView(Yx),t.registerImpl("registerMap",Y_),t.registerImpl("getMap",function(t){return Xq.getMapForUser(t)}),r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,r,i){var s=t.componentType||"series";r.eachComponent({mainType:s,query:t},function(r){var u=r.coordinateSystem;if("geo"===u.type){var c=Yy(u,t,r.get("scaleLimit"),i);r.setCenter&&r.setCenter(c.center),r.setZoom&&r.setZoom(c.zoom),"series"===s&&Mw(r.seriesGroup,function(t){t.setCenter(c.center),t.setZoom(c.zoom)})}})})}function Yw(t,r){var i=t.isExpand?t.children:[],s=t.parentNode.children,u=t.hierNode.i?s[t.hierNode.i-1]:null;if(i.length){(function(t){for(var r=t.children,i=r.length,s=0,u=0;--i>=0;){var c=r[i];c.hierNode.prelim+=s,c.hierNode.modifier+=s,u+=c.hierNode.change,s+=c.hierNode.shift+u}})(t);var c=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;u?(t.hierNode.prelim=u.hierNode.prelim+r(t,u),t.hierNode.modifier=t.hierNode.prelim-c):t.hierNode.prelim=c}else u&&(t.hierNode.prelim=u.hierNode.prelim+r(t,u));t.parentNode.hierNode.defaultAncestor=function(t,r,i,s){if(r){for(var u=t,c=t,h=c.parentNode.children[0],f=r,p=u.hierNode.modifier,v=c.hierNode.modifier,y=h.hierNode.modifier,x=f.hierNode.modifier;f=YC(f),c=YT(c),f&&c;){u=YC(u),h=YT(h),u.hierNode.ancestor=t;var _=f.hierNode.prelim+x-c.hierNode.prelim-v+s(f,c);_>0&&(function(t,r,i){var s=i/(r.hierNode.i-t.hierNode.i);r.hierNode.change-=s,r.hierNode.shift+=i,r.hierNode.modifier+=i,r.hierNode.prelim+=i,t.hierNode.change+=s}(function(t,r,i){return t.hierNode.ancestor.parentNode===r.parentNode?t.hierNode.ancestor:i}(f,t,i),t,_),v+=_,p+=_),x+=f.hierNode.modifier,v+=c.hierNode.modifier,p+=u.hierNode.modifier,y+=h.hierNode.modifier}f&&!YC(u)&&(u.hierNode.thread=f,u.hierNode.modifier+=x-p),c&&!YT(h)&&(h.hierNode.thread=c,h.hierNode.modifier+=v-y,i=t)}return i}(t,u,t.parentNode.hierNode.defaultAncestor||s[0],r)}function YS(t){var r=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:r},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function YA(t){return arguments.length?t:YE}function YM(t,r){return{x:r*Math.cos(t-=Math.PI/2),y:r*Math.sin(t)}}function YC(t){var r=t.children;return r.length&&t.isExpand?r[r.length-1]:t.hierNode.thread}function YT(t){var r=t.children;return r.length&&t.isExpand?r[0]:t.hierNode.thread}function YE(t,r){return t.parentNode===r.parentNode?1:2}var YI=function(){this.parentPoint=[],this.childPoints=[]},YD=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new YI},r.prototype.buildPath=function(t,r){var i=r.childPoints,s=i.length,u=r.parentPoint,c=i[0],h=i[s-1];if(1===s){t.moveTo(u[0],u[1]),t.lineTo(c[0],c[1]);return}var f=r.orient,p="TB"===f||"BT"===f?0:1,v=1-p,y=IO(r.forkPosition,1),x=[];x[p]=u[p],x[v]=u[v]+(h[v]-u[v])*y,t.moveTo(u[0],u[1]),t.lineTo(x[0],x[1]),t.moveTo(c[0],c[1]),x[p]=c[p],t.lineTo(x[0],x[1]),x[p]=h[p],t.lineTo(x[0],x[1]),t.lineTo(h[0],h[1]);for(var _=1;_<s-1;_++){var b=i[_];t.moveTo(b[0],b[1]),x[p]=b[p],t.lineTo(x[0],x[1])}},r}(RL),YR=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i._mainGroup=new IS,i}return AK(r,t),r.prototype.init=function(t,r){this._controller=new Xd(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},r.prototype.render=function(t,r,i){var s=t.getData(),u=t.layoutInfo,c=this._mainGroup;"radial"===t.get("layout")?(c.x=u.x+u.width/2,c.y=u.y+u.height/2):(c.x=u.x,c.y=u.y),this._updateViewCoordSys(t,i),this._updateController(t,r,i);var h=this._data;s.diff(h).add(function(r){YP(s,r)&&YL(s,r,null,c,t)}).update(function(r,i){var u=h.getItemGraphicEl(i);if(!YP(s,r)){u&&YO(h,i,u,c,t);return}YL(s,r,u,c,t)}).remove(function(r){var i=h.getItemGraphicEl(r);i&&YO(h,r,i,c,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&s.eachItemGraphicEl(function(r,s){r.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:s})})}),this._data=s},r.prototype._updateViewCoordSys=function(t,r){var i=t.getData(),s=[];i.each(function(t){var r=i.getItemLayout(t);r&&!isNaN(r.x)&&!isNaN(r.y)&&s.push([+r.x,+r.y])});var u=[],c=[];D9(s,u,c);var h=this._min,f=this._max;c[0]-u[0]==0&&(u[0]=h?h[0]:u[0]-1,c[0]=f?f[0]:c[0]+1),c[1]-u[1]==0&&(u[1]=h?h[1]:u[1]-1,c[1]=f?f[1]:c[1]+1);var p=t.coordinateSystem=new Yl;p.zoomLimit=t.get("scaleLimit"),p.setBoundingRect(u[0],u[1],c[0]-u[0],c[1]-u[1]),p.setCenter(t.get("center"),r),p.setZoom(t.get("zoom")),this.group.attr({x:p.x,y:p.y,scaleX:p.scaleX,scaleY:p.scaleY}),this._min=u,this._max=c},r.prototype._updateController=function(t,r,i){var s=this,u=this._controller,c=this._controllerHost,h=this.group;u.setPointerChecker(function(r,s,u){var c=h.getBoundingRect();return c.applyTransform(h.transform),c.contain(s,u)&&!Xx(r,i,t)}),u.enable(t.get("roam")),c.zoomLimit=t.get("scaleLimit"),c.zoom=t.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(r){Xm(c,r.dx,r.dy),i.dispatchAction({seriesId:t.id,type:"treeRoam",dx:r.dx,dy:r.dy})}).on("zoom",function(r){Xv(c,r.scale,r.originX,r.originY),i.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:r.scale,originX:r.originX,originY:r.originY}),s._updateNodeAndLinkScale(t),i.updateLabelLayout()})},r.prototype._updateNodeAndLinkScale=function(t){var r=t.getData(),i=this._getNodeGlobalScale(t);r.eachItemGraphicEl(function(t,r){t.setSymbolScale(i)})},r.prototype._getNodeGlobalScale=function(t){var r=t.coordinateSystem;if("view"!==r.type)return 1;var i=this._nodeScaleRatio,s=r.scaleX||1,u=r.getZoom();return((u-1)*i+1)/s},r.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},r.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},r.type="tree",r}(Fy);function YP(t,r){var i=t.getItemLayout(r);return i&&!isNaN(i.x)&&!isNaN(i.y)}function YL(t,r,i,s,u){var c=!i,h=t.tree.getNodeByDataIndex(r),f=h.getModel(),p=h.getVisual("style").fill,v=!1===h.isExpand&&0!==h.children.length?p:"#fff",y=t.tree.root,x=h.parentNode===y?h:h.parentNode||h,_=t.getItemGraphicEl(x.dataIndex),b=x.getLayout(),w=_?{x:_.__oldX,y:_.__oldY,rawX:_.__radialOldRawX,rawY:_.__radialOldRawY}:b,S=h.getLayout();c?((i=new V3(t,r,null,{symbolInnerColor:v,useNameLabel:!0})).x=w.x,i.y=w.y):i.updateData(t,r,null,{symbolInnerColor:v,useNameLabel:!0}),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=S.rawX,i.__radialRawY=S.rawY,s.add(i),t.setItemGraphicEl(r,i),i.__oldX=i.x,i.__oldY=i.y,P$(i,{x:S.x,y:S.y},u);var A=i.getSymbolPath();if("radial"===u.get("layout")){var M=y.children[0],C=M.getLayout(),T=M.children.length,I=void 0,D=void 0;if(S.x===C.x&&!0===h.isExpand&&M.children.length){var R={x:(M.children[0].getLayout().x+M.children[T-1].getLayout().x)/2,y:(M.children[0].getLayout().y+M.children[T-1].getLayout().y)/2};(I=Math.atan2(R.y-C.y,R.x-C.x))<0&&(I=2*Math.PI+I),(D=R.x<C.x)&&(I-=Math.PI)}else(I=Math.atan2(S.y-C.y,S.x-C.x))<0&&(I=2*Math.PI+I),0===h.children.length||0!==h.children.length&&!1===h.isExpand?(D=S.x<C.x)&&(I-=Math.PI):!(D=S.x>C.x)&&(I-=Math.PI);var P=D?"left":"right",L=f.getModel("label"),B=L.get("rotate"),k=Math.PI/180*B,O=A.getTextContent();O&&(A.setTextConfig({position:L.get("position")||P,rotation:null==B?-I:k,origin:"center"}),O.setStyle("verticalAlign","middle"))}var N=f.get(["emphasis","focus"]),F="relative"===N?M3(h.getAncestorsIndices(),h.getDescendantIndices()):"ancestor"===N?h.getAncestorsIndices():"descendant"===N?h.getDescendantIndices():null;F&&(Pe(i).focus=F),function(t,r,i,s,u,c,h,f){var p=r.getModel(),v=t.get("edgeShape"),y=t.get("layout"),x=t.getOrient(),_=t.get(["lineStyle","curveness"]),b=t.get("edgeForkPosition"),w=p.getModel("lineStyle").getLineStyle(),S=s.__edge;if("curve"===v)r.parentNode&&r.parentNode!==i&&(!S&&(S=s.__edge=new NI({shape:YN(y,x,_,u,u)})),P$(S,{shape:YN(y,x,_,c,h)},t));else if("polyline"===v&&"orthogonal"===y&&r!==i&&r.children&&0!==r.children.length&&!0===r.isExpand){for(var A=r.children,M=[],C=0;C<A.length;C++){var T=A[C].getLayout();M.push([T.x,T.y])}!S&&(S=s.__edge=new YD({shape:{parentPoint:[h.x,h.y],childPoints:[[h.x,h.y]],orient:x,forkPosition:b}})),P$(S,{shape:{parentPoint:[h.x,h.y],childPoints:M}},t)}S&&!("polyline"===v&&!r.isExpand)&&(S.useStyle(Mm({strokeNoScale:!0,fill:null},w)),PW(S,p,"lineStyle"),PM(S),f.add(S))}(u,h,y,i,w,b,S,s),i.__edge&&(i.onHoverStateChange=function(r){if("blur"!==r){var s=h.parentNode&&t.getItemGraphicEl(h.parentNode.dataIndex);!(s&&1===s.hoverState)&&PS(i.__edge,r)}})}function YB(t,r,i,s,u){var c=Yk(r.tree.root,t),h=c.source,f=c.sourceLayout,p=r.getItemGraphicEl(t.dataIndex);if(!!p){var v=r.getItemGraphicEl(h.dataIndex).__edge,y=p.__edge||(!1===h.isExpand||1===h.children.length?v:void 0),x=s.get("edgeShape"),_=s.get("layout"),b=s.get("orient"),w=s.get(["lineStyle","curveness"]);y&&("curve"===x?P2(y,{shape:YN(_,b,w,f,f),style:{opacity:0}},s,{cb:function(){i.remove(y)},removeOpt:u}):"polyline"===x&&"orthogonal"===s.get("layout")&&P2(y,{shape:{parentPoint:[f.x,f.y],childPoints:[[f.x,f.y]]},style:{opacity:0}},s,{cb:function(){i.remove(y)},removeOpt:u}))}}function Yk(t,r){for(var i,s=r.parentNode===t?r:r.parentNode||r;null==(i=s.getLayout());)s=s.parentNode===t?s:s.parentNode||s;return{source:s,sourceLayout:i}}function YO(t,r,i,s,u){var c=t.tree.getNodeByDataIndex(r),h=Yk(t.tree.root,c).sourceLayout,f={duration:u.get("animationDurationUpdate"),easing:u.get("animationEasingUpdate")};P2(i,{x:h.x+1,y:h.y+1},u,{cb:function(){s.remove(i),t.setItemGraphicEl(r,null)},removeOpt:f}),i.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:f}),c.children.forEach(function(r){YB(r,t,s,u,f)}),YB(c,t,s,u,f)}function YN(t,r,i,s,u){if("radial"===t){v=s.rawX,x=s.rawY,y=u.rawX,_=u.rawY;var c,h,f,p,v,y,x,_,b=YM(v,x),w=YM(v,x+(_-x)*i),S=YM(y,_+(x-_)*i),A=YM(y,_);return{x1:b.x||0,y1:b.y||0,x2:A.x||0,y2:A.y||0,cpx1:w.x||0,cpy1:w.y||0,cpx2:S.x||0,cpy2:S.y||0}}return v=s.x,x=s.y,y=u.x,_=u.y,("LR"===r||"RL"===r)&&(c=v+(y-v)*i,h=x,f=y+(v-y)*i,p=_),("TB"===r||"BT"===r)&&(c=v,h=x+(_-x)*i,f=y,p=_+(x-_)*i),{x1:v,y1:x,x2:y,y2:_,cpx1:c,cpy1:h,cpx2:f,cpy2:p}}var YF=Dl();function YU(t,r){if(function(t){return YF(t).mainData===t}(this)){var i=Mg({},YF(this).datas);i[this.dataType]=r,Yj(r,i,t)}else YW(r,this.dataType,YF(this).mainData,t);return r}function Yz(t,r){return t.struct&&t.struct.update(),r}function YG(t,r){return Mw(YF(r).datas,function(i,s){i!==r&&YW(i.cloneShallow(),s,r,t)}),r}function YH(t){var r=YF(this).mainData;return null==t||null==r?r:YF(r).datas[t]}function YV(){var t=YF(this).mainData;return null==t?[{data:t}]:MS(MT(YF(t).datas),function(r){return{type:r,data:YF(t).datas[r]}})}function Yj(t,r,i){YF(t).datas={},Mw(r,function(r,s){YW(r,s,t,i)})}function YW(t,r,i,s){YF(i).datas[r]=t,YF(t).mainData=i,t.dataType=r,s.struct&&(t[s.structAttr]=s.struct,s.struct[s.datasAttr[r]]=t),t.getLinkedData=YH,t.getLinkedDataAll=YV}let YX=function(t){var r=t.mainData,i=t.datas;!i&&(i={main:r},t.datasAttr={main:"data"}),t.datas=t.mainData=null,Yj(r,i,t),Mw(i,function(i){Mw(r.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,MI(YU,t))})}),r.wrapMethod("cloneShallow",MI(YG,t)),Mw(r.CHANGABLE_METHODS,function(i){r.wrapMethod(i,MI(Yz,t))}),MZ(i[r.dataType]===r)};var YY=function(){function t(t,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=r}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,r,i){MR(t)&&(i=r,r=t,t=null),MP(t=t||{})&&(t={order:t});var s,u=t.order||"preorder",c=this[t.attr||"children"];"preorder"===u&&(s=r.call(i,this));for(var h=0;!s&&h<c.length;h++)c[h].eachNode(t,r,i);"postorder"===u&&r.call(i,this)},t.prototype.updateDepthAndHeight=function(t){var r=0;this.depth=t;for(var i=0;i<this.children.length;i++){var s=this.children[i];s.updateDepthAndHeight(t+1),s.height>r&&(r=s.height)}this.height=r+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var r=0,i=this.children,s=i.length;r<s;r++){var u=i[r].getNodeById(t);if(u)return u}},t.prototype.contains=function(t){if(t===this)return!0;for(var r=0,i=this.children,s=i.length;r<s;r++){var u=i[r].contains(t);if(u)return u}},t.prototype.getAncestors=function(t){for(var r=[],i=t?this:this.parentNode;i;)r.push(i),i=i.parentNode;return r.reverse(),r},t.prototype.getAncestorsIndices=function(){for(var t=[],r=this;r;)t.push(r.dataIndex),r=r.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(r){t.push(r.dataIndex)}),t},t.prototype.getValue=function(t){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,r)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,r)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,r=0;r<t.length;++r)if(t[r]===this)return r}return -1},t.prototype.isAncestorOf=function(t){for(var r=t.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),YZ=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,r,i){this.root.eachNode(t,r,i)},t.prototype.getNodeByDataIndex=function(t){var r=this.data.getRawIndex(t);return this._nodes[r]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,r=this._nodes,i=0,s=r.length;i<s;i++)r[i].dataIndex=-1;for(var i=0,s=t.count();i<s;i++)r[t.getRawIndex(i)].dataIndex=i},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(r,i,s){var u=new t(i),c=[],h=1;(function t(r,i){var s=r.value;h=Math.max(h,MD(s)?s.length:1),c.push(r);var f=new YY(Di(r.name,""),u);i?function(t,r){var i=r.children;if(t.parentNode!==r)i.push(t),t.parentNode=r}(f,i):u.root=f,u._nodes.push(f);var p=r.children;if(p)for(var v=0;v<p.length;v++)t(p[v],f)})(r);u.root.updateDepthAndHeight(0);var f=new zq(z0(c,{coordDimensions:["value"],dimensionsCount:h}).dimensions,i);return f.initData(c),s&&s(f),YX({mainData:f,struct:u,structAttr:"tree"}),u.update(),u},t}();function YK(t,r,i){if(t&&My(r,t.type)>=0){var s=i.getData().tree.root,u=t.targetNode;if(MP(u)&&(u=s.getNodeById(u)),u&&s.contains(u))return{node:u};var c=t.targetNodeId;if(null!=c&&(u=s.getNodeById(c)))return{node:u}}}function YJ(t){for(var r=[];t;)(t=t.parentNode)&&r.push(t);return r.reverse()}function YQ(t,r){return My(YJ(t),r)>=0}function Yq(t,r){for(var i=[];t;){var s=t.dataIndex;i.push({name:t.name,dataIndex:s,value:r.getRawValue(s)}),t=t.parentNode}return i.reverse(),i}var Y$=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return AK(r,t),r.prototype.getInitialData=function(t){var r={name:t.name,children:t.data},i=new Lw(t.leaves||{},this,this.ecModel),s=YZ.createTree(r,this,function(t){t.wrapMethod("getItemModel",function(t,r){var u=s.getNodeByDataIndex(r);return!(u&&u.children.length&&u.isExpand)&&(t.parentModel=i),t})}),u=0;s.eachNode("preorder",function(t){t.depth>u&&(u=t.depth)});var c=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:u;return s.root.eachNode("preorder",function(t){var r=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=r&&null!=r.collapsed?!r.collapsed:t.depth<=c}),s.data},r.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},r.prototype.setZoom=function(t){this.option.zoom=t},r.prototype.setCenter=function(t){this.option.center=t},r.prototype.formatTooltip=function(t,r,i){for(var s=this.getData().tree,u=s.root.children[0],c=s.getNodeByDataIndex(t),h=c.getValue(),f=c.name;c&&c!==u;)f=c.parentNode.name+"."+f,c=c.parentNode;return Ol("nameValue",{name:f,value:h,noValue:isNaN(h)||null==h})},r.prototype.getDataParams=function(r){var i=t.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(r);return i.treeAncestors=Yq(s,this),i.collapsed=!s.isExpand,i},r.type="series.tree",r.layoutMode="box",r.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},r}(OR);function Y0(t,r){for(var i,s=[t];i=s.pop();)if(r(i),i.isExpand){var u=i.children;if(u.length)for(var c=u.length-1;c>=0;c--)s.push(u[c])}}function Y1(t,r){t.eachSeriesByType("tree",function(t){(function(t,r){var i,s,u=(i=t,s=r,Bc(i.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()}));t.layoutInfo=u;var c=t.get("layout"),h=0,f=0,p=null;"radial"===c?(h=2*Math.PI,f=Math.min(u.height,u.width)/2,p=YA(function(t,r){return(t.parentNode===r.parentNode?1:2)/t.depth})):(h=u.width,f=u.height,p=YA());var v=t.getData().tree.root,y=v.children[0];if(y){!function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r,i,s=[t];r=s.pop();)if(i=r.children,r.isExpand&&i.length){for(var u=i.length,c=u-1;c>=0;c--){var h=i[c];h.hierNode={defaultAncestor:null,ancestor:h,prelim:0,modifier:0,change:0,shift:0,i:c,thread:null},s.push(h)}}}(v),!function(t,r,i){for(var s,u=[t],c=[];s=u.pop();)if(c.push(s),s.isExpand){var h=s.children;if(h.length)for(var f=0;f<h.length;f++)u.push(h[f])}for(;s=c.pop();)r(s,i)}(y,Yw,p),v.hierNode.modifier=-y.hierNode.prelim,Y0(y,YS);var x=y,_=y,b=y;Y0(y,function(t){var r=t.getLayout().x;r<x.getLayout().x&&(x=t),r>_.getLayout().x&&(_=t),t.depth>b.depth&&(b=t)});var w=x===_?1:p(x,_)/2,S=w-x.getLayout().x,A=0,M=0,C=0,T=0;if("radial"===c)A=h/(_.getLayout().x+w+S),M=f/(b.depth-1||1),Y0(y,function(t){C=(t.getLayout().x+S)*A,T=(t.depth-1)*M;var r=YM(C,T);t.setLayout({x:r.x,y:r.y,rawX:C,rawY:T},!0)});else{var I=t.getOrient();"RL"===I||"LR"===I?(M=f/(_.getLayout().x+w+S),A=h/(b.depth-1||1),Y0(y,function(t){T=(t.getLayout().x+S)*M,C="LR"===I?(t.depth-1)*A:h-(t.depth-1)*A,t.setLayout({x:C,y:T},!0)})):("TB"===I||"BT"===I)&&(A=h/(_.getLayout().x+w+S),M=f/(b.depth-1||1),Y0(y,function(t){C=(t.getLayout().x+S)*A,T="TB"===I?(t.depth-1)*M:f-(t.depth-1)*M,t.setLayout({x:C,y:T},!0)}))}}})(t,r)})}function Y2(t){t.eachSeriesByType("tree",function(t){var r=t.getData();r.tree.eachNode(function(t){var i=t.getModel().getModel("itemStyle").getItemStyle();Mg(r.ensureUniqueItemVisual(t.dataIndex,"style"),i)})})}var Y3=["treemapZoomToNode","treemapRender","treemapMove"];function Y5(t){var r=t.getData().tree,i={};r.eachNode(function(r){for(var s=r;s&&s.depth>1;)s=s.parentNode;var u=BG(t.ecModel,s.name||s.dataIndex+"",i);r.setVisual("decal",u)})}var Y4=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.preventUsingHoverLayer=!0,i}return AK(r,t),r.prototype.getInitialData=function(t,r){var i={name:t.name,children:t.data};(function t(r){var i=0;Mw(r.children,function(r){t(r);var s=r.value;MD(s)&&(s=s[0]),i+=s});var s=r.value;MD(s)&&(s=s[0]),(null==s||isNaN(s))&&(s=i),s<0&&(s=0),MD(r.value)?r.value[0]=s:r.value=s})(i);var s=t.levels||[],u=new Lw({itemStyle:this.designatedVisualItemStyle={}},this,r),c=MS((s=t.levels=function(t,r){var i,s,u=I8(r.get("color")),c=I8(r.get(["aria","decal","decals"]));if(!!u){Mw(t=t||[],function(t){var r=new Lw(t),u=r.get("color"),c=r.get("decal");(r.get(["itemStyle","color"])||u&&"none"!==u)&&(i=!0),(r.get(["itemStyle","decal"])||c&&"none"!==c)&&(s=!0)});var h=t[0]||(t[0]={});return!i&&(h.color=u.slice()),!s&&c&&(h.decal=c.slice()),t}}(s,r))||[],function(t){return new Lw(t,u,r)},this),h=YZ.createTree(i,this,function(t){t.wrapMethod("getItemModel",function(t,r){var i=h.getNodeByDataIndex(r),s=i?c[i.depth]:null;return t.parentModel=s||u,t})});return h.data},r.prototype.optionUpdated=function(){this.resetViewRoot()},r.prototype.formatTooltip=function(t,r,i){var s=this.getData(),u=this.getRawValue(t);return Ol("nameValue",{name:s.getName(t),value:u})},r.prototype.getDataParams=function(r){var i=t.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(r);return i.treeAncestors=Yq(s,this),i.treePathInfo=i.treeAncestors,i},r.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},Mg(this.layoutInfo,t)},r.prototype.mapIdToIndex=function(t){var r=this._idIndexMap;!r&&(r=this._idIndexMap=M2(),this._idIndexMapCount=0);var i=r.get(t);return null==i&&r.set(t,i=this._idIndexMapCount++),i},r.prototype.getViewRoot=function(){return this._viewRoot},r.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var r=this.getRawData().tree.root;(!t||t!==r&&!r.contains(t))&&(this._viewRoot=r)},r.prototype.enableAriaDecal=function(){Y5(this)},r.type="series.treemap",r.layoutMode="box",r.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},r}(OR),Y9=function(){function t(t){this.group=new IS,t.add(this.group)}return t.prototype.render=function(t,r,i,s){var u=t.getModel("breadcrumb"),c=this.group;if(c.removeAll(),!!u.get("show")&&!!i){var h=u.getModel("itemStyle"),f=u.getModel("emphasis"),p=h.getModel("textStyle"),v=f.getModel(["itemStyle","textStyle"]),y={pos:{left:u.get("left"),right:u.get("right"),top:u.get("top"),bottom:u.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:u.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,y,p),this._renderContent(t,y,h,f,p,v,s),Bh(c,y.pos,y.box)}},t.prototype._prepare=function(t,r,i){for(var s=t;s;s=s.parentNode){var u=Di(s.getModel().get("name"),""),c=Math.max(i.getTextRect(u).width+16,r.emptyItemWidth);r.totalWidth+=c+8,r.renderList.push({node:s,text:u,width:c})}},t.prototype._renderContent=function(t,r,i,s,u,c,h){var f,p,v,y,x,_,b,w,S,A=0,M=r.emptyItemWidth,C=t.get(["breadcrumb","height"]);for(var T=(f=r.pos,y=(p=r.box).width,x=p.height,_=IO(f.left,y),b=IO(f.top,x),w=IO(f.right,y),S=IO(f.bottom,x),(isNaN(_)||isNaN(parseFloat(f.left)))&&(_=0),(isNaN(w)||isNaN(parseFloat(f.right)))&&(w=y),(isNaN(b)||isNaN(parseFloat(f.top)))&&(b=0),(isNaN(S)||isNaN(parseFloat(f.bottom)))&&(S=x),{width:Math.max(w-_-(v=L9(v||0))[1]-v[3],0),height:Math.max(S-b-v[0]-v[2],0)}),I=r.totalWidth,D=r.renderList,R=s.getModel("itemStyle").getItemStyle(),P=D.length-1;P>=0;P--){var L=D[P],B=L.node,k=L.width,O=L.text;I>T.width&&(I-=k-M,k=M,O=null);var N=new Nv({shape:{points:function(t,r,i,s,u,c){var h=[[u?t:t-5,r],[t+i,r],[t+i,r+s],[u?t:t-5,r+s]];return c||h.splice(2,0,[t+i+5,r+s/2]),u||h.push([t,r+s/2]),h}(A,0,k,C,P===D.length-1,0===P)},style:Mm(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new R7({style:Lt(u,{text:O})}),textConfig:{position:"inside"},z2:1e5,onclick:MI(h,B)});N.disableLabelAnimation=!0,N.getTextContent().ensureState("emphasis").style=Lt(c,{text:O}),N.ensureState("emphasis").style=R,PG(N,s.get("focus"),s.get("blurScope"),s.get("disabled")),this.group.add(N),function(t,r,i){Pe(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&Yq(i,r)}}(N,t,B),A+=k+8}},t.prototype.remove=function(){this.group.removeAll()},t}(),Y8=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,r,i,s,u){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:r,duration:i,delay:s,easing:u}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,r=this._storage.length,i=function(){--r<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},s=0,u=this._storage.length;s<u;s++){var c=this._storage[s];c.el.animateTo(c.target,{duration:c.duration,delay:c.delay,easing:c.easing,setToFinal:!0,done:i,aborted:i})}return this},t}(),Y6="label",Y7="upperLabel",Ze=100,Zt=20,Zn=30,Zr=DT([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Zi=function(t){var r=Zr(t);return r.stroke=r.fill=r.lineWidth=null,r},Za=Dl(),Zo=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i._state="ready",i._storage=Zs(),i}return AK(r,t),r.prototype.render=function(t,r,i,s){if(!(0>My(r.findComponents({mainType:"series",subType:"treemap",query:s}),t))){this.seriesModel=t,this.api=i,this.ecModel=r;var u=YK(s,["treemapZoomToNode","treemapRootToNode"],t),c=s&&s.type,h=t.layoutInfo,f=!this._oldTree,p=this._storage,v="treemapRootToNode"===c&&u&&p?{rootNodeGroup:p.nodeGroup[u.node.getRawIndex()],direction:s.direction}:null,y=this._giveContainerGroup(h),x=t.get("animation"),_=this._doRender(y,t,v);!x||f||c&&"treemapZoomToNode"!==c&&"treemapRootToNode"!==c?_.renderFinally():this._doAnimation(y,_,t,v),this._resetController(i),this._renderBreadcrumb(t,i,u)}},r.prototype._giveContainerGroup=function(t){var r=this._containerGroup;return!r&&(r=this._containerGroup=new IS,this._initEvents(r),this.group.add(r)),r.x=t.x,r.y=t.y,r},r.prototype._doRender=function(t,r,i){var s=r.getData().tree,u=this._oldTree,c=Zs(),h=Zs(),f=this._storage,p=[];(function t(s,u,v,y,x){function _(t){return t.getId()}function b(_,b){var w=null!=_?s[_]:null,S=null!=b?u[b]:null,A=function(t,r,i,s,u,c,h,f,p,v){if(!h)return;var y=h.getLayout(),x=t.getData(),_=h.getModel();if(x.setItemGraphicEl(h.dataIndex,null),!y||!y.isInView)return;var b=y.width,w=y.height,S=y.borderWidth,A=y.invisible,M=h.getRawIndex(),C=f&&f.getRawIndex(),T=h.viewChildren,I=y.upperHeight,D=T&&T.length,R=_.getModel("itemStyle"),P=_.getModel(["emphasis","itemStyle"]),L=_.getModel(["blur","itemStyle"]),B=_.getModel(["select","itemStyle"]),k=R.get("borderRadius")||0,O=Y("nodeGroup",IS);if(!!O){if(p.add(O),O.x=y.x||0,O.y=y.y||0,O.markRedraw(),Za(O).nodeWidth=b,Za(O).nodeHeight=w,y.isAboveViewRoot)return O;var N=Y("background",RY,v,Zt);N&&function(r,i,s){var u=Pe(i);if(u.dataIndex=h.dataIndex,u.seriesIndex=t.seriesIndex,i.setShape({x:0,y:0,width:b,height:w,r:k}),A)j(i);else{i.invisible=!1;var c=h.getVisual("style"),f=c.stroke,p=Zi(R);p.fill=f;var v=Zr(P);v.fill=P.get("borderColor");var y=Zr(L);y.fill=L.get("borderColor");var x=Zr(B);if(x.fill=B.get("borderColor"),s){var _=b-2*S;W(i,f,c.opacity,{x:S,y:0,width:_,height:I})}else i.removeTextContent();i.setStyle(p),i.ensureState("emphasis").style=v,i.ensureState("blur").style=y,i.ensureState("select").style=x,PM(i)}r.add(i)}(O,N,D&&y.upperLabelHeight);var F=_.getModel("emphasis"),U=F.get("focus"),z=F.get("blurScope"),G=F.get("disabled"),H="ancestor"===U?h.getAncestorsIndices():"descendant"===U?h.getDescendantIndices():U;if(D)PY(O)&&PX(O,!1),N&&(PX(N,!G),x.setItemGraphicEl(h.dataIndex,N),PH(N,H,z));else{var V=Y("content",RY,v,Zn);V&&function(r,i){var s=Pe(i);s.dataIndex=h.dataIndex,s.seriesIndex=t.seriesIndex;var u=Math.max(b-2*S,0),c=Math.max(w-2*S,0);if(i.culling=!0,i.setShape({x:S,y:S,width:u,height:c,r:k}),A)j(i);else{i.invisible=!1;var f=h.getVisual("style"),p=f.fill,v=Zi(R);v.fill=p,v.decal=f.decal;var y=Zr(P),x=Zr(L),_=Zr(B);W(i,p,f.opacity,null),i.setStyle(v),i.ensureState("emphasis").style=y,i.ensureState("blur").style=x,i.ensureState("select").style=_,PM(i)}r.add(i)}(O,V),N.disableMorphing=!0,N&&PY(N)&&PX(N,!1),PX(O,!G),x.setItemGraphicEl(h.dataIndex,O),PH(O,H,z)}return O}function j(t){t.invisible||c.push(t)}function W(r,i,s,u){var c=_.getModel(u?Y7:Y6),f=Di(_.get("name"),null),p=c.getShallow("show");P7(r,Le(_,u?Y7:Y6),{defaultText:p?f:null,inheritColor:i,defaultOpacity:s,labelFetcher:t,labelDataIndex:h.dataIndex});var v=r.getTextContent();if(!!v){var x=v.style,b=MY(x.padding||0);u&&(r.setTextConfig({layoutRect:u}),v.disableLabelLayout=!0),v.beforeUpdate=function(){var t=Math.max((u?u.width:r.shape.width)-b[1]-b[3],0),i=Math.max((u?u.height:r.shape.height)-b[0]-b[2],0);(x.width!==t||x.height!==i)&&v.setStyle({width:t,height:i})},x.truncateMinChar=2,x.lineOverflow="truncate",X(x,u,y);var w=v.getState("emphasis");X(w?w.style:null,u,y)}}function X(r,i,s){var u=r?r.text:null;if(!i&&s.isLeafRoot&&null!=u){var c=t.get("drillDownIcon",!0);r.text=c?c+" "+u:u}}function Y(t,c,f,p){var v=null!=C&&i[t][C],y=u[t];return v?(i[t][C]=null,function(t,r){var i=t[M]={};r instanceof IS?(i.oldX=r.x,i.oldY=r.y):i.oldShape=Mg({},r.shape)}(y,v)):!A&&((v=new c)instanceof DK&&(v.z2=function(t,r){return t*Ze+r}(f,p)),function(t,r){var i=t[M]={},c=h.parentNode,f=r instanceof IS;if(c&&(!s||"drillDown"===s.direction)){var p=0,v=0,y=u.background[c.getRawIndex()];!s&&y&&y.oldShape&&(p=y.oldShape.width,v=y.oldShape.height),f?(i.oldX=0,i.oldY=v):i.oldShape={x:p,y:v,width:0,height:0}}i.fadein=!f}(y,v)),r[t][M]=v}}(r,h,f,i,c,p,w,S,v,x);A&&t(w&&w.viewChildren||[],S&&S.viewChildren||[],A,y,x+1)}y?(u=s,Mw(s,function(t,r){t.isRemoved()||b(r,r)})):new zk(u,s,_,_).add(b).update(b).remove(MI(b,null)).execute()})(s.root?[s.root]:[],u&&u.root?[u.root]:[],t,s===u||!u,0);var v=function(t){var r=Zs();return t&&Mw(t,function(t,i){var s=r[i];Mw(t,function(t){t&&(s.push(t),Za(t).willDelete=!0)})}),r}(f);if(this._oldTree=s,this._storage=h,this._controllerHost){var y=this.seriesModel.layoutInfo,x=s.root.getLayout();x.width===y.width&&x.height===y.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:c,willDeleteEls:v,renderFinally:function(){Mw(v,function(t){Mw(t,function(t){t.parent&&t.parent.remove(t)})}),Mw(p,function(t){t.invisible=!0,t.dirty()})}}},r.prototype._doAnimation=function(t,r,i,s){var u=i.get("animationDurationUpdate"),c=i.get("animationEasing"),h=(MR(u)?0:u)||0,f=(MR(c)?null:c)||"cubicOut",p=new Y8;Mw(r.willDeleteEls,function(t,r){Mw(t,function(t,i){if(!t.invisible){var u,c=t.parent,v=Za(c);if(s&&"drillDown"===s.direction)u=c===s.rootNodeGroup?{shape:{x:0,y:0,width:v.nodeWidth,height:v.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,x=0;!v.willDelete&&(y=v.nodeWidth/2,x=v.nodeHeight/2),u="nodeGroup"===r?{x:y,y:x,style:{opacity:0}}:{shape:{x:y,y:x,width:0,height:0},style:{opacity:0}}}u&&p.add(t,u,h,0,f)}})}),Mw(this._storage,function(t,i){Mw(t,function(t,s){var u=r.lastsForAnimation[i][s],c={};if(!!u)t instanceof IS?null!=u.oldX&&(c.x=t.x,c.y=t.y,t.x=u.oldX,t.y=u.oldY):(u.oldShape&&(c.shape=Mg({},t.shape),t.setShape(u.oldShape)),u.fadein?(t.setStyle("opacity",0),c.style={opacity:1}):1!==t.style.opacity&&(c.style={opacity:1})),p.add(t,c,h,0,f)})},this),this._state="animating",p.finished(ME(function(){this._state="ready",r.renderFinally()},this)).start()},r.prototype._resetController=function(t){var r=this._controller,i=this._controllerHost;!i&&(this._controllerHost={target:this.group},i=this._controllerHost),!r&&((r=this._controller=new Xd(t.getZr())).enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),r.on("pan",ME(this._onPan,this)),r.on("zoom",ME(this._onZoom,this)));var s=new Ti(0,0,t.getWidth(),t.getHeight());r.setPointerChecker(function(t,r,i){return s.contain(r,i)})},r.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},r.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!!i)this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},r.prototype._onZoom=function(t){var r=t.originX,i=t.originY,s=t.scale;if("animating"!==this._state){var u=this.seriesModel.getData().tree.root;if(!u)return;var c=u.getLayout();if(!c)return;var h=new Ti(c.x,c.y,c.width,c.height),f=null,p=this._controllerHost;f=p.zoomLimit;var v=p.zoom=p.zoom||1;if(v*=s,f){var y=f.min||0;v=Math.max(Math.min(f.max||1/0,v),y)}var x=v/p.zoom;p.zoom=v;var _=this.seriesModel.layoutInfo;r-=_.x,i-=_.y;var b=CJ();C0(b,b,[-r,-i]),C2(b,b,[x,x]),C0(b,b,[r,i]),h.applyTransform(b),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:h.x,y:h.y,width:h.width,height:h.height}})}},r.prototype._initEvents=function(t){var r=this;t.on("click",function(t){if("ready"!==r._state)return;var i=r.seriesModel.get("nodeClick",!0);if(!i)return;var s=r.findTarget(t.offsetX,t.offsetY);if(!!s){var u=s.node;if(u.getLayout().isLeafRoot)r._rootToNode(s);else if("zoomToNode"===i)r._zoomToNode(s);else if("link"===i){var c=u.hostTree.data.getItemModel(u.dataIndex),h=c.get("link",!0),f=c.get("target",!0)||"blank";h&&Ba(h,f)}}},this)},r.prototype._renderBreadcrumb=function(t,r,i){var s=this;!i&&!(i=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2))&&(i={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new Y9(this.group))).render(t,r,i.node,function(r){"animating"!==s._state&&(YQ(t.getViewRoot(),r)?s._rootToNode({node:r}):s._zoomToNode({node:r}))})},r.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Zs(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},r.prototype.dispose=function(){this._clearController()},r.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},r.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},r.prototype.findTarget=function(t,r){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(s){var u=this._storage.background[s.getRawIndex()];if(u){var c=u.transformCoordToLocal(t,r),h=u.shape;if(!(h.x<=c[0])||!(c[0]<=h.x+h.width)||!(h.y<=c[1])||!(c[1]<=h.y+h.height))return!1;i={node:s,offsetX:c[0],offsetY:c[1]}}},this),i},r.type="treemap",r}(Fy);function Zs(){return{nodeGroup:[],background:[],content:[]}}var Zl=Mw,Zu=function(){function t(r){var i=r.mappingMethod,s=r.type,u=this.option=Md(r);this.type=s,this.mappingMethod=i,this._normalizeData=Zx[i];var c=t.visualHandlers[s];this.applyVisual=c.applyVisual,this.getColorMapper=c.getColorMapper,this._normalizedToVisual=c._normalizedToVisual[i],"piecewise"===i?(Zc(u),function(t){var r=t.pieceList;t.hasSpecialVisual=!1,Mw(r,function(r,i){r.originIndex=i,null!=r.visual&&(t.hasSpecialVisual=!0)})}(u)):"category"===i?u.categories?function(t){var r=t.categories,i=t.categoryMap={},s=t.visual;if(Zl(r,function(t,r){i[t]=r}),!MD(s)){var u=[];Mk(s)?Zl(s,function(t,r){var s=i[r];u[null!=s?s:-1]=t}):u[-1]=s,s=Zy(t,u)}for(var c=r.length-1;c>=0;c--)null==s[c]&&(delete i[r[c]],r.pop())}(u):Zc(u,!0):(MZ("linear"!==i||u.dataExtent),Zc(u))}return t.prototype.mapValueToVisual=function(t){var r=this._normalizeData(t);return this._normalizedToVisual(r,t)},t.prototype.getNormalizer=function(){return ME(this._normalizeData,this)},t.listVisualTypes=function(){return MT(t.visualHandlers)},t.isValidType=function(r){return t.visualHandlers.hasOwnProperty(r)},t.eachVisual=function(t,r,i){Mk(t)?Mw(t,r,i):r.call(i,t)},t.mapVisual=function(r,i,s){var u,c=MD(r)?[]:Mk(r)?{}:(u=!0,null);return t.eachVisual(r,function(t,r){var h=i.call(s,t,r);u?c=h:c[r]=h}),c},t.retrieveVisuals=function(r){var i,s={};return r&&Zl(t.visualHandlers,function(t,u){r.hasOwnProperty(u)&&(s[u]=r[u],i=!0)}),i?s:null},t.prepareVisualTypes=function(t){if(MD(t))t=t.slice();else{if(!Mk(t))return[];var r=[];Zl(t,function(t,i){r.push(i)}),t=r}return t.sort(function(t,r){return"color"===r&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},t.dependsOn=function(t,r){return"color"===r?!!(t&&0===t.indexOf(r)):t===r},t.findPieceIndex=function(t,r,i){for(var s,u=1/0,c=0,h=r.length;c<h;c++){var f=r[c].value;if(null!=f){if(f===t||MP(f)&&f===t+"")return c;i&&x(f,c)}}for(var c=0,h=r.length;c<h;c++){var p=r[c],v=p.interval,y=p.close;if(v){if(v[0]===-1/0){if(function(t,r,i){return t?r<=i:r<i}(y[1],t,v[1]))return c}else if(v[1]===1/0){if(function(t,r,i){return t?r<=i:r<i}(y[0],v[0],t))return c}else if(function(t,r,i){return t?r<=i:r<i}(y[0],v[0],t)&&function(t,r,i){return t?r<=i:r<i}(y[1],t,v[1]))return c;i&&x(v[0],c),i&&x(v[1],c)}}if(i)return t===1/0?r.length-1:t===-1/0?0:s;function x(r,i){var c=Math.abs(r-t);c<u&&(u=c,s=i)}},t.visualHandlers={color:{applyVisual:Zf("color"),getColorMapper:function(){var t=this.option;return ME("category"===t.mappingMethod?function(t,r){return r||(t=this._normalizeData(t)),Zp.call(this,t)}:function(r,i,s){var u=!!s;return i||(r=this._normalizeData(r)),s=En(r,t.parsedVisual,s),u?s:El(s,"rgba")},this)},_normalizedToVisual:{linear:function(t){return El(En(t,this.option.parsedVisual),"rgba")},category:Zp,piecewise:function(t,r){var i=Zv.call(this,r);return null==i&&(i=El(En(t,this.option.parsedVisual),"rgba")),i},fixed:Zg}},colorHue:Zh(function(t,r){return Eo(t,r)}),colorSaturation:Zh(function(t,r){return Eo(t,null,r)}),colorLightness:Zh(function(t,r){return Eo(t,null,null,r)}),colorAlpha:Zh(function(t,r){return Es(t,r)}),decal:{applyVisual:Zf("decal"),_normalizedToVisual:{linear:null,category:Zp,piecewise:null,fixed:null}},opacity:{applyVisual:Zf("opacity"),_normalizedToVisual:Zm([0,1])},liftZ:{applyVisual:Zf("liftZ"),_normalizedToVisual:{linear:Zg,category:Zg,piecewise:Zg,fixed:Zg}},symbol:{applyVisual:function(t,r,i){i("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:Zd,category:Zp,piecewise:function(t,r){var i=Zv.call(this,r);return null==i&&(i=Zd.call(this,t)),i},fixed:Zg}},symbolSize:{applyVisual:Zf("symbolSize"),_normalizedToVisual:Zm([0,1])}},t}();function Zc(t,r){var i=t.visual,s=[];Mk(i)?Zl(i,function(t){s.push(t)}):null!=i&&s.push(i);!r&&1===s.length&&!({color:1,symbol:1}).hasOwnProperty(t.type)&&(s[1]=s[0]),Zy(t,s)}function Zh(t){return{applyVisual:function(r,i,s){var u=this.mapValueToVisual(r);s("color",t(i("color"),u))},_normalizedToVisual:Zm([0,1])}}function Zd(t){var r=this.option.visual;return r[Math.round(Ik(t,[0,1],[0,r.length-1],!0))]||{}}function Zf(t){return function(r,i,s){s(t,this.mapValueToVisual(r))}}function Zp(t){var r=this.option.visual;return r[this.option.loop&&-1!==t?t%r.length:t]}function Zg(){return this.option.visual[0]}function Zm(t){return{linear:function(r){return Ik(r,t,this.option.visual,!0)},category:Zp,piecewise:function(r,i){var s=Zv.call(this,i);return null==s&&(s=Ik(r,t,this.option.visual,!0)),s},fixed:Zg}}function Zv(t){var r=this.option,i=r.pieceList;if(r.hasSpecialVisual){var s=Zu.findPieceIndex(t,i),u=i[s];if(u&&u.visual)return u.visual[this.type]}}function Zy(t,r){return t.visual=r,"color"===t.type&&(t.parsedVisual=MS(r,function(t){var r=T6(t);return r||[0,0,0,1]})),r}var Zx={linear:function(t){return Ik(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var r=this.option.pieceList,i=Zu.findPieceIndex(t,r,!0);if(null!=i)return Ik(i,[0,r.length-1],[0,1],!0)},category:function(t){var r=this.option.categories?this.option.categoryMap[t]:t;return null==r?-1:r},fixed:M8};function Z_(t,r,i){return t?r<=i:r<i}var Zb=Dl();let Zw={seriesType:"treemap",reset:function(t){var r=t.getData().tree.root;if(!r.isRemoved())(function t(r,i,s,u){var c,h=r.getModel(),f=r.getLayout(),p=r.hostTree.data;if(!!f&&!f.invisible&&!!f.isInView){var v=h.getModel("itemStyle"),y=function(t,r,i){var s=Mg({},r),u=i.designatedVisualItemStyle;return Mw(["color","colorAlpha","colorSaturation"],function(i){u[i]=r[i];var c=t.get(i);u[i]=null,null!=c&&(s[i]=c)}),s}(v,i,u),x=p.ensureUniqueItemVisual(r.dataIndex,"style"),_=v.get("borderColor"),b=v.get("borderColorSaturation");null!=b&&(_=function(t,r){return null!=r?Eo(r,null,null,t):null}(b,c=ZS(y))),x.stroke=_;var w=r.viewChildren;if(w&&w.length){var S=function(t,r,i,s,u,c){if(!c||!c.length)return;var h=ZM(r,"color")||null!=u.color&&"none"!==u.color&&(ZM(r,"colorAlpha")||ZM(r,"colorSaturation"));if(!!h){var f=r.get("visualMin"),p=r.get("visualMax"),v=i.dataExtent.slice();null!=f&&f<v[0]&&(v[0]=f),null!=p&&p>v[1]&&(v[1]=p);var y=r.get("colorMappingBy"),x={type:h.name,dataExtent:v,visual:h.range};"color"===x.type&&("index"===y||"id"===y)?(x.mappingMethod="category",x.loop=!0):x.mappingMethod="linear";var _=new Zu(x);return Zb(_).drColorMappingBy=y,_}}(r,h,f,v,y,w);Mw(w,function(r,i){if(r.depth>=s.length||r===s[r.depth]){var c=function(t,r,i,s,u,c){var h=Mg({},r);if(u){var f=u.type,p="color"===f&&Zb(u).drColorMappingBy,v="index"===p?s:"id"===p?c.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));h[f]=u.mapValueToVisual(v)}return h}(h,y,r,i,S,u);t(r,c,s,u)}})}else c=ZS(y),x.fill=c}})(r,{},t.getViewRoot().getAncestors(),t)}};function ZS(t){var r=ZA(t,"color");if(r){var i=ZA(t,"colorAlpha"),s=ZA(t,"colorSaturation");return s&&(r=Eo(r,null,null,s)),i&&(r=Es(r,i)),r}}function ZA(t,r){var i=t[r];if(null!=i&&"none"!==i)return i}function ZM(t,r){var i=t.get(r);return MD(i)&&i.length?{name:r,range:i}:null}var ZC=Math.max,ZT=Math.min,ZE=MV,ZI=Mw,ZD=["itemStyle","borderWidth"],ZR=["itemStyle","gapWidth"],ZP=["upperLabel","show"],ZL=["upperLabel","height"];let ZB={seriesType:"treemap",reset:function(t,r,i,s){var u=i.getWidth(),c=i.getHeight(),h=t.option,f=Bc(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),p=h.size||[],v=IO(ZE(f.width,p[0]),u),y=IO(ZE(f.height,p[1]),c),x=s&&s.type,_=YK(s,["treemapZoomToNode","treemapRootToNode"],t),b="treemapRender"===x||"treemapMove"===x?s.rootRect:null,w=t.getViewRoot(),S=YJ(w);if("treemapMove"!==x){var A="treemapZoomToNode"===x?function(t,r,i,s,u){var c,h=(r||{}).node,f=[s,u];if(!h||h===i)return f;for(var p=s*u,v=p*t.option.zoomToNodeRatio;c=h.parentNode;){for(var y=0,x=c.children,_=0,b=x.length;_<b;_++)y+=x[_].getValue();var w=h.getValue();if(0===w)return f;v*=y/w;var S=c.getModel(),A=S.get(ZD),M=Math.max(A,ZO(S));v+=4*A*A+(3*A+M)*Math.pow(v,.5),v>Ij&&(v=Ij),h=c}v<p&&(v=p);var C=Math.pow(v/p,.5);return[s*C,u*C]}(t,_,w,v,y):b?[b.width,b.height]:[v,y],M=h.sort;M&&"asc"!==M&&"desc"!==M&&(M="desc");var C={squareRatio:h.squareRatio,sort:M,leafDepth:h.leafDepth};w.hostTree.clearLayouts();var T={x:0,y:0,width:A[0],height:A[1],area:A[0]*A[1]};w.setLayout(T),function t(r,i,s,u){if(r.isRemoved())return;var c,h,f=r.getLayout();c=f.width,h=f.height;var p=r.getModel(),v=p.get(ZD),y=p.get(ZR)/2,x=ZO(p),_=Math.max(v,x),b=v-y,w=_-y;r.setLayout({borderWidth:v,upperHeight:_,upperLabelHeight:x},!0),c=ZC(c-2*b,0);var S=c*(h=ZC(h-b-w,0)),A=function(t,r,i,s,u,c){var h=t.children||[],f=s.sort;"asc"!==f&&"desc"!==f&&(f=null);var p=null!=s.leafDepth&&s.leafDepth<=c;if(u&&!p)return t.viewChildren=[];(function(t,r){r&&t.sort(function(t,i){var s="asc"===r?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===s?"asc"===r?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:s})})(h=MM(h,function(t){return!t.isRemoved()}),f);var v=function(t,r,i){for(var s,u=0,c=0,h=r.length;c<h;c++)u+=r[c].getValue();var f=t.get("visualDimension");return r&&r.length?"value"===f&&i?(s=[r[r.length-1].getValue(),r[0].getValue()],"asc"===i&&s.reverse()):(s=[1/0,-1/0],ZI(r,function(t){var r=t.getValue(f);r<s[0]&&(s[0]=r),r>s[1]&&(s[1]=r)})):s=[NaN,NaN],{sum:u,dataExtent:s}}(r,h,f);if(0===v.sum)return t.viewChildren=[];if(v.sum=function(t,r,i,s,u){if(!s)return i;for(var c=t.get("visibleMin"),h=u.length,f=h,p=h-1;p>=0;p--){var v=u["asc"===s?h-p-1:p].getValue();v/i*r<c&&(f=p,i-=v)}return"asc"===s?u.splice(0,h-f):u.splice(f,h-f),i}(r,i,v.sum,f,h),0===v.sum)return t.viewChildren=[];for(var y=0,x=h.length;y<x;y++){var _=h[y].getValue()/v.sum*i;h[y].setLayout({area:_})}return p&&(h.length&&t.setLayout({isLeafRoot:!0},!0),h.length=0),t.viewChildren=h,t.setLayout({dataExtent:v.dataExtent},!0),h}(r,p,S,i,s,u);if(!!A.length){var M={x:b,y:w,width:c,height:h},C=ZT(c,h),T=1/0,I=[];I.area=0;for(var D=0,R=A.length;D<R;){var P=A[D];I.push(P),I.area+=P.getLayout().area;var L=function(t,r,i){for(var s=0,u=1/0,c=0,h=void 0,f=t.length;c<f;c++)(h=t[c].getLayout().area)&&(h<u&&(u=h),h>s&&(s=h));var p=t.area*t.area,v=r*r*i;return p?ZC(v*s/p,p/(v*u)):1/0}(I,C,i.squareRatio);L<=T?(D++,T=L):(I.area-=I.pop().getLayout().area,Zk(I,C,M,y,!1),C=ZT(M.width,M.height),I.length=I.area=0,T=1/0)}if(I.length&&Zk(I,C,M,y,!0),!s){var B=p.get("childrenVisibleMin");null!=B&&S<B&&(s=!0)}for(var D=0,R=A.length;D<R;D++)t(A[D],i,s,u+1)}}(w,C,!1,0),T=w.getLayout(),ZI(S,function(t,r){var i=(S[r+1]||w).getValue();t.setLayout(Mg({dataExtent:[i,i],borderWidth:0,upperHeight:0},T))})}var I=t.getData().tree.root;I.setLayout(function(t,r,i){if(r)return{x:r.x,y:r.y};var s={x:0,y:0};if(!i)return s;var u=i.node,c=u.getLayout();if(!c)return s;for(var h=[c.width/2,c.height/2],f=u;f;){var p=f.getLayout();h[0]+=p.x,h[1]+=p.y,f=f.parentNode}return{x:t.width/2-h[0],y:t.height/2-h[1]}}(f,b,_),!0),t.setLayoutInfo(f),function t(r,i,s,u,c){var h=r.getLayout(),f=s[c],p=f&&f===r;if((!f||!!p)&&(c!==s.length||r===u)){r.setLayout({isInView:!0,invisible:!p&&!i.intersect(h),isAboveViewRoot:p},!0);var v=new Ti(i.x-h.x,i.y-h.y,i.width,i.height);ZI(r.viewChildren||[],function(r){t(r,v,s,u,c+1)})}}(I,new Ti(-f.x,-f.y,u,c),S,w,0)}};function Zk(t,r,i,s,u){var c=r===i.width?0:1,h=1-c,f=["x","y"],p=["width","height"],v=i[f[c]],y=r?t.area/r:0;(u||y>i[p[h]])&&(y=i[p[h]]);for(var x=0,_=t.length;x<_;x++){var b=t[x],w={},S=y?b.getLayout().area/y:0,A=w[p[h]]=ZC(y-2*s,0),M=i[f[c]]+i[p[c]]-v,C=x===_-1||M<S?M:S,T=w[p[c]]=ZC(C-2*s,0);w[f[h]]=i[f[h]]+ZT(s,A/2),w[f[c]]=v+ZT(s,T/2),v+=C,b.setLayout(w,!0)}i[f[h]]+=y,i[p[h]]-=y}function ZO(t){return t.get(ZP)?t.get(ZL):0}function ZN(t){var r=t.findComponents({mainType:"legend"});if(!!r&&!!r.length)t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),s=t.getGraph().data,u=i.mapArray(i.getName);s.filterSelf(function(t){var i=s.getItemModel(t).getShallow("category");if(null!=i){MB(i)&&(i=u[i]);for(var c=0;c<r.length;c++)if(!r[c].isSelected(i))return!1}return!0})})}function ZF(t){var r={};t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),s=t.getData(),u={};i.each(function(s){var c=i.getName(s);u["ec-"+c]=s;var h=i.getItemModel(s),f=h.getModel("itemStyle").getItemStyle();!f.fill&&(f.fill=t.getColorFromPalette(c,r)),i.setItemVisual(s,"style",f);for(var p=["symbol","symbolSize","symbolKeepAspect"],v=0;v<p.length;v++){var y=h.getShallow(p[v],!0);null!=y&&i.setItemVisual(s,p[v],y)}}),i.count()&&s.each(function(t){var r=s.getItemModel(t).getShallow("category");if(null!=r){MP(r)&&(r=u["ec-"+r]);var c=i.getItemVisual(r,"style");Mg(s.ensureUniqueItemVisual(t,"style"),c);for(var h=["symbol","symbolSize","symbolKeepAspect"],f=0;f<h.length;f++)s.setItemVisual(t,h[f],i.getItemVisual(r,h[f]))}})})}function ZU(t){return!(t instanceof Array)&&(t=[t,t]),t}function Zz(t){t.eachSeriesByType("graph",function(t){var r=t.getGraph(),i=t.getEdgeData(),s=ZU(t.get("edgeSymbol")),u=ZU(t.get("edgeSymbolSize"));i.setVisual("fromSymbol",s&&s[0]),i.setVisual("toSymbol",s&&s[1]),i.setVisual("fromSymbolSize",u&&u[0]),i.setVisual("toSymbolSize",u&&u[1]),i.setVisual("style",t.getModel("lineStyle").getLineStyle()),i.each(function(t){var s=i.getItemModel(t),u=r.getEdgeByIndex(t),c=ZU(s.getShallow("symbol",!0)),h=ZU(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),p=i.ensureUniqueItemVisual(t,"style");switch(Mg(p,f),p.stroke){case"source":var v=u.node1.getVisual("style");p.stroke=v&&v.fill;break;case"target":var v=u.node2.getVisual("style");p.stroke=v&&v.fill}c[0]&&u.setVisual("fromSymbol",c[0]),c[1]&&u.setVisual("toSymbol",c[1]),h[0]&&u.setVisual("fromSymbolSize",h[0]),h[1]&&u.setVisual("toSymbolSize",h[1])})})}var ZG=function(t){return t.get("autoCurveness")||null},ZH=function(t,r){var i=ZG(t),s=20,u=[];if(MB(i))s=i;else if(MD(i)){t.__curvenessList=i;return}r>s&&(s=r);var c=s%2?s+2:s+3;u=[];for(var h=0;h<c;h++)u.push((h%2?h+1:h)/10*(h%2?-1:1));t.__curvenessList=u},ZV=function(t,r,i){var s=[t.id,t.dataIndex].join("."),u=[r.id,r.dataIndex].join(".");return[i.uid,s,u].join("--\x3e")},Zj=function(t){var r=t.split("--\x3e");return[r[0],r[2],r[1]].join("--\x3e")},ZW=function(t,r){var i=ZV(t.node1,t.node2,r);return r.__edgeMap[i]},ZX=function(t,r){var i=r.__edgeMap;return i[t]?i[t].length:0};function ZY(t,r,i,s){var u,c,h=ZG(r),f=MD(h);if(!h)return null;var p=ZW(t,r);if(!p)return null;for(var v=-1,y=0;y<p.length;y++)if(p[y]===i){v=y;break}var x=(u=t,c=r,ZX(ZV(u.node1,u.node2,c),c)+ZX(ZV(u.node2,u.node1,c),c));ZH(r,x),t.lineStyle=t.lineStyle||{};var _=ZV(t.node1,t.node2,r),b=r.__curvenessList,w=f?0:x%2?0:1;if(p.isForward)return b[w+v];var S=ZX(Zj(_),r),A=b[v+S+w];return s?f?h&&0===h[0]?(S+w)%2?A:-A:((S%2?0:1)+w)%2?A:-A:(S+w)%2?A:-A:b[v+S+w]}function ZZ(t){var r=t.coordinateSystem;if(!r||"view"===r.type){var i=t.getGraph();i.eachNode(function(t){var r=t.getModel();t.setLayout([+r.get("x"),+r.get("y")])}),ZK(i,t)}}function ZK(t,r){t.eachEdge(function(t,i){var s=MW(t.getModel().get(["lineStyle","curveness"]),-ZY(t,r,i,!0),0),u=Ct(t.node1.getLayout()),c=Ct(t.node2.getLayout()),h=[u,c];+s&&h.push([(u[0]+c[0])/2-(u[1]-c[1])*s,(u[1]+c[1])/2-(c[0]-u[0])*s]),t.setLayout(h)})}function ZJ(t,r){t.eachSeriesByType("graph",function(t){var r=t.get("layout"),i=t.coordinateSystem;if(i&&"view"!==i.type){var s=t.getData(),u=[];Mw(i.dimensions,function(t){u=u.concat(s.mapDimensionsAll(t))});for(var c=0;c<s.count();c++){for(var h=[],f=!1,p=0;p<u.length;p++){var v=s.get(u[p],c);!isNaN(v)&&(f=!0),h.push(v)}f?s.setItemLayout(c,i.dataToPoint(h)):s.setItemLayout(c,[NaN,NaN])}ZK(s.graph,t)}else(!r||"none"===r)&&ZZ(t)})}function ZQ(t){var r=t.coordinateSystem;if("view"!==r.type)return 1;var i=t.option.nodeScaleRatio,s=r.scaleX,u=r.getZoom();return((u-1)*i+1)/s}function Zq(t){var r=t.getVisual("symbolSize");return r instanceof Array&&(r=(r[0]+r[1])/2),+r}var Z$=Math.PI,Z0=[];function Z1(t,r,i,s){var u=t.coordinateSystem;if(u&&"view"!==u.type)return;var c=u.getBoundingRect(),h=t.getData(),f=h.graph,p=c.width/2+c.x,v=c.height/2+c.y,y=Math.min(c.width,c.height)/2,x=h.count();if(h.setLayout({cx:p,cy:v}),!!x){if(i){var _=u.pointToData(s),b=[_[0]-p,_[1]-v];Cp(b,b),Cf(b,b,y),i.setLayout([p+b[0],v+b[1]],!0),Z3(i,t.get(["circular","rotateLabel"]),p,v)}Z2[r](t,f,h,y,p,v,x),f.eachEdge(function(r,i){var s,u=MW(r.getModel().get(["lineStyle","curveness"]),ZY(r,t,i),0),c=Ct(r.node1.getLayout()),h=Ct(r.node2.getLayout()),f=(c[0]+h[0])/2,y=(c[1]+h[1])/2;+u&&(u*=3,s=[p*u+f*(1-u),v*u+y*(1-u)]),r.setLayout([c,h,s])})}}var Z2={value:function(t,r,i,s,u,c,h){var f=0,p=i.getSum("value"),v=2*Math.PI/(p||h);r.eachNode(function(t){var r=t.getValue("value"),i=v*(p?r:1)/2;f+=i,t.setLayout([s*Math.cos(f)+u,s*Math.sin(f)+c]),f+=i})},symbolSize:function(t,r,i,s,u,c,h){var f=0;Z0.length=h;var p=ZQ(t);r.eachNode(function(t){var r=Zq(t);isNaN(r)&&(r=2),r<0&&(r=0);var i=Math.asin((r*=p)/2/s);isNaN(i)&&(i=Z$/2),Z0[t.dataIndex]=i,f+=2*i});var v=(2*Z$-f)/h/2,y=0;r.eachNode(function(t){var r=v+Z0[t.dataIndex];y+=r,t.getLayout()&&t.getLayout().fixed||t.setLayout([s*Math.cos(y)+u,s*Math.sin(y)+c]),y+=r})}};function Z3(t,r,i,s){var u=t.getGraphicEl();if(!!u){var c=t.getModel().get(["label","rotate"])||0,h=u.getSymbolPath();if(r){var f=t.getLayout(),p=Math.atan2(f[1]-s,f[0]-i);p<0&&(p=2*Math.PI+p);var v=f[0]<i;v&&(p-=Math.PI);var y=v?"left":"right";h.setTextConfig({rotation:-p,position:y,origin:"center"});var x=h.ensureState("emphasis");Mg(x.textConfig||(x.textConfig={}),{position:y})}else h.setTextConfig({rotation:c*=Math.PI/180})}}function Z5(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&Z1(t,"symbolSize")})}var Z4=Ci;function Z9(t){t.eachSeriesByType("graph",function(t){var r=t.coordinateSystem;if(!r||"view"===r.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},s=t.getGraph(),u=s.data,c=s.edgeData,h=t.getModel("force"),f=h.get("initLayout");t.preservedPoints?u.each(function(t){var r=u.getId(t);u.setItemLayout(t,i[r]||[NaN,NaN])}):f&&"none"!==f?"circular"===f&&Z1(t,"value"):ZZ(t);var p=u.getDataExtent("value"),v=c.getDataExtent("value"),y=h.get("repulsion"),x=h.get("edgeLength"),_=MD(y)?y:[y,y],b=MD(x)?x:[x,x];b=[b[1],b[0]];var w=u.mapArray("value",function(t,r){var i=u.getItemLayout(r),s=Ik(t,p,_);return isNaN(s)&&(s=(_[0]+_[1])/2),{w:s,rep:s,fixed:u.getItemModel(r).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),S=c.mapArray("value",function(r,i){var u=s.getEdgeByIndex(i),c=Ik(r,v,b);isNaN(c)&&(c=(b[0]+b[1])/2);var h=u.getModel(),f=MW(u.getModel().get(["lineStyle","curveness"]),-ZY(u,t,i,!0),0);return{n1:w[u.node1.dataIndex],n2:w[u.node2.dataIndex],d:c,curveness:f,ignoreForceLayout:h.get("ignoreForceLayout")}}),A=function(t,r,i){for(var s,u,c=i.rect,h=c.width,f=c.height,p=[c.x+h/2,c.y+f/2],v=null==i.gravity?.1:i.gravity,y=0;y<t.length;y++){var x=t[y];!x.p&&(x.p=M7(h*(Math.random()-.5)+p[0],f*(Math.random()-.5)+p[1])),x.pp=Ct(x.p),x.edges=null}var _=null==i.friction?.6:i.friction,b=_;return{warmUp:function(){b=.8*_},setFixed:function(r){t[r].fixed=!0},setUnfixed:function(r){t[r].fixed=!1},beforeStep:function(t){s=t},afterStep:function(t){u=t},step:function(i){s&&s(t,r);for(var c=[],h=t.length,f=0;f<r.length;f++){var y=r[f];if(!y.ignoreForceLayout){var x=y.n1,_=y.n2;Ca(c,_.p,x.p);var w=Co(c)-y.d,S=_.w/(x.w+_.w);isNaN(S)&&(S=0),Cp(c,c),x.fixed||Z4(x.p,x.p,c,S*w*b),_.fixed||Z4(_.p,_.p,c,-(1-S)*w*b)}}for(var f=0;f<h;f++){var A=t[f];!A.fixed&&(Ca(c,p,A.p),Z4(A.p,A.p,c,v*b))}for(var f=0;f<h;f++){for(var x=t[f],M=f+1;M<h;M++){var _=t[M];Ca(c,_.p,x.p);var w=Co(c);0===w&&(Cn(c,Math.random()-.5,Math.random()-.5),w=1);var C=(x.rep+_.rep)/w/w;x.fixed||Z4(x.pp,x.pp,c,C),_.fixed||Z4(_.pp,_.pp,c,-C)}}for(var T=[],f=0;f<h;f++){var A=t[f];!A.fixed&&(Ca(T,A.p,A.pp),Z4(A.p,A.p,T,b),Ce(A.pp,A.p))}var I=(b*=.992)<.01;u&&u(t,r,I),i&&i(I)}}}(w,S,{rect:r.getBoundingRect(),gravity:h.get("gravity"),friction:h.get("friction")});A.beforeStep(function(t,r){for(var i=0,u=t.length;i<u;i++)t[i].fixed&&Ce(t[i].p,s.getNodeByIndex(i).getLayout())}),A.afterStep(function(t,r,c){for(var h=0,f=t.length;h<f;h++)!t[h].fixed&&s.getNodeByIndex(h).setLayout(t[h].p),i[u.getId(h)]=t[h].p;for(var h=0,f=r.length;h<f;h++){var p=r[h],v=s.getEdgeByIndex(h),y=p.n1.p,x=p.n2.p,_=v.getLayout();(_=_?_.slice():[])[0]=_[0]||[],_[1]=_[1]||[],Ce(_[0],y),Ce(_[1],x),+p.curveness&&(_[2]=[(y[0]+x[0])/2-(y[1]-x[1])*p.curveness,(y[1]+x[1])/2-(x[0]-y[0])*p.curveness]),v.setLayout(_)}}),t.forceLayout=A,t.preservedPoints=i,A.step()}else t.forceLayout=null})}function Z8(t,r){var i=[];return t.eachSeriesByType("graph",function(t){var s=t.get("coordinateSystem");if(!s||"view"===s){var u,c,h,f=t.getData(),p=f.mapArray(function(t){var r=f.getItemModel(t);return[+r.get("x"),+r.get("y")]}),v=[],y=[];D9(p,v,y),y[0]-v[0]==0&&(y[0]+=1,v[0]-=1),y[1]-v[1]==0&&(y[1]+=1,v[1]-=1);var x=(y[0]-v[0])/(y[1]-v[1]);var _=(u=t,c=r,h=x,Bc(Mg(u.getBoxLayoutParams(),{aspect:h}),{width:c.getWidth(),height:c.getHeight()}));isNaN(x)&&(v=[_.x,_.y],y=[_.x+_.width,_.y+_.height]);var b=y[0]-v[0],w=y[1]-v[1],S=_.width,A=_.height,M=t.coordinateSystem=new Yl;M.zoomLimit=t.get("scaleLimit"),M.setBoundingRect(v[0],v[1],b,w),M.setViewRect(_.x,_.y,S,A),M.setCenter(t.get("center"),r),M.setZoom(t.get("zoom")),i.push(M)}}),i}var Z6=NA.prototype,Z7=NI.prototype,Ke=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function Kt(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}(function(t){function r(){return null!==t&&t.apply(this,arguments)||this}AK(r,t)})(Ke);var Kn=function(t){function r(r){var i=t.call(this,r)||this;return i.type="ec-line",i}return AK(r,t),r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new Ke},r.prototype.buildPath=function(t,r){Kt(r)?Z6.buildPath.call(this,t,r):Z7.buildPath.call(this,t,r)},r.prototype.pointAt=function(t){return Kt(this.shape)?Z6.pointAt.call(this,t):Z7.pointAt.call(this,t)},r.prototype.tangentAt=function(t){var r=this.shape,i=Kt(r)?[r.x2-r.x1,r.y2-r.y1]:Z7.tangentAt.call(this,t);return Cp(i,i)},r}(RL),Kr=["fromSymbol","toSymbol"];function Ki(t){return"_"+t+"Type"}function Ka(t,r,i){var s=r.getItemVisual(i,t);if(!s||"none"===s)return s;var u=r.getItemVisual(i,t+"Size"),c=r.getItemVisual(i,t+"Rotate"),h=r.getItemVisual(i,t+"Offset"),f=r.getItemVisual(i,t+"KeepAspect"),p=Ul(u),v=Uu(h||0,p);return s+p+v+(c||"")+(f||"")}function Ko(t,r,i){var s=r.getItemVisual(i,t);if(!!s&&"none"!==s){var u=r.getItemVisual(i,t+"Size"),c=r.getItemVisual(i,t+"Rotate"),h=r.getItemVisual(i,t+"Offset"),f=r.getItemVisual(i,t+"KeepAspect"),p=Ul(u),v=Uu(h||0,p),y=Us(s,-p[0]/2+v[0],-p[1]/2+v[1],p[0],p[1],null,f);return y.__specifiedRotation=null==c||isNaN(c)?void 0:+c*Math.PI/180||0,y.name=t,y}}function Ks(t,r){t.x1=r[0][0],t.y1=r[0][1],t.x2=r[1][0],t.y2=r[1][1],t.percent=1;var i=r[2];i?(t.cpx1=i[0],t.cpy1=i[1]):(t.cpx1=NaN,t.cpy1=NaN)}var Kl=function(t){function r(r,i,s){var u=t.call(this)||this;return u._createLine(r,i,s),u}return AK(r,t),r.prototype._createLine=function(t,r,i){var s,u,c=t.hostModel;var h=(s=t.getItemLayout(r),Ks((u=new Kn({name:"line",subPixelOptimize:!0})).shape,s),u);h.shape.percent=0,P0(h,{shape:{percent:1}},c,r),this.add(h),Mw(Kr,function(i){var s=Ko(i,t,r);this.add(s),this[Ki(i)]=Ka(i,t,r)},this),this._updateCommonStl(t,r,i)},r.prototype.updateData=function(t,r,i){var s=t.hostModel,u=this.childOfName("line"),c=t.getItemLayout(r),h={shape:{}};Ks(h.shape,c),P$(u,h,s,r),Mw(Kr,function(i){var s=Ka(i,t,r),u=Ki(i);if(this[u]!==s){this.remove(this.childOfName(i));var c=Ko(i,t,r);this.add(c)}this[u]=s},this),this._updateCommonStl(t,r,i)},r.prototype.getLinePath=function(){return this.childAt(0)},r.prototype._updateCommonStl=function(t,r,i){var s=t.hostModel,u=this.childOfName("line"),c=i&&i.emphasisLineStyle,h=i&&i.blurLineStyle,f=i&&i.selectLineStyle,p=i&&i.labelStatesModels,v=i&&i.emphasisDisabled,y=i&&i.focus,x=i&&i.blurScope;if(!i||t.hasItemOption){var _=t.getItemModel(r),b=_.getModel("emphasis");c=b.getModel("lineStyle").getLineStyle(),h=_.getModel(["blur","lineStyle"]).getLineStyle(),f=_.getModel(["select","lineStyle"]).getLineStyle(),v=b.get("disabled"),y=b.get("focus"),x=b.get("blurScope"),p=Le(_)}var w=t.getItemVisual(r,"style"),S=w.stroke;u.useStyle(w),u.style.fill=null,u.style.strokeNoScale=!0,u.ensureState("emphasis").style=c,u.ensureState("blur").style=h,u.ensureState("select").style=f,Mw(Kr,function(t){var r=this.childOfName(t);if(r){r.setColor(S),r.style.opacity=w.opacity;for(var i=0;i<Po.length;i++){var s=Po[i],c=u.getState(s);if(c){var h=c.style||{},f=r.ensureState(s),p=f.style||(f.style={});null!=h.stroke&&(p[r.__isEmptyBrush?"stroke":"fill"]=h.stroke),null!=h.opacity&&(p.opacity=h.opacity)}}r.markRedraw()}},this);var A=s.getRawValue(r);P7(this,p,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(r,i){return s.getFormattedLabel(r,i,t.dataType)}},inheritColor:S||"#000",defaultOpacity:w.opacity,defaultText:(null==A?t.getName(r):isFinite(A)?IN(A):A)+""});var M=this.getTextContent();if(M){var C=p.normal;M.__align=M.style.align,M.__verticalAlign=M.style.verticalAlign,M.__position=C.get("position")||"middle";var T=C.get("distance");!MD(T)&&(T=[T,T]),M.__labelDistance=T}this.setTextConfig({position:null,local:!0,inside:!1}),PG(this,y,x,v)},r.prototype.highlight=function(){PE(this)},r.prototype.downplay=function(){PI(this)},r.prototype.updateLayout=function(t,r){this.setLinePoints(t.getItemLayout(r))},r.prototype.setLinePoints=function(t){var r=this.childOfName("line");Ks(r.shape,t),r.dirty()},r.prototype.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),r=this.childOfName("toSymbol"),i=this.getTextContent();if(!t&&!r&&(!i||i.ignore))return;for(var s=1,u=this.parent;u;)u.scaleX&&(s/=u.scaleX),u=u.parent;var c=this.childOfName("line");if(!!this.__dirty||!!c.__dirty){var h=c.shape.percent,f=c.pointAt(0),p=c.pointAt(h),v=Ca([],p,f);if(Cp(v,v),t&&(t.setPosition(f),R(t,0),t.scaleX=t.scaleY=s*h,t.markRedraw()),r&&(r.setPosition(p),R(r,1),r.scaleX=r.scaleY=s*h,r.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var y=void 0,x=void 0,_=i.__labelDistance,b=_[0]*s,w=_[1]*s,S=h/2,A=c.tangentAt(S),M=[A[1],-A[0]],C=c.pointAt(S);M[1]>0&&(M[0]=-M[0],M[1]=-M[1]);var T=A[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var I=-Math.atan2(A[1],A[0]);p[0]<f[0]&&(I=Math.PI+I),i.rotation=I}var D=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":D=-w,x="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":D=w,x="top";break;default:D=0,x="middle"}switch(i.__position){case"end":i.x=v[0]*b+p[0],i.y=v[1]*w+p[1],y=v[0]>.8?"left":v[0]<-.8?"right":"center",x=v[1]>.8?"top":v[1]<-.8?"bottom":"middle";break;case"start":i.x=-v[0]*b+f[0],i.y=-v[1]*w+f[1],y=v[0]>.8?"right":v[0]<-.8?"left":"center",x=v[1]>.8?"bottom":v[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=b*T+f[0],i.y=f[1]+D,y=A[0]<0?"right":"left",i.originX=-b*T,i.originY=-D;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=C[0],i.y=C[1]+D,y="center",i.originY=-D;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-b*T+p[0],i.y=p[1]+D,y=A[0]>=0?"right":"left",i.originX=b*T,i.originY=-D}i.scaleX=i.scaleY=s,i.setStyle({verticalAlign:i.__verticalAlign||x,align:i.__align||y})}}function R(t,r){var i=t.__specifiedRotation;if(null==i){var s=c.tangentAt(r);t.attr("rotation",(1===r?-1:1)*Math.PI/2-Math.atan2(s[1],s[0]))}else t.attr("rotation",i)}},r}(IS),Ku=function(){function t(t){this.group=new IS,this._LineCtor=t||Kl}return t.prototype.updateData=function(t){var r=this;this._progressiveEls=null;var i=this.group,s=this._lineData;this._lineData=t,!s&&i.removeAll();var u=Kc(t);t.diff(s).add(function(i){r._doAdd(t,i,u)}).update(function(i,c){r._doUpdate(s,t,c,i,u)}).remove(function(t){i.remove(s.getItemGraphicEl(t))}).execute()},t.prototype.updateLayout=function(){var t=this._lineData;if(!!t)t.eachItemGraphicEl(function(r,i){r.updateLayout(t,i)},this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Kc(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,r){function i(t){!t.isGroup&&!function(t){return t.animators&&t.animators.length>0}(t)&&(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var s=t.start;s<t.end;s++)if(Kd(r.getItemLayout(s))){var u=new this._LineCtor(r,s,this._seriesScope);u.traverse(i),this.group.add(u),r.setItemGraphicEl(s,u),this._progressiveEls.push(u)}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){Fu(this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,r,i){if(!!Kd(t.getItemLayout(r))){var s=new this._LineCtor(t,r,i);t.setItemGraphicEl(r,s),this.group.add(s)}},t.prototype._doUpdate=function(t,r,i,s,u){var c=t.getItemGraphicEl(i);if(!Kd(r.getItemLayout(s))){this.group.remove(c);return}c?c.updateData(r,s,u):c=new this._LineCtor(r,s,u),r.setItemGraphicEl(s,c),this.group.add(c)},t}();function Kc(t){var r=t.hostModel,i=r.getModel("emphasis");return{lineStyle:r.getModel("lineStyle").getLineStyle(),emphasisLineStyle:i.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:r.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:r.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:i.get("disabled"),blurScope:i.get("blurScope"),focus:i.get("focus"),labelStatesModels:Le(r)}}function Kh(t){return isNaN(t[0])||isNaN(t[1])}function Kd(t){return t&&!Kh(t[0])&&!Kh(t[1])}var Kf=[],Kp=[],Kg=[],Km=Math.abs;function Kv(t,r,i){for(var s,u=t[0],c=t[1],h=t[2],f=1/0,p=i*i,v=.1,y=.1;y<=.9;y+=.1){Kf[0]=TU(u[0],c[0],h[0],y),Kf[1]=TU(u[1],c[1],h[1],y);var x=Km(Cy(Kf,r)-p);x<f&&(f=x,s=y)}for(var _=0;_<32;_++){var b=s+v;Kp[0]=TU(u[0],c[0],h[0],s),Kp[1]=TU(u[1],c[1],h[1],s),Kg[0]=TU(u[0],c[0],h[0],b),Kg[1]=TU(u[1],c[1],h[1],b);var x=Cy(Kp,r)-p;if(.01>Km(x))break;var w=Cy(Kg,r)-p;v/=2,x<0?w>=0?s+=v:s-=v:w>=0?s-=v:s+=v}return s}function Ky(t,r){var i=[],s=[[],[],[]],u=[[],[]],c=[];r/=2,t.eachEdge(function(t,h){var f=t.getLayout(),p=t.getVisual("fromSymbol"),v=t.getVisual("toSymbol");!f.__original&&(f.__original=[Ct(f[0]),Ct(f[1])],f[2]&&f.__original.push(Ct(f[2])));var y=f.__original;if(null!=f[2]){if(Ce(s[0],y[0]),Ce(s[1],y[2]),Ce(s[2],y[1]),p&&"none"!==p){var x=Zq(t.node1),_=Kv(s,y[0],x*r);TH(s[0][0],s[1][0],s[2][0],_,i),s[0][0]=i[3],s[1][0]=i[4],TH(s[0][1],s[1][1],s[2][1],_,i),s[0][1]=i[3],s[1][1]=i[4]}if(v&&"none"!==v){var x=Zq(t.node2),_=Kv(s,y[1],x*r);TH(s[0][0],s[1][0],s[2][0],_,i),s[1][0]=i[1],s[2][0]=i[2],TH(s[0][1],s[1][1],s[2][1],_,i),s[1][1]=i[1],s[2][1]=i[2]}Ce(f[0],s[0]),Ce(f[1],s[2]),Ce(f[2],s[1])}else{if(Ce(u[0],y[0]),Ce(u[1],y[1]),Ca(c,u[1],u[0]),Cp(c,c),p&&"none"!==p){var x=Zq(t.node1);Ci(u[0],u[0],c,x*r)}if(v&&"none"!==v){var x=Zq(t.node2);Ci(u[1],u[1],c,-x*r)}Ce(f[0],u[0]),Ce(f[1],u[1])}})}function Kx(t){return"view"===t.type}var K_=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(t,r){var i=new V6,s=new Ku,u=this.group;this._controller=new Xd(r.getZr()),this._controllerHost={target:u},u.add(i.group),u.add(s.group),this._symbolDraw=i,this._lineDraw=s,this._firstRender=!0},r.prototype.render=function(t,r,i){var s=this,u=t.coordinateSystem;this._model=t;var c=this._symbolDraw,h=this._lineDraw,f=this.group;if(Kx(u)){var p={x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY};this._firstRender?f.attr(p):P$(f,p,t)}Ky(t.getGraph(),ZQ(t));var v=t.getData();c.updateData(v);var y=t.getEdgeData();h.updateData(y),this._updateNodeAndLinkScale(),this._updateController(t,r,i),clearTimeout(this._layoutTimeout);var x=t.forceLayout,_=t.get(["force","layoutAnimation"]);x&&this._startForceLayoutIteration(x,_);var b=t.get("layout");v.graph.eachNode(function(r){var i=r.dataIndex,u=r.getGraphicEl(),c=r.getModel();if(!!u){u.off("drag").off("dragend");var h=c.get("draggable");h&&u.on("drag",function(c){switch(b){case"force":x.warmUp(),s._layouting||s._startForceLayoutIteration(x,_),x.setFixed(i),v.setItemLayout(i,[u.x,u.y]);break;case"circular":v.setItemLayout(i,[u.x,u.y]),r.setLayout({fixed:!0},!0),Z1(t,"symbolSize",r,[c.offsetX,c.offsetY]),s.updateLayout(t);break;default:v.setItemLayout(i,[u.x,u.y]),ZK(t.getGraph(),t),s.updateLayout(t)}}).on("dragend",function(){x&&x.setUnfixed(i)}),u.setDraggable(h,!!c.get("cursor")),"adjacency"===c.get(["emphasis","focus"])&&(Pe(u).focus=r.getAdjacentDataIndices())}}),v.graph.eachEdge(function(t){var r=t.getGraphicEl(),i=t.getModel().get(["emphasis","focus"]);if(!!r)"adjacency"===i&&(Pe(r).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})});var w="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),S=v.getLayout("cx"),A=v.getLayout("cy");v.graph.eachNode(function(t){Z3(t,w,S,A)}),this._firstRender=!1},r.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},r.prototype._startForceLayoutIteration=function(t,r){var i=this;!function s(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)&&(r?i._layoutTimeout=setTimeout(s,16):s())})}()},r.prototype._updateController=function(t,r,i){var s=this,u=this._controller,c=this._controllerHost,h=this.group;if(u.setPointerChecker(function(r,s,u){var c=h.getBoundingRect();return c.applyTransform(h.transform),c.contain(s,u)&&!Xx(r,i,t)}),!Kx(t.coordinateSystem)){u.disable();return}u.enable(t.get("roam")),c.zoomLimit=t.get("scaleLimit"),c.zoom=t.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(r){Xm(c,r.dx,r.dy),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:r.dx,dy:r.dy})}).on("zoom",function(r){Xv(c,r.scale,r.originX,r.originY),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:r.scale,originX:r.originX,originY:r.originY}),s._updateNodeAndLinkScale(),Ky(t.getGraph(),ZQ(t)),s._lineDraw.updateLayout(),i.updateLabelLayout()})},r.prototype._updateNodeAndLinkScale=function(){var t=this._model,r=t.getData(),i=ZQ(t);r.eachItemGraphicEl(function(t,r){t&&t.setSymbolScale(i)})},r.prototype.updateLayout=function(t){Ky(t.getGraph(),ZQ(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},r.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},r.type="graph",r}(Fy);function Kb(t){return"_EC_"+t}var Kw=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,r){t=null==t?""+r:""+t;var i=this._nodesMap;if(!i[Kb(t)]){var s=new KS(t,r);return s.hostGraph=this,this.nodes.push(s),i[Kb(t)]=s,s}},t.prototype.getNodeByIndex=function(t){var r=this.data.getRawIndex(t);return this.nodes[r]},t.prototype.getNodeById=function(t){return this._nodesMap[Kb(t)]},t.prototype.addEdge=function(t,r,i){var s=this._nodesMap,u=this._edgesMap;if(MB(t)&&(t=this.nodes[t]),MB(r)&&(r=this.nodes[r]),!(t instanceof KS)&&(t=s[Kb(t)]),!(r instanceof KS)&&(r=s[Kb(r)]),!!t&&!!r){var c=t.id+"-"+r.id,h=new KA(t,r,i);return h.hostGraph=this,this._directed&&(t.outEdges.push(h),r.inEdges.push(h)),t.edges.push(h),t!==r&&r.edges.push(h),this.edges.push(h),u[c]=h,h}},t.prototype.getEdgeByIndex=function(t){var r=this.edgeData.getRawIndex(t);return this.edges[r]},t.prototype.getEdge=function(t,r){t instanceof KS&&(t=t.id),r instanceof KS&&(r=r.id);var i=this._edgesMap;return this._directed?i[t+"-"+r]:i[t+"-"+r]||i[r+"-"+t]},t.prototype.eachNode=function(t,r){for(var i=this.nodes,s=i.length,u=0;u<s;u++)i[u].dataIndex>=0&&t.call(r,i[u],u)},t.prototype.eachEdge=function(t,r){for(var i=this.edges,s=i.length,u=0;u<s;u++)i[u].dataIndex>=0&&i[u].node1.dataIndex>=0&&i[u].node2.dataIndex>=0&&t.call(r,i[u],u)},t.prototype.breadthFirstTraverse=function(t,r,i,s){if(!(r instanceof KS)&&(r=this._nodesMap[Kb(r)]),!r)return;for(var u="out"===i?"outEdges":"in"===i?"inEdges":"edges",c=0;c<this.nodes.length;c++)this.nodes[c].__visited=!1;if(!t.call(s,r,null))for(var h=[r];h.length;){for(var f=h.shift(),p=f[u],c=0;c<p.length;c++){var v=p[c],y=v.node1===f?v.node2:v.node1;if(!y.__visited){if(t.call(s,y,f))return;h.push(y),y.__visited=!0}}}},t.prototype.update=function(){for(var t=this.data,r=this.edgeData,i=this.nodes,s=this.edges,u=0,c=i.length;u<c;u++)i[u].dataIndex=-1;for(var u=0,c=t.count();u<c;u++)i[t.getRawIndex(u)].dataIndex=u;r.filterSelf(function(t){var i=s[r.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0});for(var u=0,c=s.length;u<c;u++)s[u].dataIndex=-1;for(var u=0,c=r.count();u<c;u++)s[r.getRawIndex(u)].dataIndex=u},t.prototype.clone=function(){for(var r=new t(this._directed),i=this.nodes,s=this.edges,u=0;u<i.length;u++)r.addNode(i[u].id,i[u].dataIndex);for(var u=0;u<s.length;u++){var c=s[u];r.addEdge(c.node1.id,c.node2.id,c.dataIndex)}return r},t}(),KS=function(){function t(t,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==r?-1:r}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},r=0;r<this.edges.length;r++){var i=this.edges[r];if(!(i.dataIndex<0))t.edge.push(i.dataIndex),t.node.push(i.node1.dataIndex,i.node2.dataIndex)}return t},t.prototype.getTrajectoryDataIndices=function(){for(var t=M2(),r=M2(),i=0;i<this.edges.length;i++){var s=this.edges[i];if(!(s.dataIndex<0)){t.set(s.dataIndex,!0);for(var u=[s.node1],c=[s.node2],h=0;h<u.length;){var f=u[h];h++,r.set(f.dataIndex,!0);for(var p=0;p<f.inEdges.length;p++)t.set(f.inEdges[p].dataIndex,!0),u.push(f.inEdges[p].node1)}for(h=0;h<c.length;){var v=c[h];h++,r.set(v.dataIndex,!0);for(var p=0;p<v.outEdges.length;p++)t.set(v.outEdges[p].dataIndex,!0),c.push(v.outEdges[p].node2)}}}return{edge:t.keys(),node:r.keys()}},t}(),KA=function(){function t(t,r,i){this.dataIndex=-1,this.node1=t,this.node2=r,this.dataIndex=null==i?-1:i}return t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var t=M2(),r=M2();t.set(this.dataIndex,!0);for(var i=[this.node1],s=[this.node2],u=0;u<i.length;){var c=i[u];u++,r.set(c.dataIndex,!0);for(var h=0;h<c.inEdges.length;h++)t.set(c.inEdges[h].dataIndex,!0),i.push(c.inEdges[h].node1)}for(u=0;u<s.length;){var f=s[u];u++,r.set(f.dataIndex,!0);for(var h=0;h<f.outEdges.length;h++)t.set(f.outEdges[h].dataIndex,!0),s.push(f.outEdges[h].node2)}return{edge:t.keys(),node:r.keys()}},t}();function KM(t,r){return{getValue:function(i){var s=this[t][r];return s.getStore().get(s.getDimensionIndex(i||"value"),this.dataIndex)},setVisual:function(i,s){this.dataIndex>=0&&this[t][r].setItemVisual(this.dataIndex,i,s)},getVisual:function(i){return this[t][r].getItemVisual(this.dataIndex,i)},setLayout:function(i,s){this.dataIndex>=0&&this[t][r].setItemLayout(this.dataIndex,i,s)},getLayout:function(){return this[t][r].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][r].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][r].getRawIndex(this.dataIndex)}}}M_(KS,KM("hostGraph","data")),M_(KA,KM("hostGraph","edgeData"));function KC(t,r,i,s,u){for(var c,h=new Kw(s),f=0;f<t.length;f++)h.addNode(MV(t[f].id,t[f].name,f),f);for(var p=[],v=[],y=0,f=0;f<r.length;f++){var x=r[f],_=x.source,b=x.target;h.addEdge(_,b,y)&&(v.push(x),p.push(MV(Di(x.id,null),_+" > "+b)),y++)}var w=i.get("coordinateSystem");if("cartesian2d"===w||"polar"===w)c=z8(t,i);else{var S=BQ.get(w),A=S&&S.dimensions||[];0>My(A,"value")&&A.concat(["value"]),(c=new zq(z0(t,{coordDimensions:A,encodeDefine:i.getEncode()}).dimensions,i)).initData(t)}var M=new zq(["value"],i);return M.initData(v,p),u&&u(c,M),YX({mainData:c,struct:h,structAttr:"graph",datas:{node:c,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),h.update(),h}var KT=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.hasSymbolVisual=!0,i}return AK(r,t),r.prototype.init=function(r){t.prototype.init.apply(this,arguments);var i=this;function s(){return i._categoriesData}this.legendVisualProvider=new Wt(s,s),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},r.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},r.prototype.mergeDefaultAndTheme=function(r){t.prototype.mergeDefaultAndTheme.apply(this,arguments),I6(r,"edgeLabel",["show"])},r.prototype.getInitialData=function(t,r){var i=t.edges||t.links||[],s=t.data||t.nodes||[],u=this;if(s&&i){!function(t){if(!!ZG(t))t.__curvenessList=[],t.__edgeMap={},ZH(t)}(this);var c=KC(s,i,this,!0,function(t,r){t.wrapMethod("getItemModel",function(t){var r=u._categoriesModels[t.getShallow("category")];return r&&(r.parentModel=t.parentModel,t.parentModel=r),t});var i=Lw.prototype.getModel;function s(t,r){var s=i.call(this,t,r);return s.resolveParentPath=c,s}function c(t){if(t&&("label"===t[0]||"label"===t[1])){var r=t.slice();return"label"===t[0]?r[0]="edgeLabel":"label"===t[1]&&(r[1]="edgeLabel"),r}return t}r.wrapMethod("getItemModel",function(t){return t.resolveParentPath=c,t.getModel=s,t})});return Mw(c.edges,function(t){!function(t,r,i,s){if(!!ZG(i)){var u=ZV(t,r,i),c=i.__edgeMap,h=c[Zj(u)];c[u]&&!h?c[u].isForward=!0:h&&c[u]&&(h.isForward=!0,c[u].isForward=!1),c[u]=c[u]||[],c[u].push(s)}}(t.node1,t.node2,this,t.dataIndex)},this),c.data}},r.prototype.getGraph=function(){return this.getData().graph},r.prototype.getEdgeData=function(){return this.getGraph().edgeData},r.prototype.getCategoriesData=function(){return this._categoriesData},r.prototype.formatTooltip=function(t,r,i){if("edge"===i){var s=this.getData(),u=this.getDataParams(t,i),c=s.graph.getEdgeByIndex(t),h=s.getName(c.node1.dataIndex),f=s.getName(c.node2.dataIndex),p=[];return null!=h&&p.push(h),null!=f&&p.push(f),Ol("nameValue",{name:p.join(" > "),value:u.value,noValue:null==u.value})}return Ox({series:this,dataIndex:t,multipleSeries:r})},r.prototype._updateCategoriesData=function(){var t=MS(this.option.categories||[],function(t){return null!=t.value?t:Mg({value:0},t)}),r=new zq(["value"],this);r.initData(t),this._categoriesData=r,this._categoriesModels=r.mapArray(function(t){return r.getItemModel(t)})},r.prototype.setZoom=function(t){this.option.zoom=t},r.prototype.setCenter=function(t){this.option.center=t},r.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},r.type="series.graph",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},r}(OR),KE={type:"graphRoam",event:"graphRoam",update:"none"},KI=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},KD=function(t){function r(r){var i=t.call(this,r)||this;return i.type="pointer",i}return AK(r,t),r.prototype.getDefaultShape=function(){return new KI},r.prototype.buildPath=function(t,r){var i=Math.cos,s=Math.sin,u=r.r,c=r.width,h=r.angle,f=r.x-i(h)*c*(c>=u/3?1:2),p=r.y-s(h)*c*(c>=u/3?1:2);h=r.angle-Math.PI/2,t.moveTo(f,p),t.lineTo(r.x+i(h)*c,r.y+s(h)*c),t.lineTo(r.x+i(r.angle)*u,r.y+s(r.angle)*u),t.lineTo(r.x-i(h)*c,r.y-s(h)*c),t.lineTo(f,p)},r}(RL);function KR(t,r){var i=null==t?"":t+"";return r&&(MP(r)?i=r.replace("{value}",i):MR(r)&&(i=r(t))),i}var KP=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){this.group.removeAll();var s,u,c,h,f=t.get(["axisLine","lineStyle","color"]);var p=(s=t,u=i,c=s.get("center"),h=Math.min(u.getWidth(),u.getHeight()),{cx:IO(c[0],u.getWidth()),cy:IO(c[1],u.getHeight()),r:IO(s.get("radius"),h/2)});this._renderMain(t,r,i,f,p),this._data=t.getData()},r.prototype.dispose=function(){},r.prototype._renderMain=function(t,r,i,s,u){var c=this.group,h=t.get("clockwise"),f=-t.get("startAngle")/180*Math.PI,p=-t.get("endAngle")/180*Math.PI,v=t.getModel("axisLine"),y=v.get("roundCap")?jI:Nc,x=v.get("show"),_=v.getModel("lineStyle"),b=_.get("width"),w=[f,p];Rv(w,!h),f=w[0];for(var S=(p=w[1])-f,A=f,M=[],C=0;x&&C<s.length;C++){var T=new y({shape:{startAngle:A,endAngle:p=f+S*Math.min(Math.max(s[C][0],0),1),cx:u.cx,cy:u.cy,clockwise:h,r0:u.r-b,r:u.r},silent:!0});T.setStyle({fill:s[C][1]}),T.setStyle(_.getLineStyle(["color","width"])),M.push(T),A=p}M.reverse(),Mw(M,function(t){return c.add(t)});var I=function(t){var r;if(t<=0)return s[0][1];for(r=0;r<s.length;r++)if(s[r][0]>=t&&(0===r?0:s[r-1][0])<t)return s[r][1];return s[r-1][1]};this._renderTicks(t,r,i,I,u,f,p,h,b),this._renderTitleAndDetail(t,r,i,I,u),this._renderAnchor(t,u),this._renderPointer(t,r,i,I,u,f,p,h,b)},r.prototype._renderTicks=function(t,r,i,s,u,c,h,f,p){for(var v,y,x=this.group,_=u.cx,b=u.cy,w=u.r,S=+t.get("min"),A=+t.get("max"),M=t.getModel("splitLine"),C=t.getModel("axisTick"),T=t.getModel("axisLabel"),I=t.get("splitNumber"),D=C.get("splitNumber"),R=IO(M.get("length"),w),P=IO(C.get("length"),w),L=c,B=(h-c)/I,k=B/D,O=M.getModel("lineStyle").getLineStyle(),N=C.getModel("lineStyle").getLineStyle(),F=M.get("distance"),U=0;U<=I;U++){if(v=Math.cos(L),y=Math.sin(L),M.get("show")){var z=F?F+p:p,G=new NA({shape:{x1:v*(w-z)+_,y1:y*(w-z)+b,x2:v*(w-R-z)+_,y2:y*(w-R-z)+b},style:O,silent:!0});"auto"===O.stroke&&G.setStyle({stroke:s(U/I)}),x.add(G)}if(T.get("show")){var z=T.get("distance")+F,H=KR(IN(U/I*(A-S)+S),T.get("formatter")),V=s(U/I),j=v*(w-R-z)+_,W=y*(w-R-z)+b,X=T.get("rotate"),Y=0;"radial"===X?(Y=-L+2*Math.PI)>Math.PI/2&&(Y+=Math.PI):"tangential"===X?Y=-L-Math.PI/2:MB(X)&&(Y=X*Math.PI/180),0===Y?x.add(new R7({style:Lt(T,{text:H,x:j,y:W,verticalAlign:y<-.8?"top":y>.8?"bottom":"middle",align:v<-.4?"left":v>.4?"right":"center"},{inheritColor:V}),silent:!0})):x.add(new R7({style:Lt(T,{text:H,x:j,y:W,verticalAlign:"middle",align:"center"},{inheritColor:V}),silent:!0,originX:j,originY:W,rotation:Y}))}if(C.get("show")&&U!==I){var z=C.get("distance");z=z?z+p:p;for(var Z=0;Z<=D;Z++){var K=new NA({shape:{x1:(v=Math.cos(L))*(w-z)+_,y1:(y=Math.sin(L))*(w-z)+b,x2:v*(w-P-z)+_,y2:y*(w-P-z)+b},silent:!0,style:N});"auto"===N.stroke&&K.setStyle({stroke:s((U+Z/D)/I)}),x.add(K),L+=k}L-=k}else L+=B}},r.prototype._renderPointer=function(t,r,i,s,u,c,h,f,p){var v=this.group,y=this._data,x=this._progressEls,_=[],b=t.get(["pointer","show"]),w=t.getModel("progress"),S=w.get("show"),A=t.getData(),M=A.mapDimension("value"),C=+t.get("min"),T=+t.get("max"),I=[C,T],D=[c,h];function R(r,i){var s,c=A.getItemModel(r).getModel("pointer"),h=IO(c.get("width"),u.r),f=IO(c.get("length"),u.r),p=t.get(["pointer","icon"]),v=c.get("offsetCenter"),y=IO(v[0],u.r),x=IO(v[1],u.r),_=c.get("keepAspect");return(s=p?Us(p,y-h/2,x-f,h,f,null,_):new KD({shape:{angle:-Math.PI/2,width:h,r:f,x:y,y:x}})).rotation=-(i+Math.PI/2),s.x=u.cx,s.y=u.cy,s}function P(t,r){var i=w.get("roundCap")?jI:Nc,s=w.get("overlap"),h=s?w.get("width"):p/A.count(),v=s?u.r-h:u.r-(t+1)*h,y=s?u.r:u.r-t*h,x=new i({shape:{startAngle:c,endAngle:r,cx:u.cx,cy:u.cy,clockwise:f,r0:v,r:y}});return s&&(x.z2=T-A.get(M,t)%T),x}(S||b)&&(A.diff(y).add(function(r){var i=A.get(M,r);if(b){var s=R(r,c);P0(s,{rotation:-((isNaN(+i)?D[0]:Ik(i,I,D,!0))+Math.PI/2)},t),v.add(s),A.setItemGraphicEl(r,s)}if(S){var u=P(r,c);P0(u,{shape:{endAngle:Ik(i,I,D,w.get("clip"))}},t),v.add(u),Pt(t.seriesIndex,A.dataType,r,u),_[r]=u}}).update(function(r,i){var s=A.get(M,r);if(b){var u=y.getItemGraphicEl(i),h=u?u.rotation:c,f=R(r,h);f.rotation=h,P$(f,{rotation:-((isNaN(+s)?D[0]:Ik(s,I,D,!0))+Math.PI/2)},t),v.add(f),A.setItemGraphicEl(r,f)}if(S){var p=x[i],C=P(r,p?p.shape.endAngle:c);P$(C,{shape:{endAngle:Ik(s,I,D,w.get("clip"))}},t),v.add(C),Pt(t.seriesIndex,A.dataType,r,C),_[r]=C}}).execute(),A.each(function(t){var r=A.getItemModel(t),i=r.getModel("emphasis"),u=i.get("focus"),c=i.get("blurScope"),h=i.get("disabled");if(b){var f=A.getItemGraphicEl(t),p=A.getItemVisual(t,"style"),v=p.fill;if(f instanceof RU){var y=f.style;f.useStyle(Mg({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},p))}else f.useStyle(p),"pointer"!==f.type&&f.setColor(v);f.setStyle(r.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===f.style.fill&&f.setStyle("fill",s(Ik(A.get(M,t),I,[0,1],!0))),f.z2EmphasisLift=0,PW(f,r),PG(f,u,c,h)}if(S){var x=_[t];x.useStyle(A.getItemVisual(t,"style")),x.setStyle(r.getModel(["progress","itemStyle"]).getItemStyle()),x.z2EmphasisLift=0,PW(x,r),PG(x,u,c,h)}}),this._progressEls=_)},r.prototype._renderAnchor=function(t,r){var i=t.getModel("anchor");if(i.get("show")){var s=i.get("size"),u=i.get("icon"),c=i.get("offsetCenter"),h=i.get("keepAspect"),f=Us(u,r.cx-s/2+IO(c[0],r.r),r.cy-s/2+IO(c[1],r.r),s,s,null,h);f.z2=i.get("showAbove")?1:0,f.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(f)}},r.prototype._renderTitleAndDetail=function(t,r,i,s,u){var c=this,h=t.getData(),f=h.mapDimension("value"),p=+t.get("min"),v=+t.get("max"),y=new IS,x=[],_=[],b=t.isAnimationEnabled(),w=t.get(["pointer","showAbove"]);h.diff(this._data).add(function(t){x[t]=new R7({silent:!0}),_[t]=new R7({silent:!0})}).update(function(t,r){x[t]=c._titleEls[r],_[t]=c._detailEls[r]}).execute(),h.each(function(r){var i=h.getItemModel(r),c=h.get(f,r),S=new IS,A=s(Ik(c,[p,v],[0,1],!0)),M=i.getModel("title");if(M.get("show")){var C=M.get("offsetCenter"),T=u.cx+IO(C[0],u.r),I=u.cy+IO(C[1],u.r),D=x[r];D.attr({z2:w?0:2,style:Lt(M,{x:T,y:I,text:h.getName(r),align:"center",verticalAlign:"middle"},{inheritColor:A})}),S.add(D)}var R=i.getModel("detail");if(R.get("show")){var P=R.get("offsetCenter"),L=u.cx+IO(P[0],u.r),B=u.cy+IO(P[1],u.r),k=IO(R.get("width"),u.r),O=IO(R.get("height"),u.r),N=t.get(["progress","show"])?h.getItemVisual(r,"style").fill:A,D=_[r],F=R.get("formatter");D.attr({z2:w?0:2,style:Lt(R,{x:L,y:B,text:KR(c,F),width:isNaN(k)?null:k,height:isNaN(O)?null:O,align:"center",verticalAlign:"middle"},{inheritColor:N})}),Lu(D,{normal:R},c,function(t){return KR(t,F)}),b&&Lc(D,r,h,t,{getFormattedLabel:function(t,r,i,s,u,h){return KR(h?h.interpolatedValue:c,F)}}),S.add(D)}y.add(S)}),this.group.add(y),this._titleEls=x,this._detailEls=_},r.type="gauge",r}(Fy),KL=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.visualStyleAccessPath="itemStyle",i}return AK(r,t),r.prototype.getInitialData=function(t,r){return We(this,["value"])},r.type="series.gauge",r.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},r}(OR),KB=["itemStyle","opacity"],Kk=function(t){function r(r,i){var s=t.call(this)||this,u=new N_,c=new R7;return s.setTextContent(c),s.setTextGuideLine(u),s.updateData(r,i,!0),s}return AK(r,t),r.prototype.updateData=function(t,r,i){var s=t.hostModel,u=t.getItemModel(r),c=t.getItemLayout(r),h=u.getModel("emphasis"),f=u.get(KB);f=null==f?1:f,!i&&P4(this),this.useStyle(t.getItemVisual(r,"style")),this.style.lineJoin="round",i?(this.setShape({points:c.points}),this.style.opacity=0,P0(this,{style:{opacity:f}},s,r)):P$(this,{style:{opacity:f},shape:{points:c.points}},s,r),PW(this,u),this._updateLabel(t,r),PG(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},r.prototype._updateLabel=function(t,r){var i=this.getTextGuideLine(),s=this.getTextContent(),u=t.hostModel,c=t.getItemModel(r),h=t.getItemLayout(r).label,f=t.getItemVisual(r,"style"),p=f.fill;P7(s,Le(c),{labelFetcher:t.hostModel,labelDataIndex:r,defaultOpacity:f.opacity,defaultText:t.getName(r)},{normal:{align:h.textAlign,verticalAlign:h.verticalAlign}}),this.setTextConfig({local:!0,inside:!!h.inside,insideStroke:p,outsideFill:p});var v=h.linePoints;i.setShape({points:v}),this.textGuideLineConfig={anchor:v?new C4(v[0][0],v[0][1]):null},P$(s,{style:{x:h.x,y:h.y}},u,r),s.attr({rotation:h.rotation,originX:h.x,originY:h.y,z2:10}),Hz(this,HG(c),{stroke:p})},r}(Nv),KO=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.ignoreLabelLineUpdate=!0,i}return AK(r,t),r.prototype.render=function(t,r,i){var s=t.getData(),u=this._data,c=this.group;s.diff(u).add(function(t){var r=new Kk(s,t);s.setItemGraphicEl(t,r),c.add(r)}).update(function(t,r){var i=u.getItemGraphicEl(r);i.updateData(s,t),c.add(i),s.setItemGraphicEl(t,i)}).remove(function(r){P5(u.getItemGraphicEl(r),t,r)}).execute(),this._data=s},r.prototype.remove=function(){this.group.removeAll(),this._data=null},r.prototype.dispose=function(){},r.type="funnel",r}(Fy),KN=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wt(ME(this.getData,this),ME(this.getRawData,this)),this._defaultLabelLine(r)},r.prototype.getInitialData=function(t,r){return We(this,{coordDimensions:["value"],encodeDefaulter:MI(BL,this)})},r.prototype._defaultLabelLine=function(t){I6(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},r.prototype.getDataParams=function(r){var i=this.getData(),s=t.prototype.getDataParams.call(this,r),u=i.mapDimension("value"),c=i.getSum(u);return s.percent=c?+(i.get(u,r)/c*100).toFixed(2):0,s.$vars.push("percent"),s},r.type="series.funnel",r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},r}(OR);function KF(t,r){t.eachSeriesByType("funnel",function(t){var i,s,u=t.getData(),c=u.mapDimension("value"),h=t.get("sort");var f=(i=t,s=r,Bc(i.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()})),p=t.get("orient"),v=f.width,y=f.height,x=function(t,r){for(var i=t.mapDimension("value"),s=t.mapArray(i,function(t){return t}),u=[],c="ascending"===r,h=0,f=t.count();h<f;h++)u[h]=h;return MR(r)?u.sort(r):"none"!==r&&u.sort(function(t,r){return c?s[t]-s[r]:s[r]-s[t]}),u}(u,h),_=f.x,b=f.y,w="horizontal"===p?[IO(t.get("minSize"),y),IO(t.get("maxSize"),y)]:[IO(t.get("minSize"),v),IO(t.get("maxSize"),v)],S=u.getDataExtent(c),A=t.get("min"),M=t.get("max");null==A&&(A=Math.min(S[0],0)),null==M&&(M=S[1]);var C=t.get("funnelAlign"),T=t.get("gap"),I=(("horizontal"===p?v:y)-T*(u.count()-1))/u.count(),D=function(t,r){if("horizontal"===p){var i,s=Ik(u.get(c,t)||0,[A,M],w,!0),h=void 0;switch(C){case"top":h=b;break;case"center":h=b+(y-s)/2;break;case"bottom":h=b+(y-s)}return[[r,h],[r,h+s]]}var f=Ik(u.get(c,t)||0,[A,M],w,!0);switch(C){case"left":i=_;break;case"center":i=_+(v-f)/2;break;case"right":i=_+v-f}return[[i,r],[i+f,r]]};"ascending"===h&&(I=-I,T=-T,"horizontal"===p?_+=v:b+=y,x=x.reverse());for(var R=0;R<x.length;R++){var P=x[R],L=x[R+1],B=u.getItemModel(P);if("horizontal"===p){var k=B.get(["itemStyle","width"]);null==k?k=I:(k=IO(k,v),"ascending"===h&&(k=-k));var O=D(P,_),N=D(L,_+k);_+=k+T,u.setItemLayout(P,{points:O.concat(N.slice().reverse())})}else{var F=B.get(["itemStyle","height"]);null==F?F=I:(F=IO(F,y),"ascending"===h&&(F=-F));var O=D(P,b),N=D(L,b+F);b+=F+T,u.setItemLayout(P,{points:O.concat(N.slice().reverse())})}}!function(t){var r=t.hostModel.get("orient");t.each(function(i){var s,u,c,h,f=t.getItemModel(i),p=f.getModel("label").get("position"),v=f.getModel("labelLine"),y=t.getItemLayout(i),x=y.points,_="inner"===p||"inside"===p||"center"===p||"insideLeft"===p||"insideRight"===p;if(_)"insideLeft"===p?(u=(x[0][0]+x[3][0])/2+5,c=(x[0][1]+x[3][1])/2,s="left"):"insideRight"===p?(u=(x[1][0]+x[2][0])/2-5,c=(x[1][1]+x[2][1])/2,s="right"):(u=(x[0][0]+x[1][0]+x[2][0]+x[3][0])/4,c=(x[0][1]+x[1][1]+x[2][1]+x[3][1])/4,s="center"),h=[[u,c],[u,c]];else{var b=void 0,w=void 0,S=void 0,A=void 0,M=v.get("length");"left"===p?(b=(x[3][0]+x[0][0])/2,w=(x[3][1]+x[0][1])/2,u=(S=b-M)-5,s="right"):"right"===p?(b=(x[1][0]+x[2][0])/2,w=(x[1][1]+x[2][1])/2,u=(S=b+M)+5,s="left"):"top"===p?(b=(x[3][0]+x[0][0])/2,c=(A=(w=(x[3][1]+x[0][1])/2)-M)-5,s="center"):"bottom"===p?(b=(x[1][0]+x[2][0])/2,c=(A=(w=(x[1][1]+x[2][1])/2)+M)+5,s="center"):"rightTop"===p?(b="horizontal"===r?x[3][0]:x[1][0],w="horizontal"===r?x[3][1]:x[1][1],"horizontal"===r?(c=(A=w-M)-5,s="center"):(u=(S=b+M)+5,s="top")):"rightBottom"===p?(b=x[2][0],w=x[2][1],"horizontal"===r?(c=(A=w+M)+5,s="center"):(u=(S=b+M)+5,s="bottom")):"leftTop"===p?(b=x[0][0],w="horizontal"===r?x[0][1]:x[1][1],"horizontal"===r?(c=(A=w-M)-5,s="center"):(u=(S=b-M)-5,s="right")):"leftBottom"===p?(b="horizontal"===r?x[1][0]:x[3][0],w="horizontal"===r?x[1][1]:x[2][1],"horizontal"===r?(c=(A=w+M)+5,s="center"):(u=(S=b-M)-5,s="right")):(b=(x[1][0]+x[2][0])/2,w=(x[1][1]+x[2][1])/2,"horizontal"===r?(c=(A=w+M)+5,s="center"):(u=(S=b+M)+5,s="left")),"horizontal"===r?u=S=b:c=A=w,h=[[b,w],[S,A]]}y.label={linePoints:h,x:u,y:c,verticalAlign:"middle",textAlign:s,inside:_}})}(u)})}var KU=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i._dataGroup=new IS,i._initialized=!1,i}return AK(r,t),r.prototype.init=function(){this.group.add(this._dataGroup)},r.prototype.render=function(t,r,i,s){this._progressiveEls=null;var u=this._dataGroup,c=t.getData(),h=this._data,f=t.coordinateSystem,p=f.dimensions,v=KH(t);c.diff(h).add(function(t){KV(KG(c,u,t,p,f),c,t,v)}).update(function(r,i){var s=h.getItemGraphicEl(i),u=Kz(c,r,p,f);c.setItemGraphicEl(r,s),P$(s,{shape:{points:u}},t,r),P4(s),KV(s,c,r,v)}).remove(function(t){var r=h.getItemGraphicEl(t);u.remove(r)}).execute();if(!this._initialized){this._initialized=!0;var y=function(t,r,i){var s=t.model,u=t.getRect(),c=new RY({shape:{x:u.x,y:u.y,width:u.width,height:u.height}}),h="horizontal"===s.get("layout")?"width":"height";return c.setShape(h,0),P0(c,{shape:{width:u.width,height:u.height}},r,i),c}(f,t,function(){setTimeout(function(){u.removeClipPath()})});u.setClipPath(y)}this._data=c},r.prototype.incrementalPrepareRender=function(t,r,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},r.prototype.incrementalRender=function(t,r,i){for(var s=r.getData(),u=r.coordinateSystem,c=u.dimensions,h=KH(r),f=this._progressiveEls=[],p=t.start;p<t.end;p++){var v=KG(s,this._dataGroup,p,c,u);v.incremental=!0,KV(v,s,p,h),f.push(v)}},r.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},r.type="parallel",r}(Fy);function Kz(t,r,i,s){for(var u=[],c=0;c<i.length;c++){var h=i[c],f=t.get(t.mapDimension(h),r);!function(t,r){return"category"===r?null==t:null==t||isNaN(t)}(f,s.getAxis(h).type)&&u.push(s.dataToPoint(f,h))}return u}function KG(t,r,i,s,u){var c=new N_({shape:{points:Kz(t,i,s,u)},z2:10});return r.add(c),t.setItemGraphicEl(i,c),c}function KH(t){var r,i=t.get("smooth",!0);return!0===i&&(i=.3),(r=i=I0(i))!=r&&(i=0),{smooth:i}}function KV(t,r,i,s){t.useStyle(r.getItemVisual(i,"style")),t.style.fill=null,t.setShape("smooth",s.smooth);var u=r.getItemModel(i),c=u.getModel("emphasis");PW(t,u,"lineStyle"),PG(t,c.get("focus"),c.get("blurScope"),c.get("disabled"))}var Kj=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return AK(r,t),r.prototype.getInitialData=function(t,r){return z8(null,this,{useEncodeDefaulter:ME(KW,null,this)})},r.prototype.getRawIndicesByActiveState=function(t){var r=this.coordinateSystem,i=this.getData(),s=[];return r.eachActiveState(i,function(r,u){t===r&&s.push(i.getRawIndex(u))}),s},r.type="series.parallel",r.dependencies=["parallel"],r.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},r}(OR);function KW(t){var r=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(!!r){var i={};return Mw(r.dimensions,function(t){var r=function(t){return+t.replace("dim","")}(t);i[t]=r}),i}}var KX=["lineStyle","opacity"];let KY={seriesType:"parallel",reset:function(t,r){var i=t.coordinateSystem,s={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,r){i.eachActiveState(r,function(t,i){var u=s[t];if("normal"===t&&r.hasItemOption){var c=r.getItemModel(i).get(KX,!0);null!=c&&(u=c)}r.ensureUniqueItemVisual(i,"style").opacity=u},t.start,t.end)}}}};function KZ(t){(function(t){if(!t.parallel){var r=!1;Mw(t.series,function(t){t&&"parallel"===t.type&&(r=!0)}),r&&(t.parallel=[{}])}})(t),function(t){Mw(I8(t.parallelAxis),function(r){if(!!Mk(r)){var i=r.parallelIndex||0,s=I8(t.parallel)[i];s&&s.parallelAxisDefault&&Mf(r,s.parallelAxisDefault,!1)}})}(t)}var KK=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){this._model=t,this._api=i,!this._handlers&&(this._handlers={},Mw(KJ,function(t,r){i.getZr().on(r,this._handlers[r]=ME(t,this))},this)),FS(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},r.prototype.dispose=function(t,r){FA(this,"_throttledDispatchExpand"),Mw(this._handlers,function(t,i){r.getZr().off(i,t)}),this._handlers=null},r.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},r.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Mg({type:"parallelAxisExpand"},t))},r.type="parallel",r}(OL),KJ={mousedown:function(t){KQ(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var r=this._mouseDownPoint;if(KQ(this,"click")&&r){var i=[t.offsetX,t.offsetY];if(Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2)>5)return;var s=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==s.behavior&&this._dispatchExpand({axisExpandWindow:s.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&!!KQ(this,"mousemove")){var r=this._model,i=r.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),s=i.behavior;"jump"===s&&this._throttledDispatchExpand.debounceNextCall(r.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===s?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===s?null:{duration:0}})}}};function KQ(t,r){var i=t._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===r}var Kq=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},r.prototype.mergeOption=function(t){var r=this.option;t&&Mf(r,t,!0),this._initDimensions()},r.prototype.contains=function(t,r){var i=t.get("parallelIndex");return null!=i&&r.getComponent("parallel",i)===this},r.prototype.setAxisExpand=function(t){Mw(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){t.hasOwnProperty(r)&&(this.option[r]=t[r])},this)},r.prototype._initDimensions=function(){var t=this.dimensions=[],r=this.parallelAxisIndex=[];Mw(MM(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this),function(i){t.push("dim"+i.get("dim")),r.push(i.componentIndex)})},r.type="parallel",r.dependencies=["parallelAxis"],r.layoutMode="box",r.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},r}(By),K$=function(t){function r(r,i,s,u,c){var h=t.call(this,r,i,s)||this;return h.type=u||"value",h.axisIndex=c,h}return AK(r,t),r.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},r}(Hy);function K0(t,r,i,s,u,c){t=t||0;var h,f=i[1]-i[0];if(null!=u&&(u=K2(u,[0,f])),null!=c&&(c=Math.max(c,null!=u?u:0)),"all"===s){var p=Math.abs(r[1]-r[0]);p=K2(p,[0,f]),u=c=K2(p,[u,c]),s=0}r[0]=K2(r[0],i),r[1]=K2(r[1],i);var v=K1(r,s);r[s]+=t;var y=u||0,x=i.slice();return v.sign<0?x[0]+=y:x[1]-=y,r[s]=K2(r[s],x),h=K1(r,s),null!=u&&(h.sign!==v.sign||h.span<u)&&(r[1-s]=r[s]+v.sign*u),h=K1(r,s),null!=c&&h.span>c&&(r[1-s]=r[s]+h.sign*c),r}function K1(t,r){var i=t[r]-t[1-r];return{span:Math.abs(i),sign:i>0?-1:i<0?1:r?-1:1}}function K2(t,r){return Math.min(null!=r[1]?r[1]:1/0,Math.max(null!=r[0]?r[0]:-1/0,t))}var K3=Mw,K5=Math.min,K4=Math.max,K9=Math.floor,K8=Math.ceil,K6=IN,K7=Math.PI,Je=function(){function t(t,r,i){this.type="parallel",this._axesMap=M2(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,r,i)}return t.prototype._init=function(t,r,i){var s=t.dimensions,u=t.parallelAxisIndex;K3(s,function(t,i){var s=u[i],c=r.getComponent("parallelAxis",s),h=this._axesMap.set(t,new K$(t,GW(c),[0,0],c.get("type"),s)),f="category"===h.type;h.onBand=f&&c.get("boundaryGap"),h.inverse=c.get("inverse"),c.axis=h,h.model=c,h.coordinateSystem=c.coordinateSystem=this},this)},t.prototype.update=function(t,r){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var r=this._makeLayoutInfo(),i=r.axisBase,s=r.layoutBase,u=r.pixelDimIndex,c=t[1-u],h=t[u];return c>=i&&c<=i+r.axisLength&&h>=s&&h<=s+r.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,r){r.eachSeries(function(i){if(!!t.contains(i,r)){var s=i.getData();K3(this.dimensions,function(t){var r=this._axesMap.get(t);r.scale.unionExtentFromData(s,s.mapDimension(t)),Gj(r.scale,r.model)},this)}},this)},t.prototype.resize=function(t,r){this._rect=Bc(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,r=this._model,i=this._rect,s=["x","y"],u=["width","height"],c=r.get("layout"),h="horizontal"===c?0:1,f=i[u[h]],p=[0,f],v=this.dimensions.length,y=Jt(r.get("axisExpandWidth"),p),x=Jt(r.get("axisExpandCount")||0,[0,v]),_=r.get("axisExpandable")&&v>3&&v>x&&x>1&&y>0&&f>0,b=r.get("axisExpandWindow");b?(t=Jt(b[1]-b[0],p),b[1]=b[0]+t):(t=Jt(y*(x-1),p),(b=[y*(r.get("axisExpandCenter")||K9(v/2))-t/2])[1]=b[0]+t);var w=(f-t)/(v-x);w<3&&(w=0);var S=[K9(K6(b[0]/y,1))+1,K8(K6(b[1]/y,1))-1],A=w/y*b[0];return{layout:c,pixelDimIndex:h,layoutBase:i[s[h]],layoutLength:f,axisBase:i[s[1-h]],axisLength:i[u[1-h]],axisExpandable:_,axisExpandWidth:y,axisCollapseWidth:w,axisExpandWindow:b,axisCount:v,winInnerIndices:S,axisExpandWindow0Pos:A}},t.prototype._layoutAxes=function(){var t=this._rect,r=this._axesMap,i=this.dimensions,s=this._makeLayoutInfo(),u=s.layout;r.each(function(t){var r=[0,s.axisLength],i=t.inverse?1:0;t.setExtent(r[i],r[1-i])}),K3(i,function(r,i){var c=(s.axisExpandable?function(t,r){var i,s,u=r.layoutLength,c=r.axisExpandWidth,h=r.axisCount,f=r.axisCollapseWidth,p=r.winInnerIndices,v=f,y=!1;return t<p[0]?(i=t*f,s=f):t<=p[1]?(i=r.axisExpandWindow0Pos+t*c-r.axisExpandWindow[0],v=c,y=!0):(i=u-(h-1-t)*f,s=f),{position:i,axisNameAvailableWidth:v,axisLabelShow:y,nameTruncateMaxWidth:s}}:function(t,r){var i=r.layoutLength/(r.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0}})(i,s),h={horizontal:{x:c.position,y:s.axisLength},vertical:{x:0,y:c.position}},f=[h[u].x+t.x,h[u].y+t.y],p={horizontal:K7/2,vertical:0}[u],v=CJ();C1(v,v,p),C0(v,v,f),this._axesLayout[r]={position:f,rotation:p,transform:v,axisNameAvailableWidth:c.axisNameAvailableWidth,axisLabelShow:c.axisLabelShow,nameTruncateMaxWidth:c.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(t),r)},t.prototype.eachActiveState=function(t,r,i,s){null==i&&(i=0),null==s&&(s=t.count());var u=this._axesMap,c=this.dimensions,h=[],f=[];Mw(c,function(r){h.push(t.mapDimension(r)),f.push(u.get(r).model)});for(var p=this.hasAxisBrushed(),v=i;v<s;v++){var y=void 0;if(p){y="active";for(var x=t.getValues(h,v),_=0,b=c.length;_<b;_++)if("inactive"===f[_].getActiveState(x[_])){y="inactive";break}}else y="normal";r(y,v)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,r=this._axesMap,i=!1,s=0,u=t.length;s<u;s++)"normal"!==r.get(t[s]).model.getActiveState()&&(i=!0);return i},t.prototype.axisCoordToPoint=function(t,r){return N8([t,0],this._axesLayout[r].transform)},t.prototype.getAxisLayout=function(t){return Md(this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var r,i=this._makeLayoutInfo(),s=i.pixelDimIndex,u=i.axisExpandWindow.slice(),c=u[1]-u[0],h=[0,i.axisExpandWidth*(i.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:u};var f=t[s]-i.layoutBase-i.axisExpandWindow0Pos,p="slide",v=i.axisCollapseWidth,y=this._model.get("axisExpandSlideTriggerArea"),x=null!=y[0];if(v)x&&v&&f<c*y[0]?(p="jump",r=f-c*y[2]):x&&v&&f>c*(1-y[0])?(p="jump",r=f-c*(1-y[2])):(r=f-c*y[1])>=0&&(r=f-c*(1-y[1]))<=0&&(r=0),(r*=i.axisExpandWidth/v)?K0(r,u,h,"all"):p="none";else{var _=u[1]-u[0];(u=[K4(0,h[1]*f/_-_/2)])[1]=K5(h[1],u[0]+_),u[0]=u[1]-_}return{axisExpandWindow:u,behavior:p}},t}();function Jt(t,r){return K5(K4(t,r[0]),r[1])}let Jn={create:function(t,r){var i=[];return t.eachComponent("parallel",function(s,u){var c=new Je(s,t,r);c.name="parallel_"+u,c.resize(s,r),s.coordinateSystem=c,c.model=s,i.push(c)}),t.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var r=t.getReferringComponents("parallel",Dd).models[0];t.coordinateSystem=r.coordinateSystem}}),i}};var Jr=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.activeIntervals=[],i}return AK(r,t),r.prototype.getAreaSelectStyle=function(){return DT([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},r.prototype.setActiveIntervals=function(t){var r=this.activeIntervals=Md(t);if(r)for(var i=r.length-1;i>=0;i--)IF(r[i])},r.prototype.getActiveState=function(t){var r=this.activeIntervals;if(!r.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===r.length){var i=r[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var s=0,u=r.length;s<u;s++)if(r[s][0]<=t&&t<=r[s][1])return"active";return"inactive"},r}(By);M_(Jr,GQ);var Ji=Math.min,Ja=Math.max,Jo=Math.pow,Js="globalPan",Jl={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Ju={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Jc={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Jh=0,Jd=function(t){function r(r){var i=t.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=r,i.group=new IS,i._uid="brushController_"+Jh++,Mw(JU,function(t,r){this._handlers[r]=ME(t,this)},i),i}return AK(r,t),r.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},r.prototype._doEnableBrush=function(t){var r,i,s,u=this._zr;if(!this._enableGlobalPan){;r=u,i=Js,s=this._uid,Xh(r)[i]=s}Mw(this._handlers,function(t,r){u.on(r,t)}),this._brushType=t.brushType,this._brushOption=Mf(Md(Jc),t,!0)},r.prototype._doDisableBrush=function(){var t,r,i,s,u=this._zr;t=u,r=Js,i=this._uid,(s=Xh(t))[r]===i&&(s[r]=null),Mw(this._handlers,function(t,r){u.off(r,t)}),this._brushType=this._brushOption=null},r.prototype.setPanels=function(t){if(t&&t.length){var r=this._panels={};Mw(t,function(t){r[t.panelId]=Md(t)})}else this._panels=null;return this},r.prototype.mount=function(t){t=t||{};this._enableGlobalPan=t.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=r.getLocalTransform(),this},r.prototype.updateCovers=function(t){t=MS(t,function(t){return Mf(Md(Jc),t,!0)});var r=this._covers,i=this._covers=[],s=this,u=this._creatingCover;return new zk(r,t,function(t,r){return c(t.__brushOption,r)},c).add(h).update(h).remove(function(t){r[t]!==u&&s.group.remove(r[t])}).execute(),this;function c(t,r){return(null!=t.id?t.id:"\0-brush-index-"+r)+"-"+t.brushType}function h(c,h){var f=t[c];if(null!=h&&r[h]===u)i[c]=r[h];else{var p=i[c]=null!=h?(r[h].__brushOption=f,r[h]):Jp(s,Jf(s,f));Jv(s,p)}}},r.prototype.unmount=function(){return this.enableBrush(!1),Jb(this),this._zr.remove(this.group),this},r.prototype.dispose=function(){this.unmount(),this.off()},r}(CC);function Jf(t,r){var i=JG[r.brushType].createCover(t,r);return i.__brushOption=r,Jm(i,r),t.group.add(i),i}function Jp(t,r){var i=Jy(r);return i.endCreating&&(i.endCreating(t,r),Jm(r,r.__brushOption)),r}function Jg(t,r){var i=r.__brushOption;Jy(r).updateCoverShape(t,r,i.range,i)}function Jm(t,r){var i=r.z;null==i&&(i=1e4),t.traverse(function(t){t.z=i,t.z2=i})}function Jv(t,r){Jy(r).updateCommon(t,r),Jg(t,r)}function Jy(t){return JG[t.__brushOption.brushType]}function Jx(t,r,i){var s,u=t._panels;if(!u)return!0;var c=t._transform;return Mw(u,function(t){t.isTargetByCursor(r,i,c)&&(s=t)}),s}function J_(t,r){var i=t._panels;if(!i)return!0;var s=r.__brushOption.panelId;return null==s||i[s]}function Jb(t){var r=t._covers,i=r.length;return Mw(r,function(r){t.group.remove(r)},t),r.length=0,!!i}function Jw(t,r){var i=MS(t._covers,function(t){var r=t.__brushOption,i=Md(r.range);return{brushType:r.brushType,panelId:r.panelId,range:i}});t.trigger("brush",{areas:i,isEnd:!!r.isEnd,removeOnClick:!!r.removeOnClick})}function JS(t){var r=t.length-1;return r<0&&(r=0),[t[0],t[r]]}function JA(t,r,i,s){var u=new IS;return u.add(new RY({name:"main",style:JE(i),silent:!0,draggable:!0,cursor:"move",drift:MI(JR,t,r,u,["n","s","w","e"]),ondragend:MI(Jw,r,{isEnd:!0})})),Mw(s,function(i){u.add(new RY({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:MI(JR,t,r,u,i),ondragend:MI(Jw,r,{isEnd:!0})}))}),u}function JM(t,r,i,s){var u=s.brushStyle.lineWidth||0,c=Ja(u,6),h=i[0][0],f=i[1][0],p=h-u/2,v=f-u/2,y=i[0][1],x=i[1][1],_=y-c+u/2,b=x-c+u/2,w=y-h,S=x-f,A=w+u,M=S+u;JT(t,r,"main",h,f,w,S),s.transformable&&(JT(t,r,"w",p,v,c,M),JT(t,r,"e",_,v,c,M),JT(t,r,"n",p,v,A,c),JT(t,r,"s",p,b,A,c),JT(t,r,"nw",p,v,c,c),JT(t,r,"ne",_,v,c,c),JT(t,r,"sw",p,b,c,c),JT(t,r,"se",_,b,c,c))}function JC(t,r){var i=r.__brushOption,s=i.transformable,u=r.childAt(0);u.useStyle(JE(i)),u.attr({silent:!s,cursor:s?"move":"default"}),Mw([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var u=r.childOfName(i.join("")),c=1===i.length?JD(t,i[0]):function(t,r){var i=[JD(t,r[0]),JD(t,r[1])];return("e"===i[0]||"w"===i[0])&&i.reverse(),i.join("")}(t,i);u&&u.attr({silent:!s,invisible:!s,cursor:s?Ju[c]+"-resize":null})})}function JT(t,r,i,s,u,c,h){var f=r.childOfName(i);f&&f.setShape(function(t){var r=Ji(t[0][0],t[1][0]),i=Ji(t[0][1],t[1][1]);return{x:r,y:i,width:Ja(t[0][0],t[1][0])-r,height:Ja(t[0][1],t[1][1])-i}}(JB(t,r,[[s,u],[s+c,u+h]])))}function JE(t){return Mm({strokeNoScale:!0},t.brushStyle)}function JI(t,r,i,s){var u=[Ji(t,i),Ji(r,s)],c=[Ja(t,i),Ja(r,s)];return[[u[0],c[0]],[u[1],c[1]]]}function JD(t,r){return({left:"w",right:"e",top:"n",bottom:"s"})[N6({w:"left",e:"right",n:"top",s:"bottom"}[r],N9(t.group))]}function JR(t,r,i,s,u,c){var h=i.__brushOption,f=t.toRectRange(h.range),p=JL(r,u,c);Mw(s,function(t){var r=Jl[t];f[r[0]][r[1]]+=p[r[0]]}),h.range=t.fromRectRange(JI(f[0][0],f[1][0],f[0][1],f[1][1])),Jv(r,i),Jw(r,{isEnd:!1})}function JP(t,r,i,s){var u=r.__brushOption.range,c=JL(t,i,s);Mw(u,function(t){t[0]+=c[0],t[1]+=c[1]}),Jv(t,r),Jw(t,{isEnd:!1})}function JL(t,r,i){var s=t.group,u=s.transformCoordToLocal(r,i),c=s.transformCoordToLocal(0,0);return[u[0]-c[0],u[1]-c[1]]}function JB(t,r,i){var s=J_(t,r);return s&&!0!==s?s.clipPath(i,t._transform):Md(i)}function Jk(t){var r=t.event;r.preventDefault&&r.preventDefault()}function JO(t,r,i){return t.childOfName("main").contain(r,i)}function JN(t,r,i,s){var u,c=t._creatingCover,h=t._creatingPanel,f=t._brushOption;if(t._track.push(i.slice()),function(t){var r=t._track;if(!r.length)return!1;var i=r[r.length-1],s=r[0],u=i[0]-s[0],c=i[1]-s[1];return Jo(u*u+c*c,.5)>6}(t)||c){if(h&&!c){"single"===f.brushMode&&Jb(t);var p=Md(f);p.brushType=JF(p.brushType,h),p.panelId=!0===h?null:h.panelId,c=t._creatingCover=Jf(t,p),t._covers.push(c)}if(c){var v=JG[JF(t._brushType,h)];c.__brushOption.range=v.getCreatingRange(JB(t,c,t._track)),s&&(Jp(t,c),v.updateCommon(t,c)),Jg(t,c),u={isEnd:s}}}else s&&"single"===f.brushMode&&f.removeOnClick&&Jx(t,r,i)&&Jb(t)&&(u={isEnd:s,removeOnClick:!0});return u}function JF(t,r){return"auto"===t?r.defaultBrushType:t}var JU={mousedown:function(t){if(this._dragging)Jz(this,t);else if(!t.target||!t.target.draggable){Jk(t);var r=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=Jx(this,t,r))&&(this._dragging=!0,this._track=[r.slice()])}},mousemove:function(t){var r=t.offsetX,i=t.offsetY,s=this.group.transformCoordToLocal(r,i);if(!function(t,r,i){if(!(!t._brushType||function(t,r,i){var s=t._zr;return r<0||r>s.getWidth()||i<0||i>s.getHeight()}(t,r.offsetX,r.offsetY))){var s=t._zr,u=t._covers,c=Jx(t,r,i);if(!t._dragging)for(var h=0;h<u.length;h++){var f=u[h].__brushOption;if(c&&(!0===c||f.panelId===c.panelId)&&JG[f.brushType].contain(u[h],i[0],i[1]))return}c&&s.setCursorStyle("crosshair")}}(this,t,s),this._dragging){Jk(t);var u=JN(this,t,s,!1);u&&Jw(this,u)}},mouseup:function(t){Jz(this,t)}};function Jz(t,r){if(t._dragging){Jk(r);var i=r.offsetX,s=r.offsetY,u=t.group.transformCoordToLocal(i,s),c=JN(t,r,u,!0);t._dragging=!1,t._track=[],t._creatingCover=null,c&&Jw(t,c)}}var JG={lineX:JH(0),lineY:JH(1),rect:{createCover:function(t,r){function i(t){return t}return JA({toRectRange:i,fromRectRange:i},t,r,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var r=JS(t);return JI(r[1][0],r[1][1],r[0][0],r[0][1])},updateCoverShape:function(t,r,i,s){JM(t,r,i,s)},updateCommon:JC,contain:JO},polygon:{createCover:function(t,r){var i=new IS;return i.add(new N_({name:"main",style:JE(r),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,r){r.remove(r.childAt(0)),r.add(new Nv({name:"main",draggable:!0,drift:MI(JP,t,r),ondragend:MI(Jw,t,{isEnd:!0})}))},updateCoverShape:function(t,r,i,s){r.childAt(0).setShape({points:JB(t,r,i)})},updateCommon:JC,contain:JO}};function JH(t){return{createCover:function(r,i){return JA({toRectRange:function(r){var i=[r,[0,100]];return t&&i.reverse(),i},fromRectRange:function(r){return r[t]}},r,i,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(r){var i=JS(r);return[Ji(i[0][t],i[1][t]),Ja(i[0][t],i[1][t])]},updateCoverShape:function(r,i,s,u){var c,h=J_(r,i);if(!0!==h&&h.getLinearBrushOtherExtent)c=h.getLinearBrushOtherExtent(t);else{var f=r._zr;c=[0,[f.getWidth(),f.getHeight()][1-t]]}var p=[s,c];t&&p.reverse(),JM(r,i,p,u)},updateCommon:JC,contain:JO}}function JV(t){return t=JX(t),function(r){return Ft(r,t)}}function Jj(t,r){return t=JX(t),function(i){var s=null!=r?r:i,u=s?t.width:t.height,c=s?t.x:t.y;return[c,c+(u||0)]}}function JW(t,r,i){var s=JX(t);return function(t,u){return s.contain(u[0],u[1])&&!Xx(t,r,i)}}function JX(t){return Ti.create(t)}var JY=["axisLine","axisTickLabel","axisName"],JZ=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(r,i){t.prototype.init.apply(this,arguments),(this._brushController=new Jd(i.getZr())).on("brush",ME(this._onBrush,this))},r.prototype.render=function(t,r,i,s){if(function(t,r,i){return i&&"axisAreaSelect"===i.type&&r.findComponents({mainType:"parallelAxis",query:i})[0]===t}(t,r,s))return;this.axisModel=t,this.api=i,this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new IS,this.group.add(this._axisGroup),!!t.get("show")){var c=function(t,r){return r.getComponent("parallel",t.get("parallelIndex"))}(t,r),h=c.coordinateSystem,f=t.getAreaSelectStyle(),p=f.width,v=t.axis.dim,y=Mg({strokeContainThreshold:p},h.getAxisLayout(v)),x=new Wk(t,y);Mw(JY,x.add,x),this._axisGroup.add(x.getGroup()),this._refreshBrushController(y,f,t,c,p,i),Fe(u,this._axisGroup,t)}},r.prototype._refreshBrushController=function(t,r,i,s,u,c){var h=i.axis.getExtent(),f=h[1]-h[0],p=Math.min(30,.1*Math.abs(f)),v=Ti.create({x:h[0],y:-u/2,width:f,height:u});v.x-=p,v.width+=2*p,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:JV(v),isTargetByCursor:JW(v,c,s),getLinearBrushOtherExtent:Jj(v,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(function(t){var r=t.axis;return MS(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[r.dataToCoord(t[0],!0),r.dataToCoord(t[1],!0)]}})}(i))},r.prototype._onBrush=function(t){var r=t.areas,i=this.axisModel,s=i.axis,u=MS(r,function(t){return[s.coordToData(t.range[0],!0),s.coordToData(t.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:u})},r.prototype.dispose=function(){this._brushController.dispose()},r.type="parallelAxis",r}(OL),JK={type:"axisAreaSelect",event:"axisAreaSelected"},JJ={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function JQ(t){var r;t.registerComponentView(KK),t.registerComponentModel(Kq),t.registerCoordinateSystem("parallel",Jn),t.registerPreprocessor(KZ),t.registerComponentModel(Jr),t.registerComponentView(JZ),Wy(t,"parallel",Jr,JJ),(r=t).registerAction(JK,function(t,r){r.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),r.registerAction("parallelAxisExpand",function(t,r){r.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}var Jq=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},J$=function(t){function r(r){return t.call(this,r)||this}return AK(r,t),r.prototype.getDefaultShape=function(){return new Jq},r.prototype.buildPath=function(t,r){var i=r.extent;t.moveTo(r.x1,r.y1),t.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),"vertical"===r.orient?(t.lineTo(r.x2+i,r.y2),t.bezierCurveTo(r.cpx2+i,r.cpy2,r.cpx1+i,r.cpy1,r.x1+i,r.y1)):(t.lineTo(r.x2,r.y2+i),t.bezierCurveTo(r.cpx2,r.cpy2+i,r.cpx1,r.cpy1+i,r.x1,r.y1+i)),t.closePath()},r.prototype.highlight=function(){PE(this)},r.prototype.downplay=function(){PI(this)},r}(RL),J0=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i._focusAdjacencyDisabled=!1,i}return AK(r,t),r.prototype.render=function(t,r,i){var s=this,u=t.getGraph(),c=this.group,h=t.layoutInfo,f=h.width,p=h.height,v=t.getData(),y=t.getData("edge"),x=t.get("orient");this._model=t,c.removeAll(),c.x=h.x,c.y=h.y,u.eachEdge(function(r){var i,s,u,h,v,_,b,w,S=new J$,A=Pe(S);A.dataIndex=r.dataIndex,A.seriesIndex=t.seriesIndex,A.dataType="edge";var M=r.getModel(),C=M.getModel("lineStyle"),T=C.get("curveness"),I=r.node1.getLayout(),D=r.node1.getModel(),R=D.get("localX"),P=D.get("localY"),L=r.node2.getLayout(),B=r.node2.getModel(),k=B.get("localX"),O=B.get("localY"),N=r.getLayout();S.shape.extent=Math.max(1,N.dy),S.shape.orient=x,"vertical"===x?(i=(null!=R?R*f:I.x)+N.sy,s=(null!=P?P*p:I.y)+I.dy,u=(null!=k?k*f:L.x)+N.ty,h=null!=O?O*p:L.y,v=i,_=s*(1-T)+h*T,b=u,w=s*T+h*(1-T)):(i=(null!=R?R*f:I.x)+I.dx,s=(null!=P?P*p:I.y)+N.sy,u=null!=k?k*f:L.x,h=(null!=O?O*p:L.y)+N.ty,v=i*(1-T)+u*T,_=s,b=i*T+u*(1-T),w=h),S.setShape({x1:i,y1:s,x2:u,y2:h,cpx1:v,cpy1:_,cpx2:b,cpy2:w}),S.useStyle(C.getItemStyle()),J1(S.style,x,r);var F=""+M.get("value"),U=Le(M,"edgeLabel");P7(S,U,{labelFetcher:{getFormattedLabel:function(r,i,s,u,c,h){return t.getFormattedLabel(r,i,"edge",u,MW(c,U.normal&&U.normal.get("formatter"),F),h)}},labelDataIndex:r.dataIndex,defaultText:F}),S.setTextConfig({position:"inside"});var z=M.getModel("emphasis");PW(S,M,"lineStyle",function(t){var i=t.getItemStyle();return J1(i,x,r),i}),c.add(S),y.setItemGraphicEl(r.dataIndex,S);var G=z.get("focus");PG(S,"adjacency"===G?r.getAdjacentDataIndices():"trajectory"===G?r.getTrajectoryDataIndices():G,z.get("blurScope"),z.get("disabled"))}),u.eachNode(function(r){var i=r.getLayout(),s=r.getModel(),u=s.get("localX"),h=s.get("localY"),y=s.getModel("emphasis"),x=s.get(["itemStyle","borderRadius"])||0,_=new RY({shape:{x:null!=u?u*f:i.x,y:null!=h?h*p:i.y,width:i.dx,height:i.dy,r:x},style:s.getModel("itemStyle").getItemStyle(),z2:10});P7(_,Le(s),{labelFetcher:{getFormattedLabel:function(r,i){return t.getFormattedLabel(r,i,"node")}},labelDataIndex:r.dataIndex,defaultText:r.id}),_.disableLabelAnimation=!0,_.setStyle("fill",r.getVisual("color")),_.setStyle("decal",r.getVisual("style").decal),PW(_,s),c.add(_),v.setItemGraphicEl(r.dataIndex,_),Pe(_).dataType="node";var b=y.get("focus");PG(_,"adjacency"===b?r.getAdjacentDataIndices():"trajectory"===b?r.getTrajectoryDataIndices():b,y.get("blurScope"),y.get("disabled"))}),v.eachItemGraphicEl(function(r,u){v.getItemModel(u).get("draggable")&&(r.drift=function(r,c){s._focusAdjacencyDisabled=!0,this.shape.x+=r,this.shape.y+=c,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:v.getRawIndex(u),localX:this.shape.x/f,localY:this.shape.y/p})},r.ondragend=function(){s._focusAdjacencyDisabled=!1},r.draggable=!0,r.cursor="move")}),!this._data&&t.isAnimationEnabled()&&c.setClipPath(function(t,r,i){var s=new RY({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return P0(s,{shape:{width:t.width+20}},r,i),s}(c.getBoundingRect(),t,function(){c.removeClipPath()})),this._data=t.getData()},r.prototype.dispose=function(){},r.type="sankey",r}(Fy);function J1(t,r,i){switch(t.fill){case"source":t.fill=i.node1.getVisual("color"),t.decal=i.node1.getVisual("style").decal;break;case"target":t.fill=i.node2.getVisual("color"),t.decal=i.node2.getVisual("style").decal;break;case"gradient":var s=i.node1.getVisual("color"),u=i.node2.getVisual("color");MP(s)&&MP(u)&&(t.fill=new Nk(0,0,+("horizontal"===r),+("vertical"===r),[{color:s,offset:0},{color:u,offset:1}]))}}var J2=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.getInitialData=function(t,r){var i=t.edges||t.links,s=t.data||t.nodes,u=t.levels;this.levelModels=[];for(var c=this.levelModels,h=0;h<u.length;h++)null!=u[h].depth&&u[h].depth>=0&&(c[u[h].depth]=new Lw(u[h],this,r));if(s&&i)return KC(s,i,this,!0,function(t,r){t.wrapMethod("getItemModel",function(t,r){var i=t.parentModel,s=i.getData().getItemLayout(r);if(s){var u=s.depth,c=i.levelModels[u];c&&(t.parentModel=c)}return t}),r.wrapMethod("getItemModel",function(t,r){var i=t.parentModel,s=i.getGraph().getEdgeByIndex(r).node1.getLayout();if(s){var u=s.depth,c=i.levelModels[u];c&&(t.parentModel=c)}return t})}).data},r.prototype.setNodePosition=function(t,r){var i=(this.option.data||this.option.nodes)[t];i.localX=r[0],i.localY=r[1]},r.prototype.getGraph=function(){return this.getData().graph},r.prototype.getEdgeData=function(){return this.getGraph().edgeData},r.prototype.formatTooltip=function(t,r,i){function s(t){return isNaN(t)||null==t}if("edge"===i){var u=this.getDataParams(t,i),c=u.data,h=u.value;return Ol("nameValue",{name:c.source+" -- "+c.target,value:h,noValue:s(h)})}var f=this.getGraph().getNodeByIndex(t).getLayout().value,p=this.getDataParams(t,i).data.name;return Ol("nameValue",{name:null!=p?p+"":null,value:f,noValue:s(f)})},r.prototype.optionUpdated=function(){},r.prototype.getDataParams=function(r,i){var s=t.prototype.getDataParams.call(this,r,i);if(null==s.value&&"node"===i){var u=this.getGraph().getNodeByIndex(r).getLayout().value;s.value=u}return s},r.type="series.sankey",r.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},r}(OR);function J3(t,r){t.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),s=t.get("nodeGap"),u=function(t,r){return Bc(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}(t,r);t.layoutInfo=u;var c=u.width,h=u.height,f=t.getGraph(),p=f.nodes,v=f.edges;(function(t){Mw(t,function(t){var r=Math.max(Qn(t.outEdges,Qt),Qn(t.inEdges,Qt),t.getValue()||0);t.setLayout({value:r},!0)})})(p);var y=0!==MM(p,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations");(function(t,r,i,s,u,c,h,f,p){(function(t,r,i,s,u,c,h){for(var f=[],p=[],v=[],y=[],x=0,_=0;_<r.length;_++)f[_]=1;for(var _=0;_<t.length;_++)p[_]=t[_].inEdges.length,0===p[_]&&v.push(t[_]);for(var b=-1;v.length;){for(var w=0;w<v.length;w++){var S=v[w],A=S.hostGraph.data.getRawDataItem(S.dataIndex),M=null!=A.depth&&A.depth>=0;M&&A.depth>b&&(b=A.depth),S.setLayout({depth:M?A.depth:x},!0),"vertical"===c?S.setLayout({dy:i},!0):S.setLayout({dx:i},!0);for(var C=0;C<S.outEdges.length;C++){var T=S.outEdges[C];f[r.indexOf(T)]=0;var I=T.node2,D=t.indexOf(I);0==--p[D]&&0>y.indexOf(I)&&y.push(I)}}++x,v=y,y=[]}for(var _=0;_<f.length;_++)if(1===f[_])throw Error("Sankey is a DAG, the original data has cycle!");var R=b>x-1?b:x-1;h&&"left"!==h&&function(t,r,i,s){if("right"===r){for(var u=[],c=t,h=0;c.length;){for(var f=0;f<c.length;f++){var p=c[f];p.setLayout({skNodeHeight:h},!0);for(var v=0;v<p.inEdges.length;v++){var y=p.inEdges[v];0>u.indexOf(y.node1)&&u.push(y.node1)}}c=u,u=[],++h}Mw(t,function(t){!J5(t)&&t.setLayout({depth:Math.max(0,s-t.getLayout().skNodeHeight)},!0)})}else"justify"===r&&function(t,r){Mw(t,function(t){!J5(t)&&!t.outEdges.length&&t.setLayout({depth:r},!0)})}(t,s)}(t,h,c,R),function(t,r,i){Mw(t,function(t){var s=t.getLayout().depth*r;"vertical"===i?t.setLayout({y:s},!0):t.setLayout({x:s},!0)})}(t,"vertical"===c?(u-i)/R:(s-i)/R,c)})(t,r,i,u,c,f,p),function(t,r,i,s,u,c,h){var f=function(t,r){var i=[],s="vertical"===r?"y":"x",u=Dm(t,function(t){return t.getLayout()[s]});return u.keys.sort(function(t,r){return t-r}),Mw(u.keys,function(t){i.push(u.buckets.get(t))}),i}(t,h);(function(t,r,i,s,u,c){var h=1/0;Mw(t,function(t){var r=t.length,f=0;Mw(t,function(t){f+=t.getLayout().value});var p="vertical"===c?(s-(r-1)*u)/f:(i-(r-1)*u)/f;p<h&&(h=p)}),Mw(t,function(t){Mw(t,function(t,r){var i=t.getLayout().value*h;"vertical"===c?(t.setLayout({x:r},!0),t.setLayout({dx:i},!0)):(t.setLayout({y:r},!0),t.setLayout({dy:i},!0))})}),Mw(r,function(t){var r=+t.getValue()*h;t.setLayout({dy:r},!0)})})(f,r,i,s,u,h),J4(f,u,i,s,h);for(var p=1;c>0;c--)(function(t,r,i){Mw(t.slice().reverse(),function(t){Mw(t,function(t){if(t.outEdges.length){var s=Qn(t.outEdges,J9,i)/Qn(t.outEdges,Qt);if(isNaN(s)){var u=t.outEdges.length;s=u?Qn(t.outEdges,J8,i)/u:0}if("vertical"===i){var c=t.getLayout().x+(s-Qe(t,i))*r;t.setLayout({x:c},!0)}else{var h=t.getLayout().y+(s-Qe(t,i))*r;t.setLayout({y:h},!0)}}})})})(f,p*=.99,h),J4(f,u,i,s,h),function(t,r,i){Mw(t,function(t){Mw(t,function(t){if(t.inEdges.length){var s=Qn(t.inEdges,J6,i)/Qn(t.inEdges,Qt);if(isNaN(s)){var u=t.inEdges.length;s=u?Qn(t.inEdges,J7,i)/u:0}if("vertical"===i){var c=t.getLayout().x+(s-Qe(t,i))*r;t.setLayout({x:c},!0)}else{var h=t.getLayout().y+(s-Qe(t,i))*r;t.setLayout({y:h},!0)}}})})}(f,p,h),J4(f,u,i,s,h)}(t,r,c,u,s,h,f),function(t,r){var i="vertical"===r?"x":"y";Mw(t,function(t){t.outEdges.sort(function(t,r){return t.node2.getLayout()[i]-r.node2.getLayout()[i]}),t.inEdges.sort(function(t,r){return t.node1.getLayout()[i]-r.node1.getLayout()[i]})}),Mw(t,function(t){var r=0,i=0;Mw(t.outEdges,function(t){t.setLayout({sy:r},!0),r+=t.getLayout().dy}),Mw(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy})})}(t,f)})(p,v,i,s,c,h,y,t.get("orient"),t.get("nodeAlign"))})}function J5(t){var r=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=r.depth&&r.depth>=0}function J4(t,r,i,s,u){var c="vertical"===u?"x":"y";Mw(t,function(t){t.sort(function(t,r){return t.getLayout()[c]-r.getLayout()[c]});for(var h,f,p,v=0,y=t.length,x="vertical"===u?"dx":"dy",_=0;_<y;_++)(p=v-(f=t[_]).getLayout()[c])>0&&(h=f.getLayout()[c]+p,"vertical"===u?f.setLayout({x:h},!0):f.setLayout({y:h},!0)),v=f.getLayout()[c]+f.getLayout()[x]+r;if((p=v-r-("vertical"===u?s:i))>0){h=f.getLayout()[c]-p,"vertical"===u?f.setLayout({x:h},!0):f.setLayout({y:h},!0),v=h;for(var _=y-2;_>=0;--_)(p=(f=t[_]).getLayout()[c]+f.getLayout()[x]+r-v)>0&&(h=f.getLayout()[c]-p,"vertical"===u?f.setLayout({x:h},!0):f.setLayout({y:h},!0)),v=f.getLayout()[c]}})}function J9(t,r){return Qe(t.node2,r)*t.getValue()}function J8(t,r){return Qe(t.node2,r)}function J6(t,r){return Qe(t.node1,r)*t.getValue()}function J7(t,r){return Qe(t.node1,r)}function Qe(t,r){return"vertical"===r?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function Qt(t){return t.getValue()}function Qn(t,r,i){for(var s=0,u=t.length,c=-1;++c<u;){var h=+r(t[c],i);!isNaN(h)&&(s+=h)}return s}function Qr(t){t.eachSeriesByType("sankey",function(t){var r=t.getGraph(),i=r.nodes,s=r.edges;if(i.length){var u=1/0,c=-1/0;Mw(i,function(t){var r=t.getLayout().value;r<u&&(u=r),r>c&&(c=r)}),Mw(i,function(r){var i=new Zu({type:"color",mappingMethod:"linear",dataExtent:[u,c],visual:t.get("color")}).mapValueToVisual(r.getLayout().value),s=r.getModel().get(["itemStyle","color"]);null!=s?(r.setVisual("color",s),r.setVisual("style",{fill:s})):(r.setVisual("color",i),r.setVisual("style",{fill:i}))})}s.length&&Mw(s,function(t){var r=t.getModel().get("lineStyle");t.setVisual("style",r)})})}var Qi=function(){function t(){}return t.prototype.getInitialData=function(t,r){var i,s,u=r.getComponent("xAxis",this.get("xAxisIndex")),c=r.getComponent("yAxis",this.get("yAxisIndex")),h=u.get("type"),f=c.get("type");"category"===h?(t.layout="horizontal",i=u.getOrdinalMeta(),s=!0):"category"===f?(t.layout="vertical",i=c.getOrdinalMeta(),s=!0):t.layout=t.layout||"horizontal";var p=["x","y"],v="horizontal"===t.layout?0:1,y=this._baseAxisDim=p[v],x=p[1-v],_=[u,c],b=_[v].get("type"),w=_[1-v].get("type"),S=t.data;if(S&&s){var A=[];Mw(S,function(t,r){var i;MD(t)?(i=t.slice(),t.unshift(r)):MD(t.value)?((i=Mg({},t)).value=i.value.slice(),t.value.unshift(r)):i=t,A.push(i)}),t.data=A}var M=this.defaultValueDimensions,C=[{name:y,type:zF(b),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:x,type:zF(w),dimsDef:M.slice()}];return We(this,{coordDimensions:C,dimensionsCount:M.length+1,encodeDefaulter:MI(BP,C,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),Qa=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],i.visualDrawType="stroke",i}return AK(r,t),r.type="series.boxplot",r.dependencies=["xAxis","yAxis","grid"],r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},r}(OR);M_(Qa,Qi,!0);var Qo=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){var s=t.getData(),u=this.group,c=this._data;!this._data&&u.removeAll();var h="horizontal"===t.get("layout")?1:0;s.diff(c).add(function(t){if(s.hasValue(t)){var r=Qu(s.getItemLayout(t),s,t,h,!0);s.setItemGraphicEl(t,r),u.add(r)}}).update(function(t,r){var i=c.getItemGraphicEl(r);if(!s.hasValue(t)){u.remove(i);return}var f=s.getItemLayout(t);i?(P4(i),Qc(f,i,s,t)):i=Qu(f,s,t,h),u.add(i),s.setItemGraphicEl(t,i)}).remove(function(t){var r=c.getItemGraphicEl(t);r&&u.remove(r)}).execute(),this._data=s},r.prototype.remove=function(t){var r=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(t){t&&r.remove(t)})},r.type="boxplot",r}(Fy),Qs=function(){},Ql=function(t){function r(r){var i=t.call(this,r)||this;return i.type="boxplotBoxPath",i}return AK(r,t),r.prototype.getDefaultShape=function(){return new Qs},r.prototype.buildPath=function(t,r){var i=r.points,s=0;for(t.moveTo(i[s][0],i[s][1]),s++;s<4;s++)t.lineTo(i[s][0],i[s][1]);for(t.closePath();s<i.length;s++)t.moveTo(i[s][0],i[s][1]),s++,t.lineTo(i[s][0],i[s][1])},r}(RL);function Qu(t,r,i,s,u){var c=t.ends,h=new Ql({shape:{points:u?function(t,r,i){return MS(t,function(t){return(t=t.slice())[r]=i.initBaseline,t})}(c,s,t):c}});return Qc(t,h,r,i,u),h}function Qc(t,r,i,s,u){var c=i.hostModel;(0,eu[u?"initProps":"updateProps"])(r,{shape:{points:t.ends}},c,s),r.useStyle(i.getItemVisual(s,"style")),r.style.strokeNoScale=!0,r.z2=100;var h=i.getItemModel(s),f=h.getModel("emphasis");PW(r,h),PG(r,f.get("focus"),f.get("blurScope"),f.get("disabled"))}var Qh=Mw;function Qd(t){Qh(function(t){var r=[],i=[];return t.eachSeriesByType("boxplot",function(t){var s=t.getBaseAxis(),u=My(i,s);u<0&&(u=i.length,i[u]=s,r[u]={axis:s,seriesModels:[]}),r[u].seriesModels.push(t)}),r}(t),function(t){var r=t.seriesModels;if(!!r.length)(function(t){var r,i=t.axis,s=t.seriesModels,u=s.length,c=t.boxWidthList=[],h=t.boxOffsetList=[],f=[];if("category"===i.type)r=i.getBandWidth();else{var p=0;Qh(s,function(t){p=Math.max(p,t.getData().count())});var v=i.getExtent();r=Math.abs(v[1]-v[0])/p}Qh(s,function(t){var i=t.get("boxWidth");!MD(i)&&(i=[i,i]),f.push([IO(i[0],r)||0,IO(i[1],r)||0])});var y=.8*r-2,x=y/u*.3,_=(y-x*(u-1))/u,b=_/2-y/2;Qh(s,function(t,r){h.push(b),b+=x+_,c.push(Math.min(Math.max(_,f[r][0]),f[r][1]))})})(t),Qh(r,function(r,i){(function(t,r,i){var s=t.coordinateSystem,u=t.getData(),c=i/2,h="horizontal"===t.get("layout")?0:1,f=1-h,p=["x","y"],v=u.mapDimension(p[h]),y=u.mapDimensionsAll(p[f]);if(null!=v&&!(y.length<5))for(var x=0;x<u.count();x++){var _=u.get(v,x),b=T(_,y[2],x),w=T(_,y[0],x),S=T(_,y[1],x),A=T(_,y[3],x),M=T(_,y[4],x),C=[];I(C,S,!1),I(C,A,!0),C.push(w,S,M,A),D(C,w),D(C,M),D(C,b),u.setItemLayout(x,{initBaseline:b[f],ends:C})}function T(t,i,c){var p,v=u.get(i,c),y=[];return y[h]=t,y[f]=v,isNaN(t)||isNaN(v)?p=[NaN,NaN]:(p=s.dataToPoint(y),p[h]+=r),p}function I(t,r,i){var s=r.slice(),u=r.slice();s[h]+=c,u[h]-=c,i?t.push(s,u):t.push(u,s)}function D(t,r){var i=r.slice(),s=r.slice();i[h]-=c,s[h]+=c,t.push(i,s)}})(r,t.boxOffsetList[i],t.boxWidthList[i])})})}var Qf={type:"echarts:boxplot",transform:function(t){var r=t.upstream;r.sourceFormat!==BA&&kU("");var i=function(t,r){for(var i=[],s=[],u=(r=r||{}).boundIQR,c="none"===u||0===u,h=0;h<t.length;h++){var f=IF(t[h].slice()),p=Iq(f,.25),v=Iq(f,.5),y=Iq(f,.75),x=f[0],_=f[f.length-1],b=(null==u?1.5:u)*(y-p),w=c?x:Math.max(x,p-b),S=c?_:Math.min(_,y+b),A=r.itemNameFormatter,M=MR(A)?A({value:h}):MP(A)?A.replace("{value}",h+""):h+"";i.push([M,w,p,v,y,S]);for(var C=0;C<f.length;C++){var T=f[C];if(T<w||T>S){var I=[M,T];s.push(I)}}}return{boxData:i,outliers:s}}(r.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}},Qp=["color","borderColor"],Qg=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},r.prototype.incrementalPrepareRender=function(t,r,i){this._clear(),this._updateDrawMode(t)},r.prototype.incrementalRender=function(t,r,i,s){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,r):this._incrementalRenderNormal(t,r)},r.prototype.eachRendered=function(t){Fu(this._progressiveEls||this.group,t)},r.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(null==this._isLargeDraw||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},r.prototype._renderNormal=function(t){var r=t.getData(),i=this._data,s=this.group,u=r.getLayout("isSimpleBox"),c=t.get("clip",!0),h=t.coordinateSystem,f=h.getArea&&h.getArea();!this._data&&s.removeAll(),r.diff(i).add(function(i){if(r.hasValue(i)){var h=r.getItemLayout(i);if(!(c&&Qx(f,h))){var p=Qy(h,i,!0);P0(p,{shape:{points:h.ends}},t,i),Q_(p,r,i,u),s.add(p),r.setItemGraphicEl(i,p)}}}).update(function(h,p){var v=i.getItemGraphicEl(p);if(!r.hasValue(h)){s.remove(v);return}var y=r.getItemLayout(h);if(c&&Qx(f,y)){s.remove(v);return}v?(P$(v,{shape:{points:y.ends}},t,h),P4(v)):v=Qy(y,h),Q_(v,r,h,u),s.add(v),r.setItemGraphicEl(h,v)}).remove(function(t){var r=i.getItemGraphicEl(t);r&&s.remove(r)}).execute(),this._data=r},r.prototype._renderLarge=function(t){this._clear(),QS(t,this.group);var r=t.get("clip",!0)?jh(t.coordinateSystem,!1,t):null;r?this.group.setClipPath(r):this.group.removeClipPath()},r.prototype._incrementalRenderNormal=function(t,r){for(var i,s=r.getData(),u=s.getLayout("isSimpleBox");null!=(i=t.next());){var c=Qy(s.getItemLayout(i),i);Q_(c,s,i,u),c.incremental=!0,this.group.add(c),this._progressiveEls.push(c)}},r.prototype._incrementalRenderLarge=function(t,r){QS(r,this.group,this._progressiveEls,!0)},r.prototype.remove=function(t){this._clear()},r.prototype._clear=function(){this.group.removeAll(),this._data=null},r.type="candlestick",r}(Fy),Qm=function(){},Qv=function(t){function r(r){var i=t.call(this,r)||this;return i.type="normalCandlestickBox",i}return AK(r,t),r.prototype.getDefaultShape=function(){return new Qm},r.prototype.buildPath=function(t,r){var i=r.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))},r}(RL);function Qy(t,r,i){var s=t.ends;return new Qv({shape:{points:i?function(t,r){return MS(t,function(t){return(t=t.slice())[1]=r.initBaseline,t})}(s,t):s},z2:100})}function Qx(t,r){for(var i=!0,s=0;s<r.ends.length;s++)if(t.contain(r.ends[s][0],r.ends[s][1])){i=!1;break}return i}function Q_(t,r,i,s){var u=r.getItemModel(i);t.useStyle(r.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.__simpleBox=s,PW(t,u)}var Qb=function(){},Qw=function(t){function r(r){var i=t.call(this,r)||this;return i.type="largeCandlestickBox",i}return AK(r,t),r.prototype.getDefaultShape=function(){return new Qb},r.prototype.buildPath=function(t,r){for(var i=r.points,s=0;s<i.length;)if(this.__sign===i[s++]){var u=i[s++];t.moveTo(u,i[s++]),t.lineTo(u,i[s++])}else s+=3},r}(RL);function QS(t,r,i,s){var u=t.getData(),c=u.getLayout("largePoints"),h=new Qw({shape:{points:c},__sign:1,ignoreCoarsePointer:!0});r.add(h);var f=new Qw({shape:{points:c},__sign:-1,ignoreCoarsePointer:!0});r.add(f);var p=new Qw({shape:{points:c},__sign:0,ignoreCoarsePointer:!0});r.add(p),QA(1,h,t,u),QA(-1,f,t,u),QA(0,p,t,u),s&&(h.incremental=!0,f.incremental=!0),i&&i.push(h,f)}function QA(t,r,i,s){var u=i.get(["itemStyle",t>0?"borderColor":"borderColor0"])||i.get(["itemStyle",t>0?"color":"color0"]);0===t&&(u=i.get(["itemStyle","borderColorDoji"]));var c=i.getModel("itemStyle").getItemStyle(Qp);r.useStyle(c),r.style.fill=null,r.style.stroke=u}var QM=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],i}return AK(r,t),r.prototype.getShadowDim=function(){return"open"},r.prototype.brushSelector=function(t,r,i){var s=r.getItemLayout(t);return s&&i.rect(s.brushRect)},r.type="series.candlestick",r.dependencies=["xAxis","yAxis","grid"],r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},r}(OR);M_(QM,Qi,!0);function QC(t){if(!!t&&!!MD(t.series))Mw(t.series,function(t){Mk(t)&&"k"===t.type&&(t.type="candlestick")})}var QT=["itemStyle","borderColor"],QE=["itemStyle","borderColor0"],QI=["itemStyle","borderColorDoji"],QD=["itemStyle","color"],QR=["itemStyle","color0"],QP={seriesType:"candlestick",plan:OB(),performRawSeries:!0,reset:function(t,r){if(!r.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,r){for(var i;null!=(i=t.next());){var s,u,c=r.getItemModel(i),h=r.getItemLayout(i).sign,f=c.getItemStyle();f.fill=(s=h,c.get(s>0?QD:QR)),f.stroke=(u=h,c.get(0===u?QI:u>0?QT:QE)||f.fill),Mg(r.ensureUniqueItemVisual(i,"style"),f)}}}}},QL={seriesType:"candlestick",plan:OB(),reset:function(t){var r=t.coordinateSystem,i=t.getData(),s=function(t,r){var i,s=t.getBaseAxis(),u="category"===s.type?s.getBandWidth():Math.abs((i=s.getExtent())[1]-i[0])/r.count(),c=IO(Mj(t.get("barMaxWidth"),u),u),h=IO(Mj(t.get("barMinWidth"),1),u),f=t.get("barWidth");return null!=f?IO(f,u):Math.max(Math.min(u/2,c),h)}(t,i),u=["x","y"],c=i.getDimensionIndex(i.mapDimension("x")),h=MS(i.mapDimensionsAll("y"),i.getDimensionIndex,i),f=h[0],p=h[1],v=h[2],y=h[3];if(i.setLayout({candleWidth:s,isSimpleBox:s<=1.3}),!(c<0)&&!(h.length<4))return{progress:t.pipelineContext.large?function(i,s){for(var u,h,x=Gp(4*i.count),_=0,b=[],w=[],S=s.getStore(),A=!!t.get(["itemStyle","borderColorDoji"]);null!=(h=i.next());){var M=S.get(c,h),C=S.get(f,h),T=S.get(p,h),I=S.get(v,h),D=S.get(y,h);if(isNaN(M)||isNaN(I)||isNaN(D)){x[_++]=NaN,_+=3;continue}x[_++]=QB(S,h,C,T,p,A),b[0]=M,b[1]=I,u=r.dataToPoint(b,null,w),x[_++]=u?u[0]:NaN,x[_++]=u?u[1]:NaN,b[1]=D,u=r.dataToPoint(b,null,w),x[_++]=u?u[1]:NaN}s.setLayout("largePoints",x)}:function(t,i){for(var u,h=i.getStore();null!=(u=t.next());){var x=h.get(c,u),_=h.get(f,u),b=h.get(p,u),w=h.get(v,u),S=h.get(y,u),A=Math.min(_,b),M=Math.max(_,b),C=L(A,x),T=L(M,x),I=L(w,x),D=L(S,x),R=[];B(R,T,0),B(R,C,1),R.push(k(D),k(T),k(I),k(C));var P=!!i.getItemModel(u).get(["itemStyle","borderColorDoji"]);i.setItemLayout(u,{sign:QB(h,u,_,b,p,P),initBaseline:_>b?T[1]:C[1],ends:R,brushRect:function(t,r,i){var u=L(t,i),c=L(r,i);return u[0]-=s/2,c[0]-=s/2,{x:u[0],y:u[1],width:s,height:c[1]-u[1]}}(w,S,x)})}function L(t,i){var s=[];return s[0]=i,s[1]=t,isNaN(i)||isNaN(t)?[NaN,NaN]:r.dataToPoint(s)}function B(t,r,i){var u=r.slice(),c=r.slice();u[0]=N4(u[0]+s/2,1,!1),c[0]=N4(c[0]-s/2,1,!0),i?t.push(u,c):t.push(c,u)}function k(t){return t[0]=N4(t[0],1),t}}}}};function QB(t,r,i,s,u,c){var h;return h=i>s?-1:i<s?1:c?0:r>0?t.get(u,r-1)<=s?1:-1:1}function Qk(t,r){var i=r.rippleEffectColor||r.color;t.eachChild(function(t){t.attr({z:r.z,zlevel:r.zlevel,style:{stroke:"stroke"===r.brushType?i:null,fill:"fill"===r.brushType?i:null}})})}var QO=function(t){function r(r,i){var s=t.call(this)||this,u=new V3(r,i),c=new IS;return s.add(u),s.add(c),s.updateData(r,i),s}return AK(r,t),r.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},r.prototype.startEffectAnimation=function(t){for(var r=t.symbolType,i=t.color,s=t.rippleNumber,u=this.childAt(1),c=0;c<s;c++){var h=Us(r,-1,-1,2,2,i);h.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var f=-c/s*t.period+t.effectOffset;h.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(f).start(),h.animateStyle(!0).when(t.period,{opacity:0}).delay(f).start(),u.add(h)}Qk(u,t)},r.prototype.updateEffectAnimation=function(t){for(var r=this._effectCfg,i=this.childAt(1),s=["symbolType","period","rippleScale","rippleNumber"],u=0;u<s.length;u++){var c=s[u];if(r[c]!==t[c]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}Qk(i,t)},r.prototype.highlight=function(){PE(this)},r.prototype.downplay=function(){PI(this)},r.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},r.prototype.updateData=function(t,r){var i=this,s=t.hostModel;this.childAt(0).updateData(t,r);var u=this.childAt(1),c=t.getItemModel(r),h=t.getItemVisual(r,"symbol"),f=Ul(t.getItemVisual(r,"symbolSize")),p=t.getItemVisual(r,"style"),v=p&&p.fill,y=c.getModel("emphasis");u.setScale(f),u.traverse(function(t){t.setStyle("fill",v)});var x=Uu(t.getItemVisual(r,"symbolOffset"),f);x&&(u.x=x[0],u.y=x[1]);var _=t.getItemVisual(r,"symbolRotate");u.rotation=(_||0)*Math.PI/180||0;var b={};b.showEffectOn=s.get("showEffectOn"),b.rippleScale=c.get(["rippleEffect","scale"]),b.brushType=c.get(["rippleEffect","brushType"]),b.period=1e3*c.get(["rippleEffect","period"]),b.effectOffset=r/t.count(),b.z=s.getShallow("z")||0,b.zlevel=s.getShallow("zlevel")||0,b.symbolType=h,b.color=v,b.rippleEffectColor=c.get(["rippleEffect","color"]),b.rippleNumber=c.get(["rippleEffect","number"]),"render"===b.showEffectOn?(this._effectCfg?this.updateEffectAnimation(b):this.startEffectAnimation(b),this._effectCfg=b):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==b.showEffectOn&&i.startEffectAnimation(b):"normal"===t&&"render"!==b.showEffectOn&&i.stopEffectAnimation()}),this._effectCfg=b,PG(this,y.get("focus"),y.get("blurScope"),y.get("disabled"))},r.prototype.fadeOut=function(t){t&&t()},r}(IS),QN=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(){this._symbolDraw=new V6(QO)},r.prototype.render=function(t,r,i){var s=t.getData(),u=this._symbolDraw;u.updateData(s,{clipShape:this._getClipShape(t)}),this.group.add(u.group)},r.prototype._getClipShape=function(t){var r=t.coordinateSystem,i=r&&r.getArea&&r.getArea();return t.get("clip",!0)?i:null},r.prototype.updateTransform=function(t,r,i){var s=t.getData();this.group.dirty();var u=jw("").reset(t,r,i);u.progress&&u.progress({start:0,end:s.count(),count:s.count()},s),this._symbolDraw.updateLayout()},r.prototype._updateGroupTransform=function(t){var r=t.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=C5(r.getRoamTransform()),this.group.decomposeTransform())},r.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0)},r.type="effectScatter",r}(Fy),QF=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.hasSymbolVisual=!0,i}return AK(r,t),r.prototype.getInitialData=function(t,r){return z8(null,this,{useEncodeDefaulter:!0})},r.prototype.brushSelector=function(t,r,i){return i.point(r.getItemLayout(t))},r.type="series.effectScatter",r.dependencies=["grid","polar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},r}(OR),QU=function(t){function r(r,i,s){var u=t.call(this)||this;return u.add(u.createLine(r,i,s)),u._updateEffectSymbol(r,i),u}return AK(r,t),r.prototype.createLine=function(t,r,i){return new Kl(t,r,i)},r.prototype._updateEffectSymbol=function(t,r){var i=t.getItemModel(r).getModel("effect"),s=i.get("symbolSize"),u=i.get("symbol");!MD(s)&&(s=[s,s]);var c=t.getItemVisual(r,"style"),h=i.get("color")||c&&c.stroke,f=this.childAt(1);if(this._symbolType!==u&&(this.remove(f),(f=Us(u,-.5,-.5,1,1,h)).z2=100,f.culling=!0,this.add(f)),!!f)f.setStyle("shadowColor",h),f.setStyle(i.getItemStyle(["color"])),f.scaleX=s[0],f.scaleY=s[1],f.setColor(h),this._symbolType=u,this._symbolScale=s,this._updateEffectAnimation(t,i,r)},r.prototype._updateEffectAnimation=function(t,r,i){var s=this.childAt(1);if(!!s){var u=t.getItemLayout(i),c=1e3*r.get("period"),h=r.get("loop"),f=r.get("roundTrip"),p=r.get("constantSpeed"),v=MV(r.get("delay"),function(r){return r/t.count()*c/3});if(s.ignore=!0,this._updateAnimationPoints(s,u),p>0&&(c=this._getLineLength(s)/p*1e3),c!==this._period||h!==this._loop||f!==this._roundTrip){s.stopAnimation();var y=void 0;y=MR(v)?v(i):v,s.__t>0&&(y=-c*s.__t),this._animateSymbol(s,c,y,h,f)}this._period=c,this._loop=h,this._roundTrip=f}},r.prototype._animateSymbol=function(t,r,i,s,u){if(r>0){t.__t=0;var c=this,h=t.animate("",s).when(u?2*r:r,{__t:u?2:1}).delay(i).during(function(){c._updateSymbolPosition(t)});!s&&h.done(function(){c.remove(t)}),h.start()}},r.prototype._getLineLength=function(t){return Cm(t.__p1,t.__cp1)+Cm(t.__cp1,t.__p2)},r.prototype._updateAnimationPoints=function(t,r){t.__p1=r[0],t.__p2=r[1],t.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},r.prototype.updateData=function(t,r,i){this.childAt(0).updateData(t,r,i),this._updateEffectSymbol(t,r)},r.prototype._updateSymbolPosition=function(t){var r=t.__p1,i=t.__p2,s=t.__cp1,u=t.__t<1?t.__t:2-t.__t,c=[t.x,t.y],h=c.slice();c[0]=TU(r[0],s[0],i[0],u),c[1]=TU(r[1],s[1],i[1],u);var f=t.__t<1?Tz(r[0],s[0],i[0],u):Tz(i[0],s[0],r[0],1-u),p=t.__t<1?Tz(r[1],s[1],i[1],u):Tz(i[1],s[1],r[1],1-u);t.rotation=-Math.atan2(p,f)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Cm(h,c),1===u&&(c[0]=h[0]+(c[0]-h[0])/2,c[1]=h[1]+(c[1]-h[1])/2)):1===t.__lastT?t.scaleY=2*Cm(r,c):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=c[0],t.y=c[1]},r.prototype.updateLayout=function(t,r){this.childAt(0).updateLayout(t,r);var i=t.getItemModel(r).getModel("effect");this._updateEffectAnimation(t,i,r)},r}(IS),Qz=function(t){function r(r,i,s){var u=t.call(this)||this;return u._createPolyline(r,i,s),u}return AK(r,t),r.prototype._createPolyline=function(t,r,i){var s=new N_({shape:{points:t.getItemLayout(r)}});this.add(s),this._updateCommonStl(t,r,i)},r.prototype.updateData=function(t,r,i){var s=t.hostModel;P$(this.childAt(0),{shape:{points:t.getItemLayout(r)}},s,r),this._updateCommonStl(t,r,i)},r.prototype._updateCommonStl=function(t,r,i){var s=this.childAt(0),u=t.getItemModel(r),c=i&&i.emphasisLineStyle,h=i&&i.focus,f=i&&i.blurScope,p=i&&i.emphasisDisabled;if(!i||t.hasItemOption){var v=u.getModel("emphasis");c=v.getModel("lineStyle").getLineStyle(),p=v.get("disabled"),h=v.get("focus"),f=v.get("blurScope")}s.useStyle(t.getItemVisual(r,"style")),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=c,PG(this,h,f,p)},r.prototype.updateLayout=function(t,r){this.childAt(0).setShape("points",t.getItemLayout(r))},r}(IS),QG=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return AK(r,t),r.prototype.createLine=function(t,r,i){return new Qz(t,r,i)},r.prototype._updateAnimationPoints=function(t,r){this._points=r;for(var i=[0],s=0,u=1;u<r.length;u++)s+=Cm(r[u-1],r[u]),i.push(s);if(0===s){this._length=0;return}for(var u=0;u<i.length;u++)i[u]/=s;this._offsets=i,this._length=s},r.prototype._getLineLength=function(){return this._length},r.prototype._updateSymbolPosition=function(t){var r,i,s=t.__t<1?t.__t:2-t.__t,u=this._points,c=this._offsets,h=u.length;if(!!c){var f=this._lastFrame;if(s<this._lastFramePercent){;for(i=Math.min(f+1,h-1);i>=0&&!(c[i]<=s);i--);i=Math.min(i,h-2)}else{for(i=f;i<h&&!(c[i]>s);i++);i=Math.min(i-1,h-2)}var p=(s-c[i])/(c[i+1]-c[i]),v=u[i],y=u[i+1];t.x=v[0]*(1-p)+p*y[0],t.y=v[1]*(1-p)+p*y[1];var x=t.__t<1?y[0]-v[0]:v[0]-y[0],_=t.__t<1?y[1]-v[1]:v[1]-y[1];t.rotation=-Math.atan2(_,x)-Math.PI/2,this._lastFrame=i,this._lastFramePercent=s,t.ignore=!1}},r}(QU),QH=function(){this.polyline=!1,this.curveness=0,this.segs=[]},QV=function(t){function r(r){var i=t.call(this,r)||this;return i._off=0,i.hoverDataIdx=-1,i}return AK(r,t),r.prototype.reset=function(){this.notClear=!1,this._off=0},r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new QH},r.prototype.buildPath=function(t,r){var i,s=r.segs,u=r.curveness;if(r.polyline)for(i=this._off;i<s.length;){var c=s[i++];if(c>0){t.moveTo(s[i++],s[i++]);for(var h=1;h<c;h++)t.lineTo(s[i++],s[i++])}}else for(i=this._off;i<s.length;){var f=s[i++],p=s[i++],v=s[i++],y=s[i++];if(t.moveTo(f,p),u>0){var x=(f+v)/2-(p-y)*u,_=(p+y)/2-(v-f)*u;t.quadraticCurveTo(x,_,v,y)}else t.lineTo(v,y)}this.incremental&&(this._off=i,this.notClear=!0)},r.prototype.findDataIndex=function(t,r){var i=this.shape,s=i.segs,u=i.curveness,c=this.style.lineWidth;if(i.polyline){for(var h=0,f=0;f<s.length;){var p=s[f++];if(p>0){for(var v=s[f++],y=s[f++],x=1;x<p;x++){var _=s[f++],b=s[f++];if(Rx(v,y,_,b,c,t,r))return h}}h++}}else{for(var h=0,f=0;f<s.length;){var v=s[f++],y=s[f++],_=s[f++],b=s[f++];if(u>0){var w=(v+_)/2-(y-b)*u,S=(y+b)/2-(_-v)*u;if(R_(v,y,w,S,_,b,c,t,r))return h}else if(Rx(v,y,_,b,c,t,r))return h;h++}}return -1},r.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),s=this.getBoundingRect();return(t=i[0],r=i[1],s.contain(t,r))?(this.hoverDataIdx=this.findDataIndex(t,r))>=0:(this.hoverDataIdx=-1,!1)},r.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape.segs,i=1/0,s=1/0,u=-1/0,c=-1/0,h=0;h<r.length;){var f=r[h++],p=r[h++];i=Math.min(f,i),u=Math.max(f,u),s=Math.min(p,s),c=Math.max(p,c)}t=this._rect=new Ti(i,s,u,c)}return t},r}(RL),Qj=function(){function t(){this.group=new IS}return t.prototype.updateData=function(t){this._clear();var r=this._create();r.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(r,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(t,r){var i=this._newAdded[0],s=r.getLayout("linesPoints"),u=i&&i.shape.segs;if(u&&u.length<2e4){var c=u.length,h=new Float32Array(c+s.length);h.set(u),h.set(s,c),i.setShape({segs:h})}else{this._newAdded=[];var f=this._create();f.incremental=!0,f.setShape({segs:s}),this._setCommon(f,r),f.__startIndex=t.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new QV({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},t.prototype._setCommon=function(t,r,i){var s=r.hostModel;t.setShape({polyline:s.get("polyline"),curveness:s.get(["lineStyle","curveness"])}),t.useStyle(s.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var u=r.getVisual("style");u&&u.stroke&&t.setStyle("stroke",u.stroke),t.setStyle("fill",null);var c=Pe(t);c.seriesIndex=s.seriesIndex,t.on("mousemove",function(r){c.dataIndex=null;var i=t.hoverDataIdx;i>0&&(c.dataIndex=i+t.__startIndex)})},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),QW={seriesType:"lines",plan:OB(),reset:function(t){var r=t.coordinateSystem;if(!!r){var i=t.get("polyline"),s=t.pipelineContext.large;return{progress:function(u,c){var h=[];if(s){var f=void 0,p=u.end-u.start;if(i){for(var v=0,y=u.start;y<u.end;y++)v+=t.getLineCoordsCount(y);f=new Float32Array(p+2*v)}else f=new Float32Array(4*p);for(var x=0,_=[],y=u.start;y<u.end;y++){var b=t.getLineCoords(y,h);i&&(f[x++]=b);for(var w=0;w<b;w++)_=r.dataToPoint(h[w],!1,_),f[x++]=_[0],f[x++]=_[1]}c.setLayout("linesPoints",f)}else for(var y=u.start;y<u.end;y++){var S=c.getItemModel(y),b=t.getLineCoords(y,h),A=[];if(i)for(var M=0;M<b;M++)A.push(r.dataToPoint(h[M]));else{A[0]=r.dataToPoint(h[0]),A[1]=r.dataToPoint(h[1]);var C=S.get(["lineStyle","curveness"]);+C&&(A[2]=[(A[0][0]+A[1][0])/2-(A[0][1]-A[1][1])*C,(A[0][1]+A[1][1])/2-(A[1][0]-A[0][0])*C])}c.setItemLayout(y,A)}}}}}},QX=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){var s=t.getData(),u=this._updateLineDraw(s,t),c=t.get("zlevel"),h=t.get(["effect","trailLength"]),f=i.getZr(),p="svg"===f.painter.getType();!p&&f.painter.getLayer(c).clear(!0),null!=this._lastZlevel&&!p&&f.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&h>0&&(p||f.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(h/10+.9,1),0)})),u.updateData(s);var v=t.get("clip",!0)&&jh(t.coordinateSystem,!1,t);v?this.group.setClipPath(v):this.group.removeClipPath(),this._lastZlevel=c,this._finished=!0},r.prototype.incrementalPrepareRender=function(t,r,i){var s=t.getData();this._updateLineDraw(s,t).incrementalPrepareUpdate(s),this._clearLayer(i),this._finished=!1},r.prototype.incrementalRender=function(t,r,i){this._lineDraw.incrementalUpdate(t,r.getData()),this._finished=t.end===r.getData().count()},r.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},r.prototype.updateTransform=function(t,r,i){var s=t.getData(),u=t.pipelineContext;if(!this._finished||u.large||u.progressiveRender)return{update:!0};var c=QW.reset(t,r,i);c.progress&&c.progress({start:0,end:s.count(),count:s.count()},s),this._lineDraw.updateLayout(),this._clearLayer(i)},r.prototype._updateLineDraw=function(t,r){var i=this._lineDraw,s=this._showEffect(r),u=!!r.get("polyline"),c=r.pipelineContext.large;return(!i||s!==this._hasEffet||u!==this._isPolyline||c!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=c?new Qj:new Ku(u?s?QG:Qz:s?QU:Kl),this._hasEffet=s,this._isPolyline=u,this._isLargeDraw=c),this.group.add(i.group),i},r.prototype._showEffect=function(t){return!!t.get(["effect","show"])},r.prototype._clearLayer=function(t){var r=t.getZr();"svg"!==r.painter.getType()&&null!=this._lastZlevel&&r.painter.getLayer(this._lastZlevel).clear(!0)},r.prototype.remove=function(t,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},r.prototype.dispose=function(t,r){this.remove(t,r)},r.type="lines",r}(Fy),QY="undefined"==typeof Uint32Array?Array:Uint32Array,QZ="undefined"==typeof Float64Array?Array:Float64Array;function QK(t){var r=t.data;r&&r[0]&&r[0][0]&&r[0][0].coord&&(t.data=MS(r,function(t){var r={coords:[t[0].coord,t[1].coord]};return t[0].name&&(r.fromName=t[0].name),t[1].name&&(r.toName=t[1].name),Mp([r,t[0],t[1]])}))}var QJ=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return AK(r,t),r.prototype.init=function(r){r.data=r.data||[],QK(r);var i=this._processFlatCoordsArray(r.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(r.data=new Float32Array(i.count)),t.prototype.init.apply(this,arguments)},r.prototype.mergeOption=function(r){if(QK(r),r.data){var i=this._processFlatCoordsArray(r.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(r.data=new Float32Array(i.count))}t.prototype.mergeOption.apply(this,arguments)},r.prototype.appendData=function(t){var r=this._processFlatCoordsArray(t.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=M3(this._flatCoords,r.flatCoords),this._flatCoordsOffset=M3(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),t.data=new Float32Array(r.count)),this.getRawData().appendData(t.data)},r.prototype._getCoordsFromItemModel=function(t){var r=this.getData().getItemModel(t),i=r.option instanceof Array?r.option:r.getShallow("coords");return i},r.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},r.prototype.getLineCoords=function(t,r){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*t],s=this._flatCoordsOffset[2*t+1],u=0;u<s;u++)r[u]=r[u]||[],r[u][0]=this._flatCoords[i+2*u],r[u][1]=this._flatCoords[i+2*u+1];return s}for(var c=this._getCoordsFromItemModel(t),u=0;u<c.length;u++)r[u]=r[u]||[],r[u][0]=c[u][0],r[u][1]=c[u][1];return c.length},r.prototype._processFlatCoordsArray=function(t){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),MB(t[0])){for(var i=t.length,s=new QY(i),u=new QZ(i),c=0,h=0,f=0,p=0;p<i;){f++;var v=t[p++];s[h++]=c+r,s[h++]=v;for(var y=0;y<v;y++){var x=t[p++],_=t[p++];u[c++]=x,u[c++]=_}}return{flatCoordsOffset:new Uint32Array(s.buffer,0,h),flatCoords:u,count:f}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},r.prototype.getInitialData=function(t,r){var i=new zq(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(t,r,s,u){if(t instanceof Array)return NaN;i.hasItemOption=!0;var c=t.value;if(null!=c)return c instanceof Array?c[u]:c}),i},r.prototype.formatTooltip=function(t,r,i){var s=this.getData().getItemModel(t),u=s.get("name");if(u)return u;var c=s.get("fromName"),h=s.get("toName"),f=[];return null!=c&&f.push(c),null!=h&&f.push(h),Ol("nameValue",{name:f.join(" > ")})},r.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},r.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},r.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},r.prototype.getZLevelKey=function(){var t=this.getModel("effect"),r=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&r>0?r+"":""},r.type="series.lines",r.dependencies=["grid","polar","geo","calendar"],r.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},r}(OR);function QQ(t){return!(t instanceof Array)&&(t=[t,t]),t}let Qq={seriesType:"lines",reset:function(t){var r=QQ(t.get("symbol")),i=QQ(t.get("symbolSize")),s=t.getData();return s.setVisual("fromSymbol",r&&r[0]),s.setVisual("toSymbol",r&&r[1]),s.setVisual("fromSymbolSize",i&&i[0]),s.setVisual("toSymbolSize",i&&i[1]),{dataEach:s.hasItemOption?function(t,r){var i=t.getItemModel(r),s=QQ(i.getShallow("symbol",!0)),u=QQ(i.getShallow("symbolSize",!0));s[0]&&t.setItemVisual(r,"fromSymbol",s[0]),s[1]&&t.setItemVisual(r,"toSymbol",s[1]),u[0]&&t.setItemVisual(r,"fromSymbolSize",u[0]),u[1]&&t.setItemVisual(r,"toSymbolSize",u[1])}:null}}};var Q$=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=A9.createCanvas();this.canvas=t}return t.prototype.update=function(t,r,i,s,u,c){var h=this._getBrush(),f=this._getGradient(u,"inRange"),p=this._getGradient(u,"outOfRange"),v=this.pointSize+this.blurSize,y=this.canvas,x=y.getContext("2d"),_=t.length;y.width=r,y.height=i;for(var b=0;b<_;++b){var w=t[b],S=w[0],A=w[1],M=s(w[2]);x.globalAlpha=M,x.drawImage(h,S-v,A-v)}if(!y.width||!y.height)return y;for(var C=x.getImageData(0,0,y.width,y.height),T=C.data,I=0,D=T.length,R=this.minOpacity,P=this.maxOpacity-R;I<D;){var M=T[I+3]/256,L=4*Math.floor(255*M);if(M>0){var B=c(M)?f:p;M>0&&(M=M*P+R),T[I++]=B[L],T[I++]=B[L+1],T[I++]=B[L+2],T[I++]=B[L+3]*M*256}else I+=4}return x.putImageData(C,0,0),y},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=A9.createCanvas()),r=this.pointSize+this.blurSize,i=2*r;t.width=i,t.height=i;var s=t.getContext("2d");return s.clearRect(0,0,i,i),s.shadowOffsetX=i,s.shadowBlur=this.blurSize,s.shadowColor="#000",s.beginPath(),s.arc(-r,r,this.pointSize,0,2*Math.PI,!0),s.closePath(),s.fill(),t},t.prototype._getGradient=function(t,r){for(var i=this._gradientPixels,s=i[r]||(i[r]=new Uint8ClampedArray(1024)),u=[0,0,0,0],c=0,h=0;h<256;h++)t[r](h/255,!0,u),s[c++]=u[0],s[c++]=u[1],s[c++]=u[2],s[c++]=u[3];return s},t}();function Q0(t){var r=t.dimensions;return"lng"===r[0]&&"lat"===r[1]}var Q1=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){r.eachComponent("visualMap",function(r){r.eachTargetSeries(function(i){i===t&&(s=r)})});this._progressiveEls=null,this.group.removeAll();var s,u=t.coordinateSystem;"cartesian2d"===u.type||"calendar"===u.type?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):Q0(u)&&this._renderOnGeo(u,t,s,i)},r.prototype.incrementalPrepareRender=function(t,r,i){this.group.removeAll()},r.prototype.incrementalRender=function(t,r,i,s){var u=r.coordinateSystem;u&&(Q0(u)?this.render(r,i,s):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,s,t.start,t.end,!0)))},r.prototype.eachRendered=function(t){Fu(this._progressiveEls||this.group,t)},r.prototype._renderOnCartesianAndCalendar=function(t,r,i,s,u){var c,h,f,p,v=t.coordinateSystem,y=jd(v,"cartesian2d");if(y){var x=v.getAxis("x"),_=v.getAxis("y");c=x.getBandWidth()+.5,h=_.getBandWidth()+.5,f=x.scale.getExtent(),p=_.scale.getExtent()}for(var b=this.group,w=t.getData(),S=t.getModel(["emphasis","itemStyle"]).getItemStyle(),A=t.getModel(["blur","itemStyle"]).getItemStyle(),M=t.getModel(["select","itemStyle"]).getItemStyle(),C=t.get(["itemStyle","borderRadius"]),T=Le(t),I=t.getModel("emphasis"),D=I.get("focus"),R=I.get("blurScope"),P=I.get("disabled"),L=y?[w.mapDimension("x"),w.mapDimension("y"),w.mapDimension("value")]:[w.mapDimension("time"),w.mapDimension("value")],B=i;B<s;B++){var k=void 0,O=w.getItemVisual(B,"style");if(y){var N=w.get(L[0],B),F=w.get(L[1],B);if(isNaN(w.get(L[2],B))||isNaN(N)||isNaN(F)||N<f[0]||N>f[1]||F<p[0]||F>p[1])continue;var U=v.dataToPoint([N,F]);k=new RY({shape:{x:U[0]-c/2,y:U[1]-h/2,width:c,height:h},style:O})}else{if(isNaN(w.get(L[1],B)))continue;k=new RY({z2:1,shape:v.dataToRect([w.get(L[0],B)]).contentShape,style:O})}if(w.hasItemOption){var z=w.getItemModel(B),G=z.getModel("emphasis");S=G.getModel("itemStyle").getItemStyle(),A=z.getModel(["blur","itemStyle"]).getItemStyle(),M=z.getModel(["select","itemStyle"]).getItemStyle(),C=z.get(["itemStyle","borderRadius"]),D=G.get("focus"),R=G.get("blurScope"),P=G.get("disabled"),T=Le(z)}k.shape.r=C;var H=t.getRawValue(B),V="-";H&&null!=H[2]&&(V=H[2]+""),P7(k,T,{labelFetcher:t,labelDataIndex:B,defaultOpacity:O.opacity,defaultText:V}),k.ensureState("emphasis").style=S,k.ensureState("blur").style=A,k.ensureState("select").style=M,PG(k,D,R,P),k.incremental=u,u&&(k.states.emphasis.hoverLayer=!0),b.add(k),w.setItemGraphicEl(B,k),this._progressiveEls&&this._progressiveEls.push(k)}},r.prototype._renderOnGeo=function(t,r,i,s){var u,c,h,f,p,v,y,x,_,b=i.targetVisuals.inRange,w=i.targetVisuals.outOfRange,S=r.getData(),A=this._hmLayer||this._hmLayer||new Q$;A.blurSize=r.get("blurSize"),A.pointSize=r.get("pointSize"),A.minOpacity=r.get("minOpacity"),A.maxOpacity=r.get("maxOpacity");var M=t.getViewRect().clone(),C=t.getRoamTransform();M.applyTransform(C);var T=Math.max(M.x,0),I=Math.max(M.y,0),D=Math.min(M.width+M.x,s.getWidth()),R=Math.min(M.height+M.y,s.getHeight()),P=D-T,L=R-I,B=[S.mapDimension("lng"),S.mapDimension("lat"),S.mapDimension("value")],k=S.mapArray(B,function(r,i,s){var u=t.dataToPoint([r,i]);return u[0]-=T,u[1]-=I,u.push(s),u}),O=i.getExtent();var N="visualMap.continuous"===i.type?(u=O,c=i.option.range,h=u[1]-u[0],c=[(c[0]-u[0])/h,(c[1]-u[0])/h],function(t){return t>=c[0]&&t<=c[1]}):(f=O,p=i.getPieceList(),v=i.option.selected,y=f[1]-f[0],x=(p=MS(p,function(t){return{interval:[(t.interval[0]-f[0])/y,(t.interval[1]-f[0])/y]}})).length,_=0,function(t){var r;for(r=_;r<x;r++){var i=p[r].interval;if(i[0]<=t&&t<=i[1]){_=r;break}}if(r===x)for(r=_-1;r>=0;r--){var i=p[r].interval;if(i[0]<=t&&t<=i[1]){_=r;break}}return r>=0&&r<x&&v[r]});A.update(k,P,L,b.color.getNormalizer(),{inRange:b.color.getColorMapper(),outOfRange:w.color.getColorMapper()},N);var F=new RU({style:{width:P,height:L,x:T,y:I,image:A.canvas},silent:!0});this.group.add(F)},r.type="heatmap",r}(Fy),Q2=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.getInitialData=function(t,r){return z8(null,this,{generateCoord:"value"})},r.prototype.preventIncremental=function(){var t=BQ.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},r.type="series.heatmap",r.dependencies=["grid","geo","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},r}(OR),Q3=["itemStyle","borderWidth"],Q5=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Q4=new O3,Q9=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){var s=this.group,u=t.getData(),c=this._data,h=t.coordinateSystem,f=h.getBaseAxis().isHorizontal(),p=h.master.getRect(),v={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:h,coordSysExtent:[[p.x,p.x+p.width],[p.y,p.y+p.height]],isHorizontal:f,valueDim:Q5[+f],categoryDim:Q5[1-+f]};u.diff(c).add(function(t){if(!!u.hasValue(t)){var r=qi(u,t),i=Q8(u,t,r,v),c=qs(u,v,i);u.setItemGraphicEl(t,c),s.add(c),qd(c,v,i)}}).update(function(t,r){var i=c.getItemGraphicEl(r);if(!u.hasValue(t)){s.remove(i);return}var h=qi(u,t),f=Q8(u,t,h,v),p=qu(u,f);i&&p!==i.__pictorialShapeStr&&(s.remove(i),u.setItemGraphicEl(t,null),i=null),i?function(t,r,i){var s=i.animationModel,u=i.dataIndex;P$(t.__pictorialBundle,{x:i.bundlePosition[0],y:i.bundlePosition[1]},s,u),i.symbolRepeat?qe(t,r,i,!0):qt(t,r,i,!0),qn(t,i,!0),qr(t,r,i,!0)}(i,v,f):i=qs(u,v,f,!0),u.setItemGraphicEl(t,i),i.__pictorialSymbolMeta=f,s.add(i),qd(i,v,f)}).remove(function(t){var r=c.getItemGraphicEl(t);r&&ql(c,t,r.__pictorialSymbolMeta.animationModel,r)}).execute();var y=t.get("clip",!0)?jh(t.coordinateSystem,!1,t):null;return y?s.setClipPath(y):s.removeClipPath(),this._data=u,this.group},r.prototype.remove=function(t,r){var i=this.group,s=this._data;t.get("animation")?s&&s.eachItemGraphicEl(function(r){ql(s,Pe(r).dataIndex,t,r)}):i.removeAll()},r.type="pictorialBar",r}(Fy);function Q8(t,r,i,s){var u=t.getItemLayout(r),c=i.get("symbolRepeat"),h=i.get("symbolClip"),f=i.get("symbolPosition")||"start",p=(i.get("symbolRotate")||0)*Math.PI/180||0,v=i.get("symbolPatternSize")||2,y=i.isAnimationEnabled(),x={dataIndex:r,layout:u,itemModel:i,symbolType:t.getItemVisual(r,"symbol")||"circle",style:t.getItemVisual(r,"style"),symbolClip:h,symbolRepeat:c,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:p,animationModel:y?i:null,hoverScale:y&&i.get(["emphasis","scale"]),z2:i.getShallow("z",!0)||0};(function(t,r,i,s,u){var c,h=s.valueDim,f=t.get("symbolBoundingData"),p=s.coordSys.getOtherAxis(s.coordSys.getBaseAxis()),v=p.toGlobalCoord(p.dataToCoord(0)),y=1-+(i[h.wh]<=0);if(MD(f)){var x=[Q6(p,f[0])-v,Q6(p,f[1])-v];x[1]<x[0]&&x.reverse(),c=x[y]}else c=null!=f?Q6(p,f)-v:r?s.coordSysExtent[h.index][y]-v:i[h.wh];u.boundingLength=c,r&&(u.repeatCutLength=i[h.wh]),u.pxSign=c>0?1:-1})(i,c,u,s,x),function(t,r,i,s,u,c,h,f,p,v){var y,x=p.valueDim,_=p.categoryDim,b=Math.abs(i[_.wh]),w=t.getItemVisual(r,"symbolSize");(y=MD(w)?w.slice():null==w?["100%","100%"]:[w,w])[_.index]=IO(y[_.index],b),y[x.index]=IO(y[x.index],s?b:Math.abs(c)),v.symbolSize=y;var S=v.symbolScale=[y[0]/f,y[1]/f];S[x.index]*=(p.isHorizontal?-1:1)*h}(t,r,u,c,h,x.boundingLength,x.pxSign,v,s,x),function(t,r,i,s,u){var c=t.get(Q3)||0;c&&(Q4.attr({scaleX:r[0],scaleY:r[1],rotation:i}),Q4.updateTransform(),c/=Q4.getLineScale(),c*=r[s.valueDim.index]),u.valueLineWidth=c||0}(i,x.symbolScale,p,s,x);var _=x.symbolSize,b=Uu(i.get("symbolOffset"),_);return function(t,r,i,s,u,c,h,f,p,v,y,x){var _=y.categoryDim,b=y.valueDim,w=x.pxSign,S=Math.max(r[b.index]+f,0),A=S;if(s){var M=Math.abs(p),C=MV(t.get("symbolMargin"),"15%")+"",T=!1;C.lastIndexOf("!")===C.length-1&&(T=!0,C=C.slice(0,C.length-1));var I=IO(C,r[b.index]),D=Math.max(S+2*I,0),R=T?0:2*I,P=I1(s),L=P?s:qf((M+R)/D);I=(M-L*S)/2/(T?L:Math.max(L-1,1)),D=S+2*I,R=T?0:2*I,!P&&"fixed"!==s&&(L=v?qf((Math.abs(v)+R)/D):0),A=L*D-R,x.repeatTimes=L,x.symbolMargin=I}var B=A/2*w,k=x.pathPosition=[];k[_.index]=i[_.wh]/2,k[b.index]="start"===h?B:"end"===h?p-B:p/2,c&&(k[0]+=c[0],k[1]+=c[1]);var O=x.bundlePosition=[];O[_.index]=i[_.xy],O[b.index]=i[b.xy];var N=x.barRectShape=Mg({},i);N[b.wh]=w*Math.max(Math.abs(i[b.wh]),Math.abs(k[b.index]+B)),N[_.wh]=i[_.wh];var F=x.clipShape={};F[_.xy]=-i[_.xy],F[_.wh]=y.ecSize[_.wh],F[b.xy]=0,F[b.wh]=i[b.wh]}(i,_,u,c,h,b,f,x.valueLineWidth,x.boundingLength,x.repeatCutLength,s,x),x}function Q6(t,r){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(r)))}function Q7(t){var r=t.symbolPatternSize,i=Us(t.symbolType,-r/2,-r/2,r,r);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function qe(t,r,i,s){var u=t.__pictorialBundle,c=i.symbolSize,h=i.valueLineWidth,f=i.pathPosition,p=r.valueDim,v=i.repeatTimes||0,y=0,x=c[r.valueDim.index]+h+2*i.symbolMargin;for(qc(t,function(t){t.__pictorialAnimationIndex=y,t.__pictorialRepeatTimes=v,y<v?qh(t,null,w(y),i,s):qh(t,null,{scaleX:0,scaleY:0},i,s,function(){u.remove(t)}),y++});y<v;y++){var _=Q7(i);_.__pictorialAnimationIndex=y,_.__pictorialRepeatTimes=v,u.add(_);var b=w(y);qh(_,{x:b.x,y:b.y,scaleX:0,scaleY:0},{scaleX:b.scaleX,scaleY:b.scaleY,rotation:b.rotation},i,s)}function w(t){var r=f.slice(),s=i.pxSign,u=t;return("start"===i.symbolRepeatDirection?s>0:s<0)&&(u=v-1-t),r[p.index]=x*(u-v/2+.5)+f[p.index],{x:r[0],y:r[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation}}}function qt(t,r,i,s){var u=t.__pictorialBundle,c=t.__pictorialMainPath;c?qh(c,null,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation},i,s):(c=t.__pictorialMainPath=Q7(i),u.add(c),qh(c,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:0,scaleY:0,rotation:i.rotation},{scaleX:i.symbolScale[0],scaleY:i.symbolScale[1]},i,s))}function qn(t,r,i){var s=Mg({},r.barRectShape),u=t.__pictorialBarRect;u?qh(u,null,{shape:s},r,i):((u=t.__pictorialBarRect=new RY({z2:2,shape:s,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,t.add(u))}function qr(t,r,i,s){if(i.symbolClip){var u=t.__pictorialClipPath,c=Mg({},i.clipShape),h=r.valueDim,f=i.animationModel,p=i.dataIndex;if(u)P$(u,{shape:c},f,p);else{c[h.wh]=0,u=new RY({shape:c}),t.__pictorialBundle.setClipPath(u),t.__pictorialClipPath=u;var v={};v[h.wh]=i.clipShape[h.wh],eu[s?"updateProps":"initProps"](u,{shape:v},f,p)}}}function qi(t,r){var i=t.getItemModel(r);return i.getAnimationDelayParams=qa,i.isAnimationEnabled=qo,i}function qa(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function qo(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function qs(t,r,i,s){var u=new IS,c=new IS;return u.add(c),u.__pictorialBundle=c,c.x=i.bundlePosition[0],c.y=i.bundlePosition[1],i.symbolRepeat?qe(u,r,i):qt(u,r,i),qn(u,i,s),qr(u,r,i,s),u.__pictorialShapeStr=qu(t,i),u.__pictorialSymbolMeta=i,u}function ql(t,r,i,s){var u=s.__pictorialBarRect;u&&u.removeTextContent();var c=[];qc(s,function(t){c.push(t)}),s.__pictorialMainPath&&c.push(s.__pictorialMainPath),s.__pictorialClipPath&&(i=null),Mw(c,function(t){P2(t,{scaleX:0,scaleY:0},i,r,function(){s.parent&&s.parent.remove(s)})}),t.setItemGraphicEl(r,null)}function qu(t,r){return[t.getItemVisual(r.dataIndex,"symbol")||"none",!!r.symbolRepeat,!!r.symbolClip].join(":")}function qc(t,r,i){Mw(t.__pictorialBundle.children(),function(s){s!==t.__pictorialBarRect&&r.call(i,s)})}function qh(t,r,i,s,u,c){r&&t.attr(r),s.symbolClip&&!u?i&&t.attr(i):i&&eu[u?"updateProps":"initProps"](t,i,s.animationModel,s.dataIndex,c)}function qd(t,r,i){var s=i.dataIndex,u=i.itemModel,c=u.getModel("emphasis"),h=c.getModel("itemStyle").getItemStyle(),f=u.getModel(["blur","itemStyle"]).getItemStyle(),p=u.getModel(["select","itemStyle"]).getItemStyle(),v=u.getShallow("cursor"),y=c.get("focus"),x=c.get("blurScope"),_=c.get("scale");qc(t,function(t){if(t instanceof RU){var r=t.style;t.useStyle(Mg({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},i.style))}else t.useStyle(i.style);var s=t.ensureState("emphasis");s.style=h,_&&(s.scaleX=1.1*t.scaleX,s.scaleY=1.1*t.scaleY),t.ensureState("blur").style=f,t.ensureState("select").style=p,v&&(t.cursor=v),t.z2=i.z2});var b=r.valueDim.posDesc[+(i.boundingLength>0)],w=t.__pictorialBarRect;w.ignoreClip=!0,P7(w,Le(u),{labelFetcher:r.seriesModel,labelDataIndex:s,defaultText:V1(r.seriesModel.getData(),s),inheritColor:i.style.fill,defaultOpacity:i.style.opacity,defaultOutsidePosition:b}),PG(t,y,x,c.get("disabled"))}function qf(t){var r=Math.round(t);return 1e-4>Math.abs(t-r)?r:Math.ceil(t)}var qp=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.hasSymbolVisual=!0,i.defaultSymbol="roundRect",i}return AK(r,t),r.prototype.getInitialData=function(r){return r.stack=null,t.prototype.getInitialData.apply(this,arguments)},r.type="series.pictorialBar",r.dependencies=["grid"],r.defaultOption=LM(jC.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),r}(jC),qg=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i._layers=[],i}return AK(r,t),r.prototype.render=function(t,r,i){var s=t.getData(),u=this,c=this.group,h=t.getLayerSeries(),f=s.getLayout("layoutInfo"),p=f.rect,v=f.boundaryGap;function y(t){return t.name}c.x=0,c.y=p.y+v[0];var x=new zk(this._layersSeries||[],h,y,y),_=[];function b(r,i,f){var p,v,y=u._layers;if("remove"===r){c.remove(y[i]);return}for(var x=[],b=[],w=h[i].indices,S=0;S<w.length;S++){var A=s.getItemLayout(w[S]),M=A.x,C=A.y0,T=A.y;x.push(M,C),b.push(M,C+T),p=s.getItemVisual(w[S],"style")}var I=s.getItemLayout(w[0]),D=t.getModel("label").get("margin"),R=t.getModel("emphasis");if("add"===r){var P=_[i]=new IS;v=new jl({shape:{points:x,stackedOnPoints:b,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),P.add(v),c.add(P),t.isAnimationEnabled()&&v.setClipPath(function(t,r,i){var s=new RY({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return P0(s,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},r,i),s}(v.getBoundingRect(),t,function(){v.removeClipPath()}))}else{var P=y[f];v=P.childAt(0),c.add(P),_[i]=P,P$(v,{shape:{points:x,stackedOnPoints:b}},t),P4(v)}P7(v,Le(t),{labelDataIndex:w[S-1],defaultText:s.getName(w[S-1]),inheritColor:p.fill},{normal:{verticalAlign:"middle"}}),v.setTextConfig({position:null,local:!0});var L=v.getTextContent();L&&(L.x=I.x-D,L.y=I.y0+I.y/2),v.useStyle(p),s.setItemGraphicEl(i,v),PW(v,t),PG(v,R.get("focus"),R.get("blurScope"),R.get("disabled"))}x.add(ME(b,this,"add")).update(ME(b,this,"update")).remove(ME(b,this,"remove")).execute(),this._layersSeries=h,this._layers=_},r.type="themeRiver",r}(Fy),qm=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wt(ME(this.getData,this),ME(this.getRawData,this))},r.prototype.fixData=function(t){var r=t.length,i={},s=Dm(t,function(t){return!i.hasOwnProperty(t[0]+"")&&(i[t[0]+""]=-1),t[2]}),u=[];s.buckets.each(function(t,r){u.push({name:r,dataList:t})});for(var c=u.length,h=0;h<c;++h){for(var f=u[h].name,p=0;p<u[h].dataList.length;++p){var v=u[h].dataList[p][0]+"";i[v]=h}for(var v in i)i.hasOwnProperty(v)&&i[v]!==h&&(i[v]=h,t[r]=[v,0,f],r++)}return t},r.prototype.getInitialData=function(t,r){for(var i=this.getReferringComponents("singleAxis",Dd).models[0].get("type"),s=MM(t.data,function(t){return void 0!==t[2]}),u=this.fixData(s||[]),c=[],h=this.nameMap=M2(),f=0,p=0;p<u.length;++p)c.push(u[p][2]),!h.get(u[p][2])&&(h.set(u[p][2],f),f++);var v=new zq(z0(u,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:zF(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,this);return v.initData(u),v},r.prototype.getLayerSeries=function(){for(var t=this.getData(),r=t.count(),i=[],s=0;s<r;++s)i[s]=s;var u=t.mapDimension("single"),c=Dm(i,function(r){return t.get("name",r)}),h=[];return c.buckets.each(function(r,i){r.sort(function(r,i){return t.get(u,r)-t.get(u,i)}),h.push({name:i,indices:r})}),h},r.prototype.getAxisTooltipData=function(t,r,i){!MD(t)&&(t=t?[t]:[]);for(var s,u=this.getData(),c=this.getLayerSeries(),h=[],f=c.length,p=0;p<f;++p){for(var v=Number.MAX_VALUE,y=-1,x=c[p].indices.length,_=0;_<x;++_){var b=u.get(t[0],c[p].indices[_]),w=Math.abs(b-r);w<=v&&(s=b,v=w,y=c[p].indices[_])}h.push(y)}return{dataIndices:h,nestestValue:s}},r.prototype.formatTooltip=function(t,r,i){var s=this.getData();return Ol("nameValue",{name:s.getName(t),value:s.get(s.mapDimension("value"),t)})},r.type="series.themeRiver",r.dependencies=["singleAxis"],r.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},r}(OR);function qv(t,r){t.eachSeriesByType("themeRiver",function(t){var r=t.getData(),i=t.coordinateSystem,s={},u=i.getRect();s.rect=u;var c=t.get("boundaryGap"),h=i.getAxis();s.boundaryGap=c,"horizontal"===h.orient?(c[0]=IO(c[0],u.height),c[1]=IO(c[1],u.height),qy(r,t,u.height-c[0]-c[1])):(c[0]=IO(c[0],u.width),c[1]=IO(c[1],u.width),qy(r,t,u.width-c[0]-c[1])),r.setLayout("layoutInfo",s)})}function qy(t,r,i){if(!!t.count())for(var s,u=r.coordinateSystem,c=r.getLayerSeries(),h=t.mapDimension("single"),f=t.mapDimension("value"),p=MS(c,function(r){return MS(r.indices,function(r){var i=u.dataToPoint(t.get(h,r));return i[1]=t.get(f,r),i})}),v=function(t){for(var r=t.length,i=t[0].length,s=[],u=[],c=0,h=0;h<i;++h){for(var f=0,p=0;p<r;++p)f+=t[p][h][1];f>c&&(c=f),s.push(f)}for(var v=0;v<i;++v)u[v]=(c-s[v])/2;c=0;for(var y=0;y<i;++y){var x=s[y]+u[y];x>c&&(c=x)}return{y0:u,max:c}}(p),y=v.y0,x=i/v.max,_=c.length,b=c[0].indices.length,w=0;w<b;++w){s=y[w]*x,t.setItemLayout(c[0].indices[w],{layerIndex:0,x:p[0][w][0],y0:s,y:p[0][w][1]*x});for(var S=1;S<_;++S)s+=p[S-1][w][1]*x,t.setItemLayout(c[S].indices[w],{layerIndex:S,x:p[S][w][0],y0:s,y:p[S][w][1]*x})}}var qx=function(t){function r(r,i,s,u){var c=t.call(this)||this;c.z2=2,c.textConfig={inside:!0},Pe(c).seriesIndex=i.seriesIndex;var h=new R7({z2:4,silent:r.getModel().get(["label","silent"])});return c.setTextContent(h),c.updateData(!0,r,i,s,u),c}return AK(r,t),r.prototype.updateData=function(t,r,i,s,u){this.node=r,r.piece=this,i=i||this._seriesModel,s=s||this._ecModel;var c=this;Pe(c).dataIndex=r.dataIndex;var h=r.getModel(),f=h.getModel("emphasis"),p=r.getLayout(),v=Mg({},p);v.label=null;var y=r.getVisual("style");y.lineJoin="bevel";var x=r.getVisual("decal");x&&(y.decal=UB(x,u));var _=jP(h.getModel("itemStyle"),v,!0);Mg(v,_),Mw(Po,function(t){var r=c.ensureState(t),i=h.getModel([t,"itemStyle"]);r.style=i.getItemStyle();var s=jP(i,v);s&&(r.shape=s)}),t?(c.setShape(v),c.shape.r=p.r0,P0(c,{shape:{r:p.r}},i,r.dataIndex)):(P$(c,{shape:v},i),P4(c)),c.useStyle(y),this._updateLabel(i);var b=h.getShallow("cursor");b&&c.attr("cursor",b),this._seriesModel=i||this._seriesModel,this._ecModel=s||this._ecModel;var w=f.get("focus");PG(this,"ancestor"===w?r.getAncestorsIndices():"descendant"===w?r.getDescendantIndices():w,f.get("blurScope"),f.get("disabled"))},r.prototype._updateLabel=function(t){var r=this,i=this.node.getModel(),s=i.getModel("label"),u=this.node.getLayout(),c=u.endAngle-u.startAngle,h=(u.startAngle+u.endAngle)/2,f=Math.cos(h),p=Math.sin(h),v=this,y=v.getTextContent(),x=this.node.dataIndex,_=s.get("minAngle")/180*Math.PI,b=s.get("show")&&!(null!=_&&Math.abs(c)<_);function w(t,r){var i=t.get(r);return null==i?s.get(r):i}y.ignore=!b,Mw(Ps,function(s){var _,b="normal"===s?i.getModel("label"):i.getModel([s,"label"]),S="normal"===s,A=S?y:y.ensureState(s),M=t.getFormattedLabel(x,s);S&&(M=M||r.node.name),A.style=Lt(b,{},null,"normal"!==s,!0),M&&(A.style.text=M);var C=b.get("show");null!=C&&!S&&(A.ignore=!C);var T=w(b,"position"),I=S?v:v.states[s],D=I.style.fill;I.textConfig={outsideFill:"inherit"===b.get("color")?D:null,inside:"outside"!==T};var R=w(b,"distance")||0,P=w(b,"align"),L=w(b,"rotate"),B=.5*Math.PI,k=1.5*Math.PI,O=Rw("tangential"===L?Math.PI/2-h:h),N=O>B&&!IX(O-B)&&O<k;"outside"===T?(_=u.r+R,P=N?"right":"left"):P&&"center"!==P?"left"===P?(_=u.r0+R,P=N?"right":"left"):"right"===P&&(_=u.r-R,P=N?"left":"right"):(_=c===2*Math.PI&&0===u.r0?0:(u.r+u.r0)/2,P="center"),A.style.align=P,A.style.verticalAlign=w(b,"verticalAlign")||"middle",A.x=_*f+u.cx,A.y=_*p+u.cy;var F=0;"radial"===L?F=Rw(-h)+(N?Math.PI:0):"tangential"===L?F=Rw(Math.PI/2-h)+(N?Math.PI:0):MB(L)&&(F=L*Math.PI/180),A.rotation=Rw(F)}),y.dirtyStyle()},r}(Nc),q_="sunburstRootToNode",qb="sunburstHighlight",qw=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i,s){var u=this;this.seriesModel=t,this.api=i,this.ecModel=r;var c=t.getData(),h=c.tree.root,f=t.getViewRoot(),p=this.group,v=t.get("renderLabelForZeroData"),y=[];f.eachNode(function(t){y.push(t)}),function(s,u){if(0!==s.length||0!==u.length)new zk(u,s,f,f).add(y).update(y).remove(MI(y,null)).execute();function f(t){return t.getId()}function y(f,y){(function(s,u){if(!v&&s&&!s.getValue()&&(s=null),s!==h&&u!==h){if(u&&u.piece)s?(u.piece.updateData(!1,s,t,r,i),c.setItemGraphicEl(s.dataIndex,u.piece)):function(t){if(!!t)t.piece&&(p.remove(t.piece),t.piece=null)}(u);else if(s){var f=new qx(s,t,r,i);p.add(f),c.setItemGraphicEl(s.dataIndex,f)}}})(null==f?null:s[f],null==y?null:u[y])}}(y,this._oldChildren||[]),function(s,c){c.depth>0?(u.virtualPiece?u.virtualPiece.updateData(!1,s,t,r,i):(u.virtualPiece=new qx(s,t,r,i),p.add(u.virtualPiece)),c.piece.off("click"),u.virtualPiece.on("click",function(t){u._rootToNode(c.parentNode)})):u.virtualPiece&&(p.remove(u.virtualPiece),u.virtualPiece=null)}(h,f),this._initEvents(),this._oldChildren=y},r.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(r){var i=!1;t.seriesModel.getViewRoot().eachNode(function(s){if(!i&&s.piece&&s.piece===r.target){var u=s.getModel().get("nodeClick");if("rootToNode"===u)t._rootToNode(s);else if("link"===u){var c=s.getModel(),h=c.get("link");h&&Ba(h,c.get("target",!0)||"_blank")}i=!0}})})},r.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:q_,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},r.prototype.containPoint=function(t,r){var i=r.getData().getItemLayout(0);if(i){var s=t[0]-i.cx,u=t[1]-i.cy,c=Math.sqrt(s*s+u*u);return c<=i.r&&c>=i.r0}},r.type="sunburst",r}(Fy),qS=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.ignoreStyleOnData=!0,i}return AK(r,t),r.prototype.getInitialData=function(t,r){var i={name:t.name,children:t.data};(function t(r){var i=0;Mw(r.children,function(r){t(r);var s=r.value;MD(s)&&(s=s[0]),i+=s});var s=r.value;MD(s)&&(s=s[0]),(null==s||isNaN(s))&&(s=i),s<0&&(s=0),MD(r.value)?r.value[0]=s:r.value=s})(i);var s=this._levelModels=MS(t.levels||[],function(t){return new Lw(t,this,r)},this),u=YZ.createTree(i,this,function(t){t.wrapMethod("getItemModel",function(t,r){var i=s[u.getNodeByDataIndex(r).depth];return i&&(t.parentModel=i),t})});return u.data},r.prototype.optionUpdated=function(){this.resetViewRoot()},r.prototype.getDataParams=function(r){var i=t.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(r);return i.treePathInfo=Yq(s,this),i},r.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},r.prototype.getViewRoot=function(){return this._viewRoot},r.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var r=this.getRawData().tree.root;(!t||t!==r&&!r.contains(t))&&(this._viewRoot=r)},r.prototype.enableAriaDecal=function(){Y5(this)},r.type="series.sunburst",r.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},r}(OR),qA=Math.PI/180;function qM(t,r,i){r.eachSeriesByType(t,function(t){var r=t.get("center"),s=t.get("radius");!MD(s)&&(s=[0,s]),!MD(r)&&(r=[r,r]);var u=i.getWidth(),c=i.getHeight(),h=Math.min(u,c),f=IO(r[0],u),p=IO(r[1],c),v=IO(s[0],h/2),y=IO(s[1],h/2),x=-t.get("startAngle")*qA,_=t.get("minAngle")*qA,b=t.getData().tree.root,w=t.getViewRoot(),S=w.depth,A=t.get("sort");null!=A&&function t(r,i){var s=r.children||[];r.children=function(t,r){if(MR(r)){var i=MS(t,function(t,r){var i=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return i}},index:r}});return i.sort(function(t,i){return r(t.params,i.params)}),MS(i,function(r){return t[r.index]})}var s="asc"===r;return t.sort(function(t,r){var i=(t.getValue()-r.getValue())*(s?1:-1);return 0===i?(t.dataIndex-r.dataIndex)*(s?-1:1):i})}(s,i),s.length&&Mw(r.children,function(r){t(r,i)})}(w,A);var M=0;Mw(w.children,function(t){!isNaN(t.getValue())&&M++});var C=w.getValue(),T=Math.PI/(C||M)*2,I=w.depth>0,D=(y-v)/(w.height-(I?-1:1)||1),R=t.get("clockwise"),P=t.get("stillShowZeroSum"),L=R?1:-1,B=function(r,i){if(!!r){var s=i;if(r!==b){var u=r.getValue(),c=0===C&&P?T:u*T;c<_&&(c=_),s=i+L*c;var y=r.depth-S-(I?-1:1),x=v+D*y,w=v+D*(y+1),A=t.getLevelModel(r);if(A){var M=A.get("r0",!0),k=A.get("r",!0),O=A.get("radius",!0);null!=O&&(M=O[0],k=O[1]),null!=M&&(x=IO(M,h/2)),null!=k&&(w=IO(k,h/2))}r.setLayout({angle:c,startAngle:i,endAngle:s,clockwise:R,cx:f,cy:p,r0:x,r:w})}if(r.children&&r.children.length){var N=0;Mw(r.children,function(t){N+=B(t,i+N)})}return s-i}};if(I){var k=v+D,O=2*Math.PI;b.setLayout({angle:O,startAngle:x,endAngle:x+O,clockwise:R,cx:f,cy:p,r0:v,r:k})}B(w,x)})}function qC(t){var r={};t.eachSeriesByType("sunburst",function(t){var i=t.getData(),s=i.tree;s.eachNode(function(u){var c=u.getModel().getModel("itemStyle").getItemStyle();!c.fill&&(c.fill=function(t,i,s){for(var u=t;u&&u.depth>1;)u=u.parentNode;var c=i.getColorFromPalette(u.name||u.dataIndex+"",r);return t.depth>1&&MP(c)&&(c=Ee(c,(t.depth-1)/(s-1)*.5)),c}(u,t,s.root.height)),Mg(i.ensureUniqueItemVisual(u.dataIndex,"style"),c)})})}var qT={color:"fill",borderColor:"stroke"},qE={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},qI=Dl(),qD=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},r.prototype.getInitialData=function(t,r){return z8(null,this)},r.prototype.getDataParams=function(r,i,s){var u=t.prototype.getDataParams.call(this,r,i);return s&&(u.info=qI(s).info),u},r.type="series.custom",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},r}(OR);function qR(t,r){return r=r||[0,0],MS(["x","y"],function(i,s){var u=this.getAxis(i),c=r[s],h=t[s]/2;return"category"===u.type?u.getBandWidth():Math.abs(u.dataToCoord(c-h)-u.dataToCoord(c+h))},this)}function qP(t,r){return r=r||[0,0],MS([0,1],function(i){var s=r[i],u=t[i]/2,c=[],h=[];return c[i]=s-u,h[i]=s+u,c[1-i]=h[1-i]=r[1-i],Math.abs(this.dataToPoint(c)[i]-this.dataToPoint(h)[i])},this)}function qL(t,r){var i=this.getAxis(),s=r instanceof Array?r[0]:r,u=(t instanceof Array?t[0]:t)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(s-u)-i.dataToCoord(s+u))}function qB(t,r){return r=r||[0,0],MS(["Radius","Angle"],function(i,s){var u=this["get"+i+"Axis"](),c=r[s],h=t[s]/2,f="category"===u.type?u.getBandWidth():Math.abs(u.dataToCoord(c-h)-u.dataToCoord(c+h));return"Angle"===i&&(f=f*Math.PI/180),f},this)}function qk(t,r,i,s){return t&&(t.legacy||!1!==t.legacy&&!i&&!s&&"tspan"!==r&&("text"===r||M9(t,"text")))}function qO(t,r,i){var s,u,c;if("text"===r)c=t;else{c={},M9(t,"text")&&(c.text=t.text),M9(t,"rich")&&(c.rich=t.rich),M9(t,"textFill")&&(c.fill=t.textFill),M9(t,"textStroke")&&(c.stroke=t.textStroke),M9(t,"fontFamily")&&(c.fontFamily=t.fontFamily),M9(t,"fontSize")&&(c.fontSize=t.fontSize),M9(t,"fontStyle")&&(c.fontStyle=t.fontStyle),M9(t,"fontWeight")&&(c.fontWeight=t.fontWeight),u={type:"text",style:c,silent:!0},s={};var h=M9(t,"textPosition");i?s.position=h?t.textPosition:"inside":h&&(s.position=t.textPosition),M9(t,"textPosition")&&(s.position=t.textPosition),M9(t,"textOffset")&&(s.offset=t.textOffset),M9(t,"textRotation")&&(s.rotation=t.textRotation),M9(t,"textDistance")&&(s.distance=t.textDistance)}return qN(c,t),Mw(c.rich,function(t){qN(t,t)}),{textConfig:s,textContent:u}}function qN(t,r){if(!!r)r.font=r.textFont||r.font,M9(r,"textStrokeWidth")&&(t.lineWidth=r.textStrokeWidth),M9(r,"textAlign")&&(t.align=r.textAlign),M9(r,"textVerticalAlign")&&(t.verticalAlign=r.textVerticalAlign),M9(r,"textLineHeight")&&(t.lineHeight=r.textLineHeight),M9(r,"textWidth")&&(t.width=r.textWidth),M9(r,"textHeight")&&(t.height=r.textHeight),M9(r,"textBackgroundColor")&&(t.backgroundColor=r.textBackgroundColor),M9(r,"textPadding")&&(t.padding=r.textPadding),M9(r,"textBorderColor")&&(t.borderColor=r.textBorderColor),M9(r,"textBorderWidth")&&(t.borderWidth=r.textBorderWidth),M9(r,"textBorderRadius")&&(t.borderRadius=r.textBorderRadius),M9(r,"textBoxShadowColor")&&(t.shadowColor=r.textBoxShadowColor),M9(r,"textBoxShadowBlur")&&(t.shadowBlur=r.textBoxShadowBlur),M9(r,"textBoxShadowOffsetX")&&(t.shadowOffsetX=r.textBoxShadowOffsetX),M9(r,"textBoxShadowOffsetY")&&(t.shadowOffsetY=r.textBoxShadowOffsetY)}function qF(t,r,i){t.textPosition=t.textPosition||i.position||"inside",null!=i.offset&&(t.textOffset=i.offset),null!=i.rotation&&(t.textRotation=i.rotation),null!=i.distance&&(t.textDistance=i.distance);var s=t.textPosition.indexOf("inside")>=0,u=t.fill||"#000";qU(t,r);var c=null==t.textFill;return s?c&&(t.textFill=i.insideFill||"#fff",!t.textStroke&&i.insideStroke&&(t.textStroke=i.insideStroke),t.textStroke||(t.textStroke=u),null==t.textStrokeWidth&&(t.textStrokeWidth=2)):(c&&(t.textFill=t.fill||i.outsideFill||"#000"),!t.textStroke&&i.outsideStroke&&(t.textStroke=i.outsideStroke)),t.text=r.text,t.rich=r.rich,Mw(r.rich,function(t){qU(t,t)}),t}function qU(t,r){if(!!r)M9(r,"fill")&&(t.textFill=r.fill),M9(r,"stroke")&&(t.textStroke=r.fill),M9(r,"lineWidth")&&(t.textStrokeWidth=r.lineWidth),M9(r,"font")&&(t.font=r.font),M9(r,"fontStyle")&&(t.fontStyle=r.fontStyle),M9(r,"fontWeight")&&(t.fontWeight=r.fontWeight),M9(r,"fontSize")&&(t.fontSize=r.fontSize),M9(r,"fontFamily")&&(t.fontFamily=r.fontFamily),M9(r,"align")&&(t.textAlign=r.align),M9(r,"verticalAlign")&&(t.textVerticalAlign=r.verticalAlign),M9(r,"lineHeight")&&(t.textLineHeight=r.lineHeight),M9(r,"width")&&(t.textWidth=r.width),M9(r,"height")&&(t.textHeight=r.height),M9(r,"backgroundColor")&&(t.textBackgroundColor=r.backgroundColor),M9(r,"padding")&&(t.textPadding=r.padding),M9(r,"borderColor")&&(t.textBorderColor=r.borderColor),M9(r,"borderWidth")&&(t.textBorderWidth=r.borderWidth),M9(r,"borderRadius")&&(t.textBorderRadius=r.borderRadius),M9(r,"shadowColor")&&(t.textBoxShadowColor=r.shadowColor),M9(r,"shadowBlur")&&(t.textBoxShadowBlur=r.shadowBlur),M9(r,"shadowOffsetX")&&(t.textBoxShadowOffsetX=r.shadowOffsetX),M9(r,"shadowOffsetY")&&(t.textBoxShadowOffsetY=r.shadowOffsetY),M9(r,"textShadowColor")&&(t.textShadowColor=r.textShadowColor),M9(r,"textShadowBlur")&&(t.textShadowBlur=r.textShadowBlur),M9(r,"textShadowOffsetX")&&(t.textShadowOffsetX=r.textShadowOffsetX),M9(r,"textShadowOffsetY")&&(t.textShadowOffsetY=r.textShadowOffsetY)}var qz={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},qG=MT(qz);MA(Ir,function(t,r){return t[r]=1,t},{}),Ir.join(", ");var qH=["","style","shape","extra"],qV=Dl();function qj(t,r,i,s,u){var c=t+"Animation",h=PQ(t,s,u)||{},f=qV(r).userDuring;return h.duration>0&&(h.during=f?ME(qQ,{el:r,userDuring:f}):null,h.setToFinal=!0,h.scope=t),Mg(h,i[c]),h}function qW(t,r,i,s){var u=(s=s||{}).dataIndex,c=s.isInit,h=s.clearStyle,f=i.isAnimationEnabled(),p=qV(t),v=r.style;p.userDuring=r.during;var y={},x={};if(function(t,r,i){for(var s=0;s<qG.length;s++){var u=qG[s],c=qz[u],h=r[u];h&&(i[c[0]]=h[0],i[c[1]]=h[1])}for(var s=0;s<Ir.length;s++){var f=Ir[s];null!=r[f]&&(i[f]=r[f])}}(t,r,x),q$("shape",r,x),q$("extra",r,x),!c&&f&&(function(t,r,i){for(var s=r.transition,u=qZ(s)?Ir:I8(s||[]),c=0;c<u.length;c++){var h=u[c];if("style"!==h&&"shape"!==h&&"extra"!==h){var f=t[h];i[h]=f}}}(t,r,y),qq("shape",t,r,y),qq("extra",t,r,y),function(t,r,i,s){if(!!i){var u,c=t.style;if(c){var h=i.transition,f=r.transition;if(h&&!qZ(h)){var p=I8(h);u||(u=s.style={});for(var v=0;v<p.length;v++){var y=p[v],x=c[y];u[y]=x}}else if(t.getAnimationStyleProps&&(qZ(f)||qZ(h)||My(f,"style")>=0)){var _=t.getAnimationStyleProps(),b=_?_.style:null;if(b){u||(u=s.style={});for(var w=MT(i),v=0;v<w.length;v++){var y=w[v];if(b[y]){var x=c[y];u[y]=x}}}}}}}(t,r,v,y)),x.style=v,function(t,r,i){var s=r.style;if(!t.isGroup&&s){if(i){t.useStyle({});for(var u=t.animators,c=0;c<u.length;c++){var h=u[c];"style"===h.targetName&&h.changeTarget(t.style)}}t.setStyle(s)}r&&(r.style=null,r&&t.attr(r),r.style=s)}(t,x,h),function(t,r){M9(r,"silent")&&(t.silent=r.silent),M9(r,"ignore")&&(t.ignore=r.ignore),t instanceof DK&&M9(r,"invisible")&&(t.invisible=r.invisible),t instanceof RL&&M9(r,"autoBatch")&&(t.autoBatch=r.autoBatch)}(t,r),f){if(c){var _={};Mw(qH,function(t){var i=t?r[t]:r;i&&i.enterFrom&&(t&&(_[t]=_[t]||{}),Mg(t?_[t]:_,i.enterFrom))});var b=qj("enter",t,r,i,u);b.duration>0&&t.animateFrom(_,b)}else(function(t,r,i,s,u){if(u){var c=qj("update",t,r,s,i);c.duration>0&&t.animateFrom(u,c)}})(t,r,u||0,i,y)}qX(t,r),v?t.dirty():t.markRedraw()}function qX(t,r){for(var i=qV(t).leaveToProps,s=0;s<qH.length;s++){var u=qH[s],c=u?r[u]:r;c&&c.leaveTo&&(!i&&(i=qV(t).leaveToProps={}),u&&(i[u]=i[u]||{}),Mg(u?i[u]:i,c.leaveTo))}}function qY(t,r,i,s){if(t){var u=t.parent,c=qV(t).leaveToProps;if(c){var h=qj("update",t,r,i,0);h.done=function(){u.remove(t),s&&s()},t.animateTo(c,h)}else u.remove(t),s&&s()}}function qZ(t){return"all"===t}var qK={},qJ={setTransform:function(t,r){return qK.el[t]=r,this},getTransform:function(t){return qK.el[t]},setShape:function(t,r){var i=qK.el;return(i.shape||(i.shape={}))[t]=r,i.dirtyShape&&i.dirtyShape(),this},getShape:function(t){var r=qK.el.shape;if(r)return r[t]},setStyle:function(t,r){var i=qK.el,s=i.style;return s&&(s[t]=r,i.dirtyStyle&&i.dirtyStyle()),this},getStyle:function(t){var r=qK.el.style;if(r)return r[t]},setExtra:function(t,r){return(qK.el.extra||(qK.el.extra={}))[t]=r,this},getExtra:function(t){var r=qK.el.extra;if(r)return r[t]}};function qQ(){var t=this.el;if(!!t){var r=qV(t).userDuring,i=this.userDuring;if(r!==i){this.el=this.userDuring=null;return}qK.el=t,i(qJ)}}function qq(t,r,i,s){var u,c=i[t];if(!!c){var h=r[t];if(h){var f=i.transition,p=c.transition;if(p){if(u||(u=s[t]={}),qZ(p))Mg(u,h);else{for(var v=I8(p),y=0;y<v.length;y++){var x=v[y],_=h[x];u[x]=_}}}else if(qZ(f)||My(f,t)>=0){u||(u=s[t]={});for(var b=MT(h),y=0;y<b.length;y++){var x=b[y],_=h[x];(function(t,r){return Mb(t)?t!==r:null!=t&&isFinite(t)})(c[x],_)&&(u[x]=_)}}}}}function q$(t,r,i){var s=r[t];if(!!s)for(var u=i[t]={},c=MT(s),h=0;h<c.length;h++){var f=c[h];u[f]=EL(s[f])}}var q0=Dl(),q1=["percent","easing","shape","style","extra"];function q2(t){t.stopAnimation("keyframe"),t.attr(q0(t))}function q3(t,r,i){if(!i.isAnimationEnabled()||!r)return;if(MD(r)){Mw(r,function(r){q3(t,r,i)});return}var s=r.keyframes,u=r.duration;if(i&&null==u){var c=PQ("enter",i,0);u=c&&c.duration}if(!!s&&!!u){var h=q0(t);Mw(qH,function(i){var c;if(i&&!t[i])return;if(s.sort(function(t,r){return t.percent-r.percent}),Mw(s,function(s){var f=t.animators,p=i?s[i]:s;if(!p)return;var v=MT(p);if(!i&&(v=MM(v,function(t){return 0>My(q1,t)})),!!v.length){!c&&((c=t.animate(i,r.loop,!0)).scope="keyframe");for(var y=0;y<f.length;y++)f[y]!==c&&f[y].targetName===c.targetName&&f[y].stopTracks(v);i&&(h[i]=h[i]||{});var x=i?h[i]:h;Mw(v,function(r){x[r]=((i?t[i]:t)||{})[r]}),c.whenWithKeys(u*s.percent,p,v,s.easing)}}),!!c)c.delay(r.delay||0).duration(u).start(r.easing)})}}var q5="emphasis",q4="normal",q9="blur",q8="select",q6=[q4,q5,q9,q8],q7={normal:["itemStyle"],emphasis:[q5,"itemStyle"],blur:[q9,"itemStyle"],select:[q8,"itemStyle"]},$e={normal:["label"],emphasis:[q5,"label"],blur:[q9,"label"],select:[q8,"label"]},$t=["x","y"],$n={normal:{},emphasis:{},blur:{},select:{}},$r={cartesian2d:function(t){var r=t.master.getRect();return{coordSys:{type:"cartesian2d",x:r.x,y:r.y,width:r.width,height:r.height},api:{coord:function(r){return t.dataToPoint(r)},size:ME(qR,t)}}},geo:function(t){var r=t.getBoundingRect();return{coordSys:{type:"geo",x:r.x,y:r.y,width:r.width,height:r.height,zoom:t.getZoom()},api:{coord:function(r){return t.dataToPoint(r)},size:ME(qP,t)}}},single:function(t){var r=t.getRect();return{coordSys:{type:"singleAxis",x:r.x,y:r.y,width:r.width,height:r.height},api:{coord:function(r){return t.dataToPoint(r)},size:ME(qL,t)}}},polar:function(t){var r=t.getRadiusAxis(),i=t.getAngleAxis(),s=r.getExtent();return s[0]>s[1]&&s.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:s[1],r0:s[0]},api:{coord:function(s){var u=r.dataToRadius(s[0]),c=i.dataToAngle(s[1]),h=t.coordToPoint([u,c]);return h.push(u,c*Math.PI/180),h},size:ME(qB,t)}}},calendar:function(t){var r=t.getRect(),i=t.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(r,i){return t.dataToPoint(r,i)}}}}};function $i(t){return t instanceof RL}function $a(t){return t instanceof DK}var $o=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i,s){this._progressiveEls=null;var u=this._data,c=t.getData(),h=this.group,f=$c(t,c,r,i);!u&&h.removeAll(),c.diff(u).add(function(r){$h(i,null,r,f(r,s),t,h,c)}).remove(function(r){var i=u.getItemGraphicEl(r);i&&qY(i,qI(i).option,t)}).update(function(r,p){$h(i,u.getItemGraphicEl(p),r,f(r,s),t,h,c)}).execute();var p=t.get("clip",!0)?jh(t.coordinateSystem,!1,t):null;p?h.setClipPath(p):h.removeClipPath(),this._data=c},r.prototype.incrementalPrepareRender=function(t,r,i){this.group.removeAll(),this._data=null},r.prototype.incrementalRender=function(t,r,i,s,u){var c=r.getData(),h=$c(r,c,i,s),f=this._progressiveEls=[];function p(t){!t.isGroup&&(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var v=t.start;v<t.end;v++){var y=$h(null,null,v,h(v,u),r,this.group,c);y&&(y.traverse(p),f.push(y))}},r.prototype.eachRendered=function(t){Fu(this._progressiveEls||this.group,t)},r.prototype.filterForExposedEvent=function(t,r,i,s){var u=r.element;if(null==u||i.name===u)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===u)return!0;return!1},r.type="custom",r}(Fy);function $s(t){var r,i=t.type;if("path"===i){var s=t.shape,u=null!=s.width&&null!=s.height?{x:s.x||0,y:s.y||0,width:s.width,height:s.height}:null,c=$_(s);qI(r=Nq(c,null,u,s.layout||"center")).customPathData=c}else if("image"===i)qI(r=new RU({})).customImagePath=t.style.image;else if("text"===i)r=new R7({});else if("group"===i)r=new IS;else if("compoundPath"===i)throw Error('"compoundPath" is not supported yet.');else{var h=NQ(i);!h&&kU(""),r=new h}return qI(r).customGraphicType=i,r.name=t.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function $l(t,r,i,s,u,c,h){q2(r);var f=u&&u.normal.cfg;f&&r.setTextConfig(f),s&&null==s.transition&&(s.transition=$t);var p=s&&s.style;if(p){"text"===r.type&&(M9(p,"textFill")&&(p.fill=p.textFill),M9(p,"textStroke")&&(p.stroke=p.textStroke));var v=void 0,y=$i(r)?p.decal:null;t&&y&&(y.dirty=!0,v=UB(y,t)),p.__decalPattern=v}if($a(r)&&p){var v=p.__decalPattern;v&&(p.decal=v)}qW(r,s,c,{dataIndex:i,isInit:h,clearStyle:!0}),q3(r,s.keyframeAnimation,c)}function $u(t,r,i,s,u){var c=r.isGroup?null:r,h=u&&u[t].cfg;if(c){var f=c.ensureState(t);if(!1===s){var p=c.getState(t);p&&(p.style=null)}else f.style=s||null;h&&(f.textConfig=h),PM(c)}}function $c(t,r,i,s){var u,c,h=t.get("renderItem"),f=t.coordinateSystem,p={};f&&(p=f.prepareCustoms?f.prepareCustoms(f):$r[f.type](f));for(var v=Mm({getWidth:s.getWidth,getHeight:s.getHeight,getZr:s.getZr,getDevicePixelRatio:s.getDevicePixelRatio,value:function(t,i){return null==i&&(i=u),r.getStore().get(r.getDimensionIndex(t||0),i)},style:function(i,s){null==s&&(s=u);var c=r.getItemVisual(s,"style"),h=c&&c.fill,f=c&&c.opacity,p=C(s,q4).getItemStyle();null!=h&&(p.fill=h),null!=f&&(p.opacity=f);var v={inheritColor:MP(h)?h:"#000"},y=T(s,q4),x=Lt(y,null,v,!1,!0);x.text=y.getShallow("show")?Mj(t.getFormattedLabel(s,q4),V1(r,s)):null;var _=Ln(y,v,!1);return D(i,p),p=qF(p,x,_),i&&I(p,i),p.legacy=!0,p},ordinalRawValue:function(t,i){null==i&&(i=u),t=t||0;var s=r.getDimensionInfo(t);if(!s){var c=r.getDimensionIndex(t);return c>=0?r.getStore().get(c,i):void 0}var h=r.get(s.name,i),f=s&&s.ordinalMeta;return f?f.categories[h]:h},styleEmphasis:function(i,s){null==s&&(s=u);var c=C(s,q5).getItemStyle(),h=T(s,q5),f=Lt(h,null,null,!0,!0);f.text=h.getShallow("show")?MW(t.getFormattedLabel(s,q5),t.getFormattedLabel(s,q4),V1(r,s)):null;var p=Ln(h,null,!0);return D(i,c),c=qF(c,f,p),i&&I(c,i),c.legacy=!0,c},visual:function(t,i){if(null==i&&(i=u),M9(qT,t)){var s=r.getItemVisual(i,"style");return s?s[qT[t]]:null}if(M9(qE,t))return r.getItemVisual(i,t)},barLayout:function(t){if("cartesian2d"===f.type)return function(t){var r=[],i=t.axis,s="axis0";if("category"===i.type){for(var u=i.getBandWidth(),c=0;c<t.count;c++)r.push(Mm({bandWidth:u,axisKey:s,stackId:Gg+c},t));for(var h=G_(r),f=[],c=0;c<t.count;c++){var p=h[s][Gg+c];p.offsetCenter=p.offset+p.width/2,f.push(p)}return f}}(Mm({axis:f.getBaseAxis()},t))},currentSeriesIndices:function(){return i.getCurrentSeriesIndices()},font:function(t){return Ls(t,i)}},p.api||{}),y={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:p.coordSys,dataInsideLength:r.count(),encode:function(t){var r={};return Mw(t.dimensions,function(i){var s=t.getDimensionInfo(i);if(!s.isExtraCoord){var u=s.coordDim;(r[u]=r[u]||[])[s.coordDimIndex]=t.getDimensionIndex(i)}}),r}(t.getData())},x={},_={},b={},w={},S=0;S<q6.length;S++){var A=q6[S];b[A]=t.getModel(q7[A]),w[A]=t.getModel($e[A])}function M(t){return t===u?c||(c=r.getItemModel(t)):r.getItemModel(t)}function C(t,i){return r.hasItemOption?t===u?x[i]||(x[i]=M(t).getModel(q7[i])):M(t).getModel(q7[i]):b[i]}function T(t,i){return r.hasItemOption?t===u?_[i]||(_[i]=M(t).getModel($e[i])):M(t).getModel($e[i]):w[i]}return function(t,i){return u=t,c=null,x={},_={},h&&h(Mm({dataIndexInside:t,dataIndex:r.getRawIndex(t),actionType:i?i.type:null},y),v)};function I(t,r){for(var i in r)M9(r,i)&&(t[i]=r[i])}function D(t,r){t&&(t.textFill&&(r.textFill=t.textFill),t.textPosition&&(r.textPosition=t.textPosition))}}function $h(t,r,i,s,u,c,h){if(!s){c.remove(r);return}var f=$d(t,r,i,s,u,c);return f&&h.setItemGraphicEl(i,f),f&&PG(f,s.focus,s.blurScope,s.emphasisDisabled),f}function $d(t,r,i,s,u,c){var h,f,p=-1,v=r;r&&$f(r,s,u)&&(p=My(c.childrenRef(),r),r=null);var y=!r,x=r;if(x)x.clearStates();else if(x=$s(s),v){;h=v,(f=x).copyTransform(h),$a(f)&&$a(h)&&(f.setStyle(h.style),f.z=h.z,f.z2=h.z2,f.zlevel=h.zlevel,f.invisible=h.invisible,f.ignore=h.ignore,$i(f)&&$i(h)&&f.setShape(h.shape))}!1===s.morph?x.disableMorphing=!0:x.disableMorphing&&(x.disableMorphing=!1),$n.normal.cfg=$n.normal.conOpt=$n.emphasis.cfg=$n.emphasis.conOpt=$n.blur.cfg=$n.blur.conOpt=$n.select.cfg=$n.select.conOpt=null,$n.isLegacy=!1,function(t,r,i,s,u,c){if(!t.isGroup){$p(i,null,c),$p(i,q5,c);var h=c.normal.conOpt,f=c.emphasis.conOpt,p=c.blur.conOpt,v=c.select.conOpt;if(null!=h||null!=f||null!=v||null!=p){var y=t.getTextContent();if(!1===h)y&&t.removeTextContent();else{h=c.normal.conOpt=h||{type:"text"},y?y.clearStates():(y=$s(h),t.setTextContent(y)),$l(null,y,r,h,null,s,u);for(var x=h&&h.style,_=0;_<q6.length;_++){var b=q6[_];if(b!==q4){var w=c[b].conOpt;$u(b,y,w,$m(h,w,b),null)}}x?y.dirty():y.markRedraw()}}}}(x,i,s,u,y,$n),function(t,r,i,s,u){var c=i.clipPath;if(!1===c)t&&t.getClipPath()&&t.removeClipPath();else if(c){var h=t.getClipPath();if(h&&$f(h,c,s)&&(h=null),!h){h=$s(c);t.setClipPath(h)}$l(null,h,r,c,null,s,u)}}(x,i,s,u,y),$l(t,x,i,s,$n,u,y),M9(s,"info")&&(qI(x).info=s.info);for(var _=0;_<q6.length;_++){var b=q6[_];if(b!==q4){var w=$g(s,b),S=$m(s,w,b);$u(b,x,w,S,$n)}}return!function(t,r,i){if(!t.isGroup){var s=i.currentZ,u=i.currentZLevel;t.z=s,t.zlevel=u;var c=r.z2;null!=c&&(t.z2=c||0);for(var h=0;h<q6.length;h++)(function(t,r,i){var s=i===q4,u=s?r:$g(r,i),c=u?u.z2:null;null!=c&&((s?t:t.ensureState(i)).z2=c||0)})(t,r,q6[h])}}(x,s,u),"group"===s.type&&function(t,r,i,s,u){var c=s.children,h=c?c.length:0,f=s.$mergeChildren,p="byName"===f||s.diffChildrenByName,v=!1===f;if(!!h||!!p||!!v){if(p){(function(t){new zk(t.oldChildren,t.newChildren,$v,$v,t).add($y).update($y).remove($x).execute()})({api:t,oldChildren:r.children()||[],newChildren:c||[],dataIndex:i,seriesModel:u,group:r});return}v&&r.removeAll();for(var y=0;y<h;y++){var x=c[y],_=r.childAt(y);x?(null==x.ignore&&(x.ignore=!1),$d(t,_,i,x,u,r)):_.ignore=!0}for(var b=r.childCount()-1;b>=y;b--){var w=r.childAt(b);(function(t,r,i){r&&qY(r,qI(t).option,i)})(r,w,u)}}}(t,x,i,s,u),p>=0?c.replaceAt(x,p):c.add(x),x}function $f(t,r,i){var s=qI(t),u=r.type,c=r.shape,h=r.style;return i.isUniversalTransitionEnabled()||null!=u&&u!==s.customGraphicType||"path"===u&&function(t){return t&&(M9(t,"pathData")||M9(t,"d"))}(c)&&$_(c)!==s.customPathData||"image"===u&&M9(h,"image")&&h.image!==s.customImagePath}function $p(t,r,i){var s=r?$g(t,r):t,u=r?$m(t,s,q5):t.style,c=t.type,h=s?s.textConfig:null,f=t.textContent,p=f?r?$g(f,r):f:null;if(u&&(i.isLegacy||qk(u,c,!!h,!!p))){i.isLegacy=!0;var v=qO(u,c,!r);!h&&v.textConfig&&(h=v.textConfig),!p&&v.textContent&&(p=v.textContent)}if(!r&&p){var y=p;y.type||(y.type="text")}var x=r?i[r]:i.normal;x.cfg=h,x.conOpt=p}function $g(t,r){return r?t?t[r]:null:t}function $m(t,r,i){var s=r&&r.style;return null==s&&i===q5&&t&&(s=t.styleEmphasis),s}function $v(t,r){var i=t&&t.name;return null!=i?i:"e\0\0"+r}function $y(t,r){var i=this.context,s=null!=t?i.newChildren[t]:null,u=null!=r?i.oldChildren[r]:null;$d(i.api,u,i.dataIndex,s,i.seriesModel,i.group)}function $x(t){var r=this.context,i=r.oldChildren[t];i&&qY(i,qI(i).option,r.seriesModel)}function $_(t){return t&&(t.pathData||t.d)}var $b=Dl(),$w=Md,$S=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,r,i,s){var u=r.get("value"),c=r.get("status");if(this._axisModel=t,this._axisPointerModel=r,this._api=i,!!s||this._lastValue!==u||this._lastStatus!==c){this._lastValue=u,this._lastStatus=c;var h=this._group,f=this._handle;if(!c||"hide"===c){h&&h.hide(),f&&f.hide();return}h&&h.show(),f&&f.show();var p={};this.makeElOption(p,u,t,r,i);var v=p.graphicKey;v!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=v;var y=this._moveAnimation=this.determineAnimation(t,r);if(h){var x=MI($A,r,y);this.updatePointerEl(h,p,x),this.updateLabelEl(h,p,x,r)}else h=this._group=new IS,this.createPointerEl(h,p,t,r),this.createLabelEl(h,p,t,r),i.getZr().add(h);$T(h,r,!0),this._renderHandle(u)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,r){var i=r.get("animation"),s=t.axis,u="category"===s.type,c=r.get("snap");if(!c&&!u)return!1;if("auto"===i||null==i){var h=this.animationThreshold;if(u&&s.getBandWidth()>h)return!0;if(c){var f=WH(t).seriesDataCount,p=s.getExtent();return Math.abs(p[0]-p[1])/f>h}return!1}return!0===i},t.prototype.makeElOption=function(t,r,i,s,u){},t.prototype.createPointerEl=function(t,r,i,s){var u=r.pointer;if(u){var c=$b(t).pointerEl=new eu[u.type]($w(r.pointer));t.add(c)}},t.prototype.createLabelEl=function(t,r,i,s){if(r.label){var u=$b(t).labelEl=new R7($w(r.label));t.add(u),$M(u,s)}},t.prototype.updatePointerEl=function(t,r,i){var s=$b(t).pointerEl;s&&r.pointer&&(s.setStyle(r.pointer.style),i(s,{shape:r.pointer.shape}))},t.prototype.updateLabelEl=function(t,r,i,s){var u=$b(t).labelEl;u&&(u.setStyle(r.label.style),i(u,{x:r.label.x,y:r.label.y}),$M(u,s))},t.prototype._renderHandle=function(t){if(!this._dragging&&!!this.updateHandleTransform){var r,i=this._axisPointerModel,s=this._api.getZr(),u=this._handle,c=i.getModel("handle"),h=i.get("status");if(!c.get("show")||!h||"hide"===h){u&&s.remove(u),this._handle=null;return}!this._handle&&(r=!0,u=this._handle=Fr(c.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){CW(t.event)},onmousedown:ME(this._onHandleDragMove,this,0,0),drift:ME(this._onHandleDragMove,this),ondragend:ME(this._onHandleDragEnd,this)}),s.add(u)),$T(u,i,!1),u.setStyle(c.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var f=c.get("size");!MD(f)&&(f=[f,f]),u.scaleX=f[0]/2,u.scaleY=f[1]/2,FS(this,"_doDispatchAxisPointer",c.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,r)}},t.prototype._moveHandleToValue=function(t,r){$A(this._axisPointerModel,!r&&this._moveAnimation,this._handle,$C(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,r){var i=this._handle;if(!!i){this._dragging=!0;var s=this.updateHandleTransform($C(i),[t,r],this._axisModel,this._axisPointerModel);this._payloadInfo=s,i.stopAnimation(),i.attr($C(s)),$b(i).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(!!this._handle){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,!!this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var r=t.getZr(),i=this._group,s=this._handle;r&&i&&(this._lastGraphicKey=null,i&&r.remove(i),s&&r.remove(s),this._group=null,this._handle=null,this._payloadInfo=null),FA(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,r,i){return{x:t[i=i||0],y:t[1-i],width:r[i],height:r[1-i]}},t}();function $A(t,r,i,s){!function t(r,i){if(!(Mk(r)&&Mk(i)))return r===i;var s=!0;return Mw(i,function(i,u){s=s&&t(r[u],i)}),!!s}($b(i).lastProp,s)&&($b(i).lastProp=s,r?P$(i,s,t):(i.stopAnimation(),i.attr(s)))}function $M(t,r){t[r.get(["label","show"])?"show":"hide"]()}function $C(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function $T(t,r,i){var s=r.get("z"),u=r.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=s&&(t.z=s),null!=u&&(t.zlevel=u),t.silent=i)})}function $E(t){var r,i=t.get("type"),s=t.getModel(i+"Style");return"line"===i?(r=s.getLineStyle()).fill=null:"shadow"===i&&((r=s.getAreaStyle()).stroke=null),r}function $I(t,r,i,s,u){var c=$D(i.get("value"),r.axis,r.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),h=i.getModel("label"),f=L9(h.get("padding")||0),p=h.getFont(),v=Il(c,p),y=u.position,x=v.width+f[1]+f[3],_=v.height+f[0]+f[2],b=u.align;"right"===b&&(y[0]-=x),"center"===b&&(y[0]-=x/2);var w=u.verticalAlign;"bottom"===w&&(y[1]-=_),"middle"===w&&(y[1]-=_/2),function(t,r,i,s){var u=s.getWidth(),c=s.getHeight();t[0]=Math.min(t[0]+r,u)-r,t[1]=Math.min(t[1]+i,c)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(y,x,_,s);var S=h.get("backgroundColor");(!S||"auto"===S)&&(S=r.get(["axisLine","lineStyle","color"])),t.label={x:y[0],y:y[1],style:Lt(h,{text:c,font:p,fill:h.getTextColor(),padding:f,backgroundColor:S}),z2:10}}function $D(t,r,i,s,u){t=r.scale.parse(t);var c=r.scale.getLabel({value:t},{precision:u.precision}),h=u.formatter;if(h){var f={value:GY(r,{value:t}),axisDimension:r.dim,axisIndex:r.index,seriesData:[]};Mw(s,function(t){var r=i.getSeriesByIndex(t.seriesIndex),s=t.dataIndexInside,u=r&&r.getDataParams(s);u&&f.seriesData.push(u)}),MP(h)?c=h.replace("{value}",c):MR(h)&&(c=h(f))}return c}function $R(t,r,i){var s=CJ();return C1(s,s,i.rotation),C0(s,s,i.position),N8([t.dataToCoord(r),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],s)}function $P(t,r,i,s,u,c){var h=Wk.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=u.get(["label","margin"]),$I(r,s,u,c,{position:$R(s.axis,t,i),align:h.textAlign,verticalAlign:h.textVerticalAlign})}function $L(t,r,i){return{x1:t[i=i||0],y1:t[1-i],x2:r[i],y2:r[1-i]}}function $B(t,r,i){return{x:t[i=i||0],y:t[1-i],width:r[i],height:r[1-i]}}function $k(t,r,i,s,u,c){return{cx:t,cy:r,r0:i,r:s,startAngle:u,endAngle:c,clockwise:!0}}var $O=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.makeElOption=function(t,r,i,s,u){var c=i.axis,h=c.grid,f=s.get("type"),p=$N(h,c).getOtherAxis(c).getGlobalExtent(),v=c.toGlobalCoord(c.dataToCoord(r,!0));if(f&&"none"!==f){var y=$E(s),x=$F[f](c,v,p);x.style=y,t.graphicKey=x.type,t.pointer=x}$P(r,t,WM(h.model,i),i,s,u)},r.prototype.getHandleTransform=function(t,r,i){var s=WM(r.axis.grid.model,r,{labelInside:!1});s.labelMargin=i.get(["handle","margin"]);var u=$R(r.axis,t,s);return{x:u[0],y:u[1],rotation:s.rotation+(s.labelDirection<0?Math.PI:0)}},r.prototype.updateHandleTransform=function(t,r,i,s){var u=i.axis,c=u.grid,h=u.getGlobalExtent(!0),f=$N(c,u).getOtherAxis(u).getGlobalExtent(),p="x"===u.dim?0:1,v=[t.x,t.y];v[p]+=r[p],v[p]=Math.min(h[1],v[p]),v[p]=Math.max(h[0],v[p]);var y=(f[1]+f[0])/2,x=[y,y];return x[p]=v[p],{x:v[0],y:v[1],rotation:t.rotation,cursorPoint:x,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][p]}},r}($S);function $N(t,r){var i={};return i[r.dim+"AxisIndex"]=r.index,t.getCartesian(i)}var $F={line:function(t,r,i){return{type:"Line",subPixelOptimize:!0,shape:$L([r,i[0]],[r,i[1]],$U(t))}},shadow:function(t,r,i){var s=Math.max(1,t.getBandWidth()),u=i[1]-i[0];return{type:"Rect",shape:$B([r-s/2,i[0]],[s,u],$U(t))}}};function $U(t){return"x"===t.dim?0:1}var $z=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="axisPointer",r.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},r}(By),$G=Dl();function $H(t,r,i){if(!A2.node){var s=r.getZr();$G(s).records||($G(s).records={}),function(t,r){if(!$G(t).initialized)$G(t).initialized=!0,i("click",MI($j,"click")),i("mousemove",MI($j,"mousemove")),i("globalout",$V);function i(i,s){t.on(i,function(i){var u=function(t){var r={showTip:[],hideTip:[]},i=function(s){var u=r[s.type];u?u.push(s):(s.dispatchAction=i,t.dispatchAction(s))};return{dispatchAction:i,pendings:r}}(r);Mw($G(t).records,function(t){t&&s(t,i,u.dispatchAction)}),function(t,r){var i,s=t.showTip.length,u=t.hideTip.length;s?i=t.showTip[s-1]:u&&(i=t.hideTip[u-1]),i&&(i.dispatchAction=null,r.dispatchAction(i))}(u.pendings,r)})}}(s,r),($G(s).records[t]||($G(s).records[t]={})).handler=i}}function $V(t,r,i){t.handler("leave",null,i)}function $j(t,r,i,s){r.handler(t,i,s)}function $W(t,r){if(!A2.node){var i=r.getZr();($G(i).records||{})[t]&&($G(i).records[t]=null)}}var $X=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){var s=r.getComponent("tooltip"),u=t.get("triggerOn")||s&&s.get("triggerOn")||"mousemove|click";$H("axisPointer",i,function(t,r,i){"none"!==u&&("leave"===t||u.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:r&&r.offsetX,y:r&&r.offsetY})})},r.prototype.remove=function(t,r){$W("axisPointer",r)},r.prototype.dispose=function(t,r){$W("axisPointer",r)},r.type="axisPointer",r}(OL);function $Y(t,r){var i,s=[],u=t.seriesIndex;if(null==u||!(i=r.getSeriesByIndex(u)))return{point:[]};var c=i.getData(),h=Ds(c,t);if(null==h||h<0||MD(h))return{point:[]};var f=c.getItemGraphicEl(h),p=i.coordinateSystem;if(i.getTooltipPosition)s=i.getTooltipPosition(h)||[];else if(p&&p.dataToPoint){if(t.isStacked){var v=p.getBaseAxis(),y=p.getOtherAxis(v).dim,x=v.dim,_="x"===y||"radius"===y?1:0,b=c.mapDimension(x),w=[];w[_]=c.get(b,h),w[1-_]=c.get(c.getCalculationInfo("stackResultDimension"),h),s=p.dataToPoint(w)||[]}else s=p.dataToPoint(c.getValues(MS(p.dimensions,function(t){return c.mapDimension(t)}),h))||[]}else if(f){var S=f.getBoundingRect().clone();S.applyTransform(f.transform),s=[S.x+S.width/2,S.y+S.height/2]}return{point:s,el:f}}var $Z=Dl();function $K(t,r,i){var s=t.currTrigger,u=[t.x,t.y],c=t.dispatchAction||ME(i.dispatchAction,i),h=r.getComponent("axisPointer").coordSysAxesInfo;if(!!h){$0(u)&&(u=$Y({seriesIndex:t.seriesIndex,dataIndex:t.dataIndex},r).point);var f=$0(u),p=t.axesInfo,v=h.axesInfo,y="leave"===s||$0(u),x={},_={},b={list:[],map:{}},w={showPointer:MI($Q,_),showTooltip:MI($q,b)};Mw(h.coordSysMap,function(t,r){var i=f||t.containPoint(u);Mw(h.coordSysAxesInfo[r],function(t,r){var s=t.axis,c=function(t,r){for(var i=0;i<(t||[]).length;i++){var s=t[i];if(r.axis.dim===s.axisDim&&r.axis.model.componentIndex===s.axisIndex)return s}}(p,t);if(!y&&i&&(!p||c)){var h=c&&c.value;null==h&&!f&&(h=s.pointToData(u)),null!=h&&$J(t,h,w,!1,x)}})});var S={};return Mw(v,function(t,r){var i=t.linkGroup;i&&!_[r]&&Mw(i.axesInfo,function(r,s){var u=_[s];if(r!==t&&u){var c=u.value;i.mapper&&(c=t.axis.scale.parse(i.mapper(c,$$(r),$$(t)))),S[t.key]=c}})}),Mw(S,function(t,r){$J(v[r],t,w,!0,x)}),function(t,r,i){var s=i.axesInfo=[];Mw(r,function(r,i){var u=r.axisPointerModel.option,c=t[i];c?(r.useHandle||(u.status="show"),u.value=c.value,u.seriesDataIndices=(c.payloadBatch||[]).slice()):r.useHandle||(u.status="hide"),"show"===u.status&&s.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:u.value})})}(_,v,x),function(t,r,i,s){if($0(r)||!t.list.length){s({type:"hideTip"});return}var u=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};s({type:"showTip",escapeConnect:!0,x:r[0],y:r[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:u.dataIndexInside,dataIndex:u.dataIndex,seriesIndex:u.seriesIndex,dataByCoordSys:t.list})}(b,u,t,c),function(t,r,i){var s=i.getZr(),u="axisPointerLastHighlights",c=$Z(s)[u]||{},h=$Z(s)[u]={};Mw(t,function(t,r){var i=t.axisPointerModel.option;"show"===i.status&&t.triggerEmphasis&&Mw(i.seriesDataIndices,function(t){h[t.seriesIndex+" | "+t.dataIndex]=t})});var f=[],p=[];Mw(c,function(t,r){h[r]||p.push(t)}),Mw(h,function(t,r){c[r]||f.push(t)}),p.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:p}),f.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:f})}(v,c,i),x}}function $J(t,r,i,s,u){var c=t.axis;if(!c.scale.isBlank()&&!!c.containData(r)){if(!t.involveSeries){i.showPointer(t,r);return}var h=function(t,r){var i=r.axis,s=i.dim,u=t,c=[],h=Number.MAX_VALUE,f=-1;return Mw(r.seriesModels,function(r,p){var v,y,x=r.getData().mapDimensionsAll(s);if(r.getAxisTooltipData){var _=r.getAxisTooltipData(x,t,i);y=_.dataIndices,v=_.nestestValue}else{if(!(y=r.getData().indicesOfNearest(x[0],t,"category"===i.type?.5:null)).length)return;v=r.getData().get(x[0],y[0])}if(null!=v&&!!isFinite(v)){var b=t-v,w=Math.abs(b);w<=h&&((w<h||b>=0&&f<0)&&(h=w,f=b,u=v,c.length=0),Mw(y,function(t){c.push({seriesIndex:r.seriesIndex,dataIndexInside:t,dataIndex:r.getData().getRawIndex(t)})}))}}),{payloadBatch:c,snapToValue:u}}(r,t),f=h.payloadBatch,p=h.snapToValue;f[0]&&null==u.seriesIndex&&Mg(u,f[0]),!s&&t.snap&&c.containData(p)&&null!=p&&(r=p),i.showPointer(t,r,f),i.showTooltip(t,h,p)}}function $Q(t,r,i,s){t[r.key]={value:i,payloadBatch:s}}function $q(t,r,i,s){var u=i.payloadBatch,c=r.axis,h=c.model,f=r.axisPointerModel;if(!!r.triggerTooltip&&!!u.length){var p=r.coordSys.model,v=Wj(p),y=t.map[v];!y&&(y=t.map[v]={coordSysId:p.id,coordSysIndex:p.componentIndex,coordSysType:p.type,coordSysMainType:p.mainType,dataByAxis:[]},t.list.push(y)),y.dataByAxis.push({axisDim:c.dim,axisIndex:h.componentIndex,axisType:h.type,axisId:h.id,value:s,valueLabelOpt:{precision:f.get(["label","precision"]),formatter:f.get(["label","formatter"])},seriesDataIndices:u.slice()})}}function $$(t){var r=t.axis.model,i={},s=i.axisDim=t.axis.dim;return i.axisIndex=i[s+"AxisIndex"]=r.componentIndex,i.axisName=i[s+"AxisName"]=r.name,i.axisId=i[s+"AxisId"]=r.id,i}function $0(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function $1(t){WX.registerAxisPointerClass("CartesianAxisPointer",$O),t.registerComponentModel($z),t.registerComponentView($X),t.registerPreprocessor(function(t){if(t){t.axisPointer&&0!==t.axisPointer.length||(t.axisPointer={});var r=t.axisPointer.link;r&&!MD(r)&&(t.axisPointer.link=[r])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(t,r){var i,s;t.getComponent("axisPointer").coordSysAxesInfo=(function(t,r,i){var s=r.getComponent("tooltip"),u=r.getComponent("axisPointer"),c=u.get("link",!0)||[],h=[];Mw(i.getCoordinateSystems(),function(i){if(!!i.axisPointerEnabled){var f=Wj(i.model),p=t.coordSysAxesInfo[f]={};t.coordSysMap[f]=i;var v=i.model.getModel("tooltip",s);if(Mw(i.getAxes(),MI(b,!1,null)),i.getTooltipAxes&&s&&v.get("show")){var y="axis"===v.get("trigger"),x="cross"===v.get(["axisPointer","type"]),_=i.getTooltipAxes(v.get(["axisPointer","axis"]));(y||x)&&Mw(_.baseAxes,MI(b,!x||"cross",y)),x&&Mw(_.otherAxes,MI(b,"cross",!1))}}function b(s,f,y){var x=y.model.getModel("axisPointer",u),_=x.get("show");if(!!_&&("auto"!==_||!!s||!!WV(x))){null==f&&(f=x.get("triggerTooltip"));var b=(x=s?function(t,r,i,s,u,c){var h=r.getModel("axisPointer"),f={};Mw(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){f[t]=Md(h.get(t))}),f.snap="category"!==t.type&&!!c,"cross"===h.get("type")&&(f.type="line");var p=f.label||(f.label={});if(null==p.show&&(p.show=!1),"cross"===u){var v=h.get(["label","show"]);if(p.show=null==v||v,!c){var y=f.lineStyle=h.get("crossStyle");y&&Mm(p,y.textStyle)}}return t.model.getModel("axisPointer",new Lw(f,i,s))}(y,v,u,r,s,f):x).get("snap"),w=x.get("triggerEmphasis"),S=Wj(y.model),A=f||b||"category"===y.type,M=t.axesInfo[S]={key:S,axis:y,coordSys:i,axisPointerModel:x,triggerTooltip:f,triggerEmphasis:w,involveSeries:A,snap:b,useHandle:WV(x),seriesModels:[],linkGroup:null};p[S]=M,t.seriesInvolved=t.seriesInvolved||A;var C=function(t,r){for(var i=r.model,s=r.dim,u=0;u<t.length;u++){var c=t[u]||{};if(WG(c[s+"AxisId"],i.id)||WG(c[s+"AxisIndex"],i.componentIndex)||WG(c[s+"AxisName"],i.name))return u}}(c,y);if(null!=C){var T=h[C]||(h[C]={axesInfo:{}});T.axesInfo[S]=M,T.mapper=c[C].mapper,M.linkGroup=T}}}})}(s={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}},i=t,r),s.seriesInvolved&&function(t,r){r.eachSeries(function(r){var i=r.coordinateSystem,s=r.get(["tooltip","trigger"],!0),u=r.get(["tooltip","show"],!0);if(!!i&&"none"!==s&&!1!==s&&"item"!==s&&!1!==u&&!1!==r.get(["axisPointer","show"],!0))Mw(t.coordSysAxesInfo[Wj(i.model)],function(t){var s=t.axis;i.getAxis(s.dim)===s&&(t.seriesModels.push(r),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=r.getData().count())})})}(s,i),s)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},$K)}var $2=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.makeElOption=function(t,r,i,s,u){var c=i.axis;"angle"===c.dim&&(this.animationThreshold=Math.PI/18);var h=c.polar,f=h.getOtherAxis(c).getExtent(),p=c.dataToCoord(r),v=s.get("type");if(v&&"none"!==v){var y=$E(s),x=$3[v](c,h,p,f);x.style=y,t.graphicKey=x.type,t.pointer=x}var _=s.get(["label","margin"]),b=function(t,r,i,s,u){var c,h,f,p=r.axis,v=p.dataToCoord(t),y=s.getAngleAxis().getExtent()[0];y=y/180*Math.PI;var x=s.getRadiusAxis().getExtent();if("radius"===p.dim){var _=CJ();C1(_,_,y),C0(_,_,[s.cx,s.cy]),c=N8([v,-u],_);var b=r.getModel("axisLabel").get("rotate")||0,w=Wk.innerTextLayout(y,b*Math.PI/180,-1);h=w.textAlign,f=w.textVerticalAlign}else{var S=x[1];c=s.coordToPoint([S+u,v]);var A=s.cx,M=s.cy;h=Math.abs(c[0]-A)/S<.3?"center":c[0]>A?"left":"right",f=Math.abs(c[1]-M)/S<.3?"middle":c[1]>M?"top":"bottom"}return{position:c,align:h,verticalAlign:f}}(r,i,s,h,_);$I(t,i,s,u,b)},r}($S),$3={line:function(t,r,i,s){return"angle"===t.dim?{type:"Line",shape:$L(r.coordToPoint([s[0],i]),r.coordToPoint([s[1],i]))}:{type:"Circle",shape:{cx:r.cx,cy:r.cy,r:i}}},shadow:function(t,r,i,s){var u=Math.max(1,t.getBandWidth()),c=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:$k(r.cx,r.cy,s[0],s[1],(-i-u/2)*c,(-i+u/2)*c)}:{type:"Sector",shape:$k(r.cx,r.cy,i-u/2,i+u/2,0,2*Math.PI)}}},$5=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.findAxisModel=function(t){var r;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(r=t)},this),r},r.type="polar",r.dependencies=["radiusAxis","angleAxis"],r.defaultOption={z:0,center:["50%","50%"],radius:"80%"},r}(By),$4=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Dd).models[0]},r.type="polarAxis",r}(By);M_($4,GQ);var $9=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="angleAxis",r}($4),$8=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="radiusAxis",r}($4),$6=function(t){function r(r,i){return t.call(this,"radius",r,i)||this}return AK(r,t),r.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)["radius"===this.dim?0:1]},r}(Hy);$6.prototype.dataToRadius=Hy.prototype.dataToCoord,$6.prototype.radiusToData=Hy.prototype.coordToData;var $7=Dl(),eee=function(t){function r(r,i){return t.call(this,"angle",r,i||[0,360])||this}return AK(r,t),r.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)["radius"===this.dim?0:1]},r.prototype.calculateCategoryInterval=function(){var t=this.getLabelModel(),r=this.scale,i=r.getExtent(),s=r.count();if(i[1]-i[0]<1)return 0;var u=i[0],c=Math.abs(this.dataToCoord(u+1)-this.dataToCoord(u)),h=Math.max(Il(null==u?"":u+"",t.getFont(),"center","top").height,7)/c;isNaN(h)&&(h=1/0);var f=Math.max(0,Math.floor(h)),p=$7(this.model),v=p.lastAutoInterval,y=p.lastTickCount;return null!=v&&null!=y&&1>=Math.abs(v-f)&&1>=Math.abs(y-s)&&v>f?f=v:(p.lastTickCount=s,p.lastAutoInterval=f),f},r}(Hy);eee.prototype.dataToAngle=Hy.prototype.dataToCoord,eee.prototype.angleToData=Hy.prototype.coordToData;var eet=["radius","angle"],een=function(){function t(t){this.dimensions=eet,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new $6,this._angleAxis=new eee,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var r=this.pointToCoord(t);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){return this["_"+t+"Axis"]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var r=[],i=this._angleAxis,s=this._radiusAxis;return i.scale.type===t&&r.push(i),s.scale.type===t&&r.push(s),r},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var r=this._angleAxis;return t===r?this._radiusAxis:r},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var r=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},t.prototype.dataToPoint=function(t,r){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],r),this._angleAxis.dataToAngle(t[1],r)])},t.prototype.pointToData=function(t,r){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],r),this._angleAxis.angleToData(i[1],r)]},t.prototype.pointToCoord=function(t){var r=t[0]-this.cx,i=t[1]-this.cy,s=this.getAngleAxis(),u=s.getExtent(),c=Math.min(u[0],u[1]),h=Math.max(u[0],u[1]);s.inverse?c=h-360:h=c+360;var f=Math.sqrt(r*r+i*i);r/=f;for(var p=Math.atan2(-(i/=f),r)/Math.PI*180,v=p<c?1:-1;p<c||p>h;)p+=360*v;return[f,p]},t.prototype.coordToPoint=function(t){var r=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*r+this.cx,-Math.sin(i)*r+this.cy]},t.prototype.getArea=function(){var t=this.getAngleAxis(),r=this.getRadiusAxis().getExtent().slice();r[0]>r[1]&&r.reverse();var i=t.getExtent(),s=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*s,endAngle:-i[1]*s,clockwise:t.inverse,contain:function(t,r){var i=t-this.cx,s=r-this.cy,u=i*i+s*s-1e-4,c=this.r,h=this.r0;return u<=c*c&&u>=h*h}}},t.prototype.convertToPixel=function(t,r,i){return eer(r)===this?this.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,r,i){return eer(r)===this?this.pointToData(i):null},t}();function eer(t){var r=t.seriesModel,i=t.polarModel;return i&&i.coordinateSystem||r&&r.coordinateSystem}function eei(t,r){var i=this,s=i.getAngleAxis(),u=i.getRadiusAxis();if(s.scale.setExtent(1/0,-1/0),u.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===i){var r=t.getData();Mw(GJ(r,"radius"),function(t){u.scale.unionExtentFromData(r,t)}),Mw(GJ(r,"angle"),function(t){s.scale.unionExtentFromData(r,t)})}}),Gj(s.scale,s.model),Gj(u.scale,u.model),"category"===s.type&&!s.onBand){var c=s.getExtent(),h=360/s.scale.count();s.inverse?c[1]+=h:c[1]-=h,s.setExtent(c[0],c[1])}}function eea(t,r){var i;if(t.type=r.get("type"),t.scale=GW(r),t.onBand=r.get("boundaryGap")&&"category"===t.type,t.inverse=r.get("inverse"),"angleAxis"===r.mainType){t.inverse=t.inverse!==r.get("clockwise");var s=r.get("startAngle"),u=null!==(i=r.get("endAngle"))&&void 0!==i?i:s+(t.inverse?-360:360);t.setExtent(s,u)}r.axis=t,t.model=r}let eeo={dimensions:eet,create:function(t,r){var i=[];return t.eachComponent("polar",function(t,s){var u,c,h,f,p,v,y,x,_,b,w=new een(s+"");w.update=eei;var S=w.getRadiusAxis(),A=w.getAngleAxis(),M=t.findAxisModel("radiusAxis"),C=t.findAxisModel("angleAxis");eea(S,M),eea(A,C),u=w,c=t,h=r,f=c.get("center"),p=h.getWidth(),v=h.getHeight(),u.cx=IO(f[0],p),u.cy=IO(f[1],v),y=u.getRadiusAxis(),x=Math.min(p,v)/2,null==(_=c.get("radius"))?_=[0,"100%"]:MD(_)||(_=[0,_]),b=[IO(_[0],x),IO(_[1],x)],y.inverse?y.setExtent(b[1],b[0]):y.setExtent(b[0],b[1]),i.push(w),t.coordinateSystem=w,w.model=t}),t.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var r=t.getReferringComponents("polar",Dd).models[0];t.coordinateSystem=r.coordinateSystem}}),i}};var ees=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function eel(t,r,i){r[1]>r[0]&&(r=r.slice().reverse());var s=t.coordToPoint([r[0],i]),u=t.coordToPoint([r[1],i]);return{x1:s[0],y1:s[1],x2:u[0],y2:u[1]}}function eeu(t){return t.getRadiusAxis().inverse?0:1}function eec(t){var r=t[0],i=t[t.length-1];r&&i&&1e-4>Math.abs(Math.abs(r.coord-i.coord)-360)&&t.pop()}var eeh=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.axisPointerClass="PolarAxisPointer",i}return AK(r,t),r.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=t.axis,s=i.polar,u=s.getRadiusAxis().getExtent(),c=i.getTicksCoords(),h=i.getMinorTicksCoords(),f=MS(i.getViewLabels(),function(t){t=Md(t);var r=i.scale,s="ordinal"===r.type?r.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=i.dataToCoord(s),t});eec(f),eec(c),Mw(ees,function(r){t.get([r,"show"])&&(!i.scale.isBlank()||"axisLine"===r)&&eed[r](this.group,t,s,c,h,u,f)},this)}},r.type="angleAxis",r}(WX),eed={axisLine:function(t,r,i,s,u,c){var h,f=r.getModel(["axisLine","lineStyle"]),p=i.getAngleAxis(),v=Math.PI/180,y=p.getExtent(),x=eeu(i),_=x?0:1,b=360===Math.abs(y[1]-y[0])?"Circle":"Arc";(h=0===c[_]?new eu[b]({shape:{cx:i.cx,cy:i.cy,r:c[x],startAngle:-y[0]*v,endAngle:-y[1]*v,clockwise:p.inverse},style:f.getLineStyle(),z2:1,silent:!0}):new Nf({shape:{cx:i.cx,cy:i.cy,r:c[x],r0:c[_]},style:f.getLineStyle(),z2:1,silent:!0})).style.fill=null,t.add(h)},axisTick:function(t,r,i,s,u,c){var h=r.getModel("axisTick"),f=(h.get("inside")?-1:1)*h.get("length"),p=c[eeu(i)],v=MS(s,function(t){return new NA({shape:eel(i,[p,p+f],t.coord)})});t.add(N1(v,{style:Mm(h.getModel("lineStyle").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,r,i,s,u,c){if(!!u.length){for(var h=r.getModel("axisTick"),f=r.getModel("minorTick"),p=(h.get("inside")?-1:1)*f.get("length"),v=c[eeu(i)],y=[],x=0;x<u.length;x++)for(var _=0;_<u[x].length;_++)y.push(new NA({shape:eel(i,[v,v+p],u[x][_].coord)}));t.add(N1(y,{style:Mm(f.getModel("lineStyle").getLineStyle(),Mm(h.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,r,i,s,u,c,h){var f=r.getCategories(!0),p=r.getModel("axisLabel"),v=p.get("margin"),y=r.get("triggerEvent");Mw(h,function(s,u){var h=p,x=s.tickValue,_=c[eeu(i)],b=i.coordToPoint([_+v,s.coord]),w=i.cx,S=i.cy,A=Math.abs(b[0]-w)/_<.3?"center":b[0]>w?"left":"right",M=Math.abs(b[1]-S)/_<.3?"middle":b[1]>S?"top":"bottom";if(f&&f[x]){var C=f[x];Mk(C)&&C.textStyle&&(h=new Lw(C.textStyle,p,p.ecModel))}var T=new R7({silent:Wk.isLabelSilent(r),style:Lt(h,{x:b[0],y:b[1],fill:h.getTextColor()||r.get(["axisLine","lineStyle","color"]),text:s.formattedLabel,align:A,verticalAlign:M})});if(t.add(T),y){var I=Wk.makeAxisEventDataBase(r);I.targetType="axisLabel",I.value=s.rawLabel,Pe(T).eventData=I}},this)},splitLine:function(t,r,i,s,u,c){var h=r.getModel("splitLine").getModel("lineStyle"),f=h.get("color"),p=0;f=f instanceof Array?f:[f];for(var v=[],y=0;y<s.length;y++){var x=p++%f.length;v[x]=v[x]||[],v[x].push(new NA({shape:eel(i,c,s[y].coord)}))}for(var y=0;y<v.length;y++)t.add(N1(v[y],{style:Mm({stroke:f[y%f.length]},h.getLineStyle()),silent:!0,z:r.get("z")}))},minorSplitLine:function(t,r,i,s,u,c){if(!!u.length){for(var h=r.getModel("minorSplitLine").getModel("lineStyle"),f=[],p=0;p<u.length;p++)for(var v=0;v<u[p].length;v++)f.push(new NA({shape:eel(i,c,u[p][v].coord)}));t.add(N1(f,{style:h.getLineStyle(),silent:!0,z:r.get("z")}))}},splitArea:function(t,r,i,s,u,c){if(!!s.length){var h=r.getModel("splitArea").getModel("areaStyle"),f=h.get("color"),p=0;f=f instanceof Array?f:[f];for(var v=[],y=Math.PI/180,x=-s[0].coord*y,_=Math.min(c[0],c[1]),b=Math.max(c[0],c[1]),w=r.get("clockwise"),S=1,A=s.length;S<=A;S++){var M=S===A?s[0].coord:s[S].coord,C=p++%f.length;v[C]=v[C]||[],v[C].push(new Nc({shape:{cx:i.cx,cy:i.cy,r0:_,r:b,startAngle:x,endAngle:-M*y,clockwise:w},silent:!0})),x=-M*y}for(var S=0;S<v.length;S++)t.add(N1(v[S],{style:Mm({fill:f[S%f.length]},h.getAreaStyle()),silent:!0}))}}},eef=["axisLine","axisTickLabel","axisName"],eep=["splitLine","splitArea","minorSplitLine"],eeg=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.axisPointerClass="PolarAxisPointer",i}return AK(r,t),r.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=this._axisGroup,s=this._axisGroup=new IS;this.group.add(s);var u=t.axis,c=u.polar,h=c.getAngleAxis(),f=u.getTicksCoords(),p=u.getMinorTicksCoords(),v=h.getExtent()[0],y=u.getExtent(),x=function(t,r,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:r.getModel("axisLabel").get("rotate"),z2:1}}(c,t,v),_=new Wk(t,x);Mw(eef,_.add,_),s.add(_.getGroup()),Fe(i,s,t),Mw(eep,function(r){t.get([r,"show"])&&!u.scale.isBlank()&&eem[r](this.group,t,c,v,y,f,p)},this)}},r.type="radiusAxis",r}(WX),eem={splitLine:function(t,r,i,s,u,c){var h=r.getModel("splitLine").getModel("lineStyle"),f=h.get("color"),p=0,v=i.getAngleAxis(),y=Math.PI/180,x=v.getExtent(),_=360===Math.abs(x[1]-x[0])?"Circle":"Arc";f=f instanceof Array?f:[f];for(var b=[],w=0;w<c.length;w++){var S=p++%f.length;b[S]=b[S]||[],b[S].push(new eu[_]({shape:{cx:i.cx,cy:i.cy,r:Math.max(c[w].coord,0),startAngle:-x[0]*y,endAngle:-x[1]*y,clockwise:v.inverse}}))}for(var w=0;w<b.length;w++)t.add(N1(b[w],{style:Mm({stroke:f[w%f.length],fill:null},h.getLineStyle()),silent:!0}))},minorSplitLine:function(t,r,i,s,u,c,h){if(!!h.length){for(var f=r.getModel("minorSplitLine").getModel("lineStyle"),p=[],v=0;v<h.length;v++)for(var y=0;y<h[v].length;y++)p.push(new O3({shape:{cx:i.cx,cy:i.cy,r:h[v][y].coord}}));t.add(N1(p,{style:Mm({fill:null},f.getLineStyle()),silent:!0}))}},splitArea:function(t,r,i,s,u,c){if(!!c.length){var h=r.getModel("splitArea").getModel("areaStyle"),f=h.get("color"),p=0;f=f instanceof Array?f:[f];for(var v=[],y=c[0].coord,x=1;x<c.length;x++){var _=p++%f.length;v[_]=v[_]||[],v[_].push(new Nc({shape:{cx:i.cx,cy:i.cy,r0:y,r:c[x].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),y=c[x].coord}for(var x=0;x<v.length;x++)t.add(N1(v[x],{style:Mm({fill:f[x%f.length]},h.getAreaStyle()),silent:!0}))}}};function eev(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function eey(t,r){return r.dim+t.model.componentIndex}let eex=function(t,r,i){var s={},u=function(t){var r={};Mw(t,function(t,i){var s=t.getData(),u=t.coordinateSystem,c=u.getBaseAxis(),h=eey(u,c),f=c.getExtent(),p="category"===c.type?c.getBandWidth():Math.abs(f[1]-f[0])/s.count(),v=r[h]||{bandWidth:p,remainedWidth:p,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},y=v.stacks;r[h]=v;var x=eev(t);!y[x]&&v.autoWidthCount++,y[x]=y[x]||{width:0,maxWidth:0};var _=IO(t.get("barWidth"),p),b=IO(t.get("barMaxWidth"),p),w=t.get("barGap"),S=t.get("barCategoryGap");_&&!y[x].width&&(_=Math.min(v.remainedWidth,_),y[x].width=_,v.remainedWidth-=_),b&&(y[x].maxWidth=b),null!=w&&(v.gap=w),null!=S&&(v.categoryGap=S)});var i={};return Mw(r,function(t,r){i[r]={};var s,u=t.stacks,c=t.bandWidth,h=IO(t.categoryGap,c),f=IO(t.gap,1),p=t.remainedWidth,v=t.autoWidthCount,y=(p-h)/(v+(v-1)*f);y=Math.max(y,0),Mw(u,function(t,r){var i=t.maxWidth;i&&i<y&&(i=Math.min(i,p),t.width&&(i=Math.min(i,t.width)),p-=i,t.width=i,v--)}),y=Math.max(y=(p-h)/(v+(v-1)*f),0);var x=0;Mw(u,function(t,r){!t.width&&(t.width=y),s=t,x+=t.width*(1+f)}),s&&(x-=s.width*f);var _=-x/2;Mw(u,function(t,s){i[r][s]=i[r][s]||{offset:_,width:t.width},_+=t.width*(1+f)})}),i}(MM(r.getSeriesByType(t),function(t){return!r.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));r.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var r=t.getData(),i=t.coordinateSystem,c=i.getBaseAxis(),h=eey(i,c),f=eev(t),p=u[h][f],v=p.offset,y=p.width,x=i.getOtherAxis(c),_=t.coordinateSystem.cx,b=t.coordinateSystem.cy,w=t.get("barMinHeight")||0,S=t.get("barMinAngle")||0;s[f]=s[f]||[];for(var A=r.mapDimension(x.dim),M=r.mapDimension(c.dim),C=z4(r,A),T="radius"!==c.dim||!t.get("roundCap",!0),I=x.model.get("startValue"),D=x.dataToCoord(I||0),R=0,P=r.count();R<P;R++){var L=r.get(A,R),B=r.get(M,R),k=L>=0?"p":"n",O=D;C&&(!s[f][B]&&(s[f][B]={p:D,n:D}),O=s[f][B][k]);var N=void 0,F=void 0,U=void 0,z=void 0;if("radius"===x.dim){var G=x.dataToCoord(L)-D,H=c.dataToCoord(B);Math.abs(G)<w&&(G=(G<0?-1:1)*w),N=O,F=O+G,z=(U=H-v)-y,C&&(s[f][B][k]=F)}else{var V=x.dataToCoord(L,T)-D,j=c.dataToCoord(B);Math.abs(V)<S&&(V=(V<0?-1:1)*S),F=(N=j+v)+y,U=O,z=O+V,C&&(s[f][B][k]=z)}r.setItemLayout(R,{cx:_,cy:b,r0:N,r:F,startAngle:-U*Math.PI/180,endAngle:-z*Math.PI/180,clockwise:U>=z})}}})};var ee_={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},eeb={splitNumber:5},eew=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="polar",r}(OL);function eeS(t,r){r=r||{};var i=t.coordinateSystem,s=t.axis,u={},c=s.position,h=s.orient,f=i.getRect(),p=[f.x,f.x+f.width,f.y,f.y+f.height],v={horizontal:{top:p[2],bottom:p[3]},vertical:{left:p[0],right:p[1]}};u.position=["vertical"===h?v.vertical[c]:p[0],"horizontal"===h?v.horizontal[c]:p[3]];u.rotation=Math.PI/2*({horizontal:0,vertical:1})[h];u.labelDirection=u.tickDirection=u.nameDirection=({top:-1,bottom:1,right:1,left:-1})[c],t.get(["axisTick","inside"])&&(u.tickDirection=-u.tickDirection),MV(r.labelInside,t.get(["axisLabel","inside"]))&&(u.labelDirection=-u.labelDirection);var y=r.rotate;return null==y&&(y=t.get(["axisLabel","rotate"])),u.labelRotation="top"===c?-y:y,u.z2=1,u}var eeA=["axisLine","axisTickLabel","axisName"],eeM=["splitArea","splitLine"],eeC=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.axisPointerClass="SingleAxisPointer",i}return AK(r,t),r.prototype.render=function(r,i,s,u){var c=this.group;c.removeAll();var h=this._axisGroup;this._axisGroup=new IS;var f=eeS(r),p=new Wk(r,f);Mw(eeA,p.add,p),c.add(this._axisGroup),c.add(p.getGroup()),Mw(eeM,function(t){r.get([t,"show"])&&eeT[t](this,this.group,this._axisGroup,r)},this),Fe(h,this._axisGroup,r),t.prototype.render.call(this,r,i,s,u)},r.prototype.remove=function(){WK(this)},r.type="singleAxis",r}(WX),eeT={splitLine:function(t,r,i,s){var u=s.axis;if(!u.scale.isBlank()){var c=s.getModel("splitLine"),h=c.getModel("lineStyle"),f=h.get("color");f=f instanceof Array?f:[f];for(var p=h.get("width"),v=s.coordinateSystem.getRect(),y=u.isHorizontal(),x=[],_=0,b=u.getTicksCoords({tickModel:c}),w=[],S=[],A=0;A<b.length;++A){var M=u.toGlobalCoord(b[A].coord);y?(w[0]=M,w[1]=v.y,S[0]=M,S[1]=v.y+v.height):(w[0]=v.x,w[1]=M,S[0]=v.x+v.width,S[1]=M);var C=new NA({shape:{x1:w[0],y1:w[1],x2:S[0],y2:S[1]},silent:!0});N3(C.shape,p);var T=_++%f.length;x[T]=x[T]||[],x[T].push(C)}for(var I=h.getLineStyle(["color"]),A=0;A<x.length;++A)r.add(N1(x[A],{style:Mm({stroke:f[A%f.length]},I),silent:!0}))}},splitArea:function(t,r,i,s){WZ(t,i,s,s)}},eeE=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.getCoordSysModel=function(){return this},r.type="singleAxis",r.layoutMode="box",r.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},r}(By);M_(eeE,GQ.prototype);var eeI=function(t){function r(r,i,s,u,c){var h=t.call(this,r,i,s)||this;return h.type=u||"value",h.position=c||"bottom",h}return AK(r,t),r.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},r.prototype.pointToData=function(t,r){return this.coordinateSystem.pointToData(t)[0]},r}(Hy),eeD=["single"],eeR=function(){function t(t,r,i){this.type="single",this.dimension="single",this.dimensions=eeD,this.axisPointerEnabled=!0,this.model=t,this._init(t,r,i)}return t.prototype._init=function(t,r,i){var s=new eeI(this.dimension,GW(t),[0,0],t.get("type"),t.get("position")),u="category"===s.type;s.onBand=u&&t.get("boundaryGap"),s.inverse=t.get("inverse"),s.orient=t.get("orient"),t.axis=s,s.model=t,s.coordinateSystem=this,this._axis=s},t.prototype.update=function(t,r){t.eachSeries(function(t){if(t.coordinateSystem===this){var r=t.getData();Mw(r.mapDimensionsAll(this.dimension),function(t){this._axis.scale.unionExtentFromData(r,t)},this),Gj(this._axis.scale,this._axis.model)}},this)},t.prototype.resize=function(t,r){this._rect=Bc({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,r=this._axis,i=r.isHorizontal(),s=i?[0,t.width]:[0,t.height],u=r.inverse?1:0;r.setExtent(s[u],s[1-u]),this._updateAxisTransform(r,i?t.x:t.y)},t.prototype._updateAxisTransform=function(t,r){var i=t.getExtent(),s=i[0]+i[1],u=t.isHorizontal();t.toGlobalCoord=u?function(t){return t+r}:function(t){return s-t+r},t.toLocalCoord=u?function(t){return t-r}:function(t){return s-t+r}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var r=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(t[0]))&&t[1]>=r.y&&t[1]<=r.y+r.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=r.y&&t[0]<=r.y+r.height},t.prototype.pointToData=function(t){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(t["horizontal"===r.orient?0:1]))]},t.prototype.dataToPoint=function(t){var r=this.getAxis(),i=this.getRect(),s=[],u="horizontal"===r.orient?0:1;return t instanceof Array&&(t=t[0]),s[u]=r.toGlobalCoord(r.dataToCoord(+t)),s[1-u]=0===u?i.y+i.height/2:i.x+i.width/2,s},t.prototype.convertToPixel=function(t,r,i){return eeP(r)===this?this.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,r,i){return eeP(r)===this?this.pointToData(i):null},t}();function eeP(t){var r=t.seriesModel,i=t.singleAxisModel;return i&&i.coordinateSystem||r&&r.coordinateSystem}let eeL={create:function(t,r){var i=[];return t.eachComponent("singleAxis",function(s,u){var c=new eeR(s,t,r);c.name="single_"+u,c.resize(s,r),s.coordinateSystem=c,i.push(c)}),t.eachSeries(function(t){if("singleAxis"===t.get("coordinateSystem")){var r=t.getReferringComponents("singleAxis",Dd).models[0];t.coordinateSystem=r&&r.coordinateSystem}}),i},dimensions:eeD};var eeB=["x","y"],eek=["width","height"],eeO=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.makeElOption=function(t,r,i,s,u){var c=i.axis,h=c.coordinateSystem,f=eeU(h,1-eeF(c)),p=h.dataToPoint(r)[0],v=s.get("type");if(v&&"none"!==v){var y=$E(s),x=eeN[v](c,p,f);x.style=y,t.graphicKey=x.type,t.pointer=x}$P(r,t,eeS(i),i,s,u)},r.prototype.getHandleTransform=function(t,r,i){var s=eeS(r,{labelInside:!1});s.labelMargin=i.get(["handle","margin"]);var u=$R(r.axis,t,s);return{x:u[0],y:u[1],rotation:s.rotation+(s.labelDirection<0?Math.PI:0)}},r.prototype.updateHandleTransform=function(t,r,i,s){var u=i.axis,c=u.coordinateSystem,h=eeF(u),f=eeU(c,h),p=[t.x,t.y];p[h]+=r[h],p[h]=Math.min(f[1],p[h]),p[h]=Math.max(f[0],p[h]);var v=eeU(c,1-h),y=(v[1]+v[0])/2,x=[y,y];return x[h]=p[h],{x:p[0],y:p[1],rotation:t.rotation,cursorPoint:x,tooltipOption:{verticalAlign:"middle"}}},r}($S),eeN={line:function(t,r,i){return{type:"Line",subPixelOptimize:!0,shape:$L([r,i[0]],[r,i[1]],eeF(t))}},shadow:function(t,r,i){var s=t.getBandWidth(),u=i[1]-i[0];return{type:"Rect",shape:$B([r-s/2,i[0]],[s,u],eeF(t))}}};function eeF(t){return t.isHorizontal()?0:1}function eeU(t,r){var i=t.getRect();return[i[eeB[r]],i[eeB[r]]+i[eek[r]]]}var eez=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="single",r}(OL),eeG=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(r,i,s){var u=Bp(r);t.prototype.init.apply(this,arguments),eeH(r,u)},r.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),eeH(this.option,r)},r.prototype.getCellSize=function(){return this.option.cellSize},r.type="calendar",r.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},r}(By);function eeH(t,r){var i,s=t.cellSize;1===(i=MD(s)?s:t.cellSize=[s,s]).length&&(i[1]=i[0]);var u=MS([0,1],function(t){var s,u;if(null!=(s=r)[Bl[u=t][0]]||null!=s[Bl[u][1]]&&null!=s[Bl[u][2]])i[t]="auto";return null!=i[t]&&"auto"!==i[t]});Bf(t,r,{type:"box",ignoreSize:u})}var eeV=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){var s=this.group;s.removeAll();var u=t.coordinateSystem,c=u.getRangeInfo(),h=u.getOrient(),f=r.getLocaleModel();this._renderDayRect(t,c,s),this._renderLines(t,c,h,s),this._renderYearText(t,c,h,s),this._renderMonthText(t,f,h,s),this._renderWeekText(t,f,c,h,s)},r.prototype._renderDayRect=function(t,r,i){for(var s=t.coordinateSystem,u=t.getModel("itemStyle").getItemStyle(),c=s.getCellWidth(),h=s.getCellHeight(),f=r.start.time;f<=r.end.time;f=s.getNextNDay(f,1).time){var p=s.dataToRect([f],!1).tl,v=new RY({shape:{x:p[0],y:p[1],width:c,height:h},cursor:"default",style:u});i.add(v)}},r.prototype._renderLines=function(t,r,i,s){var u=this,c=t.coordinateSystem,h=t.getModel(["splitLine","lineStyle"]).getLineStyle(),f=t.get(["splitLine","show"]),p=h.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var v=r.start,y=0;v.time<=r.end.time;y++){_(v.formatedDate),0===y&&(v=c.getDateInfo(r.start.y+"-"+r.start.m));var x=v.date;x.setMonth(x.getMonth()+1),v=c.getDateInfo(x)}function _(r){u._firstDayOfMonth.push(c.getDateInfo(r)),u._firstDayPoints.push(c.dataToRect([r],!1).tl);var p=u._getLinePointsOfOneWeek(t,r,i);u._tlpoints.push(p[0]),u._blpoints.push(p[p.length-1]),f&&u._drawSplitline(p,h,s)}_(c.getNextNDay(r.end.time,1).formatedDate),f&&this._drawSplitline(u._getEdgesPoints(u._tlpoints,p,i),h,s),f&&this._drawSplitline(u._getEdgesPoints(u._blpoints,p,i),h,s)},r.prototype._getEdgesPoints=function(t,r,i){var s=[t[0].slice(),t[t.length-1].slice()],u="horizontal"===i?0:1;return s[0][u]=s[0][u]-r/2,s[1][u]=s[1][u]+r/2,s},r.prototype._drawSplitline=function(t,r,i){var s=new N_({z2:20,shape:{points:t},style:r});i.add(s)},r.prototype._getLinePointsOfOneWeek=function(t,r,i){for(var s=t.coordinateSystem,u=s.getDateInfo(r),c=[],h=0;h<7;h++){var f=s.getNextNDay(u.time,h),p=s.dataToRect([f.time],!1);c[2*f.day]=p.tl,c[2*f.day+1]=p["horizontal"===i?"bl":"tr"]}return c},r.prototype._formatterLabel=function(t,r){if(MP(t)&&t){var i,s;return i=t,Mw(r,function(t,r){i=i.replace("{"+r+"}",t)}),i}return MR(t)?t(r):r.nameMap},r.prototype._yearTextPositionControl=function(t,r,i,s,u){var c=r[0],h=r[1],f=["center","bottom"];"bottom"===s?(h+=u,f=["center","top"]):"left"===s?c-=u:"right"===s?(c+=u,f=["center","top"]):h-=u;var p=0;return("left"===s||"right"===s)&&(p=Math.PI/2),{rotation:p,x:c,y:h,style:{align:f[0],verticalAlign:f[1]}}},r.prototype._renderYearText=function(t,r,i,s){var u=t.getModel("yearLabel");if(!!u.get("show")){var c=u.get("margin"),h=u.get("position");!h&&(h="horizontal"!==i?"top":"left");var f=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],p=(f[0][0]+f[1][0])/2,v=(f[0][1]+f[1][1])/2,y="horizontal"===i?0:1,x={top:[p,f[y][1]],bottom:[p,f[1-y][1]],left:[f[1-y][0],v],right:[f[y][0],v]},_=r.start.y;+r.end.y>+r.start.y&&(_=_+"-"+r.end.y);var b=u.get("formatter"),w={start:r.start.y,end:r.end.y,nameMap:_},S=new R7({z2:30,style:Lt(u,{text:this._formatterLabel(b,w)})});S.attr(this._yearTextPositionControl(S,x[h],i,h,c)),s.add(S)}},r.prototype._monthTextPositionControl=function(t,r,i,s,u){var c="left",h="top",f=t[0],p=t[1];return"horizontal"===i?(p+=u,r&&(c="center"),"start"===s&&(h="bottom")):(f+=u,r&&(h="middle"),"start"===s&&(c="right")),{x:f,y:p,align:c,verticalAlign:h}},r.prototype._renderMonthText=function(t,r,i,s){var u=t.getModel("monthLabel");if(!!u.get("show")){var c=u.get("nameMap"),h=u.get("margin"),f=u.get("position"),p=u.get("align"),v=[this._tlpoints,this._blpoints];if(!c||MP(c)){if(c)r=LT[c]||r;c=r.get(["time","monthAbbr"])||[]}var y="start"===f?0:1,x="horizontal"===i?0:1;h="start"===f?-h:h;for(var _="center"===p,b=0;b<v[y].length-1;b++){var w=v[y][b].slice(),S=this._firstDayOfMonth[b];if(_){var A=this._firstDayPoints[b];w[x]=(A[x]+v[0][b+1][x])/2}var M=u.get("formatter"),C=c[+S.m-1],T={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:C},I=new R7({z2:30,style:Mg(Lt(u,{text:this._formatterLabel(M,T)}),this._monthTextPositionControl(w,_,i,f,h))});s.add(I)}}},r.prototype._weekTextPositionControl=function(t,r,i,s,u){var c="center",h="middle",f=t[0],p=t[1],v="start"===i;return"horizontal"===r?(f=f+s+(v?1:-1)*u[0]/2,c=v?"right":"left"):(p=p+s+(v?1:-1)*u[1]/2,h=v?"bottom":"top"),{x:f,y:p,align:c,verticalAlign:h}},r.prototype._renderWeekText=function(t,r,i,s,u){var c=t.getModel("dayLabel");if(!!c.get("show")){var h=t.coordinateSystem,f=c.get("position"),p=c.get("nameMap"),v=c.get("margin"),y=h.getFirstDayOfWeek();if(!p||MP(p)){if(p)r=LT[p]||r;p=r.get(["time","dayOfWeekShort"])||MS(r.get(["time","dayOfWeekAbbr"]),function(t){return t[0]})}var x=h.getNextNDay(i.end.time,7-i.lweek).time,_=[h.getCellWidth(),h.getCellHeight()];v=IO(v,Math.min(_[1],_[0])),"start"===f&&(x=h.getNextNDay(i.start.time,-(7+i.fweek)).time,v=-v);for(var b=0;b<7;b++){var w=h.getNextNDay(x,b),S=h.dataToRect([w.time],!1).center,A=b,M=new R7({z2:30,style:Mg(Lt(c,{text:p[A=Math.abs((b+y)%7)]}),this._weekTextPositionControl(S,s,f,v,_))});u.add(M)}}},r.type="calendar",r}(OL),eej=function(){function t(r,i,s){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=r}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){var r=(t=IZ(t)).getFullYear(),i=t.getMonth()+1,s=i<10?"0"+i:""+i,u=t.getDate(),c=u<10?"0"+u:""+u,h=t.getDay();return{y:r+"",m:s,d:c,day:h=Math.abs((h+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:r+"-"+s+"-"+c,date:t}},t.prototype.getNextNDay=function(t,r){return 0===(r=r||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+r),this.getDateInfo(t))},t.prototype.update=function(t,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,s=["width","height"],u=this._model.getCellSize().slice(),c=this._model.getBoxLayoutParams(),h="horizontal"===this._orient?[i,7]:[7,i];Mw([0,1],function(t){v(u,t)&&(c[s[t]]=u[t]*h[t])});var f={width:r.getWidth(),height:r.getHeight()},p=this._rect=Bc(c,f);function v(t,r){return null!=t[r]&&"auto"!==t[r]}Mw([0,1],function(t){!v(u,t)&&(u[t]=p[s[t]]/h[t])}),this._sw=u[0],this._sh=u[1]},t.prototype.dataToPoint=function(t,r){MD(t)&&(t=t[0]),null==r&&(r=!0);var i=this.getDateInfo(t),s=this._rangeInfo,u=i.formatedDate;if(r&&!(i.time>=s.start.time&&i.time<s.end.time+864e5))return[NaN,NaN];var c=i.day,h=this._getRangeInfo([s.start.time,u]).nthWeek;return"vertical"===this._orient?[this._rect.x+c*this._sw+this._sw/2,this._rect.y+h*this._sh+this._sh/2]:[this._rect.x+h*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var r=this.pointToDate(t);return r&&r.time},t.prototype.dataToRect=function(t,r){var i=this.dataToPoint(t,r);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var r=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,s=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,r-1,s):this._getDateByWeeksAndDay(r,i-1,s)},t.prototype.convertToPixel=function(t,r,i){var s=eeW(r);return s===this?s.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,r,i){var s=eeW(r);return s===this?s.pointToData(i):null},t.prototype.containPoint=function(t){return!1},t.prototype._initRangeOption=function(){var t,r=this._model.get("range");if(MD(r)&&1===r.length&&(r=r[0]),MD(r))t=r;else{var i=r.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var s=this.getDateInfo(i),u=s.date;u.setMonth(u.getMonth()+1);var c=this.getNextNDay(u,-1);t=[s.formatedDate,c.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return r;var h=this._getRangeInfo(t);return h.start.time>h.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var r,i=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];i[0].time>i[1].time&&(r=!0,i.reverse());var s=Math.floor(i[1].time/864e5)-Math.floor(i[0].time/864e5)+1,u=new Date(i[0].time),c=u.getDate(),h=i[1].date.getDate();u.setDate(c+s-1);var f=u.getDate();if(f!==h){for(var p=u.getTime()-i[1].time>0?1:-1;(f=u.getDate())!==h&&(u.getTime()-i[1].time)*p>0;)s-=p,u.setDate(f-p)}var v=Math.floor((s+i[0].day+6)/7),y=r?-v+1:v-1;return r&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:s,weeks:v,nthWeek:y,fweek:i[0].day,lweek:i[1].day}},t.prototype._getDateByWeeksAndDay=function(t,r,i){var s=this._getRangeInfo(i);if(t>s.weeks||0===t&&r<s.fweek||t===s.weeks&&r>s.lweek)return null;var u=(t-1)*7-s.fweek+r,c=new Date(s.start.time);return c.setDate(+s.start.d+u),this.getDateInfo(c)},t.create=function(r,i){var s=[];return r.eachComponent("calendar",function(u){var c=new t(u,r,i);s.push(c),u.coordinateSystem=c}),r.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=s[t.get("calendarIndex")||0])}),s},t.dimensions=["time","value"],t}();function eeW(t){var r=t.calendarModel,i=t.seriesModel;return r?r.coordinateSystem:i?i.coordinateSystem:null}function eeX(t,r){var i;return Mw(r,function(r){null!=t[r]&&"auto"!==t[r]&&(i=!0)}),i}var eeY=["transition","enterFrom","leaveTo"],eeZ=eeY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function eeK(t,r,i){if(i&&(!t[i]&&r[i]&&(t[i]={}),t=t[i],r=r[i]),!!t&&!!r)for(var s=i?eeY:eeZ,u=0;u<s.length;u++){var c=s[u];null==t[c]&&null!=r[c]&&(t[c]=r[c])}}var eeJ=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.preventAutoZ=!0,i}return AK(r,t),r.prototype.mergeOption=function(r,i){var s=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,r,i),this.option.elements=s},r.prototype.optionUpdated=function(t,r){var i=this.option,s=(r?i:t).elements,u=i.elements=r?[]:i.elements,c=[];this._flatten(s,c,null);var h=Dt(u,c,"normalMerge"),f=this._elOptionsToUpdate=[];Mw(h,function(t,r){var i,s,c,h,p,v,y=t.newOption;if(!!y)f.push(y),!function(t,r){var i=t.existing;if(r.id=t.keyInfo.id,!r.type&&i&&(r.type=i.type),null==r.parentId){var s=r.parentOption;s?r.parentId=s.id:i&&(r.parentId=i.parentId)}r.parentOption=null}(t,y),i=u,s=r,h=Mg({},c=y),p=i[s],"merge"===(v=c.$action||"merge")?p?(Mf(p,h,!0),Bf(p,h,{ignoreSize:!0}),Bg(c,p),eeK(c,p),eeK(c,p,"shape"),eeK(c,p,"style"),eeK(c,p,"extra"),c.clipPath=p.clipPath):i[s]=h:"replace"===v?i[s]=h:"remove"===v&&p&&(i[s]=null),!function(t,r){if(!!t)t.hv=r.hv=[eeX(r,["left","right"]),eeX(r,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=r.width=0),null==t.height&&(t.height=r.height=0))}(u[r],y)},this),i.elements=MM(u,function(t){return t&&delete t.$action,null!=t})},r.prototype._flatten=function(t,r,i){Mw(t,function(t){if(!!t){i&&(t.parentOption=i),r.push(t);var s=t.children;s&&s.length&&this._flatten(s,r,t),delete t.children}},this)},r.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},r.type="graphic",r.defaultOption={elements:[]},r}(By),eeQ={path:null,compoundPath:null,group:IS,image:RU,text:R7},eeq=Dl(),ee$=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(){this._elMap=M2()},r.prototype.render=function(t,r,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},r.prototype._updateElements=function(t){var r=t.useElOptionsToUpdate();if(!!r){var i=this._elMap,s=this.group,u=t.get("z"),c=t.get("zlevel");Mw(r,function(r){var h=Di(r.id,null),f=null!=h?i.get(h):null,p=Di(r.parentId,null),v=null!=p?i.get(p):s,y=r.type,x=r.style;"text"===y&&x&&r.hv&&r.hv[1]&&(x.textVerticalAlign=x.textBaseline=x.verticalAlign=x.align=null);var _=r.textContent,b=r.textConfig;if(x&&qk(x,y,!!b,!!_)){var w=qO(x,y,!0);!b&&w.textConfig&&(b=r.textConfig=w.textConfig),!_&&w.textContent&&(_=w.textContent)}var S=function(t){return t=Mg({},t),Mw(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Bs),function(r){delete t[r]}),t}(r),A=r.$action||"merge",M="merge"===A,C="replace"===A;if(M){var T=!f,I=f;T?I=ee1(h,v,r.type,i):(I&&(eeq(I).isNew=!1),q2(I)),I&&(qW(I,S,t,{isInit:T}),ee3(I,r,u,c))}else if(C){ee2(f,r,i,t);var D=ee1(h,v,r.type,i);D&&(qW(D,S,t,{isInit:!0}),ee3(D,r,u,c))}else"remove"===A&&(qX(f,r),ee2(f,r,i,t));var R=i.get(h);if(R&&_){if(M){var P=R.getTextContent();P?P.attr(_):R.setTextContent(new R7(_))}else C&&R.setTextContent(new R7(_))}if(R){var L=r.clipPath;if(L){var B=L.type,k=void 0,T=!1;if(M){var O=R.getClipPath();k=(T=!O||eeq(O).type!==B)?ee0(B):O}else C&&(T=!0,k=ee0(B));R.setClipPath(k),qW(k,L,t,{isInit:T}),q3(k,L.keyframeAnimation,t)}var N=eeq(R);R.setTextConfig(b),N.option=r,function(t,r,i){var s=Pe(t).eventData;!t.silent&&!t.ignore&&!s&&(s=Pe(t).eventData={componentType:"graphic",componentIndex:r.componentIndex,name:t.name}),s&&(s.info=i.info)}(R,t,r),Fs({el:R,componentModel:t,itemName:R.name,itemTooltipOption:r.tooltip}),q3(R,r.keyframeAnimation,t)}})}},r.prototype._relocate=function(t,r){for(var i=t.option.elements,s=this.group,u=this._elMap,c=r.getWidth(),h=r.getHeight(),f=["x","y"],p=0;p<i.length;p++){var v=i[p],y=Di(v.id,null),x=null!=y?u.get(y):null;if(!!x&&!!x.isGroup){var _=x.parent,b=_===s,w=eeq(x),S=eeq(_);w.width=IO(w.option.width,b?c:S.width)||0,w.height=IO(w.option.height,b?h:S.height)||0}}for(var p=i.length-1;p>=0;p--){var v=i[p],y=Di(v.id,null),x=null!=y?u.get(y):null;if(!!x){var _=x.parent,S=eeq(_),A=_===s?{width:c,height:h}:{width:S.width,height:S.height},M={},C=Bh(x,v,A,null,{hv:v.hv,boundingMode:v.bounding},M);if(!eeq(x).isNew&&C){for(var T=v.transition,I={},D=0;D<f.length;D++){var R=f[D],P=M[R];T&&(qZ(T)||My(T,R)>=0)?I[R]=P:x[R]=P}P$(x,I,t,0)}else x.attr(M)}}},r.prototype._clear=function(){var t=this,r=this._elMap;r.each(function(i){ee2(i,eeq(i).option,r,t._lastGraphicModel)}),this._elMap=M2()},r.prototype.dispose=function(){this._clear()},r.type="graphic",r}(OL);function ee0(t){var r=M9(eeQ,t)?eeQ[t]:NQ(t),i=new r({});return eeq(i).type=t,i}function ee1(t,r,i,s){var u=ee0(i);return r.add(u),s.set(t,u),eeq(u).id=t,eeq(u).isNew=!0,u}function ee2(t,r,i,s){t&&t.parent&&("group"===t.type&&t.traverse(function(t){ee2(t,r,i,s)}),qY(t,r,s),i.removeKey(eeq(t).id))}function ee3(t,r,i,s){!t.isGroup&&Mw([["cursor",DK.prototype.cursor],["zlevel",s||0],["z",i||0],["z2",0]],function(i){var s=i[0];M9(r,s)?t[s]=Mj(r[s],i[1]):null==t[s]&&(t[s]=i[1])}),Mw(MT(r),function(i){if(0===i.indexOf("on")){var s=r[i];t[i]=MR(s)?s:null}}),M9(r,"draggable")&&(t.draggable=r.draggable),null!=r.name&&(t.name=r.name),null!=r.id&&(t.id=r.id)}var ee5=["x","y","radius","angle","single"],ee4=["cartesian2d","polar","singleAxis"];function ee9(t){return t+"Axis"}function ee8(t){var r=t.ecModel,i={infoList:[],infoMap:M2()};return t.eachTargetAxis(function(t,s){var u=r.getComponent(ee9(t),s);if(!u)return;var c=u.getCoordSysModel();if(!!c){var h=c.uid,f=i.infoMap.get(h);!f&&(f={model:c,axisModels:[]},i.infoList.push(f),i.infoMap.set(h,f)),f.axisModels.push(u)}}),i}var ee6=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){!this.indexMap[t]&&(this.indexList.push(t),this.indexMap[t]=!0)},t}(),ee7=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i._autoThrottle=!0,i._noTarget=!0,i._rangePropMode=["percent","percent"],i}return AK(r,t),r.prototype.init=function(t,r,i){var s=ete(t);this.settledOption=s,this.mergeDefaultAndTheme(t,i),this._doInit(s)},r.prototype.mergeOption=function(t){var r=ete(t);Mf(this.option,t,!0),Mf(this.settledOption,r,!0),this._doInit(r)},r.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;Mw([["start","startValue"],["end","endValue"]],function(t,s){"value"===this._rangePropMode[s]&&(r[t[0]]=i[t[0]]=null)},this),this._resetTarget()},r.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=M2();this._fillSpecifiedTargetAxis(r)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(t){t.indexList.length&&(this._noTarget=!1)},this)},r.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return Mw(ee5,function(i){var s=this.getReferringComponents(ee9(i),Df);if(!!s.specified){r=!0;var u=new ee6;Mw(s.models,function(t){u.add(t.componentIndex)}),t.set(i,u)}},this),r},r.prototype._fillAutoTargetAxisByOrient=function(t,r){var i=this.ecModel,s=!0,u="vertical"===r?"y":"x",c=i.findComponents({mainType:u+"Axis"});h(c,u);if(s){var c=i.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===r}});h(c,"single")}function h(r,i){var u=r[0];if(!!u){var c=new ee6;if(c.add(u.componentIndex),t.set(i,c),s=!1,"x"===i||"y"===i){var h=u.getReferringComponents("grid",Dd).models[0];h&&Mw(r,function(t){u.componentIndex!==t.componentIndex&&h===t.getReferringComponents("grid",Dd).models[0]&&c.add(t.componentIndex)})}}}s&&Mw(ee5,function(r){if(!!s){var u=i.findComponents({mainType:ee9(r),filter:function(t){return"category"===t.get("type",!0)}});if(u[0]){var c=new ee6;c.add(u[0].componentIndex),t.set(r,c),s=!1}}},this)},r.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){t||(t=r)},this),"y"===t?"vertical":"horizontal"},r.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},r.prototype._updateRangeUse=function(t){var r=this._rangePropMode,i=this.get("rangeMode");Mw([["start","startValue"],["end","endValue"]],function(s,u){var c=null!=t[s[0]],h=null!=t[s[1]];c&&!h?r[u]="percent":!c&&h?r[u]="value":i?r[u]=i[u]:c&&(r[u]="percent")})},r.prototype.noTarget=function(){return this._noTarget},r.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,i){null==t&&(t=this.ecModel.getComponent(ee9(r),i))},this),t},r.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(i,s){Mw(i.indexList,function(i){t.call(r,s,i)})})},r.prototype.getAxisProxy=function(t,r){var i=this.getAxisModel(t,r);if(i)return i.__dzAxisProxy},r.prototype.getAxisModel=function(t,r){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[r])return this.ecModel.getComponent(ee9(t),r)},r.prototype.setRawRange=function(t){var r=this.option,i=this.settledOption;Mw([["start","startValue"],["end","endValue"]],function(s){(null!=t[s[0]]||null!=t[s[1]])&&(r[s[0]]=i[s[0]]=t[s[0]],r[s[1]]=i[s[1]]=t[s[1]])},this),this._updateRangeUse(t)},r.prototype.setCalculatedRange=function(t){var r=this.option;Mw(["start","startValue","end","endValue"],function(i){r[i]=t[i]})},r.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},r.prototype.getValueRange=function(t,r){if(null!=t||null!=r)return this.getAxisProxy(t,r).getDataValueWindow();var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()},r.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),s=0;s<i.length;s++){for(var u=i[s],c=this._targetAxisInfoMap.get(u),h=0;h<c.indexList.length;h++){var f=this.getAxisProxy(u,c.indexList[h]);if(f.hostedBy(this))return f;!r&&(r=f)}}return r},r.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},r.prototype.getOrient=function(){return this._orient},r.type="dataZoom",r.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],r.defaultOption={z:4,filterMode:"filter",start:0,end:100},r}(By);function ete(t){var r={};return Mw(["start","end","startValue","endValue","throttle"],function(i){t.hasOwnProperty(i)&&(r[i]=t[i])}),r}var ett=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="dataZoom.select",r}(ee7),etn=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i,s){this.dataZoomModel=t,this.ecModel=r,this.api=i},r.type="dataZoom",r}(OL),etr=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="dataZoom.select",r}(etn),eti=Mw,eta=IF,eto=function(){function t(t,r,i,s){this._dimName=t,this._axisIndex=r,this.ecModel=s,this._dataZoomModel=i}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(r){if(My(ee4,r.get("coordinateSystem"))>=0){var i=ee9(this._dimName),s=r.getReferringComponents(i,Dd).models[0];s&&this._axisIndex===s.componentIndex&&t.push(r)}},this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return Md(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var r,i=this._dataExtent,s=this.getAxisModel().axis.scale,u=this._dataZoomModel.getRangePropMode(),c=[0,100],h=[],f=[];eti(["start","end"],function(p,v){var y=t[p],x=t[p+"Value"];"percent"===u[v]?(null==y&&(y=c[v]),x=s.parse(Ik(y,c,i))):(r=!0,y=Ik(x=null==x?i[v]:s.parse(x),i,c)),f[v]=null==x||isNaN(x)?i[v]:x,h[v]=null==y||isNaN(y)?c[v]:y}),eta(f),eta(h);var p=this._minMaxSpan;function v(t,r,i,u,c){var h=c?"Span":"ValueSpan";K0(0,t,i,"all",p["min"+h],p["max"+h]);for(var f=0;f<2;f++)r[f]=Ik(t[f],i,u,!0),c&&(r[f]=s.parse(r[f]))}return r?v(f,h,i,c,!1):v(h,f,c,i,!0),{valueWindow:f,percentWindow:h}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=function(t,r,i){var s=[1/0,-1/0];eti(i,function(t){var i,u,c;i=s,u=t.getData(),c=r,u&&Mw(GJ(u,c),function(t){var r=u.getApproximateExtent(t);r[0]<i[0]&&(i[0]=r[0]),r[1]>i[1]&&(i[1]=r[1])})});var u=t.getAxisModel(),c=GG(u.axis.scale,u,s).calculate();return[c.min,c.max]}(this,this._dimName,r),this._updateMinMaxSpan();var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,r){if(t!==this._dataZoomModel)return;var i=this._dimName,s=this.getTargetSeriesModels(),u=t.get("filterMode"),c=this._valueWindow;if("none"!==u)eti(s,function(t){var r=t.getData(),s=r.mapDimensionsAll(i);if(!!s.length){if("weakFilter"===u){var h=r.getStore(),f=MS(s,function(t){return r.getDimensionIndex(t)},r);r.filterSelf(function(t){for(var r,i,u,p=0;p<s.length;p++){var v=h.get(f[p],t),y=!isNaN(v),x=v<c[0],_=v>c[1];if(y&&!x&&!_)return!0;y&&(u=!0),x&&(r=!0),_&&(i=!0)}return u&&r&&i})}else eti(s,function(i){if("empty"===u)t.setData(r=r.map(i,function(t){return function(t){return t>=c[0]&&t<=c[1]}(t)?t:NaN}));else{var s={};s[i]=c,r.selectRange(s)}});eti(s,function(t){r.setApproximateExtent(c,t)})}})},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},r=this._dataZoomModel,i=this._dataExtent;eti(["min","max"],function(s){var u=r.get(s+"Span"),c=r.get(s+"ValueSpan");null!=c&&(c=this.getAxisModel().axis.scale.parse(c)),null!=c?u=Ik(i[0]+c,i,[0,100],!0):null!=u&&(c=Ik(u,[0,100],i,!0)-i[0]),t[s+"Span"]=u,t[s+"ValueSpan"]=c},this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),r=this._percentWindow,i=this._valueWindow;if(!!r){var s=IG(i,[0,500]);s=Math.min(s,20);var u=t.axis.scale.rawExtentInfo;0!==r[0]&&u.setDeterminedMinMax("min",+i[0].toFixed(s)),100!==r[1]&&u.setDeterminedMinMax("max",+i[1].toFixed(s)),u.freeze()}},t}();let ets={getTargetSeries:function(t){function r(r){t.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(s,u){var c=t.getComponent(ee9(s),u);r(s,u,c,i)})})}r(function(t,r,i,s){i.__dzAxisProxy=null});var i=[];r(function(r,s,u,c){!u.__dzAxisProxy&&(u.__dzAxisProxy=new eto(r,s,c,t),i.push(u.__dzAxisProxy))});var s=M2();return Mw(i,function(t){Mw(t.getTargetSeriesModels(),function(t){s.set(t.uid,t)})}),s},overallReset:function(t,r){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).reset(t)}),t.eachTargetAxis(function(i,s){t.getAxisProxy(i,s).filterData(t,r)})}),t.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),s=r.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:s[0],endValue:s[1]})}})}};var etl=!1;function etu(t){if(!etl)etl=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,ets),!function(t){t.registerAction("dataZoom",function(t,r){Mw(function(t,r){var i,s=M2(),u=[],c=M2();t.eachComponent({mainType:"dataZoom",query:r},function(t){!c.get(t.uid)&&f(t)});do i=!1,t.eachComponent("dataZoom",h);while(i);function h(t){!c.get(t.uid)&&function(t){var r=!1;return t.eachTargetAxis(function(t,i){var u=s.get(t);u&&u[i]&&(r=!0)}),r}(t)&&(f(t),i=!0)}function f(t){c.set(t.uid,!0),u.push(t),function(t){t.eachTargetAxis(function(t,r){(s.get(t)||s.set(t,[]))[r]=!0})}(t)}return u}(r,t),function(r){r.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"})}function etc(t){t.registerComponentModel(ett),t.registerComponentView(etr),etu(t)}var eth=function(){},etd={};function etf(t,r){etd[t]=r}function etp(t){return etd[t]}var etg=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;Mw(this.option.feature,function(t,i){var s=etd[i];s&&(s.getDefaultOption&&(s.defaultOption=s.getDefaultOption(r)),Mf(t,s.defaultOption))})},r.type="toolbox",r.layoutMode={type:"box",ignoreSize:!0},r.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},r}(By);function etm(t,r){var i=L9(r.get("padding")),s=r.getItemStyle(["color","opacity"]);return s.fill=r.get("backgroundColor"),t=new RY({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:r.get("borderRadius")},style:s,silent:!0,z2:-1})}var etv=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.render=function(t,r,i,s){var u,c,h,f,p,v,y,x=this.group;if(x.removeAll(),!!t.get("show")){var _=+t.get("itemSize"),b="vertical"===t.get("orient"),w=t.get("feature")||{},S=this._features||(this._features={}),A=[];Mw(w,function(t,r){A.push(r)}),new zk(this._featureNames||[],A).add(M).update(M).remove(MI(M,null)).execute(),this._featureNames=A;u=x,c=t,h=i,f=c.getBoxLayoutParams(),p=c.get("padding"),y=Bc(f,v={width:h.getWidth(),height:h.getHeight()},p),Bu(c.get("orient"),u,c.get("itemGap"),y.width,y.height),Bh(u,f,v,p),x.add(etm(x.getBoundingRect(),t)),b||x.eachChild(function(t){var r=t.__title,s=t.ensureState("emphasis"),u=s.textConfig||(s.textConfig={}),c=t.getTextContent(),h=c&&c.ensureState("emphasis");if(h&&!MR(h)&&r){var f=h.style||(h.style={}),p=Il(r,R7.makeFont(f)),v=t.x+x.x,y=t.y+x.y+_,b=!1;y+p.height>i.getHeight()&&(u.position="top",b=!0);var w=b?-5-p.height:_+10;v+p.width/2>i.getWidth()?(u.position=["100%",w],f.align="right"):v-p.width/2<0&&(u.position=[0,w],f.align="left")}})}function M(u,c){var h,f=A[u],p=A[c],v=w[f],y=new Lw(v,t,t.ecModel);if(s&&null!=s.newTitle&&s.featureName===f&&(v.title=s.newTitle),f&&!p){if(function(t){return 0===t.indexOf("my")}(f))h={onclick:y.option.onclick,featureName:f};else{var M=etd[f];if(!M)return;h=new M}S[f]=h}else if(!(h=S[p]))return;h.uid=LA("toolbox-feature"),h.model=y,h.ecModel=r,h.api=i;var C=h instanceof eth;if(!f&&p){C&&h.dispose&&h.dispose(r,i);return}if(!y.get("show")||C&&h.unusable){C&&h.remove&&h.remove(r,i);return}(function(s,u,c){var h,f,p=s.getModel("iconStyle"),v=s.getModel(["emphasis","iconStyle"]),y=u instanceof eth&&u.getIcons?u.getIcons():s.get("icon"),w=s.get("title")||{};MP(y)?(h={})[c]=y:h=y,MP(w)?(f={})[c]=w:f=w;var S=s.iconPaths={};Mw(h,function(c,h){var y=Fr(c,{},{x:-_/2,y:-_/2,width:_,height:_});y.setStyle(p.getItemStyle()),y.ensureState("emphasis").style=v.getItemStyle();var w=new R7({style:{text:f[h],align:v.get("textAlign"),borderRadius:v.get("textBorderRadius"),padding:v.get("textPadding"),fill:null,font:Ls({fontStyle:v.get("textFontStyle"),fontFamily:v.get("textFontFamily"),fontSize:v.get("textFontSize"),fontWeight:v.get("textFontWeight")},r)},ignore:!0});y.setTextContent(w),Fs({el:y,componentModel:t,itemName:h,formatterParamsExtra:{title:f[h]}}),y.__title=f[h],y.on("mouseover",function(){var r=v.getItemStyle(),s=b?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";w.setStyle({fill:v.get("textFill")||r.fill||r.stroke||"#000",backgroundColor:v.get("textBackgroundColor")}),y.setTextConfig({position:v.get("textPosition")||s}),w.ignore=!t.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==s.get(["iconStatus",h])&&i.leaveEmphasis(this),w.hide()}),("emphasis"===s.get(["iconStatus",h])?PE:PI)(y),x.add(y),y.on("click",ME(u.onclick,u,r,i,h)),S[h]=y})})(y,h,f),y.setIconStatus=function(t,r){var i=this.option,s=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=r,s[t]&&("emphasis"===r?PE:PI)(s[t])},h instanceof eth&&h.render&&h.render(y,r,i,s)}},r.prototype.updateView=function(t,r,i,s){Mw(this._features,function(t){t instanceof eth&&t.updateView&&t.updateView(t.model,r,i,s)})},r.prototype.remove=function(t,r){Mw(this._features,function(i){i instanceof eth&&i.remove&&i.remove(t,r)}),this.group.removeAll()},r.prototype.dispose=function(t,r){Mw(this._features,function(i){i instanceof eth&&i.dispose&&i.dispose(t,r)})},r.type="toolbox",r}(OL),ety=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.onclick=function(t,r){var i=this.model,s=i.get("name")||t.get("title.0.text")||"echarts",u="svg"===r.getZr().painter.getType(),c=u?"svg":i.get("type",!0)||"png",h=r.getConnectedDataURL({type:c,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),f=A2.browser;if("function"!=typeof MouseEvent||!f.newEdge&&(f.ie||f.edge)){if(window.navigator.msSaveOrOpenBlob||u){var p=h.split(","),v=p[0].indexOf("base64")>-1,y=u?decodeURIComponent(p[1]):p[1];v&&(y=window.atob(y));var x=s+"."+c;if(window.navigator.msSaveOrOpenBlob){for(var _=y.length,b=new Uint8Array(_);_--;)b[_]=y.charCodeAt(_);var w=new Blob([b]);window.navigator.msSaveOrOpenBlob(w,x)}else{var S=document.createElement("iframe");document.body.appendChild(S);var A=S.contentWindow,M=A.document;M.open("image/svg+xml","replace"),M.write(y),M.close(),A.focus(),M.execCommand("SaveAs",!0,x),document.body.removeChild(S)}}else{var C=i.get("lang"),T='<body style="margin:0;"><img src="'+h+'" style="max-width:100%;" title="'+(C&&C[0]||"")+'" /></body>',I=window.open();I.document.write(T),I.document.title=s}}else{var D=document.createElement("a");D.download=s+"."+c,D.target="_blank",D.href=h;var R=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});D.dispatchEvent(R)}},r.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},r}(eth),etx="__ec_magicType_stack__",et_=[["line","bar"],["stack"]],etb=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),i={};return Mw(t.get("type"),function(t){r[t]&&(i[t]=r[t])}),i},r.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},r.prototype.onclick=function(t,r,i){var s,u=this.model,c=u.get(["seriesIndex",i]);if(!!etw[i]){var h={series:[]};Mw(et_,function(t){My(t,i)>=0&&Mw(t,function(t){u.setIconStatus(t,"normal")})}),u.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==c?null:{seriesIndex:c}},function(t){var r=t.subType,s=t.id,c=etw[i](r,s,t,u);c&&(Mm(c,t.option),h.series.push(c));var f=t.coordinateSystem;if(f&&"cartesian2d"===f.type&&("line"===i||"bar"===i)){var p=f.getAxesByScale("ordinal")[0];if(p){var v=p.dim+"Axis",y=t.getReferringComponents(v,Dd).models[0].componentIndex;h[v]=h[v]||[];for(var x=0;x<=y;x++)h[v][y]=h[v][y]||{};h[v][y].boundaryGap="bar"===i}}});var f=i;"stack"===i&&(s=Mf({stack:u.option.title.tiled,tiled:u.option.title.stack},u.option.title),"emphasis"!==u.get(["iconStatus",i])&&(f="tiled")),r.dispatchAction({type:"changeMagicType",currentType:f,newOption:h,newTitle:s,featureName:"magicType"})}},r}(eth),etw={line:function(t,r,i,s){if("bar"===t)return Mf({id:r,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},s.get(["option","line"])||{},!0)},bar:function(t,r,i,s){if("line"===t)return Mf({id:r,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},s.get(["option","bar"])||{},!0)},stack:function(t,r,i,s){var u=i.get("stack")===etx;if("line"===t||"bar"===t)return s.setIconStatus("stack",u?"normal":"emphasis"),Mf({id:r,stack:u?"":etx},s.get(["option","stack"])||{},!0)}};zv({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,r){r.mergeOption(t.newOption)});var etS=Array(60).join("-");function etA(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var etM=RegExp("[	]+","g"),etC=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.onclick=function(t,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),s=this.model;this._dom&&i.removeChild(this._dom);var u=document.createElement("div");u.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",u.style.backgroundColor=s.get("backgroundColor")||"#fff";var c=document.createElement("h4"),h=s.get("lang")||[];c.innerHTML=h[0]||s.get("title"),c.style.cssText="margin:10px 20px",c.style.color=s.get("textColor");var f=document.createElement("div"),p=document.createElement("textarea");f.style.cssText="overflow:auto";var v=s.get("optionToContent"),y=s.get("contentToOption"),x=function(t){var r,i,s,u,c,h=(r={},i=[],s=[],t.eachRawSeries(function(t){var u=t.coordinateSystem;if(u&&("cartesian2d"===u.type||"polar"===u.type)){var c=u.getBaseAxis();if("category"===c.type){var h=c.dim+"_"+c.index;!r[h]&&(r[h]={categoryAxis:c,valueAxis:u.getOtherAxis(c),series:[]},s.push({axisDim:c.dim,axisIndex:c.index})),r[h].series.push(t)}else i.push(t)}else i.push(t)}),{seriesGroupByCategoryAxis:r,other:i,meta:s});return{value:MM([(u=h.seriesGroupByCategoryAxis,c=[],Mw(u,function(t,r){var i=t.categoryAxis,s=t.valueAxis.dim,u=[" "].concat(MS(t.series,function(t){return t.name})),h=[i.model.getCategories()];Mw(t.series,function(t){var r=t.getRawData();h.push(t.getRawData().mapArray(r.mapDimension(s),function(t){return t}))});for(var f=[u.join("	")],p=0;p<h[0].length;p++){for(var v=[],y=0;y<h.length;y++)v.push(h[y][p]);f.push(v.join("	"))}c.push(f.join("\n"))}),c.join("\n\n"+etS+"\n\n")),MS(h.other,function(t){var r=t.getRawData(),i=[t.name],s=[];return r.each(r.dimensions,function(){for(var t=arguments.length,u=arguments[t-1],c=r.getName(u),h=0;h<t-1;h++)s[h]=arguments[h];i.push((c?c+"	":"")+s.join("	"))}),i.join("\n")}).join("\n\n"+etS+"\n\n")],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+etS+"\n\n"),meta:h.meta}}(t);if(MR(v)){var _=v(r.getOption());MP(_)?f.innerHTML=_:MF(_)&&f.appendChild(_)}else{p.readOnly=s.get("readOnly");var b=p.style;b.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",b.color=s.get("textColor"),b.borderColor=s.get("textareaBorderColor"),b.backgroundColor=s.get("textareaColor"),p.value=x.value,f.appendChild(p)}var w=x.meta,S=document.createElement("div");S.style.cssText="position:absolute;bottom:5px;left:0;right:0";var A="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",M=document.createElement("div"),C=document.createElement("div");A+=";background-color:"+s.get("buttonColor")+(";color:"+s.get("buttonTextColor"));var T=this;function I(){i.removeChild(u),T._dom=null}Cj(M,"click",I),Cj(C,"click",function(){var t,i,s,u,c;if(null==y&&null!=v||null!=y&&null==v){I();return}try{if(MR(y))t=y(f,r.getOption());else{;i=p.value,s=w,u=i.split(RegExp("\n*"+etS+"\n*","g")),c={series:[]},Mw(u,function(t,r){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf("	")>=0)return!0}(t)){var i=function(t){for(var r=t.split(/\n+/g),i=etA(r.shift()).split(etM),s=[],u=MS(i,function(t){return{name:t,data:[]}}),c=0;c<r.length;c++){var h=etA(r[c]).split(etM);s.push(h.shift());for(var f=0;f<h.length;f++)u[f]&&(u[f].data[c]=h[f])}return{series:u,categories:s}}(t),u=s[r],h=u.axisDim+"Axis";u&&(c[h]=c[h]||[],c[h][u.axisIndex]={data:i.categories},c.series=c.series.concat(i.series))}else{var i=function(t){for(var r=t.split(/\n+/g),i=etA(r.shift()),s=[],u=0;u<r.length;u++){var c=etA(r[u]);if(!!c){var h=c.split(etM),f="",p=void 0,v=!1;isNaN(h[0])?(v=!0,f=h[0],h=h.slice(1),s[u]={name:f,value:[]},p=s[u].value):p=s[u]=[];for(var y=0;y<h.length;y++)p.push(+h[y]);1===p.length&&(v?s[u].value=p[0]:s[u]=p[0])}}return{name:i,data:s}}(t);c.series.push(i)}}),t=c}}catch(t){throw I(),Error("Data view format error "+t)}t&&r.dispatchAction({type:"changeDataView",newOption:t}),I()}),M.innerHTML=h[1],C.innerHTML=h[2],C.style.cssText=M.style.cssText=A,s.get("readOnly")||S.appendChild(C),S.appendChild(M),u.appendChild(c),u.appendChild(f),u.appendChild(S),f.style.height=i.clientHeight-80+"px",i.appendChild(u),this._dom=u},r.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},r.prototype.dispose=function(t,r){this.remove(t,r)},r.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},r}(eth);zv({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,r){var i=[];Mw(t.newOption.series,function(t){var s=r.getSeriesByName(t.name)[0];if(s){var u,c,h=s.get("data");i.push({name:t.name,data:(u=t.data,c=h,MS(u,function(t,r){var i=c&&c[r];if(!Mk(i)||MD(i))return t;!(Mk(t)&&!MD(t))&&(t={value:t});var s=null!=i.name&&null==t.name;return t=Mm(t,i),s&&delete t.name,t}))})}else i.push(Mg({type:"scatter"},t))}),r.mergeOption(Mm({series:i},t.newOption))});var etT=Mw,etE=Dl();function etI(t){var r=etE(t);return!r.snapshots&&(r.snapshots=[{}]),r.snapshots}var etD=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.onclick=function(t,r){etE(t).snapshots=null,r.dispatchAction({type:"restore",from:this.uid})},r.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},r}(eth);zv({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,r){r.resetOption("recreate")});var etR=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],etP=function(){function t(t,r,i){var s=this;this._targetInfoList=[];var u=etB(r,t);Mw(etk,function(t,r){(!i||!i.include||My(i.include,r)>=0)&&t(u,s._targetInfoList)})}return t.prototype.setOutputRanges=function(t,r){return this.matchOutputRanges(t,r,function(t,r,i){if((t.coordRanges||(t.coordRanges=[])).push(r),!t.coordRange){t.coordRange=r;var s=etF[t.brushType](0,i,r);t.__rangeOffset={offset:etz[t.brushType](s.values,t.range,[1,1]),xyMinMax:s.xyMinMax}}}),t},t.prototype.matchOutputRanges=function(t,r,i){Mw(t,function(t){var s=this.findTargetInfo(t,r);s&&!0!==s&&Mw(s.coordSyses,function(s){var u=etF[t.brushType](1,s,t.range,!0);i(t,u.values,s,r)})},this)},t.prototype.setInputRanges=function(t,r){Mw(t,function(t){var i=this.findTargetInfo(t,r);if(t.range=t.range||[],i&&!0!==i){t.panelId=i.panelId;var s=etF[t.brushType](0,i.coordSys,t.coordRange),u=t.__rangeOffset;t.range=u?etz[t.brushType](s.values,u.offset,function(t,r){var i=etH(t),s=etH(r),u=[i[0]/s[0],i[1]/s[1]];return isNaN(u[0])&&(u[0]=1),isNaN(u[1])&&(u[1]=1),u}(s.xyMinMax,u.xyMinMax)):s.values}},this)},t.prototype.makePanelOpts=function(t,r){return MS(this._targetInfoList,function(i){var s=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:r?r(i):null,clipPath:JV(s),isTargetByCursor:JW(s,t,i.coordSysModel),getLinearBrushOtherExtent:Jj(s)}})},t.prototype.controlSeries=function(t,r,i){var s=this.findTargetInfo(t,i);return!0===s||s&&My(s.coordSyses,r.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,r){for(var i=this._targetInfoList,s=etB(r,t),u=0;u<i.length;u++){var c=i[u],h=t.panelId;if(h){if(c.panelId===h)return c}else for(var f=0;f<etO.length;f++)if(etO[f](s,c))return c}return!0},t}();function etL(t){return t[0]>t[1]&&t.reverse(),t}function etB(t,r){return Dc(t,r,{includeMainTypes:etR})}var etk={grid:function(t,r){var i=t.xAxisModels,s=t.yAxisModels,u=t.gridModels,c=M2(),h={},f={};if(!!i||!!s||!!u)Mw(i,function(t){var r=t.axis.grid.model;c.set(r.id,r),h[r.id]=!0}),Mw(s,function(t){var r=t.axis.grid.model;c.set(r.id,r),f[r.id]=!0}),Mw(u,function(t){c.set(t.id,t),h[t.id]=!0,f[t.id]=!0}),c.each(function(t){var u=t.coordinateSystem,c=[];Mw(u.getCartesians(),function(t,r){(My(i,t.getAxis("x").model)>=0||My(s,t.getAxis("y").model)>=0)&&c.push(t)}),r.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:c[0],coordSyses:c,getPanelRect:etN.grid,xAxisDeclared:h[t.id],yAxisDeclared:f[t.id]})})},geo:function(t,r){Mw(t.geoModels,function(t){var i=t.coordinateSystem;r.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:etN.geo})})}},etO=[function(t,r){var i=t.xAxisModel,s=t.yAxisModel,u=t.gridModel;return!u&&i&&(u=i.axis.grid.model),!u&&s&&(u=s.axis.grid.model),u&&u===r.gridModel},function(t,r){var i=t.geoModel;return i&&i===r.geoModel}],etN={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,r=t.getBoundingRect().clone();return r.applyTransform(N9(t)),r}},etF={lineX:MI(etU,0),lineY:MI(etU,1),rect:function(t,r,i,s){var u=t?r.pointToData([i[0][0],i[1][0]],s):r.dataToPoint([i[0][0],i[1][0]],s),c=t?r.pointToData([i[0][1],i[1][1]],s):r.dataToPoint([i[0][1],i[1][1]],s),h=[etL([u[0],c[0]]),etL([u[1],c[1]])];return{values:h,xyMinMax:h}},polygon:function(t,r,i,s){var u=[[1/0,-1/0],[1/0,-1/0]];return{values:MS(i,function(i){var c=t?r.pointToData(i,s):r.dataToPoint(i,s);return u[0][0]=Math.min(u[0][0],c[0]),u[1][0]=Math.min(u[1][0],c[1]),u[0][1]=Math.max(u[0][1],c[0]),u[1][1]=Math.max(u[1][1],c[1]),c}),xyMinMax:u}}};function etU(t,r,i,s){var u=i.getAxis(["x","y"][t]),c=etL(MS([0,1],function(t){return r?u.coordToData(u.toLocalCoord(s[t]),!0):u.toGlobalCoord(u.dataToCoord(s[t]))})),h=[];return h[t]=c,h[1-t]=[NaN,NaN],{values:c,xyMinMax:h}}var etz={lineX:MI(etG,0),lineY:MI(etG,1),rect:function(t,r,i){return[[t[0][0]-i[0]*r[0][0],t[0][1]-i[0]*r[0][1]],[t[1][0]-i[1]*r[1][0],t[1][1]-i[1]*r[1][1]]]},polygon:function(t,r,i){return MS(t,function(t,s){return[t[0]-i[0]*r[s][0],t[1]-i[1]*r[s][1]]})}};function etG(t,r,i,s){return[r[0]-s[t]*i[0],r[1]-s[t]*i[1]]}function etH(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var etV=Mw,etj=I9+"toolbox-dataZoom_",etW=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.render=function(t,r,i,s){!this._brushController&&(this._brushController=new Jd(i.getZr()),this._brushController.on("brush",ME(this._onBrush,this)).mount()),function(t,r,i,s,u){var c=i._isZoomActive;s&&"takeGlobalCursor"===s.type&&(c="dataZoomSelect"===s.key&&s.dataZoomSelectActive),i._isZoomActive=c,t.setIconStatus("zoom",c?"emphasis":"normal");var h=new etP(etY(t),r,{include:["grid"]}).makePanelOpts(u,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"});i._brushController.setPanels(h).enableBrush(!!c&&!!h.length&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,r,this,s,i),function(t,r){t.setIconStatus("back",etI(r).length>1?"emphasis":"normal")}(t,r)},r.prototype.onclick=function(t,r,i){etX[i].call(this)},r.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},r.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},r.prototype._onBrush=function(t){var r,i,s,u=t.areas;if(!!t.isEnd&&!!u.length){var c={},h=this.ecModel;this._brushController.updateCovers([]),new etP(etY(this.model),h,{include:["grid"]}).matchOutputRanges(u,h,function(t,r,i){if("cartesian2d"===i.type){var s=t.brushType;"rect"===s?(f("x",i,r[0]),f("y",i,r[1])):f({lineX:"x",lineY:"y"}[s],i,r)}}),r=h,i=c,s=etI(r),etT(i,function(t,i){for(var u=s.length-1;u>=0&&!s[u][i];u--);if(u<0){var c=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(c){var h=c.getPercentRange();s[0][i]={dataZoomId:i,start:h[0],end:h[1]}}}}),s.push(i),this._dispatchZoomAction(c)}function f(t,r,i){var s=r.getAxis(t),u=s.model,f=function(t,r,i){var s;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(i){i.getAxisModel(t,r.componentIndex)&&(s=i)}),s}(t,u,h),p=f.findRepresentativeAxisProxy(u).getMinMaxSpan();(null!=p.minValueSpan||null!=p.maxValueSpan)&&(i=K0(0,i.slice(),s.scale.getExtent(),0,p.minValueSpan,p.maxValueSpan)),f&&(c[f.id]={dataZoomId:f.id,startValue:i[0],endValue:i[1]})}},r.prototype._dispatchZoomAction=function(t){var r=[];etV(t,function(t,i){r.push(Md(t))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},r.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},r}(eth),etX={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){var t,r,i;this._dispatchZoomAction((r=(t=etI(this.ecModel))[t.length-1],t.length>1&&t.pop(),i={},etT(r,function(r,s){for(var u=t.length-1;u>=0;u--)if(r=t[u][s]){i[s]=r;break}}),i))}};function etY(t){var r={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==r.xAxisIndex&&null==r.xAxisId&&(r.xAxisIndex="all"),null==r.yAxisIndex&&null==r.yAxisId&&(r.yAxisIndex="all"),r}!function(t,r){MZ(null==BN.get(t)&&r),BN.set(t,r)}("dataZoom",function(t){var r=t.getComponent("toolbox",0),i=["feature","dataZoom"];if(!!r&&null!=r.get(i)){var s=r.getModel(i),u=[],c=Dc(t,etY(s));return etV(c.xAxisModels,function(t){return h(t,"xAxis","xAxisIndex")}),etV(c.yAxisModels,function(t){return h(t,"yAxis","yAxisIndex")}),u}function h(t,r,i){var c=t.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:s.get("filterMode",!0)||"filter",id:etj+r+c};h[i]=c,u.push(h)}});var etZ=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="tooltip",r.dependencies=["axisPointer"],r.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},r}(By);function etK(t){var r=t.get("confine");return null!=r?!!r:"richText"===t.get("renderMode")}function etJ(t){if(!!A2.domSupported){for(var r=document.documentElement.style,i=0,s=t.length;i<s;i++)if(t[i]in r)return t[i]}}var etQ=etJ(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),etq=etJ(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function et$(t,r){if(!t)return r;r=L4(r,!0);var i=t.indexOf(r);return(t=-1===i?r:"-"+t.slice(0,i)+"-"+r).toLowerCase()}var et0=et$(etq,"transition"),et1=et$(etQ,"transform"),et2="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(A2.transform3dSupported?"will-change:transform;":"");function et3(t,r,i){var s=t.toFixed(0)+"px",u=r.toFixed(0)+"px";if(!A2.transformSupported)return i?"top:"+u+";left:"+s+";":[["top",u],["left",s]];var c=A2.transform3dSupported,h="translate"+(c?"3d":"")+"("+s+","+u+(c?",0":"")+")";return i?"top:0;left:0;"+et1+":"+h+";":[["top",0],["left",0],[etQ,h]]}function et5(t,r,i,s,u){var c=r&&r.painter;if(i){var h,f,p,v=c&&c.getViewportRoot();if(v){;h=t,f=v,p=i,CP(CR,f,s,u,!0)&&CP(h,p,CR[0],CR[1])}}else{t[0]=s,t[1]=u;var y=c&&c.getViewportRootOffset();y&&(t[0]+=y.offsetLeft,t[1]+=y.offsetTop)}t[2]=t[0]/r.getWidth(),t[3]=t[1]/r.getHeight()}var et4=function(){function t(t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,A2.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var s=this._zr=t.getZr(),u=r.appendTo,c=u&&(MP(u)?document.querySelector(u):MF(u)?u:MR(u)&&u(t.getDom()));et5(this._styleCoord,s,c,t.getWidth()/2,t.getHeight()/2),(c||t.getDom()).appendChild(i),this._api=t,this._container=c;var h=this;i.onmouseenter=function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!h._enterable){var r=s.handler;CV(s.painter.getViewportRoot(),t,!0),r.dispatch("mousemove",t)}},i.onmouseleave=function(){h._inContent=!1,h._enterable&&h._show&&h.hideLater(h._hideDelay)}}return t.prototype.update=function(t){if(!this._container){var r,i,s,u=this._api.getDom();var c=(i="position",(s=(r=u).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r))?i?s[i]:s:null),h=u.style;"absolute"!==h.position&&"absolute"!==c&&(h.position="relative")}var f=t.get("alwaysShowContent");f&&this._moveIfResized(),this._alwaysShowContent=f,this.el.className=t.get("className")||""},t.prototype.show=function(t,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i,s,u,c,h,f,p,v,y,x,_,b,w,S,A,M,C,T,I,D,R,P,L,B,k,O=this.el,N=O.style,F=this._styleCoord;if(O.innerHTML){;N.cssText=et2+(i=t,s=!this._firstShow,u=this._longHide,c=[],h=i.get("transitionDuration"),f=i.get("backgroundColor"),p=i.get("shadowBlur"),v=i.get("shadowColor"),y=i.get("shadowOffsetX"),x=i.get("shadowOffsetY"),_=i.getModel("textStyle"),b=Ov(i,"html"),c.push("box-shadow:"+(y+"px "+x+"px "+p+"px ")+v),s&&h&&c.push((w=h,S=u,C="opacity"+(M=" "+w/2+"s "+(A="cubic-bezier(0.23,1,0.32,1)"))+",visibility"+M,!S&&(M=" "+w+"s "+A,C+=A2.transformSupported?","+et1+M:",left"+M+",top"+M),et0+":"+C)),f&&c.push("background-color:"+f),Mw(["width","color","radius"],function(t){var r="border-"+t,s=L4(r),u=i.get(s);null!=u&&c.push(r+":"+u+("color"===t?"":"px"))}),c.push((I=[],D=(T=_).get("fontSize"),(R=T.getTextColor())&&I.push("color:"+R),I.push("font:"+T.getFont()),D&&I.push("line-height:"+Math.round(3*D/2)+"px"),P=T.get("textShadowColor"),L=T.get("textShadowBlur")||0,B=T.get("textShadowOffsetX")||0,k=T.get("textShadowOffsetY")||0,P&&L&&I.push("text-shadow:"+B+"px "+k+"px "+L+"px "+P),Mw(["decoration","align"],function(t){var r=T.get(t);r&&I.push("text-"+t+":"+r)}),I.join(";"))),null!=b&&c.push("padding:"+L9(b).join("px ")+"px"),c.join(";")+";")+et3(F[0],F[1],!0)+("border-color:"+Bi(r))+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none")}else N.display="none";this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,r,i,s,u){var c=this.el;if(null==t){c.innerHTML="";return}var h="";if(MP(u)&&"item"===i.get("trigger")&&!etK(i)&&(h=function(t,r,i){if(!MP(i)||"inside"===i)return"";var s,u,c=t.get("backgroundColor"),h=t.get("borderWidth");r=Bi(r);var f=s="left"===(s=i)?"right":"right"===s?"left":"top"===s?"bottom":"top",p=Math.max(1.5*Math.round(h),6),v="",y=et1+":";My(["left","right"],f)>-1?(v+="top:50%",y+="translateY(-50%) rotate("+(u="left"===f?-225:-45)+"deg)"):(v+="left:50%",y+="translateX(-50%) rotate("+(u="top"===f?225:45)+"deg)");var x=u*Math.PI/180,_=p+h,b=_*Math.abs(Math.cos(x))+_*Math.abs(Math.sin(x));v+=";"+f+":-"+Math.round(((b-Math.SQRT2*h)/2+Math.SQRT2*h-(b-_)/2)*100)/100+"px";var w=r+" solid "+h+"px;";return'<div style="'+["position:absolute;width:"+p+"px;height:"+p+"px;z-index:-1;",v+";"+y+";","border-bottom:"+w,"border-right:"+w,"background-color:"+c+";"].join("")+'"></div>'}(i,s,u)),MP(t))c.innerHTML=t+h;else if(t){c.innerHTML="",!MD(t)&&(t=[t]);for(var f=0;f<t.length;f++)MF(t[f])&&t[f].parentNode!==c&&c.appendChild(t[f]);if(h&&c.childNodes.length){var p=document.createElement("div");p.innerHTML=h,c.appendChild(p)}}},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,r){var i=this._styleCoord;if(et5(i,this._zr,this._container,t,r),null!=i[0]&&null!=i[1]){var s=this.el.style;Mw(et3(i[0],i[1]),function(t){s[t[0]]=t[1]})}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){var t=this,r=this.el.style;r.visibility="hidden",r.opacity="0",A2.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},t.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(ME(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},t}(),et9=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),et7(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var r=t.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,r,i,s,u){var c=this;Mk(t)&&kU(""),this.el&&this._zr.remove(this.el);var h=i.getModel("textStyle");this.el=new R7({style:{rich:r.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:s,textShadowColor:h.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:Ov(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),Mw(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(t){c.el.style[t]=i.get(t)}),Mw(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(t){c.el.style[t]=h.get(t)||0}),this._zr.add(this.el);var f=this;this.el.on("mouseover",function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0}),this.el.on("mouseout",function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1})},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,r=this.el.getBoundingRect(),i=et6(t.style);return[r.width+i.left+i.right,r.height+i.top+i.bottom]},t.prototype.moveTo=function(t,r){var i=this.el;if(i){var s=this._styleCoord;et7(s,this._zr,t,r),t=s[0],r=s[1];var u=i.style,c=et8(u.borderWidth||0),h=et6(u);i.x=t+c+h.left,i.y=r+c+h.top,i.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(ME(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function et8(t){return Math.max(0,t)}function et6(t){var r=et8(t.shadowBlur||0),i=et8(t.shadowOffsetX||0),s=et8(t.shadowOffsetY||0);return{left:et8(r-i),right:et8(r+i),top:et8(r-s),bottom:et8(r+s)}}function et7(t,r,i,s){t[0]=i,t[1]=s,t[2]=t[0]/r.getWidth(),t[3]=t[1]/r.getHeight()}var ene=new RY({shape:{x:-1,y:-1,width:2,height:2}}),ent=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(t,r){if(!A2.node&&!!r.getDom()){var i,s=t.getComponent("tooltip");var u=this._renderMode="auto"===(i=s.get("renderMode"))?A2.domSupported?"html":"richText":i||"html";this._tooltipContent="richText"===u?new et9(r):new et4(r,{appendTo:s.get("appendToBody",!0)?"body":s.get("appendTo",!0)})}},r.prototype.render=function(t,r,i){if(!A2.node&&!!i.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var s=this._tooltipContent;s.update(t),s.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?FS(this,"_updatePosition",50,"fixRate"):FA(this,"_updatePosition")}},r.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");$H("itemTooltip",this._api,ME(function(r,i,s){"none"!==t&&(t.indexOf(r)>=0?this._tryShow(i,s):"leave"===r&&this._hide(s))},this))},r.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,s=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==s&&"click"!==s){var u=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){i.isDisposed()||u.manuallyShowTip(t,r,i,{x:u._lastX,y:u._lastY,dataByCoordSys:u._lastDataByCoordSys})})}},r.prototype.manuallyShowTip=function(t,r,i,s){if(s.from!==this.uid&&!A2.node&&!!i.getDom()){var u=enr(s,i);this._ticket="";var c=s.dataByCoordSys,h=function(t,r,i){var s,u=Dh(t).queryOptionMap,c=u.keys()[0];if(!c||"series"===c)return;var h=Dp(r,c,u.get(c),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(!!h){if(i.getViewOfComponentModel(h).group.traverse(function(r){var i=Pe(r).tooltipConfig;if(i&&i.name===t.name)return s=r,!0}),s)return{componentMainType:c,componentIndex:h.componentIndex,el:s}}}(s,r,i);if(h){var f=h.el.getBoundingRect().clone();f.applyTransform(h.el.transform),this._tryShow({offsetX:f.x+f.width/2,offsetY:f.y+f.height/2,target:h.el,position:s.position,positionDefault:"bottom"},u)}else if(s.tooltip&&null!=s.x&&null!=s.y)ene.x=s.x,ene.y=s.y,ene.update(),Pe(ene).tooltipConfig={name:null,option:s.tooltip},this._tryShow({offsetX:s.x,offsetY:s.y,target:ene},u);else if(c)this._tryShow({offsetX:s.x,offsetY:s.y,position:s.position,dataByCoordSys:c,tooltipOption:s.tooltipOption},u);else if(null!=s.seriesIndex){if(this._manuallyAxisShowTip(t,r,i,s))return;var p=$Y(s,r),v=p.point[0],y=p.point[1];null!=v&&null!=y&&this._tryShow({offsetX:v,offsetY:y,target:p.el,position:s.position,positionDefault:"bottom"},u)}else null!=s.x&&null!=s.y&&(i.dispatchAction({type:"updateAxisPointer",x:s.x,y:s.y}),this._tryShow({offsetX:s.x,offsetY:s.y,position:s.position,target:i.getZr().findHover(s.x,s.y).target},u))}},r.prototype.manuallyHideTip=function(t,r,i,s){var u=this._tooltipContent;this._tooltipModel&&u.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,s.from!==this.uid&&this._hide(enr(s,i))},r.prototype._manuallyAxisShowTip=function(t,r,i,s){var u=s.seriesIndex,c=s.dataIndex,h=r.getComponent("axisPointer").coordSysAxesInfo;if(null==u||null==c||null==h)return;var f=r.getSeriesByIndex(u);if(!!f&&"axis"===enn([f.getData().getItemModel(c),f,(f.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:u,dataIndex:c,position:s.position}),!0},r.prototype._tryShow=function(t,r){var i,s,u=t.target;if(!!this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var c=t.dataByCoordSys;if(c&&c.length)this._showAxisTooltip(c,t);else if(u){;if("legend"===Pe(u).ssrType)return;this._lastDataByCoordSys=null,F4(u,function(t){return null!=Pe(t).dataIndex?(i=t,!0):null!=Pe(t).tooltipConfig?(s=t,!0):void 0},!0),i?this._showSeriesItemTooltip(t,i,r):s?this._showComponentItemTooltip(t,s,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},r.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=ME(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},r.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,s=this._tooltipModel,u=[r.offsetX,r.offsetY],c=enn([r.tooltipOption],s),h=this._renderMode,f=[],p=Ol("section",{blocks:[],noHeader:!0}),v=[],y=new Oy;Mw(t,function(t){Mw(t.dataByAxis,function(t){var r=i.getComponent(t.axisDim+"Axis",t.axisIndex),u=t.value;if(!!r&&null!=u){var c=$D(u,r.axis,i,t.seriesDataIndices,t.valueLabelOpt),x=Ol("section",{header:c,noHeader:!MK(c),sortBlocks:!0,blocks:[]});p.blocks.push(x),Mw(t.seriesDataIndices,function(p){var _=i.getSeriesByIndex(p.seriesIndex),b=p.dataIndexInside,w=_.getDataParams(b);if(!(w.dataIndex<0)){w.axisDim=t.axisDim,w.axisIndex=t.axisIndex,w.axisType=t.axisType,w.axisId=t.axisId,w.axisValue=GY(r.axis,{value:u}),w.axisValueLabel=c,w.marker=y.makeTooltipMarker("item",Bi(w.color),h);var S=kR(_.formatTooltip(b,!0,null)),A=S.frag;if(A){var M=enn([_],s).get("valueFormatter");x.blocks.push(M?Mg({valueFormatter:M},A):A)}S.text&&v.push(S.text),f.push(w)}})}})}),p.blocks.reverse(),v.reverse();var x=r.position,_=Of(p,y,h,c.get("order"),i.get("useUTC"),c.get("textStyle"));_&&v.unshift(_);var b="richText"===h?"\n\n":"<br/>",w=v.join(b);this._showOrMove(c,function(){this._updateContentNotChangedOnAxis(t,f)?this._updatePosition(c,x,u[0],u[1],this._tooltipContent,f):this._showTooltipContent(c,w,f,Math.random()+"",u[0],u[1],x,null,y)})},r.prototype._showSeriesItemTooltip=function(t,r,i){var s=this._ecModel,u=Pe(r),c=u.seriesIndex,h=s.getSeriesByIndex(c),f=u.dataModel||h,p=u.dataIndex,v=u.dataType,y=f.getData(v),x=this._renderMode,_=t.positionDefault,b=enn([y.getItemModel(p),f,h&&(h.coordinateSystem||{}).model],this._tooltipModel,_?{position:_}:null),w=b.get("trigger");if(null==w||"item"===w){var S=f.getDataParams(p,v),A=new Oy;S.marker=A.makeTooltipMarker("item",Bi(S.color),x);var M=kR(f.formatTooltip(p,!1,v)),C=b.get("order"),T=b.get("valueFormatter"),I=M.frag,D=I?Of(T?Mg({valueFormatter:T},I):I,A,x,C,s.get("useUTC"),b.get("textStyle")):M.text,R="item_"+f.name+"_"+p;this._showOrMove(b,function(){this._showTooltipContent(b,D,S,R,t.offsetX,t.offsetY,t.position,t.target,A)}),i({type:"showTip",dataIndexInside:p,dataIndex:y.getRawIndex(p),seriesIndex:c,from:this.uid})}},r.prototype._showComponentItemTooltip=function(t,r,i){var s="html"===this._renderMode,u=Pe(r),c=u.tooltipConfig.option||{},h=c.encodeHTMLContent;if(MP(c)){var f=c;c={content:f,formatter:f},h=!0}h&&s&&c.content&&((c=Md(c)).content=CO(c.content));var p=[c],v=this._ecModel.getComponent(u.componentMainType,u.componentIndex);v&&p.push(v),p.push({formatter:c.content});var y=t.positionDefault,x=enn(p,this._tooltipModel,y?{position:y}:null),_=x.get("content"),b=Math.random()+"",w=new Oy;this._showOrMove(x,function(){var i=Md(x.get("formatterParams")||{});this._showTooltipContent(x,_,i,b,t.offsetX,t.offsetY,t.position,r,w)}),i({type:"showTip",from:this.uid})},r.prototype._showTooltipContent=function(t,r,i,s,u,c,h,f,p){if(this._ticket="",!!t.get("showContent")&&!!t.get("show")){var v=this._tooltipContent;v.setEnterable(t.get("enterable"));var y=t.get("formatter");h=h||t.get("position");var x=r,_=this._getNearestPoint([u,c],i,t.get("trigger"),t.get("borderColor")).color;if(y){if(MP(y)){var b=t.ecModel.get("useUTC"),w=MD(i)?i[0]:i,S=w&&w.axisType&&w.axisType.indexOf("time")>=0;x=y,S&&(x=LH(w.axisValue,x,b)),x=Be(x,i,!0)}else if(MR(y)){var A=ME(function(r,s){r===this._ticket&&(v.setContent(s,p,t,_,h),this._updatePosition(t,h,u,c,v,i,f))},this);this._ticket=s,x=y(i,s,A)}else x=y}v.setContent(x,p,t,_,h),v.show(t,_),this._updatePosition(t,h,u,c,v,i,f)}},r.prototype._getNearestPoint=function(t,r,i,s){return"axis"===i||MD(r)?{color:s||("html"===this._renderMode?"#fff":"none")}:MD(r)?void 0:{color:s||r.color||r.borderColor}},r.prototype._updatePosition=function(t,r,i,s,u,c,h){var f=this._api.getWidth(),p=this._api.getHeight();r=r||t.get("position");var v=u.getSize(),y=t.get("align"),x=t.get("verticalAlign"),_=h&&h.getBoundingRect().clone();if(h&&_.applyTransform(h.transform),MR(r)&&(r=r([i,s],c,u.el,_,{viewSize:[f,p],contentSize:v.slice()})),MD(r))i=IO(r[0],f),s=IO(r[1],p);else if(Mk(r)){var b=r;b.width=v[0],b.height=v[1];var w=Bc(b,{width:f,height:p});i=w.x,s=w.y,y=null,x=null}else if(MP(r)&&h){var S=function(t,r,i,s){var u=i[0],c=i[1],h=Math.ceil(Math.SQRT2*s)+8,f=0,p=0,v=r.width,y=r.height;switch(t){case"inside":f=r.x+v/2-u/2,p=r.y+y/2-c/2;break;case"top":f=r.x+v/2-u/2,p=r.y-c-h;break;case"bottom":f=r.x+v/2-u/2,p=r.y+y+h;break;case"left":f=r.x-u-h,p=r.y+y/2-c/2;break;case"right":f=r.x+v+h,p=r.y+y/2-c/2}return[f,p]}(r,_,v,t.get("borderWidth"));i=S[0],s=S[1]}else{var S=function(t,r,i,s,u,c,h){var f=i.getSize(),p=f[0],v=f[1];return null!=c&&(t+p+c+2>s?t-=p+c:t+=c),null!=h&&(r+v+h>u?r-=v+h:r+=h),[t,r]}(i,s,u,f,p,y?null:20,x?null:20);i=S[0],s=S[1]}if(y&&(i-=eni(y)?v[0]/2:"right"===y?v[0]:0),x&&(s-=eni(x)?v[1]/2:"bottom"===x?v[1]:0),etK(t)){var S=function(t,r,i,s,u){var c=i.getSize(),h=c[0],f=c[1];return t=Math.min(t+h,s)-h,r=Math.min(r+f,u)-f,[t=Math.max(t,0),r=Math.max(r,0)]}(i,s,u,f,p);i=S[0],s=S[1]}u.moveTo(i,s)},r.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,s=this._cbParamsList,u=!!i&&i.length===t.length;return u&&Mw(i,function(i,c){var h=i.dataByAxis||[],f=(t[c]||{}).dataByAxis||[];(u=u&&h.length===f.length)&&Mw(h,function(t,i){var c=f[i]||{},h=t.seriesDataIndices||[],p=c.seriesDataIndices||[];(u=u&&t.value===c.value&&t.axisType===c.axisType&&t.axisId===c.axisId&&h.length===p.length)&&Mw(h,function(t,r){var i=p[r];u=u&&t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex}),s&&Mw(t.seriesDataIndices,function(t){var i=t.seriesIndex,c=r[i],h=s[i];c&&h&&h.data!==c.data&&(u=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!u},r.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},r.prototype.dispose=function(t,r){if(!A2.node&&!!r.getDom())FA(this,"_updatePosition"),this._tooltipContent.dispose(),$W("itemTooltip",r)},r.type="tooltip",r}(OL);function enn(t,r,i){var s,u=r.ecModel;i?(s=new Lw(i,u,u),s=new Lw(r.option,s,u)):s=r;for(var c=t.length-1;c>=0;c--){var h=t[c];h&&(h instanceof Lw&&(h=h.get("tooltip",!0)),MP(h)&&(h={formatter:h}),h&&(s=new Lw(h,s,u)))}return s}function enr(t,r){return t.dispatchAction||ME(r.dispatchAction,r)}function eni(t){return"center"===t||"middle"===t}var ena=["rect","polygon","keep","clear"];function eno(t,r){var i=I8(t?t.brush:[]);if(!!i.length){var s=[];Mw(i,function(t){var r=t.hasOwnProperty("toolbox")?t.toolbox:[];r instanceof Array&&(s=s.concat(r))});var u=t&&t.toolbox;MD(u)&&(u=u[0]),!u&&(u={feature:{}},t.toolbox=[u]);var c=u.feature||(u.feature={}),h=c.brush||(c.brush={}),f=h.type||(h.type=[]);f.push.apply(f,s),function(t){var r={};Mw(t,function(t){r[t]=1}),t.length=0,Mw(r,function(r,i){t.push(i)})}(f),r&&!f.length&&f.push.apply(f,ena)}}var ens=Mw;function enl(t){if(t){for(var r in t)if(t.hasOwnProperty(r))return!0}}function enu(t,r,i){var s={};return ens(r,function(r){var u=s[r]=function(){var t=function(){};return t.prototype.__hidden=t.prototype,new t}();ens(t[r],function(t,s){if(!!Zu.isValidType(s)){var c={type:s,visual:t};i&&i(c,r),u[s]=new Zu(c),"opacity"===s&&((c=Md(c)).type="colorAlpha",u.__hidden.__alphaForOpacity=new Zu(c))}})}),s}function enc(t,r,i){var s;Mw(i,function(t){r.hasOwnProperty(t)&&enl(r[t])&&(s=!0)}),s&&Mw(i,function(i){r.hasOwnProperty(i)&&enl(r[i])?t[i]=Md(r[i]):delete t[i]})}var enh={lineX:end(0),lineY:end(1),rect:{point:function(t,r,i){return t&&i.boundingRect.contain(t[0],t[1])},rect:function(t,r,i){return t&&i.boundingRect.intersect(t)}},polygon:{point:function(t,r,i){return t&&i.boundingRect.contain(t[0],t[1])&&G5(i.range,t[0],t[1])},rect:function(t,r,i){var s=i.range;if(!t||s.length<=1)return!1;var u=t.x,c=t.y,h=t.width,f=t.height,p=s[0];if(G5(s,u,c)||G5(s,u+h,c)||G5(s,u,c+f)||G5(s,u+h,c+f)||Ti.create(t).contain(p[0],p[1])||Fi(u,c,u+h,c,s)||Fi(u,c,u,c+f,s)||Fi(u+h,c,u+h,c+f,s)||Fi(u,c+f,u+h,c+f,s))return!0}}};function end(t){var r=["x","y"],i=["width","height"];return{point:function(r,i,s){if(r){var u=s.range;return enf(r[t],u)}},rect:function(s,u,c){if(s){var h=c.range,f=[s[r[t]],s[r[t]]+s[i[t]]];return f[1]<f[0]&&f.reverse(),enf(f[0],h)||enf(f[1],h)||enf(h[0],f)||enf(h[1],f)}}}}function enf(t,r){return r[0]<=t&&t<=r[1]}var enp=["inBrush","outOfBrush"],eng="__ecBrushSelect",enm="__ecInBrushSelectEvent";function env(t){t.eachComponent({mainType:"brush"},function(r){(r.brushTargetManager=new etP(r.option,t)).setInputRanges(r.areas,t)})}function eny(t,r,i){var s,u,c=[];t.eachComponent({mainType:"brush"},function(t){i&&"takeGlobalCursor"===i.type&&t.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1})}),env(t),t.eachComponent({mainType:"brush"},function(r,i){var h={brushId:r.id,brushIndex:i,brushName:r.name,areas:Md(r.areas),selected:[]};c.push(h);var f=r.option,p=f.brushLink,v=[],y=[],x=[],_=!1;!i&&(s=f.throttleType,u=f.throttleDelay);var b=MS(r.areas,function(t){var r,i,s,u=enb[t.brushType],c=Mm({boundingRect:u?u(t):void 0},t);return c.selectors=(i=(r=c).brushType,s={point:function(t){return enh[i].point(t,s,r)},rect:function(t){return enh[i].rect(t,s,r)}}),c}),w=enu(r.option,enp,function(t){t.mappingMethod="fixed"});function S(t){return"all"===p||!!v[t]}function A(t){return!!t.length}MD(p)&&Mw(p,function(t){v[t]=1}),t.eachSeries(function(i,s){var u=x[s]=[];"parallel"===i.subType?function(t,r){var i=t.coordinateSystem;_=_||i.hasAxisBrushed(),S(r)&&i.eachActiveState(t.getData(),function(t,r){"active"===t&&(y[r]=1)})}(i,s):function(i,s,u){if(!(!i.brushSelector||function(t,r){var i=t.option.seriesIndex;return null!=i&&"all"!==i&&(MD(i)?0>My(i,r):r!==i)}(r,s))){if(Mw(b,function(s){r.brushTargetManager.controlSeries(s,i,t)&&u.push(s),_=_||A(u)}),S(s)&&A(u)){var c=i.getData();c.each(function(t){en_(i,u,c,t)&&(y[t]=1)})}}}(i,s,u)});t.eachSeries(function(t,r){var i={seriesId:t.id,seriesIndex:r,seriesName:t.name,dataIndex:[]};h.selected.push(i);var s=x[r],u=t.getData(),c=S(r)?function(t){return y[t]?(i.dataIndex.push(u.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(r){return en_(t,s,u,r)?(i.dataIndex.push(u.getRawIndex(r)),"inBrush"):"outOfBrush"};(S(r)?_:A(s))&&function(t,r,i,s,u,c){var h,f={};function p(t){return F0(i,h,t)}function v(t,r){F2(i,h,t,r)}function y(t,u){h=t;var c=i.getRawDataItem(h);if(!c||!1!==c.visualMap)for(var y=s.call(void 0,t),x=r[y],_=f[y],b=0,w=_.length;b<w;b++){var S=_[b];x[S]&&x[S].applyVisual(t,p,v)}}Mw(t,function(t){var i=Zu.prepareVisualTypes(r[t]);f[t]=i}),null==c?i.each(y):i.each([c],y)}(enp,w,u,c)})}),function(t,r,i,s,u){if(!u)return;var c=t.getZr();if(!c[enm])!c[eng]&&(c[eng]=enx),FS(c,eng,i,r)(t,s)}(r,s,u,c,i)}function enx(t,r){if(!t.isDisposed()){var i=t.getZr();i[enm]=!0,t.dispatchAction({type:"brushSelect",batch:r}),i[enm]=!1}}function en_(t,r,i,s){for(var u=0,c=r.length;u<c;u++){var h=r[u];if(t.brushSelector(s,i,h.selectors,h))return!0}}var enb={rect:function(t){return enw(t.range)},polygon:function(t){for(var r,i=t.range,s=0,u=i.length;s<u;s++){r=r||[[1/0,-1/0],[1/0,-1/0]];var c=i[s];c[0]<r[0][0]&&(r[0][0]=c[0]),c[0]>r[0][1]&&(r[0][1]=c[0]),c[1]<r[1][0]&&(r[1][0]=c[1]),c[1]>r[1][1]&&(r[1][1]=c[1])}return r&&enw(r)}};function enw(t){return new Ti(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var enS=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(t,r){this.ecModel=t,this.api=r,this.model,(this._brushController=new Jd(r.getZr())).on("brush",ME(this._onBrush,this)).mount()},r.prototype.render=function(t,r,i,s){this.model=t,this._updateController(t,r,i,s)},r.prototype.updateTransform=function(t,r,i,s){env(r),this._updateController(t,r,i,s)},r.prototype.updateVisual=function(t,r,i,s){this.updateTransform(t,r,i,s)},r.prototype.updateView=function(t,r,i,s){this._updateController(t,r,i,s)},r.prototype._updateController=function(t,r,i,s){s&&s.$from===t.id||this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},r.prototype.dispose=function(){this._brushController.dispose()},r.prototype._onBrush=function(t){var r=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:Md(i),$from:r}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:Md(i),$from:r})},r.type="brush",r}(OL),enA=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.areas=[],i.brushOption={},i}return AK(r,t),r.prototype.optionUpdated=function(t,r){var i=this.option;r||enc(i,t,["inBrush","outOfBrush"]);var s=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:"#ddd"},!s.hasOwnProperty("liftZ")&&(s.liftZ=5)},r.prototype.setAreas=function(t){if(!!t)this.areas=MS(t,function(t){return enM(this.option,t)},this)},r.prototype.setBrushOption=function(t){this.brushOption=enM(this.option,t),this.brushType=this.brushOption.brushType},r.type="brush",r.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],r.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},r}(By);function enM(t,r){return Mf({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Lw(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},r,!0)}var enC=["rect","polygon","lineX","lineY","keep","clear"],enT=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return AK(r,t),r.prototype.render=function(t,r,i){var s,u,c;r.eachComponent({mainType:"brush"},function(t){s=t.brushType,u=t.brushOption.brushMode||"single",c=c||!!t.areas.length}),this._brushType=s,this._brushMode=u,Mw(t.get("type",!0),function(r){t.setIconStatus(r,("keep"===r?"multiple"===u:"clear"===r?c:r===s)?"emphasis":"normal")})},r.prototype.updateView=function(t,r,i){this.render(t,r,i)},r.prototype.getIcons=function(){var t=this.model,r=t.get("icon",!0),i={};return Mw(t.get("type",!0),function(t){r[t]&&(i[t]=r[t])}),i},r.prototype.onclick=function(t,r,i){var s=this._brushType,u=this._brushMode;"clear"===i?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?s:s!==i&&i,brushMode:"keep"===i?"multiple"===u?"single":"multiple":u}})},r.getDefaultOption=function(t){return{show:!0,type:enC.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},r}(eth),enE=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.layoutMode={type:"box",ignoreSize:!0},i}return AK(r,t),r.type="title",r.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},r}(By),enI=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var s=this.group,u=t.getModel("textStyle"),c=t.getModel("subtextStyle"),h=t.get("textAlign"),f=Mj(t.get("textBaseline"),t.get("textVerticalAlign")),p=new R7({style:Lt(u,{text:t.get("text"),fill:u.getTextColor()},{disableBox:!0}),z2:10}),v=p.getBoundingRect(),y=t.get("subtext"),x=new R7({style:Lt(c,{text:y,fill:c.getTextColor(),y:v.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_=t.get("link"),b=t.get("sublink"),w=t.get("triggerEvent",!0);p.silent=!_&&!w,x.silent=!b&&!w,_&&p.on("click",function(){Ba(_,"_"+t.get("target"))}),b&&x.on("click",function(){Ba(b,"_"+t.get("subtarget"))}),Pe(p).eventData=Pe(x).eventData=w?{componentType:"title",componentIndex:t.componentIndex}:null,s.add(p),y&&s.add(x);var S=s.getBoundingRect(),A=t.getBoxLayoutParams();A.width=S.width,A.height=S.height;var M=Bc(A,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));!h&&("middle"===(h=t.get("left")||t.get("right"))&&(h="center"),"right"===h?M.x+=M.width:"center"===h&&(M.x+=M.width/2)),!f&&("center"===(f=t.get("top")||t.get("bottom"))&&(f="middle"),"bottom"===f?M.y+=M.height:"middle"===f&&(M.y+=M.height/2),f=f||"top"),s.x=M.x,s.y=M.y,s.markRedraw();var C={align:h,verticalAlign:f};p.setStyle(C),x.setStyle(C),S=s.getBoundingRect();var T=M.margin,I=t.getItemStyle(["color","opacity"]);I.fill=t.get("backgroundColor");var D=new RY({shape:{x:S.x-T[3],y:S.y-T[0],width:S.width+T[1]+T[3],height:S.height+T[0]+T[2],r:t.get("borderRadius")},style:I,subPixelOptimize:!0,silent:!0});s.add(D)}},r.type="title",r}(OL),enD=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.layoutMode="box",i}return AK(r,t),r.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._initData()},r.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),this._initData()},r.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var r=this._data.count();this.option.loop?t=(t%r+r)%r:(t>=r&&(t=r-1),t<0&&(t=0)),this.option.currentIndex=t},r.prototype.getCurrentIndex=function(){return this.option.currentIndex},r.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},r.prototype.setPlayState=function(t){this.option.autoPlay=!!t},r.prototype.getPlayState=function(){return!!this.option.autoPlay},r.prototype._initData=function(){var t,r=this.option,i=r.data||[],s=r.axisType,u=this._names=[];"category"===s?(t=[],Mw(i,function(r,i){var s,c=Di(De(r),"");Mk(r)?(s=Md(r)).value=i:s=i,t.push(s),u.push(c)})):t=i;(this._data=new zq([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[s]||"number"}],this)).initData(t,u)},r.prototype.getData=function(){return this._data},r.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},r.type="timeline",r.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},r}(By),enR=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="timeline.slider",r.defaultOption=LM(enD.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),r}(enD);M_(enR,kD.prototype);var enP=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="timeline",r}(OL),enL=function(t){function r(r,i,s,u){var c=t.call(this,r,i,s)||this;return c.type=u||"value",c}return AK(r,t),r.prototype.getLabelModel=function(){return this.model.getModel("label")},r.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},r}(Hy),enB=Math.PI,enk=Dl(),enO=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(t,r){this.api=r},r.prototype.render=function(t,r,i){if(this.model=t,this.api=i,this.ecModel=r,this.group.removeAll(),t.get("show",!0)){var s=this._layout(t,i),u=this._createGroup("_mainGroup"),c=this._createGroup("_labelGroup"),h=this._axis=this._createAxis(s,t);t.formatTooltip=function(t){return Ol("nameValue",{noName:!0,value:h.scale.getLabel({value:t})})},Mw(["AxisLine","AxisTick","Control","CurrentPointer"],function(r){this["_render"+r](s,u,h,t)},this),this._renderAxisLabel(s,c,h,t),this._position(s,t)}this._doPlayStop(),this._updateTicksStatus()},r.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},r.prototype.dispose=function(){this._clearTimer()},r.prototype._layout=function(t,r){var i,s,u,c,h=t.get(["label","position"]),f=t.get("orient"),p=function(t,r){return Bc(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()},t.get("padding"))}(t,r),v={horizontal:"center",vertical:(i=null==h||"auto"===h?"horizontal"===f?p.y+p.height/2<r.getHeight()/2?"-":"+":p.x+p.width/2<r.getWidth()/2?"+":"-":MP(h)?({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[f][h]:h)>=0||"+"===i?"left":"right"},y={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},x="vertical"===f?p.height:p.width,_=t.getModel("controlStyle"),b=_.get("show",!0),w=b?_.get("itemSize"):0,S=b?_.get("itemGap"):0,A=w+S,M=t.get(["label","rotate"])||0;M=M*enB/180;var C=_.get("position",!0),T=b&&_.get("showPlayBtn",!0),I=b&&_.get("showPrevBtn",!0),D=b&&_.get("showNextBtn",!0),R=0,P=x;"left"===C||"bottom"===C?(T&&(s=[0,0],R+=A),I&&(u=[R,0],R+=A)):(T&&(s=[P-w,0],P-=A),I&&(u=[0,0],R+=A)),D&&(c=[P-w,0],P-=A);var L=[R,P];return t.get("inverse")&&L.reverse(),{viewRect:p,mainLength:x,orient:f,rotation:({horizontal:0,vertical:enB/2})[f],labelRotation:M,labelPosOpt:i,labelAlign:t.get(["label","align"])||v[f],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||y[f],playPosition:s,prevBtnPosition:u,nextBtnPosition:c,axisExtent:L,controlSize:w,controlGap:S}},r.prototype._position=function(t,r){var i=this._mainGroup,s=this._labelGroup,u=t.viewRect;if("vertical"===t.orient){var c=CJ(),h=u.x,f=u.y+u.height;C0(c,c,[-h,-f]),C1(c,c,-enB/2),C0(c,c,[h,f]),(u=u.clone()).applyTransform(c)}var p=A(u),v=A(i.getBoundingRect()),y=A(s.getBoundingRect()),x=[i.x,i.y],_=[s.x,s.y];_[0]=x[0]=p[0][0];var b=t.labelPosOpt;if(null==b||MP(b)){var w="+"===b?0:1;M(x,v,p,1,w),M(_,y,p,1,1-w)}else{var w=b>=0?0:1;M(x,v,p,1,w),_[1]=x[1]+b}function S(t){t.originX=p[0][0]-t.x,t.originY=p[1][0]-t.y}function A(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function M(t,r,i,s,u){t[s]+=i[s][u]-r[s][u]}i.setPosition(x),s.setPosition(_),i.rotation=s.rotation=t.rotation,S(i),S(s)},r.prototype._createAxis=function(t,r){var i=r.getData(),s=r.get("axisType"),u=function(t,r){if(r=r||t.get("type"))switch(r){case"category":return new Gu({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new GC({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new Gh}}(r,s);u.getTicks=function(){return i.mapArray(["value"],function(t){return{value:t}})};var c=i.getDataExtent("value");u.setExtent(c[0],c[1]),u.calcNiceTicks();var h=new enL("value",u,t.axisExtent,s);return h.model=r,h},r.prototype._createGroup=function(t){var r=this[t]=new IS;return this.group.add(r),r},r.prototype._renderAxisLine=function(t,r,i,s){var u=i.getExtent();if(!!s.get(["lineStyle","show"])){var c=new NA({shape:{x1:u[0],y1:0,x2:u[1],y2:0},style:Mg({lineCap:"round"},s.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(c);var h=this._progressLine=new NA({shape:{x1:u[0],x2:this._currentPointer?this._currentPointer.x:u[0],y1:0,y2:0},style:Mm({lineCap:"round",lineWidth:c.style.lineWidth},s.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(h)}},r.prototype._renderAxisTick=function(t,r,i,s){var u=this,c=s.getData(),h=i.scale.getTicks();this._tickSymbols=[],Mw(h,function(t){var h=i.dataToCoord(t.value),f=c.getItemModel(t.value),p=f.getModel("itemStyle"),v=f.getModel(["emphasis","itemStyle"]),y=f.getModel(["progress","itemStyle"]),x=enN(f,p,r,{x:h,y:0,onclick:ME(u._changeTimeline,u,t.value)});x.ensureState("emphasis").style=v.getItemStyle(),x.ensureState("progress").style=y.getItemStyle(),Pz(x);var _=Pe(x);f.get("tooltip")?(_.dataIndex=t.value,_.dataModel=s):_.dataIndex=_.dataModel=null,u._tickSymbols.push(x)})},r.prototype._renderAxisLabel=function(t,r,i,s){var u=this;if(!!i.getLabelModel().get("show")){var c=s.getData(),h=i.getViewLabels();this._tickLabels=[],Mw(h,function(s){var h=s.tickValue,f=c.getItemModel(h),p=f.getModel("label"),v=f.getModel(["emphasis","label"]),y=f.getModel(["progress","label"]),x=new R7({x:i.dataToCoord(s.tickValue),y:0,rotation:t.labelRotation-t.rotation,onclick:ME(u._changeTimeline,u,h),silent:!1,style:Lt(p,{text:s.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});x.ensureState("emphasis").style=Lt(v),x.ensureState("progress").style=Lt(y),r.add(x),Pz(x),enk(x).dataIndex=h,u._tickLabels.push(x)})}},r.prototype._renderControl=function(t,r,i,s){var u=t.controlSize,c=t.rotation,h=s.getModel("controlStyle").getItemStyle(),f=s.getModel(["emphasis","controlStyle"]).getItemStyle(),p=s.getPlayState(),v=s.get("inverse",!0);function y(t,i,p,v){if(!!t){var y=Id(Mj(s.get(["controlStyle",i+"BtnSize"]),u),u),x=function(t,r,i,s){var u=s.style,c=Fr(t.get(["controlStyle",r]),s||{},new Ti(i[0],i[1],i[2],i[3]));return u&&c.setStyle(u),c}(s,i+"Icon",[0,-y/2,y,y],{x:t[0],y:t[1],originX:u/2,originY:0,rotation:v?-c:0,rectHover:!0,style:h,onclick:p});x.ensureState("emphasis").style=f,r.add(x),Pz(x)}}y(t.nextBtnPosition,"next",ME(this._changeTimeline,this,v?"-":"+")),y(t.prevBtnPosition,"prev",ME(this._changeTimeline,this,v?"+":"-")),y(t.playPosition,p?"stop":"play",ME(this._handlePlayClick,this,!p),!0)},r.prototype._renderCurrentPointer=function(t,r,i,s){var u=s.getData(),c=s.getCurrentIndex(),h=u.getItemModel(c).getModel("checkpointStyle"),f=this;this._currentPointer=enN(h,h,this._mainGroup,{},this._currentPointer,{onCreate:function(t){t.draggable=!0,t.drift=ME(f._handlePointerDrag,f),t.ondragend=ME(f._handlePointerDragend,f),enF(t,f._progressLine,c,i,s,!0)},onUpdate:function(t){enF(t,f._progressLine,c,i,s)}})},r.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},r.prototype._handlePointerDrag=function(t,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},r.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},r.prototype._pointerChangeTimeline=function(t,r){var i=this._toAxisCoord(t)[0],s=IF(this._axis.getExtent().slice());i>s[1]&&(i=s[1]),i<s[0]&&(i=s[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var u=this._progressLine;u&&(u.shape.x2=i,u.dirty());var c=this._findNearestTick(i),h=this.model;(r||c!==h.getCurrentIndex()&&h.get("realtime"))&&this._changeTimeline(c)},r.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=t.model;t._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},r.prototype._toAxisCoord=function(t){return N8(t,this._mainGroup.getLocalTransform(),!0)},r.prototype._findNearestTick=function(t){var r,i=this.model.getData(),s=1/0,u=this._axis;return i.each(["value"],function(i,c){var h=Math.abs(u.dataToCoord(i)-t);h<s&&(s=h,r=c)}),r},r.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},r.prototype._changeTimeline=function(t){var r=this.model.getCurrentIndex();"+"===t?t=r+1:"-"===t&&(t=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},r.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var s=0;s<r.length;s++)r&&r[s]&&r[s].toggleState("progress",s<t);if(i)for(var s=0;s<i.length;s++)i&&i[s]&&i[s].toggleState("progress",enk(i[s]).dataIndex<=t)},r.type="timeline.slider",r}(enP);function enN(t,r,i,s,u,c){var h=r.get("color");u?(u.setColor(h),i.add(u),c&&c.onUpdate(u)):((u=Us(t.get("symbol"),-1,-1,2,2,h)).setStyle("strokeNoScale",!0),i.add(u),c&&c.onCreate(u));var f=r.getItemStyle(["color"]);u.setStyle(f),s=Mf({rectHover:!0,z2:100},s,!0);var p=Ul(t.get("symbolSize"));s.scaleX=p[0]/2,s.scaleY=p[1]/2;var v=Uu(t.get("symbolOffset"),p);v&&(s.x=(s.x||0)+v[0],s.y=(s.y||0)+v[1]);var y=t.get("symbolRotate");return s.rotation=(y||0)*Math.PI/180||0,u.attr(s),u.updateTransform(),u}function enF(t,r,i,s,u,c){if(!t.dragging){var h=u.getModel("checkpointStyle"),f=s.dataToCoord(u.getData().get("value",i));if(c||!h.get("animation",!0))t.attr({x:f,y:0}),r&&r.attr({shape:{x2:f}});else{var p={duration:h.get("animationDuration",!0),easing:h.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:f,y:0},p),r&&r.animateTo({shape:{x2:f}},p)}}}function enU(t){var r=t&&t.timeline;!MD(r)&&(r=r?[r]:[]),Mw(r,function(t){if(!!t)(function(t){var r=t.type,i={number:"value",time:"time"};if(i[r]&&(t.axisType=i[r],delete t.type),enz(t),enG(t,"controlPosition")){var s=t.controlStyle||(t.controlStyle={});!enG(s,"position")&&(s.position=t.controlPosition),"none"===s.position&&!enG(s,"show")&&(s.show=!1,delete s.position),delete t.controlPosition}Mw(t.data||[],function(t){Mk(t)&&!MD(t)&&(!enG(t,"value")&&enG(t,"name")&&(t.value=t.name),enz(t))})})(t)})}function enz(t){var r=t.itemStyle||(t.itemStyle={}),i=r.emphasis||(r.emphasis={}),s=t.label||t.label||{},u=s.normal||(s.normal={}),c={normal:1,emphasis:1};Mw(s,function(t,r){!c[r]&&!enG(u,r)&&(u[r]=t)}),i.label&&!enG(s,"emphasis")&&(s.emphasis=i.label,delete i.label)}function enG(t,r){return t.hasOwnProperty(r)}function enH(t,r){if(!t)return!1;for(var i=MD(t)?t:[t],s=0;s<i.length;s++)if(i[s]&&i[s][r])return!0;return!1}function enV(t){I6(t,"label",["show"])}var enj=Dl(),enW=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.createdBySelf=!1,i}return AK(r,t),r.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},r.prototype.isAnimationEnabled=function(){if(A2.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},r.prototype.mergeOption=function(t,r){this._mergeOption(t,r,!1,!1)},r.prototype._mergeOption=function(t,r,i,s){var u=this.mainType;!i&&r.eachSeries(function(t){var i=t.get(this.mainType,!0),c=enj(t)[u];if(!i||!i.data){enj(t)[u]=null;return}c?c._mergeOption(i,r,!0):(s&&enV(i),Mw(i.data,function(t){t instanceof Array?(enV(t[0]),enV(t[1])):enV(t)}),Mg(c=this.createMarkerModelFromSeries(i,this,r),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),c.__hostSeries=t),enj(t)[u]=c},this)},r.prototype.formatTooltip=function(t,r,i){var s=this.getData(),u=this.getRawValue(t),c=s.getName(t);return Ol("section",{header:this.name,blocks:[Ol("nameValue",{name:c,value:u,noName:!c,noValue:null==u})]})},r.prototype.getData=function(){return this._data},r.prototype.setData=function(t){this._data=t},r.prototype.getDataParams=function(t,r){var i=kD.prototype.getDataParams.call(this,t,r),s=this.__hostSeries;return s&&(i.seriesId=s.id,i.seriesName=s.name,i.seriesType=s.subType),i},r.getMarkerModelFromSeries=function(t,r){return enj(t)[r]},r.type="marker",r.dependencies=["series","grid","polar","geo"],r}(By);M_(enW,kD.prototype);var enX=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.createMarkerModelFromSeries=function(t,i,s){return new r(t,i,s)},r.type="markPoint",r.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},r}(enW);function enY(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function enZ(t,r,i,s,u,c){var h=[],f=z4(r,s)?r.getCalculationInfo("stackResultDimension"):s,p=en0(r,f,t),v=r.indicesOfNearest(f,p)[0];h[u]=r.get(i,v),h[c]=r.get(f,v);var y=r.get(s,v),x=IU(r.get(s,v));return(x=Math.min(x,20))>=0&&(h[c]=+h[c].toFixed(x)),[h,y]}var enK={min:MI(enZ,"min"),max:MI(enZ,"max"),average:MI(enZ,"average"),median:MI(enZ,"median")};function enJ(t,r){if(!!r){var i,s=t.getData(),u=t.coordinateSystem,c=u&&u.dimensions;if(!(!isNaN(parseFloat((i=r).x))&&!isNaN(parseFloat(i.y)))&&!MD(r.coord)&&MD(c)){var h=enQ(r,s,u,t);if((r=Md(r)).type&&enK[r.type]&&h.baseAxis&&h.valueAxis){var f=My(c,h.baseAxis.dim),p=My(c,h.valueAxis.dim),v=enK[r.type](s,h.baseDataDim,h.valueDataDim,f,p);r.coord=v[0],r.value=v[1]}else r.coord=[null!=r.xAxis?r.xAxis:r.radiusAxis,null!=r.yAxis?r.yAxis:r.angleAxis]}if(null!=r.coord&&MD(c)){for(var y=r.coord,x=0;x<2;x++)enK[y[x]]&&(y[x]=en0(s,s.mapDimension(c[x]),y[x]))}else r.coord=[];return r}}function enQ(t,r,i,s){var u={};return null!=t.valueIndex||null!=t.valueDim?(u.valueDataDim=null!=t.valueIndex?r.getDimension(t.valueIndex):t.valueDim,u.valueAxis=i.getAxis(function(t,r){var i=t.getData().getDimensionInfo(r);return i&&i.coordDim}(s,u.valueDataDim)),u.baseAxis=i.getOtherAxis(u.valueAxis),u.baseDataDim=r.mapDimension(u.baseAxis.dim)):(u.baseAxis=s.getBaseAxis(),u.valueAxis=i.getOtherAxis(u.baseAxis),u.baseDataDim=r.mapDimension(u.baseAxis.dim),u.valueDataDim=r.mapDimension(u.valueAxis.dim)),u}function enq(t,r){return!t||!t.containData||!r.coord||!!enY(r)||t.containData(r.coord)}function en$(t,r){return t?function(t,i,s,u){return kz(u<2?t.coord&&t.coord[u]:t.value,r[u])}:function(t,i,s,u){return kz(t.value,r[u])}}function en0(t,r,i){if("average"===i){var s=0,u=0;return t.each(r,function(t,r){!isNaN(t)&&(s+=t,u++)}),s/u}if("median"===i)return t.getMedian(r);return t.getDataExtent(r)["max"===i?1:0]}var en1=Dl(),en2=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.init=function(){this.markerGroupMap=M2()},r.prototype.render=function(t,r,i){var s=this,u=this.markerGroupMap;u.each(function(t){en1(t).keep=!1}),r.eachSeries(function(t){var u=enW.getMarkerModelFromSeries(t,s.type);u&&s.renderSeries(t,u,r,i)}),u.each(function(t){en1(t).keep||s.group.remove(t.group)})},r.prototype.markKeep=function(t){en1(t).keep=!0},r.prototype.toggleBlurSeries=function(t,r){var i=this;Mw(t,function(t){var s=enW.getMarkerModelFromSeries(t,i.type);s&&s.getData().eachItemGraphicEl(function(t){if(t)r?Pw(t,Pv):Pw(t,Py)})})},r.type="marker",r}(OL);function en3(t,r,i){var s=r.coordinateSystem;t.each(function(u){var c,h=t.getItemModel(u),f=IO(h.get("x"),i.getWidth()),p=IO(h.get("y"),i.getHeight());if(isNaN(f)||isNaN(p)){if(r.getMarkerPosition)c=r.getMarkerPosition(t.getValues(t.dimensions,u));else if(s){var v=t.get(s.dimensions[0],u),y=t.get(s.dimensions[1],u);c=s.dataToPoint([v,y])}}else c=[f,p];!isNaN(f)&&(c[0]=f),!isNaN(p)&&(c[1]=p),t.setItemLayout(u,c)})}var en5=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.updateTransform=function(t,r,i){r.eachSeries(function(t){var r=enW.getMarkerModelFromSeries(t,"markPoint");r&&(en3(r.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout())},this)},r.prototype.renderSeries=function(t,r,i,s){var u=t.coordinateSystem,c=t.id,h=t.getData(),f=this.markerGroupMap,p=f.get(c)||f.set(c,new V6),v=function(t,r,i){var s,u=new zq(s=t?MS(t&&t.dimensions,function(t){return Mg(Mg({},r.getData().getDimensionInfo(r.getData().mapDimension(t))||{}),{name:t,ordinalMeta:null})}):[{name:"value",type:"float"}],i),c=MS(i.get("data"),MI(enJ,r));t&&(c=MM(c,MI(enq,t)));var h=en$(!!t,s);return u.initData(c,null,h),u}(u,t,r);r.setData(v),en3(r.getData(),t,s),v.each(function(t){var i=v.getItemModel(t),s=i.getShallow("symbol"),u=i.getShallow("symbolSize"),c=i.getShallow("symbolRotate"),f=i.getShallow("symbolOffset"),p=i.getShallow("symbolKeepAspect");if(MR(s)||MR(u)||MR(c)||MR(f)){var y=r.getRawValue(t),x=r.getDataParams(t);MR(s)&&(s=s(y,x)),MR(u)&&(u=u(y,x)),MR(c)&&(c=c(y,x)),MR(f)&&(f=f(y,x))}var _=i.getModel("itemStyle").getItemStyle(),b=F1(h,"color");!_.fill&&(_.fill=b),v.setItemVisual(t,{symbol:s,symbolSize:u,symbolRotate:c,symbolOffset:f,symbolKeepAspect:p,style:_})}),p.updateData(v),this.group.add(p.group),v.eachItemGraphicEl(function(t){t.traverse(function(t){Pe(t).dataModel=r})}),this.markKeep(p),p.group.silent=r.get("silent")||t.get("silent")},r.type="markPoint",r}(en2),en4=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.createMarkerModelFromSeries=function(t,i,s){return new r(t,i,s)},r.type="markLine",r.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},r}(enW),en9=Dl(),en8=function(t,r,i,s){var u,c=t.getData();if(MD(s))u=s;else{var h=s.type;if("min"===h||"max"===h||"average"===h||"median"===h||null!=s.xAxis||null!=s.yAxis){var f=void 0,p=void 0;if(null!=s.yAxis||null!=s.xAxis)f=r.getAxis(null!=s.yAxis?"y":"x"),p=MV(s.yAxis,s.xAxis);else{var v=enQ(s,c,r,t);f=v.valueAxis;var y=z9(c,v.valueDataDim);p=en0(c,y,h)}var x="x"===f.dim?0:1,_=1-x,b=Md(s),w={coord:[]};b.type=null,b.coord=[],b.coord[_]=-1/0,w.coord[_]=1/0;var S=i.get("precision");S>=0&&MB(p)&&(p=+p.toFixed(Math.min(S,20))),b.coord[x]=w.coord[x]=p,u=[b,w,{type:h,valueIndex:s.valueIndex,value:p}]}else u=[]}var A=[enJ(t,u[0]),enJ(t,u[1]),Mg({},u[2])];return A[2].type=A[2].type||null,Mf(A[2],A[0]),Mf(A[2],A[1]),A};function en6(t){return!isNaN(t)&&!isFinite(t)}function en7(t,r,i,s){var u=1-t,c=s.dimensions[t];return en6(r[u])&&en6(i[u])&&r[t]===i[t]&&s.getAxis(c).containData(r[t])}function ere(t,r){if("cartesian2d"===t.type){var i=r[0].coord,s=r[1].coord;if(i&&s&&(en7(1,i,s,t)||en7(0,i,s,t)))return!0}return enq(t,r[0])&&enq(t,r[1])}function ert(t,r,i,s,u){var c,h=s.coordinateSystem,f=t.getItemModel(r),p=IO(f.get("x"),u.getWidth()),v=IO(f.get("y"),u.getHeight());if(isNaN(p)||isNaN(v)){if(s.getMarkerPosition)c=s.getMarkerPosition(t.getValues(t.dimensions,r));else{var y=h.dimensions,x=t.get(y[0],r),_=t.get(y[1],r);c=h.dataToPoint([x,_])}if(jd(h,"cartesian2d")){var b=h.getAxis("x"),w=h.getAxis("y"),y=h.dimensions;en6(t.get(y[0],r))?c[0]=b.toGlobalCoord(b.getExtent()[i?0:1]):en6(t.get(y[1],r))&&(c[1]=w.toGlobalCoord(w.getExtent()[i?0:1]))}!isNaN(p)&&(c[0]=p),!isNaN(v)&&(c[1]=v)}else c=[p,v];t.setItemLayout(r,c)}var ern=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.updateTransform=function(t,r,i){r.eachSeries(function(t){var r=enW.getMarkerModelFromSeries(t,"markLine");if(r){var s=r.getData(),u=en9(r).from,c=en9(r).to;u.each(function(r){ert(u,r,!0,t,i),ert(c,r,!1,t,i)}),s.each(function(t){s.setItemLayout(t,[u.getItemLayout(t),c.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},r.prototype.renderSeries=function(t,r,i,s){var u=t.coordinateSystem,c=t.id,h=t.getData(),f=this.markerGroupMap,p=f.get(c)||f.set(c,new Ku);this.group.add(p.group);var v=function(t,r,i){var s,u=new zq(s=t?MS(t&&t.dimensions,function(t){return Mg(Mg({},r.getData().getDimensionInfo(r.getData().mapDimension(t))||{}),{name:t,ordinalMeta:null})}):[{name:"value",type:"float"}],i),c=new zq(s,i),h=new zq([],i),f=MS(i.get("data"),MI(en8,r,t,i));t&&(f=MM(f,MI(ere,t)));var p=en$(!!t,s);return u.initData(MS(f,function(t){return t[0]}),null,p),c.initData(MS(f,function(t){return t[1]}),null,p),h.initData(MS(f,function(t){return t[2]})),h.hasItemOption=!0,{from:u,to:c,line:h}}(u,t,r),y=v.from,x=v.to,_=v.line;en9(r).from=y,en9(r).to=x,r.setData(_);var b=r.get("symbol"),w=r.get("symbolSize"),S=r.get("symbolRotate"),A=r.get("symbolOffset");function M(r,i,u){var c=r.getItemModel(i);ert(r,i,u,t,s);var f=c.getModel("itemStyle").getItemStyle();null==f.fill&&(f.fill=F1(h,"color")),r.setItemVisual(i,{symbolKeepAspect:c.get("symbolKeepAspect"),symbolOffset:Mj(c.get("symbolOffset",!0),A[u?0:1]),symbolRotate:Mj(c.get("symbolRotate",!0),S[u?0:1]),symbolSize:Mj(c.get("symbolSize"),w[u?0:1]),symbol:Mj(c.get("symbol",!0),b[u?0:1]),style:f})}!MD(b)&&(b=[b,b]),!MD(w)&&(w=[w,w]),!MD(S)&&(S=[S,S]),!MD(A)&&(A=[A,A]),v.from.each(function(t){M(y,t,!0),M(x,t,!1)}),_.each(function(t){var r=_.getItemModel(t).getModel("lineStyle").getLineStyle();_.setItemLayout(t,[y.getItemLayout(t),x.getItemLayout(t)]),null==r.stroke&&(r.stroke=y.getItemVisual(t,"style").fill),_.setItemVisual(t,{fromSymbolKeepAspect:y.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:y.getItemVisual(t,"symbolOffset"),fromSymbolRotate:y.getItemVisual(t,"symbolRotate"),fromSymbolSize:y.getItemVisual(t,"symbolSize"),fromSymbol:y.getItemVisual(t,"symbol"),toSymbolKeepAspect:x.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:x.getItemVisual(t,"symbolOffset"),toSymbolRotate:x.getItemVisual(t,"symbolRotate"),toSymbolSize:x.getItemVisual(t,"symbolSize"),toSymbol:x.getItemVisual(t,"symbol"),style:r})}),p.updateData(_),v.line.eachItemGraphicEl(function(t){Pe(t).dataModel=r,t.traverse(function(t){Pe(t).dataModel=r})}),this.markKeep(p),p.group.silent=r.get("silent")||t.get("silent")},r.type="markLine",r}(en2),err=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.createMarkerModelFromSeries=function(t,i,s){return new r(t,i,s)},r.type="markArea",r.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},r}(enW),eri=Dl(),era=function(t,r,i,s){var u=s[0],c=s[1];if(!!u&&!!c){var h=enJ(t,u),f=enJ(t,c),p=h.coord,v=f.coord;p[0]=MV(p[0],-1/0),p[1]=MV(p[1],-1/0),v[0]=MV(v[0],1/0),v[1]=MV(v[1],1/0);var y=Mp([{},h,f]);return y.coord=[h.coord,f.coord],y.x0=h.x,y.y0=h.y,y.x1=f.x,y.y1=f.y,y}};function ero(t){return!isNaN(t)&&!isFinite(t)}function ers(t,r,i,s){var u=1-t;return ero(r[u])&&ero(i[u])}function erl(t,r){var i,s,u,c=r.coord[0],h=r.coord[1],f={coord:c,x:r.x0,y:r.y0},p={coord:h,x:r.x1,y:r.y1};if(jd(t,"cartesian2d")){;if(c&&h&&(ers(1,c,h,t)||ers(0,c,h,t)))return!0;return i=t,s=f,u=p,!i||!i.containZone||!s.coord||!u.coord||!!enY(s)||!!enY(u)||i.containZone(s.coord,u.coord)}return enq(t,f)||enq(t,p)}function eru(t,r,i,s,u){var c,h=s.coordinateSystem,f=t.getItemModel(r),p=IO(f.get(i[0]),u.getWidth()),v=IO(f.get(i[1]),u.getHeight());if(isNaN(p)||isNaN(v)){if(s.getMarkerPosition){var y=t.getValues(["x0","y0"],r),x=t.getValues(["x1","y1"],r),_=h.clampData(y),b=h.clampData(x),w=[];"x0"===i[0]?w[0]=_[0]>b[0]?x[0]:y[0]:w[0]=_[0]>b[0]?y[0]:x[0],"y0"===i[1]?w[1]=_[1]>b[1]?x[1]:y[1]:w[1]=_[1]>b[1]?y[1]:x[1],c=s.getMarkerPosition(w,i,!0)}else{var S=t.get(i[0],r),A=t.get(i[1],r),M=[S,A];h.clampData&&h.clampData(M,M),c=h.dataToPoint(M,!0)}if(jd(h,"cartesian2d")){var C=h.getAxis("x"),T=h.getAxis("y"),S=t.get(i[0],r),A=t.get(i[1],r);ero(S)?c[0]=C.toGlobalCoord(C.getExtent()["x0"===i[0]?0:1]):ero(A)&&(c[1]=T.toGlobalCoord(T.getExtent()["y0"===i[1]?0:1]))}!isNaN(p)&&(c[0]=p),!isNaN(v)&&(c[1]=v)}else c=[p,v];return c}var erc=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],erh=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.updateTransform=function(t,r,i){r.eachSeries(function(t){var r=enW.getMarkerModelFromSeries(t,"markArea");if(r){var s=r.getData();s.each(function(r){var u=MS(erc,function(u){return eru(s,r,u,t,i)});s.setItemLayout(r,u),s.getItemGraphicEl(r).setShape("points",u)})}},this)},r.prototype.renderSeries=function(t,r,i,s){var u=t.coordinateSystem,c=t.id,h=t.getData(),f=this.markerGroupMap,p=f.get(c)||f.set(c,{group:new IS});this.group.add(p.group),this.markKeep(p);var v=function(t,r,i){if(t){var s,u,c=MS(t&&t.dimensions,function(t){var i=r.getData();return Mg(Mg({},i.getDimensionInfo(i.mapDimension(t))||{}),{name:t,ordinalMeta:null})});s=new zq(u=MS(["x0","y0","x1","y1"],function(t,r){return{name:t,type:c[r%2].type}}),i)}else s=new zq(u=[{name:"value",type:"float"}],i);var h=MS(i.get("data"),MI(era,r,t,i));t&&(h=MM(h,MI(erl,t)));var f=t?function(t,r,i,s){return kz(t.coord[Math.floor(s/2)][s%2],u[s])}:function(t,r,i,s){return kz(t.value,u[s])};return s.initData(h,null,f),s.hasItemOption=!0,s}(u,t,r);r.setData(v),v.each(function(r){var i=MS(erc,function(i){return eru(v,r,i,t,s)}),c=u.getAxis("x").scale,f=u.getAxis("y").scale,p=c.getExtent(),y=f.getExtent(),x=[c.parse(v.get("x0",r)),c.parse(v.get("x1",r))],_=[f.parse(v.get("y0",r)),f.parse(v.get("y1",r))];IF(x),IF(_);var b=!(p[0]>x[1]||p[1]<x[0]||y[0]>_[1]||y[1]<_[0]);v.setItemLayout(r,{points:i,allClipped:!b});var w=v.getItemModel(r).getModel("itemStyle").getItemStyle(),S=F1(h,"color");!w.fill&&(w.fill=S,MP(w.fill)&&(w.fill=Es(w.fill,.4))),!w.stroke&&(w.stroke=S),v.setItemVisual(r,"style",w)}),v.diff(eri(p).data).add(function(t){var r=v.getItemLayout(t);if(!r.allClipped){var i=new Nv({shape:{points:r.points}});v.setItemGraphicEl(t,i),p.group.add(i)}}).update(function(t,i){var s=eri(p).data.getItemGraphicEl(i),u=v.getItemLayout(t);u.allClipped?s&&p.group.remove(s):(s?P$(s,{shape:{points:u.points}},r,t):s=new Nv({shape:{points:u.points}}),v.setItemGraphicEl(t,s),p.group.add(s))}).remove(function(t){var r=eri(p).data.getItemGraphicEl(t);p.group.remove(r)}).execute(),v.eachItemGraphicEl(function(t,i){var s=v.getItemModel(i),u=v.getItemVisual(i,"style");t.useStyle(v.getItemVisual(i,"style")),P7(t,Le(s),{labelFetcher:r,labelDataIndex:i,defaultText:v.getName(i)||"",inheritColor:MP(u.fill)?Es(u.fill,1):"#000"}),PW(t,s),PG(t,null,null,s.get(["emphasis","disabled"])),Pe(t).dataModel=r}),eri(p).data=v,p.group.silent=r.get("silent")||t.get("silent")},r.type="markArea",r}(en2),erd=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.layoutMode={type:"box",ignoreSize:!0},i}return AK(r,t),r.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},r.prototype.mergeOption=function(r,i){t.prototype.mergeOption.call(this,r,i),this._updateSelector(r)},r.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;!0===r&&(r=t.selector=["all","inverse"]),MD(r)&&Mw(r,function(t,s){var u,c;MP(t)&&(t={type:t}),r[s]=Mf(t,(u=i,"all"===(c=t.type)?{type:"all",title:u.getLocaleModel().get(["legend","selector","all"])}:"inverse"===c?{type:"inverse",title:u.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},r.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var r=!1,i=0;i<t.length;i++){var s=t[i].get("name");if(this.isSelected(s)){this.select(s),r=!0;break}}r||this.select(t[0].get("name"))}},r.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(s){var u,c=s.name;if(i.push(c),s.legendVisualProvider){var h=s.legendVisualProvider.getAllNames();!t.isSeriesFiltered(s)&&(i=i.concat(h)),h.length?r=r.concat(h):u=!0}else u=!0;u&&Da(s)&&r.push(s.name)}),this._availableNames=i;var s=this.get("data")||r,u=M2(),c=MS(s,function(t){return((MP(t)||MB(t))&&(t={name:t}),u.get(t.name))?null:(u.set(t.name,!0),new Lw(t,this,this.ecModel))},this);this._data=MM(c,function(t){return!!t})},r.prototype.getData=function(){return this._data},r.prototype.select=function(t){var r=this.option.selected;"single"===this.get("selectedMode")&&Mw(this._data,function(t){r[t.get("name")]=!1}),r[t]=!0},r.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},r.prototype.toggleSelected=function(t){var r=this.option.selected;!r.hasOwnProperty(t)&&(r[t]=!0),this[r[t]?"unSelect":"select"](t)},r.prototype.allSelect=function(){var t=this._data,r=this.option.selected;Mw(t,function(t){r[t.get("name",!0)]=!0})},r.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;Mw(t,function(t){var i=t.get("name",!0);!r.hasOwnProperty(i)&&(r[i]=!0),r[i]=!r[i]})},r.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&My(this._availableNames,t)>=0},r.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},r.type="legend.plain",r.dependencies=["series"],r.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},r}(By),erf=MI,erp=Mw,erg=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.newlineDisabled=!1,i}return AK(r,t),r.prototype.init=function(){this.group.add(this._contentGroup=new IS),this.group.add(this._selectorGroup=new IS),this._isFirstRender=!0},r.prototype.getContentGroup=function(){return this._contentGroup},r.prototype.getSelectorGroup=function(){return this._selectorGroup},r.prototype.render=function(t,r,i){var s=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var u=t.get("align"),c=t.get("orient");(!u||"auto"===u)&&(u="right"===t.get("left")&&"vertical"===c?"right":"left");var h=t.get("selector",!0),f=t.get("selectorPosition",!0);h&&(!f||"auto"===f)&&(f="horizontal"===c?"end":"start"),this.renderInner(u,t,r,i,h,c,f);var p=t.getBoxLayoutParams(),v={width:i.getWidth(),height:i.getHeight()},y=t.get("padding"),x=Bc(p,v,y),_=this.layoutInner(t,u,x,s,h,f),b=Bc(Mm({width:_.width,height:_.height},p),v,y);this.group.x=b.x-_.x,this.group.y=b.y-_.y,this.group.markRedraw(),this.group.add(this._backgroundEl=etm(_,t))}},r.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},r.prototype.renderInner=function(t,r,i,s,u,c,h){var f=this.getContentGroup(),p=M2(),v=r.get("selectedMode"),y=[];i.eachRawSeries(function(t){t.get("legendHoverLink")||y.push(t.id)}),erp(r.getData(),function(u,c){var h=u.get("name");if(!this.newlineDisabled&&(""===h||"\n"===h)){var x=new IS;x.newline=!0,f.add(x);return}var _=i.getSeriesByName(h)[0];if(!p.get(h))if(_){var b=_.getData(),w=b.getVisual("legendLineStyle")||{},S=b.getVisual("legendIcon"),A=b.getVisual("style"),M=this._createItem(_,h,c,u,r,t,w,A,S,v,s);M.on("click",erf(erm,h,null,s,y)).on("mouseover",erf(ery,_.name,null,s,y)).on("mouseout",erf(erx,_.name,null,s,y)),i.ssr&&M.eachChild(function(t){var r=Pe(t);r.seriesIndex=_.seriesIndex,r.dataIndex=c,r.ssrType="legend"}),p.set(h,!0)}else i.eachRawSeries(function(f){if(!p.get(h)){if(f.legendVisualProvider){var x=f.legendVisualProvider;if(!x.containName(h))return;var _=x.indexOfName(h),b=x.getItemVisual(_,"style"),w=x.getItemVisual(_,"legendIcon"),S=T6(b.fill);S&&0===S[3]&&(S[3]=.2,b=Mg(Mg({},b),{fill:El(S,"rgba")}));var A=this._createItem(f,h,c,u,r,t,{},b,w,v,s);A.on("click",erf(erm,null,h,s,y)).on("mouseover",erf(ery,null,h,s,y)).on("mouseout",erf(erx,null,h,s,y)),i.ssr&&A.eachChild(function(t){var r=Pe(t);r.seriesIndex=f.seriesIndex,r.dataIndex=c,r.ssrType="legend"}),p.set(h,!0)}}},this)},this),u&&this._createSelector(u,r,s,c,h)},r.prototype._createSelector=function(t,r,i,s,u){var c=this.getSelectorGroup();erp(t,function(t){var s=t.type,u=new R7({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===s?"legendAllSelect":"legendInverseSelect"})}});c.add(u),P7(u,{normal:r.getModel("selectorLabel"),emphasis:r.getModel(["emphasis","selectorLabel"])},{defaultText:t.title}),Pz(u)})},r.prototype._createItem=function(t,r,i,s,u,c,h,f,p,v,y){var x=t.visualDrawType,_=u.get("itemWidth"),b=u.get("itemHeight"),w=u.isSelected(r),S=s.get("symbolRotate"),A=s.get("symbolKeepAspect"),M=s.get("icon"),C=function(t,r,i,s,u,c,h){function f(t,r){"auto"===t.lineWidth&&(t.lineWidth=r.lineWidth>0?2:0),erp(t,function(i,s){"inherit"===t[s]&&(t[s]=r[s])})}var p=r.getModel("itemStyle"),v=p.getItemStyle(),y=0===t.lastIndexOf("empty",0)?"fill":"stroke",x=p.getShallow("decal");v.decal=x&&"inherit"!==x?UB(x,h):s.decal,"inherit"===v.fill&&(v.fill=s[u]),"inherit"===v.stroke&&(v.stroke=s[y]),"inherit"===v.opacity&&(v.opacity=("fill"===u?s:i).opacity),f(v,s);var _=r.getModel("lineStyle"),b=_.getLineStyle();if(f(b,i),"auto"===v.fill&&(v.fill=s.fill),"auto"===v.stroke&&(v.stroke=s.fill),"auto"===b.stroke&&(b.stroke=s.fill),!c){var w=r.get("inactiveBorderWidth"),S=v[y];v.lineWidth="auto"===w?s.lineWidth>0&&S?2:0:v.lineWidth,v.fill=r.get("inactiveColor"),v.stroke=r.get("inactiveBorderColor"),b.stroke=_.get("inactiveColor"),b.lineWidth=_.get("inactiveWidth")}return{itemStyle:v,lineStyle:b}}(p=M||p||"roundRect",s,h,f,x,w,y),T=new IS,I=s.getModel("textStyle");if(MR(t.getLegendIcon)&&(!M||"inherit"===M))T.add(t.getLegendIcon({itemWidth:_,itemHeight:b,icon:p,iconRotate:S,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:A}));else{var D="inherit"===M&&t.getData().getVisual("symbol")?"inherit"===S?t.getData().getVisual("symbolRotate"):S:0;T.add(function(t){var r=t.icon||"roundRect",i=Us(r,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return i.setStyle(t.itemStyle),i.rotation=(t.iconRotate||0)*Math.PI/180,i.setOrigin([t.itemWidth/2,t.itemHeight/2]),r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i}({itemWidth:_,itemHeight:b,icon:p,iconRotate:D,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:A}))}var R=u.get("formatter"),P=r;MP(R)&&R?P=R.replace("{name}",null!=r?r:""):MR(R)&&(P=R(r));var L=w?I.getTextColor():s.get("inactiveColor");T.add(new R7({style:Lt(I,{text:P,x:"left"===c?_+5:-5,y:b/2,fill:L,align:c,verticalAlign:"middle"},{inheritColor:L})}));var B=new RY({shape:T.getBoundingRect(),style:{fill:"transparent"}}),k=s.getModel("tooltip");return k.get("show")&&Fs({el:B,componentModel:u,itemName:r,itemTooltipOption:k.option}),T.add(B),T.eachChild(function(t){t.silent=!0}),B.silent=!v,this.getContentGroup().add(T),Pz(T),T.__legendDataIndex=i,T},r.prototype.layoutInner=function(t,r,i,s,u,c){var h=this.getContentGroup(),f=this.getSelectorGroup();Bu(t.get("orient"),h,t.get("itemGap"),i.width,i.height);var p=h.getBoundingRect(),v=[-p.x,-p.y];if(f.markRedraw(),h.markRedraw(),!u)return h.x=v[0],h.y=v[1],this.group.getBoundingRect();Bu("horizontal",f,t.get("selectorItemGap",!0));var y=f.getBoundingRect(),x=[-y.x,-y.y],_=t.get("selectorButtonGap",!0),b=t.getOrient().index,w=0===b?"width":"height",S=0===b?"height":"width",A=0===b?"y":"x";"end"===c?x[b]+=p[w]+_:v[b]+=y[w]+_,x[1-b]+=p[S]/2-y[S]/2,f.x=x[0],f.y=x[1],h.x=v[0],h.y=v[1];var M={x:0,y:0};return M[w]=p[w]+_+y[w],M[S]=Math.max(p[S],y[S]),M[A]=Math.min(0,y[A]+x[1-b]),M},r.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},r.type="legend.plain",r}(OL);function erm(t,r,i,s){erx(t,r,i,s),i.dispatchAction({type:"legendToggleSelect",name:null!=t?t:r}),ery(t,r,i,s)}function erv(t){for(var r,i=t.getZr().storage.getDisplayList(),s=0,u=i.length;s<u&&!(r=i[s].states.emphasis);)s++;return r&&r.hoverLayer}function ery(t,r,i,s){!erv(i)&&i.dispatchAction({type:"highlight",seriesName:t,name:r,excludeSeriesId:s})}function erx(t,r,i,s){!erv(i)&&i.dispatchAction({type:"downplay",seriesName:t,name:r,excludeSeriesId:s})}function er_(t){var r=t.findComponents({mainType:"legend"});r&&r.length&&t.filterSeries(function(t){for(var i=0;i<r.length;i++)if(!r[i].isSelected(t.name))return!1;return!0})}function erb(t,r,i){var s,u={},c="toggleSelected"===t;return i.eachComponent("legend",function(i){c&&null!=s?i[s?"select":"unSelect"](r.name):"allSelect"===t||"inverseSelect"===t?i[t]():(i[t](r.name),s=i.isSelected(r.name)),Mw(i.getData(),function(t){var r=t.get("name");if("\n"!==r&&""!==r){var s=i.isSelected(r);u.hasOwnProperty(r)?u[r]=u[r]&&s:u[r]=s}})}),"allSelect"===t||"inverseSelect"===t?{selected:u}:{name:r.name,selected:u}}function erw(t){var r;t.registerComponentModel(erd),t.registerComponentView(erg),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,er_),t.registerSubTypeDefaulter("legend",function(){return"plain"}),(r=t).registerAction("legendToggleSelect","legendselectchanged",MI(erb,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",MI(erb,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",MI(erb,"inverseSelect")),r.registerAction("legendSelect","legendselected",MI(erb,"select")),r.registerAction("legendUnSelect","legendunselected",MI(erb,"unSelect"))}var erS=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},r.prototype.init=function(r,i,s){var u=Bp(r);t.prototype.init.call(this,r,i,s),erA(this,r,u)},r.prototype.mergeOption=function(r,i){t.prototype.mergeOption.call(this,r,i),erA(this,this.option,r)},r.type="legend.scroll",r.defaultOption=LM(erd.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),r}(erd);function erA(t,r,i){var s=t.getOrient(),u=[1,1];u[s.index]=0,Bf(r,i,{type:"box",ignoreSize:!!u})}var erM=["width","height"],erC=["x","y"],erT=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.newlineDisabled=!0,i._currentIndex=0,i}return AK(r,t),r.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new IS),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new IS)},r.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},r.prototype.renderInner=function(r,i,s,u,c,h,f){var p=this;t.prototype.renderInner.call(this,r,i,s,u,c,h,f);var v=this._controllerGroup,y=i.get("pageIconSize",!0),x=MD(y)?y:[y,y];b("pagePrev",0);var _=i.getModel("pageTextStyle");function b(t,r){var s=Fr(i.get("pageIcons",!0)[i.getOrient().name][r],{onclick:ME(p._pageGo,p,t+"DataIndex",i,u)},{x:-x[0]/2,y:-x[1]/2,width:x[0],height:x[1]});s.name=t,v.add(s)}v.add(new R7({name:"pageText",style:{text:"xx/xx",fill:_.getTextColor(),font:_.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),b("pageNext",1)},r.prototype.layoutInner=function(t,r,i,s,u,c){var h=this.getSelectorGroup(),f=t.getOrient().index,p=erM[f],v=erC[f],y=erM[1-f],x=erC[1-f];u&&Bu("horizontal",h,t.get("selectorItemGap",!0));var _=t.get("selectorButtonGap",!0),b=h.getBoundingRect(),w=[-b.x,-b.y],S=Md(i);u&&(S[p]=i[p]-b[p]-_);var A=this._layoutContentAndController(t,s,S,f,p,y,x,v);if(u){if("end"===c)w[f]+=A[p]+_;else{var M=b[p]+_;w[f]-=M,A[v]-=M}A[p]+=b[p]+_,w[1-f]+=A[x]+A[y]/2-b[y]/2,A[y]=Math.max(A[y],b[y]),A[x]=Math.min(A[x],b[x]+w[1-f]),h.x=w[0],h.y=w[1],h.markRedraw()}return A},r.prototype._layoutContentAndController=function(t,r,i,s,u,c,h,f){var p=this.getContentGroup(),v=this._containerGroup,y=this._controllerGroup;Bu(t.get("orient"),p,t.get("itemGap"),s?i.width:null,s?null:i.height),Bu("horizontal",y,t.get("pageButtonItemGap",!0));var x=p.getBoundingRect(),_=y.getBoundingRect(),b=this._showController=x[u]>i[u],w=[-x.x,-x.y];!r&&(w[s]=p[f]);var S=[0,0],A=[-_.x,-_.y],M=Mj(t.get("pageButtonGap",!0),t.get("itemGap",!0));b&&("end"===t.get("pageButtonPosition",!0)?A[s]+=i[u]-_[u]:S[s]+=_[u]+M),A[1-s]+=x[c]/2-_[c]/2,p.setPosition(w),v.setPosition(S),y.setPosition(A);var C={x:0,y:0};if(C[u]=b?i[u]:x[u],C[c]=Math.max(x[c],_[c]),C[h]=Math.min(0,_[h]+A[1-s]),v.__rectSize=i[u],b){var T={x:0,y:0};T[u]=Math.max(i[u]-_[u]-M,0),T[c]=C[c],v.setClipPath(new RY({shape:T})),v.__rectSize=T[u]}else y.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var I=this._getPageInfo(t);return null!=I.pageIndex&&P$(p,{x:I.contentPosition[0],y:I.contentPosition[1]},b?t:null),this._updatePageInfoView(t,I),C},r.prototype._pageGo=function(t,r,i){var s=this._getPageInfo(r)[t];null!=s&&i.dispatchAction({type:"legendScroll",scrollDataIndex:s,legendId:r.id})},r.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;Mw(["pagePrev","pageNext"],function(s){var u=null!=r[s+"DataIndex"],c=i.childOfName(s);c&&(c.setStyle("fill",u?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),c.cursor=u?"pointer":"default")});var s=i.childOfName("pageText"),u=t.get("pageFormatter"),c=r.pageIndex,h=null!=c?c+1:0,f=r.pageCount;s&&u&&s.setStyle("text",MP(u)?u.replace("{current}",null==h?"":h+"").replace("{total}",null==f?"":f+""):u({current:h,total:f}))},r.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),s=this._containerGroup.__rectSize,u=t.getOrient().index,c=erM[u],h=erC[u],f=this._findTargetItemIndex(r),p=i.children(),v=p[f],y=p.length,x=y?1:0,_={contentPosition:[i.x,i.y],pageCount:x,pageIndex:x-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!v)return _;var b=C(v);_.contentPosition[u]=-b.s;for(var w=f+1,S=b,A=b,M=null;w<=y;++w)(!(M=C(p[w]))&&A.e>S.s+s||M&&!T(M,S.s))&&(S=A.i>S.i?A:M)&&(null==_.pageNextDataIndex&&(_.pageNextDataIndex=S.i),++_.pageCount),A=M;for(var w=f-1,S=b,A=b,M=null;w>=-1;--w)(!(M=C(p[w]))||!T(A,M.s))&&S.i<A.i&&(A=S,null==_.pagePrevDataIndex&&(_.pagePrevDataIndex=S.i),++_.pageCount,++_.pageIndex),S=M;return _;function C(t){if(t){var r=t.getBoundingRect(),i=r[h]+t[h];return{s:i,e:i+r[c],i:t.__legendDataIndex}}}function T(t,r){return t.e>=r&&t.s<=r+s}},r.prototype._findTargetItemIndex=function(t){var r,i;if(!this._showController)return 0;return this.getContentGroup().eachChild(function(s,u){var c=s.__legendDataIndex;null==i&&null!=c&&(i=u),c===t&&(r=u)}),null!=r?r:i},r.type="legend.scroll",r}(erg);function erE(t){zP(erw),t.registerComponentModel(erS),t.registerComponentView(erT),!function(t){t.registerAction("legendScroll","legendscroll",function(t,r){var i=t.scrollDataIndex;null!=i&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(i)})})}(t)}var erI=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="dataZoom.inside",r.defaultOption=LM(ee7.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),r}(ee7),erD=Dl();function erR(t,r){if(r){t.removeKey(r.model.uid);var i=r.controller;i&&i.dispose()}}function erP(t,r){!t.isDisposed()&&t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:r})}function erL(t,r,i,s){return t.coordinateSystem.containPoint([i,s])}var erB=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return AK(r,t),r.prototype.render=function(r,i,s){if(t.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),!function(t,r,i){erD(t).coordSysRecordMap.each(function(t){var s=t.dataZoomInfoMap.get(r.uid);s&&(s.getRange=i)})}(s,r,{pan:ME(erk.pan,this),zoom:ME(erk.zoom,this),scrollMove:ME(erk.scrollMove,this)})},r.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},r.prototype._clear=function(){!function(t,r){for(var i=erD(t).coordSysRecordMap,s=i.keys(),u=0;u<s.length;u++){var c=s[u],h=i.get(c),f=h.dataZoomInfoMap;if(f){var p=r.uid;f.get(p)&&(f.removeKey(p),!f.keys().length&&erR(i,h))}}}(this.api,this.dataZoomModel),this.range=null},r.type="dataZoom.inside",r}(etn),erk={zoom:function(t,r,i,s){var u=this.range,c=u.slice(),h=t.axisModels[0];if(!!h){var f=erN[r](null,[s.originX,s.originY],h,i,t),p=(f.signal>0?f.pixelStart+f.pixelLength-f.pixel:f.pixel-f.pixelStart)/f.pixelLength*(c[1]-c[0])+c[0],v=Math.max(1/s.scale,0);c[0]=(c[0]-p)*v+p,c[1]=(c[1]-p)*v+p;var y=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(K0(0,c,[0,100],0,y.minSpan,y.maxSpan),this.range=c,u[0]!==c[0]||u[1]!==c[1])return c}},pan:erO(function(t,r,i,s,u,c){var h=erN[s]([c.oldX,c.oldY],[c.newX,c.newY],r,u,i);return h.signal*(t[1]-t[0])*h.pixel/h.pixelLength}),scrollMove:erO(function(t,r,i,s,u,c){return erN[s]([0,0],[c.scrollDelta,c.scrollDelta],r,u,i).signal*(t[1]-t[0])*c.scrollDelta})};function erO(t){return function(r,i,s,u){var c=this.range,h=c.slice(),f=r.axisModels[0];if(!!f){if(K0(t(h,f,r,i,s,u),h,[0,100],"all"),this.range=h,c[0]!==h[0]||c[1]!==h[1])return h}}}var erN={grid:function(t,r,i,s,u){var c=i.axis,h={},f=u.model.coordinateSystem.getRect();return t=t||[0,0],"x"===c.dim?(h.pixel=r[0]-t[0],h.pixelLength=f.width,h.pixelStart=f.x,h.signal=c.inverse?1:-1):(h.pixel=r[1]-t[1],h.pixelLength=f.height,h.pixelStart=f.y,h.signal=c.inverse?-1:1),h},polar:function(t,r,i,s,u){var c=i.axis,h={},f=u.model.coordinateSystem,p=f.getRadiusAxis().getExtent(),v=f.getAngleAxis().getExtent();return t=t?f.pointToCoord(t):[0,0],r=f.pointToCoord(r),"radiusAxis"===i.mainType?(h.pixel=r[0]-t[0],h.pixelLength=p[1]-p[0],h.pixelStart=p[0],h.signal=c.inverse?1:-1):(h.pixel=r[1]-t[1],h.pixelLength=v[1]-v[0],h.pixelStart=v[0],h.signal=c.inverse?-1:1),h},singleAxis:function(t,r,i,s,u){var c=i.axis,h=u.model.coordinateSystem.getRect(),f={};return t=t||[0,0],"horizontal"===c.orient?(f.pixel=r[0]-t[0],f.pixelLength=h.width,f.pixelStart=h.x,f.signal=c.inverse?1:-1):(f.pixel=r[1]-t[1],f.pixelLength=h.height,f.pixelStart=h.y,f.signal=c.inverse?-1:1),f}};function erF(t){etu(t),t.registerComponentModel(erI),t.registerComponentView(erB),!function(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(t,r){var i=erD(r),s=i.coordSysRecordMap||(i.coordSysRecordMap=M2());s.each(function(t){t.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(t){Mw(ee8(t).infoList,function(i){var u,c,h,f,p=i.model.uid;var v=s.get(p)||s.set(p,(u=r,f=(h={model:c=i.model,containsPoint:MI(erL,c),dispatchAction:MI(erP,u),dataZoomInfoMap:null,controller:null}).controller=new Xd(u.getZr()),Mw(["pan","zoom","scrollMove"],function(t){f.on(t,function(r){var i=[];h.dataZoomInfoMap.each(function(s){if(!!r.isAvailableBehavior(s.model.option)){var u=(s.getRange||{})[t],c=u&&u(s.dzReferCoordSysInfo,h.model.mainType,h.controller,r);!s.model.get("disabled",!0)&&c&&i.push({dataZoomId:s.model.id,start:c[0],end:c[1]})}}),i.length&&h.dispatchAction(i)})}),h));(v.dataZoomInfoMap||(v.dataZoomInfoMap=M2())).set(t.uid,{dzReferCoordSysInfo:i,model:t,getRange:null})})}),s.each(function(t){var r,i,u,c,h,f=t.controller,p=t.dataZoomInfoMap;if(p){var v=p.keys()[0];null!=v&&(h=p.get(v))}if(!h){erR(s,t);return}var y=(i="type_",u={type_true:2,type_move:1,type_false:0,type_undefined:-1},c=!0,p.each(function(t){var s=t.model,h=!s.get("disabled",!0)&&(!s.get("zoomLock",!0)||"move");u[i+h]>u[i+r]&&(r=h),c=c&&s.get("preventDefaultMouseMove",!0)}),{controlType:r,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!c}});f.enable(y.controlType,y.opt),f.setPointerChecker(t.containsPoint),FS(t,"dispatchAction",h.model.get("throttle",!0),"fixRate")})})}(t)}var erU=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.type="dataZoom.slider",r.layoutMode="box",r.defaultOption=LM(ee7.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),r}(ee7),erz="horizontal",erG="vertical",erH=["line","bar","candlestick","scatter"],erV={easing:"cubicOut",duration:100,delay:0},erj=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i._displayables={},i}return AK(r,t),r.prototype.init=function(t,r){this.api=r,this._onBrush=ME(this._onBrush,this),this._onBrushEnd=ME(this._onBrushEnd,this)},r.prototype.render=function(r,i,s,u){if(t.prototype.render.apply(this,arguments),FS(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),!1===r.get("show")){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!u||"dataZoom"!==u.type||u.from!==this.uid)&&this._buildView(),this._updateView()},r.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},r.prototype._clear=function(){FA(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},r.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new IS;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},r.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,i=t.get("brushSelect"),s=this._findCoordRect(),u={width:r.getWidth(),height:r.getHeight()},c=this._orient===erz?{right:u.width-s.x-s.width,top:u.height-30-7-(i?7:0),width:s.width,height:30}:{right:7,top:s.y,width:30,height:s.height},h=Bp(t.option);Mw(["right","top","width","height"],function(t){"ph"===h[t]&&(h[t]=c[t])});var f=Bc(h,u);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===erG&&this._size.reverse()},r.prototype._positionGroup=function(){var t=this.group,r=this._location,i=this._orient,s=this.dataZoomModel.getFirstTargetAxisModel(),u=s&&s.get("inverse"),c=this._displayables.sliderGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;c.attr(i!==erz||u?i===erz&&u?{scaleY:h?1:-1,scaleX:-1}:i!==erG||u?{scaleY:h?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:h?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:h?1:-1,scaleX:1});var f=t.getBoundingRect([c]);t.x=r.x-f.x,t.y=r.y-f.y,t.markRedraw()},r.prototype._getViewExtent=function(){return[0,this._size[0]]},r.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,s=t.get("brushSelect");i.add(new RY({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var u=new RY({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:ME(this._onClickPanel,this)}),c=this.api.getZr();s?(u.on("mousedown",this._onBrushStart,this),u.cursor="crosshair",c.on("mousemove",this._onBrush),c.on("mouseup",this._onBrushEnd)):(c.off("mousemove",this._onBrush),c.off("mouseup",this._onBrushEnd)),i.add(u)},r.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,i=this._shadowSize||[],s=t.series,u=s.getRawData(),c=s.getShadowDim&&s.getShadowDim(),h=c&&u.getDimensionInfo(c)?s.getShadowDim():t.otherDim;if(null!=h){var f=this._shadowPolygonPts,p=this._shadowPolylinePts;if(u!==this._shadowData||h!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var v,y=u.getDataExtent(h),x=(y[1]-y[0])*.3;y=[y[0]-x,y[1]+x];var _=[0,r[1]],b=[0,r[0]],w=[[r[0],0],[0,0]],S=[],A=b[1]/(u.count()-1),M=0,C=Math.round(u.count()/r[0]);u.each([h],function(t,r){if(C>0&&r%C){M+=A;return}var i=null==t||isNaN(t)||""===t,s=i?0:Ik(t,y,_,!0);i&&!v&&r?(w.push([w[w.length-1][0],0]),S.push([S[S.length-1][0],0])):!i&&v&&(w.push([M,0]),S.push([M,0])),w.push([M,s]),S.push([M,s]),M+=A,v=i}),f=this._shadowPolygonPts=w,p=this._shadowPolylinePts=S}this._shadowData=u,this._shadowDim=h,this._shadowSize=[r[0],r[1]];for(var T=this.dataZoomModel,I=0;I<3;I++){var D=function(t){var r=T.getModel(t?"selectedDataBackground":"dataBackground"),i=new IS,s=new Nv({shape:{points:f},segmentIgnoreThreshold:1,style:r.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),u=new N_({shape:{points:p},segmentIgnoreThreshold:1,style:r.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return i.add(s),i.add(u),i}(1===I);this._displayables.sliderGroup.add(D),this._displayables.dataShadowSegs.push(D)}}},r.prototype._prepareDataShadowInfo=function(){var t,r=this.dataZoomModel,i=r.get("showDataShadow");if(!1!==i){var s=this.ecModel;return r.eachTargetAxis(function(u,c){Mw(r.getAxisProxy(u,c).getTargetSeriesModels(),function(r){if(!(t||!0!==i&&0>My(erH,r.get("type")))){var h,f=s.getComponent(ee9(u),c).axis,p=function(t){return({x:"y",y:"x",radius:"angle",angle:"radius"})[t]}(u),v=r.coordinateSystem;null!=p&&v.getOtherAxis&&(h=v.getOtherAxis(f).inverse),p=r.getData().mapDimension(p),t={thisAxis:f,series:r,thisDim:u,otherDim:p,otherAxisInverse:h}}},this)},this),t}},r.prototype._renderHandle=function(){var t=this.group,r=this._displayables,i=r.handles=[null,null],s=r.handleLabels=[null,null],u=this._displayables.sliderGroup,c=this._size,h=this.dataZoomModel,f=this.api,p=h.get("borderRadius")||0,v=h.get("brushSelect"),y=r.filler=new RY({silent:v,style:{fill:h.get("fillerColor")},textConfig:{position:"inside"}});u.add(y),u.add(new RY({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:c[0],height:c[1],r:p},style:{stroke:h.get("dataBackgroundColor")||h.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Mw([0,1],function(r){var c=h.get("handleIcon");!Ui[c]&&0>c.indexOf("path://")&&0>c.indexOf("image://")&&(c="path://"+c);var f=Us(c,-1,0,2,2,null,!0);f.attr({cursor:erW(this._orient),draggable:!0,drift:ME(this._onDragMove,this,r),ondragend:ME(this._onDragEnd,this),onmouseover:ME(this._showDataInfo,this,!0),onmouseout:ME(this._showDataInfo,this,!1),z2:5});var p=f.getBoundingRect(),v=h.get("handleSize");this._handleHeight=IO(v,this._size[1]),this._handleWidth=p.width/p.height*this._handleHeight,f.setStyle(h.getModel("handleStyle").getItemStyle()),f.style.strokeNoScale=!0,f.rectHover=!0,f.ensureState("emphasis").style=h.getModel(["emphasis","handleStyle"]).getItemStyle(),Pz(f);var y=h.get("handleColor");null!=y&&(f.style.fill=y),u.add(i[r]=f);var x=h.getModel("textStyle");t.add(s[r]=new R7({silent:!0,invisible:!0,style:Lt(x,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:x.getTextColor(),font:x.getFont()}),z2:10}))},this);var x=y;if(v){var _=IO(h.get("moveHandleSize"),c[1]),b=r.moveHandle=new RY({style:h.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:c[1]-.5,height:_}}),w=.8*_,S=r.moveHandleIcon=Us(h.get("moveHandleIcon"),-w/2,-w/2,w,w,"#fff",!0);S.silent=!0,S.y=c[1]+_/2-.5,b.ensureState("emphasis").style=h.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var A=Math.min(c[1]/2,Math.max(_,10));(x=r.moveZone=new RY({invisible:!0,shape:{y:c[1]-A,height:_+A}})).on("mouseover",function(){f.enterEmphasis(b)}).on("mouseout",function(){f.leaveEmphasis(b)}),u.add(b),u.add(S),u.add(x)}x.attr({draggable:!0,cursor:erW(this._orient),drift:ME(this._onDragMove,this,"all"),ondragstart:ME(this._showDataInfo,this,!0),ondragend:ME(this._onDragEnd,this),onmouseover:ME(this._showDataInfo,this,!0),onmouseout:ME(this._showDataInfo,this,!1)})},r.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[Ik(t[0],[0,100],r,!0),Ik(t[1],[0,100],r,!0)]},r.prototype._updateInterval=function(t,r){var i=this.dataZoomModel,s=this._handleEnds,u=this._getViewExtent(),c=i.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];K0(r,s,u,i.get("zoomLock")?"all":t,null!=c.minSpan?Ik(c.minSpan,h,u,!0):null,null!=c.maxSpan?Ik(c.maxSpan,h,u,!0):null);var f=this._range,p=this._range=IF([Ik(s[0],u,h,!0),Ik(s[1],u,h,!0)]);return!f||f[0]!==p[0]||f[1]!==p[1]},r.prototype._updateView=function(t){var r=this._displayables,i=this._handleEnds,s=IF(i.slice()),u=this._size;Mw([0,1],function(t){var s=r.handles[t],c=this._handleHeight;s.attr({scaleX:c/2,scaleY:c/2,x:i[t]+(t?-1:1),y:u[1]/2-c/2})},this),r.filler.setShape({x:s[0],y:0,width:s[1]-s[0],height:u[1]});var c={x:s[0],width:s[1]-s[0]};r.moveHandle&&(r.moveHandle.setShape(c),r.moveZone.setShape(c),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",c.x+c.width/2));for(var h=r.dataShadowSegs,f=[0,s[0],s[1],u[0]],p=0;p<h.length;p++){var v=h[p],y=v.getClipPath();!y&&(y=new RY,v.setClipPath(y)),y.setShape({x:f[p],y:0,width:f[p+1]-f[p],height:u[1]})}this._updateDataInfo(t)},r.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,i=this._displayables,s=i.handleLabels,u=this._orient,c=["",""];if(r.get("showDetail")){var h=r.findRepresentativeAxisProxy();if(h){var f=h.getAxisModel().axis,p=this._range,v=t?h.calculateDataWindow({start:p[0],end:p[1]}).valueWindow:h.getDataValueWindow();c=[this._formatLabel(v[0],f),this._formatLabel(v[1],f)]}}var y=IF(this._handleEnds.slice());function x(t){var r=N9(i.handles[t].parent,this.group),h=N6(0===t?"right":"left",r),f=this._handleWidth/2+5,p=N8([y[t]+(0===t?-f:f),this._size[1]/2],r);s[t].setStyle({x:p[0],y:p[1],verticalAlign:u===erz?"middle":h,align:u===erz?h:"center",text:c[t]})}x.call(this,0),x.call(this,1)},r.prototype._formatLabel=function(t,r){var i=this.dataZoomModel,s=i.get("labelFormatter"),u=i.get("labelPrecision");(null==u||"auto"===u)&&(u=r.getPixelPrecision());var c=null==t||isNaN(t)?"":"category"===r.type||"time"===r.type?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(u,20));return MR(s)?s(t,c):MP(s)?s.replace("{value}",c):c},r.prototype._showDataInfo=function(t){t=this._dragging||t;var r=this._displayables,i=r.handleLabels;i[0].attr("invisible",!t),i[1].attr("invisible",!t),r.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},r.prototype._onDragMove=function(t,r,i,s){this._dragging=!0,CW(s.event);var u=N8([r,i],this._displayables.sliderGroup.getLocalTransform(),!0),c=this._updateInterval(t,u[0]),h=this.dataZoomModel.get("realtime");this._updateView(!h),c&&h&&this._dispatchZoomAction(!0)},r.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction(!1)},r.prototype._onClickPanel=function(t){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0)&&!(i[0]>r[0])&&!(i[1]<0)&&!(i[1]>r[1])){var s=this._handleEnds,u=(s[0]+s[1])/2,c=this._updateInterval("all",i[0]-u);this._updateView(),c&&this._dispatchZoomAction(!1)}},r.prototype._onBrushStart=function(t){var r=t.offsetX,i=t.offsetY;this._brushStart=new C4(r,i),this._brushing=!0,this._brushStartTime=+new Date},r.prototype._onBrushEnd=function(t){if(!this._brushing)return;var r=this._displayables.brushRect;if(this._brushing=!1,!r)return;r.attr("ignore",!0);var i=r.shape;if(!(+new Date-this._brushStartTime<200&&5>Math.abs(i.width))){var s=this._getViewExtent(),u=[0,100];this._range=IF([Ik(i.x,s,u,!0),Ik(i.x+i.width,s,u,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}},r.prototype._onBrush=function(t){this._brushing&&(CW(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},r.prototype._updateBrushRect=function(t,r){var i=this._displayables,s=this.dataZoomModel,u=i.brushRect;!u&&(u=i.brushRect=new RY({silent:!0,style:s.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(u)),u.attr("ignore",!1);var c=this._brushStart,h=this._displayables.sliderGroup,f=h.transformCoordToLocal(t,r),p=h.transformCoordToLocal(c.x,c.y),v=this._size;f[0]=Math.max(Math.min(v[0],f[0]),0),u.setShape({x:p[0],y:0,width:f[0]-p[0],height:v[1]})},r.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?erV:null,start:r[0],end:r[1]})},r.prototype._findCoordRect=function(){var t,r=ee8(this.dataZoomModel).infoList;if(!t&&r.length){var i=r[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var s=this.api.getWidth(),u=this.api.getHeight();t={x:.2*s,y:.2*u,width:.6*s,height:.6*u}}return t},r.type="dataZoom.slider",r}(etn);function erW(t){return"vertical"===t?"ns-resize":"ew-resize"}function erX(t){t.registerComponentModel(erU),t.registerComponentView(erj),etu(t)}var erY={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};let erZ={get:function(t,r,i){var s=Md((erY[t]||{})[r]);return i&&MD(s)?s[s.length-1]:s}};var erK=Zu.mapVisual,erJ=Zu.eachVisual,erQ=Mw,erq=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.stateList=["inRange","outOfRange"],i.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],i.layoutMode={type:"box",ignoreSize:!0},i.dataBound=[-1/0,1/0],i.targetVisuals={},i.controllerVisuals={},i}return AK(r,t),r.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},r.prototype.optionUpdated=function(t,r){var i=this.option;r||enc(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},r.prototype.resetVisual=function(t){var r=this.stateList;t=ME(t,this),this.controllerVisuals=enu(this.option.controller,r,t),this.targetVisuals=enu(this.option.target,r,t)},r.prototype.getItemSymbol=function(){return null},r.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,r=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,i){r.push(i)}):r=I8(t),r},r.prototype.eachTargetSeries=function(t,r){Mw(this.getTargetSeriesIndices(),function(i){var s=this.ecModel.getSeriesByIndex(i);s&&t.call(r,s)},this)},r.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(i){i===t&&(r=!0)}),r},r.prototype.formatValueText=function(t,r,i){var s,u=this.option,c=u.precision,h=this.dataBound,f=u.formatter;i=i||["<",">"],MD(t)&&(t=t.slice(),s=!0);var p=r?t:s?[v(t[0]),v(t[1])]:v(t);if(MP(f))return f.replace("{value}",s?p[0]:p).replace("{value2}",s?p[1]:p);if(MR(f))return s?f(t[0],t[1]):f(t);if(!s)return p;return t[0]===h[0]?i[0]+" "+p[1]:t[1]===h[1]?i[1]+" "+p[0]:p[0]+" - "+p[1];function v(t){return t===h[0]?"min":t===h[1]?"max":(+t).toFixed(Math.min(c,20))}},r.prototype.resetExtent=function(){var t=this.option,r=IF([t.min,t.max]);this._dataExtent=r},r.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(null!=r)return t.getDimensionIndex(r);for(var i=t.dimensions,s=i.length-1;s>=0;s--){var u=i[s],c=t.getDimensionInfo(u);if(!c.isCalculationCoord)return c.storeDimIndex}},r.prototype.getExtent=function(){return this._dataExtent.slice()},r.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},s=r.target||(r.target={}),u=r.controller||(r.controller={});Mf(s,i),Mf(u,i);var c=this.isCategory();function h(i){MD(r.color)&&!i.inRange&&(i.inRange={color:r.color.slice().reverse()}),i.inRange=i.inRange||{color:t.get("gradientColor")}}h.call(this,s),h.call(this,u),(function(t,r,i){var s=t[r],u=t[i];s&&!u&&(u=t[i]={},erQ(s,function(t,r){if(!!Zu.isValidType(r)){var i=erZ.get(r,"inactive",c);null!=i&&(u[r]=i,"color"===r&&!u.hasOwnProperty("opacity")&&!u.hasOwnProperty("colorAlpha")&&(u.opacity=[0,0]))}}))}).call(this,s,"inRange","outOfRange"),(function(t){var r=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,s=this.get("inactiveColor"),u=this.getItemSymbol()||"roundRect";erQ(this.stateList,function(h){var f=this.itemSize,p=t[h];!p&&(p=t[h]={color:c?s:[s]}),null==p.symbol&&(p.symbol=r&&Md(r)||(c?u:[u])),null==p.symbolSize&&(p.symbolSize=i&&Md(i)||(c?f[0]:[f[0],f[0]])),p.symbol=erK(p.symbol,function(t){return"none"===t?u:t});var v=p.symbolSize;if(null!=v){var y=-1/0;erJ(v,function(t){t>y&&(y=t)}),p.symbolSize=erK(v,function(t){return Ik(t,[0,y],[0,f[0]],!0)})}},this)}).call(this,u)},r.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},r.prototype.isCategory=function(){return!!this.option.categories},r.prototype.setSelected=function(t){},r.prototype.getSelected=function(){return null},r.prototype.getValueState=function(t){return null},r.prototype.getVisualMeta=function(t){return null},r.type="visualMap",r.dependencies=["series"],r.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},r}(By),er$=[20,140],er0=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.optionUpdated=function(r,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},r.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(null==r[0]||isNaN(r[0]))&&(r[0]=20),(null==r[1]||isNaN(r[1]))&&(r[1]=140)},r.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):MD(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},r.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),Mw(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},r.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},r.prototype.getSelected=function(){var t=this.getExtent(),r=IF((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},r.prototype.getValueState=function(t){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=t)&&(r[1]>=i[1]||t<=r[1])?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(i){var s=[],u=i.getData();u.each(this.getDataDimensionIndex(u),function(r,i){t[0]<=r&&r<=t[1]&&s.push(i)},this),r.push({seriesId:i.id,dataIndex:s})},this),r},r.prototype.getVisualMeta=function(t){var r=er1(this,"outOfRange",this.getExtent()),i=er1(this,"inRange",this.option.range.slice()),s=[];function u(r,i){s.push({value:r,color:t(r,i)})}for(var c=0,h=0,f=i.length,p=r.length;h<p&&(!i.length||r[h]<=i[0]);h++)r[h]<i[c]&&u(r[h],"outOfRange");for(var v=1;c<f;c++,v=0)v&&s.length&&u(i[c],"outOfRange"),u(i[c],"inRange");for(var v=1;h<p;h++)(!i.length||i[i.length-1]<r[h])&&(v&&(s.length&&u(s[s.length-1].value,"outOfRange"),v=0),u(r[h],"outOfRange"));var y=s.length;return{stops:s,outerColors:[y?s[0].color:"transparent",y?s[y-1].color:"transparent"]}},r.type="visualMap.continuous",r.defaultOption=LM(erq.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),r}(erq);function er1(t,r,i){if(i[0]===i[1])return i.slice();for(var s=(i[1]-i[0])/200,u=i[0],c=[],h=0;h<=200&&u<i[1];h++)c.push(u),u+=s;return c.push(i[1]),c}var er2=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i.autoPositionValues={left:1,right:1,top:1,bottom:1},i}return AK(r,t),r.prototype.init=function(t,r){this.ecModel=t,this.api=r},r.prototype.render=function(t,r,i,s){if(this.visualMapModel=t,!1===t.get("show")){this.group.removeAll();return}this.doRender(t,r,i,s)},r.prototype.renderBackground=function(t){var r=this.visualMapModel,i=L9(r.get("padding")||0),s=t.getBoundingRect();t.add(new RY({z2:-1,silent:!0,shape:{x:s.x-i[3],y:s.y-i[0],width:s.width+i[3]+i[1],height:s.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},r.prototype.getControllerVisual=function(t,r,i){var s=(i=i||{}).forceState,u=this.visualMapModel,c={};if("color"===r){var h=u.get("contentColor");c.color=h}function f(t){return c[t]}function p(t,r){c[t]=r}var v=u.controllerVisuals[s||u.getValueState(t)];return Mw(Zu.prepareVisualTypes(v),function(s){var u=v[s];i.convertOpacityToAlpha&&"opacity"===s&&(s="colorAlpha",u=v.__alphaForOpacity),Zu.dependsOn(s,r)&&u&&u.applyVisual(t,f,p)}),c[r]},r.prototype.positionGroup=function(t){var r=this.visualMapModel,i=this.api;Bh(t,r.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},r.prototype.doRender=function(t,r,i,s){},r.type="visualMap",r}(OL),er3=[["left","right","width"],["top","bottom","height"]];function er5(t,r,i){var s=t.option,u=s.align;if(null!=u&&"auto"!==u)return u;for(var c={width:r.getWidth(),height:r.getHeight()},h="horizontal"===s.orient?1:0,f=er3[h],p=[0,null,10],v={},y=0;y<3;y++)v[er3[1-h][y]]=p[y],v[f[y]]=2===y?i[0]:s[f[y]];var x=[["x","width",3],["y","height",0]][h],_=Bc(v,c,s.padding);return f[(_.margin[x[2]]||0)+_[x[0]]+.5*_[x[1]]<.5*c[x[1]]?0:1]}function er4(t,r){return Mw(t||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(r?r.componentIndex:"")}),t}var er9=Ik,er8=Math.min,er6=Math.max,er7=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i._shapes={},i._dataInterval=[],i._handleEnds=[],i._hoverLinkDataIndices=[],i}return AK(r,t),r.prototype.init=function(r,i){t.prototype.init.call(this,r,i),this._hoverLinkFromSeriesMouseOver=ME(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=ME(this._hideIndicator,this)},r.prototype.doRender=function(t,r,i,s){(!s||"selectDataRange"!==s.type||s.from!==this.uid)&&this._buildView()},r.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var i=t.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},r.prototype._renderEndsText=function(t,r,i){if(!!r){var s=r[1-i];s=null!=s?s+"":"";var u=this.visualMapModel,c=u.get("textGap"),h=u.itemSize,f=this._shapes.mainGroup,p=this._applyTransform([h[0]/2,0===i?-c:h[1]+c],f),v=this._applyTransform(0===i?"bottom":"top",f),y=this._orient,x=this.visualMapModel.textStyleModel;this.group.add(new R7({style:Lt(x,{x:p[0],y:p[1],verticalAlign:"horizontal"===y?"middle":v,align:"horizontal"===y?v:"center",text:s})}))}},r.prototype._renderBar=function(t){var r=this.visualMapModel,i=this._shapes,s=r.itemSize,u=this._orient,c=this._useHandle,h=er5(r,this.api,s),f=i.mainGroup=this._createBarGroup(h),p=new IS;f.add(p),p.add(i.outOfRange=eie()),p.add(i.inRange=eie(null,c?ein(this._orient):null,ME(this._dragHandle,this,"all",!1),ME(this._dragHandle,this,"all",!0))),p.setClipPath(new RY({shape:{x:0,y:0,width:s[0],height:s[1],r:3}}));var v=r.textStyleModel.getTextRect(""),y=er6(v.width,v.height);c&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,f,0,s,y,u),this._createHandle(r,f,1,s,y,u)),this._createIndicator(r,f,s,y,u),t.add(f)},r.prototype._createHandle=function(t,r,i,s,u,c){var h=ME(this._dragHandle,this,i,!1),f=ME(this._dragHandle,this,i,!0),p=Id(t.get("handleSize"),s[0]),v=Us(t.get("handleIcon"),-p/2,-p/2,p,p,null,!0),y=ein(this._orient);v.attr({cursor:y,draggable:!0,drift:h,ondragend:f,onmousemove:function(t){CW(t.event)}}),v.x=s[0]/2,v.useStyle(t.getModel("handleStyle").getItemStyle()),v.setStyle({strokeNoScale:!0,strokeFirst:!0}),v.style.lineWidth*=2,v.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),PX(v,!0),r.add(v);var x=new R7({cursor:y,draggable:!0,drift:h,onmousemove:function(t){CW(t.event)},ondragend:f,style:Lt(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});x.ensureState("blur").style={opacity:.1},x.stateTransition={duration:200},this.group.add(x);var _=[p,0],b=this._shapes;b.handleThumbs[i]=v,b.handleLabelPoints[i]=_,b.handleLabels[i]=x},r.prototype._createIndicator=function(t,r,i,s,u){var c=Id(t.get("indicatorSize"),i[0]),h=Us(t.get("indicatorIcon"),-c/2,-c/2,c,c,null,!0);h.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var f=t.getModel("indicatorStyle").getItemStyle();if(h instanceof RU){var p=h.style;h.useStyle(Mg({image:p.image,x:p.x,y:p.y,width:p.width,height:p.height},f))}else h.useStyle(f);r.add(h);var v=new R7({silent:!0,invisible:!0,style:Lt(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(v);var y=[("horizontal"===u?s/2:6)+i[0]/2,0],x=this._shapes;x.indicator=h,x.indicatorLabel=v,x.indicatorLabelPoint=y,this._firstShowIndicator=!0},r.prototype._dragHandle=function(t,r,i,s){if(!!this._useHandle){if(this._dragging=!r,!r){var u=this._applyTransform([i,s],this._shapes.mainGroup,!0);this._updateInterval(t,u[1]),this._hideIndicator(),this._updateView()}!this.visualMapModel.get("realtime")===r&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?this._hovering||this._clearHoverLinkToSeries():eit(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},r.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),i=t.getExtent(),s=[0,t.itemSize[1]];this._handleEnds=[er9(r[0],i,s,!0),er9(r[1],i,s,!0)]},r.prototype._updateInterval=function(t,r){r=r||0;var i=this.visualMapModel,s=this._handleEnds,u=[0,i.itemSize[1]];K0(r,s,u,t,0);var c=i.getExtent();this._dataInterval=[er9(s[0],u,c,!0),er9(s[1],u,c,!0)]},r.prototype._updateView=function(t){var r=this.visualMapModel,i=r.getExtent(),s=this._shapes,u=[0,r.itemSize[1]],c=t?u:this._handleEnds,h=this._createBarVisual(this._dataInterval,i,c,"inRange"),f=this._createBarVisual(i,i,u,"outOfRange");s.inRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),s.outOfRange.setStyle({fill:f.barColor}).setShape("points",f.barPoints),this._updateHandle(c,h)},r.prototype._createBarVisual=function(t,r,i,s){var u={forceState:s,convertOpacityToAlpha:!0},c=this._makeColorGradient(t,u),h=[this.getControllerVisual(t[0],"symbolSize",u),this.getControllerVisual(t[1],"symbolSize",u)],f=this._createBarPoints(i,h);return{barColor:new Nk(0,0,0,1,c),barPoints:f,handlesColor:[c[0].color,c[c.length-1].color]}},r.prototype._makeColorGradient=function(t,r){var i=[],s=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var u=1;u<100;u++){var c=t[0]+s*u;if(c>t[1])break;i.push({color:this.getControllerVisual(c,"color",r),offset:u/100})}return i.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),i},r.prototype._createBarPoints=function(t,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-r[1],t[1]]]},r.prototype._createBarGroup=function(t){var r=this._orient,i=this.visualMapModel.get("inverse");return new IS("horizontal"!==r||i?"horizontal"===r&&i?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==r||i?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},r.prototype._updateHandle=function(t,r){if(!!this._useHandle){var i=this._shapes,s=this.visualMapModel,u=i.handleThumbs,c=i.handleLabels,h=s.itemSize,f=s.getExtent();Mw([0,1],function(p){var v=u[p];v.setStyle("fill",r.handlesColor[p]),v.y=t[p];var y=er9(t[p],[0,h[1]],f,!0),x=this.getControllerVisual(y,"symbolSize");v.scaleX=v.scaleY=x/h[0],v.x=h[0]-x/2;var _=N8(i.handleLabelPoints[p],N9(v,this.group));c[p].setStyle({x:_[0],y:_[1],text:s.formatValueText(this._dataInterval[p]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})},this)}},r.prototype._showIndicator=function(t,r,i,s){var u=this.visualMapModel,c=u.getExtent(),h=u.itemSize,f=[0,h[1]],p=this._shapes,v=p.indicator;if(!!v){v.attr("invisible",!1);var y=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),x=this.getControllerVisual(t,"symbolSize"),_=er9(t,c,f,!0),b=h[0]-x/2,w={x:v.x,y:v.y};v.y=_,v.x=b;var S=N8(p.indicatorLabelPoint,N9(v,this.group)),A=p.indicatorLabel;A.attr("invisible",!1);var M=this._applyTransform("left",p.mainGroup),C="horizontal"===this._orient;A.setStyle({text:(i||"")+u.formatValueText(r),verticalAlign:C?M:"middle",align:C?"center":M});var T={x:b,y:_,style:{fill:y}},I={style:{x:S[0],y:S[1]}};if(u.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var D={duration:100,easing:"cubicInOut",additive:!0};v.x=w.x,v.y=w.y,v.animateTo(T,D),A.animateTo(I,D)}else v.attr(T),A.attr(I);this._firstShowIndicator=!1;var R=this._shapes.handleLabels;if(R)for(var P=0;P<R.length;P++)this.api.enterBlur(R[P])}},r.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,s=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);s[1]=er8(er6(0,s[1]),i[1]),t._doHoverLinkToSeries(s[1],0<=s[0]&&s[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,t._dragging||t._clearHoverLinkToSeries()})},r.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},r.prototype._doHoverLinkToSeries=function(t,r){var i=this.visualMapModel,s=i.itemSize;if(!!i.option.hoverLink){var u=[0,s[1]],c=i.getExtent();t=er8(er6(u[0],t),u[1]);var h=function(t,r,i){var s=6,u=t.get("hoverLinkDataSize");return u&&(s=er9(u,r,i,!0)/2),s}(i,c,u),f=[t-h,t+h],p=er9(t,u,c,!0),v=[er9(f[0],u,c,!0),er9(f[1],u,c,!0)];f[0]<u[0]&&(v[0]=-1/0),f[1]>u[1]&&(v[1]=1/0),r&&(v[0]===-1/0?this._showIndicator(p,v[1],"< ",h):v[1]===1/0?this._showIndicator(p,v[0],"> ",h):this._showIndicator(p,p," ",h));var y=this._hoverLinkDataIndices,x=[];(r||eit(i))&&(x=this._hoverLinkDataIndices=i.findTargetDataIndices(v));var _=function(t,r){var i={},s={};return u(t||[],i),u(r||[],s,i),[c(i),c(s)];function u(t,r,i){for(var s=0,u=t.length;s<u;s++){var c=Di(t[s].seriesId,null);if(null==c)return;for(var h=I8(t[s].dataIndex),f=i&&i[c],p=0,v=h.length;p<v;p++){var y=h[p];f&&f[y]?f[y]=null:(r[c]||(r[c]={}))[y]=1}}}function c(t,r){var i=[];for(var s in t)if(t.hasOwnProperty(s)&&null!=t[s]){if(r)i.push(+s);else{var u=c(t[s],!0);u.length&&i.push({seriesId:s,dataIndex:u})}}return i}}(y,x);this._dispatchHighDown("downplay",er4(_[0],i)),this._dispatchHighDown("highlight",er4(_[1],i))}},r.prototype._hoverLinkFromSeriesMouseOver=function(t){if(F4(t.target,function(t){var i=Pe(t);if(null!=i.dataIndex)return r=i,!0},!0),!r)return;var r,i=this.ecModel.getSeriesByIndex(r.seriesIndex),s=this.visualMapModel;if(!!s.isTargetSeries(i)){var u=i.getData(r.dataType),c=u.getStore().get(s.getDataDimensionIndex(u),r.dataIndex);!isNaN(c)&&this._showIndicator(c,c)}},r.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this.api.leaveBlur(r[i])},r.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",er4(t,this.visualMapModel)),t.length=0},r.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},r.prototype._applyTransform=function(t,r,i,s){var u=N9(r,s?null:this.group);return MD(t)?N8(t,u,i):N6(t,u,i)},r.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},r.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},r.type="visualMap.continuous",r}(er2);function eie(t,r,i,s){return new Nv({shape:{points:t},draggable:!!i,cursor:r,drift:i,onmousemove:function(t){CW(t.event)},ondragend:s})}function eit(t){var r=t.get("hoverLinkOnHandle");return!!(null==r?t.get("realtime"):r)}function ein(t){return"vertical"===t?"ns-resize":"ew-resize"}var eir={type:"selectDataRange",event:"dataRangeSelected",update:"update"},eii=function(t,r){r.eachComponent({mainType:"visualMap",query:t},function(r){r.setSelected(t.selected)})},eia=[{createOnAllSeries:!0,reset:function(t,r){var i=[];return r.eachComponent("visualMap",function(r){var s,u,c,h,f,p=t.pipelineContext;if(!!r.isTargetSeries(t)&&(!p||!p.large))i.push((s=r.stateList,u=r.targetVisuals,c=ME(r.getValueState,r),h=r.getDataDimensionIndex(t.getData()),f={},Mw(s,function(t){var r=Zu.prepareVisualTypes(u[t]);f[t]=r}),{progress:function(t,r){function i(t){return F0(r,v,t)}function s(t,i){F2(r,v,t,i)}null!=h&&(p=r.getDimensionIndex(h));for(var p,v,y=r.getStore();null!=(v=t.next());){var x=r.getRawDataItem(v);if(!x||!1!==x.visualMap)for(var _=null!=h?y.get(p,v):v,b=c(_),w=u[b],S=f[b],A=0,M=S.length;A<M;A++){var C=S[A];w[C]&&w[C].applyVisual(_,i,s)}}}}))}),i}},{createOnAllSeries:!0,reset:function(t,r){var i=t.getData(),s=[];r.eachComponent("visualMap",function(r){if(r.isTargetSeries(t)){var u=r.getVisualMeta(ME(eio,null,t,r))||{stops:[],outerColors:[]},c=r.getDataDimensionIndex(i);c>=0&&(u.dimension=c,s.push(u))}}),t.getData().setVisual("visualMeta",s)}}];function eio(t,r,i,s){for(var u=r.targetVisuals[s],c=Zu.prepareVisualTypes(u),h={color:F1(t.getData(),"color")},f=0,p=c.length;f<p;f++){var v=c[f],y=u["opacity"===v?"__alphaForOpacity":v];y&&y.applyVisual(i,x,_)}return h.color;function x(t){return h[t]}function _(t,r){h[t]=r}}var eis=Mw;function eil(t){var r=t&&t.visualMap;!MD(r)&&(r=r?[r]:[]),eis(r,function(t){if(!!t){eiu(t,"splitList")&&!eiu(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&MD(r)&&eis(r,function(t){Mk(t)&&(eiu(t,"start")&&!eiu(t,"min")&&(t.min=t.start),eiu(t,"end")&&!eiu(t,"max")&&(t.max=t.end))})}})}function eiu(t,r){return t&&t.hasOwnProperty&&t.hasOwnProperty(r)}var eic=!1;function eih(t){if(!eic)eic=!0,t.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),t.registerAction(eir,eii),Mw(eia,function(r){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,r)}),t.registerPreprocessor(eil)}function eid(t){t.registerComponentModel(er0),t.registerComponentView(er7),eih(t)}var eif=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i._pieceList=[],i}return AK(r,t),r.prototype.optionUpdated=function(r,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var s=this._mode=this._determineMode();this._pieceList=[],eip[this._mode].call(this,this._pieceList),this._resetSelected(r,i);var u=this.option.categories;this.resetVisual(function(t,r){"categories"===s?(t.mappingMethod="category",t.categories=Md(u)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=MS(this._pieceList,function(t){return t=Md(t),"inRange"!==r&&(t.visual=null),t}))})},r.prototype.completeVisualOption=function(){var r=this.option,i={},s=Zu.listVisualTypes(),u=this.isCategory();function c(t,r,i){return t&&t[r]&&t[r].hasOwnProperty(i)}Mw(r.pieces,function(t){Mw(s,function(r){t.hasOwnProperty(r)&&(i[r]=1)})}),Mw(i,function(t,i){var s=!1;Mw(this.stateList,function(t){s=s||c(r,t,i)||c(r.target,t,i)},this),s||Mw(this.stateList,function(t){(r[t]||(r[t]={}))[i]=erZ.get(i,"inRange"===t?"active":"inactive",u)})},this),t.prototype.completeVisualOption.apply(this,arguments)},r.prototype._resetSelected=function(t,r){var i=this.option,s=this._pieceList,u=(r?i:t).selected||{};if(i.selected=u,Mw(s,function(t,r){var i=this.getSelectedMapKey(t);!u.hasOwnProperty(i)&&(u[i]=!0)},this),"single"===i.selectedMode){var c=!1;Mw(s,function(t,r){var i=this.getSelectedMapKey(t);u[i]&&(c?u[i]=!1:c=!0)},this)}},r.prototype.getItemSymbol=function(){return this.get("itemSymbol")},r.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},r.prototype.getPieceList=function(){return this._pieceList},r.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},r.prototype.setSelected=function(t){this.option.selected=Md(t)},r.prototype.getValueState=function(t){var r=Zu.findPieceIndex(t,this._pieceList);return null!=r&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(t){var r=[],i=this._pieceList;return this.eachTargetSeries(function(s){var u=[],c=s.getData();c.each(this.getDataDimensionIndex(c),function(r,s){Zu.findPieceIndex(r,i)===t&&u.push(s)},this),r.push({seriesId:s.id,dataIndex:u})},this),r},r.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(null!=t.value)r=t.value;else{var i=t.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},r.prototype.getVisualMeta=function(t){if(!this.isCategory()){var r=[],i=["",""],s=this;var u=this._pieceList.slice();if(u.length){var c=u[0].interval[0];c!==-1/0&&u.unshift({interval:[-1/0,c]}),(c=u[u.length-1].interval[1])!==1/0&&u.push({interval:[c,1/0]})}else u.push({interval:[-1/0,1/0]});var h=-1/0;return Mw(u,function(t){var r=t.interval;r&&(r[0]>h&&f([h,r[0]],"outOfRange"),f(r.slice()),h=r[1])},this),{stops:r,outerColors:i}}function f(u,c){var h=s.getRepresentValue({interval:u});!c&&(c=s.getValueState(h));var f=t(h,c);u[0]===-1/0?i[0]=f:u[1]===1/0?i[1]=f:r.push({value:u[0],color:f},{value:u[1],color:f})}},r.type="visualMap.piecewise",r.defaultOption=LM(erq.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),r}(erq),eip={splitNumber:function(t){var r=this.option,i=Math.min(r.precision,20),s=this.getExtent(),u=r.splitNumber;u=Math.max(parseInt(u,10),1),r.splitNumber=u;for(var c=(s[1]-s[0])/u;+c.toFixed(i)!==c&&i<5;)i++;r.precision=i,c=+c.toFixed(i),r.minOpen&&t.push({interval:[-1/0,s[0]],close:[0,0]});for(var h=0,f=s[0];h<u;f+=c,h++){var p=h===u-1?s[1]:f+c;t.push({interval:[f,p],close:[1,1]})}r.maxOpen&&t.push({interval:[s[1],1/0],close:[0,0]}),I$(t),Mw(t,function(t,r){t.index=r,t.text=this.formatValueText(t.interval)},this)},categories:function(t){var r=this.option;Mw(r.categories,function(r){t.push({text:this.formatValueText(r,!0),value:r})},this),eig(r,t)},pieces:function(t){var r=this.option;Mw(r.pieces,function(r,i){!Mk(r)&&(r={value:r});var s={text:"",index:i};if(null!=r.label&&(s.text=r.label),r.hasOwnProperty("value")){var u=s.value=r.value;s.interval=[u,u],s.close=[1,1]}else{for(var c=s.interval=[],h=s.close=[0,0],f=[1,0,1],p=[-1/0,1/0],v=[],y=0;y<2;y++){for(var x=[["gte","gt","min"],["lte","lt","max"]][y],_=0;_<3&&null==c[y];_++)c[y]=r[x[_]],h[y]=f[_],v[y]=2===_;null==c[y]&&(c[y]=p[y])}v[0]&&c[1]===1/0&&(h[0]=0),v[1]&&c[0]===-1/0&&(h[1]=0);c[0]===c[1]&&h[0]&&h[1]&&(s.value=c[0])}s.visual=Zu.retrieveVisuals(r),t.push(s)},this),eig(r,t),I$(t),Mw(t,function(t){var r=t.close,i=[["<",""][r[1]],[">",""][r[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)},this)}};function eig(t,r){var i=t.inverse;("vertical"===t.orient?!i:i)&&r.reverse()}var eim=function(t){function r(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=r.type,i}return AK(r,t),r.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,i=r.get("textGap"),s=r.textStyleModel,u=s.getFont(),c=s.getTextColor(),h=this._getItemAlign(),f=r.itemSize,p=this._getViewData(),v=p.endsText,y=MV(r.get("showLabel",!0),!v);v&&this._renderEndsText(t,v[0],f,y,h),Mw(p.viewPieceList,function(s){var p=s.piece,v=new IS;v.onclick=ME(this._onItemClick,this,p),this._enableHoverLink(v,s.indexInModelPieceList);var x=r.getRepresentValue(p);if(this._createItemSymbol(v,x,[0,0,f[0],f[1]]),y){var _=this.visualMapModel.getValueState(x);v.add(new R7({style:{x:"right"===h?-i:f[0]+i,y:f[1]/2,text:p.text,verticalAlign:"middle",align:h,font:u,fill:c,opacity:"outOfRange"===_?.5:1}}))}t.add(v)},this),v&&this._renderEndsText(t,v[1],f,y,h),Bu(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},r.prototype._enableHoverLink=function(t,r){var i=this;t.on("mouseover",function(){return s("highlight")}).on("mouseout",function(){return s("downplay")});var s=function(t){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:t,batch:er4(s.findTargetDataIndices(r),s)})}},r.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if("vertical"===r.orient)return er5(t,this.api,t.itemSize);var i=r.align;return(!i||"auto"===i)&&(i="left"),i},r.prototype._renderEndsText=function(t,r,i,s,u){if(!!r){var c=new IS,h=this.visualMapModel.textStyleModel;c.add(new R7({style:Lt(h,{x:s?"right"===u?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:s?u:"center",text:r})})),t.add(c)}},r.prototype._getViewData=function(){var t=this.visualMapModel,r=MS(t.getPieceList(),function(t,r){return{piece:t,indexInModelPieceList:r}}),i=t.get("text"),s=t.get("orient"),u=t.get("inverse");return("horizontal"===s?u:!u)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},r.prototype._createItemSymbol=function(t,r,i){t.add(Us(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color")))},r.prototype._onItemClick=function(t){var r=this.visualMapModel,i=r.option,s=i.selectedMode;if(!!s){var u=Md(i.selected),c=r.getSelectedMapKey(t);"single"===s||!0===s?(u[c]=!0,Mw(u,function(t,r){u[r]=r===c})):u[c]=!u[c],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:u})}},r.type="visualMap.piecewise",r}(er2);function eiv(t){t.registerComponentModel(eif),t.registerComponentView(eim),eih(t)}var eiy={label:{enabled:!0},decal:{show:!1}},eix=Dl(),ei_={};function eib(t,r){var i=t.getModel("aria");if(!!i.get("enabled")){var s=Md(eiy);Mf(s.label,t.getLocaleModel().get("aria"),!1),Mf(i.option,s,!1),function(){if(i.getModel("decal").get("show")){var r=M2();t.eachSeries(function(t){if(!t.isColorBySeries()){var i=r.get(t.type);!i&&(i={},r.set(t.type,i)),eix(t).scope=i}}),t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){if(MR(r.enableAriaDecal)){r.enableAriaDecal();return}var i=r.getData();if(r.isColorBySeries()){var s=BG(r.ecModel,r.name,ei_,t.getSeriesCount()),u=i.getVisual("decal");i.setVisual("decal",v(u,s))}else{var c=r.getRawData(),h={},f=eix(r).scope;i.each(function(t){h[i.getRawIndex(t)]=t});var p=c.count();c.each(function(t){var s=h[t],u=c.getName(t)||t+"",y=BG(r.ecModel,u,f,p),x=i.getItemVisual(s,"decal");i.setItemVisual(s,"decal",v(x,y))})}}function v(t,r){var i=t?Mg(Mg({},r),t):r;return i.dirty=!0,i}})}}(),function(){var s,c,h=r.getZr().dom;if(!h)return;var f=t.getLocaleModel().get("aria"),p=i.getModel("label");if(p.option=Mm(p.option,f),!p.get("enabled"))return;if(p.get("description")){h.setAttribute("aria-label",p.get("description"));return}var v=t.getSeriesCount(),y=p.get(["data","maxCount"])||10,x=Math.min(v,p.get(["series","maxCount"])||10);if(!(v<1)){var _=function(){var r=t.get("title");return r&&r.length&&(r=r[0]),r&&r.text}();if(_){;c=u(p.get(["general","withTitle"]),{title:_})}else c=p.get(["general","withoutTitle"]);var b=[];c+=u(v>1?p.get(["series","multiple","prefix"]):p.get(["series","single","prefix"]),{seriesCount:v}),t.eachSeries(function(r,i){if(i<x){var s=void 0,c=r.get("name")?"withName":"withoutName";s=u(s=v>1?p.get(["series","multiple",c]):p.get(["series","single",c]),{seriesId:r.seriesIndex,seriesName:r.get("name"),seriesType:function(r){var i=t.getLocaleModel().get(["series","typeNames"]);return i[r]||i.chart}(r.subType)});var h=r.getData();h.count()>y?s+=u(p.get(["data","partialData"]),{displayCnt:y}):s+=p.get(["data","allData"]);for(var f=p.get(["data","separator","middle"]),_=p.get(["data","separator","end"]),w=[],S=0;S<h.count();S++)if(S<y){var A=h.getName(S),M=h.getValues(S),C=p.get(["data",A?"withName":"withoutName"]);w.push(u(C,{name:A,value:M.join(f)}))}s+=w.join(f)+_,b.push(s)}});var w=p.getModel(["series","multiple","separator"]),S=w.get("middle"),A=w.get("end");c+=b.join(S)+A,h.setAttribute("aria-label",c)}}()}function u(t,r){if(!MP(t))return t;var i=t;return Mw(r,function(t,r){i=i.replace(RegExp("\\{\\s*"+r+"\\s*\\}","g"),t)}),i}}function eiw(t){if(!!t&&!!t.aria){var r=t.aria;null!=r.show&&(r.enabled=r.show),r.label=r.label||{},Mw(["description","general","series","data"],function(t){null!=r[t]&&(r.label[t]=r[t])})}}var eiS={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},eiA=function(){function t(t){null==(this._condVal=MP(t)?new RegExp(t):MG(t)?t:null)&&kU("")}return t.prototype.evaluate=function(t){var r=typeof t;return MP(r)?this._condVal.test(t):!!MB(r)&&this._condVal.test(t+"")},t}(),eiM=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),eiC=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(!t[r].evaluate())return!1;return!0},t}(),eiT=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(t[r].evaluate())return!0;return!1},t}(),eiE=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),eiI=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,r=(0,this.getValue)(this.valueGetterParam),i=t?this.valueParser(r):null,s=0;s<this.subCondList.length;s++)if(!this.subCondList[s].evaluate(t?i:r))return!1;return!0},t}();function eiD(t,r){if(!0===t||!1===t){var i=new eiM;return i.value=t,i}if(!function(t){return Mk(t)&&!Mb(t)}(t)&&kU(""),t.and)return eiR("and",t,r);if(t.or)return eiR("or",t,r);if(t.not)return function(t,r){var i=t.not;!eiP(i)&&kU("");var s=new eiE;return s.child=eiD(i,r),!s.child&&kU(""),s}(t,r);return function(t,r){var i=r.prepareGetValue(t),s=[],u=MT(t),c=t.parser;for(var h=c?(p=c,kG.get(p)):null,f=0;f<u.length;f++){var p,v,y,x=u[f];if(!("parser"===x||r.valueGetterAttrMap.get(x))){var _=M9(eiS,x)?eiS[x]:x,b=t[x],w=h?h(b):b;var S=(v=_,y=w,("eq"===v||"ne"===v?new kX("eq"===v,y):M9(kV,v)?new kj(v,y):null)||"reg"===_&&new eiA(w));!S&&kU(""),s.push(S)}}!s.length&&kU("");var A=new eiI;return A.valueGetterParam=i,A.valueParser=h,A.getValue=r.getValue,A.subCondList=s,A}(t,r)}function eiR(t,r,i){var s=r[t];!MD(s)&&kU(""),!s.length&&kU("");var u="and"===t?new eiC:new eiT;return u.children=MS(s,function(t){return eiD(t,i)}),!u.children.length&&kU(""),u}function eiP(t){return Mk(t)&&!Mb(t)}var eiL=function(){function t(t,r){this._cond=eiD(t,r)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}(),eiB={type:"echarts:filter",transform:function(t){var r,i,s=t.upstream;for(var u=(r=t.config,new eiL(r,{valueGetterAttrMap:M2({dimension:!0}),prepareGetValue:function(t){var r=t.dimension;!M9(t,"dimension")&&kU("");var i=s.getDimensionInfo(r);return!i&&kU(""),{dimIdx:i.index}},getValue:function(t){return s.retrieveValueFromItem(i,t.dimIdx)}})),c=[],h=0,f=s.count();h<f;h++)i=s.getRawDataItem(h),u.evaluate()&&c.push(i);return{data:c}}},eik={type:"echarts:sort",transform:function(t){var r=t.upstream,i=t.config,s=I8(i);!s.length&&kU("");var u=[];Mw(s,function(t){var i,s=t.dimension,c=t.order,h=t.parser,f=t.incomparable;null==s&&kU(""),"asc"!==c&&"desc"!==c&&kU(""),f&&"min"!==f&&"max"!==f&&kU(""),"asc"!==c&&"desc"!==c&&kU("");var p=r.getDimensionInfo(s);!p&&kU("");var v=h?(i=h,kG.get(i)):null;h&&!v&&kU(""),u.push({dimIdx:p.index,parser:v,comparator:new kW(c,f)})});var c=r.sourceFormat;c!==BA&&c!==BM&&kU("");for(var h=[],f=0,p=r.count();f<p;f++)h.push(r.getRawDataItem(f));return h.sort(function(t,i){for(var s=0;s<u.length;s++){var c=u[s],h=r.retrieveValueFromItem(t,c.dimIdx),f=r.retrieveValueFromItem(i,c.dimIdx);c.parser&&(h=c.parser(h),f=c.parser(f));var p=c.comparator.evaluate(h,f);if(0!==p)return p}return 0}),{data:h}}},eiO=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.type="dataset",r}return AK(r,t),r.prototype.init=function(r,i,s){t.prototype.init.call(this,r,i,s),this._sourceManager=new Oe(this),Ot(this)},r.prototype.mergeOption=function(r,i){t.prototype.mergeOption.call(this,r,i),Ot(this)},r.prototype.optionUpdated=function(){this._sourceManager.dirty()},r.prototype.getSourceManager=function(){return this._sourceManager},r.type="dataset",r.defaultOption={seriesLayoutBy:BI},r}(By),eiN=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.type="dataset",r}return AK(r,t),r.type="dataset",r}(OL),eiF=Ry.CMD;function eiU(t,r){return 1e-5>Math.abs(t-r)}function eiz(t){var r,i,s,u,c,h=t.data,f=t.len(),p=[],v=0,y=0,x=0,_=0;function b(t,i){r&&r.length>2&&p.push(r),r=[t,i]}function w(t,i,s,u){!(eiU(t,s)&&eiU(i,u))&&r.push(t,i,s,u,s,u)}for(var S=0;S<f;){var A=h[S++],M=1===S;switch(M&&(v=h[S],y=h[S+1],x=v,_=y,(A===eiF.L||A===eiF.C||A===eiF.Q)&&(r=[x,_])),A){case eiF.M:v=x=h[S++],y=_=h[S++],b(x,_);break;case eiF.L:i=h[S++],w(v,y,i,s=h[S++]),v=i,y=s;break;case eiF.C:r.push(h[S++],h[S++],h[S++],h[S++],v=h[S++],y=h[S++]);break;case eiF.Q:i=h[S++],s=h[S++],u=h[S++],c=h[S++],r.push(v+2/3*(i-v),y+2/3*(s-y),u+2/3*(i-u),c+2/3*(s-c),u,c),v=u,y=c;break;case eiF.A:var C=h[S++],T=h[S++],I=h[S++],D=h[S++],R=h[S++],P=h[S++]+R;S+=1;var L=!h[S++];i=Math.cos(R)*I+C,s=Math.sin(R)*D+T,M?b(x=i,_=s):w(v,y,i,s),v=Math.cos(P)*I+C,y=Math.sin(P)*D+T;for(var B=(L?-1:1)*Math.PI/2,k=R;L?k>P:k<P;k+=B){var O=L?Math.max(k+B,P):Math.min(k+B,P);!function(t,i,s,u,c,h){var f=4*Math.tan(Math.abs(i-t)/4)/3,p=i<t?-1:1,v=Math.cos(t),y=Math.sin(t),x=Math.cos(i),_=Math.sin(i),b=x*c+s,w=_*h+u,S=c*f*p,A=h*f*p;r.push(v*c+s-S*y,y*h+u+A*v,b+S*_,w-A*x,b,w)}(k,O,C,T,I,D)}break;case eiF.R:x=v=h[S++],_=y=h[S++],i=x+h[S++],s=_+h[S++],b(i,_),w(i,_,i,s),w(i,s,x,s),w(x,s,x,_),w(x,_,i,_);break;case eiF.Z:r&&w(v,y,x,_),v=x,y=_}}return r&&r.length>2&&p.push(r),p}function eiG(t,r,i){var s=Math.ceil(Math.sqrt(Math.abs(t[r]/t[1-r])*i)),u=Math.floor(i/s);0===u&&(u=1,s=i);for(var c=[],h=0;h<s;h++)c.push(u);var f=i-s*u;if(f>0)for(var h=0;h<f;h++)c[h%s]+=1;return c}function eiH(t,r,i){for(var s=t.r0,u=t.r,c=t.startAngle,h=Math.abs(t.endAngle-c),f=h*u,p=u-s,v=f>Math.abs(p),y=eiG([f,p],v?0:1,r),x=(v?h:p)/y.length,_=0;_<y.length;_++){for(var b=(v?p:h)/y[_],w=0;w<y[_];w++){var S={};v?(S.startAngle=c+x*_,S.endAngle=c+x*(_+1),S.r0=s+b*w,S.r=s+b*(w+1)):(S.startAngle=c+b*w,S.endAngle=c+b*(w+1),S.r0=s+x*_,S.r=s+x*(_+1)),S.clockwise=t.clockwise,S.cx=t.cx,S.cy=t.cy,i.push(S)}}}function eiV(t,r,i,s){return t*s-i*r}function eij(t,r){var i=t[t.length-1];if(!i||i[0]!==r[0]||i[1]!==r[1])t.push(r)}function eiW(t){var r=t.points,i=[],s=[];D9(r,i,s);var u=new Ti(i[0],i[1],s[0]-i[0],s[1]-i[1]),c=u.width,h=u.height,f=u.x,p=u.y,v=new C4,y=new C4;return c>h?(v.x=y.x=f+c/2,v.y=p,y.y=p+h):(v.y=y.y=p+h/2,v.x=f,y.x=f+c),function(t,r,i){for(var s=t.length,u=[],c=0;c<s;c++){var h=t[c],f=t[(c+1)%s],p=function(t,r,i,s,u,c,h,f){var p=i-t,v=s-r,y=h-u,x=f-c,_=y*v-p*x;if(1e-6>Math.abs(_))return null;var b=((t-u)*x-y*(r-c))/_;return b<0||b>1?null:new C4(b*p+t,b*v+r)}(h[0],h[1],f[0],f[1],r.x,r.y,i.x,i.y);p&&u.push({projPt:function(t,r,i){var s=new C4;C4.sub(s,i,r),s.normalize();var u=new C4;return C4.sub(u,t,r),u.dot(s)}(p,r,i),pt:p,idx:c})}if(u.length<2)return[{points:t},{points:t}];u.sort(function(t,r){return t.projPt-r.projPt});var v=u[0],y=u[u.length-1];if(y.idx<v.idx){var x=v;v=y,y=x}for(var _=[v.pt.x,v.pt.y],b=[y.pt.x,y.pt.y],w=[_],S=[b],c=v.idx+1;c<=y.idx;c++)eij(w,t[c].slice());eij(w,b),eij(w,_);for(var c=y.idx+1;c<=v.idx+s;c++)eij(S,t[c%s].slice());return eij(S,_),eij(S,b),[{points:w},{points:S}]}(r,v,y)}function eiX(t,r,i,s){if(1===i)s.push(r);else{var u=Math.floor(i/2),c=t(r);eiX(t,c[0],u,s),eiX(t,c[1],i-u,s)}return s}function eiY(t,r){for(var i=t.length,s=t[i-2],u=t[i-1],c=[],h=0;h<r.length;)c[h++]=s,c[h++]=u;return c}function eiZ(t){for(var r=0,i=0,s=0,u=t.length,c=0,h=u-2;c<u;h=c,c+=2){var f=t[h],p=t[h+1],v=t[c],y=t[c+1],x=f*y-v*p;r+=x,i+=(f+v)*x,s+=(p+y)*x}return 0===r?[t[0]||0,t[1]||0]:[i/r/3,s/r/3,r]}function eiK(t){return t.__isCombineMorphing}var eiJ="__mOriginal_";function eiQ(t,r,i){var s=eiJ+r,u=t[s]||t[r];!t[s]&&(t[s]=t[r]);var c=i.replace,h=i.after,f=i.before;t[r]=function(){var t,r=arguments;return f&&f.apply(this,r),t=c?c.apply(this,r):u.apply(this,r),h&&h.apply(this,r),t}}function eiq(t,r){var i=eiJ+r;t[i]&&(t[r]=t[i],t[i]=null)}function ei$(t,r){for(var i=0;i<t.length;i++){for(var s=t[i],u=0;u<s.length;){var c=s[u],h=s[u+1];s[u++]=r[0]*c+r[2]*h+r[4],s[u++]=r[1]*c+r[3]*h+r[5]}}}function ei0(t,r){var i=t.getUpdatedPathProxy(),s=r.getUpdatedPathProxy(),u=function(t,r){for(var i,s,u,c=[],h=[],f=0;f<Math.max(t.length,r.length);f++){var p=t[f],v=r[f],y=void 0,x=void 0;p?v?(y=(i=function(t,r){var i=t.length,s=r.length;if(i===s)return[t,r];for(var u=[],c=[],h=i<s?t:r,f=Math.min(i,s),p=Math.abs(s-i)/6,v=Math.ceil(p/((f-2)/6))+1,y=[h[0],h[1]],x=p,_=2;_<f;){var b=h[_-2],w=h[_-1],S=h[_++],A=h[_++],M=h[_++],C=h[_++],T=h[_++],I=h[_++];if(x<=0){y.push(S,A,M,C,T,I);continue}for(var D=Math.min(x,v-1)+1,R=1;R<=D;R++){var P=R/D;TN(b,S,M,T,P,u),TN(w,A,C,I,P,c),b=u[3],w=c[3],y.push(u[1],c[1],u[2],c[2],b,w),S=u[5],A=c[5],M=u[6],C=c[6]}x-=D-1}return h===t?[y,r]:[t,y]}(p,v))[0],x=i[1],s=y,u=x):(x=eiY(u||p,p),y=p):(y=eiY(s||v,v),x=v),c.push(y),h.push(x)}return[c,h]}(eiz(i),eiz(s)),c=u[0],h=u[1],f=t.getComputedTransform(),p=r.getComputedTransform();f&&ei$(c,f),p&&ei$(h,p),eiQ(r,"updateTransform",{replace:function(){this.transform=null}}),r.transform=null;var v=function(t,r,i,s){for(var u,c=[],h=0;h<t.length;h++){var f,p=t[h],v=r[h],y=eiZ(p),x=eiZ(v);null==u&&(u=y[2]<0!=x[2]<0);var _=[],b=[],w=0,S=1/0,A=[],M=p.length;u&&(p=function(t){for(var r=[],i=t.length,s=0;s<i;s+=2)r[s]=t[i-s-2],r[s+1]=t[i-s-1];return r}(p));for(var C=6*function(t,r,i,s){for(var u=(t.length-2)/6,c=1/0,h=0,f=t.length,p=f-2,v=0;v<u;v++){for(var y=6*v,x=0,_=0;_<f;_+=2){var b=0===_?y:(y+_-2)%p+2,w=t[b]-i[0],S=t[b+1]-i[1],A=r[_]-s[0],M=r[_+1]-s[1],C=A-w,T=M-S;x+=C*C+T*T}x<c&&(c=x,h=v)}return h}(p,v,y,x),T=M-2,I=0;I<T;I+=2){var D=(C+I)%T+2;_[I+2]=p[D]-y[0],_[I+3]=p[D+1]-y[1]}_[0]=p[C]-y[0],_[1]=p[C+1]-y[1],!0;for(var R=s/i,P=-s/2;P<=s/2;P+=R){for(var L=Math.sin(P),B=Math.cos(P),k=0,I=0;I<p.length;I+=2){var O=_[I],N=_[I+1],F=v[I]-x[0],U=v[I+1]-x[1],z=F*B-U*L,G=F*L+U*B;A[I]=z,A[I+1]=G;var H=z-O,V=G-N;k+=H*H+V*V}if(k<S){S=k,w=P;for(var j=0;j<A.length;j++)b[j]=A[j]}}c.push({from:_,to:b,fromCp:y,toCp:x,rotation:-w})}return c}(c,h,10,Math.PI),y=[];eiQ(r,"buildPath",{replace:function(t){for(var i=r.__morphT,s=1-i,u=[],c=0;c<v.length;c++){var h=v[c],f=h.from,p=h.to,x=h.rotation*i,_=h.fromCp,b=h.toCp,w=Math.sin(x),S=Math.cos(x);C_(u,_,b,i);for(var A=0;A<f.length;A+=2){var M=f[A],C=f[A+1],T=p[A],I=p[A+1],D=M*s+T*i,R=C*s+I*i;y[A]=D*S-R*w+u[0],y[A+1]=D*w+R*S+u[1]}var P=y[0],L=y[1];t.moveTo(P,L);for(var A=2;A<f.length;){var T=y[A++],I=y[A++],B=y[A++],k=y[A++],O=y[A++],N=y[A++];P===T&&L===I&&B===O&&k===N?t.lineTo(O,N):t.bezierCurveTo(T,I,B,k,O,N),P=O,L=N}}}})}function ei1(t,r,i){if(!t||!r)return r;var s=i.done,u=i.during;return ei0(t,r),r.__morphT=0,r.animateTo({__morphT:1},Mm({during:function(t){r.dirtyShape(),u&&u(t)},done:function(){eiq(r,"buildPath"),eiq(r,"updateTransform"),r.__morphT=-1,r.createPathProxy(),r.dirtyShape(),s&&s()}},i)),r}function ei2(t){var r=1/0,i=1/0,s=-1/0,u=-1/0,c=MS(t,function(t){var c=t.getBoundingRect(),h=t.getComputedTransform(),f=c.x+c.width/2+(h?h[4]:0),p=c.y+c.height/2+(h?h[5]:0);return r=Math.min(f,r),i=Math.min(p,i),s=Math.max(f,s),u=Math.max(p,u),[f,p]});return MS(c,function(c,h){return{cp:c,z:function(t,r,i,s,u,c){t=u===i?0:Math.round(32767*(t-i)/(u-i)),r=c===s?0:Math.round(32767*(r-s)/(c-s));for(var h,f=0,p=32768;p>0;p/=2){var v=0,y=0;(t&p)>0&&(v=1),(r&p)>0&&(y=1),f+=p*p*(3*v^y),0===y&&(1===v&&(t=p-1-t,r=p-1-r),h=t,t=r,r=h)}return f}(c[0],c[1],r,i,s,u),path:t[h]}}).sort(function(t,r){return t.z-r.z}).map(function(t){return t.path})}function ei3(t){return function(t,r){var i,s=[],u=t.shape;switch(t.type){case"rect":!function(t,r,i){for(var s=t.width,u=t.height,c=s>u,h=eiG([s,u],c?0:1,r),f=c?"width":"height",p=c?"height":"width",v=c?"x":"y",y=c?"y":"x",x=t[f]/h.length,_=0;_<h.length;_++){for(var b=t[p]/h[_],w=0;w<h[_];w++){var S={};S[v]=_*x,S[y]=w*b,S[f]=x,S[p]=b,S.x+=t.x,S.y+=t.y,i.push(S)}}}(u,r,s),i=RY;break;case"sector":eiH(u,r,s),i=Nc;break;case"circle":eiH({r0:0,r:u.r,startAngle:0,endAngle:2*Math.PI,cx:u.cx,cy:u.cy},r,s),i=Nc;break;default:var c=t.getComputedTransform(),h=c?Math.sqrt(Math.max(c[0]*c[0]+c[1]*c[1],c[2]*c[2]+c[3]*c[3])):1,f=MS(function(t,r){var i=eiz(t),s=[];r=r||1;for(var u=0;u<i.length;u++){var c=i[u],h=[],f=c[0],p=c[1];h.push(f,p);for(var v=2;v<c.length;){var y=c[v++],x=c[v++],_=c[v++],b=c[v++],w=c[v++],S=c[v++];!function t(r,i,s,u,c,h,f,p,v,y){if(eiU(r,s)&&eiU(i,u)&&eiU(c,f)&&eiU(h,p)){v.push(f,p);return}var x=2/y,_=x*x,b=f-r,w=p-i,S=Math.sqrt(b*b+w*w);b/=S,w/=S;var A=s-r,M=u-i,C=c-f,T=h-p,I=A*A+M*M,D=C*C+T*T;if(I<_&&D<_){v.push(f,p);return}var R=b*A+w*M,P=-b*C-w*T;if(I-R*R<_&&R>=0&&D-P*P<_&&P>=0){v.push(f,p);return}var L=[],B=[];TN(r,s,c,f,.5,L),TN(i,u,h,p,.5,B),t(L[0],B[0],L[1],B[1],L[2],B[2],L[3],B[3],v,y),t(L[4],B[4],L[5],B[5],L[6],B[6],L[7],B[7],v,y)}(f,p,y,x,_,b,w,S,h,r),f=w,p=S}s.push(h)}return s}(t.getUpdatedPathProxy(),h),function(t){return function(t){for(var r=[],i=0;i<t.length;)r.push([t[i++],t[i++]]);return r}(t)}),p=f.length;if(0===p)eiX(eiW,{points:f[0]},r,s);else if(p===r)for(var v=0;v<p;v++)s.push({points:f[v]});else{var y=0,x=MS(f,function(t){var r=[],i=[];D9(t,r,i);var s=(i[1]-r[1])*(i[0]-r[0]);return y+=s,{poly:t,area:s}});x.sort(function(t,r){return r.area-t.area});for(var _=r,v=0;v<p;v++){var b=x[v];if(_<=0)break;var w=v===p-1?_:Math.ceil(b.area/y*r);if(!(w<0))eiX(eiW,{points:b.poly},w,s),_-=w}}i=Nv}if(!i)return function(t,r){for(var i=[],s=0;s<r;s++)i.push(O0(t));return i}(t,r);for(var S=[],v=0;v<s.length;v++){var A,M,C=new i;C.setShape(s[v]),A=t,(M=C).setStyle(A.style),M.z=A.z,M.z2=A.z2,M.zlevel=A.zlevel,S.push(C)}return S}(t.path,t.count)}function ei5(){return{fromIndividuals:[],toIndividuals:[],count:0}}function ei4(t){return MD(t[0])}function ei9(t,r){for(var i=[],s=t.length,u=0;u<s;u++)i.push({one:t[u],many:[]});for(var u=0;u<r.length;u++){var c=r[u].length,h=void 0;for(h=0;h<c;h++)i[h%s].many.push(r[u][h])}for(var f=0,u=s-1;u>=0;u--)if(!i[u].many.length){var p=i[f].many;if(p.length<=1){if(!f)return i;f=0}var c=p.length,v=Math.ceil(c/2);i[u].many=p.slice(v,c),i[f].many=p.slice(0,v),f++}return i}var ei8={clone:function(t){for(var r=[],i=1-Math.pow(1-t.path.style.opacity,1/t.count),s=0;s<t.count;s++){var u=O0(t.path);u.setStyle("opacity",i),r.push(u)}return r},split:null};function ei6(t,r,i,s,u,c){if(!t.length||!r.length)return;var h,f,p=PQ("update",s,u);if(!!(p&&p.duration>0)){var v=s.getModel("universalTransition").get("delay"),y=Object.assign({setToFinal:!0},p);if(MD(t[0]))h=t,f=r;if(MD(r[0]))h=r,f=t;for(var x=h?h===t:t.length>r.length,_=h?ei9(f,h):ei9(x?r:t,[x?t:r]),b=0,w=0;w<_.length;w++)b+=_[w].many.length;for(var S=0,w=0;w<_.length;w++)!function t(r,s,u,h,f){var p=r.many,x=r.one;if(1!==p.length||f){for(var _=Mm({dividePath:ei8[i],individualDelay:v&&function(t,r,i,s){return v(t+u,h)}},y),b=s?function(t,r,i){var s=[];!function t(r){for(var i=0;i<r.length;i++){var u=r[i];eiK(u)?t(u.childrenRef()):u instanceof RL&&s.push(u)}}(t);var u=s.length;if(!u)return ei5();var c=(i.dividePath||ei3)({path:r,count:u});if(c.length!==u)return ei5();s=ei2(s),c=ei2(c);for(var h=i.done,f=i.during,p=i.individualDelay,v=new In,y=0;y<u;y++){var x=s[y],_=c[y];_.parent=r,_.copyTransform(v),!p&&ei0(x,_)}function b(t){for(var r=0;r<c.length;r++)c[r].addSelfToZr(t)}function w(){r.__isCombineMorphing=!1,r.__morphT=-1,r.childrenRef=null,eiq(r,"addSelfToZr"),eiq(r,"removeSelfFromZr")}r.__isCombineMorphing=!0,r.childrenRef=function(){return c},eiQ(r,"addSelfToZr",{after:function(t){b(t)}}),eiQ(r,"removeSelfFromZr",{after:function(t){for(var r=0;r<c.length;r++)c[r].removeSelfFromZr(t)}});var S=c.length;if(p){for(var A=S,M=function(){0==--A&&(w(),h&&h())},y=0;y<S;y++){var C=p?Mm({delay:(i.delay||0)+p(y,S,s[y],c[y]),done:M},i):i;ei1(s[y],c[y],C)}}else r.__morphT=0,r.animateTo({__morphT:1},Mm({during:function(t){for(var i=0;i<S;i++){var s=c[i];s.__morphT=r.__morphT,s.dirtyShape()}f&&f(t)},done:function(){w();for(var r=0;r<t.length;r++)eiq(t[r],"updateTransform");h&&h()}},i));return r.__zr&&b(r.__zr),{fromIndividuals:s,toIndividuals:c,count:S}}(p,x,_):function(t,r,i){var s=r.length,u=[],c=i.dividePath||ei3;if(eiK(t)){!function t(r){for(var i=0;i<r.length;i++){var s=r[i];eiK(s)?t(s.childrenRef()):s instanceof RL&&u.push(s)}}(t.childrenRef());var h=u.length;if(h<s){for(var f=0,p=h;p<s;p++)u.push(O0(u[f++%h]))}u.length=s}else{u=c({path:t,count:s});for(var v=t.getComputedTransform(),p=0;p<u.length;p++)u[p].setLocalTransform(v);if(u.length!==s)return ei5()}u=ei2(u),r=ei2(r);for(var y=i.individualDelay,p=0;p<s;p++){var x=y?Mm({delay:(i.delay||0)+y(p,s,u[p],r[p])},i):i;ei1(u[p],r[p],x)}return{fromIndividuals:u,toIndividuals:r,count:r.length}}(x,p,_),w=b.fromIndividuals,S=b.toIndividuals,A=w.length,M=0;M<A;M++){var C=v?Mm({delay:v(M,A)},y):y;c(w[M],S[M],s?p[M]:r.one,s?r.one:p[M],C)}}else{var T=s?p[0]:x,I=s?x:p[0];if(eiK(T))t({many:[T],one:I},!0,u,h,!0);else{var C=v?Mm({delay:v(u,h)},y):y;ei1(T,I,C),c(T,I,T,I,C)}}}(_[w],x,S,b),S+=_[w].many.length}}function ei7(t){if(!t)return[];if(MD(t)){for(var r=[],i=0;i<t.length;i++)r.push(ei7(t[i]));return r}var s=[];return t.traverse(function(t){t instanceof RL&&!t.disableMorphing&&!t.invisible&&!t.ignore&&s.push(t)}),s}var eae=Dl();function eat(t,r,i,s){var u=function(t,r){for(var i=t.dimensions,s=0;s<i.length;s++){var u=t.getDimensionInfo(i[s]);if(u&&0===u.otherDims[r])return i[s]}}(t,s?"itemChildGroupId":"itemGroupId");if(u)return function(t,r,i){var s=t.getDimensionInfo(i),u=s&&s.ordinalMeta;if(s){var c=t.get(s.name,r);return u&&u.categories[c]||c+""}}(t,r,u);var c=t.getRawDataItem(r),h=s?"childGroupId":"groupId";if(c&&c[h])return c[h]+"";if(!s)return i||t.getId(r)}function ean(t){var r=[];return Mw(t,function(t){var i=t.data,s=t.dataGroupId;if(!(i.count()>1e4))for(var u=i.getIndices(),c=0;c<u.length;c++)r.push({data:i,groupId:eat(i,c,s,!1),childGroupId:eat(i,c,s,!0),divide:t.divide,dataIndex:c})}),r}function ear(t,r,i){t.traverse(function(t){t instanceof RL&&P0(t,{style:{opacity:0}},r,{dataIndex:i,isFrom:!0})})}function eai(t){if(t.parent){var r=t.getComputedTransform();t.setLocalTransform(r),t.parent.remove(t)}}function eaa(t){t.stopAnimation(),t.isGroup&&t.traverse(function(t){t.stopAnimation()})}function eao(t,r,i){var s=ean(t),u=ean(r);function c(t,r,i,s,u){(i||t)&&r.animateFrom({style:i&&i!==t?Mg(Mg({},i.style),t.style):t.style},u)}var h=!1,f=0,p=M2(),v=M2();s.forEach(function(t){t.groupId&&p.set(t.groupId,!0),t.childGroupId&&v.set(t.childGroupId,!0)});for(var y=0;y<u.length;y++){var x=u[y].groupId;if(v.get(x)){f=1;break}var _=u[y].childGroupId;if(_&&p.get(_)){f=2;break}}function b(t,r){return function(i){var s=i.data,u=i.dataIndex;return r?s.getId(u):t?1===f?i.childGroupId:i.groupId:2===f?i.childGroupId:i.groupId}}var w=function(t,r){var i=t.length;if(i!==r.length)return!1;for(var s=0;s<i;s++){var u=t[s],c=r[s];if(u.data.getId(u.dataIndex)!==c.data.getId(c.dataIndex))return!1}return!0}(s,u),S={};if(!w)for(var y=0;y<u.length;y++){var A=u[y],M=A.data.getItemGraphicEl(A.dataIndex);M&&(S[M.id]=!0)}function C(t,r){var i,f,p,v=s[r],y=u[t],x=y.data.hostModel,_=v.data.getItemGraphicEl(v.dataIndex),b=y.data.getItemGraphicEl(y.dataIndex);if(_===b){;b&&(i=b,f=y.dataIndex,(p=PQ("update",x,f))&&i.traverse(function(t){if(t instanceof DK){var r=PJ(t).oldStyle;r&&t.animateFrom({style:r},p)}}));return}if(!_||!S[_.id])b&&(eaa(b),_?(eaa(_),eai(_),h=!0,ei6(ei7(_),ei7(b),y.divide,x,t,c)):ear(b,x,t))}new zk(s,u,b(!0,w),b(!1,w),null,"multiple").update(C).updateManyToOne(function(t,r){var i=u[t],f=i.data,p=f.hostModel,v=f.getItemGraphicEl(i.dataIndex),y=MM(MS(r,function(t){return s[t].data.getItemGraphicEl(s[t].dataIndex)}),function(t){return t&&t!==v&&!S[t.id]});v&&(eaa(v),y.length?(Mw(y,function(t){eaa(t),eai(t)}),h=!0,ei6(ei7(y),ei7(v),i.divide,p,t,c)):ear(v,p,i.dataIndex))}).updateOneToMany(function(t,r){var i=s[r],f=i.data.getItemGraphicEl(i.dataIndex);if(!f||!S[f.id]){var p=MM(MS(t,function(t){return u[t].data.getItemGraphicEl(u[t].dataIndex)}),function(t){return t&&t!==f}),v=u[t[0]].data.hostModel;p.length&&(Mw(p,function(t){return eaa(t)}),f?(eaa(f),eai(f),h=!0,ei6(ei7(f),ei7(p),i.divide,v,t[0],c)):Mw(p,function(r){return ear(r,v,t[0])}))}}).updateManyToMany(function(t,r){new zk(r,t,function(t){return s[t].data.getId(s[t].dataIndex)},function(t){return u[t].data.getId(u[t].dataIndex)}).update(function(i,s){C(t[i],r[s])}).execute()}).execute(),h&&Mw(r,function(t){var r=t.data.hostModel,s=r&&i.getViewOfSeriesModel(r),u=PQ("update",r,0);s&&r.isAnimationEnabled()&&u&&u.duration>0&&s.group.traverse(function(t){t instanceof RL&&!t.animators.length&&t.animateFrom({style:{opacity:0}},u)})})}function eas(t){var r=t.getModel("universalTransition").get("seriesKey");return r?r:t.id}function eal(t){return MD(t)?t.sort().join(","):t}function eau(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function eac(t,r){for(var i=0;i<t.length;i++)if(null!=r.seriesIndex&&r.seriesIndex===t[i].seriesIndex||null!=r.seriesId&&r.seriesId===t[i].id)return i}zP([function(t){t.registerPainter("canvas",H3)}]),zP([function(t){t.registerPainter("svg",Vq)}]),zP([function(t){t.registerChartView(jb),t.registerSeriesModel(V0),t.registerLayout(jw("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var r=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",i)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,jM("line"))},function(t){t.registerChartView(jk),t.registerSeriesModel(jT),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,MI(Gb,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Gw("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,jM("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,r){var i=t.componentType||"series";r.eachComponent({mainType:i,query:t},function(r){t.sortInfo&&r.axis.setCategorySortInfo(t.sortInfo)})})},function(t){t.registerChartView(j7),t.registerSeriesModel(Wr),F3("pie",t.registerAction),t.registerLayout(MI(j1,"pie")),t.registerProcessor(j3("pie")),t.registerProcessor({seriesType:"pie",reset:function(t,r){var i=t.getData();i.filterSelf(function(t){var r=i.mapDimension("value"),s=i.get(r,t);return(!MB(s)||!!isNaN(s)||!(s<0))&&!0})}})},function(t){zP(W5),t.registerSeriesModel(Wi),t.registerChartView(Wl),t.registerLayout(jw("scatter"))},function(t){zP(Xl),t.registerChartView(W7),t.registerSeriesModel(Xe),t.registerLayout(W4),t.registerProcessor(j3("radar")),t.registerPreprocessor(W6)},function(t){zP(Yb),t.registerChartView(Yr),t.registerSeriesModel(Yi),t.registerLayout(Yo),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Ya),F3("map",t.registerAction)},function(t){var r;t.registerChartView(YR),t.registerSeriesModel(Y$),t.registerLayout(Y1),t.registerVisual(Y2),(r=t).registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var i=t.dataIndex,s=r.getData().tree.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,r,i){r.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var s=Yy(r.coordinateSystem,t,void 0,i);r.setCenter&&r.setCenter(s.center),r.setZoom&&r.setZoom(s.zoom)})})},function(t){t.registerSeriesModel(Y4),t.registerChartView(Zo),t.registerVisual(Zw),t.registerLayout(ZB),!function(t){for(var r=0;r<Y3.length;r++)t.registerAction({type:Y3[r],update:"updateView"},M8);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,r){r.eachComponent({mainType:"series",subType:"treemap",query:t},function(r,i){var s=YK(t,["treemapZoomToNode","treemapRootToNode"],r);if(s){var u=r.getViewRoot();u&&(t.direction=YQ(u,s.node)?"rollUp":"drillDown"),r.resetViewRoot(s.node)}})})}(t)},function(t){t.registerChartView(K_),t.registerSeriesModel(KT),t.registerProcessor(ZN),t.registerVisual(ZF),t.registerVisual(Zz),t.registerLayout(ZJ),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,Z5),t.registerLayout(Z9),t.registerCoordinateSystem("graphView",{dimensions:Yl.dimensions,create:Z8}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},M8),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},M8),t.registerAction(KE,function(t,r,i){r.eachComponent({mainType:"series",query:t},function(r){var s=Yy(r.coordinateSystem,t,void 0,i);r.setCenter&&r.setCenter(s.center),r.setZoom&&r.setZoom(s.zoom)})})},function(t){t.registerChartView(KP),t.registerSeriesModel(KL)},function(t){t.registerChartView(KO),t.registerSeriesModel(KN),t.registerLayout(KF),t.registerProcessor(j3("funnel"))},function(t){zP(JQ),t.registerChartView(KU),t.registerSeriesModel(Kj),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,KY)},function(t){t.registerChartView(J0),t.registerSeriesModel(J2),t.registerLayout(J3),t.registerVisual(Qr),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(r){r.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(t){t.registerSeriesModel(Qa),t.registerChartView(Qo),t.registerLayout(Qd),t.registerTransform(Qf)},function(t){t.registerChartView(Qg),t.registerSeriesModel(QM),t.registerPreprocessor(QC),t.registerVisual(QP),t.registerLayout(QL)},function(t){t.registerChartView(QN),t.registerSeriesModel(QF),t.registerLayout(jw("effectScatter"))},function(t){t.registerChartView(QX),t.registerSeriesModel(QJ),t.registerLayout(QW),t.registerVisual(Qq)},function(t){t.registerChartView(Q1),t.registerSeriesModel(Q2)},function(t){t.registerChartView(Q9),t.registerSeriesModel(qp),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,MI(Gb,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Gw("pictorialBar"))},function(t){t.registerChartView(qg),t.registerSeriesModel(qm),t.registerLayout(qv),t.registerProcessor(j3("themeRiver"))},function(t){var r;t.registerChartView(qw),t.registerSeriesModel(qS),t.registerLayout(MI(qM,"sunburst")),t.registerProcessor(MI(j3,"sunburst")),t.registerVisual(qC),(r=t).registerAction({type:q_,update:"updateView"},function(t,r){r.eachComponent({mainType:"series",subType:"sunburst",query:t},function(r,i){var s=YK(t,[q_],r);if(s){var u=r.getViewRoot();u&&(t.direction=YQ(u,s.node)?"rollUp":"drillDown"),r.resetViewRoot(s.node)}})}),r.registerAction({type:qb,update:"none"},function(t,r,i){t=Mg({},t),r.eachComponent({mainType:"series",subType:"sunburst",query:t},function(r){var i=YK(t,[qb],r);i&&(t.dataIndex=i.node.dataIndex)});i.dispatchAction(Mg(t,{type:"highlight"}))}),r.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,r,i){t=Mg({},t);i.dispatchAction(Mg(t,{type:"downplay"}))})},function(t){t.registerChartView($o),t.registerSeriesModel(qD)}]),zP(function(t){zP(W5),zP($1)}),zP(function(t){zP($1),WX.registerAxisPointerClass("PolarAxisPointer",$2),t.registerCoordinateSystem("polar",eeo),t.registerComponentModel($5),t.registerComponentView(eew),Wy(t,"angle",$9,ee_),Wy(t,"radius",$8,eeb),t.registerComponentView(eeh),t.registerComponentView(eeg),t.registerLayout(MI(eex,"bar"))}),zP(Yb),zP(function(t){zP($1),WX.registerAxisPointerClass("SingleAxisPointer",eeO),t.registerComponentView(eez),t.registerComponentView(eeC),t.registerComponentModel(eeE),Wy(t,"single",eeE,eeE.defaultOption),t.registerCoordinateSystem("single",eeL)}),zP(JQ),zP(function(t){t.registerComponentModel(eeG),t.registerComponentView(eeV),t.registerCoordinateSystem("calendar",eej)}),zP(function(t){t.registerComponentModel(eeJ),t.registerComponentView(ee$),t.registerPreprocessor(function(t){var r=t.graphic;MD(r)?r[0]&&r[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:r}]:r&&!r.elements&&(t.graphic=[{elements:[r]}])})}),zP(function(t){var r,i,s,u,c;t.registerComponentModel(etg),t.registerComponentView(etv),r=ety,etd.saveAsImage=r,i=etb,etd.magicType=i,s=etC,etd.dataView=s,u=etW,etd.dataZoom=u,c=etD,etd.restore=c,zP(etc)}),zP(function(t){zP($1),t.registerComponentModel(etZ),t.registerComponentView(ent),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},M8),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},M8)}),zP($1),zP(function(t){var r;t.registerComponentView(enS),t.registerComponentModel(enA),t.registerPreprocessor(eno),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,eny),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(r){r.setAreas(t.areas)})}),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},M8),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},M8),r=enT,etd.brush=r}),zP(function(t){t.registerComponentModel(enE),t.registerComponentView(enI)}),zP(function(t){var r;t.registerComponentModel(enR),t.registerComponentView(enO),t.registerSubTypeDefaulter("timeline",function(){return"slider"}),(r=t).registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,r,i){var s=r.getComponent("timeline");return s&&null!=t.currentIndex&&(s.setCurrentIndex(t.currentIndex),!s.get("loop",!0)&&s.isIndexMax()&&s.getPlayState()&&(s.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),r.resetOption("timeline",{replaceMerge:s.get("replaceMerge",!0)}),Mm({currentIndex:s.option.currentIndex},t)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,r){var i=r.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)}),t.registerPreprocessor(enU)}),zP(function(t){t.registerComponentModel(enX),t.registerComponentView(en5),t.registerPreprocessor(function(t){enH(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),zP(function(t){t.registerComponentModel(en4),t.registerComponentView(ern),t.registerPreprocessor(function(t){enH(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),zP(function(t){t.registerComponentModel(err),t.registerComponentView(erh),t.registerPreprocessor(function(t){enH(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),zP(function(t){zP(erw),zP(erE)}),zP(function(t){zP(erF),zP(erX)}),zP(erF),zP(erX),zP(function(t){zP(eid),zP(eiv)}),zP(eid),zP(eiv),zP(function(t){t.registerPreprocessor(eiw),t.registerVisual(t.PRIORITY.VISUAL.ARIA,eib)}),zP(function(t){t.registerTransform(eiB),t.registerTransform(eik)}),zP(function(t){t.registerComponentModel(eiO),t.registerComponentView(eiN)}),zP(function(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,r,i){Mw(I8(i.seriesTransition),function(t){Mw(I8(t.to),function(t){for(var r=i.updatedSeries,s=0;s<r.length;s++)(null!=t.seriesIndex&&t.seriesIndex===r[s].seriesIndex||null!=t.seriesId&&t.seriesId===r[s].id)&&(r[s][Ow]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(t,r,i){var s=eae(r);if(s.oldSeries&&i.updatedSeries&&i.optionChanged){var u=i.seriesTransition;if(u)Mw(I8(u),function(t){var u,c,h,f,p,v;u=t,c=s,h=i,f=r,p=[],v=[],Mw(I8(u.from),function(t){var r=eac(c.oldSeries,t);r>=0&&p.push({dataGroupId:c.oldDataGroupIds[r],data:c.oldData[r],divide:eau(c.oldData[r]),groupIdDim:t.dimension})}),Mw(I8(u.to),function(t){var r=eac(h.updatedSeries,t);if(r>=0){var i=h.updatedSeries[r].getData();v.push({dataGroupId:c.oldDataGroupIds[r],data:i,divide:eau(i),groupIdDim:t.dimension})}}),p.length>0&&v.length>0&&eao(p,v,f)});else{var c,h,f,p,v,y=(c=s,h=i,f=M2(),p=M2(),v=M2(),Mw(c.oldSeries,function(t,r){var i=c.oldDataGroupIds[r],s=c.oldData[r],u=eas(t),h=eal(u);p.set(h,{dataGroupId:i,data:s}),MD(u)&&Mw(u,function(t){v.set(t,{key:h,dataGroupId:i,data:s})})}),Mw(h.updatedSeries,function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var r=t.get("dataGroupId"),i=t.getData(),s=eas(t),u=eal(s),c=p.get(u);if(c)f.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:eau(c.data),data:c.data}],newSeries:[{dataGroupId:r,divide:eau(i),data:i}]});else if(MD(s)){var h=[];Mw(s,function(t){var r=p.get(t);r.data&&h.push({dataGroupId:r.dataGroupId,divide:eau(r.data),data:r.data})}),h.length&&f.set(u,{oldSeries:h,newSeries:[{dataGroupId:r,data:i,divide:eau(i)}]})}else{var y=v.get(s);if(y){var x=f.get(y.key);!x&&(x={oldSeries:[{dataGroupId:y.dataGroupId,data:y.data,divide:eau(y.data)}],newSeries:[]},f.set(y.key,x)),x.newSeries.push({dataGroupId:r,data:i,divide:eau(i)})}}}}),f);Mw(y.keys(),function(t){var i=y.get(t);eao(i.oldSeries,i.newSeries,r)})}Mw(i.updatedSeries,function(t){t[Ow]&&(t[Ow]=!1)})}for(var x=t.getSeries(),_=s.oldSeries=[],b=s.oldDataGroupIds=[],w=s.oldData=[],S=0;S<x.length;S++){var A=x[S].getData();1e4>A.count()&&(_.push(x[S]),b.push(x[S].get("dataGroupId")),w.push(A))}})}),zP(H0);var eah=i("8611");function ead(t,r){var i={};return r.forEach(function(r){i[r]=t[r]}),i}function eaf(t){return"function"==typeof t}var eap=i("3341"),eag=i.n(eap),eam=function(t){function r(r){var i=t.call(this,r)||this;return i.echarts=r.echarts,i.ele=null,i.isInitialResize=!0,i}return AU(r,t),r.prototype.componentDidMount=function(){this.renderNewEcharts()},r.prototype.componentDidUpdate=function(t){var r=this.props.shouldSetOption;if(!eaf(r)||!!r(t,this.props)){if(!eag()(t.theme,this.props.theme)||!eag()(t.opts,this.props.opts)||!eag()(t.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var i=["option","notMerge","lazyUpdate","showLoading","loadingOption"];!eag()(ead(this.props,i),ead(t,i))&&this.updateEChartsOption(),(!eag()(t.style,this.props.style)||!eag()(t.className,this.props.className))&&this.resize()}},r.prototype.componentWillUnmount=function(){this.dispose()},r.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},r.prototype.dispose=function(){if(this.ele){try{(0,eah.clear)(this.ele)}catch(t){}this.echarts.dispose(this.ele)}},r.prototype.renderNewEcharts=function(){var t=this,r=this.props,i=r.onEvents,s=r.onChartReady,u=this.updateEChartsOption();this.bindEvents(u,i||{}),eaf(s)&&s(u),this.ele&&(0,eah.bind)(this.ele,function(){t.resize()})},r.prototype.bindEvents=function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&!function(r,i){if("string"==typeof r&&eaf(i))t.on(r,function(r){i(r,t)})}(i,r[i])},r.prototype.updateEChartsOption=function(){var t=this.props,r=t.option,i=t.notMerge,s=t.lazyUpdate,u=t.showLoading,c=t.loadingOption,h=this.getEchartsInstance();return h.setOption(r,void 0!==i&&i,void 0!==s&&s),u?h.showLoading(void 0===c?null:c):h.hideLoading(),h},r.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize()}catch(t){}this.isInitialResize=!1},r.prototype.render=function(){var t=this,r=this.props,i=r.style,s=r.className,u=Az({height:300},i);return ex.createElement("div",{ref:function(r){t.ele=r},style:u,className:"echarts-for-react "+(void 0===s?"":s)})},r}(ex.PureComponent),eav=function(t){function r(r){var i=t.call(this,r)||this;return i.echarts=em,i}return AU(r,t),r}(eam);let eay=t=>{let{tankId:r}=t,i=(0,ex.useRef)(null),[s,u]=(0,ex.useState)(),[c,h]=(0,ex.useState)(),[f,p]=(0,ex.useState)([]),[v,y]=(0,ex.useState)([]),[x,_]=(0,ex.useState)(),b=(0,ex.useCallback)(async t=>{let r=await wy(t);if(!r){u(null),y([]);return}let i=Array.from({length:r.maxCycle},(t,r)=>{let i=String(r+1);return{name:`cycle${i}`,value:i}});u(r),y(i)},[]),w=(0,ex.useCallback)(async function(t,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;h(AO(AL(t,await w_(r,s)))),setTimeout(()=>{var t;return null===(t=i.current)||void 0===t?void 0:t.getEchartsInstance().resize()},500)},[]),S=(0,ex.useCallback)(async(t,r)=>{p(AN(await wb(t,r)))},[]),A=(0,ex.useCallback)(t=>_(t),[]);return(0,ex.useEffect)(()=>void b(r),[b,r]),(0,ex.useEffect)(()=>void(s&&s.enabled&&w(s,r,s.maxCycle??1)),[s,w,r]),(0,ex.useEffect)(()=>void(s&&s.enabled&&S(r,s.maxCycle??1)),[s,S,r]),(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsxs)("div",{className:"flex justify-between px-4 pb-0 pt-4",children:[(0,ev.jsxs)("h3",{className:"text-xl font-semibold text-slate-900",children:[null==s?void 0:s.farmNm," ",r]}),(0,ev.jsx)(AE,{options:v,value:x,onChange:A})]}),c&&(0,ev.jsx)(eav,{className:"!h-[600px] w-full px-3",ref:i,option:c,notMerge:!0}),(0,ev.jsxs)("div",{className:"flex flex-wrap p-8",children:[(0,ev.jsxs)("div",{className:"w-1/2 flex-0",children:[(0,ev.jsx)("b",{className:"text-sm",children:""}),(0,ev.jsx)("div",{className:"flex flex-col gap-4 pt-4 text-xs",children:f.map(t=>(0,ev.jsxs)("span",{children:[t.name,": ",t.started]},t.name))})]}),(0,ev.jsxs)("div",{className:"w-1/2 flex-0 text-right",children:[(0,ev.jsx)("b",{className:"text-sm",children:" "}),(0,ev.jsx)("div",{className:"flex flex-col gap-4 pt-4 text-xs",children:f.map(t=>(0,ev.jsxs)("span",{children:[t.name,": ",t.updated]},t.name))})]})]})]})},eax=async t=>{try{let r=new URL("http://172.30.1.1:59095/growth");r.search=new URLSearchParams({tankId:t,year:"2024",month:"7"}).toString();let i=await fetch(r.toString());return await i.json()}catch(t){return[]}},ea_=t=>{let r=[],i=[],s=[];t.forEach(t=>{i.push(t.widthInCm),s.push(t.weightInKg),r.push([t.widthInCm,t.weightInKg])});let u=Math.min(...i),c=Math.max(...i),h=(c-u)*.1,f=Math.min(...s),p=Math.max(...s),v=(p-f)*.1;return{xAxis:{type:"value",name:"",min:u-h,max:c+h,nameTextStyle:{fontSize:16,fontWeight:"bold"}},yAxis:{type:"value",name:"",min:f-v,max:p+v,nameTextStyle:{fontSize:16,fontWeight:"bold"}},series:[{type:"scatter",data:r,symbolSize:20}],tooltip:{trigger:"item",borderWidth:1,borderColor:"#ccc",padding:10,textStyle:{color:"#000"},formatter:r=>{let i=t[r.dataIndex];return`: ${i.collectDate}<br>: ${i.weightInKg}<br>: ${i.lengthInCm}<br>: ${i.widthInCm}<br>: ${i.intankDate}`}},dataZoom:[{type:"inside",xAxisIndex:0,filterMode:"none"},{type:"inside",yAxisIndex:0,filterMode:"none"}]}},eab=t=>{let{tankId:r}=t,i=(0,ex.useRef)(null),[s,u]=(0,ex.useState)(),c=(0,ex.useCallback)(async t=>{u(ea_(await eax(t)))},[]);return(0,ex.useEffect)(()=>void c(r),[c,r]),(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("div",{className:"flex justify-between px-4 pb-0 pt-4",children:(0,ev.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:" "})}),s&&(0,ev.jsx)(eav,{className:"!h-[600px] w-full px-3",ref:i,option:s,notMerge:!0})]})},eaw=async t=>{try{let r=new URL("http://172.30.1.1:59095/samples");r.search=new URLSearchParams({tankId:t}).toString();let i=await fetch(r.toString());return await i.json()}catch(t){return[]}};i("4992"),i("5660"),i("1022"),i("3733"),i("9567"),i("8057"),i("3128"),i("874"),i("2256"),i("443"),i("701"),i("5242"),i("646"),i("1309"),i("4887"),i("9818"),i("9964"),i("3231"),i("4646"),i("2479"),i("7295"),i("1985"),i("3243");var eaS=i("6483"),eaA=i.n(eaS);let eaM=t=>Array.isArray(t)&&0!==t.length?Object.entries(t.reduce((t,r)=>{if(!r.collectDate)return t;let i=eaA()(r.collectDate).format("YYYY-MM-DD HH:mm");return!t[i]&&(t[i]=[]),t[i].push(r),t},{})).map(t=>{let[r,i]=t,s={...i[0]};return s.data=i.reduce((t,r)=>({...t,...r.data}),{}),s.collectDate=eaA()(r).toDate(),s}):[],eaC=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm";return eaA()(t).format(r)},eaT=t=>t.map(t=>{let r={};return Object.values(JSON.parse(t.jsonValues)).forEach(t=>{let[[i,s]]=Object.entries(t);r[i]=parseInt(s)}),{data:r,id:t.id,sensorAreaName:t.sensorAreaName,sigunguCd:t.sigunguCd,sigunguNm:t.sigunguNm,farmCd:t.farmCd,farmNm:t.farmNm,tankCd:t.tankCd,tankNm:t.tankNm,dataGubun:t.dataGubun,guardAt:t.guardAt,regDt:t.regDt,collectDate:new Date(t.collectDate)}}).sort((t,r)=>t.collectDate.getTime()-r.collectDate.getTime()),eaE=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{xAxisName:"()",smooth:!0},i=eaM(t),s=i.map(t=>t.data),u=Array.from(new Set(s.reduce((t,r)=>[...t,...Object.keys(r)],[]))),c=Array.from({length:s.length},(t,r)=>i[r].collectDate.getMinutes()),h=u.map(t=>({name:t,type:"line",stack:"total",smooth:r.smooth??!1,areaStyle:r.area?{}:void 0,emphasis:{focus:"series"},data:s.map(r=>r[t]||0)}));return{title:r.title?{text:r.title,subtext:r.subtitle,left:"center"}:void 0,tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},formatter:t=>{let r=eaC(i[t[0].dataIndex].collectDate);return t.forEach(t=>{r+=`<div style="margin: 0px 0 0;line-height:1;">
${t.marker}
<span style="font-size:14px;color:#666;font-weight:400;margin-left:2px">${t.seriesName}</span>
<span style="float:right;margin-left:20px;font-size:14px;color:#666;font-weight:900">${t.data}</span>
<div style="clear:both"></div>
</div>`}),r}},legend:{data:u,bottom:"0%"},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:c,name:r.xAxisName,nameLocation:"middle",nameGap:30,nameTextStyle:{fontSize:16,fontWeight:"bold"}},yAxis:{type:"value",name:r.yAxisName,nameLocation:"middle",nameGap:50},series:h}},eaI=t=>{let{tankId:r}=t,i=(0,ex.useRef)(null),[s,u]=(0,ex.useState)(),c=(0,ex.useCallback)(async t=>{u(eaE(eaT(await eaw(t)))),setTimeout(()=>{var t;return null===(t=i.current)||void 0===t?void 0:t.getEchartsInstance().resize()},500)},[]);return(0,ex.useEffect)(()=>void c(r),[c,r]),(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("div",{className:"flex justify-between px-4 pb-0 pt-4",children:(0,ev.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:" "})}),s&&(0,ev.jsx)(eav,{className:"!h-[600px] w-full px-3",ref:i,option:s,notMerge:!0})]})},eaD=xz({mode:"default"}),eaR="65AF1-RT",eaP=t=>{let{tankId:r}=t,{mode:i}=xX(eaD);if(r)return r.startsWith(eaR)?"default"===i?(0,ev.jsx)(eay,{tankId:r}):(0,ev.jsx)(eab,{tankId:r}):r.startsWith("TMP-")?null:(0,ev.jsx)(eaI,{tankId:r})},eaL=wk(function(t,r){var i;let s=wS(),{disabled:u=s||!1,autoFocus:c=!1,...h}=t,{isFocusVisible:f,focusProps:p}=ST({autoFocus:c}),{isHovered:v,hoverProps:y}=SL({isDisabled:u}),{pressed:x,pressProps:_}=SO({disabled:u}),b=wB({ref:r,type:null!=(i=h.type)?i:"button",disabled:u||void 0,autoFocus:c},p,y,_),w=(0,ex.useMemo)(()=>({disabled:u,hover:v,focus:f,active:x,autofocus:c}),[u,v,f,x,c]);return wD()({ourProps:b,theirProps:h,slot:w,defaultTag:"button",name:"Button"})}),eaB=t=>{let{children:r,className:i,...s}=t;return(0,ev.jsx)(eaL,{className:AT(`
        inline-flex items-center gap-2 rounded-md border border-slate-300
        bg-slate-50 px-3 pb-1 pt-1.5 text-xs/6 text-slate-700 shadow-inner
        shadow-white/10

        hover:bg-slate-100

        ${i}
      `),...s,children:r})},eak=t=>{let{tankId:r}=t,{mode:i}=xX(eaD);if(r){if(r.startsWith(eaR)){let t="default"===i;return(0,ev.jsx)(eaB,{className:"h-10 justify-center p-1",onPointerDown:()=>eaD.mode=t?"complex":"default",children:(0,ev.jsx)("span",{className:"px-2",children:t?" ":" "})})}return null}};i("9168"),i("845");let eaO=ex.forwardRef(({children:t,compute:r,width:i,height:s,samples:u=8,renderPriority:c=0,eventPriority:h=0,frames:f=1/0,stencilBuffer:p=!1,depthBuffer:v=!0,generateMipmaps:y=!1,...x},_)=>{let{size:b,viewport:w}=pB(),S=_q((i||b.width)*w.dpr,(s||b.height)*w.dpr,{samples:u,stencilBuffer:p,depthBuffer:v,generateMipmaps:y}),[A]=ex.useState(()=>new lY),M=ex.useCallback((t,r,i)=>{var s,u;let c=null==(s=S.texture)?void 0:s.__r3f.parent;for(;c&&!(c instanceof ar);)c=c.__r3f.parent;if(!c)return!1;!i.raycaster.camera&&i.events.compute(t,i,null==(u=i.previousRoot)?void 0:u.getState());let[h]=i.raycaster.intersectObject(c);if(!h)return!1;let f=h.uv;if(!f)return!1;r.raycaster.setFromCamera(r.pointer.set(2*f.x-1,2*f.y-1),r.camera)},[]);return ex.useImperativeHandle(_,()=>S.texture,[S]),ex.createElement(ex.Fragment,null,pK(ex.createElement(eaN,{renderPriority:c,frames:f,fbo:S},t,ex.createElement("group",{onPointerOver:()=>null})),A,{events:{compute:r||M,priority:h}}),ex.createElement("primitive",gh({object:S.texture},x)))});function eaN({frames:t,renderPriority:r,children:i,fbo:s}){let u,c,h,f,p=0;return pk(r=>{(t===1/0||p<t)&&(u=r.gl.autoClear,c=r.gl.xr.enabled,h=r.gl.getRenderTarget(),f=r.gl.xr.isPresenting,r.gl.autoClear=!0,r.gl.xr.enabled=!1,r.gl.xr.isPresenting=!1,r.gl.setRenderTarget(s),r.gl.render(r.scene,r.camera),r.gl.setRenderTarget(h),r.gl.autoClear=u,r.gl.xr.enabled=c,r.gl.xr.isPresenting=f,p++)},r),ex.createElement(ex.Fragment,null,i)}var eaF=Object.defineProperty,eaU=(t,r,i)=>r in t?eaF(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,eaz=(t,r,i)=>(eaU(t,"symbol"!=typeof r?r+"":r,i),i);class eaG{constructor(t){eaz(this,"camera",new oO(-1,1,1,-1,0,1)),eaz(this,"geometry",new oS(2,2)),eaz(this,"mesh"),this.mesh=new a6(this.geometry,t)}get material(){return this.mesh.material}set material(t){this.mesh.material=t}dispose(){this.mesh.geometry.dispose()}render(t){t.render(this.mesh,this.camera)}}let eaH=_Y({blur:0,map:null,sdf:null,blend:0,size:0,resolution:new rz},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
     vUv = uv;
   }`,`uniform sampler2D sdf;
   uniform sampler2D map;
   uniform float blur;
   uniform float size;
   uniform float time;
   uniform vec2 resolution;
   varying vec2 vUv;
   #include <packing>
   void main() {
     vec2 uv = gl_FragCoord.xy / resolution.xy;
     vec4 t = texture2D(map, uv);
     float k = blur;
     float d = texture2D(sdf, vUv).r/size;
     float alpha = 1.0 - smoothstep(0.0, 1.0, clamp(d/k + 1.0, 0.0, 1.0));
     gl_FragColor = vec4(t.rgb, blur == 0.0 ? t.a : t.a * alpha);
     #include <tonemapping_fragment>
     #include <${_K>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),eaV=ex.forwardRef(({children:t,events:r,blur:i=0,eventPriority:s=0,renderPriority:u=0,worldUnits:c=!1,resolution:h=512,...f},p)=>{f$({PortalMaterialImpl:eaH});let v=ex.useRef(null),{scene:y,gl:x,size:_,viewport:b,setEvents:w}=pB(),S=_q(h,h),[A,M]=ex.useState(0);pk(()=>{let t=v.current.blend>0?Math.max(1,u):0;A!==t&&M(t)}),ex.useEffect(()=>{void 0!==r&&w({enabled:!r})},[r]);let[C,T]=ex.useState(!0),I=function(t){let r=ex.useRef(null),i=ex.useRef(!1),s=ex.useRef(!1),u=ex.useRef(t);return ex.useLayoutEffect(()=>void(u.current=t),[t]),ex.useEffect(()=>{let t=r.current;if(t){let r=pT(()=>(i.current=!1,!0)),c=t.onBeforeRender;t.onBeforeRender=()=>i.current=!0;let h=pE(()=>(i.current!==s.current&&(null==u.current||u.current(s.current=i.current)),!0));return()=>{t.onBeforeRender=c,r(),h()}}},[]),r}(T);ex.useLayoutEffect(()=>{var t;I.current=null==(t=v.current)?void 0:t.__r3f.parent},[]),ex.useLayoutEffect(()=>{if(I.current&&i&&null===v.current.sdf){let t=new a6(I.current.geometry,new aC),r=new id().setFromBufferAttribute(t.geometry.attributes.position),i=new oO(r.min.x*(1+2/h),r.max.x*(1+2/h),r.max.y*(1+2/h),r.min.y*(1+2/h),.1,1e3);i.position.set(0,0,1),i.lookAt(0,0,0),x.setRenderTarget(S),x.render(t,i);let s=eaW(h,h,x)(S.texture),u=new Float32Array(h*h);x.readRenderTargetPixels(s,0,0,h,h,u);let c=1/0;for(let t=0;t<u.length;t++)u[t]<c&&(c=u[t]);c=-c,v.current.size=c,v.current.sdf=s.texture,x.setRenderTarget(null)}},[h,i]),ex.useImperativeHandle(p,()=>v.current);let D=ex.useCallback((t,r,i)=>{var s;if(!I.current)return!1;if(r.pointer.set(t.offsetX/r.size.width*2-1,-(2*(t.offsetY/r.size.height))+1),r.raycaster.setFromCamera(r.pointer,r.camera),(null==(s=v.current)?void 0:s.blend)===0){let[t]=r.raycaster.intersectObject(I.current);if(!t)return r.raycaster.camera=void 0,!1}},[]);return ex.createElement("portalMaterialImpl",gh({ref:v,blur:i,blend:0,resolution:[_.width*b.dpr,_.height*b.dpr],attach:"material"},f),ex.createElement(eaO,{attach:"map",frames:C?1/0:0,eventPriority:s,renderPriority:u,compute:D},t,ex.createElement(eaj,{events:r,rootScene:y,priority:A,material:v,worldUnits:c})))});function eaj({events:t,rootScene:r,material:i,priority:s,worldUnits:u}){let c=pB(t=>t.scene),h=pB(t=>t.setEvents),f=_q(),p=_q();ex.useLayoutEffect(()=>{c.matrixAutoUpdate=!1},[]),ex.useEffect(()=>{void 0!==t&&h({enabled:t})},[t]);let[v,y]=ex.useMemo(()=>{let t={value:0};return[new eaG(new oa({uniforms:{a:{value:f.texture},b:{value:p.texture},blend:t},vertexShader:`
          varying vec2 vUv;
          void main() {
            vUv = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
          }`,fragmentShader:`
          uniform sampler2D a;
          uniform sampler2D b;
          uniform float blend;
          varying vec2 vUv;
          #include <packing>
          void main() {
            vec4 ta = texture2D(a, vUv);
            vec4 tb = texture2D(b, vUv);
            gl_FragColor = mix(tb, ta, blend);
            #include <tonemapping_fragment>
            #include <${_K>=154?"colorspace_fragment":"encodings_fragment"}>
          }`})),t]},[]);return pk(t=>{var h,x,_,b,w;let S=null==i||null==(h=i.current)?void 0:h.__r3f.parent;S&&(u?c.matrixWorld.identity():(s&&(null==(x=i.current)?void 0:x.blend)===1&&S.updateWorldMatrix(!0,!1),c.matrixWorld.copy(S.matrixWorld)),s&&((null==(_=i.current)?void 0:_.blend)>0&&(null==(b=i.current)?void 0:b.blend)<1?(y.value=i.current.blend,t.gl.setRenderTarget(f),t.gl.render(c,t.camera),t.gl.setRenderTarget(p),t.gl.render(r,t.camera),t.gl.setRenderTarget(null),v.render(t.gl)):(null==(w=i.current)?void 0:w.blend)===1&&t.gl.render(c,t.camera)))},s),ex.createElement(ex.Fragment,null)}let eaW=(t,r,i)=>{let s=new ir(t,r,{minFilter:tk,magFilter:tP,type:tV,format:t2,generateMipmaps:!0}),u=new ir(t,r,{minFilter:tT,magFilter:tT}),c=new ir(t,r,{minFilter:tT,magFilter:tT}),h=new ir(t,r,{minFilter:tT,magFilter:tT}),f=new ir(t,r,{minFilter:tT,magFilter:tT}),p=new ir(t,r,{minFilter:tT,magFilter:tT,type:tV,format:t2}),v=new ir(t,r,{minFilter:tT,magFilter:tT,type:tV,format:t2}),y=new eaG(new oa({uniforms:{tex:{value:null}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }`,fragmentShader:`
        uniform sampler2D tex;
        varying vec2 vUv;
        #include <packing>
        void main() {
          gl_FragColor = pack2HalfToRGBA(vUv * (round(texture2D(tex, vUv).x)));
        }`})),x=new eaG(new oa({uniforms:{tex:{value:null}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }`,fragmentShader:`
        uniform sampler2D tex;
        varying vec2 vUv;
        #include <packing>
        void main() {
          gl_FragColor = pack2HalfToRGBA(vUv * (1.0 - round(texture2D(tex, vUv).x)));
        }`})),_=new eaG(new oa({uniforms:{tex:{value:null},offset:{value:0},level:{value:0},maxSteps:{value:0}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }`,fragmentShader:`
        varying vec2 vUv;
        uniform sampler2D tex;
        uniform float offset;
        uniform float level;
        uniform float maxSteps;
        #include <packing>
        void main() {
          float closestDist = 9999999.9;
          vec2 closestPos = vec2(0.0);
          for (float x = -1.0; x <= 1.0; x += 1.0) {
            for (float y = -1.0; y <= 1.0; y += 1.0) {
              vec2 voffset = vUv;
              voffset += vec2(x, y) * vec2(${1/t}, ${1/r}) * offset;
              vec2 pos = unpackRGBATo2Half(texture2D(tex, voffset));
              float dist = distance(pos.xy, vUv);
              if(pos.x != 0.0 && pos.y != 0.0 && dist < closestDist) {
                closestDist = dist;
                closestPos = pos;
              }
            }
          }
          gl_FragColor = pack2HalfToRGBA(closestPos);
        }`})),b=new eaG(new oa({uniforms:{tex:{value:null},size:{value:new rz(t,r)}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }`,fragmentShader:`
        varying vec2 vUv;
        uniform sampler2D tex;
        uniform vec2 size;
        #include <packing>
        void main() {
          gl_FragColor = vec4(distance(size * unpackRGBATo2Half(texture2D(tex, vUv)), size * vUv), 0.0, 0.0, 0.0);
        }`})),w=new eaG(new oa({uniforms:{inside:{value:v.texture},outside:{value:p.texture},tex:{value:null}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }`,fragmentShader:`
        varying vec2 vUv;
        uniform sampler2D inside;
        uniform sampler2D outside;
        uniform sampler2D tex;
        #include <packing>
        void main() {
          float i = texture2D(inside, vUv).x;
          float o =texture2D(outside, vUv).x;
          if (texture2D(tex, vUv).x == 0.0) {
            gl_FragColor = vec4(o, 0.0, 0.0, 0.0);
          } else {
            gl_FragColor = vec4(-i, 0.0, 0.0, 0.0);
          }
        }`}));return S=>{S.minFilter=tT,S.magFilter=tT,y.material.uniforms.tex.value=S,i.setRenderTarget(u),y.render(i);let A=Math.ceil(Math.log(Math.max(t,r))/Math.log(2)),M=u,C=null;for(let t=0;t<A;t++){let r=Math.pow(2,A-t-1);C=M===u?h:u,_.material.uniforms.level.value=t,_.material.uniforms.maxSteps.value=A,_.material.uniforms.offset.value=r,_.material.uniforms.tex.value=M.texture,i.setRenderTarget(C),_.render(i),M=C}i.setRenderTarget(p),b.material.uniforms.tex.value=C.texture,b.render(i),x.material.uniforms.tex.value=S,i.setRenderTarget(c),x.render(i),M=c;for(let t=0;t<A;t++){let r=Math.pow(2,A-t-1);C=M===c?f:c,_.material.uniforms.level.value=t,_.material.uniforms.maxSteps.value=A,_.material.uniforms.offset.value=r,_.material.uniforms.tex.value=M.texture,i.setRenderTarget(C),_.render(i),M=C}return i.setRenderTarget(v),b.material.uniforms.tex.value=C.texture,b.render(i),i.setRenderTarget(s),w.material.uniforms.tex.value=S,w.render(i),i.setRenderTarget(null),s}},eaX=new iu,eaY=new iu,eaZ=new iu,eaK=new rz;function eaJ(t,r,i){let s=eaX.setFromMatrixPosition(t.matrixWorld);s.project(r);let u=i.width/2,c=i.height/2;return[s.x*u+u,-(s.y*c)+c]}let eaQ=t=>1e-10>Math.abs(t)?0:t;function eaq(t,r,i=""){let s="matrix3d(";for(let i=0;16!==i;i++)s+=eaQ(r[i]*t.elements[i])+(15!==i?",":")");return i+s}let ea$=($=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],t=>eaq(t,$));let ea0=(ee=t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1],(t,r)=>eaq(t,ee(r),"translate(-50%,-50%)")),ea1=ex.forwardRef(({children:t,eps:r=.001,style:i,className:s,prepend:u,center:c,fullscreen:h,portal:f,distanceFactor:p,sprite:v=!1,transform:y=!1,occlude:x,onOcclude:_,castShadow:b,receiveShadow:w,material:S,geometry:A,zIndexRange:M=[0x1000037,0],calculatePosition:C=eaJ,as:T="div",wrapperClass:I,pointerEvents:D="auto",...R},P)=>{let{gl:L,camera:B,scene:k,size:O,raycaster:N,events:F,viewport:U}=pB(),[z]=ex.useState(()=>document.createElement(T)),G=ex.useRef(),H=ex.useRef(null),V=ex.useRef(0),j=ex.useRef([0,0]),W=ex.useRef(null),X=ex.useRef(null),Y=(null==f?void 0:f.current)||F.connected||L.domElement.parentNode,Z=ex.useRef(null),K=ex.useRef(!1),J=ex.useMemo(()=>x&&"blending"!==x||Array.isArray(x)&&x.length&&function(t){return t&&"object"==typeof t&&"current"in t}(x[0]),[x]);ex.useLayoutEffect(()=>{let t=L.domElement;x&&"blending"===x?(t.style.zIndex=`${Math.floor(M[0]/2)}`,t.style.position="absolute",t.style.pointerEvents="none"):(t.style.zIndex=null,t.style.position=null,t.style.pointerEvents=null)},[x]),ex.useLayoutEffect(()=>{if(H.current){let t=G.current=ey.createRoot(z);if(k.updateMatrixWorld(),y)z.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let t=C(H.current,B,O);z.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${t[0]}px,${t[1]}px,0);transform-origin:0 0;`}return Y&&(u?Y.prepend(z):Y.appendChild(z)),()=>{Y&&Y.removeChild(z),t.unmount()}}},[Y,y]),ex.useLayoutEffect(()=>{I&&(z.className=I)},[I]);let Q=ex.useMemo(()=>y?{position:"absolute",top:0,left:0,width:O.width,height:O.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:c?"translate3d(-50%,-50%,0)":"none",...h&&{top:-O.height/2,left:-O.width/2,width:O.width,height:O.height},...i},[i,c,h,O,y]),q=ex.useMemo(()=>({position:"absolute",pointerEvents:D}),[D]);ex.useLayoutEffect(()=>{var r,u;K.current=!1,y?null==(r=G.current)||r.render(ex.createElement("div",{ref:W,style:Q},ex.createElement("div",{ref:X,style:q},ex.createElement("div",{ref:P,className:s,style:i,children:t})))):null==(u=G.current)||u.render(ex.createElement("div",{ref:P,style:Q,className:s,children:t}))});let $=ex.useRef(!0);pk(t=>{if(H.current){B.updateMatrixWorld(),H.current.updateWorldMatrix(!0,!1);let t=y?j.current:C(H.current,B,O);if(y||Math.abs(V.current-B.zoom)>r||Math.abs(j.current[0]-t[0])>r||Math.abs(j.current[1]-t[1])>r){let r=function(t,r){let i=eaX.setFromMatrixPosition(t.matrixWorld),s=eaY.setFromMatrixPosition(r.matrixWorld),u=i.sub(s),c=r.getWorldDirection(eaZ);return u.angleTo(c)>Math.PI/2}(H.current,B),i=!1;J&&(Array.isArray(x)?i=x.map(t=>t.current):"blending"!==x&&(i=[k]));let s=$.current;if(i){let t=function(t,r,i,s){let u=eaX.setFromMatrixPosition(t.matrixWorld),c=u.clone();c.project(r),eaK.set(c.x,c.y),i.setFromCamera(eaK,r);let h=i.intersectObjects(s,!0);if(h.length){let t=h[0].distance;return u.distanceTo(i.ray.origin)<t}return!0}(H.current,B,N,i);$.current=t&&!r}else $.current=!r;s!==$.current&&(_?_(!$.current):z.style.display=$.current?"block":"none");let u=Math.floor(M[0]/2),c=x?J?[M[0],u]:[u-1,0]:M;if(z.style.zIndex=`${function(t,r,i){if(r instanceof oc||r instanceof oO){let s=eaX.setFromMatrixPosition(t.matrixWorld),u=eaY.setFromMatrixPosition(r.matrixWorld),c=s.distanceTo(u),h=(i[1]-i[0])/(r.far-r.near),f=i[1]-h*r.far;return Math.round(h*c+f)}}(H.current,B,c)}`,y){let[t,r]=[O.width/2,O.height/2],i=B.projectionMatrix.elements[5]*r,{isOrthographicCamera:s,top:u,left:c,bottom:h,right:f}=B,y=ea$(B.matrixWorldInverse),x=s?`scale(${i})translate(${eaQ(-(f+c)/2)}px,${eaQ((u+h)/2)}px)`:`translateZ(${i}px)`,_=H.current.matrixWorld;v&&((_=B.matrixWorldInverse.clone().transpose().copyPosition(_).scale(H.current.scale)).elements[3]=_.elements[7]=_.elements[11]=0,_.elements[15]=1),z.style.width=O.width+"px",z.style.height=O.height+"px",z.style.perspective=s?"":`${i}px`,W.current&&X.current&&(W.current.style.transform=`${x}${y}translate(${t}px,${r}px)`,X.current.style.transform=ea0(_,1/((p||10)/400)))}else{let r=void 0===p?1:function(t,r){if(r instanceof oO)return r.zoom;if(!(r instanceof oc))return 1;{let i=eaX.setFromMatrixPosition(t.matrixWorld),s=eaY.setFromMatrixPosition(r.matrixWorld),u=r.fov*Math.PI/180;return 1/(2*Math.tan(u/2)*i.distanceTo(s))}}(H.current,B)*p;z.style.transform=`translate3d(${t[0]}px,${t[1]}px,0) scale(${r})`}j.current=t,V.current=B.zoom}}if(!J&&Z.current&&!K.current){if(y){if(W.current){let t=W.current.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let{isOrthographicCamera:r}=B;if(r||A)R.scale&&(Array.isArray(R.scale)?R.scale instanceof iu?Z.current.scale.copy(R.scale.clone().divideScalar(1)):Z.current.scale.set(1/R.scale[0],1/R.scale[1],1/R.scale[2]):Z.current.scale.setScalar(1/R.scale));else{let r=(p||10)/400,i=t.clientWidth*r,s=t.clientHeight*r;Z.current.scale.set(i,s,1)}K.current=!0}}}else{let r=z.children[0];if(null!=r&&r.clientWidth&&null!=r&&r.clientHeight){let t=1/U.factor,i=r.clientWidth*t,s=r.clientHeight*t;Z.current.scale.set(i,s,1),K.current=!0}Z.current.lookAt(t.camera.position)}}});let ee=ex.useMemo(()=>({vertexShader:y?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[y]);return ex.createElement("group",gh({},R,{ref:H}),x&&!J&&ex.createElement("mesh",{castShadow:b,receiveShadow:w,ref:Z},A||ex.createElement("planeGeometry",null),S||ex.createElement("shaderMaterial",{side:eB,vertexShader:ee.vertexShader,fragmentShader:ee.fragmentShader})))});function ea2(t,r,i){return r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function ea3(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,s)}return i}function ea5(t,r){if(!(t instanceof r))throw TypeError("Cannot call a class as a function")}function ea4(t,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var ea9=function t(r,i,s){var u=this;ea5(this,t),ea2(this,"dot2",function(t,r){return u.x*t+u.y*r}),ea2(this,"dot3",function(t,r,i){return u.x*t+u.y*r+u.z*i}),this.x=r,this.y=i,this.z=s},ea8=[new ea9(1,1,0),new ea9(-1,1,0),new ea9(1,-1,0),new ea9(-1,-1,0),new ea9(1,0,1),new ea9(-1,0,1),new ea9(1,0,-1),new ea9(-1,0,-1),new ea9(0,1,1),new ea9(0,-1,1),new ea9(0,1,-1),new ea9(0,-1,-1)],ea6=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],ea7=Array(512),eoe=Array(512);!function(t){t>0&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var r,i=0;i<256;i++)r=1&i?ea6[i]^255&t:ea6[i]^t>>8&255,ea7[i]=ea7[i+256]=r,eoe[i]=eoe[i+256]=ea8[r%12]}(0);function eot(t){var r=function(t){if("number"==typeof t)t=Math.abs(t);else if("string"==typeof t){var r=t;t=0;for(var i=0;i<r.length;i++)t=(t+(i+1)*(r.charCodeAt(i)%96))%0x7fffffff}return 0===t&&(t=311),t}(t);return function(){var t=48271*r%0x7fffffff;return r=t,t/0x7fffffff}}var eon=new function t(r){var i=this;ea5(this,t),ea2(this,"seed",0),ea2(this,"init",function(t){i.seed=t,i.value=eot(t)}),ea2(this,"value",eot(this.seed)),this.init(r)}(Math.random()),eor=null,eoi=function(t){return 1/(1+t+.48*t*t+.235*t*t*t)};function eoa(t,r,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.25,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:eoi,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:.001,p="velocity_"+r;if(void 0===t.__damp&&(t.__damp={}),void 0===t.__damp[p]&&(t.__damp[p]=0),Math.abs(t[r]-i)<=f)return t[r]=i,!1;var v=2/(s=Math.max(1e-4,s)),y=h(v*u),x=t[r]-i,_=i,b=c*s;x=Math.min(Math.max(x,-b),b),i=t[r]-x;var w=(t.__damp[p]+v*x)*u;t.__damp[p]=(t.__damp[p]-v*w)*y;var S=i+(x+w)*y;return _-t[r]>0==S>_&&(S=_,t.__damp[p]=(S-_)/u),t[r]=S,!0}var eoo=new iu,eos=new il,eol=new il,eou=new iz,eoc=new iu;function eoh(t,r,i,s,u,c,h,f){var p,v,y,x,_;return eoa(t,r,t[r]+(p=t[r],(_=(x=(v=i-p)-Math.floor(v/(y=2*Math.PI))*y,Math.max(0,Math.min(y,x))))>Math.PI&&(_-=2*Math.PI),_),s,u,c,h,f)}var eod=new rz,eof=new iu;function eop(t,r,i,s,u,c,h){return"number"==typeof r?eof.setScalar(r):Array.isArray(r)?eof.set(r[0],r[1],r[2]):eof.copy(r),elJ=eoa(t,"x",eof.x,i,s,u,c,h),elQ=eoa(t,"y",eof.y,i,s,u,c,h),elq=eoa(t,"z",eof.z,i,s,u,c,h),elJ||elQ||elq}var eog=new ie,eom=new iJ,eov=new aw,eoy=new il,eox=new ie,eo_=new ie,eob=new ie;function eow(t,r,i,s,u,c,h){Array.isArray(r)?eoy.set(r[0],r[1],r[2],r[3]):eoy.copy(r);var f=t.dot(eoy)>0?1:-1;return eoy.x*=f,eoy.y*=f,eoy.z*=f,eoy.w*=f,el7=eoa(t,"x",eoy.x,i,s,u,c,h),eue=eoa(t,"y",eoy.y,i,s,u,c,h),eut=eoa(t,"z",eoy.z,i,s,u,c,h),eun=eoa(t,"w",eoy.w,i,s,u,c,h),eox.set(t.x,t.y,t.z,t.w).normalize(),eo_.set(t.__damp.velocity_x,t.__damp.velocity_y,t.__damp.velocity_z,t.__damp.velocity_w),eob.copy(eox).multiplyScalar(eo_.dot(eox)/eox.dot(eox)),t.__damp.velocity_x-=eob.x,t.__damp.velocity_y-=eob.y,t.__damp.velocity_z-=eob.z,t.__damp.velocity_w-=eob.w,t.set(eox.x,eox.y,eox.z,eox.w),el7||eue||eut||eun}var eoS=new fe,eoA=new iz,eoM=new iu,eoC=new il,eoT=new iu,eoE=Object.freeze({__proto__:null,rsqw:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/r)*Math.atan(Math.sin(2*Math.PI*t*s)/r)},exp:eoi,linear:function(t){return t},sine:{in:function(t){return 1-Math.cos(t*Math.PI/2)},out:function(t){return Math.sin(t*Math.PI/2)},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{in:function(t){return t*t*t},out:function(t){return 1-Math.pow(1-t,3)},inOut:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}},quint:{in:function(t){return t*t*t*t*t},out:function(t){return 1-Math.pow(1-t,5)},inOut:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2}},circ:{in:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},out:function(t){return Math.sqrt(1-Math.pow(t-1,2))},inOut:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2}},quart:{in:function(t){return t*t*t*t},out:function(t){return 1- --t*t*t*t},inOut:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t}},expo:{in:function(t){return 0===t?0:Math.pow(2,10*t-10)},out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},inOut:function(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}},damp:eoa,dampLookAt:function(t,r,i,s,u,c,h){"number"==typeof r?eoo.setScalar(r):Array.isArray(r)?eoo.set(r[0],r[1],r[2]):eoo.copy(r);var f,p,v=t.parent;if(t.updateWorldMatrix(!0,!1),eoc.setFromMatrixPosition(t.matrixWorld),(f=t)&&f.isCamera||(p=t)&&p.isLight)eou.lookAt(eoc,eoo,t.up);else eou.lookAt(eoo,eoc,t.up);eow(t.quaternion,eol.setFromRotationMatrix(eou),i,s,u,c,h),v&&(eou.extractRotation(v.matrixWorld),eos.setFromRotationMatrix(eou),eow(t.quaternion,eol.copy(t.quaternion).premultiply(eos.invert()),i,s,u,c,h))},dampAngle:eoh,damp2:function(t,r,i,s,u,c,h){return"number"==typeof r?eod.setScalar(r):Array.isArray(r)?eod.set(r[0],r[1]):eod.copy(r),elZ=eoa(t,"x",eod.x,i,s,u,c,h),elK=eoa(t,"y",eod.y,i,s,u,c,h),elZ||elK},damp3:eop,damp4:function(t,r,i,s,u,c,h){return"number"==typeof r?eog.setScalar(r):Array.isArray(r)?eog.set(r[0],r[1],r[2],r[3]):eog.copy(r),el$=eoa(t,"x",eog.x,i,s,u,c,h),el0=eoa(t,"y",eog.y,i,s,u,c,h),el1=eoa(t,"z",eog.z,i,s,u,c,h),el2=eoa(t,"w",eog.w,i,s,u,c,h),el$||el0||el1||el2},dampE:function(t,r,i,s,u,c,h){return Array.isArray(r)?eom.set(r[0],r[1],r[2],r[3]):eom.copy(r),el3=eoh(t,"x",eom.x,i,s,u,c,h),el5=eoh(t,"y",eom.y,i,s,u,c,h),el4=eoh(t,"z",eom.z,i,s,u,c,h),el3||el5||el4},dampC:function(t,r,i,s,u,c,h){return r instanceof aw?eov.copy(r):Array.isArray(r)?eov.setRGB(r[0],r[1],r[2]):eov.set(r),el9=eoa(t,"r",eov.r,i,s,u,c,h),el8=eoa(t,"g",eov.g,i,s,u,c,h),el6=eoa(t,"b",eov.b,i,s,u,c,h),el9||el8||el6},dampQ:eow,dampS:function(t,r,i,s,u,c,h){return Array.isArray(r)?eoS.set(r[0],r[1],r[2]):eoS.copy(r),eur=eoa(t,"radius",eoS.radius,i,s,u,c,h),eui=eoh(t,"phi",eoS.phi,i,s,u,c,h),eua=eoh(t,"theta",eoS.theta,i,s,u,c,h),eur||eui||eua},dampM:function(t,r,i,s,u,c,h){return void 0===t.__damp&&(t.__damp={position:new iu,rotation:new il,scale:new iu},t.decompose(t.__damp.position,t.__damp.rotation,t.__damp.scale)),Array.isArray(r)?eoA.set.apply(eoA,_n(r)):eoA.copy(r),eoA.decompose(eoM,eoC,eoT),euo=eop(t.__damp.position,eoM,i,s,u,c,h),eus=eow(t.__damp.rotation,eoC,i,s,u,c,h),eul=eop(t.__damp.scale,eoT,i,s,u,c,h),t.compose(t.__damp.position,t.__damp.rotation,t.__damp.scale),euo||eus||eul}});function eoI(t,r){return(eoI=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function eoD(t){return(eoD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var eoR=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&eoI(t,r)}(u,t);var r,i,s=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,s=eoD(r);return t=i?Reflect.construct(s,arguments,eoD(this).constructor):s.apply(this,arguments),function(t,r){if(r&&("object"==typeof r||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t,r,i,c,h,f,p,v,y,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2,w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16;ea5(this,u),(t=s.call(this)).parameters={width:x,height:_,radius:b,segments:w};for(var S=x/2-b,A=_/2-b,M=b/x,C=(x-b)/x,T=b/_,I=(_-b)/_,D=[S,A,0,-S,A,0,-S,-A,0,S,-A,0],R=[C,I,M,I,M,T,C,T],P=[3*(w+1)+3,3*(w+1)+4,w+4,w+5,2*(w+1)+4,2,1,2*(w+1)+3,3,4*(w+1)+3,4,0],L=[P[0],P[1],P[2],P[0],P[2],P[3],P[4],P[5],P[6],P[4],P[6],P[7],P[8],P[9],P[10],P[8],P[10],P[11]],B=0;B<4;B++){h=B<1||B>2?S:-S,f=B<2?A:-A,p=B<1||B>2?C:M,v=B<2?I:T;for(var k=0;k<=w;k++)i=Math.cos(r=Math.PI/2*(B+k/w)),c=Math.sin(r),D.push(h+b*i,f+b*c,0),R.push(p+M*i,v+T*c),k<w&&(y=(w+1)*B+k+4,L.push(B,y,y+1))}return t.setIndex(new aL(new Uint32Array(L),1)),t.setAttribute("position",new aL(new Float32Array(D),3)),t.setAttribute("uv",new aL(new Float32Array(R),2)),t}return u}(aJ);function eoP(t){var r=Math.sqrt(t.x*t.x+t.z*t.z+t.y*t.y);return{r:r,phi:Math.acos(t.y/r),theta:Math.atan2(t.z,t.x)}}let eoL=(0,ex.forwardRef)((t,r)=>{let{children:i,scale:s=0,position:u=[0,0,0],rotation:c=[0,0,0],onCustom:h,customSmooth:f=.2}=t,p=(0,ex.useRef)(null),v=(0,ex.useMemo)(()=>_O({scale:null,position:null,rotation:null,alpha:0,delta:0}),[]);return(0,ex.useImperativeHandle)(r,()=>({setScale:function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r?v.value.scale=t:(v.value.scale=null,p.current.scale.setScalar(t))},setPosition:function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r?v.value.position=t:(v.value.position=null,p.current.position.fromArray(t))},setRotation:function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r?v.value.rotation=t:(v.value.rotation=null,p.current.rotation.fromArray(t))},setCustom:t=>{v.value.delta=t},stop:()=>{v.value.scale=null,v.value.position=null},getPosition:()=>p.current.position.clone(),getForward:()=>{let t=new iu;return p.current.getWorldDirection(t),t}})),pk((t,r)=>{p.current&&(v.value.scale&&eoE.damp3(p.current.scale,v.value.scale,.1,r),v.value.position&&eoE.damp3(p.current.position,v.value.position,.15,r),v.value.rotation&&eoE.dampE(p.current.rotation,v.value.rotation,.4,r),h&&(eoE.damp(v.value,"alpha",v.value.delta,f,r),h(v.value.alpha)))}),(0,ev.jsx)("group",{ref:p,scale:s,position:u,rotation:_c(c),children:i})});eoL.displayName="TransformableGroup";let eoB=SH("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),eok=SH("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),eoO=SH("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),eoN=SH("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eoF=t=>{let{focused:r,width:i,height:s,locked:u,onLock:c,onMaximize:h,onClose:f,title:p,children:v,extraButtons:y}=t;return(0,ev.jsxs)("div",{className:AT("select-none rounded-lg border border-slate-300 bg-slate-100",r?"pointer-events-auto":"pointer-events-none"),style:{width:i,height:s},children:[(0,ev.jsxs)("div",{className:"flex h-[60px] gap-0.5 px-2 pb-1 pt-2",children:[(0,ev.jsx)("b",{className:"flex-1 text-xl",children:p}),(0,ev.jsxs)("div",{className:"flex gap-1",children:[y,c&&(0,ev.jsx)(eaB,{className:AT("size-10 justify-center p-1",u&&"bg-slate-200"),onPointerDown:()=>c(),children:u?(0,ev.jsx)(eoB,{className:"size-3"}):(0,ev.jsx)(eok,{className:"size-3"})}),h&&(0,ev.jsx)(eaB,{className:"size-10 justify-center p-1",onPointerDown:()=>h(),children:(0,ev.jsx)(eoO,{className:"size-3"})}),f&&(0,ev.jsx)(eaB,{className:"size-10 justify-center p-1",onPointerDown:()=>f(),children:(0,ev.jsx)(eoN,{className:"size-3"})})]})]}),(0,ev.jsx)("div",{className:"mx-4 overflow-auto rounded-lg bg-neutral-50 scrollbar",style:{height:`calc(${s} - 60px - 1rem)`},children:v})]})},eoU=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],eoz=1234567;function eoG(){let t=0xffffffff*Math.random()|0,r=0xffffffff*Math.random()|0,i=0xffffffff*Math.random()|0,s=0xffffffff*Math.random()|0;return(eoU[255&t]+eoU[t>>8&255]+eoU[t>>16&255]+eoU[t>>24&255]+"-"+eoU[255&r]+eoU[r>>8&255]+"-"+eoU[r>>16&15|64]+eoU[r>>24&255]+"-"+eoU[63&i|128]+eoU[i>>8&255]+"-"+eoU[i>>16&255]+eoU[i>>24&255]+eoU[255&s]+eoU[s>>8&255]+eoU[s>>16&255]+eoU[s>>24&255]).toLowerCase()}f$({RoundedPlaneGeometry:eoR});let eoH=t=>{let{renderTitle:r,renderContent:i,extraButtons:s}=t,[u]=_8(t=>t.scale.setScalar(0)),c=(0,ex.useRef)(null),h=(0,ex.useRef)(null),f=(0,ex.useRef)(null),{scene:p,controls:v}=pB(),[y,x]=(0,ex.useState)(!1),{focused:_}=xX(wn),{configs:b}=xX(x8),w=(0,ex.useMemo)(()=>eoG(),[]),S=(0,ex.useMemo)(()=>{var t;return _?null===(t=p.getObjectByName(_.id))||void 0===t?void 0:t.userData:void 0},[_,p]),A=(0,ex.useMemo)(()=>y?{width:"100%",height:"100%"}:{width:`${b.floatingUI.width/b.floatingUI.scale}px`,height:`${b.floatingUI.height/b.floatingUI.scale}px`},[y,b.floatingUI.width,b.floatingUI.height,b.floatingUI.scale]),M=(0,ex.useMemo)(()=>_O(-1),[]),C=(0,ex.useMemo)(()=>_O(null),[]),T=(0,ex.useMemo)(()=>_O({position:[0,0,0],rotation:[0,0,0,"XYZ"]}),[]),I=(0,ex.useCallback)(t=>{var r;f.current&&(f.current.style.opacity=t.toString()),(null===(r=f.current)||void 0===r?void 0:r.parentElement)&&(f.current.parentElement.style.pointerEvents="none")},[]),D=(0,ex.useCallback)(()=>x8.configs.floatingUI.locked=!b.floatingUI.locked,[b.floatingUI.locked]),R=(0,ex.useCallback)(()=>x(t=>{let r=!t;return wr.setFullscreen(w,r),r}),[w]),P=(0,ex.useCallback)(()=>{wn.focused=null,wr.setFullscreen(w,!1),v.setTarget(...T.value.position,!0)},[v,w,T]),L=(0,ex.useCallback)(()=>{if(!c.current||!_)return;let t=p.getObjectByName(_.id);if(!t)return;C.value=t,T.value={position:t.position.toArray(),rotation:t.rotation.toArray()};let r=new iu().fromArray(b.floatingUI.offset),i=t.position.clone(),s=i.clone().add(r).toArray();c.current.setPosition(i.add(new iu(0,1.5,0)).toArray()),c.current.setPosition(s,!0),c.current.setScale(1,!0),c.current.setCustom(1),v.setTarget(...s,!0)},[_,p,C,T,b.floatingUI.offset,v]);return(0,ex.useEffect)(()=>{let t=t=>void("Escape"===t.key&&P());return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[P]),(0,ex.useEffect)(()=>{c.current&&v&&(_?L():(v.setTarget(...T.value.position,!0),c.current.setScale(1e-4,!0),c.current.setCustom(0)))},[v,_,L,T]),(0,ex.useEffect)(()=>{if(!!c.current&&!!v)v.enabled=!0,window.clearTimeout(M.value),y?(v.setTarget(...T.value.position,!1),c.current.setPosition(T.value.position,!0),c.current.setRotation(T.value.rotation,!0),M.value=window.setTimeout(()=>{var t,r;null===(t=c.current)||void 0===t||t.setPosition(T.value.position,!1),null===(r=c.current)||void 0===r||r.setRotation(T.value.rotation,!1),v.enabled=!1},500)):L()},[v,y,L,T,M]),(0,ex.useEffect)(()=>{!_&&x(!1)},[_,y]),pk((t,r)=>{h.current&&eoE.damp(h.current,"blend",y?1:0,.2,r)}),(0,ev.jsxs)("mesh",{ref:u,onPointerDown:t=>t.stopPropagation(),children:[(0,ev.jsx)("roundedPlaneGeometry",{args:[5,5,.1]}),(0,ev.jsxs)(eaV,{ref:h,side:eB,worldUnits:!0,children:[(0,ev.jsx)("color",{attach:"background",args:["#cbd5e1"]}),(0,ev.jsx)(eoL,{ref:c,onCustom:I,rotation:[0,b.floatingUI.rotation,0],scale:1e-4,children:(0,ev.jsx)(ea1,{ref:f,sprite:!y&&b.floatingUI.locked,occlude:!y,transform:!y,fullscreen:y,zIndexRange:[35,0],children:(0,ev.jsx)("div",{className:"size-full",style:{transform:y?"none":`scale(${b.floatingUI.scale})`},onPointerDown:t=>t.stopPropagation(),children:(0,ev.jsx)(eoF,{focused:!!_,width:A.width,height:A.height,locked:b.floatingUI.locked,onClose:P,onLock:D,onMaximize:R,title:r(S),extraButtons:null==s?void 0:s(S),children:i(S)})})})})]})]})},eoV=()=>{let t=(0,ex.useCallback)(t=>t?(0,ev.jsxs)("div",{className:"grid pb-2 pl-1 pt-0.5",children:[(0,ev.jsx)("span",{children:t.title}),(0,ev.jsx)("span",{className:"text-xs font-medium text-slate-400",children:t.tankId})]}):"",[]),r=(0,ex.useCallback)(t=>(0,ev.jsx)(eaP,{tankId:null==t?void 0:t.tankId}),[]),i=(0,ex.useCallback)(t=>(0,ev.jsx)(eak,{tankId:null==t?void 0:t.tankId}),[]);return(0,ev.jsx)(eoH,{renderTitle:t,renderContent:r,extraButtons:i})},eoj=()=>(0,ev.jsxs)(ex.Suspense,{fallback:null,children:[(0,ev.jsx)(wm,{}),(0,ev.jsx)(bt,{}),(0,ev.jsx)(eoV,{})]}),eoW=(0,ex.createContext)(null);function eoX({iterations:t=10,ms:r=250,threshold:i=.75,step:s=.1,factor:u=.5,flipflops:c=1/0,bounds:h=t=>t>100?[60,100]:[40,60],onIncline:f,onDecline:p,onChange:v,onFallback:y,children:x}){let[_,b]=(0,ex.useState)(()=>({fps:0,index:0,factor:u,flipped:0,refreshrate:0,fallback:!1,frames:[],averages:[],subscriptions:new Map,subscribe:t=>{let r=Symbol();return _.subscriptions.set(r,t.current),()=>void _.subscriptions.delete(r)}})),w=0;return pk(()=>{let{frames:u,averages:x}=_;if(!_.fallback&&x.length<t){u.push(performance.now());let b=u[u.length-1]-u[0];if(b>=r){if(_.fps=Math.round(u.length/b*1e3)/1,_.refreshrate=Math.max(_.refreshrate,_.fps),x[_.index++%t]=_.fps,x.length===t){let[r,u]=h(_.refreshrate),b=x.filter(t=>t>=u),S=x.filter(t=>t<r);b.length>t*i&&(_.factor=Math.min(1,_.factor+s),_.flipped++,f&&f(_),_.subscriptions.forEach(t=>t.onIncline&&t.onIncline(_))),S.length>t*i&&(_.factor=Math.max(0,_.factor-s),_.flipped++,p&&p(_),_.subscriptions.forEach(t=>t.onDecline&&t.onDecline(_))),w!==_.factor&&(w=_.factor,v&&v(_),_.subscriptions.forEach(t=>t.onChange&&t.onChange(_))),_.flipped>c&&!_.fallback&&(_.fallback=!0,y&&y(_),_.subscriptions.forEach(t=>t.onFallback&&t.onFallback(_))),_.averages=[]}_.frames=[]}}}),ex.createElement(eoW.Provider,{value:_},x)}let eoY=(t,r,i,s)=>{let u=(0,ex.useMemo)(()=>_O(-1),[]);return(0,ex.useMemo)(()=>{let c={};return Object.keys(r).forEach(h=>{let f={};Object.keys(r[h]).forEach(c=>{var p;f[c]={...null===(p=s[h])||void 0===p?void 0:p[c],value:r[h][c],label:i[h][c],onChange:r=>{window.clearTimeout(u.value),u.value=window.setTimeout(()=>{t.configs[h][c]=r},250)}}}),c[h]=f}),c},[r,i,s,t.configs,u])};function eoZ(...t){return r=>t.forEach(t=>{var i,s;return i=t,s=r,void("function"==typeof i?i(s):null!=i&&(i.current=s))})}let eoK=(0,ex.forwardRef)((t,r)=>{let{children:i,...s}=t,u=ex.Children.toArray(i),c=u.find(eoq);if(c){let t=c.props.children,i=u.map(r=>r!==c?r:ex.Children.count(t)>1?ex.Children.only(null):(0,ex.isValidElement)(t)?t.props.children:null);return(0,ex.createElement)(eoJ,gh({},s,{ref:r}),(0,ex.isValidElement)(t)?(0,ex.cloneElement)(t,void 0,i):null)}return(0,ex.createElement)(eoJ,gh({},s,{ref:r}),i)});eoK.displayName="Slot";let eoJ=(0,ex.forwardRef)((t,r)=>{let{children:i,...s}=t;return(0,ex.isValidElement)(i)?(0,ex.cloneElement)(i,{...function(t,r){let i={...r};for(let s in r){let u=t[s],c=r[s];/^on[A-Z]/.test(s)?u&&c?i[s]=(...t)=>{c(...t),u(...t)}:u&&(i[s]=u):"style"===s?i[s]={...u,...c}:"className"===s&&(i[s]=[u,c].filter(Boolean).join(" "))}return{...t,...i}}(s,i.props),ref:eoZ(r,i.ref)}):ex.Children.count(i)>1?ex.Children.only(null):null});eoJ.displayName="SlotClone";let eoQ=({children:t})=>(0,ex.createElement)(ex.Fragment,null,t);function eoq(t){return(0,ex.isValidElement)(t)&&t.type===eoQ}let eo$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((t,r)=>{let i=(0,ex.forwardRef)((t,i)=>{let{asChild:s,...u}=t,c=s?eoK:r;return(0,ex.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,ex.createElement)(c,gh({},u,{ref:i}))});return i.displayName=`Primitive.${r}`,{...t,[r]:i}},{}),eo0=(0,ex.forwardRef)((t,r)=>{var i;let{container:s=null==globalThis?void 0:null===(i=globalThis.document)||void 0===i?void 0:i.body,...u}=t;return s?wM.createPortal((0,ex.createElement)(eo$.div,gh({},u,{ref:r})),s):null});var eo1=Object.prototype.hasOwnProperty;function eo2(t,r){var i,s;if(t===r)return!0;if(t&&r&&(i=t.constructor)===r.constructor){if(i===Date)return t.getTime()===r.getTime();if(i===RegExp)return t.toString()===r.toString();if(i===Array){if((s=t.length)===r.length)for(;s--&&eo2(t[s],r[s]););return -1===s}if(!i||"object"==typeof t){for(i in s=0,t)if(eo1.call(t,i)&&++s&&!eo1.call(r,i)||!(i in r)||!eo2(t[i],r[i]))return!1;return Object.keys(r).length===s}}return t!=t&&r!=r}function eo3(t,r){if(Object.is(t,r))return!0;if("object"!=typeof t||null===t||"object"!=typeof r||null===r)return!1;let i=Object.keys(t);if(i.length!==Object.keys(r).length)return!1;for(let s=0;s<i.length;s++)if(!Object.prototype.hasOwnProperty.call(r,i[s])||!Object.is(t[i[s]],r[i[s]]))return!1;return!0}var eo5=function(t,r,i,s){this.name=t,this.fn=r,this.args=i,this.modifiers=s};function eo4(t,r){return void 0===r&&(r="simple"),"object"==typeof t?t[r]:t}function eo9(t,r,i){if(!t.length)return eo4(r);var s=t.shift(),u=eo9(t,r,i);return s.perform(u,i)}eo5.prototype._test=function(t){var r=this.fn;try{eo9(this.modifiers.slice(),r,this)(t)}catch(t){r=function(){return!1}}try{return eo9(this.modifiers.slice(),r,this)(t)}catch(t){return!1}},eo5.prototype._check=function(t){try{eo9(this.modifiers.slice(),this.fn,this)(t)}catch(t){if(eo9(this.modifiers.slice(),function(t){return t},this)(!1))return}if(!eo9(this.modifiers.slice(),this.fn,this)(t))throw null},eo5.prototype._testAsync=function(t){var r=this;return new Promise(function(i,s){(function t(r,i,s){if(!r.length)return function(t){return Promise.resolve(eo4(i,"async")(t))};var u=r.shift(),c=t(r,i,s);return u.performAsync(c,s)})(r.modifiers.slice(),r.fn,r)(t).then(function(r){r?i(t):s(null)}).catch(function(t){return s(t)})})};var eo8=function(t,r,i){this.name=t,this.perform=r,this.performAsync=i},eo6=function(t){function r(i,s,u,c){for(var h=[],f=arguments.length-4;f-- >0;)h[f]=arguments[f+4];t.call(this,h),t.captureStackTrace&&t.captureStackTrace(this,r),this.rule=i,this.value=s,this.cause=u,this.target=c}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(Error),eo7=function(t,r){void 0===t&&(t=[]),void 0===r&&(r=[]),this.chain=t,this.nextRuleModifiers=r};eo7.prototype._applyRule=function(t,r){var i=this;return function(){for(var s=[],u=arguments.length;u--;)s[u]=arguments[u];return i.chain.push(new eo5(r,t.apply(i,s),s,i.nextRuleModifiers)),i.nextRuleModifiers=[],i}},eo7.prototype._applyModifier=function(t,r){return this.nextRuleModifiers.push(new eo8(r,t.simple,t.async)),this},eo7.prototype._clone=function(){return new eo7(this.chain.slice(),this.nextRuleModifiers.slice())},eo7.prototype.test=function(t){return this.chain.every(function(r){return r._test(t)})},eo7.prototype.testAll=function(t){var r=[];return this.chain.forEach(function(i){try{i._check(t)}catch(s){r.push(new eo6(i,t,s))}}),r},eo7.prototype.check=function(t){this.chain.forEach(function(r){try{r._check(t)}catch(i){throw new eo6(r,t,i)}})},eo7.prototype.testAsync=function(t){var r=this;return new Promise(function(i,s){(function t(r,i,s,u){if(i.length){var c=i.shift();c._testAsync(r).then(function(){t(r,i,s,u)},function(t){u(new eo6(c,r,t))})}else s(r)})(t,r.chain.slice(),i,s)})};var ese=function(t,r){return!!r&&"string"==typeof t&&0===t.trim().length||null==t};function est(){return"undefined"!=typeof Proxy?function t(r){return new Proxy(r,{get:function(i,s){if(s in i)return i[s];var u=t(r._clone());return s in esr?u._applyModifier(esr[s],s):s in esn?u._applyRule(esn[s],s):s in eso?u._applyRule(eso[s],s):void 0}})}(new eo7):function t(r){var i=function(r,i){return Object.keys(r).forEach(function(s){i[s]=function(){for(var u=[],c=arguments.length;c--;)u[c]=arguments[c];return t(i._clone())._applyRule(r[s],s).apply(void 0,u)}}),i},s=i(eso,r),u=i(esn,s);return Object.keys(esr).forEach(function(r){Object.defineProperty(u,r,{get:function(){return t(u._clone())._applyModifier(esr[r],r)}})}),u}(new eo7)}var esn={};est.extend=function(t){Object.assign(esn,t)},est.clearCustomRules=function(){esn={}};var esr={not:{simple:function(t){return function(r){return!t(r)}},async:function(t){return function(r){return Promise.resolve(t(r)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(t){return function(r){return esa(r).some(function(r){try{return t(r)}catch(t){return!1}})}},async:function(t){return function(r){return Promise.all(esa(r).map(function(r){try{return t(r).catch(function(){return!1})}catch(t){return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(t){return function(r){return!1!==r&&esa(r).every(t)}},async:function(t){return function(r){return Promise.all(esa(r).map(t)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(t,r){return function(i){return esi(r)&&i&&"object"==typeof i?Object.keys(r.args[0]).length===Object.keys(i).length&&t(i):t(i)}},async:function(t,r){return function(i){return Promise.resolve(t(i)).then(function(t){return esi(r)&&i&&"object"==typeof i?Object.keys(r.args[0]).length===Object.keys(i).length&&t:t}).catch(function(){return!1})}}}};function esi(t){return t&&"schema"===t.name&&t.args.length>0&&"object"==typeof t.args[0]}function esa(t){return"string"==typeof t?t.split(""):t}var eso={equal:function(t){return function(r){return r==t}},exact:function(t){return function(r){return r===t}},number:function(t){return void 0===t&&(t=!0),function(r){return"number"==typeof r&&(t||isFinite(r))}},integer:function(){return function(t){return(Number.isInteger||esl)(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return ess("string")},boolean:function(){return ess("boolean")},undefined:function(){return ess("undefined")},null:function(){return ess("null")},array:function(){return ess("array")},object:function(){return ess("object")},instanceOf:function(t){return function(r){return r instanceof t}},pattern:function(t){return function(r){return t.test(r)}},lowercase:function(){return function(t){return"boolean"==typeof t||t===t.toLowerCase()&&""!==t.trim()}},uppercase:function(){return function(t){return t===t.toUpperCase()&&""!==t.trim()}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(r){return r[0]==t}},last:function(t){return function(r){return r[r.length-1]==t}},empty:function(){return function(t){return 0===t.length}},length:function(t,r){return function(i){return i.length>=t&&i.length<=(r||t)}},minLength:function(t){return function(r){return r.length>=t}},maxLength:function(t){return function(r){return r.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,r){return function(i){return i>=t&&i<=r}},range:function(t,r){return function(i){return i>=t&&i<=r}},lessThan:function(t){return function(r){return r<t}},lessThanOrEqual:function(t){return function(r){return r<=t}},greaterThan:function(t){return function(r){return r>t}},greaterThanOrEqual:function(t){return function(r){return r>=t}},even:function(){return function(t){return t%2==0}},odd:function(){return function(t){return t%2!=0}},includes:function(t){return function(r){return~r.indexOf(t)}},schema:function(t){return function(t){return{simple:function(r){var i=[];if(Object.keys(t).forEach(function(s){var u=t[s];try{u.check((r||{})[s])}catch(t){t.target=s,i.push(t)}}),i.length>0)throw i;return!0},async:function(r){var i=[];return Promise.all(Object.keys(t).map(function(s){return t[s].testAsync((r||{})[s]).catch(function(t){t.target=s,i.push(t)})})).then(function(){if(i.length>0)throw i;return!0})}}}(t)},passesAnyOf:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return function(r){return t.some(function(t){return t.test(r)})}},optional:function(t,r){return void 0===r&&(r=!1),{simple:function(i){return ese(i,r)||void 0===t.check(i)},async:function(i){return ese(i,r)||t.testAsync(i)}}}};function ess(t){return function(r){return Array.isArray(r)&&"array"===t||null===r&&"null"===t||typeof r===t}}function esl(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}var esu="colors",esc="sizes",esh="space",esd={gap:esh,gridGap:esh,columnGap:esh,gridColumnGap:esh,rowGap:esh,gridRowGap:esh,inset:esh,insetBlock:esh,insetBlockEnd:esh,insetBlockStart:esh,insetInline:esh,insetInlineEnd:esh,insetInlineStart:esh,margin:esh,marginTop:esh,marginRight:esh,marginBottom:esh,marginLeft:esh,marginBlock:esh,marginBlockEnd:esh,marginBlockStart:esh,marginInline:esh,marginInlineEnd:esh,marginInlineStart:esh,padding:esh,paddingTop:esh,paddingRight:esh,paddingBottom:esh,paddingLeft:esh,paddingBlock:esh,paddingBlockEnd:esh,paddingBlockStart:esh,paddingInline:esh,paddingInlineEnd:esh,paddingInlineStart:esh,top:esh,right:esh,bottom:esh,left:esh,scrollMargin:esh,scrollMarginTop:esh,scrollMarginRight:esh,scrollMarginBottom:esh,scrollMarginLeft:esh,scrollMarginX:esh,scrollMarginY:esh,scrollMarginBlock:esh,scrollMarginBlockEnd:esh,scrollMarginBlockStart:esh,scrollMarginInline:esh,scrollMarginInlineEnd:esh,scrollMarginInlineStart:esh,scrollPadding:esh,scrollPaddingTop:esh,scrollPaddingRight:esh,scrollPaddingBottom:esh,scrollPaddingLeft:esh,scrollPaddingX:esh,scrollPaddingY:esh,scrollPaddingBlock:esh,scrollPaddingBlockEnd:esh,scrollPaddingBlockStart:esh,scrollPaddingInline:esh,scrollPaddingInlineEnd:esh,scrollPaddingInlineStart:esh,fontSize:"fontSizes",background:esu,backgroundColor:esu,backgroundImage:esu,borderImage:esu,border:esu,borderBlock:esu,borderBlockEnd:esu,borderBlockStart:esu,borderBottom:esu,borderBottomColor:esu,borderColor:esu,borderInline:esu,borderInlineEnd:esu,borderInlineStart:esu,borderLeft:esu,borderLeftColor:esu,borderRight:esu,borderRightColor:esu,borderTop:esu,borderTopColor:esu,caretColor:esu,color:esu,columnRuleColor:esu,fill:esu,outline:esu,outlineColor:esu,stroke:esu,textDecorationColor:esu,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:esc,minBlockSize:esc,maxBlockSize:esc,inlineSize:esc,minInlineSize:esc,maxInlineSize:esc,width:esc,minWidth:esc,maxWidth:esc,height:esc,minHeight:esc,maxHeight:esc,flexBasis:esc,gridTemplateColumns:esc,gridTemplateRows:esc,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},esf=(t,r)=>"function"==typeof r?{"()":Function.prototype.toString.call(r)}:r,esp=()=>{let t=Object.create(null);return(r,i,...s)=>{let u=JSON.stringify(r,esf);return u in t?t[u]:t[u]=i(r,...s)}},esg=Symbol.for("sxs.internal"),esm=(t,r)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)),esv=t=>{for(let r in t)return!0;return!1},{hasOwnProperty:esy}=Object.prototype,esx=t=>t.includes("-")?t:t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),es_=/\s+(?![^()]*\))/,esb=t=>r=>t(..."string"==typeof r?String(r).split(es_):[r]),esw={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:esb((t,r)=>({marginBlockStart:t,marginBlockEnd:r||t})),marginInline:esb((t,r)=>({marginInlineStart:t,marginInlineEnd:r||t})),maxSize:esb((t,r)=>({maxBlockSize:t,maxInlineSize:r||t})),minSize:esb((t,r)=>({minBlockSize:t,minInlineSize:r||t})),paddingBlock:esb((t,r)=>({paddingBlockStart:t,paddingBlockEnd:r||t})),paddingInline:esb((t,r)=>({paddingInlineStart:t,paddingInlineEnd:r||t}))},esS=/([\d.]+)([^]*)/,esA=(t,r)=>t.length?t.reduce((t,i)=>(t.push(...r.map(t=>t.includes("&")?t.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(t)?`:is(${i})`:i):i+" "+t)),t),[]):r,esM=(t,r)=>t in esC&&"string"==typeof r?r.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(r,i,s,u)=>i+("stretch"===s?`-moz-available${u};${esx(t)}:${i}-webkit-fill-available`:`-moz-fit-content${u};${esx(t)}:${i}fit-content`)+u):String(r),esC={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},esT=t=>t?t+"-":"",esE=(t,r,i)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(t,s,u,c,h)=>"$"==c==!!u?t:(s||"--"==c?"calc(":"")+"var(--"+("$"===c?esT(r)+(h.includes("$")?"":esT(i))+h.replace(/\$/g,"-"):h)+")"+(s||"--"==c?"*"+(s||"")+(u||"1")+")":"")),esI=/\s*,\s*(?![^()]*\))/,esD=Object.prototype.toString,esR=(t,r,i,s,u)=>{let c,h,f;let p=(t,r,i)=>{let v,y;let x=t=>{var _;for(v in t){let b=64===v.charCodeAt(0);for(y of b&&Array.isArray(t[v])?t[v]:[t[v]]){let t=/[A-Z]/.test(_=v)?_:_.replace(/-[^]/g,t=>t[1].toUpperCase()),w="object"==typeof y&&y&&y.toString===esD&&(!s.utils[t]||!r.length);if(t in s.utils&&!w){let r=s.utils[t];if(r!==h){h=r,x(r(y)),h=null;continue}}else if(t in esw){let r=esw[t];if(r!==f){f=r,x(r(y)),f=null;continue}}if(b&&(v=(v.slice(1)in s.media?"@media "+s.media[v.slice(1)]:v).replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(t,r,i,s,u,c)=>{let h=esS.test(r),f=.0625*(h?-1:1),[p,v]=h?[s,r]:[r,s];return"("+("="===i[0]?"":">"===i[0]===h?"max-":"min-")+p+":"+("="!==i[0]&&1===i.length?v.replace(esS,(t,r,s)=>Number(r)+f*(">"===i?1:-1)+s):v)+(u?") and ("+(">"===u[0]?"min-":"max-")+p+":"+(1===u.length?c.replace(esS,(t,r,i)=>Number(r)+f*(">"===u?-1:1)+i):c):"")+")"})),w){let t=b?i.concat(v):[...i],s=b?[...r]:esA(r,v.split(esI));void 0!==c&&u(esP(...c)),c=void 0,p(y,s,t)}else void 0===c&&(c=[[],r,i]),v=b||36!==v.charCodeAt(0)?v:`--${esT(s.prefix)}${v.slice(1).replace(/\$/g,"-")}`,y=w?y:"number"==typeof y?y&&t in esL?String(y)+"px":String(y):esE(esM(t,null==y?"":y),s.prefix,s.themeMap[t]),c[0].push(`${b?`${v} `:`${esx(v)}:`}${y}`)}}};x(t),void 0!==c&&u(esP(...c)),c=void 0};p(t,r,i)},esP=(t,r,i)=>`${i.map(t=>`${t}{`).join("")}${r.length?`${r.join(",")}{`:""}${t.join(";")}${r.length?"}":""}${Array(i.length?i.length+1:0).join("}")}`,esL={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},esB=t=>String.fromCharCode(t+(t>25?39:97)),esk=t=>(t=>{let r,i="";for(r=Math.abs(t);r>52;r=r/52|0)i=esB(r%52)+i;return esB(r%52)+i})(((t,r)=>{let i=r.length;for(;i;)t=33*t^r.charCodeAt(--i);return t})(5381,JSON.stringify(t))>>>0),esO=["themed","global","styled","onevar","resonevar","allvar","inline"],esN=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch(t){return!1}},esF=t=>{let r;let i=()=>{let{cssRules:t}=r.sheet;return[].map.call(t,(i,s)=>{let{cssText:u}=i,c="";if(u.startsWith("--sxs"))return"";if(t[s-1]&&(c=t[s-1].cssText).startsWith("--sxs")){if(!i.cssRules.length)return"";for(let t in r.rules)if(r.rules[t].group===i)return`--sxs{--sxs:${[...r.rules[t].cache].join(" ")}}${u}`;return i.cssRules.length?`${c}${u}`:""}return u}).join("")},s=()=>{if(r){let{rules:t,sheet:i}=r;if(!i.deleteRule){for(;3===Object(Object(i.cssRules)[0]).type;)i.cssRules.splice(0,1);i.cssRules=[]}for(let r in t)delete t[r]}for(let u of Object(t).styleSheets||[])if(esN(u)){for(let t=0,c=u.cssRules;c[t];++t){let h=Object(c[t]);if(1!==h.type)continue;let f=Object(c[t+1]);if(4!==f.type)continue;++t;let{cssText:p}=h;if(!p.startsWith("--sxs"))continue;let v=p.slice(14,-3).trim().split(/\s+/),y=esO[v[0]];y&&(r||(r={sheet:u,reset:s,rules:{},toString:i}),r.rules[y]={group:f,index:t,cache:new Set(v)})}if(r)break}if(!r){let u=(t,r)=>({type:r,cssRules:[],insertRule(t,r){this.cssRules.splice(r,0,u(t,{import:3,undefined:1}[(t.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===t?`@media{${[].map.call(this.cssRules,t=>t.cssText).join("")}}`:t}});r={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:u("","text/css"),rules:{},reset:s,toString:i}}let{sheet:u,rules:c}=r;for(let t=esO.length-1;t>=0;--t){let r=esO[t];if(!c[r]){let i=esO[t+1],s=c[i]?c[i].index:u.cssRules.length;u.insertRule("@media{}",s),u.insertRule(`--sxs{--sxs:${t}}`,s),c[r]={group:u.cssRules[s+1],index:s,cache:new Set([t])}}esU(c[r])}};return s(),r},esU=t=>{let r=t.group,i=r.cssRules.length;t.apply=t=>{try{r.insertRule(t,i),++i}catch(t){}}},esz=Symbol(),esG=esp(),esH=(t,r)=>esG(t,()=>(...i)=>{let s={type:null,composers:new Set};for(let r of i)if(null!=r){if(r[esg])for(let t of(null==s.type&&(s.type=r[esg].type),r[esg].composers))s.composers.add(t);else r.constructor!==Object||r.$$typeof?null==s.type&&(s.type=r):s.composers.add(esV(r,t))}return null==s.type&&(s.type="span"),s.composers.size||s.composers.add(["PJLV",{},[],[],{},[]]),esj(t,s,r)}),esV=({variants:t,compoundVariants:r,defaultVariants:i,...s},u)=>{let c=`${esT(u.prefix)}c-${esk(s)}`,h=[],f=[],p=Object.create(null),v=[];for(let t in i)p[t]=String(i[t]);if("object"==typeof t&&t)for(let r in t){esy.call(p,r)||(p[r]="undefined");let i=t[r];for(let t in i){let s={[r]:String(t)};"undefined"===String(t)&&v.push(r);let u=i[t],c=[s,u,!esv(u)];h.push(c)}}if("object"==typeof r&&r)for(let t of r){let{css:r,...i}=t;for(let t in r="object"==typeof r&&r||{},i)i[t]=String(i[t]);let s=[i,r,!esv(r)];f.push(s)}return[c,s,h,f,p,v]},esj=(t,r,i)=>{let[s,u,c,h]=esW(r.composers),f="function"==typeof r.type||r.type.$$typeof?(t=>{function r(){for(let i=0;i<r[esz].length;i++){let[s,u]=r[esz][i];t.rules[s].apply(u)}return r[esz]=[],null}return r[esz]=[],r.rules={},esO.forEach(t=>r.rules[t]={apply:i=>r[esz].push([t,i])}),r})(i):null,p=(f||i).rules,v=`.${s}${u.length>1?`:where(.${u.slice(1).join(".")})`:""}`,y=y=>{let{css:x,..._}=y="object"==typeof y&&y||esY,b={};for(let t in c)if(delete _[t],t in y){let r=y[t];"object"==typeof r&&r?b[t]={"@initial":c[t],...r}:(r=String(r),b[t]="undefined"!==r||h.has(t)?r:c[t])}else b[t]=c[t];let w=new Set([...u]);for(let[s,u,c,h]of r.composers){i.rules.styled.cache.has(s)||(i.rules.styled.cache.add(s),esR(u,[`.${s}`],[],t,t=>{p.styled.apply(t)}));let r=esX(c,b,t.media),f=esX(h,b,t.media,!0);for(let u of r)if(void 0!==u)for(let[r,c,h]of u){let u=`${s}-${esk(c)}-${r}`;w.add(u);let f=(h?i.rules.resonevar:i.rules.onevar).cache,v=h?p.resonevar:p.onevar;f.has(u)||(f.add(u),esR(c,[`.${u}`],[],t,t=>{v.apply(t)}))}for(let r of f)if(void 0!==r)for(let[u,c]of r){let r=`${s}-${esk(c)}-${u}`;w.add(r),i.rules.allvar.cache.has(r)||(i.rules.allvar.cache.add(r),esR(c,[`.${r}`],[],t,t=>{p.allvar.apply(t)}))}}if("object"==typeof x&&x){let r=`${s}-i${esk(x)}-css`;w.add(r),i.rules.inline.cache.has(r)||(i.rules.inline.cache.add(r),esR(x,[`.${r}`],[],t,t=>{p.inline.apply(t)}))}for(let t of String(y.className||"").trim().split(/\s+/))t&&w.add(t);let S=_.className=[...w].join(" ");return{type:r.type,className:S,selector:v,props:_,toString:()=>S,deferredInjector:f}};return esm(y,{className:s,selector:v,[esg]:r,toString:()=>(i.rules.styled.cache.has(s)||y(),s)})},esW=t=>{let r="",i=[],s={},u=[];for(let[c,,,,h,f]of t)for(let t in""===r&&(r=c),i.push(c),u.push(...f),h){let r=h[t];(void 0===s[t]||"undefined"!==r||f.includes(r))&&(s[t]=r)}return[r,i,s,new Set(u)]},esX=(t,r,i,s)=>{let u=[];c:for(let[c,h,f]of t){if(f)continue;let t,p=0,v=!1;for(t in c){let s=c[t],u=r[t];if(u!==s){if("object"!=typeof u||!u)continue c;{let t,r,c=0;for(let h in u){if(s===String(u[h])){if("@initial"!==h){let t=h.slice(1);(r=r||[]).push(t in i?i[t]:h.replace(/^@media ?/,"")),v=!0}p+=c,t=!0}++c}if(r&&r.length&&(h={["@media "+r.join(", ")]:h}),!t)continue c}}}(u[p]=u[p]||[]).push([s?"cv":`${t}-${c[t]}`,h,v])}return u},esY={},esZ=esp(),esK=(t,r)=>esZ(t,()=>(...i)=>{let s=()=>{for(let s of i){let i=esk(s="object"==typeof s&&s||{});if(!r.rules.global.cache.has(i)){if(r.rules.global.cache.add(i),"@import"in s){let t=[].indexOf.call(r.sheet.cssRules,r.rules.themed.group)-1;for(let i of[].concat(s["@import"]))i=i.includes('"')||i.includes("'")?i:`"${i}"`,r.sheet.insertRule(`@import ${i};`,t++);delete s["@import"]}esR(s,[],[],t,t=>{r.rules.global.apply(t)})}}return""};return esm(s,{toString:s})}),esJ=esp(),esQ=(t,r)=>esJ(t,()=>i=>{let s=`${esT(t.prefix)}k-${esk(i)}`,u=()=>{if(!r.rules.global.cache.has(s)){r.rules.global.cache.add(s);let u=[];esR(i,[],[],t,t=>u.push(t));let c=`@keyframes ${s}{${u.join("")}}`;r.rules.global.apply(c)}return s};return esm(u,{get name(){return u()},toString:u})}),esq=class{constructor(t,r,i,s){this.token=null==t?"":String(t),this.value=null==r?"":String(r),this.scale=null==i?"":String(i),this.prefix=null==s?"":String(s)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+esT(this.prefix)+esT(this.scale)+this.token}toString(){return this.computedValue}},es$=esp(),es0=(t,r)=>es$(t,()=>(i,s)=>{s="object"==typeof i&&i||Object(s);let u=`.${i=(i="string"==typeof i?i:"")||`${esT(t.prefix)}t-${esk(s)}`}`,c={},h=[];for(let r in s)for(let i in c[r]={},s[r]){let u=`--${esT(t.prefix)}${r}-${i}`,f=esE(String(s[r][i]),t.prefix,r);c[r][i]=new esq(i,f,r,t.prefix),h.push(`${u}:${f}`)}let f=()=>{if(h.length&&!r.rules.themed.cache.has(i)){r.rules.themed.cache.add(i);let u=`${s===t.theme?":root,":""}.${i}{${h.join(";")}}`;r.rules.themed.apply(u)}return i};return{...c,get className(){return f()},selector:u,toString:f}}),es1=esp(),es2,es3,es5,es4,es9,es8,es6,es7,ele,elt,eln,elr,eli,ela,elo,els,ell,elu,elc,elh,eld,elf,elp,elg,elm,elv,ely,elx,el_,elb,elw,elS,elA,elM,elC,elT,elE,elI,elD,elR,elP,elL,elB,elk,elO,elN,elF,elU,elz,elG,elH,elV,elj,elW,elX,elY,elZ,elK,elJ,elQ,elq,el$,el0,el1,el2,el3,el5,el4,el9,el8,el6,el7,eue,eut,eun,eur,eui,eua,euo,eus,eul,euu,euc=esp(),euh=t=>{let r=(t=>{let r=!1,i=es1(t,t=>{r=!0;let i="prefix"in(t="object"==typeof t&&t||{})?String(t.prefix):"",s="object"==typeof t.media&&t.media||{},u="object"==typeof t.root?t.root||null:globalThis.document||null,c="object"==typeof t.theme&&t.theme||{},h={prefix:i,media:s,theme:c,themeMap:"object"==typeof t.themeMap&&t.themeMap||{...esd},utils:"object"==typeof t.utils&&t.utils||{}},f=esF(u),p={css:esH(h,f),globalCss:esK(h,f),keyframes:esQ(h,f),createTheme:es0(h,f),reset(){f.reset(),p.theme.toString()},theme:{},sheet:f,config:h,prefix:i,getCssText:f.toString,toString:f.toString};return String(p.theme=p.createTheme(c)),p});return r||i.reset(),i})(t);return r.styled=(({config:t,sheet:r})=>euc(t,()=>{let i=esH(t,r);return(...t)=>{let r=i(...t),s=r[esg].type,u=ex.forwardRef((t,i)=>{let u=t&&t.as||s,{props:c,deferredInjector:h}=r(t);return delete c.as,c.ref=i,h?ex.createElement(ex.Fragment,null,ex.createElement(u,c),ex.createElement(h,null)):ex.createElement(u,c)});return u.className=r.className,u.displayName=`Styled.${s.displayName||s.name||s}`,u.selector=r.selector,u.toString=()=>r.selector,u[esg]=r[esg],u}}))(r),r},eud=()=>euu||(euu=euh()),euf=(...t)=>eud().styled(...t);let eup={toVector:(t,r)=>(void 0===t&&(t=r),Array.isArray(t)?t:[t,t]),add:(t,r)=>[t[0]+r[0],t[1]+r[1]],sub:(t,r)=>[t[0]-r[0],t[1]-r[1]],addTo(t,r){t[0]+=r[0],t[1]+=r[1]},subTo(t,r){t[0]-=r[0],t[1]-=r[1]}};function eug(t,r,i){return 0===r||Math.abs(r)===1/0?Math.pow(t,5*i):t*r*i/(r+i*t)}function eum(t,r,i,s=.15){if(0===s)return Math.max(r,Math.min(t,i));return t<r?-eug(r-t,i-r,s)+r:t>i?+eug(t-i,i-r,s)+i:t}function euv(t,r,i){var s;return(r="symbol"==typeof(s=function(t,r){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,r||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?s:String(s))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function euy(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,s)}return i}function eux(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?euy(Object(i),!0).forEach(function(r){euv(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):euy(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}let eu_={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function eub(t){return t?t[0].toUpperCase()+t.slice(1):""}let euw=["enter","leave"],euS=["gotpointercapture","lostpointercapture"];function euA(t){return"touches"in t}function euM(t){return euA(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function euC(t){var r;return euA(t)?("touchend"===(r=t).type||"touchcancel"===r.type?r.changedTouches:r.targetTouches)[0]:t}function euT(t){let r=euC(t);return euA(t)?r.identifier:r.pointerId}function euE(t){let r=euC(t);return[r.clientX,r.clientY]}function euI(t,...r){return"function"==typeof t?t(...r):t}function euD(){}function euR(t,r){return Object.assign({},r,t||{})}class euP{constructor(t,r,i){this.ctrl=t,this.args=r,this.key=i,!this.state&&(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:t,shared:r,ingKey:i,args:s}=this;r[i]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=s,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){let r=this.state,i=this.config;!r._active&&(this.reset(),this.computeInitial(),r._active=!0,r.target=t.target,r.currentTarget=t.currentTarget,r.lastOffset=i.from?euI(i.from,r):r.offset,r.offset=r.lastOffset,r.startTime=r.timeStamp=t.timeStamp)}computeValues(t){let r=this.state;r._values=t,r.values=this.config.transform(t)}computeInitial(){let t=this.state;t._initial=t._values,t.initial=t.values}compute(t){let{state:r,config:i,shared:s}=this;r.args=this.args;let u=0;if(t&&(r.event=t,i.preventDefault&&t.cancelable&&r.event.preventDefault(),r.type=t.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,function(t){let r={};if("buttons"in t&&(r.buttons=t.buttons),"shiftKey"in t){let{shiftKey:i,altKey:s,metaKey:u,ctrlKey:c}=t;Object.assign(r,{shiftKey:i,altKey:s,metaKey:u,ctrlKey:c})}return r}(t)),s.down=s.pressed=s.buttons%2==1||s.touches>0,u=t.timeStamp-r.timeStamp,r.timeStamp=t.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){let t=r._delta.map(Math.abs);eup.addTo(r._distance,t)}this.axisIntent&&this.axisIntent(t);let[c,h]=r._movement,[f,p]=i.threshold,{_step:v,values:y}=r;if(i.hasCustomTransform?(!1===v[0]&&(v[0]=Math.abs(c)>=f&&y[0]),!1===v[1]&&(v[1]=Math.abs(h)>=p&&y[1])):(!1===v[0]&&(v[0]=Math.abs(c)>=f&&Math.sign(c)*f),!1===v[1]&&(v[1]=Math.abs(h)>=p&&Math.sign(h)*p)),r.intentional=!1!==v[0]||!1!==v[1],!r.intentional)return;let x=[0,0];if(i.hasCustomTransform){let[t,r]=y;x[0]=!1!==v[0]?t-v[0]:0,x[1]=!1!==v[1]?r-v[1]:0}else x[0]=!1!==v[0]?c-v[0]:0,x[1]=!1!==v[1]?h-v[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(x);let _=r.offset,b=r._active&&!r._blocked||r.active;b&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=s[this.ingKey]=r._active,t&&(r.first&&("bounds"in i&&(r._bounds=euI(i.bounds,r)),this.setup&&this.setup()),r.movement=x,this.computeOffset()));let[w,S]=r.offset,[[A,M],[C,T]]=r._bounds;r.overflow=[w<A?-1:w>M?1:0,S<C?-1:S>T?1:0],r._movementBound[0]=!!r.overflow[0]&&(!1===r._movementBound[0]?r._movement[0]:r._movementBound[0]),r._movementBound[1]=!!r.overflow[1]&&(!1===r._movementBound[1]?r._movement[1]:r._movementBound[1]);let I=r._active&&i.rubberband||[0,0];if(r.offset=function(t,[r,i],[s,u]){let[[c,h],[f,p]]=t;return[eum(r,c,h,s),eum(i,f,p,u)]}(r._bounds,r.offset,I),r.delta=eup.sub(r.offset,_),this.computeMovement(),b&&(!r.last||u>32)){r.delta=eup.sub(r.offset,_);let t=r.delta.map(Math.abs);eup.addTo(r.distance,t),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&u>0&&(r.velocity=[t[0]/u,t[1]/u],r.timeDelta=u)}}emit(){let t=this.state,r=this.shared,i=this.config;if(!t._active&&this.clean(),(t._blocked||!t.intentional)&&!t._force&&!i.triggerAllEvents)return;let s=this.handler(eux(eux(eux({},r),t),{},{[this.aliasKey]:t.values}));void 0!==s&&(t.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class euL extends euP{constructor(...t){super(...t),euv(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=eup.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=eup.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){let r=this.state,i=this.config;if(!r.axis&&t){let s="object"==typeof i.axisThreshold?i.axisThreshold[euM(t)]:i.axisThreshold;r.axis=function([t,r],i){let s=Math.abs(t),u=Math.abs(r);return s>u&&s>i?"x":u>s&&u>i?"y":void 0}(r._movement,s)}r._blocked=(i.lockDirection||!!i.axis)&&!r.axis||!!i.axis&&i.axis!==r.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0}}}let euB=t=>t,euk={enabled:(t=!0)=>t,eventOptions:(t,r,i)=>eux(eux({},i.shared.eventOptions),t),preventDefault:(t=!1)=>t,triggerAllEvents:(t=!1)=>t,rubberband(t=0){switch(t){case!0:return[.15,.15];case!1:return[0,0];default:return eup.toVector(t)}},from:t=>"function"==typeof t?t:null!=t?eup.toVector(t):void 0,transform(t,r,i){let s=t||i.shared.transform;return this.hasCustomTransform=!!s,s||euB},threshold:t=>eup.toVector(t,0)},euO=0,euN=eux(eux({},euk),{},{axis(t,r,{axis:i}){if(this.lockDirection="lock"===i,!this.lockDirection)return i},axisThreshold:(t=euO)=>t,bounds(t={}){if("function"==typeof t)return r=>euN.bounds(t(r));if("current"in t)return()=>t.current;if("function"==typeof HTMLElement&&t instanceof HTMLElement)return t;let{left:r=-1/0,right:i=1/0,top:s=-1/0,bottom:u=1/0}=t;return[[r,i],[s,u]]}}),euF={ArrowRight:(t,r=1)=>[t*r,0],ArrowLeft:(t,r=1)=>[-1*t*r,0],ArrowUp:(t,r=1)=>[0,-1*t*r],ArrowDown:(t,r=1)=>[0,t*r]},euU="undefined"!=typeof window&&window.document&&window.document.createElement;function euz(){return euU&&"ontouchstart"in window}let euG={isBrowser:euU,gesture:function(){try{return"constructor"in GestureEvent}catch(t){return!1}}(),touch:euz(),touchscreen:euz()||euU&&window.navigator.maxTouchPoints>1,pointer:euU&&"onpointerdown"in window,pointerLock:euU&&"exitPointerLock"in window.document},euH=10,euV={mouse:0,touch:0,pen:8},euj=eux(eux({},euN),{},{device(t,r,{pointer:{touch:i=!1,lock:s=!1,mouse:u=!1}={}}){return(this.pointerLock=s&&euG.pointerLock,euG.touch&&i)?"touch":this.pointerLock?"mouse":euG.pointer&&!u?"pointer":euG.touch?"touch":"mouse"},preventScrollAxis(t,r,{preventScroll:i}){if(this.preventScrollDelay="number"==typeof i?i:i||void 0===i&&t?250:void 0,euG.touchscreen&&!1!==i)return t||(void 0!==i?"y":void 0)},pointerCapture(t,r,{pointer:{capture:i=!0,buttons:s=1,keys:u=!0}={}}){return this.pointerButtons=s,this.keys=u,!this.pointerLock&&"pointer"===this.device&&i},threshold(t,r,{filterTaps:i=!1,tapsThreshold:s=3,axis:u}){let c=eup.toVector(t,i?s:u?1:0);return this.filterTaps=i,this.tapsThreshold=s,c},swipe({velocity:t=.5,distance:r=50,duration:i=250}={}){return{velocity:this.transform(eup.toVector(t)),distance:this.transform(eup.toVector(r)),duration:i}},delay(t=0){switch(t){case!0:return 180;case!1:return 0;default:return t}},axisThreshold:t=>t?eux(eux({},euV),t):euV,keyboardDisplacement:(t=euH)=>t});eux(eux({},euk),{},{device(t,r,{shared:i,pointer:{touch:s=!1}={}}){if(i.target&&!euG.touch&&euG.gesture)return"gesture";if(euG.touch&&s)return"touch";if(euG.touchscreen){if(euG.pointer)return"pointer";if(euG.touch)return"touch"}},bounds(t,r,{scaleBounds:i={},angleBounds:s={}}){let u=t=>{let r=euR(euI(i,t),{min:-1/0,max:1/0});return[r.min,r.max]},c=t=>{let r=euR(euI(s,t),{min:-1/0,max:1/0});return[r.min,r.max]};return"function"!=typeof i&&"function"!=typeof s?[u(),c()]:t=>[u(t),c(t)]},threshold(t,r,i){return this.lockDirection="lock"===i.axis,eup.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey:t=>void 0===t?"ctrlKey":t,pinchOnWheel:(t=!0)=>t}),eux(eux({},euN),{},{mouseOnly:(t=!0)=>t}),eux(eux({},euN),{},{mouseOnly:(t=!0)=>t});let euW=new Map,euX=new Map,euY={key:"drag",engine:class t extends euL{constructor(...t){super(...t),euv(this,"ingKey","dragging")}reset(){super.reset();let t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){let t=this.state;if(t._bounds instanceof HTMLElement){let r=t._bounds.getBoundingClientRect(),i=t.currentTarget.getBoundingClientRect(),s={left:r.left-i.left+t.offset[0],right:r.right-i.right+t.offset[0],top:r.top-i.top+t.offset[1],bottom:r.bottom-i.bottom+t.offset[1]};t._bounds=euN.bounds(s)}}cancel(){let t=this.state;!t.canceled&&(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){let r=this.config,i=this.state;if(null!=t.buttons&&(Array.isArray(r.pointerButtons)?!r.pointerButtons.includes(t.buttons):-1!==r.pointerButtons&&r.pointerButtons!==t.buttons))return;let s=this.ctrl.setEventIds(t);r.pointerCapture&&t.target.setPointerCapture(t.pointerId),(!s||!(s.size>1)||!i._pointerActive)&&(this.start(t),this.setupPointer(t),i._pointerId=euT(t),i._pointerActive=!0,this.computeValues(euE(t)),this.computeInitial(),r.preventScrollAxis&&"mouse"!==euM(t)?(i._active=!1,this.setupScrollPrevention(t)):r.delay>0?(this.setupDelayTrigger(t),r.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){let r=this.state;r._active=!0,r._preventScroll=!0,r._delayed=!1,this.compute(t),this.emit()}pointerMove(t){let r=this.state,i=this.config;if(!r._pointerActive)return;let s=euT(t);if(void 0!==r._pointerId&&s!==r._pointerId)return;let u=euE(t);if(document.pointerLockElement===t.target?r._delta=[t.movementX,t.movementY]:(r._delta=eup.sub(u,r._values),this.computeValues(u)),eup.addTo(r._movement,r._delta),this.compute(t),r._delayed&&r.intentional){this.timeoutStore.remove("dragDelay"),r.active=!1,this.startPointerDrag(t);return}if(i.preventScrollAxis&&!r._preventScroll){if(!r.axis)return;if(r.axis===i.preventScrollAxis||"xy"===i.preventScrollAxis){r._active=!1,this.clean();return}this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch(t){}let r=this.state,i=this.config;if(!r._active||!r._pointerActive)return;let s=euT(t);if(void 0!==r._pointerId&&s!==r._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);let[u,c]=r._distance;if(r.tap=u<=i.tapsThreshold&&c<=i.tapsThreshold,r.tap&&i.filterTaps)r._force=!0;else{let[t,s]=r._delta,[u,c]=r._movement,[h,f]=i.swipe.velocity,[p,v]=i.swipe.distance,y=i.swipe.duration;if(r.elapsedTime<y){let i=Math.abs(t/r.timeDelta),y=Math.abs(s/r.timeDelta);i>h&&Math.abs(u)>p&&(r.swipe[0]=Math.sign(t)),y>f&&Math.abs(c)>v&&(r.swipe[1]=Math.sign(s))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){let r=this.config,i=r.device;r.pointerLock&&t.currentTarget.requestPointerLock(),!r.pointerCapture&&(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,function(t){"persist"in t&&"function"==typeof t.persist&&t.persist()}(t);let r=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",r),this.eventStore.add(this.sharedConfig.window,"touch","cancel",r),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){let r=euF[t.key];if(r){let i=this.state,s=t.shiftKey?10:t.altKey?.1:1;this.start(t),i._delta=r(this.config.keyboardDisplacement,s),i._keyboardActive=!0,eup.addTo(i._movement,i._delta),this.compute(t),this.emit()}}keyUp(t){t.key in euF&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){let r=this.config.device;t(r,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(r,"change",this.pointerMove.bind(this)),t(r,"end",this.pointerUp.bind(this)),t(r,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:euj},euZ={target(t){if(t)return()=>"current"in t?t.current:t},enabled:(t=!0)=>t,window:(t=euG.isBrowser?window:void 0)=>t,eventOptions:({passive:t=!0,capture:r=!1}={})=>({passive:t,capture:r}),transform:t=>t},euK=["target","eventOptions","window","enabled","transform"];function euJ(t={},r){let i={};for(let[s,u]of Object.entries(r))switch(typeof u){case"function":i[s]=u.call(i,t[s],s,t);break;case"object":i[s]=euJ(t[s],u);break;case"boolean":u&&(i[s]=t[s])}return i}class euQ{constructor(t,r){euv(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=r}add(t,r,i,s,u){let c=this._listeners,h=function(t,r=""){let i=eu_[t];return t+(i&&i[r]||r)}(r,i),f=eux(eux({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),u);t.addEventListener(h,s,f);let p=()=>{t.removeEventListener(h,s,f),c.delete(p)};return c.add(p),p}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class euq{constructor(){euv(this,"_timeouts",new Map)}add(t,r,i=140,...s){this.remove(t),this._timeouts.set(t,window.setTimeout(r,i,...s))}remove(t){let r=this._timeouts.get(t);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class eu${constructor(t){euv(this,"gestures",new Set),euv(this,"_targetEventStore",new euQ(this)),euv(this,"gestureEventStores",{}),euv(this,"gestureTimeoutStores",{}),euv(this,"handlers",{}),euv(this,"config",{}),euv(this,"pointerIds",new Set),euv(this,"touchIds",new Set),euv(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(t,r){r.drag&&eu0(t,"drag"),r.wheel&&eu0(t,"wheel"),r.scroll&&eu0(t,"scroll"),r.move&&eu0(t,"move"),r.pinch&&eu0(t,"pinch"),r.hover&&eu0(t,"hover")}(this,t)}setEventIds(t){if(euA(t)){var r;return this.touchIds=new Set(Array.from((r=t).touches).filter(t=>{var i,s;return t.target===r.currentTarget||(null===(i=r.currentTarget)||void 0===i||null===(s=i.contains)||void 0===s?void 0:s.call(i,t.target))}).map(t=>t.identifier)),this.touchIds}if("pointerId"in t)return"pointerup"===t.type||"pointercancel"===t.type?this.pointerIds.delete(t.pointerId):"pointerdown"===t.type&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,r){this.handlers=t,this.nativeHandlers=r}applyConfig(t,r){this.config=function(t,r,i={}){let{target:s,eventOptions:u,window:c,enabled:h,transform:f}=t,p=function(t,r){if(null==t)return{};var i,s,u=function(t,r){if(null==t)return{};var i,s,u={},c=Object.keys(t);for(s=0;s<c.length;s++)i=c[s],!(r.indexOf(i)>=0)&&(u[i]=t[i]);return u}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++){if(i=c[s],!(r.indexOf(i)>=0))Object.prototype.propertyIsEnumerable.call(t,i)&&(u[i]=t[i])}}return u}(t,euK);if(i.shared=euJ({target:s,eventOptions:u,window:c,enabled:h,transform:f},euZ),r){let t=euX.get(r);i[r]=euJ(eux({shared:i.shared},p),t)}else for(let t in p){let r=euX.get(t);r&&(i[t]=euJ(eux({shared:i.shared},p[t]),r))}return i}(t,r,this.config)}clean(){for(let t of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){let r;let i=this.config.shared,s={};if(!i.target||!!(r=i.target())){if(i.enabled){for(let i of this.gestures){let u=this.config[i],c=eu1(s,u.eventOptions,!!r);u.enabled&&new(euW.get(i))(this,t,i).bind(c)}let u=eu1(s,i.eventOptions,!!r);for(let r in this.nativeHandlers)u(r,"",i=>this.nativeHandlers[r](eux(eux({},this.state.shared),{},{event:i,args:t})),void 0,!0)}for(let t in s)s[t]=function(...t){return 0===t.length?euD:1===t.length?t[0]:function(){let r;for(let i of t)r=i.apply(this,arguments)||r;return r}}(...s[t]);if(!r)return s;for(let t in s){let{device:i,capture:u,passive:c}=function(t){let r=t.substring(2).toLowerCase(),i=!!~r.indexOf("passive");i&&(r=r.replace("passive",""));let s=euS.includes(r)?"capturecapture":"capture",u=!!~r.indexOf(s);return u&&(r=r.replace("capture","")),{device:r,capture:u,passive:i}}(t);this._targetEventStore.add(r,i,"",s[t],{capture:u,passive:c})}}}}function eu0(t,r){t.gestures.add(r),t.gestureEventStores[r]=new euQ(t,r),t.gestureTimeoutStores[r]=new euq}let eu1=(t,r,i)=>(s,u,c,h={},f=!1)=>{var p,v;let y=null!==(p=h.capture)&&void 0!==p?p:r.capture,x=null!==(v=h.passive)&&void 0!==v?v:r.passive,_=f?s:function(t,r="",i=!1){let s=eu_[t],u=s&&s[r]||r;return"on"+eub(t)+eub(u)+(!function(t=!1,r){return t&&!euw.includes(r)}(i,u)?"":"Capture")}(s,u,y);i&&x&&(_+="Passive"),t[_]=t[_]||[],t[_].push(c)},eu2=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function eu3(t,r,i,s,u,c){if(!t.has(i)||!EngineMap.has(s))return;let h=i+"Start",f=i+"End";u[s]=t=>{let s;return t.first&&h in r&&r[h](t),i in r&&(s=r[i](t)),t.last&&f in r&&r[f](t),s},c[s]=c[s]||{}}function eu5(t,r={},i,s){let u=ex.useMemo(()=>new eu$(t),[]);if(u.applyHandlers(t,s),u.applyConfig(r,i),ex.useEffect(u.effect.bind(u)),ex.useEffect(()=>u.clean.bind(u),[]),void 0===r.target)return u.bind.bind(u)}function eu4(t,r,{checkForDefaultPrevented:i=!0}={}){return function(s){if(t?.(s),!1===i||!s.defaultPrevented)return r?.(s)}}function eu9(...t){return r=>t.forEach(t=>{var i,s;return i=t,s=r,void("function"==typeof i?i(s):null!=i&&(i.current=s))})}function eu8(...t){return ex.useCallback(eu9(...t),t)}var eu6=ex.forwardRef((t,r)=>{let{children:i,...s}=t,u=ex.Children.toArray(i),c=u.find(ect);if(c){let t=c.props.children,i=u.map(r=>r!==c?r:ex.Children.count(t)>1?ex.Children.only(null):ex.isValidElement(t)?t.props.children:null);return(0,ev.jsx)(eu7,{...s,ref:r,children:ex.isValidElement(t)?ex.cloneElement(t,void 0,i):null})}return(0,ev.jsx)(eu7,{...s,ref:r,children:i})});eu6.displayName="Slot";var eu7=ex.forwardRef((t,r)=>{let{children:i,...s}=t;if(ex.isValidElement(i)){let t=function(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(i=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref}(i);return ex.cloneElement(i,{...function(t,r){let i={...r};for(let s in r){let u=t[s],c=r[s];/^on[A-Z]/.test(s)?u&&c?i[s]=(...t)=>{c(...t),u(...t)}:u&&(i[s]=u):"style"===s?i[s]={...u,...c}:"className"===s&&(i[s]=[u,c].filter(Boolean).join(" "))}return{...t,...i}}(s,i.props),ref:r?eu9(r,t):t})}return ex.Children.count(i)>1?ex.Children.only(null):null});eu7.displayName="SlotClone";var ece=({children:t})=>(0,ev.jsx)(ev.Fragment,{children:t});function ect(t){return ex.isValidElement(t)&&t.type===ece}var ecn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((t,r)=>{let i=ex.forwardRef((t,i)=>{let{asChild:s,...u}=t,c=s?eu6:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,ev.jsx)(c,{...u,ref:i})});return i.displayName=`Primitive.${r}`,{...t,[r]:i}},{});function ecr(t){let r=ex.useRef(t);return ex.useEffect(()=>{r.current=t}),ex.useMemo(()=>(...t)=>r.current?.(...t),[])}var eci="dismissableLayer.update",eca=ex.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eco=ex.forwardRef((t,r)=>{let{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:h,onDismiss:f,...p}=t,v=ex.useContext(eca),[y,x]=ex.useState(null),_=y?.ownerDocument??globalThis?.document,[,b]=ex.useState({}),w=eu8(r,t=>x(t)),S=Array.from(v.layers),[A]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),M=S.indexOf(A),C=y?S.indexOf(y):-1,T=v.layersWithOutsidePointerEventsDisabled.size>0,I=C>=M,D=function(t,r=globalThis?.document){let i=ecr(t),s=ex.useRef(!1),u=ex.useRef(()=>{});return ex.useEffect(()=>{let t=t=>{if(t.target&&!s.current){let s=function(){ecl("dismissableLayer.pointerDownOutside",i,c,{discrete:!0})},c={originalEvent:t};"touch"===t.pointerType?(r.removeEventListener("click",u.current),u.current=s,r.addEventListener("click",u.current,{once:!0})):s()}else r.removeEventListener("click",u.current);s.current=!1},c=window.setTimeout(()=>{r.addEventListener("pointerdown",t)},0);return()=>{window.clearTimeout(c),r.removeEventListener("pointerdown",t),r.removeEventListener("click",u.current)}},[r,i]),{onPointerDownCapture:()=>s.current=!0}}(t=>{let r=t.target,i=[...v.branches].some(t=>t.contains(r));I&&!i&&(u?.(t),h?.(t),!t.defaultPrevented&&f?.())},_),R=function(t,r=globalThis?.document){let i=ecr(t),s=ex.useRef(!1);return ex.useEffect(()=>{let t=t=>{t.target&&!s.current&&ecl("dismissableLayer.focusOutside",i,{originalEvent:t},{discrete:!1})};return r.addEventListener("focusin",t),()=>r.removeEventListener("focusin",t)},[r,i]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}(t=>{let r=t.target;![...v.branches].some(t=>t.contains(r))&&(c?.(t),h?.(t),!t.defaultPrevented&&f?.())},_);return!function(t,r=globalThis?.document){let i=ecr(t);ex.useEffect(()=>{let t=t=>{"Escape"===t.key&&i(t)};return r.addEventListener("keydown",t,{capture:!0}),()=>r.removeEventListener("keydown",t,{capture:!0})},[i,r])}(t=>{!(C!==v.layers.size-1)&&(s?.(t),!t.defaultPrevented&&f&&(t.preventDefault(),f()))},_),ex.useEffect(()=>{if(y)return i&&(0===v.layersWithOutsidePointerEventsDisabled.size&&(egi=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(y)),v.layers.add(y),ecs(),()=>{i&&1===v.layersWithOutsidePointerEventsDisabled.size&&(_.body.style.pointerEvents=egi)}},[y,_,i,v]),ex.useEffect(()=>()=>{y&&(v.layers.delete(y),v.layersWithOutsidePointerEventsDisabled.delete(y),ecs())},[y,v]),ex.useEffect(()=>{let t=()=>b({});return document.addEventListener(eci,t),()=>document.removeEventListener(eci,t)},[]),(0,ev.jsx)(ecn.div,{...p,ref:w,style:{pointerEvents:T?I?"auto":"none":void 0,...t.style},onFocusCapture:eu4(t.onFocusCapture,R.onFocusCapture),onBlurCapture:eu4(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:eu4(t.onPointerDownCapture,D.onPointerDownCapture)})});eco.displayName="DismissableLayer";ex.forwardRef((t,r)=>{let i=ex.useContext(eca),s=ex.useRef(null),u=eu8(r,s);return ex.useEffect(()=>{let t=s.current;if(t)return i.branches.add(t),()=>{i.branches.delete(t)}},[i.branches]),(0,ev.jsx)(ecn.div,{...t,ref:u})}).displayName="DismissableLayerBranch";function ecs(){let t=new CustomEvent(eci);document.dispatchEvent(t)}function ecl(t,r,i,{discrete:s}){let u=i.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:i});if(r&&u.addEventListener(t,r,{once:!0}),s){var h,f;h=u,f=c,h&&wM.flushSync(()=>h.dispatchEvent(f))}else u.dispatchEvent(c)}var ecu=globalThis?.document?ex.useLayoutEffect:()=>{},ecc=e_["useId".toString()]||(()=>void 0),ech=0;let ecd=["top","right","bottom","left"],ecf=Math.min,ecp=Math.max,ecg=Math.round,ecm=Math.floor,ecv=t=>({x:t,y:t}),ecy={left:"right",right:"left",bottom:"top",top:"bottom"},ecx={start:"end",end:"start"};function ec_(t,r,i){return ecp(t,ecf(r,i))}function ecb(t,r){return"function"==typeof t?t(r):t}function ecw(t){return t.split("-")[0]}function ecS(t){return t.split("-")[1]}function ecA(t){return"x"===t?"y":"x"}function ecM(t){return"y"===t?"height":"width"}function ecC(t){return["top","bottom"].includes(ecw(t))?"y":"x"}function ecT(t){return ecA(ecC(t))}function ecE(t){return t.replace(/start|end/g,t=>ecx[t])}function ecI(t){return t.replace(/left|right|bottom|top/g,t=>ecy[t])}function ecD(t){return"number"!=typeof t?{top:0,right:0,bottom:0,left:0,...t}:{top:t,right:t,bottom:t,left:t}}function ecR(t){let{x:r,y:i,width:s,height:u}=t;return{width:s,height:u,top:i,left:r,right:r+s,bottom:i+u,x:r,y:i}}function ecP(t,r,i){let s,{reference:u,floating:c}=t,h=ecC(r),f=ecA(ecC(r)),p=ecM(f),v=ecw(r),y="y"===h,x=u.x+u.width/2-c.width/2,_=u.y+u.height/2-c.height/2,b=u[p]/2-c[p]/2;switch(v){case"top":s={x:x,y:u.y-c.height};break;case"bottom":s={x:x,y:u.y+u.height};break;case"right":s={x:u.x+u.width,y:_};break;case"left":s={x:u.x-c.width,y:_};break;default:s={x:u.x,y:u.y}}switch(ecS(r)){case"start":s[f]-=b*(i&&y?-1:1);break;case"end":s[f]+=b*(i&&y?-1:1)}return s}let ecL=async(t,r,i)=>{let{placement:s="bottom",strategy:u="absolute",middleware:c=[],platform:h}=i,f=c.filter(Boolean),p=await (null==h.isRTL?void 0:h.isRTL(r)),v=await h.getElementRects({reference:t,floating:r,strategy:u}),{x:y,y:x}=ecP(v,s,p),_=s,b={},w=0;for(let i=0;i<f.length;i++){let{name:c,fn:S}=f[i],{x:A,y:M,data:C,reset:T}=await S({x:y,y:x,initialPlacement:s,placement:_,strategy:u,middlewareData:b,rects:v,platform:h,elements:{reference:t,floating:r}});y=null!=A?A:y,x=null!=M?M:x,b={...b,[c]:{...b[c],...C}},T&&w<=50&&(w++,"object"==typeof T&&(T.placement&&(_=T.placement),T.rects&&(v=!0===T.rects?await h.getElementRects({reference:t,floating:r,strategy:u}):T.rects),{x:y,y:x}=ecP(v,_,p)),i=-1)}return{x:y,y:x,placement:_,strategy:u,middlewareData:b}};async function ecB(t,r){var i;void 0===r&&(r={});let{x:s,y:u,platform:c,rects:h,elements:f,strategy:p}=t,{boundary:v="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:_=!1,padding:b=0}=ecb(r,t),w=ecD(b),S=f[_?"floating"===x?"reference":"floating":x],A=ecR(await c.getClippingRect({element:null==(i=await (null==c.isElement?void 0:c.isElement(S)))||i?S:S.contextElement||await (null==c.getDocumentElement?void 0:c.getDocumentElement(f.floating)),boundary:v,rootBoundary:y,strategy:p})),M="floating"===x?{x:s,y:u,width:h.floating.width,height:h.floating.height}:h.reference,C=await (null==c.getOffsetParent?void 0:c.getOffsetParent(f.floating)),T=await (null==c.isElement?void 0:c.isElement(C))&&await (null==c.getScale?void 0:c.getScale(C))||{x:1,y:1},I=ecR(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:M,offsetParent:C,strategy:p}):M);return{top:(A.top-I.top+w.top)/T.y,bottom:(I.bottom-A.bottom+w.bottom)/T.y,left:(A.left-I.left+w.left)/T.x,right:(I.right-A.right+w.right)/T.x}}function eck(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function ecO(t){return ecd.some(r=>t[r]>=0)}async function ecN(t,r){let{placement:i,platform:s,elements:u}=t,c=await (null==s.isRTL?void 0:s.isRTL(u.floating)),h=ecw(i),f=ecS(i),p="y"===ecC(i),v=["left","top"].includes(h)?-1:1,y=c&&p?-1:1,x=ecb(r,t),{mainAxis:_,crossAxis:b,alignmentAxis:w}="number"==typeof x?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return f&&"number"==typeof w&&(b="end"===f?-1*w:w),p?{x:b*y,y:_*v}:{x:_*v,y:b*y}}function ecF(){return"undefined"!=typeof window}function ecU(t){return ecH(t)?(t.nodeName||"").toLowerCase():"#document"}function ecz(t){var r;return(null==t||null==(r=t.ownerDocument)?void 0:r.defaultView)||window}function ecG(t){var r;return null==(r=(ecH(t)?t.ownerDocument:t.document)||window.document)?void 0:r.documentElement}function ecH(t){return!!ecF()&&(t instanceof Node||t instanceof ecz(t).Node)}function ecV(t){return!!ecF()&&(t instanceof Element||t instanceof ecz(t).Element)}function ecj(t){return!!ecF()&&(t instanceof HTMLElement||t instanceof ecz(t).HTMLElement)}function ecW(t){return!!ecF()&&"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof ecz(t).ShadowRoot)}function ecX(t){let{overflow:r,overflowX:i,overflowY:s,display:u}=ecQ(t);return/auto|scroll|overlay|hidden|clip/.test(r+s+i)&&!["inline","contents"].includes(u)}function ecY(t){return[":popover-open",":modal"].some(r=>{try{return t.matches(r)}catch(t){return!1}})}function ecZ(t){let r=ecK(),i=ecV(t)?ecQ(t):t;return"none"!==i.transform||"none"!==i.perspective||!!i.containerType&&"normal"!==i.containerType||!r&&!!i.backdropFilter&&"none"!==i.backdropFilter||!r&&!!i.filter&&"none"!==i.filter||["transform","perspective","filter"].some(t=>(i.willChange||"").includes(t))||["paint","layout","strict","content"].some(t=>(i.contain||"").includes(t))}function ecK(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function ecJ(t){return["html","body","#document"].includes(ecU(t))}function ecQ(t){return ecz(t).getComputedStyle(t)}function ecq(t){return ecV(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ec$(t){if("html"===ecU(t))return t;let r=t.assignedSlot||t.parentNode||ecW(t)&&t.host||ecG(t);return ecW(r)?r.host:r}function ec0(t,r,i){var s;void 0===r&&(r=[]),void 0===i&&(i=!0);let u=function t(r){let i=ec$(r);return ecJ(i)?r.ownerDocument?r.ownerDocument.body:r.body:ecj(i)&&ecX(i)?i:t(i)}(t),c=u===(null==(s=t.ownerDocument)?void 0:s.body),h=ecz(u);if(c){let t=ec1(h);return r.concat(h,h.visualViewport||[],ecX(u)?u:[],t&&i?ec0(t):[])}return r.concat(u,ec0(u,[],i))}function ec1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ec2(t){let r=ecQ(t),i=parseFloat(r.width)||0,s=parseFloat(r.height)||0,u=ecj(t),c=u?t.offsetWidth:i,h=u?t.offsetHeight:s,f=ecg(i)!==c||ecg(s)!==h;return f&&(i=c,s=h),{width:i,height:s,$:f}}function ec3(t){return ecV(t)?t:t.contextElement}function ec5(t){let r=ec3(t);if(!ecj(r))return ecv(1);let i=r.getBoundingClientRect(),{width:s,height:u,$:c}=ec2(r),h=(c?ecg(i.width):i.width)/s,f=(c?ecg(i.height):i.height)/u;return(!h||!Number.isFinite(h))&&(h=1),(!f||!Number.isFinite(f))&&(f=1),{x:h,y:f}}let ec4=ecv(0);function ec9(t){let r=ecz(t);return ecK()&&r.visualViewport?{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}:ec4}function ec8(t,r,i,s){var u,c,h;void 0===r&&(r=!1),void 0===i&&(i=!1);let f=t.getBoundingClientRect(),p=ec3(t),v=ecv(1);r&&(s?ecV(s)&&(v=ec5(s)):v=ec5(t));let y=(u=p,void 0===(c=i)&&(c=!1),(h=s)&&(!c||h===ecz(u))&&c)?ec9(p):ecv(0),x=(f.left+y.x)/v.x,_=(f.top+y.y)/v.y,b=f.width/v.x,w=f.height/v.y;if(p){let t=ecz(p),r=s&&ecV(s)?ecz(s):s,i=t,u=ec1(i);for(;u&&s&&r!==i;){let t=ec5(u),r=u.getBoundingClientRect(),s=ecQ(u),c=r.left+(u.clientLeft+parseFloat(s.paddingLeft))*t.x,h=r.top+(u.clientTop+parseFloat(s.paddingTop))*t.y;x*=t.x,_*=t.y,b*=t.x,w*=t.y,x+=c,_+=h,u=ec1(i=ecz(u))}}return ecR({width:b,height:w,x,y:_})}function ec6(t,r){let i=ecq(t).scrollLeft;return r?r.left+i:ec8(ecG(t)).left+i}function ec7(t,r,i){void 0===i&&(i=!1);let s=t.getBoundingClientRect(),u=s.left+r.scrollLeft-(i?0:ec6(t,s));return{x:u,y:s.top+r.scrollTop}}function ehe(t,r,i){let s;if("viewport"===r)s=function(t,r){let i=ecz(t),s=ecG(t),u=i.visualViewport,c=s.clientWidth,h=s.clientHeight,f=0,p=0;if(u){c=u.width,h=u.height;let t=ecK();(!t||t&&"fixed"===r)&&(f=u.offsetLeft,p=u.offsetTop)}return{width:c,height:h,x:f,y:p}}(t,i);else if("document"===r)s=function(t){let r=ecG(t),i=ecq(t),s=t.ownerDocument.body,u=ecp(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),c=ecp(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight),h=-i.scrollLeft+ec6(t),f=-i.scrollTop;return"rtl"===ecQ(s).direction&&(h+=ecp(r.clientWidth,s.clientWidth)-u),{width:u,height:c,x:h,y:f}}(ecG(t));else if(ecV(r))s=function(t,r){let i=ec8(t,!0,"fixed"===r),s=i.top+t.clientTop,u=i.left+t.clientLeft,c=ecj(t)?ec5(t):ecv(1),h=t.clientWidth*c.x,f=t.clientHeight*c.y,p=u*c.x;return{width:h,height:f,x:p,y:s*c.y}}(r,i);else{let i=ec9(t);s={x:r.x-i.x,y:r.y-i.y,width:r.width,height:r.height}}return ecR(s)}function eht(t){return"static"===ecQ(t).position}function ehn(t,r){if(!ecj(t)||"fixed"===ecQ(t).position)return null;if(r)return r(t);let i=t.offsetParent;return ecG(t)===i&&(i=i.ownerDocument.body),i}function ehr(t,r){let i=ecz(t);if(ecY(t))return i;if(!ecj(t)){let r=ec$(t);for(;r&&!ecJ(r);){if(ecV(r)&&!eht(r))return r;r=ec$(r)}return i}let s=ehn(t,r);for(;s&&["table","td","th"].includes(ecU(s))&&eht(s);)s=ehn(s,r);return s&&ecJ(s)&&eht(s)&&!ecZ(s)?i:s||function(t){let r=ec$(t);for(;ecj(r)&&!ecJ(r);){if(ecZ(r))return r;if(ecY(r))break;r=ec$(r)}return null}(t)||i}let ehi=async function(t){let r=this.getOffsetParent||ehr,i=this.getDimensions,s=await i(t.floating);return{reference:function(t,r,i){let s=ecj(r),u=ecG(r),c="fixed"===i,h=ec8(t,!0,c,r),f={scrollLeft:0,scrollTop:0},p=ecv(0);if(s||!s&&!c){if(("body"!==ecU(r)||ecX(u))&&(f=ecq(r)),s){let t=ec8(r,!0,c,r);p.x=t.x+r.clientLeft,p.y=t.y+r.clientTop}else u&&(p.x=ec6(u))}let v=!u||s||c?ecv(0):ec7(u,f),y=h.left+f.scrollLeft-p.x-v.x;return{x:y,y:h.top+f.scrollTop-p.y-v.y,width:h.width,height:h.height}}(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}},eha={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:r,rect:i,offsetParent:s,strategy:u}=t,c="fixed"===u,h=ecG(s),f=!!r&&ecY(r.floating);if(s===h||f&&c)return i;let p={scrollLeft:0,scrollTop:0},v=ecv(1),y=ecv(0),x=ecj(s);if((x||!x&&!c)&&(("body"!==ecU(s)||ecX(h))&&(p=ecq(s)),ecj(s))){let t=ec8(s);v=ec5(s),y.x=t.x+s.clientLeft,y.y=t.y+s.clientTop}let _=!h||x||c?ecv(0):ec7(h,p,!0);return{width:i.width*v.x,height:i.height*v.y,x:i.x*v.x-p.scrollLeft*v.x+y.x+_.x,y:i.y*v.y-p.scrollTop*v.y+y.y+_.y}},getDocumentElement:ecG,getClippingRect:function(t){let{element:r,boundary:i,rootBoundary:s,strategy:u}=t,c=[..."clippingAncestors"===i?ecY(r)?[]:function(t,r){let i=r.get(t);if(i)return i;let s=ec0(t,[],!1).filter(t=>ecV(t)&&"body"!==ecU(t)),u=null,c="fixed"===ecQ(t).position,h=c?ec$(t):t;for(;ecV(h)&&!ecJ(h);){let r=ecQ(h),i=ecZ(h);!i&&"fixed"===r.position&&(u=null),(c?!i&&!u:!i&&"static"===r.position&&!!u&&["absolute","fixed"].includes(u.position)||ecX(h)&&!i&&function t(r,i){let s=ec$(r);return!(s===i||!ecV(s)||ecJ(s))&&("fixed"===ecQ(s).position||t(s,i))}(t,h))?s=s.filter(t=>t!==h):u=r,h=ec$(h)}return r.set(t,s),s}(r,this._c):[].concat(i),s],h=c[0],f=c.reduce((t,i)=>{let s=ehe(r,i,u);return t.top=ecp(s.top,t.top),t.right=ecf(s.right,t.right),t.bottom=ecf(s.bottom,t.bottom),t.left=ecp(s.left,t.left),t},ehe(r,h,u));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}},getOffsetParent:ehr,getElementRects:ehi,getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){let{width:r,height:i}=ec2(t);return{width:r,height:i}},getScale:ec5,isElement:ecV,isRTL:function(t){return"rtl"===ecQ(t).direction}},eho=t=>({name:"arrow",options:t,async fn(r){let{x:i,y:s,placement:u,rects:c,platform:h,elements:f,middlewareData:p}=r,{element:v,padding:y=0}=ecb(t,r)||{};if(null==v)return{};let x=ecD(y),_={x:i,y:s},b=ecA(ecC(u)),w=ecM(b),S=await h.getDimensions(v),A="y"===b,M=A?"clientHeight":"clientWidth",C=c.reference[w]+c.reference[b]-_[b]-c.floating[w],T=_[b]-c.reference[b],I=await (null==h.getOffsetParent?void 0:h.getOffsetParent(v)),D=I?I[M]:0;(!D||!await (null==h.isElement?void 0:h.isElement(I)))&&(D=f.floating[M]||c.floating[w]);let R=D/2-S[w]/2-1,P=ecf(x[A?"top":"left"],R),L=ecf(x[A?"bottom":"right"],R),B=D-S[w]-L,k=D/2-S[w]/2+(C/2-T/2),O=ecp(P,ecf(k,B)),N=!p.arrow&&null!=ecS(u)&&k!==O&&c.reference[w]/2-(k<P?P:L)-S[w]/2<0,F=N?k<P?k-P:k-B:0;return{[b]:_[b]+F,data:{[b]:O,centerOffset:k-O-F,...N&&{alignmentOffset:F}},reset:N}}}),ehs=(t,r,i)=>{let s=new Map,u={platform:eha,...i},c={...u.platform,_c:s};return ecL(t,r,{...u,platform:c})};var ehl="undefined"!=typeof document?ex.useLayoutEffect:ex.useEffect;function ehu(t,r){let i,s,u;if(t===r)return!0;if(typeof t!=typeof r)return!1;if("function"==typeof t&&t.toString()===r.toString())return!0;if(t&&r&&"object"==typeof t){if(Array.isArray(t)){if((i=t.length)!==r.length)return!1;for(s=i;0!=s--;)if(!ehu(t[s],r[s]))return!1;return!0}if((i=(u=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(s=i;0!=s--;)if(!({}).hasOwnProperty.call(r,u[s]))return!1;for(s=i;0!=s--;){let i=u[s];if("_owner"!==i||!t.$$typeof){if(!ehu(t[i],r[i]))return!1}}return!0}return t!=t&&r!=r}function ehc(t){return"undefined"==typeof window?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ehh(t,r){let i=ehc(t);return Math.round(r*i)/i}function ehd(t){let r=ex.useRef(t);return ehl(()=>{r.current=t}),r}let ehf=t=>({name:"arrow",options:t,fn(r){var i;let{element:s,padding:u}="function"==typeof t?t(r):t;if(s&&(i=s,({}).hasOwnProperty.call(i,"current")))return null!=s.current?eho({element:s.current,padding:u}).fn(r):{};return s?eho({element:s,padding:u}).fn(r):{}}}),ehp=(t,r)=>({...function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(r){var i,s;let{x:u,y:c,placement:h,middlewareData:f}=r,p=await ecN(r,t);return h===(null==(i=f.offset)?void 0:i.placement)&&null!=(s=f.arrow)&&s.alignmentOffset?{}:{x:u+p.x,y:c+p.y,data:{...p,placement:h}}}}}(t),options:[t,r]}),ehg=(t,r)=>({...function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(r){let{x:i,y:s,placement:u}=r,{mainAxis:c=!0,crossAxis:h=!1,limiter:f={fn:t=>{let{x:r,y:i}=t;return{x:r,y:i}}},...p}=ecb(t,r),v={x:i,y:s},y=await ecB(r,p),x=ecC(ecw(u)),_=ecA(x),b=v[_],w=v[x];if(c){let t="y"===_?"top":"left",r="y"===_?"bottom":"right",i=b+y[t],s=b-y[r];b=ecp(i,ecf(b,s))}if(h){let t="y"===x?"top":"left",r="y"===x?"bottom":"right",i=w+y[t],s=w-y[r];w=ecp(i,ecf(w,s))}let S=f.fn({...r,[_]:b,[x]:w});return{...S,data:{x:S.x-i,y:S.y-s,enabled:{[_]:c,[x]:h}}}}}}(t),options:[t,r]}),ehm=(t,r)=>({...function(t){return void 0===t&&(t={}),{options:t,fn(r){let{x:i,y:s,placement:u,rects:c,middlewareData:h}=r,{offset:f=0,mainAxis:p=!0,crossAxis:v=!0}=ecb(t,r),y={x:i,y:s},x=ecC(u),_=ecA(x),b=y[_],w=y[x],S=ecb(f,r),A="number"==typeof S?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(p){let t="y"===_?"height":"width",r=c.reference[_]-c.floating[t]+A.mainAxis,i=c.reference[_]+c.reference[t]-A.mainAxis;b<r?b=r:b>i&&(b=i)}if(v){var M,C;let t="y"===_?"width":"height",r=["top","left"].includes(ecw(u)),i=c.reference[x]-c.floating[t]+(r&&(null==(M=h.offset)?void 0:M[x])||0)+(r?0:A.crossAxis),s=c.reference[x]+c.reference[t]+(r?0:(null==(C=h.offset)?void 0:C[x])||0)-(r?A.crossAxis:0);w<i?w=i:w>s&&(w=s)}return{[_]:b,[x]:w}}}}(t),options:[t,r]}),ehv=(t,r)=>({...function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(r){var i,s,u,c,h;let{placement:f,middlewareData:p,rects:v,initialPlacement:y,platform:x,elements:_}=r,{mainAxis:b=!0,crossAxis:w=!0,fallbackPlacements:S,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:C=!0,...T}=ecb(t,r);if(null!=(i=p.arrow)&&i.alignmentOffset)return{};let I=ecw(f),D=ecC(y),R=ecw(y)===y,P=await (null==x.isRTL?void 0:x.isRTL(_.floating)),L=S||(R||!C?[ecI(y)]:function(t){let r=ecI(t);return[ecE(t),r,ecE(r)]}(y)),B="none"!==M;!S&&B&&L.push(...function(t,r,i,s){let u=ecS(t),c=function(t,r,i){let s=["left","right"],u=["right","left"];switch(t){case"top":case"bottom":if(i)return r?u:s;return r?s:u;case"left":case"right":return r?["top","bottom"]:["bottom","top"];default:return[]}}(ecw(t),"start"===i,s);return u&&(c=c.map(t=>t+"-"+u),r&&(c=c.concat(c.map(ecE)))),c}(y,C,M,P));let k=[y,...L],O=await ecB(r,T),N=[],F=(null==(s=p.flip)?void 0:s.overflows)||[];if(b&&N.push(O[I]),w){let t=function(t,r,i){void 0===i&&(i=!1);let s=ecS(t),u=ecA(ecC(t)),c=ecM(u),h="x"===u?s===(i?"end":"start")?"right":"left":"start"===s?"bottom":"top";return r.reference[c]>r.floating[c]&&(h=ecI(h)),[h,ecI(h)]}(f,v,P);N.push(O[t[0]],O[t[1]])}if(F=[...F,{placement:f,overflows:N}],!N.every(t=>t<=0)){let t=((null==(u=p.flip)?void 0:u.index)||0)+1,r=k[t];if(r)return{data:{index:t,overflows:F},reset:{placement:r}};let i=null==(c=F.filter(t=>t.overflows[0]<=0).sort((t,r)=>t.overflows[1]-r.overflows[1])[0])?void 0:c.placement;if(!i)switch(A){case"bestFit":{let t=null==(h=F.filter(t=>{if(B){let r=ecC(t.placement);return r===D||"y"===r}return!0}).map(t=>[t.placement,t.overflows.filter(t=>t>0).reduce((t,r)=>t+r,0)]).sort((t,r)=>t[1]-r[1])[0])?void 0:h[0];t&&(i=t);break}case"initialPlacement":i=y}if(f!==i)return{reset:{placement:i}}}return{}}}}(t),options:[t,r]}),ehy=(t,r)=>({...function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(r){var i,s;let u,c;let{placement:h,rects:f,platform:p,elements:v}=r,{apply:y=()=>{},...x}=ecb(t,r),_=await ecB(r,x),b=ecw(h),w=ecS(h),S="y"===ecC(h),{width:A,height:M}=f.floating;"top"===b||"bottom"===b?(u=b,c=w===(await (null==p.isRTL?void 0:p.isRTL(v.floating))?"start":"end")?"left":"right"):(c=b,u="end"===w?"top":"bottom");let C=M-_.top-_.bottom,T=A-_.left-_.right,I=ecf(M-_[u],C),D=ecf(A-_[c],T),R=!r.middlewareData.shift,P=I,L=D;if(null!=(i=r.middlewareData.shift)&&i.enabled.x&&(L=T),null!=(s=r.middlewareData.shift)&&s.enabled.y&&(P=C),R&&!w){let t=ecp(_.left,0),r=ecp(_.right,0),i=ecp(_.top,0),s=ecp(_.bottom,0);S?L=A-2*(0!==t||0!==r?t+r:ecp(_.left,_.right)):P=M-2*(0!==i||0!==s?i+s:ecp(_.top,_.bottom))}await y({...r,availableWidth:L,availableHeight:P});let B=await p.getDimensions(v.floating);return A!==B.width||M!==B.height?{reset:{rects:!0}}:{}}}}(t),options:[t,r]}),ehx=(t,r)=>({...function(t){return void 0===t&&(t={}),{name:"hide",options:t,async fn(r){let{rects:i}=r,{strategy:s="referenceHidden",...u}=ecb(t,r);switch(s){case"referenceHidden":{let t=eck(await ecB(r,{...u,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:ecO(t)}}}case"escaped":{let t=eck(await ecB(r,{...u,altBoundary:!0}),i.floating);return{data:{escapedOffsets:t,escaped:ecO(t)}}}default:return{}}}}}(t),options:[t,r]}),eh_=(t,r)=>({...ehf(t),options:[t,r]});var ehb=ex.forwardRef((t,r)=>{let{children:i,width:s=10,height:u=5,...c}=t;return(0,ev.jsx)(ecn.svg,{...c,ref:r,width:s,height:u,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?i:(0,ev.jsx)("polygon",{points:"0,0 30,0 15,10"})})});ehb.displayName="Arrow";var ehw="Popper",[ehS,ehA]=function(t,r=[]){let i=[],s=()=>{let r=i.map(t=>ex.createContext(t));return function(i){let s=i?.[t]||r;return ex.useMemo(()=>({[`__scope${t}`]:{...i,[t]:s}}),[i,s])}};return s.scopeName=t,[function(r,s){let u=ex.createContext(s),c=i.length;function h(r){let{scope:i,children:s,...h}=r,f=i?.[t][c]||u,p=ex.useMemo(()=>h,Object.values(h));return(0,ev.jsx)(f.Provider,{value:p,children:s})}return i=[...i,s],h.displayName=r+"Provider",[h,function(i,h){let f=h?.[t][c]||u,p=ex.useContext(f);if(p)return p;if(void 0!==s)return s;throw Error(`\`${i}\` must be used within \`${r}\``)}]},function(...t){let r=t[0];if(1===t.length)return r;let i=()=>{let i=t.map(t=>({useScope:t(),scopeName:t.scopeName}));return function(t){let s=i.reduce((r,{useScope:i,scopeName:s})=>{let u=i(t)[`__scope${s}`];return{...r,...u}},{});return ex.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return i.scopeName=r.scopeName,i}(s,...r)]}(ehw),[ehM,ehC]=ehS(ehw),ehT=t=>{let{__scopePopper:r,children:i}=t,[s,u]=ex.useState(null);return(0,ev.jsx)(ehM,{scope:r,anchor:s,onAnchorChange:u,children:i})};ehT.displayName=ehw;var ehE="PopperAnchor",ehI=ex.forwardRef((t,r)=>{let{__scopePopper:i,virtualRef:s,...u}=t,c=ehC(ehE,i),h=ex.useRef(null),f=eu8(r,h);return ex.useEffect(()=>{c.onAnchorChange(s?.current||h.current)}),s?null:(0,ev.jsx)(ecn.div,{...u,ref:f})});ehI.displayName=ehE;var ehD="PopperContent",[ehR,ehP]=ehS(ehD),ehL=ex.forwardRef((t,r)=>{let{__scopePopper:i,side:s="bottom",sideOffset:u=0,align:c="center",alignOffset:h=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:v=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:_=!1,updatePositionStrategy:b="optimized",onPlaced:w,...S}=t,A=ehC(ehD,i),[M,C]=ex.useState(null),T=eu8(r,t=>C(t)),[I,D]=ex.useState(null),R=function(t){let[r,i]=ex.useState(void 0);return ecu(()=>{if(t){i({width:t.offsetWidth,height:t.offsetHeight});let r=new ResizeObserver(r=>{let s,u;if(!Array.isArray(r)||!r.length)return;let c=r[0];if("borderBoxSize"in c){let t=c.borderBoxSize,r=Array.isArray(t)?t[0]:t;s=r.inlineSize,u=r.blockSize}else s=t.offsetWidth,u=t.offsetHeight;i({width:s,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}i(void 0)},[t]),r}(I),P=R?.width??0,L=R?.height??0,B="number"==typeof y?y:{top:0,right:0,bottom:0,left:0,...y},k=Array.isArray(v)?v:[v],O=k.length>0,N={padding:B,boundary:k.filter(ehN),altBoundary:O},{refs:F,floatingStyles:U,placement:z,isPositioned:G,middlewareData:H}=function(t){void 0===t&&(t={});let{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:u,elements:{reference:c,floating:h}={},transform:f=!0,whileElementsMounted:p,open:v}=t,[y,x]=ex.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),[_,b]=ex.useState(s);!ehu(_,s)&&b(s);let[w,S]=ex.useState(null),[A,M]=ex.useState(null),C=ex.useCallback(t=>{t!==R.current&&(R.current=t,S(t))},[]),T=ex.useCallback(t=>{t!==P.current&&(P.current=t,M(t))},[]),I=c||w,D=h||A,R=ex.useRef(null),P=ex.useRef(null),L=ex.useRef(y),B=null!=p,k=ehd(p),O=ehd(u),N=ehd(v),F=ex.useCallback(()=>{if(!R.current||!P.current)return;let t={placement:r,strategy:i,middleware:_};O.current&&(t.platform=O.current),ehs(R.current,P.current,t).then(t=>{let r={...t,isPositioned:!1!==N.current};U.current&&!ehu(L.current,r)&&(L.current=r,wM.flushSync(()=>{x(r)}))})},[_,r,i,O,N]);ehl(()=>{!1===v&&L.current.isPositioned&&(L.current.isPositioned=!1,x(t=>({...t,isPositioned:!1})))},[v]);let U=ex.useRef(!1);ehl(()=>(U.current=!0,()=>{U.current=!1}),[]),ehl(()=>{if(I&&(R.current=I),D&&(P.current=D),I&&D){if(k.current)return k.current(I,D,F);F()}},[I,D,F,k,B]);let z=ex.useMemo(()=>({reference:R,floating:P,setReference:C,setFloating:T}),[C,T]),G=ex.useMemo(()=>({reference:I,floating:D}),[I,D]),H=ex.useMemo(()=>{let t={position:i,left:0,top:0};if(!G.floating)return t;let r=ehh(G.floating,y.x),s=ehh(G.floating,y.y);return f?{...t,transform:"translate("+r+"px, "+s+"px)",...ehc(G.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:r,top:s}},[i,f,G.floating,y.x,y.y]);return ex.useMemo(()=>({...y,update:F,refs:z,elements:G,floatingStyles:H}),[y,F,z,G,H])}({strategy:"fixed",placement:s+("center"!==c?"-"+c:""),whileElementsMounted:(...t)=>(function(t,r,i,s){let u;void 0===s&&(s={});let{ancestorScroll:c=!0,ancestorResize:h=!0,elementResize:f="function"==typeof ResizeObserver,layoutShift:p="function"==typeof IntersectionObserver,animationFrame:v=!1}=s,y=ec3(t),x=c||h?[...y?ec0(y):[],...ec0(r)]:[];x.forEach(t=>{c&&t.addEventListener("scroll",i,{passive:!0}),h&&t.addEventListener("resize",i)});let _=y&&p?function(t,r){let i,s=null,u=ecG(t);function c(){var t;clearTimeout(i),null==(t=s)||t.disconnect(),s=null}return!function h(f,p){void 0===f&&(f=!1),void 0===p&&(p=1),c();let{left:v,top:y,width:x,height:_}=t.getBoundingClientRect();if(!f&&r(),!x||!_)return;let b=ecm(y),w=ecm(u.clientWidth-(v+x)),S=ecm(u.clientHeight-(y+_)),A=ecm(v),M={rootMargin:-b+"px "+-w+"px "+-S+"px "+-A+"px",threshold:ecp(0,ecf(1,p))||1},C=!0;function T(t){let r=t[0].intersectionRatio;if(r!==p){if(!C)return h();r?h(!1,r):i=setTimeout(()=>{h(!1,1e-7)},1e3)}C=!1}try{s=new IntersectionObserver(T,{...M,root:u.ownerDocument})}catch(t){s=new IntersectionObserver(T,M)}s.observe(t)}(!0),c}(y,i):null,b=-1,w=null;f&&(w=new ResizeObserver(t=>{let[s]=t;s&&s.target===y&&w&&(w.unobserve(r),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var t;null==(t=w)||t.observe(r)})),i()}),y&&!v&&w.observe(y),w.observe(r));let S=v?ec8(t):null;return v&&function r(){let s=ec8(t);S&&(s.x!==S.x||s.y!==S.y||s.width!==S.width||s.height!==S.height)&&i(),S=s,u=requestAnimationFrame(r)}(),i(),()=>{var t;x.forEach(t=>{c&&t.removeEventListener("scroll",i),h&&t.removeEventListener("resize",i)}),null==_||_(),null==(t=w)||t.disconnect(),w=null,v&&cancelAnimationFrame(u)}})(...t,{animationFrame:"always"===b}),elements:{reference:A.anchor},middleware:[ehp({mainAxis:u+L,alignmentAxis:h}),p&&ehg({mainAxis:!0,crossAxis:!1,limiter:"partial"===x?ehm():void 0,...N}),p&&ehv({...N}),ehy({...N,apply:({elements:t,rects:r,availableWidth:i,availableHeight:s})=>{let{width:u,height:c}=r.reference,h=t.floating.style;h.setProperty("--radix-popper-available-width",`${i}px`),h.setProperty("--radix-popper-available-height",`${s}px`),h.setProperty("--radix-popper-anchor-width",`${u}px`),h.setProperty("--radix-popper-anchor-height",`${c}px`)}}),I&&eh_({element:I,padding:f}),ehF({arrowWidth:P,arrowHeight:L}),_&&ehx({strategy:"referenceHidden",...N})]}),[V,j]=ehU(z),W=ecr(w);ecu(()=>{G&&W?.()},[G,W]);let X=H.arrow?.x,Y=H.arrow?.y,Z=H.arrow?.centerOffset!==0,[K,J]=ex.useState();return ecu(()=>{M&&J(window.getComputedStyle(M).zIndex)},[M]),(0,ev.jsx)("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:G?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:(0,ev.jsx)(ehR,{scope:i,placedSide:V,onArrowChange:D,arrowX:X,arrowY:Y,shouldHideArrow:Z,children:(0,ev.jsx)(ecn.div,{"data-side":V,"data-align":j,...S,ref:T,style:{...S.style,animation:G?void 0:"none"}})})})});ehL.displayName=ehD;var ehB="PopperArrow",ehk={top:"bottom",right:"left",bottom:"top",left:"right"},ehO=ex.forwardRef(function(t,r){let{__scopePopper:i,...s}=t,u=ehP(ehB,i),c=ehk[u.placedSide];return(0,ev.jsx)("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:(0,ev.jsx)(ehb,{...s,ref:r,style:{...s.style,display:"block"}})})});function ehN(t){return null!==t}ehO.displayName=ehB;var ehF=t=>({name:"transformOrigin",options:t,fn(r){let{placement:i,rects:s,middlewareData:u}=r,c=u.arrow?.centerOffset!==0,h=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[p,v]=ehU(i),y={start:"0%",center:"50%",end:"100%"}[v],x=(u.arrow?.x??0)+h/2,_=(u.arrow?.y??0)+f/2,b="",w="";return"bottom"===p?(b=c?y:`${x}px`,w=`${-f}px`):"top"===p?(b=c?y:`${x}px`,w=`${s.floating.height+f}px`):"right"===p?(b=`${-f}px`,w=c?y:`${_}px`):"left"===p&&(b=`${s.floating.width+f}px`,w=c?y:`${_}px`),{data:{x:b,y:w}}}});function ehU(t){let[r,i="center"]=t.split("-");return[r,i]}var ehz=t=>{let{present:r,children:i}=t,s=function(t){var r,i;let[s,u]=ex.useState(),c=ex.useRef({}),h=ex.useRef(t),f=ex.useRef("none");let[p,v]=(r=t?"mounted":"unmounted",i={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},ex.useReducer((t,r)=>i[t][r]??t,r));return ex.useEffect(()=>{let t=ehG(c.current);f.current="mounted"===p?t:"none"},[p]),ecu(()=>{let r=c.current,i=h.current;if(i!==t){let s=f.current,u=ehG(r);t?v("MOUNT"):"none"===u||r?.display==="none"?v("UNMOUNT"):i&&s!==u?v("ANIMATION_OUT"):v("UNMOUNT"),h.current=t}},[t,v]),ecu(()=>{if(s){let t;let r=s.ownerDocument.defaultView??window,i=i=>{let u=ehG(c.current).includes(i.animationName);if(i.target===s&&u&&(v("ANIMATION_END"),!h.current)){let i=s.style.animationFillMode;s.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=i)})}},u=t=>{t.target===s&&(f.current=ehG(c.current))};return s.addEventListener("animationstart",u),s.addEventListener("animationcancel",i),s.addEventListener("animationend",i),()=>{r.clearTimeout(t),s.removeEventListener("animationstart",u),s.removeEventListener("animationcancel",i),s.removeEventListener("animationend",i)}}v("ANIMATION_END")},[s,v]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:ex.useCallback(t=>{t&&(c.current=getComputedStyle(t)),u(t)},[])}}(r),u="function"==typeof i?i({present:s.isPresent}):ex.Children.only(i),c=eu8(s.ref,function(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(i=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref}(u));return"function"==typeof i||s.isPresent?ex.cloneElement(u,{ref:c}):null};ehz.displayName="Presence";function ehG(t){return t?.animationName||"none"}var ehH=ex.forwardRef((t,r)=>(0,ev.jsx)(ecn.span,{...t,ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ehH.displayName="VisuallyHidden";var[ehV,ehj]=function(t,r=[]){let i=[],s=()=>{let r=i.map(t=>ex.createContext(t));return function(i){let s=i?.[t]||r;return ex.useMemo(()=>({[`__scope${t}`]:{...i,[t]:s}}),[i,s])}};return s.scopeName=t,[function(r,s){let u=ex.createContext(s),c=i.length;i=[...i,s];let h=r=>{let{scope:i,children:s,...h}=r,f=i?.[t]?.[c]||u,p=ex.useMemo(()=>h,Object.values(h));return(0,ev.jsx)(f.Provider,{value:p,children:s})};return h.displayName=r+"Provider",[h,function(i,h){let f=h?.[t]?.[c]||u,p=ex.useContext(f);if(p)return p;if(void 0!==s)return s;throw Error(`\`${i}\` must be used within \`${r}\``)}]},function(...t){let r=t[0];if(1===t.length)return r;let i=()=>{let i=t.map(t=>({useScope:t(),scopeName:t.scopeName}));return function(t){let s=i.reduce((r,{useScope:i,scopeName:s})=>{let u=i(t)[`__scope${s}`];return{...r,...u}},{});return ex.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return i.scopeName=r.scopeName,i}(s,...r)]}("Tooltip",[ehA]),ehW=ehA(),ehX="TooltipProvider",ehY="tooltip.open",[ehZ,ehK]=ehV(ehX);var ehJ="Tooltip",[ehQ,ehq]=ehV(ehJ),eh$=t=>{let{__scopeTooltip:r,children:i,open:s,defaultOpen:u=!1,onOpenChange:c,disableHoverableContent:h,delayDuration:f}=t,p=ehK(ehJ,t.__scopeTooltip),v=ehW(r),[y,x]=ex.useState(null),_=function(t){let[r,i]=ex.useState(ecc());return ecu(()=>{i(t=>t??String(ech++))},[t]),t||(r?`radix-${r}`:"")}(),b=ex.useRef(0),w=h??p.disableHoverableContent,S=f??p.delayDuration,A=ex.useRef(!1),[M=!1,C]=function({prop:t,defaultProp:r,onChange:i=()=>{}}){let[s,u]=function({defaultProp:t,onChange:r}){let i=ex.useState(t),[s]=i,u=ex.useRef(s),c=ecr(r);return ex.useEffect(()=>{u.current!==s&&(c(s),u.current=s)},[s,u,c]),i}({defaultProp:r,onChange:i}),c=void 0!==t,h=c?t:s,f=ecr(i);return[h,ex.useCallback(r=>{if(c){let i="function"==typeof r?r(t):r;i!==t&&f(i)}else u(r)},[c,t,u,f])]}({prop:s,defaultProp:u,onChange:t=>{t?(p.onOpen(),document.dispatchEvent(new CustomEvent(ehY))):p.onClose(),c?.(t)}}),T=ex.useMemo(()=>M?A.current?"delayed-open":"instant-open":"closed",[M]),I=ex.useCallback(()=>{window.clearTimeout(b.current),b.current=0,A.current=!1,C(!0)},[C]),D=ex.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C(!1)},[C]),R=ex.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{A.current=!0,C(!0),b.current=0},S)},[S,C]);return ex.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),(0,ev.jsx)(ehT,{...v,children:(0,ev.jsx)(ehQ,{scope:r,contentId:_,open:M,stateAttribute:T,trigger:y,onTriggerChange:x,onTriggerEnter:ex.useCallback(()=>{p.isOpenDelayed?R():I()},[p.isOpenDelayed,R,I]),onTriggerLeave:ex.useCallback(()=>{w?D():(window.clearTimeout(b.current),b.current=0)},[D,w]),onOpen:I,onClose:D,disableHoverableContent:w,children:i})})};eh$.displayName=ehJ;var eh0="TooltipTrigger",eh1=ex.forwardRef((t,r)=>{let{__scopeTooltip:i,...s}=t,u=ehq(eh0,i),c=ehK(eh0,i),h=ehW(i),f=eu8(r,ex.useRef(null),u.onTriggerChange),p=ex.useRef(!1),v=ex.useRef(!1),y=ex.useCallback(()=>p.current=!1,[]);return ex.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),(0,ev.jsx)(ehI,{asChild:!0,...h,children:(0,ev.jsx)(ecn.button,{"aria-describedby":u.open?u.contentId:void 0,"data-state":u.stateAttribute,...s,ref:f,onPointerMove:eu4(t.onPointerMove,t=>{"touch"!==t.pointerType&&!v.current&&!c.isPointerInTransitRef.current&&(u.onTriggerEnter(),v.current=!0)}),onPointerLeave:eu4(t.onPointerLeave,()=>{u.onTriggerLeave(),v.current=!1}),onPointerDown:eu4(t.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:eu4(t.onFocus,()=>{!p.current&&u.onOpen()}),onBlur:eu4(t.onBlur,u.onClose),onClick:eu4(t.onClick,u.onClose)})})});eh1.displayName=eh0;var eh2="TooltipPortal",[eh3,eh5]=ehV(eh2,{forceMount:void 0});var eh4="TooltipContent",eh9=ex.forwardRef((t,r)=>{let i=eh5(eh4,t.__scopeTooltip),{forceMount:s=i.forceMount,side:u="top",...c}=t,h=ehq(eh4,t.__scopeTooltip);return(0,ev.jsx)(ehz,{present:s||h.open,children:h.disableHoverableContent?(0,ev.jsx)(ede,{side:u,...c,ref:r}):(0,ev.jsx)(eh8,{side:u,...c,ref:r})})}),eh8=ex.forwardRef((t,r)=>{let i=ehq(eh4,t.__scopeTooltip),s=ehK(eh4,t.__scopeTooltip),u=ex.useRef(null),c=eu8(r,u),[h,f]=ex.useState(null),{trigger:p,onClose:v}=i,y=u.current,{onPointerInTransitChange:x}=s,_=ex.useCallback(()=>{f(null),x(!1)},[x]),b=ex.useCallback((t,r)=>{let i=t.currentTarget,s={x:t.clientX,y:t.clientY},u=function(t,r){let i=Math.abs(r.top-t.y),s=Math.abs(r.bottom-t.y),u=Math.abs(r.right-t.x),c=Math.abs(r.left-t.x);switch(Math.min(i,s,u,c)){case c:return"left";case u:return"right";case i:return"top";case s:return"bottom";default:throw Error("unreachable")}}(s,i.getBoundingClientRect()),c=function(t,r,i=5){let s=[];switch(r){case"top":s.push({x:t.x-i,y:t.y+i},{x:t.x+i,y:t.y+i});break;case"bottom":s.push({x:t.x-i,y:t.y-i},{x:t.x+i,y:t.y-i});break;case"left":s.push({x:t.x+i,y:t.y-i},{x:t.x+i,y:t.y+i});break;case"right":s.push({x:t.x-i,y:t.y-i},{x:t.x-i,y:t.y+i})}return s}(s,u);f(function(t){let r=t.slice();return r.sort((t,r)=>{if(t.x<r.x)return -1;if(t.x>r.x)return 1;if(t.y<r.y)return -1;else if(t.y>r.y)return 1;else return 0}),function(t){if(t.length<=1)return t.slice();let r=[];for(let i=0;i<t.length;i++){let s=t[i];for(;r.length>=2;){let t=r[r.length-1],i=r[r.length-2];if((t.x-i.x)*(s.y-i.y)>=(t.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}r.pop();let i=[];for(let r=t.length-1;r>=0;r--){let s=t[r];for(;i.length>=2;){let t=i[i.length-1],r=i[i.length-2];if((t.x-r.x)*(s.y-r.y)>=(t.y-r.y)*(s.x-r.x))i.pop();else break}i.push(s)}return(i.pop(),1===r.length&&1===i.length&&r[0].x===i[0].x&&r[0].y===i[0].y)?r:r.concat(i)}(r)}([...c,...function(t){let{top:r,right:i,bottom:s,left:u}=t;return[{x:u,y:r},{x:i,y:r},{x:i,y:s},{x:u,y:s}]}(r.getBoundingClientRect())])),x(!0)},[x]);return ex.useEffect(()=>()=>_(),[_]),ex.useEffect(()=>{if(p&&y){let t=t=>b(t,y),r=t=>b(t,p);return p.addEventListener("pointerleave",t),y.addEventListener("pointerleave",r),()=>{p.removeEventListener("pointerleave",t),y.removeEventListener("pointerleave",r)}}},[p,y,b,_]),ex.useEffect(()=>{if(h){let t=t=>{let r=t.target,i={x:t.clientX,y:t.clientY},s=p?.contains(r)||y?.contains(r),u=!function(t,r){let{x:i,y:s}=t,u=!1;for(let t=0,c=r.length-1;t<r.length;c=t++){let h=r[t].x,f=r[t].y,p=r[c].x,v=r[c].y;f>s!=v>s&&i<(p-h)*(s-f)/(v-f)+h&&(u=!u)}return u}(i,h);s?_():u&&(_(),v())};return document.addEventListener("pointermove",t),()=>document.removeEventListener("pointermove",t)}},[p,y,h,v,_]),(0,ev.jsx)(ede,{...t,ref:c})}),[eh6,eh7]=ehV(ehJ,{isInside:!1}),ede=ex.forwardRef((t,r)=>{let{__scopeTooltip:i,children:s,"aria-label":u,onEscapeKeyDown:c,onPointerDownOutside:h,...f}=t,p=ehq(eh4,i),v=ehW(i),{onClose:y}=p;return ex.useEffect(()=>(document.addEventListener(ehY,y),()=>document.removeEventListener(ehY,y)),[y]),ex.useEffect(()=>{if(p.trigger){let t=t=>{let r=t.target;r?.contains(p.trigger)&&y()};return window.addEventListener("scroll",t,{capture:!0}),()=>window.removeEventListener("scroll",t,{capture:!0})}},[p.trigger,y]),(0,ev.jsx)(eco,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:t=>t.preventDefault(),onDismiss:y,children:(0,ev.jsxs)(ehL,{"data-state":p.stateAttribute,...v,...f,ref:r,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,ev.jsx)(ece,{children:s}),(0,ev.jsx)(eh6,{scope:i,isInside:!0,children:(0,ev.jsx)(ehH,{id:p.contentId,role:"tooltip",children:u||s})})]})})});eh9.displayName=eh4;var edt="TooltipArrow",edn=ex.forwardRef((t,r)=>{let{__scopeTooltip:i,...s}=t,u=ehW(i);return eh7(edt,i).isInside?null:(0,ev.jsx)(ehO,{...u,...s,ref:r})});edn.displayName=edt;function edr(t,r){if(null==t)return{};var i,s,u=function(t,r){if(null==t)return{};var i,s,u={},c=Object.keys(t);for(s=0;s<c.length;s++)i=c[s],!(r.indexOf(i)>=0)&&(u[i]=t[i]);return u}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++){if(i=c[s],!(r.indexOf(i)>=0))Object.prototype.propertyIsEnumerable.call(t,i)&&(u[i]=t[i])}}return u}!function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"}(Z||(Z={}));let edi={[Z.UNSUPPORTED_INPUT]:(t,r)=>[`An input with type \`${t}\` input was found at path \`${r}\` but it's not supported yet.`],[Z.NO_COMPONENT_FOR_TYPE]:(t,r)=>[`Type \`${t}\` found at path \`${r}\` can't be displayed in panel because no component supports it yet.`],[Z.UNKNOWN_INPUT]:(t,r)=>[`input at path \`${t}\` is not recognized.`,r],[Z.DUPLICATE_KEYS]:(t,r,i)=>[`Key \`${t}\` of path \`${r}\` already exists at path \`${i}\`. Even nested keys need to be unique. Rename one of the keys.`],[Z.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[Z.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[Z.THEME_ERROR]:(t,r)=>[`Error accessing the theme \`${t}.${r}\` value.`],[Z.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[Z.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[Z.INPUT_TYPE_OVERRIDE]:(t,r,i)=>[`Input at path \`${t}\` already exists with type: \`${r}\`. Its type cannot be overridden with type \`${i}\`.`],[Z.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function eda(t,r,...i){let[s,...u]=edi[r](...i);console[t]("LEVA: "+s,...u)}let edo=eda.bind(null,"warn"),eds=eda.bind(null,"log"),edl=["value"],edu=["schema"],edc=["value"],edh=[],edd={};function edf(t){let{value:r}=t,i=edr(t,edl);for(let t of edh){let s=t(r,i);if(s)return s}}function edp(t,r){let{schema:i}=r,s=edr(r,edu);if(t in edd){edo(Z.ALREADY_REGISTERED_TYPE,t);return}edh.push((r,s)=>i(r,s)&&t),edd[t]=s}let edg=()=>"__CUSTOM__PLUGIN__"+Math.random().toString(36).substr(2,9);function edm(t){return t}function edv(t,r,i,s){let{normalize:u}=edd[t];if(u)return u(r,i,s);if("object"!=typeof r||!("value"in r))return{value:r};let{value:c}=r;return{value:c,settings:edr(r,edc)}}function edy(t,r,i){let{format:s}=edd[t];return s?s(r,i):r}function edx(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,s)}return i}function ed_(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?edx(Object(i),!0).forEach(function(r){var s,u,c;s=t,u=r,c=i[r],u in s?Object.defineProperty(s,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[u]=c}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):edx(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}let edb=(t,r,i)=>t>i?i:t<r?r:t,edw=t=>{if(""===t||"number"==typeof t)return t;try{let r=function t(r){if(isNaN(Number(r))){if(edE.test(r)){let i=r.replace(edE,(r,i)=>String(t(i)));return t(i)}if(edI.test(r))return t(r.replace(edI,(t,r,i)=>String(Math.pow(Number(r),Number(i)))));else if(edD.test(r))return t(r.replace(edD,(t,r,i)=>String(Number(r)*Number(i))));else if(edR.test(r))return t(r.replace(edR,(t,r,i)=>{if(0!=i)return String(Number(r)/Number(i));throw Error("Division by zero")}));else if(edP.test(r))return t(r.replace(edP,(t,r,i)=>String(Number(r)+Number(i))));else if(edL.test(r))return t(r.replace(edL,(t,r,i)=>String(Number(r)-Number(i))))}return Number(r)}(t);if(!isNaN(r))return r}catch(t){}return parseFloat(t)},edS=Math.log(10);function edA(t){let r=Math.abs(+String(t).replace(".",""));if(0===r)return .01;for(;0!==r&&r%10==0;)r/=10;return Math.max(Math.pow(10,Math.floor(Math.log10(Math.abs(t)))-(Math.floor(Math.log(r)/edS)+1)),.001)}let edM=(t,r,i)=>i===r?0:(edb(t,r,i)-r)/(i-r),edC=(t,r,i)=>t*(i-r)+r,edT=()=>"_"+Math.random().toString(36).substr(2,9),edE=/\(([0-9+\-*/^ .]+)\)/,edI=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,edD=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,edR=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,edP=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,edL=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function edB(t){return"[object Object]"===Object.prototype.toString.call(t)}let edk=t=>edB(t)&&0===Object.keys(t).length;!function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"}(K||(K={})),!function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"}(J||(J={}));let edO=["type","__customInput"],edN=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],edF=["type"];function edU(t,r,i,s,u){let{value:c,type:h,settings:f}=t;t.value=edG({type:h,value:c,settings:f},r,i,s),t.fromPanel=u}let edz=function(t,r,i){this.type="LEVA_ERROR",this.message="LEVA: "+t,this.previousValue=r,this.error=i};function edG({type:t,value:r,settings:i},s,u,c){let h;let f="SELECT"!==t&&"function"==typeof s?s(r):s;try{h=function(t,r,i,s,u,c){let{sanitize:h}=edd[t];return h?h(r,i,s,u,c):r}(t,f,i,r,u,c)}catch(t){throw new edz(`The value \`${s}\` did not result in a correct value.`,r,t)}return eo2(h,r)?r:h}let edH=(t,r,i=!1)=>{let s=0;return function(){let u=arguments,c=i&&!s,h=()=>t.apply(this,u);window.clearTimeout(s),s=window.setTimeout(h,r),c&&h()}},edV=t=>t.shiftKey?5:t.altKey?.2:1,edj=["value"],edW=["min","max"],edX=(t,{min:r=-1/0,max:i=1/0,suffix:s})=>{let u=parseFloat(t);if(""===t||isNaN(u))throw Error("Invalid number");let c=edb(u,r,i);return s?c+s:c},edY=t=>{let{value:r}=t,i=edr(t,edj),{min:s=-1/0,max:u=1/0}=i,c=edr(i,edW),h=parseFloat(r),f="string"==typeof r?r.substring((""+h).length):void 0;h=edb(h,s,u);let p=i.step;!p&&(Number.isFinite(s)?p=Number.isFinite(u)?+(Math.abs(u-s)/100).toPrecision(1):+(Math.abs(h-s)/100).toPrecision(1):Number.isFinite(u)&&(p=+(Math.abs(u-h)/100).toPrecision(1)));let v=p?10*edA(p):edA(h);return p=p||v/10,{value:f?h+f:h,settings:ed_({initialValue:h,step:p,pad:Math.round(edb(Math.log10(1/v),0,2)),min:s,max:u,suffix:f},c)}},edZ=(t,{step:r,initialValue:i})=>{let s=Math.round((t-i)/r);return i+s*r};var edK=Object.freeze({__proto__:null,schema:t=>{if("number"==typeof t)return!0;if("string"==typeof t){let r=parseFloat(t);return!isNaN(r)&&t.substring((""+r).length).trim().length<4}return!1},sanitize:edX,format:(t,{pad:r=0,suffix:i})=>{let s=parseFloat(t).toFixed(r);return i?s+i:s},normalize:edY,sanitizeStep:edZ});function edJ(){return(edJ=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}let edQ=(0,ex.createContext)({});function edq(){return(0,ex.useContext)(edQ)}let ed$=(0,ex.createContext)(null),ed0=(0,ex.createContext)(null),ed1=(0,ex.createContext)(null);function ed2(){return(0,ex.useContext)(ed0)}let ed3=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function ed5(t,r){let[i,s]=t.split(" "),u={};return"none"!==i&&(u.boxShadow=`${r.inset?"inset ":""}0 0 0 $borderWidths${[r.key]} $colors${"default"!==i&&i||r.borderColor}`),s&&(u.backgroundColor=s),u}let ed4={$inputStyle:()=>t=>ed5(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>ed5(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>ed5(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>ed5(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ed9,css:ed8,createTheme:ed6,globalCss:ed7,keyframes:efe}=euh({prefix:"leva",theme:ed3(),utils:ed_(ed_({},ed4),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":ed4.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":ed4.$focusStyle()(t)}),$hover:t=>({"&:hover":ed4.$hoverStyle()(t)}),$active:t=>({"&:active":ed4.$activeStyle()(t)})})}),eft=ed7({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function efn(t,r){let{theme:i}=(0,ex.useContext)(ed$);if(!(t in i)||!(r in i[t]))return edo(Z.THEME_ERROR,t,r),"";let s=r;for(;;){let r=i[t][s];if("string"!=typeof r||"$"!==r.charAt(0))return r;s=r.substr(1)}}let efr=ed9("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),efi=ed9("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${efr}`]:{paddingLeft:0}}),efa=ed9(efi,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),efo=ed9("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),efs=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],efl=["onUpdate"];function efu(t){let{innerLabel:r,value:i,onUpdate:s,onChange:u,onKeyDown:c,type:h,id:f,inputType:p="text",rows:v=0}=t,y=edr(t,efs),{id:x,emitOnEditStart:_,emitOnEditEnd:b,disabled:w}=edq(),S=(0,ex.useRef)(null),A=v>0,M=(0,ex.useCallback)(t=>r=>{t(r.currentTarget.value)},[]);ex.useEffect(()=>{let t=S.current,r=M(t=>{s(t),b()});return null==t||t.addEventListener("blur",r),()=>null==t?void 0:t.removeEventListener("blur",r)},[M,s,b]);let C=(0,ex.useCallback)(t=>{"Enter"===t.key&&M(s)(t)},[M,s]),T=Object.assign({as:A?"textarea":"input"},A?{rows:v}:{},y);return ex.createElement(efo,{textArea:A},r&&"string"==typeof r?ex.createElement(efi,null,r):r,ex.createElement(efr,edJ({levaType:h,ref:S,id:f||x,type:p,autoComplete:"off",spellCheck:"false",value:i,onChange:M(u),onFocus:()=>_(),onKeyPress:C,onKeyDown:c,disabled:w},T)))}function efc(t){let{onUpdate:r}=t,i=edr(t,efl),s=(0,ex.useCallback)(t=>r(edw(t)),[r]),u=(0,ex.useCallback)(t=>{let i="ArrowUp"===t.key?1:"ArrowDown"===t.key?-1:0;if(i){t.preventDefault();let s=t.altKey?.1:t.shiftKey?10:1;r(t=>parseFloat(t)+i*s)}},[r]);return ex.createElement(efu,edJ({},i,{onUpdate:s,onKeyDown:u,type:"number"}))}let efh=ed9("div",{}),efd=ed9("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),eff=ed9("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${efd}::after`]:{opacity:.6},[`${efh}:hover > & + ${efd}::after`]:{opacity:.6},[`${efh}:hover > & > svg`]:{opacity:1}}),efp=ed9("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${efh}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),efg=ed9("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${efp} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),efm=ed9(efg,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),efv=ed9("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),efy=ed9("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),efx=ed9("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),ef_=ed9("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${efx}`]:{pointerEvents:"auto"}}}}}),efb=ed9("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),efw=ed9("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),efS=ed9(edn,{fill:"$toolTipBackground"});function efA({children:t}){let{className:r}=(0,ex.useContext)(ed$);return ex.createElement(eo0,{className:r},t)}let efM=["align"];function efC(){let{id:t,disable:r,disabled:i}=edq();return ex.createElement(ex.Fragment,null,ex.createElement(efy,{id:t+"__disable",type:"checkbox",checked:!i,onChange:()=>r(!i)}),ex.createElement("label",{htmlFor:t+"__disable"}))}function efT(t){let{id:r,optional:i,hint:s}=edq(),u=t.htmlFor||(r?{htmlFor:r}:null),c=s||"string"!=typeof t.children?null:{title:t.children};return ex.createElement(ex.Fragment,null,i&&ex.createElement(efC,null),void 0!==s?ex.createElement(eh$,null,ex.createElement(eh1,{asChild:!0},ex.createElement(efx,edJ({},u,t))),ex.createElement(eh9,{side:"top",sideOffset:2},ex.createElement(efw,null,s,ex.createElement(efS,null)))):ex.createElement(efx,edJ({},u,c,t)))}function efE(t){let{align:r}=t,i=edr(t,efM),{value:s,label:u,key:c,disabled:h}=edq(),{hideCopyButton:f}=(0,ex.useContext)(ed1),p=!f&&void 0!==c,[v,y]=(0,ex.useState)(!1),x=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[c]:null!=s?s:""})),y(!0)}catch(t){edo(Z.CLIPBOARD_ERROR,{[c]:s})}};return ex.createElement(efv,{align:r,onPointerLeave:()=>y(!1)},ex.createElement(efT,i),p&&!h&&ex.createElement("div",{title:`Click to copy ${"string"==typeof u?u:c} value`},v?ex.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ex.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),ex.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):ex.createElement("svg",{onClick:x,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ex.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),ex.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}let efI=["toggled"],efD=ed9("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function efR(t){let{toggled:r}=t,i=edr(t,efI);return ex.createElement(efD,edJ({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${r?0:-90}deg)`}},i),ex.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}let efP=["input"];function efL(t){let{input:r}=t,i=edr(t,efP);return r?ex.createElement(efm,i):ex.createElement(efg,i)}function efB({value:t,type:r,settings:i,setValue:s}){let[u,c]=(0,ex.useState)(edy(r,t,i)),h=(0,ex.useRef)(t),f=(0,ex.useRef)(i);f.current=i;let p=(0,ex.useCallback)(t=>c(edy(r,t,f.current)),[r]),v=(0,ex.useCallback)(t=>{try{s(t)}catch(i){let{type:t,previousValue:r}=i;if("LEVA_ERROR"!==t)throw i;p(r)}},[p,s]);return(0,ex.useEffect)(()=>{!eo2(t,h.current)&&p(t),h.current=t},[t,p]),{displayValue:u,onChange:c,onUpdate:v}}function efk(t,r){var i,s,u;let{emitOnEditStart:c,emitOnEditEnd:h}=edq();return i=r=>{r.first&&(document.body.classList.add("leva__panel__dragged"),null==c||c());let i=t(r);return r.last&&(document.body.classList.remove("leva__panel__dragged"),null==h||h()),i},s=r,u=euY,euW.set(u.key,u.engine),euX.set(u.key,u.resolver),eu5({drag:i},s||{},"drag")}function efO(){let t=(0,ex.useRef)(null),r=(0,ex.useRef)({x:0,y:0}),i=(0,ex.useCallback)(i=>{Object.assign(r.current,i),t.current&&(t.current.style.transform=`translate3d(${r.current.x}px, ${r.current.y}px, 0)`)},[]);return[t,i]}let efN=["__refCount"],efF=(t,r)=>t[r]?edr(t[r],efN):null,efU=ed9("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),efz=ed9("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),efG=ed9("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),efH=ed9("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),efV=ed9("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function efj({value:t,min:r,max:i,onDrag:s,step:u,initialValue:c}){let h=(0,ex.useRef)(null),f=(0,ex.useRef)(null),p=(0,ex.useRef)(0),v=efn("sizes","scrubberWidth"),y=efk(({event:y,first:x,xy:[_],movement:[b],memo:w})=>{if(x){let{width:s,left:u}=h.current.getBoundingClientRect();p.current=s-parseFloat(v),w=(null==y?void 0:y.target)===f.current?t:edC((_-u)/s,r,i)}return s(edZ(w+edC(b/p.current,0,i-r),{step:u,initialValue:c})),w}),x=edM(t,r,i);return ex.createElement(efH,edJ({ref:h},y()),ex.createElement(efz,null,ex.createElement(efV,{style:{left:0,right:`${(1-x)*100}%`}})),ex.createElement(efG,{ref:f,style:{left:`calc(${x} * (100% - ${v}))`}}))}let efW=ex.memo(({label:t,onUpdate:r,step:i,innerLabelTrim:s})=>{let[u,c]=(0,ex.useState)(!1),h=efk(({active:t,delta:[s],event:u,memo:h=0})=>(c(t),Math.abs(h+=s/2)>=1&&(r(t=>parseFloat(t)+Math.floor(h)*i*edV(u)),h=0),h));return ex.createElement(efa,edJ({dragging:u,title:t.length>1?t:""},h()),t.slice(0,s))});function efX({label:t,id:r,displayValue:i,onUpdate:s,onChange:u,settings:c,innerLabelTrim:h=1}){let f=h>0&&ex.createElement(efW,{label:t,step:c.step,onUpdate:s,innerLabelTrim:h});return ex.createElement(efc,{id:r,value:String(i),onUpdate:s,onChange:u,innerLabel:f})}let{sanitizeStep:efY}=edK;var efZ=ed_({component:function(){let t=edq(),{label:r,value:i,onUpdate:s,settings:u,id:c}=t,{min:h,max:f}=u,p=f!==1/0&&h!==-1/0;return ex.createElement(efL,{input:!0},ex.createElement(efE,null,r),ex.createElement(efU,{hasRange:p},p&&ex.createElement(efj,edJ({value:parseFloat(i),onDrag:s},u)),ex.createElement(efX,edJ({},t,{id:c,label:"value",innerLabelTrim:p?0:1}))))}},edr(edK,["sanitizeStep"])),efK=Object.freeze({__proto__:null,schema:(t,r)=>est().schema({options:est().passesAnyOf(est().object(),est().array())}).test(r),sanitize:(t,{values:r})=>{if(0>r.indexOf(t))throw Error("Selected value doesn't match Select options");return t},format:(t,{values:r})=>r.indexOf(t),normalize:t=>{let r,i,{value:s,options:u}=t;return Array.isArray(u)?(i=u,r=u.map(t=>String(t))):(i=Object.values(u),r=Object.keys(u)),"value"in t?!i.includes(s)&&(r.unshift(String(s)),i.unshift(s)):s=i[0],!Object.values(u).includes(s)&&(u[String(s)]=s),{value:s,settings:{keys:r,values:i}}}});let efJ=ed9("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),efQ=ed9("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),efq=ed9("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${efQ}:focus + &`]:{$focusStyle:""},[`${efQ}:hover + &`]:{$hoverStyle:""}});function ef$({displayValue:t,value:r,onUpdate:i,id:s,settings:u,disabled:c}){let{keys:h,values:f}=u,p=(0,ex.useRef)();return r===f[t]&&(p.current=h[t]),ex.createElement(efJ,null,ex.createElement(efQ,{id:s,value:t,onChange:t=>i(f[Number(t.currentTarget.value)]),disabled:c},h.map((t,r)=>ex.createElement("option",{key:t,value:r},t))),ex.createElement(efq,null,p.current),ex.createElement(efR,{toggled:!0}))}var ef0=ed_({component:function(){let{label:t,value:r,displayValue:i,onUpdate:s,id:u,disabled:c,settings:h}=edq();return ex.createElement(efL,{input:!0},ex.createElement(efE,null,t),ex.createElement(ef$,{id:u,value:r,displayValue:i,onUpdate:s,settings:h,disabled:c}))}},efK),ef1=Object.freeze({__proto__:null,schema:t=>est().string().test(t),sanitize:t=>{if("string"!=typeof t)throw Error("Invalid string");return t},normalize:({value:t,editable:r=!0,rows:i=!1})=>({value:t,settings:{editable:r,rows:"number"==typeof i?i:i?5:0}})});let ef2=["displayValue","onUpdate","onChange","editable"],ef3=ed9("div",{whiteSpace:"pre-wrap"});function ef5(t){let{displayValue:r,onUpdate:i,onChange:s,editable:u=!0}=t,c=edr(t,ef2);return u?ex.createElement(efu,edJ({value:r,onUpdate:i,onChange:s},c)):ex.createElement(ef3,null,r)}var ef4=ed_({component:function(){let{label:t,settings:r,displayValue:i,onUpdate:s,onChange:u}=edq();return ex.createElement(efL,{input:!0},ex.createElement(efE,null,t),ex.createElement(ef5,edJ({displayValue:i,onUpdate:s,onChange:u},r)))}},ef1),ef9=Object.freeze({__proto__:null,schema:t=>est().boolean().test(t),sanitize:t=>{if("boolean"!=typeof t)throw Error("Invalid boolean");return t}});let ef8=ed9("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function ef6({value:t,onUpdate:r,id:i,disabled:s}){return ex.createElement(ef8,null,ex.createElement("input",{id:i,type:"checkbox",checked:t,onChange:t=>r(t.currentTarget.checked),disabled:s}),ex.createElement("label",{htmlFor:i},ex.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ex.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}var ef7=ed_({component:function(){let{label:t,value:r,onUpdate:i,disabled:s,id:u}=edq();return ex.createElement(efL,{input:!0},ex.createElement(efE,null,t),ex.createElement(ef6,{value:r,onUpdate:i,id:u,disabled:s}))}},ef9);let epe=["locked"];function ept({value:t,id:r,valueKey:i,settings:s,onUpdate:u,innerLabelTrim:c}){let h=(0,ex.useRef)(t[i]);h.current=t[i];let f=(0,ex.useCallback)(t=>u({[i]:edG({type:"NUMBER",value:h.current,settings:s},t)}),[u,s,i]),p=efB({type:"NUMBER",value:t[i],settings:s,setValue:f});return ex.createElement(efX,{id:r,label:i,value:t[i],displayValue:p.displayValue,onUpdate:p.onUpdate,onChange:p.onChange,settings:s,innerLabelTrim:c})}let epn=ed9("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function epr(t){let{locked:r}=t,i=edr(t,epe);return ex.createElement("svg",edJ({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),r?ex.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):ex.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function epi({value:t,onUpdate:r,settings:i,innerLabelTrim:s}){let{id:u,setSettings:c}=edq(),{lock:h,locked:f}=i;return ex.createElement(epn,{withLock:h},h&&ex.createElement(epr,{locked:f,onClick:()=>c({locked:!f})}),Object.keys(t).map((c,h)=>ex.createElement(ept,{id:0===h?u:`${u}.${c}`,key:c,valueKey:c,value:t,settings:i[c],onUpdate:r,innerLabelTrim:s})))}let epa=(t,r)=>{let i={},s=0,u=1/0;for(let c in Object.entries(t).forEach(([t,c])=>{i[t]=edY(ed_({value:c},r[t])).settings,s=Math.max(s,i[t].step),u=Math.min(u,i[t].pad)}),i){let{step:t,min:h,max:f}=r[c]||{};!isFinite(t)&&(!isFinite(h)||!isFinite(f))&&(i[c].step=s,i[c].pad=u)}return i},epo=["lock"],eps=["value"];function epl(t,r,i){var s,u;if((Array.isArray(t)?"array":"object")===r)return t;return"array"===r?Object.values(t):(s=t,u=i,s.reduce((t,r,i)=>Object.assign(t,{[u[i]]:r}),{}))}let epu=(t,r,i)=>{let s=epl(t,"object",r.keys);for(let t in s)s[t]=edX(s[t],r[t]);let u=Object.keys(s),c={};if(u.length===r.keys.length)c=s;else{let t=epl(i,"object",r.keys);if(1===u.length&&r.locked){let r=u[0],i=s[r],h=t[r],f=0!==h?i/h:1;for(let s in t)s===r?c[r]=i:c[s]=t[s]*f}else c=ed_(ed_({},t),s)}return epl(c,r.format,r.keys)},epc=(t,r)=>epl(t,"object",r.keys),eph=t=>!!t&&("step"in t||"min"in t||"max"in t);function epd(t){return{schema:function(t){let r=est().array().length(t).every.number(),i=r=>{if(!r||"object"!=typeof r)return!1;let i=Object.values(r);return i.length===t&&i.every(t=>isFinite(t))};return t=>r.test(t)||i(t)}(t.length),normalize:r=>{let{value:i}=r;return function(t,r,i=[]){let{lock:s=!1}=r,u=edr(r,epo),c=Array.isArray(t)?"array":"object",h="object"===c?Object.keys(t):i,f=epl(t,"object",h),p=epa(f,eph(u)?h.reduce((t,r)=>Object.assign(t,{[r]:u}),{}):u);return{value:"array"===c?t:f,settings:ed_(ed_({},p),{},{format:c,keys:h,lock:s,locked:!1})}}(i,edr(r,eps),t)},format:(t,r)=>epc(t,r),sanitize:(t,r,i)=>epu(t,r,i)}}var epf={grad:.9,turn:360,rad:360/(2*Math.PI)},epp=function(t){return"string"==typeof t?t.length>0:"number"==typeof t},epg=function(t,r,i){return void 0===r&&(r=0),void 0===i&&(i=Math.pow(10,r)),Math.round(i*t)/i+0},epm=function(t,r,i){return void 0===r&&(r=0),void 0===i&&(i=1),t>i?i:t>r?t:r},epv=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},epy=function(t){return{r:epm(t.r,0,255),g:epm(t.g,0,255),b:epm(t.b,0,255),a:epm(t.a)}},epx=function(t){return{r:epg(t.r),g:epg(t.g),b:epg(t.b),a:epg(t.a,3)}},ep_=/^#([0-9a-f]{3,8})$/i,epb=function(t){var r=t.toString(16);return r.length<2?"0"+r:r},epw=function(t){var r=t.r,i=t.g,s=t.b,u=t.a,c=Math.max(r,i,s),h=c-Math.min(r,i,s),f=h?c===r?(i-s)/h:c===i?2+(s-r)/h:4+(r-i)/h:0;return{h:60*(f<0?f+6:f),s:c?h/c*100:0,v:c/255*100,a:u}},epS=function(t){var r=t.h,i=t.s,s=t.v,u=t.a;r=r/360*6,i/=100,s/=100;var c=Math.floor(r),h=s*(1-i),f=s*(1-(r-c)*i),p=s*(1-(1-r+c)*i),v=c%6;return{r:255*[s,f,h,h,p,s][v],g:255*[p,s,s,f,h,h][v],b:255*[h,h,p,s,s,f][v],a:u}},epA=function(t){return{h:epv(t.h),s:epm(t.s,0,100),l:epm(t.l,0,100),a:epm(t.a)}},epM=function(t){return{h:epg(t.h),s:epg(t.s),l:epg(t.l),a:epg(t.a,3)}},epC=function(t){var r,i;return epS((r=t.s,{h:t.h,s:(r*=((i=t.l)<50?i:100-i)/100)>0?2*r/(i+r)*100:0,v:i+r,a:t.a}))},epT=function(t){var r,i,s,u;return{h:(r=epw(t)).h,s:(u=(200-(i=r.s))*(s=r.v)/100)>0&&u<200?i*s/100/(u<=100?u:200-u)*100:0,l:u/2,a:r.a}},epE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,epI=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,epD=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,epR=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,epP={string:[[function(t){var r=ep_.exec(t);return r?(t=r[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?epg(parseInt(t[3]+t[3],16)/255,2):1}:6===t.length||8===t.length?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:8===t.length?epg(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var r=epD.exec(t)||epR.exec(t);return r?r[2]!==r[4]||r[4]!==r[6]?null:epy({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:void 0===r[7]?1:Number(r[7])/(r[8]?100:1)}):null},"rgb"],[function(t){var r,i,s=epE.exec(t)||epI.exec(t);if(!s)return null;return epC(epA({h:(r=s[1],void 0===(i=s[2])&&(i="deg"),Number(r)*(epf[i]||1)),s:Number(s[3]),l:Number(s[4]),a:void 0===s[5]?1:Number(s[5])/(s[6]?100:1)}))},"hsl"]],object:[[function(t){var r=t.r,i=t.g,s=t.b,u=t.a;return epp(r)&&epp(i)&&epp(s)?epy({r:Number(r),g:Number(i),b:Number(s),a:Number(void 0===u?1:u)}):null},"rgb"],[function(t){var r=t.h,i=t.s,s=t.l,u=t.a;return epp(r)&&epp(i)&&epp(s)?epC(epA({h:Number(r),s:Number(i),l:Number(s),a:Number(void 0===u?1:u)})):null},"hsl"],[function(t){var r,i=t.h,s=t.s,u=t.v,c=t.a;if(!epp(i)||!epp(s)||!epp(u))return null;return epS({h:epv((r={h:Number(i),s:Number(s),v:Number(u),a:Number(void 0===c?1:c)}).h),s:epm(r.s,0,100),v:epm(r.v,0,100),a:epm(r.a)})},"hsv"]]},epL=function(t,r){for(var i=0;i<r.length;i++){var s=r[i][0](t);if(s)return[s,r[i][1]]}return[null,void 0]},epB=function(t){return"string"==typeof t?epL(t.trim(),epP.string):"object"==typeof t&&null!==t?epL(t,epP.object):[null,void 0]},epk=function(t,r){var i=epT(t);return{h:i.h,s:epm(i.s+100*r,0,100),l:i.l,a:i.a}},epO=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},epN=function(t,r){var i=epT(t);return{h:i.h,s:i.s,l:epm(i.l+100*r,0,100),a:i.a}},epF=function(){function t(t){this.parsed=epB(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return null!==this.parsed},t.prototype.brightness=function(){return epg(epO(this.rgba),2)},t.prototype.isDark=function(){return .5>epO(this.rgba)},t.prototype.isLight=function(){return epO(this.rgba)>=.5},t.prototype.toHex=function(){var t,r,i,s,u,c;return r=(t=epx(this.rgba)).r,i=t.g,s=t.b,c=(u=t.a)<1?epb(epg(255*u)):"","#"+epb(r)+epb(i)+epb(s)+c},t.prototype.toRgb=function(){return epx(this.rgba)},t.prototype.toRgbString=function(){var t,r,i,s,u;return r=(t=epx(this.rgba)).r,i=t.g,s=t.b,(u=t.a)<1?"rgba("+r+", "+i+", "+s+", "+u+")":"rgb("+r+", "+i+", "+s+")"},t.prototype.toHsl=function(){return epM(epT(this.rgba))},t.prototype.toHslString=function(){var t,r,i,s,u;return r=(t=epM(epT(this.rgba))).h,i=t.s,s=t.l,(u=t.a)<1?"hsla("+r+", "+i+"%, "+s+"%, "+u+")":"hsl("+r+", "+i+"%, "+s+"%)"},t.prototype.toHsv=function(){var t;return{h:epg((t=epw(this.rgba)).h),s:epg(t.s),v:epg(t.v),a:epg(t.a,3)}},t.prototype.invert=function(){var t;return epU({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a})},t.prototype.saturate=function(t){return void 0===t&&(t=.1),epU(epk(this.rgba,t))},t.prototype.desaturate=function(t){return void 0===t&&(t=.1),epU(epk(this.rgba,-t))},t.prototype.grayscale=function(){return epU(epk(this.rgba,-1))},t.prototype.lighten=function(t){return void 0===t&&(t=.1),epU(epN(this.rgba,t))},t.prototype.darken=function(t){return void 0===t&&(t=.1),epU(epN(this.rgba,-t))},t.prototype.rotate=function(t){return void 0===t&&(t=15),this.hue(this.hue()+t)},t.prototype.alpha=function(t){var r;return"number"==typeof t?epU({r:(r=this.rgba).r,g:r.g,b:r.b,a:t}):epg(this.rgba.a,3)},t.prototype.hue=function(t){var r=epT(this.rgba);return"number"==typeof t?epU({h:t,s:r.s,l:r.l,a:r.a}):epg(r.h)},t.prototype.isEqual=function(t){return this.toHex()===epU(t).toHex()},t}(),epU=function(t){return t instanceof epF?t:new epF(t)},epz=[];function epG(){return(epG=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}function epH(t,r){if(null==t)return{};var i,s,u={},c=Object.keys(t);for(s=0;s<c.length;s++)r.indexOf(i=c[s])>=0||(u[i]=t[i]);return u}function epV(t){var r=(0,ex.useRef)(t),i=(0,ex.useRef)(function(t){r.current&&r.current(t)});return r.current=t,i.current}var epj=function(t,r,i){return void 0===r&&(r=0),void 0===i&&(i=1),t>i?i:t<r?r:t},epW=function(t){return"touches"in t},epX=function(t){return t&&t.ownerDocument.defaultView||self},epY=function(t,r,i){var s=t.getBoundingClientRect(),u=epW(r)?function(t,r){for(var i=0;i<t.length;i++)if(t[i].identifier===r)return t[i];return t[0]}(r.touches,i):r;return{left:epj((u.pageX-(s.left+epX(t).pageXOffset))/s.width),top:epj((u.pageY-(s.top+epX(t).pageYOffset))/s.height)}},epZ=function(t){epW(t)||t.preventDefault()},epK=ex.memo(function(t){var r=t.onMove,i=t.onKey,s=epH(t,["onMove","onKey"]),u=(0,ex.useRef)(null),c=epV(r),h=epV(i),f=(0,ex.useRef)(null),p=(0,ex.useRef)(!1),v=(0,ex.useMemo)(function(){var t=function(t){epZ(t),(epW(t)?t.touches.length>0:t.buttons>0)&&u.current?c(epY(u.current,t,f.current)):i(!1)},r=function(){return i(!1)};function i(i){var s=p.current,c=epX(u.current),h=i?c.addEventListener:c.removeEventListener;h(s?"touchmove":"mousemove",t),h(s?"touchend":"mouseup",r)}return[function(t){var r,s=t.nativeEvent,h=u.current;if(h&&(epZ(s),r=s,(!p.current||epW(r))&&h)){if(epW(s)){p.current=!0;var v=s.changedTouches||[];v.length&&(f.current=v[0].identifier)}h.focus(),c(epY(h,s,f.current)),i(!0)}},function(t){var r=t.which||t.keyCode;r<37||r>40||(t.preventDefault(),h({left:39===r?.05:37===r?-.05:0,top:40===r?.05:38===r?-.05:0}))},i]},[h,c]),y=v[0],x=v[1],_=v[2];return(0,ex.useEffect)(function(){return _},[_]),ex.createElement("div",epG({},s,{onTouchStart:y,onMouseDown:y,className:"react-colorful__interactive",ref:u,onKeyDown:x,tabIndex:0,role:"slider"}))}),epJ=function(t){return t.filter(Boolean).join(" ")},epQ=function(t){var r=t.color,i=t.left,s=t.top,u=epJ(["react-colorful__pointer",t.className]);return ex.createElement("div",{className:u,style:{top:100*(void 0===s?.5:s)+"%",left:100*i+"%"}},ex.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:r}}))},epq=function(t,r,i){return void 0===r&&(r=0),void 0===i&&(i=Math.pow(10,r)),Math.round(i*t)/i},ep$=function(t){return"#"===t[0]&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?epq(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:8===t.length?epq(parseInt(t.substring(6,8),16)/255,2):1}},ep0=function(t,r){return void 0===r&&(r="deg"),Number(t)*(null[r]||1)},ep1=function(t){var r=t.s,i=t.l;return{h:t.h,s:(r*=(i<50?i:100-i)/100)>0?2*r/(i+r)*100:0,v:i+r,a:t.a}},ep2=function(t){var r=t.s,i=t.v,s=t.a,u=(200-r)*i/100;return{h:epq(t.h),s:epq(u>0&&u<200?r*i/100/(u<=100?u:200-u)*100:0),l:epq(u/2),a:epq(s,2)}},ep3=function(t){var r=ep2(t);return"hsl("+r.h+", "+r.s+"%, "+r.l+"%)"},ep5=function(t){var r=ep2(t);return"hsla("+r.h+", "+r.s+"%, "+r.l+"%, "+r.a+")"},ep4=function(t){var r=t.h,i=t.s,s=t.v,u=t.a;r=r/360*6,i/=100,s/=100;var c=Math.floor(r),h=s*(1-i),f=s*(1-(r-c)*i),p=s*(1-(1-r+c)*i),v=c%6;return{r:epq(255*[s,f,h,h,p,s][v]),g:epq(255*[p,s,s,f,h,h][v]),b:epq(255*[h,h,p,s,s,f][v]),a:epq(u,2)}},ep9=function(t){var r=t.toString(16);return r.length<2?"0"+r:r},ep8=function(t){var r=t.r,i=t.g,s=t.b,u=t.a,c=u<1?ep9(epq(255*u)):"";return"#"+ep9(r)+ep9(i)+ep9(s)+c},ep6=function(t){var r=t.r,i=t.g,s=t.b,u=t.a,c=Math.max(r,i,s),h=c-Math.min(r,i,s),f=h?c===r?(i-s)/h:c===i?2+(s-r)/h:4+(r-i)/h:0;return{h:epq(60*(f<0?f+6:f)),s:epq(c?h/c*100:0),v:epq(c/255*100),a:u}},ep7=function(t){return{h:epq(t.h),s:epq(t.s),v:epq(t.v),a:epq(t.a,2)}},ege=ex.memo(function(t){var r=t.hue,i=t.onChange,s=epJ(["react-colorful__hue",t.className]);return ex.createElement("div",{className:s},ex.createElement(epK,{onMove:function(t){i({h:360*t.left})},onKey:function(t){i({h:epj(r+360*t.left,0,360)})},"aria-label":"Hue","aria-valuenow":epq(r),"aria-valuemax":"360","aria-valuemin":"0"},ex.createElement(epQ,{className:"react-colorful__hue-pointer",left:r/360,color:ep3({h:r,s:100,v:100,a:1})})))}),egt=ex.memo(function(t){var r=t.hsva,i=t.onChange,s={backgroundColor:ep3({h:r.h,s:100,v:100,a:1})};return ex.createElement("div",{className:"react-colorful__saturation",style:s},ex.createElement(epK,{onMove:function(t){i({s:100*t.left,v:100-100*t.top})},onKey:function(t){i({s:epj(r.s+100*t.left,0,100),v:epj(r.v-100*t.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+epq(r.s)+"%, Brightness "+epq(r.v)+"%"},ex.createElement(epQ,{className:"react-colorful__saturation-pointer",top:1-r.v/100,left:r.s/100,color:ep3(r)})))}),egn=function(t,r){if(t===r)return!0;for(var i in t)if(t[i]!==r[i])return!1;return!0};function egr(t,r,i){var s=epV(i),u=(0,ex.useState)(function(){return t.toHsva(r)}),c=u[0],h=u[1],f=(0,ex.useRef)({color:r,hsva:c});return(0,ex.useEffect)(function(){if(!t.equal(r,f.current.color)){var i=t.toHsva(r);f.current={hsva:i,color:r},h(i)}},[r,t]),(0,ex.useEffect)(function(){var r;egn(c,f.current.hsva)||t.equal(r=t.fromHsva(c),f.current.color)||(f.current={hsva:c,color:r},s(r))},[c,t,s]),[c,(0,ex.useCallback)(function(t){h(function(r){return Object.assign({},r,t)})},[])]}var egi,ega,ego="undefined"!=typeof window?ex.useLayoutEffect:ex.useEffect,egs=new Map,egl=function(t){ego(function(){var r=t.current?t.current.ownerDocument:document;if(void 0!==r&&!egs.has(r)){var s=r.createElement("style");s.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',egs.set(r,s);var u=ega||i.nc;u&&s.setAttribute("nonce",u),r.head.appendChild(s)}},[])},egu=function(t){var r=t.className,i=t.colorModel,s=t.color,u=void 0===s?i.defaultColor:s,c=t.onChange,h=epH(t,["className","colorModel","color","onChange"]),f=(0,ex.useRef)(null);egl(f);var p=egr(i,u,c),v=p[0],y=p[1],x=epJ(["react-colorful",r]);return ex.createElement("div",epG({},h,{ref:f,className:x}),ex.createElement(egt,{hsva:v,onChange:y}),ex.createElement(ege,{hue:v.h,onChange:y,className:"react-colorful__last-control"}))},egc=function(t){var r=t.className,i=t.hsva,s=t.onChange,u={backgroundImage:"linear-gradient(90deg, "+ep5(Object.assign({},i,{a:0}))+", "+ep5(Object.assign({},i,{a:1}))+")"},c=epJ(["react-colorful__alpha",r]),h=epq(100*i.a);return ex.createElement("div",{className:c},ex.createElement("div",{className:"react-colorful__alpha-gradient",style:u}),ex.createElement(epK,{onMove:function(t){s({a:t.left})},onKey:function(t){s({a:epj(i.a+t.left)})},"aria-label":"Alpha","aria-valuetext":h+"%","aria-valuenow":h,"aria-valuemin":"0","aria-valuemax":"100"},ex.createElement(epQ,{className:"react-colorful__alpha-pointer",left:i.a,color:ep5(i)})))},egh=function(t){var r=t.className,i=t.colorModel,s=t.color,u=void 0===s?i.defaultColor:s,c=t.onChange,h=epH(t,["className","colorModel","color","onChange"]),f=(0,ex.useRef)(null);egl(f);var p=egr(i,u,c),v=p[0],y=p[1],x=epJ(["react-colorful",r]);return ex.createElement("div",epG({},h,{ref:f,className:x}),ex.createElement(egt,{hsva:v,onChange:y}),ex.createElement(ege,{hue:v.h,onChange:y}),ex.createElement(egc,{hsva:v,onChange:y,className:"react-colorful__last-control"}))},egd={defaultColor:{r:0,g:0,b:0,a:1},toHsva:ep6,fromHsva:ep4,equal:egn},egf=function(t){return ex.createElement(egh,epG({},t,{colorModel:egd}))},egp={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return ep6({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){var r;return{r:(r=ep4(t)).r,g:r.g,b:r.b}},equal:egn},egg=function(t){return ex.createElement(egu,epG({},t,{colorModel:egp}))},egm=/^#?([0-9A-F]{3,8})$/i,egv=function(t){var r=t.color,i=void 0===r?"":r,s=t.onChange,u=t.onBlur,c=t.escape,h=t.validate,f=t.format,p=t.process,v=epH(t,["color","onChange","onBlur","escape","validate","format","process"]),y=o(function(){return c(i)}),x=y[0],_=y[1],b=epV(s),w=epV(u),S=a(function(t){var r=c(t.target.value);_(r),h(r)&&b(p?p(r):r)},[c,p,h,b]),A=a(function(t){h(t.target.value)||_(c(i)),w(t)},[i,c,h,w]);return n(function(){_(c(i))},[i,c]),e.createElement("input",epG({},v,{value:f?f(x):x,spellCheck:"false",onChange:S,onBlur:A}))},egy=function(t){return"#"+t},egx=i("507"),eg_=i.n(egx),egb=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function egw(t,r){var i=function(t){var r=t.name;if(r&&-1!==r.lastIndexOf(".")&&!t.type){var i=r.split(".").pop().toLowerCase(),s=egb.get(i);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}(t);if("string"!=typeof i.path){var s=t.webkitRelativePath;Object.defineProperty(i,"path",{value:"string"==typeof r?r:"string"==typeof s&&s.length>0?s:t.name,writable:!1,configurable:!1,enumerable:!0})}return i}var egS=[".DS_Store","Thumbs.db"];function egA(t){return"object"==typeof t&&null!==t}function egM(t){return t.filter(function(t){return -1===egS.indexOf(t.name)})}function egC(t){if(null===t)return[];for(var r=[],i=0;i<t.length;i++){var s=t[i];r.push(s)}return r}function egT(t){if("function"!=typeof t.webkitGetAsEntry)return egE(t);var r=t.webkitGetAsEntry();return r&&r.isDirectory?egD(r):egE(t)}function egE(t){var r=t.getAsFile();return r?Promise.resolve(egw(r)):Promise.reject(t+" is not a File")}function egI(t){return AG(this,void 0,void 0,function(){return AH(this,function(r){return[2,t.isDirectory?egD(t):function(t){return AG(this,void 0,void 0,function(){return AH(this,function(r){return[2,new Promise(function(r,i){t.file(function(i){r(egw(i,t.fullPath))},function(t){i(t)})})]})})}(t)]})})}function egD(t){var r=t.createReader();return new Promise(function(t,i){var s=[];!function u(){var c=this;r.readEntries(function(r){return AG(c,void 0,void 0,function(){var c;return AH(this,function(h){switch(h.label){case 0:if(r.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return t(h.sent()),[3,4];case 3:return i(h.sent()),[3,4];case 4:return[3,6];case 5:c=Promise.all(r.map(egI)),s.push(c),u(),h.label=6;case 6:return[2]}})})},function(t){i(t)})}()})}var egR=i("1253");function egP(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,s)}return i}function egL(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?egP(Object(i),!0).forEach(function(r){egB(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):egP(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function egB(t,r,i){return r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function egk(t){return(egk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function egO(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var i,s,u=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=u){var c=[],h=!0,f=!1;try{for(u=u.call(t);!(h=(i=u.next()).done)&&(c.push(i.value),!r||c.length!==r);h=!0);}catch(t){f=!0,s=t}finally{try{!h&&null!=u.return&&u.return()}finally{if(f)throw s}}return c}}(t,r)||function(t,r){if(t){if("string"==typeof t)return egN(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return egN(t,r)}}(t,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function egN(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,s=Array(r);i<r;i++)s[i]=t[i];return s}var egF=function(t){var r=Array.isArray(t=Array.isArray(t)&&1===t.length?t[0]:t)?"one of ".concat(t.join(", ")):t;return{code:"file-invalid-type",message:"File type must be ".concat(r)}},egU=function(t){return{code:"file-too-large",message:"File is larger than ".concat(t," ").concat(1===t?"byte":"bytes")}},egz=function(t){return{code:"file-too-small",message:"File is smaller than ".concat(t," ").concat(1===t?"byte":"bytes")}},egG={code:"too-many-files",message:"Too many files"};function egH(t,r){var i="application/x-moz-file"===t.type||(0,egR.default)(t,r);return[i,i?null:egF(r)]}function egV(t,r,i){if(egj(t.size)){if(egj(r)&&egj(i)){if(t.size>i)return[!1,egU(i)];if(t.size<r)return[!1,egz(r)]}else if(egj(r)&&t.size<r)return[!1,egz(r)];else if(egj(i)&&t.size>i)return[!1,egU(i)]}return[!0,null]}function egj(t){return null!=t}function egW(t){return"function"==typeof t.isPropagationStopped?t.isPropagationStopped():void 0!==t.cancelBubble&&t.cancelBubble}function egX(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(t){return"Files"===t||"application/x-moz-file"===t}):!!t.target&&!!t.target.files}function egY(t){t.preventDefault()}function egZ(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return function(t){for(var i=arguments.length,s=Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=arguments[u];return r.some(function(r){return!egW(t)&&r&&r.apply(void 0,[t].concat(s)),egW(t)})}}var egK=["children"],egJ=["open"],egQ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],egq=["refKey","onChange","onClick"];function eg$(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var i,s,u=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=u){var c=[],h=!0,f=!1;try{for(u=u.call(t);!(h=(i=u.next()).done)&&(c.push(i.value),!r||c.length!==r);h=!0);}catch(t){f=!0,s=t}finally{try{!h&&null!=u.return&&u.return()}finally{if(f)throw s}}return c}}(t,r)||eg0(t,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eg0(t,r){if(t){if("string"==typeof t)return eg1(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return eg1(t,r)}}function eg1(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,s=Array(r);i<r;i++)s[i]=t[i];return s}function eg2(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,s)}return i}function eg3(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?eg2(Object(i),!0).forEach(function(r){eg5(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):eg2(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function eg5(t,r,i){return r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function eg4(t,r){if(null==t)return{};var i,s,u=function(t,r){if(null==t)return{};var i,s,u={},c=Object.keys(t);for(s=0;s<c.length;s++)i=c[s],!(r.indexOf(i)>=0)&&(u[i]=t[i]);return u}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++){if(i=c[s],!(r.indexOf(i)>=0))Object.prototype.propertyIsEnumerable.call(t,i)&&(u[i]=t[i])}}return u}var eg9=(0,ex.forwardRef)(function(t,r){var i=t.children,s=eg7(eg4(t,egK)),u=s.open,c=eg4(s,egJ);return(0,ex.useImperativeHandle)(r,function(){return{open:u}},[u]),ex.createElement(ex.Fragment,null,i(eg3(eg3({},c),{},{open:u})))});eg9.displayName="Dropzone";var eg8={disabled:!1,getFilesFromEvent:function(t){return AG(this,void 0,void 0,function(){return AH(this,function(r){if(egA(t)&&function(t){return egA(t.dataTransfer)}(t))return[2,function(t,r){return AG(this,void 0,void 0,function(){var i;return AH(this,function(s){switch(s.label){case 0:if(null===t)return[2,[]];if(!t.items)return[3,2];if(i=egC(t.items).filter(function(t){return"file"===t.kind}),"drop"!==r)return[2,i];return[4,Promise.all(i.map(egT))];case 1:return[2,egM(function t(r){return r.reduce(function(r,i){return function(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(function(t,r){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var s,u,c=i.call(t),h=[];try{for(;(void 0===r||r-- >0)&&!(s=c.next()).done;)h.push(s.value)}catch(t){u={error:t}}finally{try{s&&!s.done&&(i=c.return)&&i.call(c)}finally{if(u)throw u.error}}return h}(arguments[r]));return t}(r,Array.isArray(i)?t(i):[i])},[])}(s.sent()))];case 2:return[2,egM(egC(t.files).map(function(t){return egw(t)}))]}})})}(t.dataTransfer,t.type)];if(function(t){return egA(t)&&egA(t.target)}(t))return[2,function(t){return egC(t.target.files).map(function(t){return egw(t)})}(t)];if(Array.isArray(t)&&t.every(function(t){return"getFile"in t&&"function"==typeof t.getFile}))return[2,function(t){return AG(this,void 0,void 0,function(){return AH(this,function(r){switch(r.label){case 0:return[4,Promise.all(t.map(function(t){return t.getFile()}))];case 1:return[2,r.sent().map(function(t){return egw(t)})]}})})}(t)];return[2,[]]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};eg9.defaultProps=eg8,eg9.propTypes={children:eg_().func,accept:eg_().oneOfType([eg_().string,eg_().arrayOf(eg_().string)]),multiple:eg_().bool,preventDropOnDocument:eg_().bool,noClick:eg_().bool,noKeyboard:eg_().bool,noDrag:eg_().bool,noDragEventsBubbling:eg_().bool,minSize:eg_().number,maxSize:eg_().number,maxFiles:eg_().number,disabled:eg_().bool,getFilesFromEvent:eg_().func,onFileDialogCancel:eg_().func,onFileDialogOpen:eg_().func,useFsAccessApi:eg_().bool,onDragEnter:eg_().func,onDragLeave:eg_().func,onDragOver:eg_().func,onDrop:eg_().func,onDropAccepted:eg_().func,onDropRejected:eg_().func,validator:eg_().func};var eg6={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function eg7(){var t,r,i,s,u,c,h,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=eg3(eg3({},eg8),f),v=p.accept,y=p.disabled,x=p.getFilesFromEvent,_=p.maxSize,b=p.minSize,w=p.multiple,S=p.maxFiles,A=p.onDragEnter,M=p.onDragLeave,C=p.onDragOver,T=p.onDrop,I=p.onDropAccepted,D=p.onDropRejected,R=p.onFileDialogCancel,P=p.onFileDialogOpen,L=p.useFsAccessApi,B=p.preventDropOnDocument,k=p.noClick,O=p.noKeyboard,N=p.noDrag,F=p.noDragEventsBubbling,U=p.validator,z=(0,ex.useMemo)(function(){return"function"==typeof P?P:emt},[P]),G=(0,ex.useMemo)(function(){return"function"==typeof R?R:emt},[R]),H=(0,ex.useRef)(null),V=(0,ex.useRef)(null),j=eg$((0,ex.useReducer)(eme,eg6),2),W=j[0],X=j[1],Y=W.isFocused,Z=W.isFileDialogActive,K=W.draggedFiles,J=(0,ex.useRef)("undefined"!=typeof window&&window.isSecureContext&&L&&"showOpenFilePicker"in window),Q=function(){!J.current&&Z&&setTimeout(function(){V.current&&!V.current.files.length&&(X({type:"closeDialog"}),G())},300)};(0,ex.useEffect)(function(){return window.addEventListener("focus",Q,!1),function(){window.removeEventListener("focus",Q,!1)}},[V,Z,G,J]);var q=(0,ex.useRef)([]),$=function(t){if(!(H.current&&H.current.contains(t.target)))t.preventDefault(),q.current=[]};(0,ex.useEffect)(function(){return B&&(document.addEventListener("dragover",egY,!1),document.addEventListener("drop",$,!1)),function(){B&&(document.removeEventListener("dragover",egY),document.removeEventListener("drop",$))}},[H,B]);var ee=(0,ex.useCallback)(function(t){var r;t.preventDefault(),t.persist(),ef(t),q.current=[].concat(function(t){if(Array.isArray(t))return eg1(t)}(r=q.current)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||eg0(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.target]),egX(t)&&Promise.resolve(x(t)).then(function(r){if(!egW(t)||!!F)X({draggedFiles:r,isDragActive:!0,type:"setDraggedFiles"}),A&&A(t)})},[x,A,F]),et=(0,ex.useCallback)(function(t){t.preventDefault(),t.persist(),ef(t);var r=egX(t);if(r&&t.dataTransfer)try{t.dataTransfer.dropEffect="copy"}catch(t){}return r&&C&&C(t),!1},[C,F]),en=(0,ex.useCallback)(function(t){t.preventDefault(),t.persist(),ef(t);var r=q.current.filter(function(t){return H.current&&H.current.contains(t)}),i=r.indexOf(t.target);if(-1!==i&&r.splice(i,1),q.current=r,!(r.length>0))X({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),egX(t)&&M&&M(t)},[H,M,F]),er=(0,ex.useCallback)(function(t,r){var i=[],s=[];t.forEach(function(t){var r=eg$(egH(t,v),2),u=r[0],c=r[1],h=eg$(egV(t,b,_),2),f=h[0],p=h[1],y=U?U(t):null;if(u&&f&&!y)i.push(t);else{var x=[c,p];y&&(x=x.concat(y)),s.push({file:t,errors:x.filter(function(t){return t})})}}),(!w&&i.length>1||w&&S>=1&&i.length>S)&&(i.forEach(function(t){s.push({file:t,errors:[egG]})}),i.splice(0)),X({acceptedFiles:i,fileRejections:s,type:"setFiles"}),T&&T(i,s,r),s.length>0&&D&&D(s,r),i.length>0&&I&&I(i,r)},[X,w,v,b,_,S,T,I,D,U]),ei=(0,ex.useCallback)(function(t){t.preventDefault(),t.persist(),ef(t),q.current=[],egX(t)&&Promise.resolve(x(t)).then(function(r){if(!egW(t)||!!F)er(r,t)}),X({type:"reset"})},[x,er,F]),ea=(0,ex.useCallback)(function(){if(J.current){X({type:"openDialog"}),z();var t,r={multiple:w,types:[{description:"everything",accept:Array.isArray(t="string"==typeof(t=v)?t.split(","):t)?t.filter(function(t){return"audio/*"===t||"video/*"===t||"image/*"===t||"text/*"===t||/\w+\/[-+.\w]+/g.test(t)}).reduce(function(t,r){return egL(egL({},t),{},egB({},r,[]))},{}):{}}]};window.showOpenFilePicker(r).then(function(t){return x(t)}).then(function(t){er(t,null),X({type:"closeDialog"})}).catch(function(t){var r,i;if((r=t)instanceof DOMException&&("AbortError"===r.name||r.code===r.ABORT_ERR))G(t),X({type:"closeDialog"});else{;if((i=t)instanceof DOMException&&("SecurityError"===i.name||i.code===i.SECURITY_ERR))J.current=!1,V.current&&(V.current.value=null,V.current.click())}});return}V.current&&(X({type:"openDialog"}),z(),V.current.value=null,V.current.click())},[X,z,G,L,er,v,w]),eo=(0,ex.useCallback)(function(t){if(!!H.current&&!!H.current.isEqualNode(t.target))(" "===t.key||"Enter"===t.key||32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),ea())},[H,ea]),es=(0,ex.useCallback)(function(){X({type:"focus"})},[]),el=(0,ex.useCallback)(function(){X({type:"blur"})},[]),eu=(0,ex.useCallback)(function(){if(!k)(function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return -1!==(t=r).indexOf("MSIE")||-1!==t.indexOf("Trident/")||-1!==r.indexOf("Edge/")})()?setTimeout(ea,0):ea()},[k,ea]),ec=function(t){return y?null:t},eh=function(t){return O?null:ec(t)},ed=function(t){return N?null:ec(t)},ef=function(t){F&&t.stopPropagation()},ep=(0,ex.useMemo)(function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.refKey,i=t.role,s=t.onKeyDown,u=t.onFocus,c=t.onBlur,h=t.onClick,f=t.onDragEnter,p=t.onDragOver,v=t.onDragLeave,x=t.onDrop,_=eg4(t,egQ);return eg3(eg3(eg5({onKeyDown:eh(egZ(s,eo)),onFocus:eh(egZ(u,es)),onBlur:eh(egZ(c,el)),onClick:ec(egZ(h,eu)),onDragEnter:ed(egZ(f,ee)),onDragOver:ed(egZ(p,et)),onDragLeave:ed(egZ(v,en)),onDrop:ed(egZ(x,ei)),role:"string"==typeof i&&""!==i?i:"button"},void 0===r?"ref":r,H),y||O?{}:{tabIndex:0}),_)}},[H,eo,es,el,eu,ee,et,en,ei,O,N,y]),eg=(0,ex.useCallback)(function(t){t.stopPropagation()},[]),em=(0,ex.useMemo)(function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.refKey,i=t.onChange,s=t.onClick,u=eg4(t,egq);return eg3(eg3({},eg5({accept:v,multiple:w,type:"file",style:{display:"none"},onChange:ec(egZ(i,ei)),onClick:ec(egZ(s,eg)),tabIndex:-1},void 0===r?"ref":r,V)),u)}},[V,v,w,ei,y]),ev=K.length;var ey=ev>0&&(r=(t={files:K,accept:v,minSize:b,maxSize:_,multiple:w,maxFiles:S}).files,i=t.accept,s=t.minSize,u=t.maxSize,c=t.multiple,h=t.maxFiles,(!!c||!(r.length>1))&&(!c||!(h>=1)||!(r.length>h))&&r.every(function(t){var r=egO(egH(t,i),1)[0],c=egO(egV(t,s,u),1)[0];return r&&c}));return eg3(eg3({},W),{},{isDragAccept:ey,isDragReject:ev>0&&!ey,isFocused:Y&&!y,getRootProps:ep,getInputProps:em,rootRef:H,inputRef:V,open:ec(ea)})}function eme(t,r){switch(r.type){case"focus":return eg3(eg3({},t),{},{isFocused:!0});case"blur":return eg3(eg3({},t),{},{isFocused:!1});case"openDialog":return eg3(eg3({},eg6),{},{isFileDialogActive:!0});case"closeDialog":return eg3(eg3({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var i=r.isDragActive,s=r.draggedFiles;return eg3(eg3({},t),{},{draggedFiles:s,isDragActive:i});case"setFiles":return eg3(eg3({},t),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return eg3({},eg6);default:return t}}function emt(){}var emn=Object.defineProperty,emr=Object.getOwnPropertySymbols,emi=Object.prototype.hasOwnProperty,ema=Object.prototype.propertyIsEnumerable,emo=(t,r,i)=>r in t?emn(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i;let ems=(t,r)=>{let i;try{i=JSON.parse(t)}catch(t){}void 0!==i&&r(i)},eml=t=>(r,i,s)=>{let u=s.subscribe;return s.subscribe=(t,r,i)=>{let c=t;if(r){let u=(null==i?void 0:i.equalityFn)||Object.is,h=t(s.getState());c=i=>{let s=t(i);if(!u(h,s)){let t=h;r(h=s,t)}},(null==i?void 0:i.fireImmediately)&&r(h,h)}return u(c)},t(r,i,s)};var emu=Object.defineProperty,emc=Object.getOwnPropertySymbols,emh=Object.prototype.hasOwnProperty,emd=Object.prototype.propertyIsEnumerable,emf=(t,r,i)=>r in t?emu(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,emp=i("1378"),emg=i.n(emp);let emm=(...t)=>t.filter(Boolean).join(".");function emv(t,r){return(0,ex.useMemo)(t,function(t,r){let i=(0,ex.useRef)();return!(r?eo2:eo3)(t,i.current)&&(i.current=t),i.current}(r,!0))}let emy=t=>{let[r,i]=(0,ex.useState)(t.getVisiblePaths());return(0,ex.useEffect)(()=>{i(t.getVisiblePaths());let r=t.useStore.subscribe(t.getVisiblePaths,i,{equalityFn:eo3});return()=>r()},[t]),r};function emx(t=3){let r=(0,ex.useRef)(null),i=(0,ex.useRef)(null),[s,u]=(0,ex.useState)(!1),c=(0,ex.useCallback)(()=>u(!0),[]),h=(0,ex.useCallback)(()=>u(!1),[]);return(0,ex.useLayoutEffect)(()=>{if(s){let{bottom:s,top:u,left:c}=r.current.getBoundingClientRect(),{height:h}=i.current.getBoundingClientRect(),f=s+h>window.innerHeight-40?"up":"down";i.current.style.position="fixed",i.current.style.zIndex="10000",i.current.style.left=c+"px","down"===f?i.current.style.top=s+t+"px":i.current.style.bottom=window.innerHeight-u+t+"px"}},[t,s]),{popinRef:r,wrapperRef:i,shown:s,show:c,hide:h}}!function(t){t.forEach(function(t){0>epz.indexOf(t)&&(t(epF,epP),epz.push(t))})}([function(t,r){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var u in i)s[i[u]]=u;var c={};t.prototype.toName=function(r){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,h=s[this.toHex()];if(h)return h;if(null==r?void 0:r.closest){var f=this.toRgb(),p=1/0,v="black";if(!c.length)for(var y in i)c[y]=new t(i[y]).toRgb();for(var x in i){var _=(u=c[x],Math.pow(f.r-u.r,2)+Math.pow(f.g-u.g,2)+Math.pow(f.b-u.b,2));_<p&&(p=_,v=x)}return v}},r.string.push([function(r){var s=r.toLowerCase(),u="transparent"===s?"#0000":i[s];return u?new t(u).toRgb():null},"name"])}]);let em_={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};est.extend({color:()=>t=>epU(t).isValid()});function emb(t,{format:r,hasAlpha:i,isString:s}){let u=t[em_[r]+(s&&"hex"!==r?"String":"")]();return"object"!=typeof u||i?u:function(t,r){let i=ed_({},t);return r.forEach(r=>r in t&&delete i[r]),i}(u,["a"])}let emw=(t,r)=>{let i=epU(t);if(!i.isValid())throw Error("Invalid color");return emb(i,r)};var emS=Object.freeze({__proto__:null,schema:t=>est().color().test(t),sanitize:emw,format:(t,r)=>emb(epU(t),ed_(ed_({},r),{},{isString:!0,format:"hex"})),normalize:({value:t})=>{let r=epB(t)[1],i="object"==typeof t?"a"in t:"hex"===r&&8===t.length||/^(rgba)|(hsla)|(hsva)/.test(t),s={format:"name"===r?"hex":r,hasAlpha:i,isString:"string"==typeof t};return{value:emw(t,s),settings:s}}});let emA=ed9("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')',$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),emM=ed9("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),emC=ed9("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function emT(t,r){return"rgb"!==r?epU(t).toRgb():t}function emE({value:t,displayValue:r,settings:i,onUpdate:s}){let{emitOnEditStart:u,emitOnEditEnd:c}=edq(),{format:h,hasAlpha:f}=i,{popinRef:p,wrapperRef:v,shown:y,show:x,hide:_}=emx(),b=(0,ex.useRef)(0),[w,S]=(0,ex.useState)(()=>emT(t,h)),A=()=>{S(emT(t,h)),x(),u()},M=()=>{_(),c(),window.clearTimeout(b.current)},C=()=>{b.current=window.setTimeout(M,500)};return(0,ex.useEffect)(()=>()=>window.clearTimeout(b.current),[]),ex.createElement(ex.Fragment,null,ex.createElement(emA,{ref:p,active:y,onClick:()=>A(),style:{color:r}}),y&&ex.createElement(efA,null,ex.createElement(efb,{onPointerUp:M}),ex.createElement(emC,{ref:v,onMouseEnter:()=>window.clearTimeout(b.current),onMouseLeave:t=>0===t.buttons&&C()},ex.createElement(f?egf:egg,{color:w,onChange:s}))))}var emI=ed_({component:function(){let{value:t,displayValue:r,label:i,onChange:s,onUpdate:u,settings:c}=edq();return ex.createElement(efL,{input:!0},ex.createElement(efE,null,i),ex.createElement(emM,null,ex.createElement(emE,{value:t,displayValue:r,onChange:s,onUpdate:u,settings:c}),ex.createElement(efu,{value:r,onChange:s,onUpdate:u})))}},emS),emD=ed_({component:function(){let{label:t,displayValue:r,onUpdate:i,settings:s}=edq();return ex.createElement(efL,{input:!0},ex.createElement(efE,null,t),ex.createElement(epi,{value:r,settings:s,onUpdate:i}))}},epd(["x","y","z"]));let emR=ed9("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),emP=ed9("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function emL({value:t,settings:r,onUpdate:i}){let s=(0,ex.useRef)(),u=(0,ex.useRef)(0),c=(0,ex.useRef)(0),h=(0,ex.useRef)(1),[f,p]=(0,ex.useState)(!1),[v,y]=(0,ex.useState)(!1),[x,_]=efO(),b=(0,ex.useRef)(null),w=(0,ex.useRef)(null);(0,ex.useLayoutEffect)(()=>{if(f){let{top:t,left:r,width:i,height:s}=b.current.getBoundingClientRect();w.current.style.left=r+i/2+"px",w.current.style.top=t+s/2+"px"}},[f]);let{keys:[S,A],joystick:M}=r,C="invertY"===M?1:-1,{[S]:{step:T},[A]:{step:I}}=r,D=efn("sizes","joystickWidth"),R=efn("sizes","joystickHeight"),P=.8*parseFloat(D)/2,L=.8*parseFloat(R)/2,B=(0,ex.useCallback)(()=>{!s.current&&(y(!0),u.current&&_({x:u.current*P}),c.current&&_({y:-(c.current*L)}),s.current=window.setInterval(()=>{i(t=>{let r=T*u.current*h.current,i=C*I*c.current*h.current;return Array.isArray(t)?{[S]:t[0]+r,[A]:t[1]+i}:{[S]:t[S]+r,[A]:t[A]+i}})},16))},[P,L,i,_,T,I,S,A,C]),k=(0,ex.useCallback)(()=>{window.clearTimeout(s.current),s.current=void 0,y(!1)},[]);(0,ex.useEffect)(()=>{function t(t){h.current=edV(t)}return window.addEventListener("keydown",t),window.addEventListener("keyup",t),()=>{window.clearTimeout(s.current),window.removeEventListener("keydown",t),window.removeEventListener("keyup",t)}},[]);let O=efk(({first:r,active:s,delta:[f,v],movement:[y,x]})=>{r&&p(!0);let b=edb(y,-P,P),w=edb(x,-L,L);u.current=Math.abs(y)>Math.abs(b)?Math.sign(y-b):0,c.current=Math.abs(x)>Math.abs(w)?Math.sign(w-x):0;let M=t[S],D=t[A];s?(!u.current&&(M+=f*T*h.current,_({x:b})),!c.current&&(D-=C*v*I*h.current,_({y:w})),u.current||c.current?B():k(),i({[S]:M,[A]:D})):(p(!1),u.current=0,c.current=0,_({x:0,y:0}),k())});return ex.createElement(emR,edJ({ref:b},O()),f&&ex.createElement(efA,null,ex.createElement(emP,{ref:w,isOutOfBounds:v},ex.createElement("div",null),ex.createElement("span",{ref:x}))))}let emB=ed9("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}}),emk=["joystick"],emO=epd(["x","y"]);var emN=ed_(ed_({component:function(){let{label:t,displayValue:r,onUpdate:i,settings:s}=edq();return ex.createElement(efL,{input:!0},ex.createElement(efE,null,t),ex.createElement(emB,{withJoystick:!!s.joystick},s.joystick&&ex.createElement(emL,{value:r,settings:s,onUpdate:i}),ex.createElement(epi,{value:r,settings:s,onUpdate:i})))}},emO),{},{normalize:t=>{let{joystick:r=!0}=t,i=edr(t,emk),{value:s,settings:u}=emO.normalize(i);return{value:s,settings:ed_(ed_({},u),{},{joystick:r})}}}),emF=Object.freeze({__proto__:null,sanitize:t=>{if(void 0!==t){if(t instanceof File)try{return URL.createObjectURL(t)}catch(t){return}if("string"==typeof t&&0===t.indexOf("blob:"))return t;throw Error(`Invalid image format [undefined | blob |\xa0File].`)}},schema:(t,r)=>"object"==typeof r&&"image"in r,normalize:({image:t})=>({value:t})});let emU=ed9("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),emz=ed9("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),emG=ed9("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),emH=ed9("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),emV=ed9("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),emj=ed9("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});var emW=ed_({component:function(){let{label:t,value:r,onUpdate:i,disabled:s}=edq(),{popinRef:u,wrapperRef:c,shown:h,show:f,hide:p}=emx(),v=(0,ex.useCallback)(t=>{t.length&&i(t[0])},[i]),y=(0,ex.useCallback)(t=>{t.stopPropagation(),i(void 0)},[i]),{getRootProps:x,getInputProps:_,isDragAccept:b}=eg7({maxFiles:1,accept:"image/*",onDrop:v,disabled:s});return ex.createElement(efL,{input:!0},ex.createElement(efE,null,t),ex.createElement(emU,null,ex.createElement(emG,{ref:u,hasImage:!!r,onPointerDown:()=>!!r&&f(),onPointerUp:p,style:{backgroundImage:r?`url(${r})`:"none"}}),h&&!!r&&ex.createElement(efA,null,ex.createElement(efb,{onPointerUp:p,style:{cursor:"pointer"}}),ex.createElement(emH,{ref:c,style:{backgroundImage:`url(${r})`}})),ex.createElement(emz,x({isDragAccept:b}),ex.createElement("input",_()),ex.createElement(emV,null,b?"drop image":"click or drop")),ex.createElement(emj,{onClick:y,disabled:!r})))}},emF);let emX=est().number(),emY=t=>({min:t[0],max:t[1]}),emZ=(t,{bounds:[r,i]},s)=>{let u=Array.isArray(t)?emY(t):t,{min:c,max:h}=ed_(ed_({},{min:s[0],max:s[1]}),u);return[edb(Number(c),r,Math.max(r,h)),edb(Number(h),Math.min(i,c),i)]};var emK=Object.freeze({__proto__:null,schema:(t,r)=>est().array().length(2).every.number().test(t)&&est().schema({min:emX,max:emX}).test(r),format:emY,sanitize:emZ,normalize:({value:t,min:r,max:i})=>{let s={min:r,max:i},u=epa(emY(t),{min:s,max:s}),c=[r,i],h=ed_(ed_({},u),{},{bounds:c});return{value:emZ(emY(t),h,t),settings:h}}});let emJ=["value","bounds","onDrag"],emQ=["bounds"],emq=ed9("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function em$(t){let{value:r,bounds:[i,s],onDrag:u}=t,c=edr(t,emJ),h=(0,ex.useRef)(null),f=(0,ex.useRef)(null),p=(0,ex.useRef)(null),v=(0,ex.useRef)(0),y=efn("sizes","scrubberWidth"),x=efk(({event:t,first:x,xy:[_],movement:[b],memo:w={}})=>{if(x){let{width:u,left:c}=h.current.getBoundingClientRect();v.current=u-parseFloat(y);let x=(null==t?void 0:t.target)===f.current||(null==t?void 0:t.target)===p.current;w.pos=edC((_-c)/u,i,s);let b=Math.abs(w.pos-r.min)-Math.abs(w.pos-r.max);w.key=b<0||0===b&&w.pos<=r.min?"min":"max",x&&(w.pos=r[w.key])}let S=w.pos+edC(b/v.current,0,s-i);return u({[w.key]:efY(S,c[w.key])}),w}),_=`calc(${edM(r.min,i,s)} * (100% - ${y} - 8px) + 4px)`,b=`calc(${1-edM(r.max,i,s)} * (100% - ${y} - 8px) + 4px)`;return ex.createElement(efH,edJ({ref:h},x()),ex.createElement(efz,null,ex.createElement(efV,{style:{left:_,right:b}})),ex.createElement(efG,{position:"left",ref:f,style:{left:_}}),ex.createElement(efG,{position:"right",ref:p,style:{right:b}}))}var em0=ed_({component:function(){let{label:t,displayValue:r,onUpdate:i,settings:s}=edq(),u=edr(s,emQ);return ex.createElement(ex.Fragment,null,ex.createElement(efL,{input:!0},ex.createElement(efE,null,t),ex.createElement(emq,null,ex.createElement(em$,edJ({value:r},s,{onDrag:i})),ex.createElement(epi,{value:r,settings:u,onUpdate:i,innerLabelTrim:0}))))}},emK);let em1=()=>{let t=new Map;return{on:(r,i)=>{let s=t.get(r);void 0===s&&(s=new Set,t.set(r,s)),s.add(i)},off:(r,i)=>{let s=t.get(r);if(void 0!==s)s.delete(i),0===s.size&&t.delete(r)},emit:(r,...i)=>{let s=t.get(r);if(void 0!==s)for(let t of s)t(...i)}}},em2=["type","value"],em3=["onChange","transient","onEditStart","onEditEnd"],em5=function(){let t=fG(eml(()=>({data:{}}))),r=em1();this.storeId=edT(),this.useStore=t;let i={},s=new Set;this.getVisiblePaths=()=>{let t=this.getData(),r=Object.keys(t),u=[];Object.entries(i).forEach(([t,i])=>{i.render&&r.some(r=>0===r.indexOf(t))&&!i.render(this.get)&&u.push(t+".")});let c=[];return s.forEach(r=>{r in t&&t[r].__refCount>0&&u.every(t=>-1===r.indexOf(t))&&(!t[r].render||t[r].render(this.get))&&c.push(r)}),c},this.setOrderedPaths=t=>{t.forEach(t=>s.add(t))},this.orderPaths=t=>(this.setOrderedPaths(t),t),this.disposePaths=r=>{t.setState(t=>{let i=t.data;return r.forEach(t=>{if(t in i){let r=i[t];r.__refCount--,0===r.__refCount&&r.type in K&&delete i[t]}}),{data:i}})},this.dispose=()=>{t.setState(()=>({data:{}}))},this.getFolderSettings=t=>i[t]||{},this.getData=()=>t.getState().data,this.addData=(r,i)=>{t.setState(t=>{let s=t.data;return Object.entries(r).forEach(([t,r])=>{let u=s[t];if(u){let{type:t,value:s}=r,c=edr(r,em2);t!==u.type?edo(Z.INPUT_TYPE_OVERRIDE,t):((0===u.__refCount||i)&&Object.assign(u,c),u.__refCount++)}else s[t]=ed_(ed_({},r),{},{__refCount:1})}),{data:s}})},this.setValueAtPath=(r,i,s)=>{t.setState(t=>{let u=t.data;return edU(u[r],i,r,this,s),{data:u}})},this.setSettingsAtPath=(r,i)=>{t.setState(t=>{let s=t.data;return s[r].settings=ed_(ed_({},s[r].settings),i),{data:s}})},this.disableInputAtPath=(r,i)=>{t.setState(t=>{let s=t.data;return s[r].disabled=i,{data:s}})},this.set=(r,i)=>{t.setState(t=>{let s=t.data;return Object.entries(r).forEach(([t,r])=>{try{edU(s[t],r,void 0,void 0,i)}catch(t){}}),{data:s}})},this.getInput=t=>{try{return this.getData()[t]}catch(r){edo(Z.PATH_DOESNT_EXIST,t)}},this.get=t=>{var r;return null===(r=this.getInput(t))||void 0===r?void 0:r.value},this.emitOnEditStart=t=>{r.emit(`onEditStart:${t}`,this.get(t),t,ed_(ed_({},this.getInput(t)),{},{get:this.get}))},this.emitOnEditEnd=t=>{r.emit(`onEditEnd:${t}`,this.get(t),t,ed_(ed_({},this.getInput(t)),{},{get:this.get}))},this.subscribeToEditStart=(t,i)=>{let s=`onEditStart:${t}`;return r.on(s,i),()=>r.off(s,i)},this.subscribeToEditEnd=(t,i)=>{let s=`onEditEnd:${t}`;return r.on(s,i),()=>r.off(s,i)};let u=(t,r,s)=>{let c={};return Object.entries(t).forEach(([t,h])=>{if(""===t)return edo(Z.EMPTY_KEY);let f=emm(r,t);if(h.type===K.FOLDER)Object.assign(c,u(h.schema,f,s)),!(f in i)&&(i[f]=h.settings);else if(t in s)edo(Z.DUPLICATE_KEYS,t,f,s[t].path);else{let r=function(t,r,i,s){let u=function t(r,i,s={},u){var c,h;let f;if("object"!=typeof r||Array.isArray(r))return{type:u,input:r,options:ed_({key:i,label:i,optional:!1,disabled:!1,order:0},s)};if("__customInput"in r){let{type:s,__customInput:u}=r;return t(u,i,edr(r,edO),s)}let{render:p,label:v,optional:y,order:x=0,disabled:_,hint:b,onChange:w,onEditStart:S,onEditEnd:A,transient:M}=r,C=edr(r,edN),T=ed_({render:p,key:i,label:null!=v?v:i,hint:b,transient:null!=M?M:!!w,onEditStart:S,onEditEnd:A,disabled:_,optional:y,order:x},s),{type:I}=C,D=edr(C,edF);return(I=null!=u?u:I)in K?{type:I,input:D,options:T}:{type:I,input:f=u&&edB(D)&&"value"in D?D.value:edk(D)?void 0:D,options:ed_(ed_({},T),{},{onChange:w,optional:null!==(c=T.optional)&&void 0!==c&&c,disabled:null!==(h=T.disabled)&&void 0!==h&&h})}}(t,r),{type:c,input:h,options:f}=u;if(c)return c in K?u:{type:c,input:edv(c,h,i,s),options:f};let p=edf(h);return p?{type:p,input:edv(p,h,i,s),options:f}:!!(p=edf({value:h}))&&{type:p,input:edv(p,{value:h},i,s),options:f}}(h,t,f,c);if(r){let{type:i,options:u,input:h}=r,{onChange:p,transient:v,onEditStart:y,onEditEnd:x}=u,_=edr(u,em3);c[f]=ed_(ed_(ed_({type:i},_),h),{},{fromPanel:!0}),s[t]={path:f,onChange:p,transient:v,onEditStart:y,onEditEnd:x}}else edo(Z.UNKNOWN_INPUT,f,h)}}),c};this.getDataFromSchema=t=>{let r={};return[u(t,"",r),r]}},em4=new em5,em9={collapsed:!1},em8={disabled:!1},em6=t=>"__levaInput"in t,em7=(t,r)=>{let i={},s=r?r.toLowerCase():null;return t.forEach(t=>{let[r,u]=function(t){let r=t.split(".");return[r.pop(),r.join(".")||void 0]}(t);(!s||r.toLowerCase().indexOf(s)>-1)&&emg()(i,u,{[r]:{__levaInput:!0,path:t}})}),i},eve=["type","label","path","valueKey","value","settings","setValue","disabled"];function evt(t){let{type:r,label:i,path:s,valueKey:u,value:c,settings:h,setValue:f,disabled:p}=t,v=edr(t,eve),{displayValue:y,onChange:x,onUpdate:_}=efB({type:r,value:c,settings:h,setValue:f}),b=edd[r].component;return b?ex.createElement(edQ.Provider,{value:ed_({key:u,path:s,id:""+s,label:i,displayValue:y,value:c,onChange:x,onUpdate:_,settings:h,setValue:f,disabled:p},v)},ex.createElement(ef_,{disabled:p},ex.createElement(b,null))):(edo(Z.NO_COMPONENT_FOR_TYPE,r,s),null)}let evn=ed9("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}}),evr=ed9("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),evi=ed9("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),eva=({label:t,opts:r})=>{let i="string"==typeof t&&""===t.trim()?null:t,s=r;return"object"==typeof r.opts&&(void 0!==s.label&&(i=r.label),s=r.opts),{label:i,opts:s}},evo=ed9("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),evs=(0,ex.forwardRef)(function({initialValue:t},r){let i=efn("colors","highlight3"),s=efn("colors","elevation2"),u=efn("colors","highlight1"),[c,h]=(0,ex.useMemo)(()=>[epU(u).alpha(.4).toRgbString(),epU(u).alpha(.1).toRgbString()],[u]),f=(0,ex.useRef)([t]),p=(0,ex.useRef)(t),v=(0,ex.useRef)(t),y=(0,ex.useRef)(),x=(0,ex.useCallback)((t,r)=>{if(!t)return;let{width:u,height:y}=t,x=new Path2D,_=u/100,b=.05*y;for(let t=0;t<f.current.length;t++){let r=edM(f.current[t],p.current,v.current),i=_*t,s=y-r*(y-2*b)-b;x.lineTo(i,s)}r.clearRect(0,0,u,y);let w=new Path2D(x);w.lineTo(_*(f.current.length+1),y),w.lineTo(0,y),w.lineTo(0,0);let S=r.createLinearGradient(0,0,0,y);S.addColorStop(0,c),S.addColorStop(1,h),r.fillStyle=S,r.fill(w),r.strokeStyle=s,r.lineJoin="round",r.lineWidth=14,r.stroke(x),r.strokeStyle=i,r.lineWidth=2,r.stroke(x)},[i,s,c,h]),[_,b]=function(t){let r=(0,ex.useRef)(null),i=(0,ex.useRef)(null),s=(0,ex.useRef)(!1);return(0,ex.useEffect)(()=>{let u=edH(()=>{r.current.width=r.current.offsetWidth*window.devicePixelRatio,r.current.height=r.current.offsetHeight*window.devicePixelRatio,t(r.current,i.current)},250);return window.addEventListener("resize",u),!s.current&&(u(),s.current=!0),()=>window.removeEventListener("resize",u)},[t]),(0,ex.useEffect)(()=>{i.current=r.current.getContext("2d")},[]),[r,i]}(x);return(0,ex.useImperativeHandle)(r,()=>({frame:t=>{var r,i;(void 0===p.current||t<p.current)&&(p.current=t),(void 0===v.current||t>v.current)&&(v.current=t),r=f.current,i=t,r.push(i),r.length>100&&r.shift(),y.current=requestAnimationFrame(()=>x(_.current,b.current))}}),[_,b,x]),(0,ex.useEffect)(()=>()=>cancelAnimationFrame(y.current),[]),ex.createElement(evo,{ref:_})}),evl=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),evu=(0,ex.forwardRef)(function({initialValue:t},r){let[i,s]=(0,ex.useState)(evl(t));return(0,ex.useImperativeHandle)(r,()=>({frame:t=>s(evl(t))}),[]),ex.createElement("div",null,i)});function evc(t){return"function"==typeof t?t():t.current}let evh=["type","label","key"],evd={[K.BUTTON]:function({onClick:t,settings:r,label:i}){let s=ed2();return ex.createElement(efL,null,ex.createElement(evn,{disabled:r.disabled,onClick:()=>t(s.get)},i))},[K.BUTTON_GROUP]:function(t){let{label:r,opts:i}=eva(t),s=ed2();return ex.createElement(efL,{input:!!r},r&&ex.createElement(efE,null,r),ex.createElement(evr,null,Object.entries(i).map(([t,r])=>ex.createElement(evi,{key:t,onClick:()=>r(s.get)},t))))},[K.MONITOR]:function({label:t,objectOrFn:r,settings:i}){let s=(0,ex.useRef)(),u=(0,ex.useRef)(evc(r));return(0,ex.useEffect)(()=>{let t=window.setInterval(()=>{var t;!document.hidden&&(null===(t=s.current)||void 0===t||t.frame(evc(r)))},i.interval);return()=>window.clearInterval(t)},[r,i.interval]),ex.createElement(efL,{input:!0},ex.createElement(efE,{align:"top"},t),i.graph?ex.createElement(evs,{ref:s,initialValue:u.current}):ex.createElement(evu,{ref:s,initialValue:u.current}))}},evf=ex.memo(({path:t})=>{let[r,{set:i,setSettings:s,disable:u,storeId:c,emitOnEditStart:h,emitOnEditEnd:f}]=function(t){let r=ed2(),[i,s]=(0,ex.useState)(efF(r.getData(),t)),u=(0,ex.useCallback)(i=>r.setValueAtPath(t,i,!0),[t,r]),c=(0,ex.useCallback)(i=>r.setSettingsAtPath(t,i),[t,r]),h=(0,ex.useCallback)(i=>r.disableInputAtPath(t,i),[t,r]),f=(0,ex.useCallback)(()=>r.emitOnEditStart(t),[t,r]),p=(0,ex.useCallback)(()=>r.emitOnEditEnd(t),[t,r]);return(0,ex.useEffect)(()=>{s(efF(r.getData(),t));let i=r.useStore.subscribe(r=>efF(r.data,t),s,{equalityFn:eo3});return()=>i()},[r,t]),[i,{set:u,setSettings:c,disable:h,storeId:r.storeId,emitOnEditStart:f,emitOnEditEnd:p}]}(t);if(!r)return null;let{type:p,label:v,key:y}=r,x=edr(r,evh);if(p in K){let r=evd[p];return ex.createElement(r,edJ({label:v,path:t},x))}return p in edd?ex.createElement(evt,edJ({key:c+t,type:p,label:v,storeId:c,path:t,valueKey:y,setValue:i,setSettings:s,disable:u,emitOnEditStart:h,emitOnEditEnd:f},x)):(eds(Z.UNSUPPORTED_INPUT,p,t),null)});function evp({toggle:t,toggled:r,name:i}){return ex.createElement(eff,{onClick:()=>t()},ex.createElement(efR,{toggled:r}),ex.createElement("div",null,i))}let evg=({name:t,path:r,tree:i})=>{let s=ed2(),u=emm(r,t),{collapsed:c,color:h}=s.getFolderSettings(u),[f,p]=(0,ex.useState)(!c),v=(0,ex.useRef)(null),y=efn("colors","folderWidgetColor"),x=efn("colors","folderTextColor");return(0,ex.useLayoutEffect)(()=>{v.current.style.setProperty("--leva-colors-folderWidgetColor",h||y),v.current.style.setProperty("--leva-colors-folderTextColor",h||x)},[h,y,x]),ex.createElement(efh,{ref:v},ex.createElement(evp,{name:t,toggled:f,toggle:()=>p(t=>!t)}),ex.createElement(evm,{parent:u,tree:i,toggled:f}))},evm=ex.memo(({isRoot:t=!1,fill:r=!1,flat:i=!1,parent:s,tree:u,toggled:c})=>{let{wrapperRef:h,contentRef:f}=function(t){let r=(0,ex.useRef)(null),i=(0,ex.useRef)(null),s=(0,ex.useRef)(!0);return(0,ex.useLayoutEffect)(()=>{!t&&(r.current.style.height="0px",r.current.style.overflow="hidden")},[]),(0,ex.useEffect)(()=>{let u;if(s.current){s.current=!1;return}let c=r.current,h=()=>{t&&(c.style.removeProperty("height"),c.style.removeProperty("overflow"),i.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};c.addEventListener("transitionend",h,{once:!0});let{height:f}=i.current.getBoundingClientRect();return c.style.height=f+"px",!t&&(c.style.overflow="hidden",u=window.setTimeout(()=>c.style.height="0px",50)),()=>{c.removeEventListener("transitionend",h),clearTimeout(u)}},[t]),{wrapperRef:r,contentRef:i}}(c),p=ed2(),v=([t,r])=>{var i;return(em6(r)?null===(i=p.getInput(r.path))||void 0===i?void 0:i.order:p.getFolderSettings(emm(s,t)).order)||0},y=Object.entries(u).sort((t,r)=>v(t)-v(r));return ex.createElement(efd,{ref:h,isRoot:t,fill:r,flat:i},ex.createElement(efp,{ref:f,isRoot:t,toggled:c},y.map(([t,r])=>em6(r)?ex.createElement(evf,{key:r.path,valueKey:r.valueKey,path:r.path}):ex.createElement(evg,{key:t,name:t,path:s,tree:r}))))}),evv=ed9("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${efm}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),evy=ed9("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),evx=ed9("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),ev_=ed9("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${evy}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),evb=ed9("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),evw=ed9("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),evS=ex.forwardRef(({setFilter:t,toggle:r},i)=>{let[s,u]=(0,ex.useState)(""),c=(0,ex.useMemo)(()=>edH(t,250),[t]),h=()=>{t(""),u("")};return(0,ex.useEffect)(()=>{c(s)},[s,c]),ex.createElement(ex.Fragment,null,ex.createElement(evb,{ref:i,value:s,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:t=>t.stopPropagation(),onChange:t=>{let i=t.currentTarget.value;r(!0),u(i)}}),ex.createElement(evy,{onClick:()=>h(),style:{visibility:s?"visible":"hidden"}},ex.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},ex.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function evA({setFilter:t,onDrag:r,onDragStart:i,onDragEnd:s,toggle:u,toggled:c,title:h,drag:f,filterEnabled:p,from:v}){let[y,x]=(0,ex.useState)(!1),_=(0,ex.useRef)(null);(0,ex.useEffect)(()=>{var t,r;y?null===(t=_.current)||void 0===t||t.focus():null===(r=_.current)||void 0===r||r.blur()},[y]);let b=efk(({offset:[t,u],first:c,last:h})=>{r({x:t,y:u}),c&&i({x:t,y:u}),h&&s({x:t,y:u})},{filterTaps:!0,from:({offset:[t,r]})=>[(null==v?void 0:v.x)||t,(null==v?void 0:v.y)||r]});return(0,ex.useEffect)(()=>{let t=t=>{"L"===t.key&&t.shiftKey&&t.metaKey&&x(t=>!t)};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),ex.createElement(ex.Fragment,null,ex.createElement(evx,{mode:f?"drag":void 0},ex.createElement(evy,{active:!c,onClick:()=>u()},ex.createElement(efR,{toggled:c,width:12,height:8})),ex.createElement(evw,edJ({},f?b():{},{drag:f,filterEnabled:p}),void 0===h&&f?ex.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},ex.createElement("circle",{cx:"2",cy:"2",r:"2"}),ex.createElement("circle",{cx:"14",cy:"2",r:"2"}),ex.createElement("circle",{cx:"26",cy:"2",r:"2"}),ex.createElement("circle",{cx:"2",cy:"12",r:"2"}),ex.createElement("circle",{cx:"14",cy:"12",r:"2"}),ex.createElement("circle",{cx:"26",cy:"12",r:"2"})):h),p&&ex.createElement(evy,{active:y,onClick:()=>x(t=>!t)},ex.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},ex.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),ex.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),ex.createElement(ev_,{toggled:y},ex.createElement(evS,{ref:_,setFilter:t,toggle:u})))}let evM=["store","hidden","theme","collapsed"];function evC(t){let{store:r,hidden:i=!1,theme:s,collapsed:u=!1}=t,c=edr(t,evM),h=emv(()=>(function(t){let r=ed3();if(!t)return{theme:r,className:""};Object.keys(t).forEach(i=>{Object.assign(r[i],t[i])});let i=ed6(r);return{theme:r,className:i.className}})(s),[s]),[f,p]=(0,ex.useState)(!u),v="object"==typeof u?!u.collapsed:f,y=(0,ex.useMemo)(()=>"object"==typeof u?t=>{"function"==typeof t?u.onChange(!t(!u.collapsed)):u.onChange(!t)}:p,[u]);return!r||i?null:ex.createElement(ed$.Provider,{value:h},ex.createElement(evT,edJ({store:r},c,{toggled:v,setToggle:y,rootClass:h.className})))}let evT=ex.memo(({store:t,rootClass:r,fill:i=!1,flat:s=!1,neverHide:u=!1,oneLineLabels:c=!1,titleBar:h={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:f=!1,toggled:p,setToggle:v})=>{var y,x;let _=emy(t),[b,w]=(0,ex.useState)(""),S=(0,ex.useMemo)(()=>em7(_,b),[_,b]),[A,M]=efO(),C=u||_.length>0,T="object"==typeof h&&h.title||void 0,I="object"!=typeof h||null===(y=h.drag)||void 0===y||y,D="object"!=typeof h||null===(x=h.filter)||void 0===x||x,R="object"==typeof h&&h.position||void 0,P="object"==typeof h&&h.onDrag||void 0,L="object"==typeof h&&h.onDragStart||void 0,B="object"==typeof h&&h.onDragEnd||void 0;return ex.useEffect(()=>{M({x:null==R?void 0:R.x,y:null==R?void 0:R.y})},[R,M]),eft(),ex.createElement(ed1.Provider,{value:{hideCopyButton:f}},ex.createElement(evv,{ref:A,className:r,fill:i,flat:s,oneLineLabels:c,hideTitleBar:!h,style:{display:C?"block":"none"}},h&&ex.createElement(evA,{onDrag:t=>{M(t),null==P||P(t)},onDragStart:t=>null==L?void 0:L(t),onDragEnd:t=>null==B?void 0:B(t),setFilter:w,toggle:t=>v(r=>null!=t?t:!r),toggled:p,title:T,drag:I,filterEnabled:D,from:R}),C&&ex.createElement(ed0.Provider,{value:t},ex.createElement(evm,{isRoot:!0,fill:i,flat:s,tree:S,toggled:p}))))}),evE=["isRoot"],evI=!1,evD=null;function evR(t){let{isRoot:r=!1}=t,i=edr(t,evE);return(0,ex.useEffect)(()=>(evI=!0,!r&&evD&&(evD.remove(),evD=null),()=>{!r&&(evI=!1)}),[r]),ex.createElement(evC,edJ({store:em4},i))}function evP(t,r,i,s,u){var c,h,f,p,v,y,x,_,b;let w,S,A,M,C;let{folderName:T,schema:I,folderSettings:D,hookSettings:R,deps:P}=(c=t,h=r,f=i,p=s,v=u,"string"==typeof c?(C=c,w=h,Array.isArray(f)?M=f:f&&("store"in f?(A=f,M=p):(S=f,Array.isArray(p)?M=p:(A=p,M=v)))):(w=c,Array.isArray(h)?M=h:(A=h,M=f)),{schema:w,folderName:C,folderSettings:S,hookSettings:A,deps:M||[]}),L="function"==typeof I,B=(0,ex.useRef)(!1),k=(0,ex.useRef)(!0),O=emv(()=>{var t,r;B.current=!0;let i="function"==typeof I?I():I;return T?{[T]:(t=i,r=D,{type:K.FOLDER,schema:t,settings:ed_(ed_({},em9),r)})}:i},P);y=!(null!=R&&R.store),(0,ex.useEffect)(()=>{y&&!evI&&(!evD&&(evD=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(evD),!function(t,r){let i=console.error;console.error=()=>{},wM.render(t,r),console.error=i}(ex.createElement(evR,{isRoot:!0}),evD))),evI=!0)},[y]);let[N]=(0,ex.useState)(()=>(null==R?void 0:R.store)||em4),[F,U]=(0,ex.useMemo)(()=>N.getDataFromSchema(O),[N,O]),[z,G,H,V,j]=(0,ex.useMemo)(()=>{let t=[],r=[],i={},s={},u={};return Object.values(U).forEach(({path:c,onChange:h,onEditStart:f,onEditEnd:p,transient:v})=>{t.push(c),h?(i[c]=h,!v&&r.push(c)):r.push(c),f&&(s[c]=f),p&&(u[c]=p)}),[t,r,i,s,u]},[U]),W=(0,ex.useMemo)(()=>N.orderPaths(z),[z,N]);let X=(x=N,_=G,b=F,x.useStore(t=>{var r,i,s;return r=ed_(ed_({},b),t.data),i=_,Object.entries((s=r,i.reduce((t,r)=>(s&&s.hasOwnProperty(r)&&(t[r]=s[r]),t),{}))).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})},eo3)),Y=(0,ex.useCallback)(t=>{let r=Object.entries(t).reduce((t,[r,i])=>Object.assign(t,{[U[r].path]:i}),{});N.set(r,!1)},[N,U]),Z=(0,ex.useCallback)(t=>N.get(U[t].path),[N,U]);return((0,ex.useEffect)(()=>{let t=!k.current&&B.current;return N.addData(F,t),k.current=!1,B.current=!1,()=>N.disposePaths(W)},[N,W,F]),(0,ex.useEffect)(()=>{let t=[];return Object.entries(H).forEach(([r,i])=>{i(N.get(r),r,ed_({initial:!0,get:N.get},N.getInput(r)));let s=N.useStore.subscribe(t=>{let i=t.data[r];return[i.disabled?void 0:i.value,i]},([t,s])=>i(t,r,ed_({initial:!1,get:N.get},s)),{equalityFn:eo3});t.push(s)}),()=>t.forEach(t=>t())},[N,H]),(0,ex.useEffect)(()=>{let t=[];return Object.entries(V).forEach(([r,i])=>t.push(N.subscribeToEditStart(r,i))),Object.entries(j).forEach(([r,i])=>t.push(N.subscribeToEditEnd(r,i))),()=>t.forEach(t=>t())},[V,j,N]),L)?[X,Y,Z]:X}edp(J.SELECT,ef0),edp(J.IMAGE,emW),edp(J.NUMBER,efZ),edp(J.COLOR,emI),edp(J.STRING,ef4),edp(J.BOOLEAN,ef7),edp(J.INTERVAL,em0),edp(J.VECTOR3D,emD),edp(J.VECTOR2D,emN);let evL=t=>{let{label:r,schema:i,settings:s={collapsed:!0}}=t;return evP(r,i,s),(0,ev.jsx)(ev.Fragment,{})},{configLabels:evB,configsLabels:evk,configsOptions:evO}=xY,evN=t=>{var r,i;let{settings:s}=t,{configs:u}=xX(x8);evP("",{:(r=()=>{confirm(" ?\n(  )")&&(x6.reset(),location.reload())},{type:K.BUTTON,onClick:r,settings:ed_(ed_({},em8),void 0)})},{collapsed:!0});let c=eoY(x8,u,evk,evO);return Object.keys(c).map(t=>(0,ev.jsx)(evL,{label:evB[t],schema:c[t],settings:s},t))},evF=()=>{let[t,r]=(0,ex.useState)(1.5),{configs:i}=xX(x8);return(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(evN,{}),(0,ev.jsxs)(gc,{shadows:i.environment.shadows,dpr:t,orthographic:!0,camera:{zoom:i.camera.initZoom,position:_h(i.camera.initHeight,i.camera.initRotation)},children:[(0,ev.jsx)(eoX,{onDecline:()=>r(1)}),(0,ev.jsxs)(ex.Suspense,{fallback:null,children:[(0,ev.jsx)(_p,{}),(0,ev.jsx)(eoj,{})]})]})]})},evU="scene-manager",evz=localStorage.getItem(evU),evG=xz(evz?JSON.parse(evz):xQ({mode:"runtime"}));xG(evG,()=>{localStorage.setItem(evU,JSON.stringify(evG))});let evH={setMode:t=>{evG.mode!==t&&(wn.focused=null,evG.mode=t)}},evV=_Y({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new aw,sectionColor:new aw,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new iu,worldPlanePosition:new iu},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${_K>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),evj=ex.forwardRef(({args:t,cellColor:r="#000000",sectionColor:i="#2080ff",cellSize:s=.5,sectionSize:u=1,followCamera:c=!1,infiniteGrid:h=!1,fadeDistance:f=100,fadeStrength:p=1,fadeFrom:v=1,cellThickness:y=.5,sectionThickness:x=1,side:_=eL,...b},w)=>{f$({GridMaterial:evV});let S=ex.useRef(null);ex.useImperativeHandle(w,()=>S.current,[]);let A=new ov,M=new iu(0,1,0),C=new iu(0,0,0);return pk(t=>{A.setFromNormalAndCoplanarPoint(M,C).applyMatrix4(S.current.matrixWorld);let r=S.current.material,i=r.uniforms.worldCamProjPosition,s=r.uniforms.worldPlanePosition;A.projectPoint(t.camera.position,i.value),s.value.set(0,0,0).applyMatrix4(S.current.matrixWorld)}),ex.createElement("mesh",gh({ref:S,frustumCulled:!1},b),ex.createElement("gridMaterial",gh({transparent:!0,"extensions-derivatives":!0,side:_},{cellSize:s,sectionSize:u,cellColor:r,sectionColor:i,cellThickness:y,sectionThickness:x},{fadeDistance:f,fadeStrength:p,fadeFrom:v,infiniteGrid:h,followCamera:c})),ex.createElement("planeGeometry",{args:t}))});i("9216"),i("7000");let evW=xz({selectedAsset:null}),evX="#475569",evY=()=>{let{selectedAsset:t}=xX(evW),{runtimeData:r}=xX(be),{size:i,camera:s,gl:u}=pB(),[c,h]=(0,ex.useState)(evX),f=(0,ex.useMemo)(()=>_O(-1),[]),p=(0,ex.useRef)(null),v=(0,ex.useRef)([0,0]),y=(0,ex.useRef)(new d8),x=(0,ex.useRef)(new ov(new iu(0,1,0),0)),_=(0,ex.useCallback)(()=>{y.current.setFromCamera(new rz(v.current[0],v.current[1]),s);let t=new iu;y.current.ray.intersectPlane(x.current,t);let r=Math.round(t.x);return[r,0,Math.round(t.z)]},[s]);if((0,ex.useEffect)(()=>{if(!t)return;let s=t=>{v.current[0]=t.clientX/i.width*2-1,v.current[1]=-(2*(t.clientY/i.height))+1},c=()=>{var i,s;let u=_();if(null===(i=r.models)||void 0===i?void 0:i.find(t=>{var r,i,s;return(null===(r=t.position)||void 0===r?void 0:r[0])===u[0]&&(null===(i=t.position)||void 0===i?void 0:i[1])===u[1]&&(null===(s=t.position)||void 0===s?void 0:s[2])===u[2]})){h("#dc2626"),window.clearTimeout(f.value),f.value=window.setTimeout(()=>h(evX),1e3);return}let c=t.model;evW.selectedAsset=null,null===(s=be.runtimeData.models)||void 0===s||s.push({id:eoG(),model:c,position:u})};return u.domElement.addEventListener("mousemove",s),u.domElement.addEventListener("click",c),()=>{u.domElement.removeEventListener("mousemove",s),u.domElement.removeEventListener("click",c)}},[_,f,u,r.models,t,i]),pk(()=>{t&&p.current&&p.current.position.fromArray(_())}),t)return(0,ev.jsx)("group",{ref:p,children:(0,ev.jsx)(wg,{data:{model:null==t?void 0:t.model},color:c,outline:!0,disabled:!0})})},evZ=()=>(0,ev.jsxs)(ex.Suspense,{fallback:null,children:[(0,ev.jsx)(evY,{}),(0,ev.jsx)(wm,{interactable:!0}),(0,ev.jsx)(bt,{})]});i("6472"),i("6298");function evK(){let t=function(){let t="undefined"==typeof document;return"useSyncExternalStore"in e_&&(0,e_.useSyncExternalStore)(()=>()=>{},()=>!1,()=>!t)}(),[r,i]=ex.useState(wJ.isHandoffComplete);return r&&!1===wJ.isHandoffComplete&&i(!1),ex.useEffect(()=>{!0!==r&&i(!0)},[r]),ex.useEffect(()=>wJ.handoff(),[]),!t&&r}"undefined"!=typeof process&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&(null==(et=null==process?void 0:process.env)?void 0:et.NODE_ENV)==="test"&&void 0===(null==(en=null==Element?void 0:Element.prototype)?void 0:en.getAnimations)&&(Element.prototype.getAnimations=function(){return[]});var evJ=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(evJ||{});let evQ=(0,ex.createContext)(null);evQ.displayName="OpenClosedContext";var evq=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(evq||{});function ev$(){return(0,ex.useContext)(evQ)}function ev0({value:t,children:r}){return ex.createElement(evQ.Provider,{value:t},r)}function ev1(t){var r;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||(null!=(r=t.as)?r:ev8)!==ex.Fragment||1===ex.Children.count(t.children)}let ev2=(0,ex.createContext)(null);ev2.displayName="TransitionContext";var ev3=(t=>(t.Visible="visible",t.Hidden="hidden",t))(ev3||{});let ev5=(0,ex.createContext)(null);function ev4(t){return"children"in t?ev4(t.children):t.current.filter(({el:t})=>null!==t.current).filter(({state:t})=>"visible"===t).length>0}function ev9(t,r){let i;let s=wq(t),u=(0,ex.useRef)([]),c=(i=(0,ex.useRef)(!1),wQ(()=>(i.current=!0,()=>{i.current=!1}),[]),i),h=Sk(),f=w$((t,r=wI.Hidden)=>{let i=u.current.findIndex(({el:r})=>r===t);-1!==i&&(wT(r,{[wI.Unmount](){u.current.splice(i,1)},[wI.Hidden](){u.current[i].state="hidden"}}),h.microTask(()=>{var t;!ev4(u)&&c.current&&(null==(t=s.current)||t.call(s))}))}),p=w$(t=>{let r=u.current.find(({el:r})=>r===t);return r?"visible"!==r.state&&(r.state="visible"):u.current.push({el:t,state:"visible"}),()=>f(t,wI.Unmount)}),v=(0,ex.useRef)([]),y=(0,ex.useRef)(Promise.resolve()),x=(0,ex.useRef)({enter:[],leave:[]}),_=w$((t,i,s)=>{v.current.splice(0),r&&(r.chains.current[i]=r.chains.current[i].filter(([r])=>r!==t)),null==r||r.chains.current[i].push([t,new Promise(t=>{v.current.push(t)})]),null==r||r.chains.current[i].push([t,new Promise(t=>{Promise.all(x.current[i].map(([t,r])=>r)).then(()=>t())})]),"enter"===i?y.current=y.current.then(()=>null==r?void 0:r.wait.current).then(()=>s(i)):s(i)}),b=w$((t,r,i)=>{Promise.all(x.current[r].splice(0).map(([t,r])=>r)).then(()=>{var t;null==(t=v.current.shift())||t()}).then(()=>i(r))});return(0,ex.useMemo)(()=>({children:u,register:p,unregister:f,onStart:_,onStop:b,wait:y,chains:x}),[p,f,u,_,b,x,y])}ev5.displayName="NestingContext";let ev8=ex.Fragment,ev6=wE.RenderStrategy,ev7=wk(function(t,r){let{show:i,appear:s=!1,unmount:u=!0,...c}=t,h=(0,ex.useRef)(null),f=w1(...ev1(t)?[h,r]:null===r?[]:[r]);evK();let p=ev$();if(void 0===i&&null!==p&&(i=(p&evq.Open)===evq.Open),void 0===i)throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,y]=(0,ex.useState)(i?"visible":"hidden"),x=ev9(()=>{i||y("hidden")}),[_,b]=(0,ex.useState)(!0),w=(0,ex.useRef)([i]);wQ(()=>{!1!==_&&w.current[w.current.length-1]!==i&&(w.current.push(i),b(!1))},[w,i]);let S=(0,ex.useMemo)(()=>({show:i,appear:s,initial:_}),[i,s,_]);wQ(()=>{i?y("visible"):ev4(x)||null===h.current||y("hidden")},[i,x]);let A={unmount:u},M=w$(()=>{var r;_&&b(!1),null==(r=t.beforeEnter)||r.call(t)}),C=w$(()=>{var r;_&&b(!1),null==(r=t.beforeLeave)||r.call(t)}),T=wD();return ex.createElement(ev5.Provider,{value:x},ex.createElement(ev2.Provider,{value:S},T({ourProps:{...A,as:ex.Fragment,children:ex.createElement(eye,{ref:f,...A,...c,beforeEnter:M,beforeLeave:C})},theirProps:{},defaultTag:ex.Fragment,features:ev6,visible:"visible"===v,name:"Transition"})))}),eye=wk(function(t,r){var i,s;let{transition:u=!0,beforeEnter:c,afterEnter:h,beforeLeave:f,afterLeave:p,enter:v,enterFrom:y,enterTo:x,entered:_,leave:b,leaveFrom:w,leaveTo:S,...A}=t,[M,C]=(0,ex.useState)(null),T=(0,ex.useRef)(null),I=ev1(t),D=w1(...I?[T,r,C]:null===r?[]:[r]),R=null==(i=A.unmount)||i?wI.Unmount:wI.Hidden,{show:P,appear:L,initial:B}=function(){let t=(0,ex.useContext)(ev2);if(null===t)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),[k,O]=(0,ex.useState)(P?"visible":"hidden"),N=function(){let t=(0,ex.useContext)(ev5);if(null===t)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),{register:F,unregister:U}=N;wQ(()=>F(T),[F,T]),wQ(()=>{if(R===wI.Hidden&&T.current){if(P&&"visible"!==k){O("visible");return}return wT(k,{hidden:()=>U(T),visible:()=>F(T)})}},[k,T,F,U,P,R]);let z=evK();wQ(()=>{if(I&&z&&"visible"===k&&null===T.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[T,k,z,I]);let G=B&&!L,H=L&&P&&B,V=(0,ex.useRef)(!1),j=ev9(()=>{V.current||(O("hidden"),U(T))},N),W=w$(t=>{V.current=!0;j.onStart(T,t?"enter":"leave",t=>{"enter"===t?null==c||c():"leave"===t&&(null==f||f())})}),X=w$(t=>{let r=t?"enter":"leave";V.current=!1,j.onStop(T,r,t=>{"enter"===t?null==h||h():"leave"===t&&(null==p||p())}),"leave"!==r||ev4(j)||(O("hidden"),U(T))});(0,ex.useEffect)(()=>{I&&u||(W(P),X(P))},[P,I,u]);let[,Y]=function(t,r,i,s){let[u,c]=(0,ex.useState)(i),{hasFlag:h,addFlag:f,removeFlag:p}=function(t=0){let[r,i]=(0,ex.useState)(t),s=(0,ex.useCallback)(t=>i(t),[r]),u=(0,ex.useCallback)(t=>i(r=>r|t),[r]),c=(0,ex.useCallback)(t=>(r&t)===t,[r]);return{flags:r,setFlag:s,addFlag:u,hasFlag:c,removeFlag:(0,ex.useCallback)(t=>i(r=>r&~t),[i]),toggleFlag:(0,ex.useCallback)(t=>i(r=>r^t),[i])}}(t&&u?3:0),v=(0,ex.useRef)(!1),y=(0,ex.useRef)(!1);return wQ(()=>{var u;if(t){if(i&&c(!0),!r){i&&f(3);return}return null==(u=null==s?void 0:s.start)||u.call(s,i),function(t,{prepare:r,run:i,done:s,inFlight:u}){let c=SB();return function(t,{inFlight:r,prepare:i}){if(null!=r&&r.current){i();return}let s=t.style.transition;t.style.transition="none",i(),t.offsetHeight,t.style.transition=s}(t,{prepare:r,inFlight:u}),c.nextFrame(()=>{i(),c.requestAnimationFrame(()=>{c.add(function(t,r){var i,s;let u=SB();if(!t)return u.dispose;let c=!1;u.add(()=>{c=!0});let h=null!=(s=null==(i=t.getAnimations)?void 0:i.call(t).filter(t=>t instanceof CSSTransition))?s:[];return 0===h.length?r():Promise.allSettled(h.map(t=>t.finished)).then(()=>{c||r()}),u.dispose}(t,s))})}),c.dispose}(r,{inFlight:v,prepare(){y.current?y.current=!1:y.current=v.current,v.current=!0,y.current||(i?(f(3),p(4)):(f(4),p(2)))},run(){y.current?i?(p(3),f(4)):(p(4),f(3)):i?p(1):f(1)},done(){var t;y.current&&"function"==typeof r.getAnimations&&r.getAnimations().length>0||(v.current=!1,p(7),i||c(!1),null==(t=null==s?void 0:s.end)||t.call(s,i))}})}},[t,i,r,Sk()]),t?[u,{closed:h(1),enter:h(2),leave:h(4),transition:h(2)||h(4)}]:[i,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}(!(!u||!I||!z||G),M,P,{start:W,end:X}),Z=wO({ref:D,className:(null==(s=wC(A.className,H&&v,H&&y,Y.enter&&v,Y.enter&&Y.closed&&y,Y.enter&&!Y.closed&&x,Y.leave&&b,Y.leave&&!Y.closed&&w,Y.leave&&Y.closed&&S,!Y.transition&&P&&_))?void 0:s.trim())||void 0,...function(t){let r={};for(let i in t)!0===t[i]&&(r[`data-${i}`]="");return r}(Y)}),K=0;"visible"===k&&(K|=evq.Open),"hidden"===k&&(K|=evq.Closed),Y.enter&&(K|=evq.Opening),Y.leave&&(K|=evq.Closing);let J=wD();return ex.createElement(ev5.Provider,{value:j},ex.createElement(ev0,{value:K},J({ourProps:Z,theirProps:A,defaultTag:ev8,features:ev6,visible:"visible"===k,name:"Transition.Child"})))}),eyt=wk(function(t,r){let i=null!==(0,ex.useContext)(ev2),s=null!==ev$();return ex.createElement(ex.Fragment,null,!i&&s?ex.createElement(ev7,{ref:r,...t}):ex.createElement(eye,{ref:r,...t}))}),eyn=Object.assign(ev7,{Child:eyt,Root:ev7}),eyr=t=>{let{isOpen:r=!1,onClose:i,title:s,children:u,extraButtons:c}=t,h=(0,ex.useCallback)(t=>{t.target===t.currentTarget&&(null==i||i())},[i]);return(0,ev.jsxs)(eyn,{show:r,as:ex.Fragment,children:[(0,ev.jsx)(eyn.Child,{as:ex.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,ev.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"})}),(0,ev.jsx)("div",{className:"fixed inset-0 overflow-y-auto",onPointerDown:h,children:(0,ev.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",onPointerDown:h,children:(0,ev.jsx)(eyn.Child,{as:ex.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,ev.jsxs)("div",{className:AT(`
                w-full max-w-md transform overflow-hidden rounded-lg bg-white
                p-4 shadow-xl transition-all
              `),children:[(0,ev.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,ev.jsx)("h3",{className:"text-lg font-medium",children:s}),(0,ev.jsxs)("div",{className:"flex gap-2",children:[c,(0,ev.jsx)("button",{onPointerDown:i,className:`
                      rounded-full p-1 transition-colors

                      hover:bg-gray-100
                    `,children:(0,ev.jsx)(eoN,{className:"h-5 w-5 text-gray-500"})})]})]}),(0,ev.jsx)("div",{className:"mt-2 max-h-96 overflow-y-auto",children:u})]})})})})]})},eyi=SH("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),eya=SH("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]),eyo=SH("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),eys=SH("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),eyl=t=>{(0,ex.useEffect)(()=>{let r=r=>{"Escape"===r.key&&t()};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[t])},eyu=()=>{let[t,r]=(0,ex.useState)(!1),[i,s]=(0,ex.useState)(!1),[u,c]=(0,ex.useState)([]),[h,f]=(0,ex.useState)(""),[p,v]=(0,ex.useState)(""),[y,x]=(0,ex.useState)(!1),[_,b]=(0,ex.useState)(!1),{focused:w}=xX(wn);eyl(()=>C());let S=(0,ex.useMemo)(()=>_O(-1),[]),A=(0,ex.useMemo)(()=>_O(-1),[]),M=(0,ex.useMemo)(()=>JSON.stringify(u.reduce((t,r)=>({...t,[r.key]:r.value}),{}),null,2),[u]);(0,ex.useEffect)(()=>{if(r(!!w),!w||!w.metadata){c([]);return}c(Object.entries(w.metadata).map(t=>{let[r,i]=t;return{key:r,value:i}}))},[w]);let C=(0,ex.useCallback)(()=>{var t;let r=null===(t=be.runtimeData.models)||void 0===t?void 0:t.find(t=>t.id===(null==w?void 0:w.id));r&&(r.metadata=u.reduce((t,r)=>({...t,[r.key]:r.value}),{})),wn.focused=null},[w,u]),T=(0,ex.useCallback)(()=>{window.navigator.clipboard.writeText(M),window.clearTimeout(S.value),s(!0),S.value=window.setTimeout(()=>s(!1),3e3)},[S,M]),I=(0,ex.useCallback)(()=>{if(window.clearTimeout(A.value),!h.trim()){x(!0),A.value=window.setTimeout(()=>x(!1),1e3);return}if(!p.trim()){b(!0),A.value=window.setTimeout(()=>b(!1),1e3);return}c([...u,{key:h.trim(),value:p.trim()}]),f(""),v("")},[A,h,p,u]),D=(0,ex.useCallback)(t=>{c(u.filter((r,i)=>i!==t))},[u]),R=(0,ex.useCallback)(t=>{"Enter"===t.key&&I()},[I]);return(0,ev.jsx)("div",{className:"fixed bottom-0 left-0 p-3",style:{zIndex:50},children:(0,ev.jsx)(eyr,{title:"Metadata",isOpen:t,onClose:C,extraButtons:(0,ev.jsx)("button",{onPointerDown:T,className:`
              rounded-full p-1 transition-colors

              hover:bg-slate-100
            `,children:i?(0,ev.jsx)(eyi,{className:"h-5 w-5 text-slate-500"}):(0,ev.jsx)(eya,{className:"h-5 w-5 text-slate-500"})}),children:(0,ev.jsxs)("div",{className:"w-full p-0.5",children:[(0,ev.jsxs)("div",{className:"flex w-full gap-2",children:[(0,ev.jsx)("input",{type:"text",value:h,onChange:t=>f(t.target.value),placeholder:" ",className:AT(`
                  min-w-12 flex-1 rounded border p-2 transition-all

                  focus:outline-none focus:ring-2 focus:ring-slate-500
                `,y?"ring-2 ring-red-500":""),onKeyDown:R}),(0,ev.jsx)("input",{type:"text",value:p,onChange:t=>v(t.target.value),placeholder:" ",className:AT(`
                  min-w-12 flex-1 rounded border p-2 transition-all

                  focus:outline-none focus:ring-2 focus:ring-slate-500
                `,_?"ring-2 ring-red-500":""),onKeyDown:R}),(0,ev.jsx)(eaB,{onClick:I,children:(0,ev.jsx)(eyo,{className:"size-5"})})]}),(0,ev.jsx)("div",{className:"mt-2 flex flex-col gap-1",children:u.map((t,r)=>(0,ev.jsxs)("div",{className:AT(`
                  flex items-center justify-between rounded bg-gray-50 p-3

                  hover:bg-gray-100
                `),children:[(0,ev.jsxs)("div",{className:"flex flex-1",children:[(0,ev.jsx)("span",{className:"w-1/2 font-medium",children:t.key}),(0,ev.jsx)("span",{className:"w-1/2",children:t.value})]}),(0,ev.jsx)("button",{onClick:()=>D(r),className:AT(`
                    text-red-500

                    focus:outline-none

                    hover:text-red-600
                  `),children:(0,ev.jsx)(eys,{className:"h-5 w-5"})})]},r))}),(0,ev.jsx)("pre",{className:"mt-2 rounded border bg-slate-50 p-3 text-xs",children:M})]})})})},eyc=t=>{let{open:r=!1,onClose:i}=t,[s,u]=(0,ex.useState)(!1),{runtimeData:c}=xX(be),{isFullscreen:h}=xX(wn),f=(0,ex.useMemo)(()=>_O(-1),[]),p=(0,ex.useMemo)(()=>JSON.stringify(c.models,null,2),[c]),v=(0,ex.useCallback)(()=>{window.navigator.clipboard.writeText(p),window.clearTimeout(f.value),u(!0),f.value=window.setTimeout(()=>u(!1),3e3)},[f,p]);return(0,ev.jsx)("div",{className:"fixed bottom-0 left-0 p-3",style:{zIndex:h?0:50},children:(0,ev.jsx)(eyr,{title:"Models",isOpen:r,onClose:i,extraButtons:(0,ev.jsx)("button",{onPointerDown:v,className:`
              rounded-full p-1 transition-colors

              hover:bg-slate-100
            `,children:s?(0,ev.jsx)(eyi,{className:"h-5 w-5 text-slate-500"}):(0,ev.jsx)(eya,{className:"h-5 w-5 text-slate-500"})}),children:(0,ev.jsx)("pre",{className:"rounded border bg-slate-50 p-3 text-xs",children:p})})})},eyh=SH("PanelBottomOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}]]),eyd=SH("PanelBottomClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"m15 8-3 3-3-3",key:"1oxy1z"}]]),eyf=t=>{let{handler:r,children:i,className:s}=t,[u,c]=(0,ex.useState)(!1),[h,f]=(0,ex.useState)({x:0,y:0}),[p,v]=(0,ex.useState)({x:0,y:0}),y=(0,ex.useCallback)(t=>{(!r||t.target instanceof Element&&t.target.closest(".drag-handler"))&&(c(!0),v({x:t.clientX-h.x,y:t.clientY-h.y}))},[r,h]),x=(0,ex.useCallback)(t=>{u&&(t.preventDefault(),f({x:t.clientX-p.x,y:t.clientY-p.y}))},[u,p]),_=(0,ex.useCallback)(()=>{c(!1)},[]);return(0,ex.useEffect)(()=>(document.addEventListener("mousemove",x),document.addEventListener("mouseup",_),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",_)}),[x,_]),(0,ev.jsxs)("div",{className:AT("absolute",u?"cursor-grabbing":"cursor-grab",s),style:{transform:`translate(${h.x}px, ${h.y}px)`,userSelect:"none",touchAction:"none"},onMouseDown:y,children:[r&&(0,ev.jsx)("div",{className:"drag-handler",children:r}),(0,ev.jsx)("div",{children:i})]})},eyp=t=>{(0,ex.useEffect)(()=>{let r=()=>t();return window.addEventListener("contextmenu",r),()=>window.removeEventListener("contextmenu",r)},[t])},eyg=t=>{let{open:r=!1,onClose:i}=t,{selectedAsset:s}=xX(evW);eyl(()=>evW.selectedAsset=null),eyp(()=>evW.selectedAsset=null);let[u,c]=(0,ex.useState)(!1),h=(0,ex.useCallback)(()=>c(t=>!t),[]),f=(0,ex.useMemo)(()=>Object.keys(wf).map((t,r)=>{let i=wf[t];return(0,ev.jsx)(eaL,{onClick:()=>evW.selectedAsset=s?null:i,className:AT(`
              border border-slate-200

              hover:border-slate-300
            `,(null==s?void 0:s.name)===t?"border-slate-400":""),children:(0,ev.jsx)("img",{className:"size-16",src:vD(i.image),alt:t})},r)}),[s]),p=(0,ex.useMemo)(()=>(0,ev.jsxs)("div",{className:AT(`
          flex w-full gap-1.5 rounded-t border border-b-0 border-slate-300
          bg-slate-200 px-2 py-1
        `),children:[(0,ev.jsx)("span",{className:"flex-1 select-none text-xs text-slate-500",children:""}),(0,ev.jsx)(eaL,{onPointerDown:h,children:u?(0,ev.jsx)(eyh,{className:AT(`
                size-4 text-slate-500

                hover:text-slate-400
              `)}):(0,ev.jsx)(eyd,{className:AT(`
                size-4 text-slate-500

                hover:text-slate-400
              `)})}),(0,ev.jsx)(eaL,{onPointerDown:i,children:(0,ev.jsx)(eoN,{className:AT(`
              size-4 text-slate-500

              hover:text-slate-400
            `)})})]}),[h,u,i]);return(0,ev.jsx)("div",{className:AT(`
          absolute bottom-[118px] left-1/2 -translate-x-[192px] transition-all
          duration-300
        `,r?"z-30 opacity-100":"z-0 opacity-0"),children:(0,ev.jsx)(eyf,{handler:p,children:(0,ev.jsx)("div",{className:AT(`
              w-96 overflow-y-auto overflow-x-hidden border border-slate-300
              bg-slate-50 px-2 transition-all duration-300
            `,u?"h-0 border-t-0 py-0":"h-[84px] py-2"),children:(0,ev.jsx)("div",{className:AT("grid select-none grid-cols-5 gap-2"),children:f})})})})},eym=()=>{let[t,r]=(0,ex.useState)(!1),[i,s]=(0,ex.useState)(!1);return(0,ev.jsxs)("div",{children:[(0,ev.jsx)(eyc,{open:t,onClose:()=>r(!1)}),(0,ev.jsx)(eyg,{open:i,onClose:()=>s(!1)}),(0,ev.jsxs)("div",{className:AT("fixed bottom-3 left-3 z-30 flex gap-2"),children:[(0,ev.jsx)(eaB,{onPointerDown:()=>r(t=>!t),children:""}),(0,ev.jsx)(eaB,{onPointerDown:()=>s(t=>!t),children:""})]})]})};var eyv=i("8769");let eyy=t=>{let r;let i=new Set,s=(t,s)=>{let u="function"==typeof t?t(r):t;if(!Object.is(u,r)){let t=r;r=(null!=s?s:"object"!=typeof u||null===u)?u:Object.assign({},r,u),i.forEach(i=>i(r,t))}},u=()=>r,c={setState:s,getState:u,getInitialState:()=>h,subscribe:t=>(i.add(t),()=>i.delete(t)),destroy:()=>{i.clear()}},h=r=t(s,u,c);return c},eyx=t=>t?eyy(t):eyy,{useDebugValue:ey_}=ex,{useSyncExternalStoreWithSelector:eyb}=eyv,eyw=t=>t,eyS=(t,r)=>{let i=eyx(t),s=(t,s=r)=>(function(t,r=eyw,i){let s=eyb(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,i);return ey_(s),s})(i,t,s);return Object.assign(s,i),s};function eyA(t,r){if(Object.is(t,r))return!0;if("object"!=typeof t||null===t||"object"!=typeof r||null===r)return!1;if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(let[i,s]of t)if(!Object.is(s,r.get(i)))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(let i of t)if(!r.has(i))return!1;return!0}let i=Object.keys(t);if(i.length!==Object.keys(r).length)return!1;for(let s of i)if(!Object.prototype.hasOwnProperty.call(r,s)||!Object.is(t[s],r[s]))return!1;return!0}let eyM=((t,r)=>t?eyS(t,r):eyS)((t,r)=>({log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:function(){var t;let{accumulated:i,startTime:s,infos:u}=r(),c=null==(t=r().log)?void 0:t.maxMemory,{totalFrames:h,log:f,gl:p,max:v}=i,y={calls:p.calls/h,triangles:p.triangles/h,points:p.points/h,lines:p.lines/h},x={gpu:f.gpu/h,cpu:f.cpu/h,mem:f.mem/h,fps:f.fps/h};return{sessionTime:(window.performance.now()-s)/1e3,infos:u,log:x,gl:y,max:v,maxMemory:c,totalFrames:h}}})),eyC=t=>eyM(t,eyA);Object.assign(eyC,eyM);let{getState:eyT,setState:eyE}=eyM,eyI={value:0,fpsLimit:60,isOverLimit:0},eyD=t=>(null==t?void 0:t.reduce((t,r)=>t+r,0))/t.length;class eyR{constructor(t={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,t),this.fpsChart=Array(this.chartLen).fill(0),this.gpuChart=Array(this.chartLen).fill(0),this.cpuChart=Array(this.chartLen).fill(0),this.memChart=Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=rU.generateUUID(),this.gl&&(this.isWebGL2=!0,!this.extension&&(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),null===this.extension&&(this.isWebGL2=!1))}is120hz(){let t=0,r=i=>{++t<20?this.rafId=window.requestAnimationFrame(r):(this.detected=Math.ceil(1e3*t/(i-this.t0)/70),window.cancelAnimationFrame(this.rafId)),!this.t0&&(this.t0=i)};this.rafId=window.requestAnimationFrame(r)}addUI(t){-1===this.names.indexOf(t)&&(this.names.push(t),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(t){let r=1e3/60,i=1e3/60-t.timeRemaining(),s=r*eyI.fpsLimit/10/i;!(s<0)&&(eyI.value=s,eyI.isOverLimit<25?eyI.isOverLimit++:eyE({overclockingFps:!0}))}nextFrame(t){this.frameId++;let r=t||this.now(),i=r-this.paramTime,s=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=r;else if(r>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;let u=this.frameId-this.paramFrame,c=1e3*u/i,h=eyT().overclockingFps?eyI.value:c;if(s=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/i,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");let t=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=(null==t?void 0:t.duration)||0,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(c),this.logsAccums.fps.push(h),this.logsAccums.gpu.push(s),this.overClock&&void 0!==window.requestIdleCallback&&(eyI.isOverLimit>0&&h>c?eyI.isOverLimit--:eyT().overclockingFps&&eyE({overclockingFps:!1})),r>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:eyD(this.logsAccums.cpu),gpu:eyD(this.logsAccums.gpu),mem:eyD(this.logsAccums.mem),fps:eyD(this.logsAccums.fps),duration:Math.round(i),maxMemory:this.maxMemory,frameCount:u}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=r),this.overClock&&r-this.lastCalculateFixed>=2e3&&(this.lastCalculateFixed=t,eyI.fpsLimit=100*Math.round(eyD(this.logsAccums.fpsFixed)/10),eyE({fpsLimit:eyI.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=r)}if(this.detected&&this.chartFrame){let t=r-this.chartTime,s=this.chartHz*t/1e3;for(;--s>0&&this.detected;){let s=(this.frameId-this.chartFrame)/t*1e3,u=eyT().overclockingFps?eyI.value:s;this.fpsChart[this.circularId%this.chartLen]=u;let c=1e3/this.currentMem,h=this.currentCpu,f=(this.isWebGL2?2*this.gpuAccums[1]:Math.round(this.gpuAccums[1]/i*100))+4;f>0&&(this.gpuChart[this.circularId%this.chartLen]=f),h>0&&(this.cpuChart[this.circularId%this.chartLen]=h),c>0&&(this.memChart[this.circularId%this.chartLen]=c);for(let t=0;t<this.names.length;t++)this.chartLogger({i:t,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=r}}else this.chartFrame=this.frameId,this.chartTime=r,this.circularId=0}startGpu(){let t=this.gl,r=this.extension;if(t&&r&&this.isWebGL2){let i,s=!1;if(this.query){this.queryHasResult=!1;let u=this.query;if(s=t.getQueryParameter(u,t.QUERY_RESULT_AVAILABLE),i=t.getParameter(r.GPU_DISJOINT_EXT),s&&!i){let r=1e-6*t.getQueryParameter(this.query,t.QUERY_RESULT);(s||i)&&(t.deleteQuery(this.query),u=null),s&&r>0&&!i&&this.activeAccums.forEach((t,i)=>{this.gpuAccums[i]=r})}}(s||!this.query)&&(this.queryCreated=!0,this.query=t.createQuery(),t.beginQuery(r.TIME_ELAPSED_EXT,this.query))}}endGpu(){let t=this.extension,r=this.gl;this.isWebGL2&&this.queryCreated&&r.getQuery(t.TIME_ELAPSED_EXT,r.CURRENT_QUERY)&&r.endQuery(t.TIME_ELAPSED_EXT)}begin(t){this.startGpu(),this.updateAccums(t)}end(t){this.endGpu(),this.updateAccums(t)}updateAccums(t){let r=this.names.indexOf(t);-1===r&&(r=this.names.length,this.addUI(t));let i=this.now();this.activeAccums[r]=!this.activeAccums[r],this.t0=i}}let eyP=t=>{t.forEach((t,r)=>{let{meshes:i}=t;if(!i)return;let s={total:0,type:"Triangle",data:[]};Object.keys(i).forEach(t=>{let r=i[t],{geometry:u,material:c}=r,h=u.index,f=u.attributes.position;if(!f)return;let p=1;!0===c.wireframe&&(p=0);let v=null!==h?h.count:f.count,y=u.drawRange.start*p,x=u.drawRange.count*p,_=Math.min(v,y+x)-1,b=1,w=r.count||1,S="Triangle",A=0;r.isMesh?!0===c.wireframe?(S="Line",b/=2):(S="Triangle",b/=3):r.isLine?(S="Line",r.isLineSegments?b/=2:r.isLineLoop||(b-=1)):r.isPoints?S="Point":r.isSprite&&(S="Triangle",b/=3);let M=Math.round(b*w*Math.max(0,_-y+1));M>A&&(A=M,s.type=S),s.total+=M,s.data.push({drawCount:M,type:S}),r.userData.drawCount={type:S,count:M}}),t.drawCounts=s})},eyL=new(i("1312")),eyB=ar.prototype.updateMatrixWorld,eyk=ar.prototype.updateWorldMatrix,eyO=ar.prototype.updateMatrix,eyN=["calls","triangles","points","lines"],eyF=["gpu","cpu","mem","fps"],eyU={value:0},eyz={value:0},eyG=t=>{let r=""+t;return null!==(r=r.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"))&&!0},eyH=(t,r)=>{!t.defines&&(t.defines={}),t.defines&&!t.defines.muiPerf&&(t.defines=Object.assign(t.defines||{},{muiPerf:t.uuid}));let i=t.uuid;return!r[i]&&(r[i]={meshes:{},material:t},t.needsUpdate=!0),t.needsUpdate=!1,i},eyV=t=>"muiPerf"===t,eyj=({overClock:t,logsPerSecond:r,chart:i,deepAnalyze:s,matrixUpdate:u})=>{let{gl:c,scene:h}=pB();eyE({gl:c,scene:h});let f=(0,ex.useMemo)(()=>{let s=new eyR({trackGPU:!0,overClock:t,chartLen:i?i.length:120,chartHz:i?i.hz:60,logsPerSecond:r||10,gl:c.getContext(),chartLogger:t=>{eyE({chart:t})},paramLogger:t=>{var r,i;let s={maxMemory:t.maxMemory,gpu:t.gpu,cpu:t.cpu,mem:t.mem,fps:t.fps,totalTime:t.duration,frameCount:t.frameCount};eyE({log:s});let{accumulated:u}=eyT(),h=c.info.render;u.totalFrames++,u.gl.calls+=h.calls,u.gl.triangles+=h.triangles,u.gl.points+=h.points,u.gl.lines+=h.lines,u.log.gpu+=t.gpu,u.log.cpu+=t.cpu,u.log.mem+=t.mem,u.log.fps+=t.fps;for(let t=0;t<eyN.length;t++){let r=eyN[t],i=h[r];i>u.max.gl[r]&&(u.max.gl[r]=i)}for(let r=0;r<eyF.length;r++){let i=eyF[r],s=t[i];s>u.max.log[i]&&(u.max.log[i]=s)}eyE({accumulated:u}),r="log",i=[s,c],eyL.emit("log",i)}}),u=c.getContext(),h=null,f=null,p=u.getExtension("WEBGL_debug_renderer_info"),v=u.getParameter(u.VERSION);null!=p&&(h=u.getParameter(p.UNMASKED_RENDERER_WEBGL),f=u.getParameter(p.UNMASKED_VENDOR_WEBGL)),!f&&(f="Unknown vendor"),!h&&(h=u.getParameter(u.RENDERER)),eyE({startTime:window.performance.now(),infos:{version:v,renderer:h,vendor:f}});let y=new Map,x=new Map;return Object.defineProperty(lY.prototype,"onBeforeRender",{get(){return(...t)=>{var r;s&&s.begin("profiler"),null==(r=y.get(this))||r(...t)}},set(t){y.set(this,t)},configurable:!0}),Object.defineProperty(lY.prototype,"onAfterRender",{get(){return(...t)=>{var r;s&&s.end("profiler"),null==(r=x.get(this))||r(...t)}},set(t){x.set(this,t)},configurable:!0}),s},[]);return(0,ex.useEffect)(()=>{f&&(f.overClock=t||!1,!1===t&&(eyE({overclockingFps:!1}),eyI.value=0,eyI.isOverLimit=0),f.chartHz=(null==i?void 0:i.hz)||60,f.chartLen=(null==i?void 0:i.length)||120)},[t,f,null==i?void 0:i.length,null==i?void 0:i.hz]),(0,ex.useEffect)(()=>{u&&(ar.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&eyU.value++,eyB.apply(this,arguments)},ar.prototype.updateWorldMatrix=function(){eyU.value++,eyk.apply(this,arguments)},ar.prototype.updateMatrix=function(){eyz.value++,eyO.apply(this,arguments)}),c.info.autoReset=!1;let r=null,i=null;if(c.info)return r=pT(function(){eyT().paused&&eyE({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),f.startCpuProfiling=!0),eyz.value-=1,eyU.value=0,eyz.value=0,c.info&&c.info.reset()}),i=pE(function(){var r,i;if(f&&!f.paused&&(f.nextFrame(window.performance.now()),t&&void 0!==window.requestIdleCallback&&(f.idleCbId=requestIdleCallback(f.nextFps))),s){let t={},s=new Map;h.traverse(function(r){if((r instanceof a6||r instanceof ce)&&r.material){let i=r.material.uuid;i=Array.isArray(r.material)&&r.material.length>1?eyH(r.material[1],t):eyH(r.material,t),t[i].meshes[r.uuid]=r}}),null==(i=null==(r=null==c?void 0:c.info)?void 0:r.programs)||i.forEach(r=>{let i=r.cacheKey.split(","),u=i[i.findIndex(eyV)+1];if(eyG(u)&&t[u]){let{material:i,meshes:c}=t[u];s.set(u,{program:r,material:i,meshes:c,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),s.size!==eyT().programs.size&&(eyP(s),eyE({programs:s,triggerProgramsUpdate:eyT().triggerProgramsUpdate++}))}}),()=>{f&&(void 0!==window.cancelIdleCallback&&window.cancelIdleCallback(f.idleCbId),window.cancelAnimationFrame(f.rafId),window.cancelAnimationFrame(f.checkQueryId)),u&&(ar.prototype.updateMatrixWorld=eyO),r(),i()}},[f,c,i,u]),(0,ex.useEffect)(()=>{let t=pI(function(){return f&&(f.paused=!0,eyz.value=0,eyU.value=0,eyE({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{t()}},[]),null},eyW=euf("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),eyX=euf("small",{position:"absolute",right:0,fontSize:"10px"}),eyY=euf("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),eyZ=euf("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),eyK=euf("div",{display:"flex"}),eyJ=euf("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),eyQ=euf("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),eyq=euf("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),ey$=euf("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),ey0=euf("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),ey1=euf("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),ey2=euf("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),ey3=euf("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),ey5=euf("div",{marginTop:"0"}),ey4=euf("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),ey9=euf("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),ey8=euf("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),ey6=euf("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),ey7=euf("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function exe(t,r){if(null==t)return{};var i,s,u={},c=Object.keys(t);for(s=0;s<c.length;s++)i=c[s],!(r.indexOf(i)>=0)&&(u[i]=t[i]);return u}var ext=["color"],exn=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,ext);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exr=["color"],exi=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exr);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exa=["color"],exo=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exa);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exs=["color"],exl=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exs);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exu=["color"],exc=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exu);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exh=["color"],exd=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exh);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exf=["color"],exp=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exf);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exg=["color"],exm=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exg);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exv=["color"],exy=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exv);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exx=["color"],ex_=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exx);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exb=["color"],exw=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exb);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exS=["color"],exA=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exS);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exM=["color"],exC=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exM);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exT=["color"],exE=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exT);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exI=["color"],exD=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exI);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exR=["color"],exP=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exR);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exL=["color"],exB=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exL);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exk=["color"],exO=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exk);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))}),exN=["color"],exF=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exN);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:void 0===i?"currentColor":i}))}),exU=["color"],exz=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exU);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:void 0===i?"currentColor":i}))}),exG=["color"],exH=(0,ex.forwardRef)(function(t,r){var i=t.color,s=exe(t,exG);return(0,ex.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:r}),(0,ex.createElement)("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:void 0===i?"currentColor":i,fillRule:"evenodd",clipRule:"evenodd"}))});function exV(){var t=Object.create(null);function r(t,r){var i=void 0;self.troikaDefine=function(t){return i=t};var s=URL.createObjectURL(new Blob(["/** "+t.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+r+"\n)"],{type:"application/javascript"}));try{importScripts(s)}catch(t){}return URL.revokeObjectURL(s),delete self.troikaDefine,i}self.addEventListener("message",function(i){var s=i.data,u=s.messageId,c=s.action,h=s.data;try{"registerModule"===c&&!function i(s,u){var c=s.id,h=s.name,f=s.dependencies;void 0===f&&(f=[]);var p=s.init;void 0===p&&(p=function(){});var v=s.getTransferables;if(void 0===v&&(v=null),!t[c])try{f=f.map(function(r){return r&&r.isWorkerModule&&(i(r,function(t){if(t instanceof Error)throw t}),r=t[r.id].value),r}),p=r("<"+h+">.init",p),v&&(v=r("<"+h+">.getTransferables",v));var y=null;"function"==typeof p&&(y=p.apply(void 0,f)),t[c]={id:c,value:y,getTransferables:v},u(y)}catch(t){t&&t.noLog,u(t)}}(h,function(t){t instanceof Error?postMessage({messageId:u,success:!1,error:t.message}):postMessage({messageId:u,success:!0,result:{isCallable:"function"==typeof t}})}),"callModule"===c&&!function(r,i){var s,u=r.id,c=r.args;(!t[u]||"function"!=typeof t[u].value)&&i(Error("Worker module "+u+": not found or its 'init' did not return a function"));try{var h=(s=t[u]).value.apply(s,c);h&&"function"==typeof h.then?h.then(f,function(t){return i(t instanceof Error?t:Error(""+t))}):f(h)}catch(t){i(t)}function f(r){try{var s=t[u].getTransferables&&t[u].getTransferables(r);(!s||!Array.isArray(s)||!s.length)&&(s=void 0),i(r,s)}catch(t){i(t)}}}(h,function(t,r){t instanceof Error?postMessage({messageId:u,success:!1,error:t.message}):postMessage({messageId:u,success:!0,result:t},r||void 0)})}catch(t){postMessage({messageId:u,success:!1,error:t.stack})}})}var exj=function(){var t=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),t=!0}catch(t){}return exj=function(){return t},t},exW=0,exX=0,exY=!1,exZ=Object.create(null),exK=Object.create(null),exJ=Object.create(null);function exQ(t){if((!t||"function"!=typeof t.init)&&!exY)throw Error("requires `options.init` function");var r,i,s=t.dependencies,u=t.init,c=t.getTransferables,h=t.workerId;var f=(r=t,(i=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return i._getInitResult().then(function(r){if("function"==typeof r)return r.apply(void 0,t);throw Error("Worker module function was called but `init` did not return a callable function")})})._getInitResult=function(){var t=r.dependencies,s=r.init,u=Promise.all(t=Array.isArray(t)?t.map(function(t){return t&&(t=t.onMainThread||t)._getInitResult&&(t=t._getInitResult()),t}):[]).then(function(t){return s.apply(null,t)});return i._getInitResult=function(){return u},u},i);null==h&&(h="#default");var p="workerModule"+ ++exW,v=t.name||p,y=null;function x(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!exj())return f.apply(void 0,t);if(!y){y=ex$(h,"registerModule",x.workerModuleData);var i=function(){y=null,exK[h].delete(i)};(exK[h]||(exK[h]=new Set)).add(i)}return y.then(function(r){if(r.isCallable)return ex$(h,"callModule",{id:p,args:t});throw Error("Worker module function was called but `init` did not return a callable function")})}return s=s&&s.map(function(t){return"function"==typeof t&&!t.workerModuleData&&(exY=!0,t=exQ({workerId:h,name:"<"+v+"> function dependency: "+t.name,init:"function(){return (\n"+exq(t)+"\n)}"}),exY=!1),t&&t.workerModuleData&&(t=t.workerModuleData),t}),x.workerModuleData={isWorkerModule:!0,id:p,name:v,dependencies:s,init:exq(u),getTransferables:c&&exq(c)},x.onMainThread=f,x}function exq(t){var r=t.toString();return!/^function/.test(r)&&/^\w+\s*\(/.test(r)&&(r="function "+r),r}function ex$(t,r,i){return new Promise(function(s,u){var c=++exX;exJ[c]=function(t){t.success?s(t.result):u(Error("Error in worker "+r+" call: "+t.error))},(function(t){var r=exZ[t];if(!r){var i=exq(exV);(r=exZ[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+" **/\n\n;("+i+")()"],{type:"application/javascript"})))).onmessage=function(t){var r=t.data,i=r.messageId,s=exJ[i];if(!s)throw Error("WorkerModule response with empty or unknown messageId");delete exJ[i],s(r)}}return r})(t).postMessage({messageId:c,action:r,data:i})})}function ex0(){return function(t){function r(t,r){for(var i,s,u,c,h,f=/([MLQCZ])([^MLQCZ]*)/g;i=f.exec(t);){var p=i[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(t){return parseFloat(t)});switch(i[1]){case"M":c=s=p[0],h=u=p[1];break;case"L":(p[0]!==c||p[1]!==h)&&r("L",c,h,c=p[0],h=p[1]);break;case"Q":r("Q",c,h,c=p[2],h=p[3],p[0],p[1]);break;case"C":r("C",c,h,c=p[4],h=p[5],p[0],p[1],p[2],p[3]);break;case"Z":(c!==s||h!==u)&&r("L",c,h,s,u)}}}function i(t,i,s){void 0===s&&(s=16);var u={x:0,y:0};r(t,function(t,r,c,h,f,p,v,y,x){switch(t){case"L":i(r,c,h,f);break;case"Q":for(var _=r,b=c,w=1;w<s;w++)!function(t,r,i,s,u,c,h,f){var p=1-h;f.x=p*p*t+2*p*h*i+h*h*u,f.y=p*p*r+2*p*h*s+h*h*c}(r,c,p,v,h,f,w/(s-1),u),i(_,b,u.x,u.y),_=u.x,b=u.y;break;case"C":for(var S=r,A=c,M=1;M<s;M++)!function(t,r,i,s,u,c,h,f,p,v){var y=1-p;v.x=y*y*y*t+3*y*y*p*i+3*y*p*p*u+p*p*p*h,v.y=y*y*y*r+3*y*y*p*s+3*y*p*p*c+p*p*p*f}(r,c,p,v,y,x,h,f,M/(s-1),u),i(S,A,u.x,u.y),S=u.x,A=u.y}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",u=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function h(t,r){var i=t.getContext?t.getContext("webgl",c):t,s=u.get(i);if(!s){var h="undefined"!=typeof WebGL2RenderingContext&&i instanceof WebGL2RenderingContext,f={},p={},v={},y=-1,x=[];function _(t){var r=f[t];if(!r&&!(r=f[t]=i.getExtension(t)))throw Error(t+" not supported");return r}function b(t,r){var s=i.createShader(r);return i.shaderSource(s,t),i.compileShader(s),s}i.canvas.addEventListener("webglcontextlost",function(t){w(),t.preventDefault()},!1);function w(){f={},p={},v={},y=-1,x.length=0}u.set(i,s={gl:i,isWebGL2:h,getExtension:_,withProgram:function(t,r,s,u){if(!p[t]){var c={},f={},v=i.createProgram();i.attachShader(v,b(r,i.VERTEX_SHADER)),i.attachShader(v,b(s,i.FRAGMENT_SHADER)),i.linkProgram(v),p[t]={program:v,transaction:function(t){i.useProgram(v),t({setUniform:function(t,r){for(var s=[],u=arguments.length-2;u-- >0;)s[u]=arguments[u+2];var c=f[r]||(f[r]=i.getUniformLocation(v,r));i["uniform"+t].apply(i,[c].concat(s))},setAttribute:function(t,r,s,u,f){var p=c[t];!p&&(p=c[t]={buf:i.createBuffer(),loc:i.getAttribLocation(v,t),data:null}),i.bindBuffer(i.ARRAY_BUFFER,p.buf),i.vertexAttribPointer(p.loc,r,i.FLOAT,!1,0,0),i.enableVertexAttribArray(p.loc),h?i.vertexAttribDivisor(p.loc,u):_("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(p.loc,u),f!==p.data&&(i.bufferData(i.ARRAY_BUFFER,f,s),p.data=f)}})}}}p[t].transaction(u)},withTexture:function(t,r){y++;try{i.activeTexture(i.TEXTURE0+y);var s=v[t];!s&&(s=v[t]=i.createTexture(),i.bindTexture(i.TEXTURE_2D,s),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST)),i.bindTexture(i.TEXTURE_2D,s),r(s,y)}finally{y--}},withTextureFramebuffer:function(t,r,s){var u=i.createFramebuffer();x.push(u),i.bindFramebuffer(i.FRAMEBUFFER,u),i.activeTexture(i.TEXTURE0+r),i.bindTexture(i.TEXTURE_2D,t),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0);try{s(u)}finally{i.deleteFramebuffer(u),i.bindFramebuffer(i.FRAMEBUFFER,x[--x.length-1]||null)}},handleContextLoss:w})}r(s)}function f(t,r,i,u,c,f,p,v){void 0===p&&(p=15),void 0===v&&(v=null),h(t,function(t){var h=t.gl,y=t.withProgram;(0,t.withTexture)("copy",function(t,x){h.texImage2D(h.TEXTURE_2D,0,h.RGBA,c,f,0,h.RGBA,h.UNSIGNED_BYTE,r),y("copy",s,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",function(t){var r=t.setUniform;(0,t.setAttribute)("aUV",2,h.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),r("1i","image",x),h.bindFramebuffer(h.FRAMEBUFFER,v||null),h.disable(h.BLEND),h.colorMask(8&p,4&p,2&p,1&p),h.viewport(i,u,c,f),h.scissor(i,u,c,f),h.drawArrays(h.TRIANGLES,0,3)})})})}var p=Object.freeze({__proto__:null,withWebGLContext:h,renderImageData:f,resizeWebGLCanvasWithoutClearing:function(t,r,i){var s=t.width,u=t.height;h(t,function(c){var h=c.gl,p=new Uint8Array(s*u*4);h.readPixels(0,0,s,u,h.RGBA,h.UNSIGNED_BYTE,p),t.width=r,t.height=i,f(h,p,0,0,s,u)})}});function v(t,r,s,u,c,h){void 0===h&&(h=1);var f=new Uint8Array(t*r),p=u[2]-u[0],v=u[3]-u[1],y=[];i(s,function(t,r,i,s){y.push({x1:t,y1:r,x2:i,y2:s,minX:Math.min(t,i),minY:Math.min(r,s),maxX:Math.max(t,i),maxY:Math.max(r,s)})}),y.sort(function(t,r){return t.maxX-r.maxX});for(var x=0;x<t;x++)for(var _=0;_<r;_++){var b=function(t,r){for(var i=1/0,s=1/0,u=y.length;u--;){var c=y[u];if(c.maxX+s<=t)break;if(t+s>c.minX&&r-s<c.maxY&&r+s>c.minY){var h=function(t,r,i,s,u,c){var h=u-i,f=c-s,p=h*h+f*f,v=p?Math.max(0,Math.min(1,((t-i)*h+(r-s)*f)/p)):0,y=t-(i+v*h),x=r-(s+v*f);return y*y+x*x}(t,r,c.x1,c.y1,c.x2,c.y2);h<i&&(s=Math.sqrt(i=h))}}return function(t,r){for(var i=0,s=y.length;s--;){var u=y[s];if(u.maxX<=t)break;u.y1>r!=u.y2>r&&t<(u.x2-u.x1)*(r-u.y1)/(u.y2-u.y1)+u.x1&&(i+=u.y1<u.y2?1:-1)}return 0!==i}(t,r)&&(s=-s),s}(u[0]+p*(x+.5)/t,u[1]+v*(_+.5)/r),w=Math.pow(1-Math.abs(b)/c,h)/2;b<0&&(w=1-w),w=Math.max(0,Math.min(255,Math.round(255*w))),f[_*t+x]=w}return f}function y(t,r,i,s,u,c,h,f,p,v){void 0===c&&(c=1),void 0===f&&(f=0),void 0===p&&(p=0),void 0===v&&(v=0),x(t,r,i,s,u,c,h,null,f,p,v)}function x(t,r,i,s,u,c,h,p,y,x,_){void 0===c&&(c=1),void 0===y&&(y=0),void 0===x&&(x=0),void 0===_&&(_=0);for(var b=v(t,r,i,s,u,c),w=new Uint8Array(4*b.length),S=0;S<b.length;S++)w[4*S+_]=b[S];f(h,w,y,x,t,r,1<<3-_,p)}var _=Object.freeze({__proto__:null,generate:v,generateIntoCanvas:y,generateIntoFramebuffer:x}),b=new Float32Array([0,0,2,0,0,2]),w=null,S=!1,A={},M=new WeakMap;function C(t){if(!S&&!R(t))throw Error("WebGL generation not supported")}function T(t,r,i,s,u,c,f){if(void 0===c&&(c=1),void 0===f&&(f=null),!f&&!(f=w)){var p="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!p)throw Error("OffscreenCanvas or DOM canvas not supported");f=w=p.getContext("webgl",{depth:!1})}C(f);var v=new Uint8Array(t*r*4);h(f,function(h){var f=h.gl,p=h.withTexture,y=h.withTextureFramebuffer;p("readable",function(h,p){f.texImage2D(f.TEXTURE_2D,0,f.RGBA,t,r,0,f.RGBA,f.UNSIGNED_BYTE,null),y(h,p,function(h){D(t,r,i,s,u,c,f,h,0,0,0),f.readPixels(0,0,t,r,f.RGBA,f.UNSIGNED_BYTE,v)})})});for(var y=new Uint8Array(t*r),x=0,_=0;x<v.length;x+=4)y[_++]=v[x];return y}function I(t,r,i,s,u,c,h,f,p,v){void 0===c&&(c=1),void 0===f&&(f=0),void 0===p&&(p=0),void 0===v&&(v=0),D(t,r,i,s,u,c,h,null,f,p,v)}function D(t,r,u,c,f,p,v,y,x,_,w){void 0===p&&(p=1),void 0===x&&(x=0),void 0===_&&(_=0),void 0===w&&(w=0),C(v);var S=[];i(u,function(t,r,i,s){S.push(t,r,i,s)}),S=new Float32Array(S),h(v,function(i){var u=i.gl,h=i.isWebGL2,v=i.getExtension,A=i.withProgram,M=i.withTexture,C=i.withTextureFramebuffer,T=i.handleContextLoss;if(M("rawDistances",function(i,M){(t!==i._lastWidth||r!==i._lastHeight)&&u.texImage2D(u.TEXTURE_2D,0,u.RGBA,i._lastWidth=t,i._lastHeight=r,0,u.RGBA,u.UNSIGNED_BYTE,null),A("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",function(s){var y=s.setAttribute,x=s.setUniform,_=!h&&v("ANGLE_instanced_arrays"),w=!h&&v("EXT_blend_minmax");y("aUV",2,u.STATIC_DRAW,0,b),y("aLineSegment",4,u.DYNAMIC_DRAW,1,S),x.apply(void 0,["4f","uGlyphBounds"].concat(c)),x("1f","uMaxDistance",f),x("1f","uExponent",p),C(i,M,function(i){u.enable(u.BLEND),u.colorMask(!0,!0,!0,!0),u.viewport(0,0,t,r),u.scissor(0,0,t,r),u.blendFunc(u.ONE,u.ONE),u.blendEquationSeparate(u.FUNC_ADD,h?u.MAX:w.MAX_EXT),u.clear(u.COLOR_BUFFER_BIT),h?u.drawArraysInstanced(u.TRIANGLES,0,3,S.length/4):_.drawArraysInstancedANGLE(u.TRIANGLES,0,3,S.length/4)})}),A("post",s,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",function(i){i.setAttribute("aUV",2,u.STATIC_DRAW,0,b),i.setUniform("1i","tex",M),u.bindFramebuffer(u.FRAMEBUFFER,y),u.disable(u.BLEND),u.colorMask(0===w,1===w,2===w,3===w),u.viewport(x,_,t,r),u.scissor(x,_,t,r),u.drawArrays(u.TRIANGLES,0,3)})}),u.isContextLost())throw T(),Error("webgl context lost")})}function R(t){var r=t&&t!==w?t.canvas||t:A,i=M.get(r);if(void 0===i){S=!0;var s=null;try{var u=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],c=T(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,t);!(i=c&&u.length===c.length&&c.every(function(t,r){return t===u[r]}))&&(s="bad trial run results")}catch(t){i=!1,s=t.message}S=!1,M.set(r,i)}return i}var P=Object.freeze({__proto__:null,generate:T,generateIntoCanvas:I,generateIntoFramebuffer:D,isSupported:R});return t.forEachPathCommand=r,t.generate=function(t,r,i,s,u,c){void 0===u&&(u=Math.max(s[2]-s[0],s[3]-s[1])/2),void 0===c&&(c=1);try{return T.apply(P,arguments)}catch(t){return v.apply(_,arguments)}},t.generateIntoCanvas=function(t,r,i,s,u,c,h,f,p,v){void 0===u&&(u=Math.max(s[2]-s[0],s[3]-s[1])/2),void 0===c&&(c=1),void 0===f&&(f=0),void 0===p&&(p=0),void 0===v&&(v=0);try{return I.apply(P,arguments)}catch(t){return y.apply(_,arguments)}},t.javascript=_,t.pathToLineSegments=i,t.webgl=P,t.webglUtils=p,Object.defineProperty(t,"__esModule",{value:!0}),t}({})}let ex1=/\bvoid\s+main\s*\(\s*\)\s*{/g;function ex2(t){return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(t,r){let i=oA[r];return i?ex2(i):t})}let ex3=[];for(let t=0;t<256;t++)ex3[t]=(t<16?"0":"")+t.toString(16);let ex5=Object.assign||function(){let t=arguments[0];for(let r=1,i=arguments.length;r<i;r++){let i=arguments[r];if(i)for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ex4=Date.now(),ex9=new WeakMap,ex8=new Map,ex6=1e10;function ex7(t,r){let i=function(t){let r=JSON.stringify(t,e_t),i=e_r.get(r);return null==i&&e_r.set(r,i=++e_n),i}(r),s=ex9.get(t);if(!s&&ex9.set(t,s=Object.create(null)),s[i])return new s[i];let u=`_onBeforeCompile${i}`,c=function(s,c){t.onBeforeCompile.call(this,s,c);let h=this.customProgramCacheKey()+"|"+s.vertexShader+"|"+s.fragmentShader,f=ex8[h];if(!f){let t=function(t,{vertexShader:r,fragmentShader:i},s,u){let{vertexDefs:c,vertexMainIntro:h,vertexMainOutro:f,vertexTransform:p,fragmentDefs:v,fragmentMainIntro:y,fragmentMainOutro:x,fragmentColorTransform:_,customRewriter:b,timeUniform:w}=s;if(c=c||"",h=h||"",f=f||"",v=v||"",y=y||"",x=x||"",(p||b)&&(r=ex2(r)),(_||b)&&(i=ex2(i=i.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),b){let t=b({vertexShader:r,fragmentShader:i});r=t.vertexShader,i=t.fragmentShader}if(_){let t=[];i=i.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,r=>(t.push(r),"")),x=`${_}
${t.join("\n")}
${x}`}if(w){let t=`
uniform float ${w};
`;c=t+c,v=t+v}return p&&(r=`vec3 troika_position_${u};
vec3 troika_normal_${u};
vec2 troika_uv_${u};
${r}
`,c=`${c}
void troikaVertexTransform${u}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${p}
}
`,h=`
troika_position_${u} = vec3(position);
troika_normal_${u} = vec3(normal);
troika_uv_${u} = vec2(uv);
troikaVertexTransform${u}(troika_position_${u}, troika_normal_${u}, troika_uv_${u});
${h}
`,r=r.replace(/\b(position|normal|uv)\b/g,(t,r,i,s)=>/\battribute\s+vec[23]\s+$/.test(s.substr(0,i))?r:`troika_${r}_${u}`),!(t.map&&t.map.channel>0)&&(r=r.replace(/\bMAP_UV\b/g,`troika_uv_${u}`))),r=e_e(r,u,c,h,f),{vertexShader:r,fragmentShader:i=e_e(i,u,v,y,x)}}(this,s,r,i);f=ex8[h]=t}s.vertexShader=f.vertexShader,s.fragmentShader=f.fragmentShader,ex5(s.uniforms,this.uniforms),r.timeUniform&&(s.uniforms[r.timeUniform]={get value(){return Date.now()-ex4}}),this[u]&&this[u](s)},h=function(){return f(r.chained?t:t.clone())},f=function(s){let u=Object.create(s,p);return Object.defineProperty(u,"baseMaterial",{value:t}),Object.defineProperty(u,"id",{value:ex6++}),u.uuid=function(){let t=0xffffffff*Math.random()|0,r=0xffffffff*Math.random()|0,i=0xffffffff*Math.random()|0,s=0xffffffff*Math.random()|0;return(ex3[255&t]+ex3[t>>8&255]+ex3[t>>16&255]+ex3[t>>24&255]+"-"+ex3[255&r]+ex3[r>>8&255]+"-"+ex3[r>>16&15|64]+ex3[r>>24&255]+"-"+ex3[63&i|128]+ex3[i>>8&255]+"-"+ex3[i>>16&255]+ex3[i>>24&255]+ex3[255&s]+ex3[s>>8&255]+ex3[s>>16&255]+ex3[s>>24&255]).toUpperCase()}(),u.uniforms=ex5({},s.uniforms,r.uniforms),u.defines=ex5({},s.defines,r.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${i}`]="",u.extensions=ex5({},s.extensions,r.extensions),u._listeners=void 0,u},p={constructor:{value:h},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:r=>{t.type=r}},isDerivedFrom:{writable:!0,configurable:!0,value:function(t){let r=this.baseMaterial;return t===r||r.isDerivedMaterial&&r.isDerivedFrom(t)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+i}},onBeforeCompile:{get:()=>c,set(t){this[u]=t}},copy:{writable:!0,configurable:!0,value:function(r){return t.copy.call(this,r),!t.isShaderMaterial&&!t.isDerivedMaterial&&(ex5(this.extensions,r.extensions),ex5(this.defines,r.defines),ex5(this.uniforms,oi.clone(r.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){return f(new t.constructor).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let i=this._depthMaterial;return!i&&((i=this._depthMaterial=ex7(t.isDerivedMaterial?t.getDepthMaterial():new lS({depthPacking:nW}),r)).defines.IS_DEPTH_MATERIAL="",i.uniforms=this.uniforms),i}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let i=this._distanceMaterial;return!i&&((i=this._distanceMaterial=ex7(t.isDerivedMaterial?t.getDistanceMaterial():new lA,r)).defines.IS_DISTANCE_MATERIAL="",i.uniforms=this.uniforms),i}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:r,_distanceMaterial:i}=this;r&&r.dispose(),i&&i.dispose(),t.dispose.call(this)}}};return s[i]=h,new h}function e_e(t,r,i,s,u){return(s||u||i)&&(t=t.replace(ex1,`
${i}
void troikaOrigMain${r}() {`)+`
void main() {
  ${s}
  troikaOrigMain${r}();
  ${u}
}`),t}function e_t(t,r){return"uniforms"===t?void 0:"function"==typeof r?r.toString():r}let e_n=0,e_r=new Map,e_i=`
uniform vec3 pointA;
uniform vec3 controlA;
uniform vec3 controlB;
uniform vec3 pointB;
uniform float radius;
varying float bezierT;

vec3 cubicBezier(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {
  float t2 = 1.0 - t;
  float b0 = t2 * t2 * t2;
  float b1 = 3.0 * t * t2 * t2;
  float b2 = 3.0 * t * t * t2;
  float b3 = t * t * t;
  return b0 * p1 + b1 * c1 + b2 * c2 + b3 * p2;
}

vec3 cubicBezierDerivative(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {
  float t2 = 1.0 - t;
  return -3.0 * p1 * t2 * t2 +
    c1 * (3.0 * t2 * t2 - 6.0 * t2 * t) +
    c2 * (6.0 * t2 * t - 3.0 * t * t) +
    3.0 * p2 * t * t;
}
`,e_a=`
float t = position.y;
bezierT = t;
vec3 bezierCenterPos = cubicBezier(pointA, controlA, controlB, pointB, t);
vec3 bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t));

// Make "sideways" always perpendicular to the camera ray; this ensures that any twists
// in the cylinder occur where you won't see them: 
vec3 viewDirection = normalMatrix * vec3(0.0, 0.0, 1.0);
if (bezierDir == viewDirection) {
  bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t == 1.0 ? t - 0.0001 : t + 0.0001));
}
vec3 sideways = normalize(cross(bezierDir, viewDirection));
vec3 upish = normalize(cross(sideways, bezierDir));

// Build a matrix for transforming this disc in the cylinder:
mat4 discTx;
discTx[0].xyz = sideways * radius;
discTx[1].xyz = bezierDir * radius;
discTx[2].xyz = upish * radius;
discTx[3].xyz = bezierCenterPos;
discTx[3][3] = 1.0;

// Apply transform, ignoring original y
position = (discTx * vec4(position.x, 0.0, position.z, 1.0)).xyz;
normal = normalize(mat3(discTx) * normal);
`,e_o=`
uniform vec3 dashing;
varying float bezierT;
`,e_s=`
if (dashing.x + dashing.y > 0.0) {
  float dashFrac = mod(bezierT - dashing.z, dashing.x + dashing.y);
  if (dashFrac > dashing.x) {
    discard;
  }
}
`,e_l=exQ({name:"Typr Font Parser",dependencies:[function(){var t,r,i;return"undefined"==typeof window&&(self.window=self),(t={},(r={parse:function(t){var i=r._bin,s=new Uint8Array(t);if("ttcf"==i.readASCII(s,0,4)){var u=4;i.readUshort(s,u),u+=2,i.readUshort(s,u),u+=2;var c=i.readUint(s,u);u+=4;for(var h=[],f=0;f<c;f++){var p=i.readUint(s,u);u+=4,h.push(r._readFont(s,p))}return h}return[r._readFont(s,0)]},_readFont:function(t,i){var s=r._bin,u=i;s.readFixed(t,i),i+=4;var c=s.readUshort(t,i);i+=2,s.readUshort(t,i),i+=2,s.readUshort(t,i),i+=2,s.readUshort(t,i),i+=2;for(var h=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],f={_data:t,_offset:u},p={},v=0;v<c;v++){var y=s.readASCII(t,i,4);i+=4,s.readUint(t,i),i+=4;var x=s.readUint(t,i);i+=4;var _=s.readUint(t,i);i+=4,p[y]={offset:x,length:_}}for(v=0;v<h.length;v++){var b=h[v];p[b]&&(f[b.trim()]=r[b.trim()].parse(t,p[b].offset,p[b].length,f))}return f},_tabOffset:function(t,i,s){for(var u=r._bin,c=u.readUshort(t,s+4),h=s+12,f=0;f<c;f++){var p=u.readASCII(t,h,4);h+=4,u.readUint(t,h),h+=4;var v=u.readUint(t,h);if(h+=4,u.readUint(t,h),h+=4,p==i)return v}return 0}})._bin={readFixed:function(t,r){return(t[r]<<8|t[r+1])+(t[r+2]<<8|t[r+3])/65540},readF2dot14:function(t,i){return r._bin.readShort(t,i)/16384},readInt:function(t,i){return r._bin._view(t).getInt32(i)},readInt8:function(t,i){return r._bin._view(t).getInt8(i)},readShort:function(t,i){return r._bin._view(t).getInt16(i)},readUshort:function(t,i){return r._bin._view(t).getUint16(i)},readUshorts:function(t,i,s){for(var u=[],c=0;c<s;c++)u.push(r._bin.readUshort(t,i+2*c));return u},readUint:function(t,i){return r._bin._view(t).getUint32(i)},readUint64:function(t,i){return 0x100000000*r._bin.readUint(t,i)+r._bin.readUint(t,i+4)},readASCII:function(t,r,i){for(var s="",u=0;u<i;u++)s+=String.fromCharCode(t[r+u]);return s},readUnicode:function(t,r,i){for(var s="",u=0;u<i;u++)s+=String.fromCharCode(t[r++]<<8|t[r++]);return s},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(t,i,s){var u=r._bin._tdec;return u&&0==i&&s==t.length?u.decode(t):r._bin.readASCII(t,i,s)},readBytes:function(t,r,i){for(var s=[],u=0;u<i;u++)s.push(t[r+u]);return s},readASCIIArray:function(t,r,i){for(var s=[],u=0;u<i;u++)s.push(String.fromCharCode(t[r+u]));return s},_view:function(t){return t._dataView||(t._dataView=t.buffer?new DataView(t.buffer,t.byteOffset,t.byteLength):new DataView(new Uint8Array(t).buffer))}},r._lctf={},r._lctf.parse=function(t,i,s,u,c){var h=r._bin,f={},p=i;h.readFixed(t,i),i+=4;var v=h.readUshort(t,i);i+=2;var y=h.readUshort(t,i);i+=2;var x=h.readUshort(t,i);return i+=2,f.scriptList=r._lctf.readScriptList(t,p+v),f.featureList=r._lctf.readFeatureList(t,p+y),f.lookupList=r._lctf.readLookupList(t,p+x,c),f},r._lctf.readLookupList=function(t,i,s){var u=r._bin,c=i,h=[],f=u.readUshort(t,i);i+=2;for(var p=0;p<f;p++){var v=u.readUshort(t,i);i+=2;var y=r._lctf.readLookupTable(t,c+v,s);h.push(y)}return h},r._lctf.readLookupTable=function(t,i,s){var u=r._bin,c=i,h={tabs:[]};h.ltype=u.readUshort(t,i),i+=2,h.flag=u.readUshort(t,i),i+=2;var f=u.readUshort(t,i);i+=2;for(var p=h.ltype,v=0;v<f;v++){var y=u.readUshort(t,i);i+=2;var x=s(t,p,c+y,h);h.tabs.push(x)}return h},r._lctf.numOfOnes=function(t){for(var r=0,i=0;i<32;i++)0!=(t>>>i&1)&&r++;return r},r._lctf.readClassDef=function(t,i){var s=r._bin,u=[],c=s.readUshort(t,i);if(i+=2,1==c){var h=s.readUshort(t,i);i+=2;var f=s.readUshort(t,i);i+=2;for(var p=0;p<f;p++)u.push(h+p),u.push(h+p),u.push(s.readUshort(t,i)),i+=2}if(2==c){var v=s.readUshort(t,i);for(i+=2,p=0;p<v;p++)u.push(s.readUshort(t,i)),i+=2,u.push(s.readUshort(t,i)),i+=2,u.push(s.readUshort(t,i)),i+=2}return u},r._lctf.getInterval=function(t,r){for(var i=0;i<t.length;i+=3){var s=t[i],u=t[i+1];if(t[i+2],s<=r&&r<=u)return i}return -1},r._lctf.readCoverage=function(t,i){var s=r._bin,u={};u.fmt=s.readUshort(t,i),i+=2;var c=s.readUshort(t,i);return i+=2,1==u.fmt&&(u.tab=s.readUshorts(t,i,c)),2==u.fmt&&(u.tab=s.readUshorts(t,i,3*c)),u},r._lctf.coverageIndex=function(t,i){var s=t.tab;if(1==t.fmt)return s.indexOf(i);if(2==t.fmt){var u=r._lctf.getInterval(s,i);if(-1!=u)return s[u+2]+(i-s[u])}return -1},r._lctf.readFeatureList=function(t,i){var s=r._bin,u=i,c=[],h=s.readUshort(t,i);i+=2;for(var f=0;f<h;f++){var p=s.readASCII(t,i,4);i+=4;var v=s.readUshort(t,i);i+=2;var y=r._lctf.readFeatureTable(t,u+v);y.tag=p.trim(),c.push(y)}return c},r._lctf.readFeatureTable=function(t,i){var s=r._bin,u=i,c={},h=s.readUshort(t,i);i+=2,h>0&&(c.featureParams=u+h);var f=s.readUshort(t,i);i+=2,c.tab=[];for(var p=0;p<f;p++)c.tab.push(s.readUshort(t,i+2*p));return c},r._lctf.readScriptList=function(t,i){var s=r._bin,u=i,c={},h=s.readUshort(t,i);i+=2;for(var f=0;f<h;f++){var p=s.readASCII(t,i,4);i+=4;var v=s.readUshort(t,i);i+=2,c[p.trim()]=r._lctf.readScriptTable(t,u+v)}return c},r._lctf.readScriptTable=function(t,i){var s=r._bin,u=i,c={},h=s.readUshort(t,i);i+=2,h>0&&(c.default=r._lctf.readLangSysTable(t,u+h));var f=s.readUshort(t,i);i+=2;for(var p=0;p<f;p++){var v=s.readASCII(t,i,4);i+=4;var y=s.readUshort(t,i);i+=2,c[v.trim()]=r._lctf.readLangSysTable(t,u+y)}return c},r._lctf.readLangSysTable=function(t,i){var s=r._bin,u={};s.readUshort(t,i),i+=2,u.reqFeature=s.readUshort(t,i),i+=2;var c=s.readUshort(t,i);return i+=2,u.features=s.readUshorts(t,i,c),u},r.CFF={},r.CFF.parse=function(t,i,s){var u=r._bin;(t=new Uint8Array(t.buffer,i,s))[i=0],t[++i],t[++i],t[++i],i++;var c=[];i=r.CFF.readIndex(t,i,c);for(var h=[],f=0;f<c.length-1;f++)h.push(u.readASCII(t,i+c[f],c[f+1]-c[f]));i+=c[c.length-1];var p=[];i=r.CFF.readIndex(t,i,p);var v=[];for(f=0;f<p.length-1;f++)v.push(r.CFF.readDict(t,i+p[f],i+p[f+1]));i+=p[p.length-1];var y=v[0],x=[];i=r.CFF.readIndex(t,i,x);var _=[];for(f=0;f<x.length-1;f++)_.push(u.readASCII(t,i+x[f],x[f+1]-x[f]));if(i+=x[x.length-1],r.CFF.readSubrs(t,i,y),y.CharStrings){i=y.CharStrings,x=[],i=r.CFF.readIndex(t,i,x);var b=[];for(f=0;f<x.length-1;f++)b.push(u.readBytes(t,i+x[f],x[f+1]-x[f]));y.CharStrings=b}if(y.ROS){i=y.FDArray;var w=[];for(i=r.CFF.readIndex(t,i,w),y.FDArray=[],f=0;f<w.length-1;f++){var S=r.CFF.readDict(t,i+w[f],i+w[f+1]);r.CFF._readFDict(t,S,_),y.FDArray.push(S)}i+=w[w.length-1],i=y.FDSelect,y.FDSelect=[];var A=t[i];if(i++,3!=A)throw A;var M=u.readUshort(t,i);for(i+=2,f=0;f<M+1;f++)y.FDSelect.push(u.readUshort(t,i),t[i+2]),i+=3}return y.Encoding&&(y.Encoding=r.CFF.readEncoding(t,y.Encoding,y.CharStrings.length)),y.charset&&(y.charset=r.CFF.readCharset(t,y.charset,y.CharStrings.length)),r.CFF._readFDict(t,y,_),y},r.CFF._readFDict=function(t,i,s){var u;for(var c in i.Private&&(u=i.Private[1],i.Private=r.CFF.readDict(t,u,u+i.Private[0]),i.Private.Subrs&&r.CFF.readSubrs(t,u+i.Private.Subrs,i.Private)),i)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(c)&&(i[c]=s[i[c]-426+35])},r.CFF.readSubrs=function(t,i,s){var u=r._bin,c=[];i=r.CFF.readIndex(t,i,c);var h,f=c.length;h=f<1240?107:f<33900?1131:32768,s.Bias=h,s.Subrs=[];for(var p=0;p<c.length-1;p++)s.Subrs.push(u.readBytes(t,i+c[p],c[p+1]-c[p]))},r.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],r.CFF.glyphByUnicode=function(t,r){for(var i=0;i<t.charset.length;i++)if(t.charset[i]==r)return i;return -1},r.CFF.glyphBySE=function(t,i){return i<0||i>255?-1:r.CFF.glyphByUnicode(t,r.CFF.tableSE[i])},r.CFF.readEncoding=function(t,i,s){r._bin;var u=[".notdef"],c=t[i];if(i++,0!=c)throw"error: unknown encoding format: "+c;var h=t[i];i++;for(var f=0;f<h;f++)u.push(t[i+f]);return u},r.CFF.readCharset=function(t,i,s){var u=r._bin,c=[".notdef"],h=t[i];if(i++,0==h)for(var f=0;f<s;f++){var p=u.readUshort(t,i);i+=2,c.push(p)}else{if(1!=h&&2!=h)throw"error: format: "+h;for(;c.length<s;){p=u.readUshort(t,i),i+=2;var v=0;for(1==h?(v=t[i],i++):(v=u.readUshort(t,i),i+=2),f=0;f<=v;f++)c.push(p),p++}}return c},r.CFF.readIndex=function(t,i,s){var u=r._bin,c=u.readUshort(t,i)+1,h=t[i+=2];if(i++,1==h)for(var f=0;f<c;f++)s.push(t[i+f]);else if(2==h)for(f=0;f<c;f++)s.push(u.readUshort(t,i+2*f));else if(3==h)for(f=0;f<c;f++)s.push(0xffffff&u.readUint(t,i+3*f-1));else if(1!=c)throw"unsupported offset size: "+h+", count: "+c;return(i+=c*h)-1},r.CFF.getCharString=function(t,i,s){var u=r._bin,c=t[i],h=t[i+1];t[i+2],t[i+3],t[i+4];var f=1,p=null,v=null;c<=20&&(p=c,f=1),12==c&&(p=100*c+h,f=2),21<=c&&c<=27&&(p=c,f=1),28==c&&(v=u.readShort(t,i+1),f=3),29<=c&&c<=31&&(p=c,f=1),32<=c&&c<=246&&(v=c-139,f=1),247<=c&&c<=250&&(v=256*(c-247)+h+108,f=2),251<=c&&c<=254&&(v=-(256*(c-251))-h-108,f=2),255==c&&(v=u.readInt(t,i+1)/65535,f=5),s.val=null!=v?v:"o"+p,s.size=f},r.CFF.readCharString=function(t,i,s){for(var u=i+s,c=r._bin,h=[];i<u;){var f=t[i],p=t[i+1];t[i+2],t[i+3],t[i+4];var v=1,y=null,x=null;f<=20&&(y=f,v=1),12==f&&(y=100*f+p,v=2),19!=f&&20!=f||(y=f,v=2),21<=f&&f<=27&&(y=f,v=1),28==f&&(x=c.readShort(t,i+1),v=3),29<=f&&f<=31&&(y=f,v=1),32<=f&&f<=246&&(x=f-139,v=1),247<=f&&f<=250&&(x=256*(f-247)+p+108,v=2),251<=f&&f<=254&&(x=-(256*(f-251))-p-108,v=2),255==f&&(x=c.readInt(t,i+1)/65535,v=5),h.push(null!=x?x:"o"+y),i+=v}return h},r.CFF.readDict=function(t,i,s){for(var u=r._bin,c={},h=[];i<s;){var f=t[i],p=t[i+1];t[i+2],t[i+3],t[i+4];var v=1,y=null,x=null;if(28==f&&(x=u.readShort(t,i+1),v=3),29==f&&(x=u.readInt(t,i+1),v=5),32<=f&&f<=246&&(x=f-139,v=1),247<=f&&f<=250&&(x=256*(f-247)+p+108,v=2),251<=f&&f<=254&&(x=-(256*(f-251))-p-108,v=2),255==f)throw x=u.readInt(t,i+1)/65535,v=5,"unknown number";if(30==f){var _=[];for(v=1;;){var b=t[i+v];v++;var w=b>>4,S=15&b;if(15!=w&&_.push(w),15!=S&&_.push(S),15==S)break}for(var A="",M=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],C=0;C<_.length;C++)A+=M[_[C]];x=parseFloat(A)}f<=21&&(y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][f],v=1,12==f&&(y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][p],v=2)),null!=y?(c[y]=1==h.length?h[0]:h,h=[]):h.push(x),i+=v}return c},r.cmap={},r.cmap.parse=function(t,i,s){t=new Uint8Array(t.buffer,i,s),i=0;var u=r._bin,c={};u.readUshort(t,i),i+=2;var h=u.readUshort(t,i);i+=2;var f=[];c.tables=[];for(var p=0;p<h;p++){var v=u.readUshort(t,i);i+=2;var y=u.readUshort(t,i);i+=2;var x=u.readUint(t,i);i+=4;var _="p"+v+"e"+y,b=f.indexOf(x);if(-1==b){b=c.tables.length,f.push(x);var w,S=u.readUshort(t,x);0==S?w=r.cmap.parse0(t,x):4==S?w=r.cmap.parse4(t,x):6==S?w=r.cmap.parse6(t,x):12==S&&(w=r.cmap.parse12(t,x)),c.tables.push(w)}if(null!=c[_])throw"multiple tables for one platform+encoding";c[_]=b}return c},r.cmap.parse0=function(t,i){var s=r._bin,u={};u.format=s.readUshort(t,i),i+=2;var c=s.readUshort(t,i);i+=2,s.readUshort(t,i),i+=2,u.map=[];for(var h=0;h<c-6;h++)u.map.push(t[i+h]);return u},r.cmap.parse4=function(t,i){var s=r._bin,u=i,c={};c.format=s.readUshort(t,i),i+=2;var h=s.readUshort(t,i);i+=2,s.readUshort(t,i),i+=2;var f=s.readUshort(t,i);i+=2;var p=f/2;c.searchRange=s.readUshort(t,i),i+=2,c.entrySelector=s.readUshort(t,i),i+=2,c.rangeShift=s.readUshort(t,i),i+=2,c.endCount=s.readUshorts(t,i,p),i+=2*p+2,c.startCount=s.readUshorts(t,i,p),i+=2*p,c.idDelta=[];for(var v=0;v<p;v++)c.idDelta.push(s.readShort(t,i)),i+=2;for(c.idRangeOffset=s.readUshorts(t,i,p),i+=2*p,c.glyphIdArray=[];i<u+h;)c.glyphIdArray.push(s.readUshort(t,i)),i+=2;return c},r.cmap.parse6=function(t,i){var s=r._bin,u={};u.format=s.readUshort(t,i),i+=2,s.readUshort(t,i),i+=2,s.readUshort(t,i),i+=2,u.firstCode=s.readUshort(t,i),i+=2;var c=s.readUshort(t,i);i+=2,u.glyphIdArray=[];for(var h=0;h<c;h++)u.glyphIdArray.push(s.readUshort(t,i)),i+=2;return u},r.cmap.parse12=function(t,i){var s=r._bin,u={};u.format=s.readUshort(t,i),i+=4,s.readUint(t,i),i+=4,s.readUint(t,i),i+=4;var c=s.readUint(t,i);i+=4,u.groups=[];for(var h=0;h<c;h++){var f=i+12*h,p=s.readUint(t,f+0),v=s.readUint(t,f+4),y=s.readUint(t,f+8);u.groups.push([p,v,y])}return u},r.glyf={},r.glyf.parse=function(t,r,i,s){for(var u=[],c=0;c<s.maxp.numGlyphs;c++)u.push(null);return u},r.glyf._parseGlyf=function(t,i){var s,u=r._bin,c=t._data,h=r._tabOffset(c,"glyf",t._offset)+t.loca[i];if(t.loca[i]==t.loca[i+1])return null;var f={};if(f.noc=u.readShort(c,h),h+=2,f.xMin=u.readShort(c,h),h+=2,f.yMin=u.readShort(c,h),h+=2,f.xMax=u.readShort(c,h),h+=2,f.yMax=u.readShort(c,h),h+=2,f.xMin>=f.xMax||f.yMin>=f.yMax)return null;if(f.noc>0){f.endPts=[];for(var p=0;p<f.noc;p++)f.endPts.push(u.readUshort(c,h)),h+=2;var v=u.readUshort(c,h);if(h+=2,c.length-h<v)return null;f.instructions=u.readBytes(c,h,v),h+=v;var y=f.endPts[f.noc-1]+1;for(p=0,f.flags=[];p<y;p++){var x=c[h];if(h++,f.flags.push(x),0!=(8&x)){var _=c[h];h++;for(var b=0;b<_;b++)f.flags.push(x),p++}}for(p=0,f.xs=[];p<y;p++){var w=0!=(2&f.flags[p]),S=0!=(16&f.flags[p]);w?(f.xs.push(S?c[h]:-c[h]),h++):S?f.xs.push(0):(f.xs.push(u.readShort(c,h)),h+=2)}for(p=0,f.ys=[];p<y;p++)w=0!=(4&f.flags[p]),S=0!=(32&f.flags[p]),w?(f.ys.push(S?c[h]:-c[h]),h++):S?f.ys.push(0):(f.ys.push(u.readShort(c,h)),h+=2);var A=0,M=0;for(p=0;p<y;p++)A+=f.xs[p],M+=f.ys[p],f.xs[p]=A,f.ys[p]=M}else{f.parts=[];do{s=u.readUshort(c,h),h+=2;var C={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(f.parts.push(C),C.glyphIndex=u.readUshort(c,h),h+=2,1&s){var T=u.readShort(c,h);h+=2;var I=u.readShort(c,h);h+=2}else T=u.readInt8(c,h),h++,I=u.readInt8(c,h),h++;2&s?(C.m.tx=T,C.m.ty=I):(C.p1=T,C.p2=I),8&s?(C.m.a=C.m.d=u.readF2dot14(c,h),h+=2):64&s?(C.m.a=u.readF2dot14(c,h),h+=2,C.m.d=u.readF2dot14(c,h),h+=2):128&s&&(C.m.a=u.readF2dot14(c,h),h+=2,C.m.b=u.readF2dot14(c,h),h+=2,C.m.c=u.readF2dot14(c,h),h+=2,C.m.d=u.readF2dot14(c,h),h+=2)}while(32&s);if(256&s){var D=u.readUshort(c,h);for(h+=2,f.instr=[],p=0;p<D;p++)f.instr.push(c[h]),h++}}return f},r.GDEF={},r.GDEF.parse=function(t,i,s,u){var c=i;i+=4;var h=r._bin.readUshort(t,i);return{glyphClassDef:0===h?null:r._lctf.readClassDef(t,c+h)}},r.GPOS={},r.GPOS.parse=function(t,i,s,u){return r._lctf.parse(t,i,s,u,r.GPOS.subt)},r.GPOS.subt=function(t,i,s,u){var c=r._bin,h=s,f={};if(f.fmt=c.readUshort(t,s),s+=2,1==i||2==i||3==i||7==i||8==i&&f.fmt<=2){var p=c.readUshort(t,s);s+=2,f.coverage=r._lctf.readCoverage(t,p+h)}if(1==i&&1==f.fmt){var v=c.readUshort(t,s);s+=2,0!=v&&(f.pos=r.GPOS.readValueRecord(t,s,v))}else if(2==i&&f.fmt>=1&&f.fmt<=2){v=c.readUshort(t,s),s+=2;var y=c.readUshort(t,s);s+=2;var x=r._lctf.numOfOnes(v),_=r._lctf.numOfOnes(y);if(1==f.fmt){f.pairsets=[];var b=c.readUshort(t,s);s+=2;for(var w=0;w<b;w++){var S=h+c.readUshort(t,s);s+=2;var A=c.readUshort(t,S);S+=2;for(var M=[],C=0;C<A;C++){var T=c.readUshort(t,S);S+=2,0!=v&&(B=r.GPOS.readValueRecord(t,S,v),S+=2*x),0!=y&&(k=r.GPOS.readValueRecord(t,S,y),S+=2*_),M.push({gid2:T,val1:B,val2:k})}f.pairsets.push(M)}}if(2==f.fmt){var I=c.readUshort(t,s);s+=2;var D=c.readUshort(t,s);s+=2;var R=c.readUshort(t,s);s+=2;var P=c.readUshort(t,s);for(s+=2,f.classDef1=r._lctf.readClassDef(t,h+I),f.classDef2=r._lctf.readClassDef(t,h+D),f.matrix=[],w=0;w<R;w++){var L=[];for(C=0;C<P;C++){var B=null,k=null;0!=v&&(B=r.GPOS.readValueRecord(t,s,v),s+=2*x),0!=y&&(k=r.GPOS.readValueRecord(t,s,y),s+=2*_),L.push({val1:B,val2:k})}f.matrix.push(L)}}}else if(4==i&&1==f.fmt)f.markCoverage=r._lctf.readCoverage(t,c.readUshort(t,s)+h),f.baseCoverage=r._lctf.readCoverage(t,c.readUshort(t,s+2)+h),f.markClassCount=c.readUshort(t,s+4),f.markArray=r.GPOS.readMarkArray(t,c.readUshort(t,s+6)+h),f.baseArray=r.GPOS.readBaseArray(t,c.readUshort(t,s+8)+h,f.markClassCount);else if(6==i&&1==f.fmt)f.mark1Coverage=r._lctf.readCoverage(t,c.readUshort(t,s)+h),f.mark2Coverage=r._lctf.readCoverage(t,c.readUshort(t,s+2)+h),f.markClassCount=c.readUshort(t,s+4),f.mark1Array=r.GPOS.readMarkArray(t,c.readUshort(t,s+6)+h),f.mark2Array=r.GPOS.readBaseArray(t,c.readUshort(t,s+8)+h,f.markClassCount);else if(9==i&&1==f.fmt){var O=c.readUshort(t,s);s+=2;var N=c.readUint(t,s);if(s+=4,9==u.ltype)u.ltype=O;else if(u.ltype!=O)throw"invalid extension substitution";return r.GPOS.subt(t,u.ltype,h+N)}return f},r.GPOS.readValueRecord=function(t,i,s){var u=r._bin,c=[];return c.push(1&s?u.readShort(t,i):0),i+=1&s?2:0,c.push(2&s?u.readShort(t,i):0),i+=2&s?2:0,c.push(4&s?u.readShort(t,i):0),i+=4&s?2:0,c.push(8&s?u.readShort(t,i):0),i+=8&s?2:0,c},r.GPOS.readBaseArray=function(t,i,s){var u=r._bin,c=[],h=i,f=u.readUshort(t,i);i+=2;for(var p=0;p<f;p++){for(var v=[],y=0;y<s;y++)v.push(r.GPOS.readAnchorRecord(t,h+u.readUshort(t,i))),i+=2;c.push(v)}return c},r.GPOS.readMarkArray=function(t,i){var s=r._bin,u=[],c=i,h=s.readUshort(t,i);i+=2;for(var f=0;f<h;f++){var p=r.GPOS.readAnchorRecord(t,s.readUshort(t,i+2)+c);p.markClass=s.readUshort(t,i),u.push(p),i+=4}return u},r.GPOS.readAnchorRecord=function(t,i){var s=r._bin,u={};return u.fmt=s.readUshort(t,i),u.x=s.readShort(t,i+2),u.y=s.readShort(t,i+4),u},r.GSUB={},r.GSUB.parse=function(t,i,s,u){return r._lctf.parse(t,i,s,u,r.GSUB.subt)},r.GSUB.subt=function(t,i,s,u){var c=r._bin,h=s,f={};if(f.fmt=c.readUshort(t,s),s+=2,1!=i&&2!=i&&4!=i&&5!=i&&6!=i)return null;if(1==i||2==i||4==i||5==i&&f.fmt<=2||6==i&&f.fmt<=2){var p=c.readUshort(t,s);s+=2,f.coverage=r._lctf.readCoverage(t,h+p)}if(1==i&&f.fmt>=1&&f.fmt<=2){if(1==f.fmt)f.delta=c.readShort(t,s),s+=2;else if(2==f.fmt){var v=c.readUshort(t,s);s+=2,f.newg=c.readUshorts(t,s,v),s+=2*f.newg.length}}else if(2==i&&1==f.fmt){v=c.readUshort(t,s),s+=2,f.seqs=[];for(var y=0;y<v;y++){var x=c.readUshort(t,s)+h;s+=2;var _=c.readUshort(t,x);f.seqs.push(c.readUshorts(t,x+2,_))}}else if(4==i)for(f.vals=[],v=c.readUshort(t,s),s+=2,y=0;y<v;y++){var b=c.readUshort(t,s);s+=2,f.vals.push(r.GSUB.readLigatureSet(t,h+b))}else if(5==i&&2==f.fmt){if(2==f.fmt){var w=c.readUshort(t,s);s+=2,f.cDef=r._lctf.readClassDef(t,h+w),f.scset=[];var S=c.readUshort(t,s);for(s+=2,y=0;y<S;y++){var A=c.readUshort(t,s);s+=2,f.scset.push(0==A?null:r.GSUB.readSubClassSet(t,h+A))}}}else if(6==i&&3==f.fmt){if(3==f.fmt){for(y=0;y<3;y++){v=c.readUshort(t,s),s+=2;for(var M=[],C=0;C<v;C++)M.push(r._lctf.readCoverage(t,h+c.readUshort(t,s+2*C)));s+=2*v,0==y&&(f.backCvg=M),1==y&&(f.inptCvg=M),2==y&&(f.ahedCvg=M)}v=c.readUshort(t,s),s+=2,f.lookupRec=r.GSUB.readSubstLookupRecords(t,s,v)}}else if(7==i&&1==f.fmt){var T=c.readUshort(t,s);s+=2;var I=c.readUint(t,s);if(s+=4,9==u.ltype)u.ltype=T;else if(u.ltype!=T)throw"invalid extension substitution";return r.GSUB.subt(t,u.ltype,h+I)}return f},r.GSUB.readSubClassSet=function(t,i){var s=r._bin.readUshort,u=i,c=[],h=s(t,i);i+=2;for(var f=0;f<h;f++){var p=s(t,i);i+=2,c.push(r.GSUB.readSubClassRule(t,u+p))}return c},r.GSUB.readSubClassRule=function(t,i){var s=r._bin.readUshort,u={},c=s(t,i),h=s(t,i+=2);i+=2,u.input=[];for(var f=0;f<c-1;f++)u.input.push(s(t,i)),i+=2;return u.substLookupRecords=r.GSUB.readSubstLookupRecords(t,i,h),u},r.GSUB.readSubstLookupRecords=function(t,i,s){for(var u=r._bin.readUshort,c=[],h=0;h<s;h++)c.push(u(t,i),u(t,i+2)),i+=4;return c},r.GSUB.readChainSubClassSet=function(t,i){var s=r._bin,u=i,c=[],h=s.readUshort(t,i);i+=2;for(var f=0;f<h;f++){var p=s.readUshort(t,i);i+=2,c.push(r.GSUB.readChainSubClassRule(t,u+p))}return c},r.GSUB.readChainSubClassRule=function(t,i){for(var s=r._bin,u={},c=["backtrack","input","lookahead"],h=0;h<c.length;h++){var f=s.readUshort(t,i);i+=2,1==h&&f--,u[c[h]]=s.readUshorts(t,i,f),i+=2*u[c[h]].length}return f=s.readUshort(t,i),i+=2,u.subst=s.readUshorts(t,i,2*f),i+=2*u.subst.length,u},r.GSUB.readLigatureSet=function(t,i){var s=r._bin,u=i,c=[],h=s.readUshort(t,i);i+=2;for(var f=0;f<h;f++){var p=s.readUshort(t,i);i+=2,c.push(r.GSUB.readLigature(t,u+p))}return c},r.GSUB.readLigature=function(t,i){var s=r._bin,u={chain:[]};u.nglyph=s.readUshort(t,i),i+=2;var c=s.readUshort(t,i);i+=2;for(var h=0;h<c-1;h++)u.chain.push(s.readUshort(t,i)),i+=2;return u},r.head={},r.head.parse=function(t,i,s){var u=r._bin,c={};return u.readFixed(t,i),i+=4,c.fontRevision=u.readFixed(t,i),i+=4,u.readUint(t,i),i+=4,u.readUint(t,i),i+=4,c.flags=u.readUshort(t,i),i+=2,c.unitsPerEm=u.readUshort(t,i),i+=2,c.created=u.readUint64(t,i),i+=8,c.modified=u.readUint64(t,i),i+=8,c.xMin=u.readShort(t,i),i+=2,c.yMin=u.readShort(t,i),i+=2,c.xMax=u.readShort(t,i),i+=2,c.yMax=u.readShort(t,i),i+=2,c.macStyle=u.readUshort(t,i),i+=2,c.lowestRecPPEM=u.readUshort(t,i),i+=2,c.fontDirectionHint=u.readShort(t,i),i+=2,c.indexToLocFormat=u.readShort(t,i),i+=2,c.glyphDataFormat=u.readShort(t,i),i+=2,c},r.hhea={},r.hhea.parse=function(t,i,s){var u=r._bin,c={};return u.readFixed(t,i),i+=4,c.ascender=u.readShort(t,i),i+=2,c.descender=u.readShort(t,i),i+=2,c.lineGap=u.readShort(t,i),i+=2,c.advanceWidthMax=u.readUshort(t,i),i+=2,c.minLeftSideBearing=u.readShort(t,i),i+=2,c.minRightSideBearing=u.readShort(t,i),i+=2,c.xMaxExtent=u.readShort(t,i),i+=2,c.caretSlopeRise=u.readShort(t,i),i+=2,c.caretSlopeRun=u.readShort(t,i),i+=2,c.caretOffset=u.readShort(t,i),i+=10,c.metricDataFormat=u.readShort(t,i),i+=2,c.numberOfHMetrics=u.readUshort(t,i),i+=2,c},r.hmtx={},r.hmtx.parse=function(t,i,s,u){for(var c=r._bin,h={aWidth:[],lsBearing:[]},f=0,p=0,v=0;v<u.maxp.numGlyphs;v++)v<u.hhea.numberOfHMetrics&&(f=c.readUshort(t,i),i+=2,p=c.readShort(t,i),i+=2),h.aWidth.push(f),h.lsBearing.push(p);return h},r.kern={},r.kern.parse=function(t,i,s,u){var c=r._bin,h=c.readUshort(t,i);if(i+=2,1==h)return r.kern.parseV1(t,i-2,s,u);var f=c.readUshort(t,i);i+=2;for(var p={glyph1:[],rval:[]},v=0;v<f;v++){i+=2,s=c.readUshort(t,i),i+=2;var y=c.readUshort(t,i);i+=2;var x=y>>>8;if(0!=(x&=15))throw"unknown kern table format: "+x;i=r.kern.readFormat0(t,i,p)}return p},r.kern.parseV1=function(t,i,s,u){var c=r._bin;c.readFixed(t,i),i+=4;var h=c.readUint(t,i);i+=4;for(var f={glyph1:[],rval:[]},p=0;p<h;p++){c.readUint(t,i),i+=4;var v=c.readUshort(t,i);i+=2,c.readUshort(t,i),i+=2;var y=v>>>8;if(0!=(y&=15))throw"unknown kern table format: "+y;i=r.kern.readFormat0(t,i,f)}return f},r.kern.readFormat0=function(t,i,s){var u=r._bin,c=-1,h=u.readUshort(t,i);i+=2,u.readUshort(t,i),i+=2,u.readUshort(t,i),i+=2,u.readUshort(t,i),i+=2;for(var f=0;f<h;f++){var p=u.readUshort(t,i);i+=2;var v=u.readUshort(t,i);i+=2;var y=u.readShort(t,i);i+=2,p!=c&&(s.glyph1.push(p),s.rval.push({glyph2:[],vals:[]}));var x=s.rval[s.rval.length-1];x.glyph2.push(v),x.vals.push(y),c=p}return i},r.loca={},r.loca.parse=function(t,i,s,u){var c=r._bin,h=[],f=u.head.indexToLocFormat,p=u.maxp.numGlyphs+1;if(0==f)for(var v=0;v<p;v++)h.push(c.readUshort(t,i+(v<<1))<<1);if(1==f)for(v=0;v<p;v++)h.push(c.readUint(t,i+(v<<2)));return h},r.maxp={},r.maxp.parse=function(t,i,s){var u=r._bin,c={},h=u.readUint(t,i);return i+=4,c.numGlyphs=u.readUshort(t,i),i+=2,65536==h&&(c.maxPoints=u.readUshort(t,i),i+=2,c.maxContours=u.readUshort(t,i),i+=2,c.maxCompositePoints=u.readUshort(t,i),i+=2,c.maxCompositeContours=u.readUshort(t,i),i+=2,c.maxZones=u.readUshort(t,i),i+=2,c.maxTwilightPoints=u.readUshort(t,i),i+=2,c.maxStorage=u.readUshort(t,i),i+=2,c.maxFunctionDefs=u.readUshort(t,i),i+=2,c.maxInstructionDefs=u.readUshort(t,i),i+=2,c.maxStackElements=u.readUshort(t,i),i+=2,c.maxSizeOfInstructions=u.readUshort(t,i),i+=2,c.maxComponentElements=u.readUshort(t,i),i+=2,c.maxComponentDepth=u.readUshort(t,i),i+=2),c},r.name={},r.name.parse=function(t,i,s){var u=r._bin,c={};u.readUshort(t,i),i+=2;var h=u.readUshort(t,i);i+=2,u.readUshort(t,i);for(var f,p=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],v=i+=2,y=0;y<h;y++){var x=u.readUshort(t,i);i+=2;var _=u.readUshort(t,i);i+=2;var b=u.readUshort(t,i);i+=2;var w=u.readUshort(t,i);i+=2;var S=u.readUshort(t,i);i+=2;var A=u.readUshort(t,i);i+=2;var M,C=p[w],T=v+12*h+A;if(0==x)M=u.readUnicode(t,T,S/2);else if(3==x&&0==_)M=u.readUnicode(t,T,S/2);else if(0==_)M=u.readASCII(t,T,S);else if(1==_)M=u.readUnicode(t,T,S/2);else if(3==_)M=u.readUnicode(t,T,S/2);else{if(1!=x)throw"unknown encoding "+_+", platformID: "+x;M=u.readASCII(t,T,S)}var I="p"+x+","+b.toString(16);null==c[I]&&(c[I]={}),c[I][void 0!==C?C:w]=M,c[I]._lang=b}for(var D in c)if(null!=c[D].postScriptName&&1033==c[D]._lang)return c[D];for(var D in c)if(null!=c[D].postScriptName&&0==c[D]._lang)return c[D];for(var D in c)if(null!=c[D].postScriptName&&3084==c[D]._lang)return c[D];for(var D in c)if(null!=c[D].postScriptName)return c[D];for(var D in c){f=D;break}return c[f]},r["OS/2"]={},r["OS/2"].parse=function(t,i,s){var u=r._bin.readUshort(t,i);i+=2;var c={};if(0==u)r["OS/2"].version0(t,i,c);else if(1==u)r["OS/2"].version1(t,i,c);else if(2==u||3==u||4==u)r["OS/2"].version2(t,i,c);else{if(5!=u)throw"unknown OS/2 table version: "+u;r["OS/2"].version5(t,i,c)}return c},r["OS/2"].version0=function(t,i,s){var u=r._bin;return s.xAvgCharWidth=u.readShort(t,i),i+=2,s.usWeightClass=u.readUshort(t,i),i+=2,s.usWidthClass=u.readUshort(t,i),i+=2,s.fsType=u.readUshort(t,i),i+=2,s.ySubscriptXSize=u.readShort(t,i),i+=2,s.ySubscriptYSize=u.readShort(t,i),i+=2,s.ySubscriptXOffset=u.readShort(t,i),i+=2,s.ySubscriptYOffset=u.readShort(t,i),i+=2,s.ySuperscriptXSize=u.readShort(t,i),i+=2,s.ySuperscriptYSize=u.readShort(t,i),i+=2,s.ySuperscriptXOffset=u.readShort(t,i),i+=2,s.ySuperscriptYOffset=u.readShort(t,i),i+=2,s.yStrikeoutSize=u.readShort(t,i),i+=2,s.yStrikeoutPosition=u.readShort(t,i),i+=2,s.sFamilyClass=u.readShort(t,i),i+=2,s.panose=u.readBytes(t,i,10),i+=10,s.ulUnicodeRange1=u.readUint(t,i),i+=4,s.ulUnicodeRange2=u.readUint(t,i),i+=4,s.ulUnicodeRange3=u.readUint(t,i),i+=4,s.ulUnicodeRange4=u.readUint(t,i),i+=4,s.achVendID=[u.readInt8(t,i),u.readInt8(t,i+1),u.readInt8(t,i+2),u.readInt8(t,i+3)],i+=4,s.fsSelection=u.readUshort(t,i),i+=2,s.usFirstCharIndex=u.readUshort(t,i),i+=2,s.usLastCharIndex=u.readUshort(t,i),i+=2,s.sTypoAscender=u.readShort(t,i),i+=2,s.sTypoDescender=u.readShort(t,i),i+=2,s.sTypoLineGap=u.readShort(t,i),i+=2,s.usWinAscent=u.readUshort(t,i),i+=2,s.usWinDescent=u.readUshort(t,i),i+=2},r["OS/2"].version1=function(t,i,s){var u=r._bin;return i=r["OS/2"].version0(t,i,s),s.ulCodePageRange1=u.readUint(t,i),i+=4,s.ulCodePageRange2=u.readUint(t,i),i+=4},r["OS/2"].version2=function(t,i,s){var u=r._bin;return i=r["OS/2"].version1(t,i,s),s.sxHeight=u.readShort(t,i),i+=2,s.sCapHeight=u.readShort(t,i),i+=2,s.usDefault=u.readUshort(t,i),i+=2,s.usBreak=u.readUshort(t,i),i+=2,s.usMaxContext=u.readUshort(t,i),i+=2},r["OS/2"].version5=function(t,i,s){var u=r._bin;return i=r["OS/2"].version2(t,i,s),s.usLowerOpticalPointSize=u.readUshort(t,i),i+=2,s.usUpperOpticalPointSize=u.readUshort(t,i),i+=2},r.post={},r.post.parse=function(t,i,s){var u=r._bin,c={};return c.version=u.readFixed(t,i),i+=4,c.italicAngle=u.readFixed(t,i),i+=4,c.underlinePosition=u.readShort(t,i),i+=2,c.underlineThickness=u.readShort(t,i),i+=2,c},null==r&&(r={}),null==r.U&&(r.U={}),r.U.codeToGlyph=function(t,r){var i=t.cmap,s=-1;if(null!=i.p0e4?s=i.p0e4:null!=i.p3e1?s=i.p3e1:null!=i.p1e0?s=i.p1e0:null!=i.p0e3&&(s=i.p0e3),-1==s)throw"no familiar platform and encoding!";var u=i.tables[s];if(0==u.format)return r>=u.map.length?0:u.map[r];if(4==u.format){for(var c=-1,h=0;h<u.endCount.length;h++)if(r<=u.endCount[h]){c=h;break}return -1==c||u.startCount[c]>r?0:65535&(0!=u.idRangeOffset[c]?u.glyphIdArray[r-u.startCount[c]+(u.idRangeOffset[c]>>1)-(u.idRangeOffset.length-c)]:r+u.idDelta[c])}if(12==u.format){if(r>u.groups[u.groups.length-1][1])return 0;for(h=0;h<u.groups.length;h++){var f=u.groups[h];if(f[0]<=r&&r<=f[1])return f[2]+(r-f[0])}return 0}throw"unknown cmap table format "+u.format},r.U.glyphToPath=function(t,i){var s={cmds:[],crds:[]};if(t.SVG&&t.SVG.entries[i]){var u=t.SVG.entries[i];return null==u?s:("string"==typeof u&&(u=r.SVG.toPath(u),t.SVG.entries[i]=u),u)}if(t.CFF){var c={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:t.CFF.Private?t.CFF.Private.defaultWidthX:0,open:!1},h=t.CFF,f=t.CFF.Private;if(h.ROS){for(var p=0;h.FDSelect[p+2]<=i;)p+=2;f=h.FDArray[h.FDSelect[p+1]].Private}r.U._drawCFF(t.CFF.CharStrings[i],c,h,f,s)}else t.glyf&&r.U._drawGlyf(i,t,s);return s},r.U._drawGlyf=function(t,i,s){var u=i.glyf[t];null==u&&(u=i.glyf[t]=r.glyf._parseGlyf(i,t)),null!=u&&(u.noc>-1?r.U._simpleGlyph(u,s):r.U._compoGlyph(u,i,s))},r.U._simpleGlyph=function(t,i){for(var s=0;s<t.noc;s++){for(var u=0==s?0:t.endPts[s-1]+1,c=t.endPts[s],h=u;h<=c;h++){var f=h==u?c:h-1,p=h==c?u:h+1,v=1&t.flags[h],y=1&t.flags[f],x=1&t.flags[p],_=t.xs[h],b=t.ys[h];if(h==u){if(v){if(!y){r.U.P.moveTo(i,_,b);continue}r.U.P.moveTo(i,t.xs[f],t.ys[f])}else y?r.U.P.moveTo(i,t.xs[f],t.ys[f]):r.U.P.moveTo(i,(t.xs[f]+_)/2,(t.ys[f]+b)/2)}v?y&&r.U.P.lineTo(i,_,b):x?r.U.P.qcurveTo(i,_,b,t.xs[p],t.ys[p]):r.U.P.qcurveTo(i,_,b,(_+t.xs[p])/2,(b+t.ys[p])/2)}r.U.P.closePath(i)}},r.U._compoGlyph=function(t,i,s){for(var u=0;u<t.parts.length;u++){var c={cmds:[],crds:[]},h=t.parts[u];r.U._drawGlyf(h.glyphIndex,i,c);for(var f=h.m,p=0;p<c.crds.length;p+=2){var v=c.crds[p],y=c.crds[p+1];s.crds.push(v*f.a+y*f.b+f.tx),s.crds.push(v*f.c+y*f.d+f.ty)}for(p=0;p<c.cmds.length;p++)s.cmds.push(c.cmds[p])}},r.U._getGlyphClass=function(t,i){var s=r._lctf.getInterval(i,t);return -1==s?0:i[s+2]},r.U._applySubs=function(t,i,s,u){for(var c=t.length-i-1,h=0;h<s.tabs.length;h++)if(null!=s.tabs[h]){var f,p=s.tabs[h];if(!p.coverage||-1!=(f=r._lctf.coverageIndex(p.coverage,t[i]))){if(1==s.ltype)t[i],1==p.fmt?t[i]=t[i]+p.delta:t[i]=p.newg[f];else if(4==s.ltype)for(var v=p.vals[f],y=0;y<v.length;y++){var x=v[y],_=x.chain.length;if(!(_>c)){for(var b=!0,w=0,S=0;S<_;S++){for(;-1==t[i+w+(1+S)];)w++;x.chain[S]!=t[i+w+(1+S)]&&(b=!1)}if(b){for(S=0,t[i]=x.nglyph;S<_+w;S++)t[i+S+1]=-1;break}}}else if(5==s.ltype&&2==p.fmt)for(var A=r._lctf.getInterval(p.cDef,t[i]),M=p.cDef[A+2],C=p.scset[M],T=0;T<C.length;T++){var I=C[T],D=I.input;if(!(D.length>c)){for(b=!0,S=0;S<D.length;S++){var R=r._lctf.getInterval(p.cDef,t[i+1+S]);if(-1==A&&p.cDef[R+2]!=D[S]){b=!1;break}}if(b){var P=I.substLookupRecords;for(y=0;y<P.length;y+=2)P[y],P[y+1]}}}else if(6==s.ltype&&3==p.fmt){if(!r.U._glsCovered(t,p.backCvg,i-p.backCvg.length)||!r.U._glsCovered(t,p.inptCvg,i)||!r.U._glsCovered(t,p.ahedCvg,i+p.inptCvg.length))continue;var L=p.lookupRec;for(T=0;T<L.length;T+=2){A=L[T];var B=u[L[T+1]];r.U._applySubs(t,i+A,B,u)}}}}},r.U._glsCovered=function(t,i,s){for(var u=0;u<i.length;u++)if(-1==r._lctf.coverageIndex(i[u],t[s+u]))return!1;return!0},r.U.glyphsToPath=function(t,i,s){for(var u={cmds:[],crds:[]},c=0,h=0;h<i.length;h++){var f=i[h];if(-1!=f){for(var p=h<i.length-1&&-1!=i[h+1]?i[h+1]:0,v=r.U.glyphToPath(t,f),y=0;y<v.crds.length;y+=2)u.crds.push(v.crds[y]+c),u.crds.push(v.crds[y+1]);for(s&&u.cmds.push(s),y=0;y<v.cmds.length;y++)u.cmds.push(v.cmds[y]);s&&u.cmds.push("X"),c+=t.hmtx.aWidth[f],h<i.length-1&&(c+=r.U.getPairAdjustment(t,f,p))}}return u},r.U.P={},r.U.P.moveTo=function(t,r,i){t.cmds.push("M"),t.crds.push(r,i)},r.U.P.lineTo=function(t,r,i){t.cmds.push("L"),t.crds.push(r,i)},r.U.P.curveTo=function(t,r,i,s,u,c,h){t.cmds.push("C"),t.crds.push(r,i,s,u,c,h)},r.U.P.qcurveTo=function(t,r,i,s,u){t.cmds.push("Q"),t.crds.push(r,i,s,u)},r.U.P.closePath=function(t){t.cmds.push("Z")},r.U._drawCFF=function(t,i,s,u,c){for(var h=i.stack,f=i.nStems,p=i.haveWidth,v=i.width,y=i.open,x=0,_=i.x,b=i.y,w=0,S=0,A=0,M=0,C=0,T=0,I=0,D=0,R=0,P=0,L={val:0,size:0};x<t.length;){r.CFF.getCharString(t,x,L);var B=L.val;if(x+=L.size,"o1"==B||"o18"==B)h.length%2==0||p||(v=h.shift()+u.nominalWidthX),f+=h.length>>1,h.length=0,p=!0;else if("o3"==B||"o23"==B)h.length%2==0||p||(v=h.shift()+u.nominalWidthX),f+=h.length>>1,h.length=0,p=!0;else if("o4"==B)h.length>1&&!p&&(v=h.shift()+u.nominalWidthX,p=!0),y&&r.U.P.closePath(c),b+=h.pop(),r.U.P.moveTo(c,_,b),y=!0;else if("o5"==B)for(;h.length>0;)_+=h.shift(),b+=h.shift(),r.U.P.lineTo(c,_,b);else if("o6"==B||"o7"==B)for(var k=h.length,O="o6"==B,N=0;N<k;N++){var F=h.shift();O?_+=F:b+=F,O=!O,r.U.P.lineTo(c,_,b)}else if("o8"==B||"o24"==B){k=h.length;for(var U=0;U+6<=k;)w=_+h.shift(),S=b+h.shift(),A=w+h.shift(),M=S+h.shift(),_=A+h.shift(),b=M+h.shift(),r.U.P.curveTo(c,w,S,A,M,_,b),U+=6;"o24"==B&&(_+=h.shift(),b+=h.shift(),r.U.P.lineTo(c,_,b))}else{if("o11"==B)break;if("o1234"==B||"o1235"==B||"o1236"==B||"o1237"==B)"o1234"==B&&(S=b,A=(w=_+h.shift())+h.shift(),P=M=S+h.shift(),T=M,D=b,_=(I=(C=(R=A+h.shift())+h.shift())+h.shift())+h.shift(),r.U.P.curveTo(c,w,S,A,M,R,P),r.U.P.curveTo(c,C,T,I,D,_,b)),"o1235"==B&&(w=_+h.shift(),S=b+h.shift(),A=w+h.shift(),M=S+h.shift(),R=A+h.shift(),P=M+h.shift(),C=R+h.shift(),T=P+h.shift(),I=C+h.shift(),D=T+h.shift(),_=I+h.shift(),b=D+h.shift(),h.shift(),r.U.P.curveTo(c,w,S,A,M,R,P),r.U.P.curveTo(c,C,T,I,D,_,b)),"o1236"==B&&(w=_+h.shift(),S=b+h.shift(),A=w+h.shift(),P=M=S+h.shift(),T=M,I=(C=(R=A+h.shift())+h.shift())+h.shift(),D=T+h.shift(),_=I+h.shift(),r.U.P.curveTo(c,w,S,A,M,R,P),r.U.P.curveTo(c,C,T,I,D,_,b)),"o1237"==B&&(w=_+h.shift(),S=b+h.shift(),A=w+h.shift(),M=S+h.shift(),R=A+h.shift(),P=M+h.shift(),C=R+h.shift(),T=P+h.shift(),I=C+h.shift(),Math.abs(I-_)>Math.abs((D=T+h.shift())-b)?_=I+h.shift():b=D+h.shift(),r.U.P.curveTo(c,w,S,A,M,R,P),r.U.P.curveTo(c,C,T,I,D,_,b));else if("o14"==B){if(h.length>0&&!p&&(v=h.shift()+s.nominalWidthX,p=!0),4==h.length){var z=h.shift(),G=h.shift(),H=h.shift(),V=h.shift(),j=r.CFF.glyphBySE(s,H),W=r.CFF.glyphBySE(s,V);r.U._drawCFF(s.CharStrings[j],i,s,u,c),i.x=z,i.y=G,r.U._drawCFF(s.CharStrings[W],i,s,u,c)}y&&(r.U.P.closePath(c),y=!1)}else if("o19"==B||"o20"==B)h.length%2==0||p||(v=h.shift()+u.nominalWidthX),f+=h.length>>1,h.length=0,p=!0,x+=f+7>>3;else if("o21"==B)h.length>2&&!p&&(v=h.shift()+u.nominalWidthX,p=!0),b+=h.pop(),_+=h.pop(),y&&r.U.P.closePath(c),r.U.P.moveTo(c,_,b),y=!0;else if("o22"==B)h.length>1&&!p&&(v=h.shift()+u.nominalWidthX,p=!0),_+=h.pop(),y&&r.U.P.closePath(c),r.U.P.moveTo(c,_,b),y=!0;else if("o25"==B){for(;h.length>6;)_+=h.shift(),b+=h.shift(),r.U.P.lineTo(c,_,b);w=_+h.shift(),S=b+h.shift(),A=w+h.shift(),M=S+h.shift(),_=A+h.shift(),b=M+h.shift(),r.U.P.curveTo(c,w,S,A,M,_,b)}else if("o26"==B)for(h.length%2&&(_+=h.shift());h.length>0;)w=_,S=b+h.shift(),_=A=w+h.shift(),b=(M=S+h.shift())+h.shift(),r.U.P.curveTo(c,w,S,A,M,_,b);else if("o27"==B)for(h.length%2&&(b+=h.shift());h.length>0;)S=b,A=(w=_+h.shift())+h.shift(),M=S+h.shift(),_=A+h.shift(),b=M,r.U.P.curveTo(c,w,S,A,M,_,b);else if("o10"==B||"o29"==B){var X="o10"==B?u:s;if(0==h.length);else{var Y=h.pop(),Z=X.Subrs[Y+X.Bias];i.x=_,i.y=b,i.nStems=f,i.haveWidth=p,i.width=v,i.open=y,r.U._drawCFF(Z,i,s,u,c),_=i.x,b=i.y,f=i.nStems,p=i.haveWidth,v=i.width,y=i.open}}else if("o30"==B||"o31"==B){var K=h.length,J=(U=0,"o31"==B);for(U+=K-(k=-3&K);U<k;)J?(S=b,A=(w=_+h.shift())+h.shift(),b=(M=S+h.shift())+h.shift(),k-U==5?(_=A+h.shift(),U++):_=A,J=!1):(w=_,S=b+h.shift(),A=w+h.shift(),M=S+h.shift(),_=A+h.shift(),k-U==5?(b=M+h.shift(),U++):b=M,J=!0),r.U.P.curveTo(c,w,S,A,M,_,b),U+=4}else{if("o"==(B+"").charAt(0))throw B;h.push(B)}}}i.x=_,i.y=b,i.nStems=f,i.haveWidth=p,i.width=v,i.open=y},i=r,t.Typr=i,t.default={Typr:i},Object.defineProperty(t,"__esModule",{value:!0}),t).Typr},function(){return function(t){var r=Uint8Array,i=Uint16Array,s=Uint32Array,u=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),h=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=function(t,r){for(var u=new i(31),c=0;c<31;++c)u[c]=r+=1<<t[c-1];var h=new s(u[30]);for(c=1;c<30;++c)for(var f=u[c];f<u[c+1];++f)h[f]=f-u[c]<<5|c;return[u,h]},p=f(u,2),v=p[0],y=p[1];v[28]=258,y[258]=28;for(var x=f(c,0)[0],_=new i(32768),b=0;b<32768;++b){var w=(43690&b)>>>1|(21845&b)<<1;w=(61680&(w=(52428&w)>>>2|(13107&w)<<2))>>>4|(3855&w)<<4,_[b]=((65280&w)>>>8|(255&w)<<8)>>>1}var S=function(t,r,s){for(var u=t.length,c=0,h=new i(r);c<u;++c)++h[t[c]-1];var f,p=new i(r);for(c=0;c<r;++c)p[c]=p[c-1]+h[c-1]<<1;if(s){f=new i(1<<r);var v=15-r;for(c=0;c<u;++c)if(t[c])for(var y=c<<4|t[c],x=r-t[c],b=p[t[c]-1]++<<x,w=b|(1<<x)-1;b<=w;++b)f[_[b]>>>v]=y}else for(f=new i(u),c=0;c<u;++c)t[c]&&(f[c]=_[p[t[c]-1]++]>>>15-t[c]);return f},A=new r(288);for(b=0;b<144;++b)A[b]=8;for(b=144;b<256;++b)A[b]=9;for(b=256;b<280;++b)A[b]=7;for(b=280;b<288;++b)A[b]=8;var M=new r(32);for(b=0;b<32;++b)M[b]=5;var C=S(A,9,1),T=S(M,5,1),I=function(t){for(var r=t[0],i=1;i<t.length;++i)t[i]>r&&(r=t[i]);return r},D=function(t,r,i){var s=r/8|0;return(t[s]|t[s+1]<<8)>>(7&r)&i},R=function(t,r){var i=r/8|0;return(t[i]|t[i+1]<<8|t[i+2]<<16)>>(7&r)},P=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],L=function(t,r,i){var s=Error(r||P[t]);if(s.code=t,Error.captureStackTrace&&Error.captureStackTrace(s,L),!i)throw s;return s},B=function(t,f,p){var y,_,b,w,A=t.length;if(!A||p&&!p.l&&A<5)return f||new r(0);var M=!f||p,P=!p||p.i;p||(p={}),f||(f=new r(3*A));var B,k=function(t){var i=f.length;if(t>i){var s=new r(Math.max(2*i,t));s.set(f),f=s}},O=p.f||0,N=p.p||0,F=p.b||0,U=p.l,z=p.d,G=p.m,H=p.n,V=8*A;do{if(!U){p.f=O=D(t,N,1);var j=D(t,N+1,3);if(N+=3,!j){var W=t[(en=((B=N)/8|0)+(7&B&&1)+4)-4]|t[en-3]<<8,X=en+W;if(X>A){P&&L(0);break}M&&k(F+W),f.set(t.subarray(en,X),F),p.b=F+=W,p.p=N=8*X;continue}if(1==j)U=C,z=T,G=9,H=5;else if(2==j){var Y=D(t,N,31)+257,Z=D(t,N+10,15)+4,K=Y+D(t,N+5,31)+1;N+=14;for(var J=new r(K),Q=new r(19),q=0;q<Z;++q)Q[h[q]]=D(t,N+3*q,7);N+=3*Z;var $=I(Q),ee=(1<<$)-1,et=S(Q,$,1);for(q=0;q<K;){var en,er=et[D(t,N,ee)];if(N+=15&er,(en=er>>>4)<16)J[q++]=en;else{var ei=0,ea=0;for(16==en?(ea=3+D(t,N,3),N+=2,ei=J[q-1]):17==en?(ea=3+D(t,N,7),N+=3):18==en&&(ea=11+D(t,N,127),N+=7);ea--;)J[q++]=ei}}var eo=J.subarray(0,Y),es=J.subarray(Y);G=I(eo),H=I(es),U=S(eo,G,1),z=S(es,H,1)}else L(1);if(N>V){P&&L(0);break}}M&&k(F+131072);for(var el=(1<<G)-1,eu=(1<<H)-1,ec=N;;ec=N){var eh=(ei=U[R(t,N)&el])>>>4;if((N+=15&ei)>V){P&&L(0);break}if(ei||L(2),eh<256)f[F++]=eh;else{if(256==eh){ec=N,U=null;break}var ed=eh-254;if(eh>264){var ef=u[q=eh-257];ed=D(t,N,(1<<ef)-1)+v[q],N+=ef}var ep=z[R(t,N)&eu],eg=ep>>>4;if(ep||L(3),N+=15&ep,es=x[eg],eg>3&&(ef=c[eg],es+=R(t,N)&(1<<ef)-1,N+=ef),N>V){P&&L(0);break}M&&k(F+131072);for(var em=F+ed;F<em;F+=4)f[F]=f[F-es],f[F+1]=f[F+1-es],f[F+2]=f[F+2-es],f[F+3]=f[F+3-es];F=em}}p.l=U,p.p=ec,p.b=F,U&&(O=1,p.m=G,p.d=z,p.n=H)}while(!O);return F==f.length?f:(y=f,_=0,_<0&&(_=0),(null==(b=F)||b>y.length)&&(b=y.length),(w=new(y instanceof i?i:y instanceof s?s:r)(b-_)).set(y.subarray(_,b)),w)},k=new r(0),O="undefined"!=typeof TextDecoder&&new TextDecoder;try{O.decode(k,{stream:!0})}catch(t){}return t.convert_streams=function(t){var r=new DataView(t),i=0;function s(){var t=r.getUint16(i);return i+=2,t}function u(){var t=r.getUint32(i);return i+=4,t}function c(t){M.setUint16(C,t),C+=2}function h(t){M.setUint32(C,t),C+=4}for(var f={signature:u(),flavor:u(),length:u(),numTables:s(),reserved:s(),totalSfntSize:u(),majorVersion:s(),minorVersion:s(),metaOffset:u(),metaLength:u(),metaOrigLength:u(),privOffset:u(),privLength:u()},p=0;Math.pow(2,p)<=f.numTables;)p++;p--;for(var v=16*Math.pow(2,p),y=16*f.numTables-v,x=12,_=[],b=0;b<f.numTables;b++)_.push({tag:u(),offset:u(),compLength:u(),origLength:u(),origChecksum:u()}),x+=16;var w,S=new Uint8Array(12+16*_.length+_.reduce(function(t,r){return t+r.origLength+4},0)),A=S.buffer,M=new DataView(A),C=0;return h(f.flavor),c(f.numTables),c(v),c(p),c(y),_.forEach(function(t){h(t.tag),h(t.origChecksum),h(x),h(t.origLength),t.outOffset=x,(x+=t.origLength)%4!=0&&(x+=4-x%4)}),_.forEach(function(r){var i=t.slice(r.offset,r.offset+r.compLength);if(r.compLength!=r.origLength){var s=new Uint8Array(r.origLength);B(new Uint8Array(i,2),s)}else s=new Uint8Array(i);S.set(s,r.outOffset);var u=0;(x=r.outOffset+r.origLength)%4!=0&&(u=4-x%4),S.set(new Uint8Array(u).buffer,r.outOffset+r.origLength),w=x+u}),A.slice(0,w)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams},function(t,r){let i;let s={M:2,L:2,Q:4,C:6,Z:0},u={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},c=[null,"isol","init","fina","medi"];function h(r,i){let s=r.GDEF&&r.GDEF.glyphClassDef;return s?t.U._getGlyphClass(i,s):0}function f(...t){for(let r=0;r<t.length;r++)if("number"==typeof t[r])return t[r]}return function(p){let v=new Uint8Array(p,0,4),y=t._bin.readASCII(v,0,4);if("wOFF"===y)p=r(p);else if("wOF2"===y)throw Error("woff2 fonts not supported");return function(r){let p=Object.create(null),v=r["OS/2"],y=r.hhea,x=r.head.unitsPerEm,_=f(v&&v.sTypoAscender,y&&y.ascender,x),b={unitsPerEm:x,ascender:_,descender:f(v&&v.sTypoDescender,y&&y.descender,0),capHeight:f(v&&v.sCapHeight,_),xHeight:f(v&&v.sxHeight,_),lineGap:f(v&&v.sTypoLineGap,y&&y.lineGap),supportsCodePoint:i=>t.U.codeToGlyph(r,i)>0,forEachGlyph(f,v,y,x){let _=0,w=1/b.unitsPerEm*v,S=function(r,s){let h=[];for(let i=0;i<s.length;i++){let u=s.codePointAt(i);u>65535&&i++,h.push(t.U.codeToGlyph(r,u))}let f=r.GSUB;if(f){let r;let{lookupList:p,featureList:v}=f,y=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,x=[];v.forEach(f=>{if(y.test(f.tag))for(let v=0;v<f.tab.length;v++){if(x[f.tab[v]])continue;x[f.tab[v]]=!0;let y=p[f.tab[v]],_=/^(isol|init|fina|medi)$/.test(f.tag);_&&!r&&(r=function(t){let r=new Uint8Array(t.length),s=32,c=1,h=-1;for(let f=0;f<t.length;f++){let p=t.codePointAt(f),v=0|function(t){if(!i){let t={R:2,L:1,D:4,C:16,U:32,T:8};for(let r in i=new Map,u){let s=0;u[r].split(",").forEach(u=>{let[c,h]=u.split("+");c=parseInt(c,36),h=h?parseInt(h,36):0,i.set(s+=c,t[r]);for(let u=h;u--;)i.set(++s,t[r])})}}return i.get(t)||32}(p),y=1;if(!(8&v))21&s?22&v?(y=3,(1===c||3===c)&&r[h]++):33&v&&(2===c||4===c)&&r[h]--:34&s&&(2===c||4===c)&&r[h]--,c=r[f]=y,s=v,h=f,p>65535&&f++}return r}(s));for(let i=0;i<h.length;i++)(!r||!_||c[r[i]]===f.tag)&&t.U._applySubs(h,i,y,p)}})}return h}(r,f),A=0,M=function(r,i){let s=new Int16Array(3*i.length),u=0;for(;u<i.length;u++){let v=i[u];if(-1===v)continue;s[3*u+2]=r.hmtx.aWidth[v];let y=r.GPOS;if(y){let x=y.lookupList;for(let y=0;y<x.length;y++){let _=x[y];for(let y=0;y<_.tabs.length;y++){let x=_.tabs[y];if(1===_.ltype){if(-1!==t._lctf.coverageIndex(x.coverage,v)&&x.pos){p(x.pos,u);break}}else if(2===_.ltype){let r=null,s=c();if(-1!==s){let c=t._lctf.coverageIndex(x.coverage,i[s]);if(-1!==c){if(1===x.fmt){let t=x.pairsets[c];for(let i=0;i<t.length;i++)t[i].gid2===v&&(r=t[i])}else if(2===x.fmt){let u=t.U._getGlyphClass(i[s],x.classDef1),c=t.U._getGlyphClass(v,x.classDef2);r=x.matrix[u][c]}if(r){r.val1&&p(r.val1,s),r.val2&&p(r.val2,u);break}}}}else if(4===_.ltype){let r=t._lctf.coverageIndex(x.markCoverage,v);if(-1!==r){let h=c(f),p=-1===h?-1:t._lctf.coverageIndex(x.baseCoverage,i[h]);if(-1!==p){let t=x.markArray[r],i=x.baseArray[p][t.markClass];s[3*u]=i.x-t.x+s[3*h]-s[3*h+2],s[3*u+1]=i.y-t.y+s[3*h+1];break}}}else if(6===_.ltype){let f=t._lctf.coverageIndex(x.mark1Coverage,v);if(-1!==f){let p=c();if(-1!==p){let c=i[p];if(3===h(r,c)){let r=t._lctf.coverageIndex(x.mark2Coverage,c);if(-1!==r){let t=x.mark1Array[f],i=x.mark2Array[r][t.markClass];s[3*u]=i.x-t.x+s[3*p]-s[3*p+2],s[3*u+1]=i.y-t.y+s[3*p+1];break}}}}}}}}else if(r.kern&&!r.cff){let t=c();if(-1!==t){let u=r.kern.glyph1.indexOf(i[t]);if(-1!==u){let i=r.kern.rval[u].glyph2.indexOf(v);-1!==i&&(s[3*t+2]+=r.kern.rval[u].vals[i])}}}}return s;function c(t){for(let r=u-1;r>=0;r--)if(-1!==i[r]&&(!t||t(i[r])))return r;return -1}function f(t){return 1===h(r,t)}function p(t,r){for(let i=0;i<3;i++)s[3*r+i]+=t[i]||0}}(r,S);return S.forEach((i,u)=>{if(-1!==i){let c=p[i];if(!c){let u,h,f,v;let{cmds:y,crds:x}=t.U.glyphToPath(r,i),_="",b=0;for(let t=0,r=y.length;t<r;t++){let r=s[y[t]];_+=y[t];for(let t=1;t<=r;t++)_+=(t>1?",":"")+x[b++]}if(x.length){u=h=1/0,f=v=-1/0;for(let t=0,r=x.length;t<r;t+=2){let r=x[t],i=x[t+1];r<u&&(u=r),i<h&&(h=i),r>f&&(f=r),i>v&&(v=i)}}else u=f=h=v=0;c=p[i]={index:i,advanceWidth:r.hmtx.aWidth[i],xMin:u,yMin:h,xMax:f,yMax:v,path:_}}x.call(null,c,_+M[3*u]*w,M[3*u+1]*w,A),_+=M[3*u+2]*w,y&&(_+=y*v)}A+=f.codePointAt(A)>65535?2:1}),_}};return b}(t.parse(p)[0])}}],init(t,r,i){let s=t();return i(s,r())}}),e_u=exQ({name:"FontResolver",dependencies:[function(t,r){let i=Object.create(null),s=Object.create(null);function u(r,u){let c=i[r];c?u(c):s[r]?s[r].push(u):(s[r]=[u],!function(r,i){let s=t=>{};try{let u=new XMLHttpRequest;u.open("get",r,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)s(Error(u.statusText));else if(u.status>0)try{let s=t(u.response);s.src=r,i(s)}catch(t){s(t)}},u.onerror=s,u.send()}catch(t){s(t)}}(r,t=>{t.src=r,i[r]=t,s[r].forEach(r=>r(t)),delete s[r]}))}return function(t,s,{lang:c,fonts:h=[],style:f="normal",weight:p="normal",unicodeFontsURL:v}={}){let y=new Uint8Array(t.length),x=[];!t.length&&S();let _=new Map,b=[];if("italic"!==f&&(f="normal"),"number"!=typeof p&&(p="bold"===p?700:400),h&&!Array.isArray(h)&&(h=[h]),(h=h.slice().filter(t=>!t.lang||t.lang.test(c)).reverse()).length){let r=0;!function s(c=0){for(let f=c,p=t.length;f<p;f++){let c=t.codePointAt(f);if(1===r&&x[y[f-1]].supportsCodePoint(c)||f>0&&/\s/.test(t[f]))y[f]=y[f-1],2===r&&(b[b.length-1][1]=f);else for(let t=y[f],p=h.length;t<=p;t++)if(t===p)(2===r?b[b.length-1]:b[b.length]=[f,f])[1]=f,r=2;else{y[f]=t;let{src:p,unicodeRange:v}=h[t];if(!v||function(t,r){for(let i=0;i<r.length;i++){let[s,u=s]=r[i];if(s<=t&&t<=u)return!0}return!1}(c,v)){let t=i[p];if(!t){u(p,()=>{s(f)});return}if(t.supportsCodePoint(c)){let i=_.get(t);"number"!=typeof i&&(i=x.length,x.push(t),_.set(t,i)),y[f]=i,r=1;break}}}c>65535&&f+1<p&&(y[f+1]=y[f],f++,2===r&&(b[b.length-1][1]=f))}w()}()}else b.push([0,t.length-1]),w();function w(){if(b.length){let i=b.map(r=>t.substring(r[0],r[1]+1)).join("\n");r.getFontsForString(i,{lang:c||void 0,style:f,weight:p,dataUrl:v}).then(({fontUrls:t,chars:r})=>{let i=x.length,s=0;b.forEach(t=>{for(let u=0,c=t[1]-t[0];u<=c;u++)y[t[0]+u]=r[s++]+i;s++});let c=0;t.forEach((r,s)=>{u(r,r=>{x[s+i]=r,++c===t.length&&S()})})})}else S()}function S(){s({chars:y,fonts:x})}}},e_l,function(){return function(t){var r=function(){this.buckets=new Map};r.prototype.add=function(t){var r=t>>5;this.buckets.set(r,(this.buckets.get(r)||0)|1<<(31&t))},r.prototype.has=function(t){var r=this.buckets.get(t>>5);return void 0!==r&&0!=(r&1<<(31&t))},r.prototype.serialize=function(){var t=[];return this.buckets.forEach(function(r,i){t.push((+i).toString(36)+":"+r.toString(36))}),t.join(",")},r.prototype.deserialize=function(t){var r=this;this.buckets.clear(),t.split(",").forEach(function(t){var i=t.split(":");r.buckets.set(parseInt(i[0],36),parseInt(i[1],36))})};var i=255,s=-256;function u(t,r){var s=t&i,u=r.codePointAt(s/6|0);return 0!=((u=(u||48)-48)&1<<s%6)}function c(t,r){!function(t,r){t.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(t){return t.split("-").map(function(t){return parseInt(t.trim(),16)})}).forEach(function(t){var i=t[0],s=t[1];void 0===s&&(s=i),r(i,s)})}(t,function(t,i){for(var s=t;s<=i;s++)r(s)})}var h={},f={},p=new WeakMap,v="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data",y,x=new Map;function _(t,r,i){return t[r]?r:t[i]?i:function(t){for(var r in t)return r}(t)}return t.CodePointSet=r,t.clearCache=function(){h={},f={}},t.getFontsForString=function(t,i){void 0===i&&(i={});var b=i.lang;void 0===b&&(b=/\p{Script=Hangul}/u.test(t)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(t)?"ja":"en");var w=i.category;void 0===w&&(w="sans-serif");var S=i.style;void 0===S&&(S="normal");var A=i.weight;void 0===A&&(A=400);var M=(i.dataUrl||v).replace(/\/$/g,""),C=new Map,T=new Uint8Array(t.length),I={},D={},R=Array(t.length),P=new Map,L=!1;function B(t){var r=x.get(t);return r||(r=fetch(M+"/"+t).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json().then(function(t){if(!Array.isArray(t)||1!==t[0])throw Error("Incorrect schema version; need 1, got "+t[0]);return t[1]})}).catch(function(r){if(M!==v)return L||(L=!0),M=v,x.delete(t),B(t);throw r}),x.set(t,r)),r}for(var k=0;k<t.length;k++)(function(r){var i=t.codePointAt(r),u=function(t){var r=(t&s).toString(16),i=((t&s)+256-1).toString(16);return"codepoint-index/plane"+(t>>16)+"/"+r+"-"+i+".json"}(i);R[r]=u,h[u]||P.has(u)||P.set(u,B(u).then(function(t){h[u]=t})),i>65535&&(k=++r)})(k);return Promise.all(P.values()).then(function(){P.clear();for(var r=0;r<t.length;r++)(function(i){var s=t.codePointAt(i),c=null,p=h[R[i]],v=void 0;for(var y in p){var x=D[y];if(void 0===x&&(x=D[y]=new RegExp(y).test(b||"en")),x){for(var _ in v=y,p[y])if(u(s,p[y][_])){c=_;break}break}}if(!c){h:for(var w in p)if(w!==v){for(var S in p[w])if(u(s,p[w][S])){c=S;break h}}}c||(c="latin"),R[i]=c,f[c]||P.has(c)||P.set(c,B("font-meta/"+c+".json").then(function(t){f[c]=t})),s>65535&&(r=++i)})(r);return Promise.all(P.values())}).then(function(){for(var i,s=null,u=0;u<t.length;u++){var h,v=t.codePointAt(u);if(s&&(h=v,y||(y=new Set,c("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(t){y.add(t)})),y.has(h)||(function(t){var i=p.get(t);return i||(i=new r,c(t.ranges,function(t){return i.add(t)}),p.set(t,i)),i})(s).has(v)))T[u]=T[u-1];else{var x=I[(s=f[R[u]]).id];if(!x){var b=s.typeforms,D=_(b,w,"sans-serif"),P=_(b[D],S,"normal"),L=function(t,r){var i=r;if(!t.includes(i)){i=1/0;for(var s=0;s<t.length;s++)Math.abs(t[s]-r)<Math.abs(i-r)&&(i=t[s])}return i}(null===(i=b[D])||void 0===i?void 0:i[P],A);x=I[s.id]=M+"/font-files/"+s.id+"/"+D+"."+P+"."+L+".woff"}var B=C.get(x);null==B&&(B=C.size,C.set(x,B)),T[u]=B}v>65535&&(T[++u]=T[u-1])}return{fontUrls:Array.from(C.keys()),chars:T}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}],init:(t,r,i)=>t(r,i())}),e_c=()=>(self.performance||Date).now(),e_h=ex0(),e_d=[],e_f=0;function e_p(){let t=e_c();for(;e_d.length&&e_c()-t<5;)e_d.shift()();e_f=e_d.length?setTimeout(e_p,0):0}let e_g=(...t)=>new Promise((r,i)=>{e_d.push(()=>{let s=e_c();try{e_h.webgl.generateIntoCanvas(...t),r({timing:e_c()-s})}catch(t){i(t)}}),!e_f&&(e_f=setTimeout(e_p,0))}),e_m={},e_v=0;function e_y(t,r,i,s,u,c,h,f,p,v){let y="TroikaTextSDFGenerator_JS_"+e_v++%4,x=e_m[y];return!x&&(x=e_m[y]={workerModule:exQ({name:y,workerId:y,dependencies:[ex0,e_c],init(t,r){let i=t().javascript.generate;return function(...t){let s=r();return{textureData:i(...t),timing:r()-s}}},getTransferables:t=>[t.textureData.buffer]}),requests:0,idleTimer:null}),x.requests++,clearTimeout(x.idleTimer),x.workerModule(t,r,i,s,u,c).then(({textureData:i,timing:s})=>{let u=e_c(),c=new Uint8Array(4*i.length);for(let t=0;t<i.length;t++)c[4*t+v]=i[t];return e_h.webglUtils.renderImageData(h,c,f,p,t,r,1<<3-v),s+=e_c()-u,0==--x.requests&&(x.idleTimer=setTimeout(()=>{var t;exK[t=y]&&exK[t].forEach(function(t){t()}),exZ[t]&&(exZ[t].terminate(),delete exZ[t])},2e3)),{timing:s}})}let e_x=e_h.webglUtils.resizeWebGLCanvasWithoutClearing,e__={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},e_b=new aw,e_w=!1;function e_S(){return(self.performance||Date).now()}let e_A=Object.create(null);function e_M(t,r){e_w=!0,t=e_T({},t);let i=e_S(),{defaultFontURL:s}=e__,u=[];if(s&&u.push({label:"default",src:e_E(s)}),t.font&&u.push({label:"user",src:e_E(t.font)}),t.font=u,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||e__.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||e__.unicodeFontsURL,null!=t.colorRanges){let r={};for(let i in t.colorRanges)if(t.colorRanges.hasOwnProperty(i)){let s=t.colorRanges[i];"number"!=typeof s&&(s=e_b.set(s).getHex()),r[i]=s}t.colorRanges=r}Object.freeze(t);let{textureWidth:c,sdfExponent:h}=e__,{sdfGlyphSize:f}=t,p=c/f*4,v=e_A[f];if(!v){let t=document.createElement("canvas");t.width=c,t.height=256*f/p,(v=e_A[f]={glyphCount:0,sdfGlyphSize:f,sdfCanvas:t,sdfTexture:new r7(t,void 0,void 0,void 0,tP,tP),contextLost:!1,glyphsByFont:new Map}).sdfTexture.generateMipmaps=!1,function(t){let r=t.sdfCanvas;r.addEventListener("webglcontextlost",r=>{r.preventDefault(),t.contextLost=!0}),r.addEventListener("webglcontextrestored",r=>{t.contextLost=!1;let i=[];t.glyphsByFont.forEach(r=>{r.forEach(r=>{i.push(e_C(r,t,!0))})}),Promise.all(i).then(()=>{e_I(t),t.sdfTexture.needsUpdate=!0})})}(v)}let{sdfTexture:y,sdfCanvas:x}=v;(e__.useWorker?e_R:e_P)(t).then(s=>{let{glyphIds:u,glyphFontIndices:_,fontData:b,glyphPositions:w,fontSize:S,timings:A}=s,M=[],C=new Float32Array(4*u.length),T=0,I=0,D=e_S(),R=b.map(t=>{let r=v.glyphsByFont.get(t.src);return!r&&v.glyphsByFont.set(t.src,r=new Map),r});u.forEach((t,r)=>{let i=_[r],{src:c,unitsPerEm:h}=b[i],p=R[i].get(t);if(!p){let{path:r,pathBounds:u}=s.glyphData[c][t],h=Math.max(u[2]-u[0],u[3]-u[1])/f*(e__.sdfMargin*f+.5),y=v.glyphCount++,x=[u[0]-h,u[1]-h,u[2]+h,u[3]+h];R[i].set(t,p={path:r,atlasIndex:y,sdfViewBox:x}),M.push(p)}let{sdfViewBox:y}=p,x=w[I++],A=w[I++],D=S/h;C[T++]=x+y[0]*D,C[T++]=A+y[1]*D,C[T++]=x+y[2]*D,C[T++]=A+y[3]*D,u[r]=p.atlasIndex}),A.quads=(A.quads||0)+(e_S()-D);let P=e_S();A.sdf={};let L=x.height,B=Math.pow(2,Math.ceil(Math.log2(Math.ceil(v.glyphCount/p)*f)));B>L&&(e_x(x,c,B),y.dispose()),Promise.all(M.map(r=>e_C(r,v,t.gpuAccelerateSDF).then(({timing:t})=>{A.sdf[r.atlasIndex]=t}))).then(()=>{M.length&&!v.contextLost&&(e_I(v),y.needsUpdate=!0),A.sdfTotal=e_S()-P,A.total=e_S()-i,r(Object.freeze({parameters:t,sdfTexture:y,sdfGlyphSize:f,sdfExponent:h,glyphBounds:C,glyphAtlasIndices:u,glyphColors:s.glyphColors,caretPositions:s.caretPositions,chunkedBounds:s.chunkedBounds,ascender:s.ascender,descender:s.descender,lineHeight:s.lineHeight,capHeight:s.capHeight,xHeight:s.xHeight,topBaseline:s.topBaseline,blockBounds:s.blockBounds,visibleBounds:s.visibleBounds,timings:s.timings}))})}),Promise.resolve().then(()=>{if(!v.contextLost){var t;(t=x)._warm||(e_h.webgl.isSupported(t),t._warm=!0)}})}function e_C({path:t,atlasIndex:r,sdfViewBox:i},{sdfGlyphSize:s,sdfCanvas:u,contextLost:c},h){if(c)return Promise.resolve({timing:-1});let{textureWidth:f,sdfExponent:p}=e__,v=Math.max(i[2]-i[0],i[3]-i[1]),y=Math.floor(r/4),x=y%(f/s)*s,_=Math.floor(y/(f/s))*s;return function(t,r,i,s,u,c,h,f,p,v,y=!0){return y?e_g(t,r,i,s,u,c,h,f,p,v).then(null,y=>(!Q&&(Q=!0),e_y(t,r,i,s,u,c,h,f,p,v))):e_y(t,r,i,s,u,c,h,f,p,v)}(s,s,t,i,v,p,u,x,_,r%4,h)}function e_T(t,r){for(let i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);return t}function e_E(t){return!q&&(q="undefined"==typeof document?{}:document.createElement("a")),q.href=t,q.href}function e_I(t){if("function"!=typeof createImageBitmap){let{sdfCanvas:r,sdfTexture:i}=t,{width:s,height:u}=r,c=t.sdfCanvas.getContext("webgl"),h=i.image.data;(!h||h.length!==s*u*4)&&(h=new Uint8Array(s*u*4),i.image={width:s,height:u,data:h},i.flipY=!1,i.isDataTexture=!0),c.readPixels(0,0,s,u,c.RGBA,c.UNSIGNED_BYTE,h)}}let e_D=exQ({name:"Typesetter",dependencies:[function(t,r){let i=1/0,s=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,u=`[^\\S\\u00A0]`,c=RegExp(`${u}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function h({text:h="",font:x,lang:_,sdfGlyphSize:b=64,fontSize:w=400,fontWeight:S=1,fontStyle:A="normal",letterSpacing:M=0,lineHeight:C="normal",maxWidth:T=i,direction:I,textAlign:D="left",textIndent:R=0,whiteSpace:P="normal",overflowWrap:L="normal",anchorX:B=0,anchorY:k=0,metricsOnly:O=!1,unicodeFontsURL:N,preResolvedFonts:F=null,includeCaretPositions:U=!1,chunkedBoundsSize:z=8192,colorRanges:G=null},H){let V=v(),j={fontLoad:0,typesetting:0};h.indexOf("\r")>-1&&(h=h.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),w=+w,M=+M,T=+T,C=C||"normal",R=+R,!function({text:r,lang:i,fonts:s,style:u,weight:c,preResolvedFonts:h,unicodeFontsURL:f},p){let v=({chars:t,fonts:r})=>{let i,s;let u=[];for(let c=0;c<t.length;c++)t[c]!==s?(s=t[c],u.push(i={start:c,end:c,fontObj:r[t[c]]})):i.end=c;p(u)};h?v(h):t(r,v,{lang:i,fonts:s,style:u,weight:c,unicodeFontsURL:f})}({text:h,lang:_,style:A,weight:S,fonts:"string"==typeof x?[{src:x}]:x,unicodeFontsURL:N,preResolvedFonts:F},t=>{j.fontLoad=v()-V;let x=isFinite(T),_=null,b=null,S=null,A=null,N=null,F=null,W=null,X=null,Y=0,Z=0,K="nowrap"!==P,J=new Map,Q=v(),q=R,$=0,ee=new y,et=[ee];t.forEach(t=>{let r,i;let{fontObj:f}=t,{ascender:p,descender:v,unitsPerEm:_,lineGap:b,capHeight:S,xHeight:A}=f,I=J.get(f);if(!I){let t=w/_,r="normal"===C?(p-v+b)*t:C*w,i=(r-(p-v)*t)/2,s=Math.min(r,(p-v)*t),u=(p+v)/2*t+s/2;I={index:J.size,src:f.src,fontObj:f,fontSizeMult:t,unitsPerEm:_,ascender:p*t,descender:v*t,capHeight:S*t,xHeight:A*t,lineHeight:r,baseline:-i-p*t,caretTop:u,caretBottom:u-s},J.set(f,I)}let{fontSizeMult:D}=I,P=h.slice(t.start,t.end+1);f.forEachGlyph(P,w,M,(f,p,v,_)=>{let b;p+=$,_+=t.start,r=p,i=f;let S=h.charAt(_),A=f.advanceWidth*D,C=ee.count;if(!("isEmpty"in f)&&(f.isWhitespace=!!S&&new RegExp(u).test(S),f.canBreakAfter=!!S&&c.test(S),f.isEmpty=f.xMin===f.xMax||f.yMin===f.yMax||s.test(S)),!f.isWhitespace&&!f.isEmpty&&Z++,K&&x&&!f.isWhitespace&&p+A+q>T&&C){if(ee.glyphAt(C-1).glyphObj.canBreakAfter)b=new y,q=-p;else for(let t=C;t--;){if(0===t&&"break-word"===L){b=new y,q=-p;break}if(ee.glyphAt(t).glyphObj.canBreakAfter){let r=(b=ee.splitAt(t+1)).glyphAt(0).x;q-=r;for(let t=b.count;t--;)b.glyphAt(t).x-=r;break}}b&&(ee.isSoftWrapped=!0,ee=b,et.push(ee),Y=T)}let P=ee.glyphAt(ee.count);P.glyphObj=f,P.x=p+q,P.y=v,P.width=A,P.charIndex=_,P.fontData=I,"\n"===S&&(ee=new y,et.push(ee),q=-(p+A+M*w)+R)}),$=r+i.advanceWidth*D+M*w});let en=0;et.forEach(t=>{let r=!0;for(let i=t.count;i--;){let s=t.glyphAt(i);r&&!s.glyphObj.isWhitespace&&(t.width=s.x+s.width,t.width>Y&&(Y=t.width),r=!1);let{lineHeight:u,capHeight:c,xHeight:h,baseline:f}=s.fontData;u>t.lineHeight&&(t.lineHeight=u);let p=f-t.baseline;p<0&&(t.baseline+=p,t.cap+=p,t.ex+=p),t.cap=Math.max(t.cap,t.baseline+c),t.ex=Math.max(t.ex,t.baseline+h)}t.baseline-=en,t.cap-=en,t.ex-=en,en+=t.lineHeight});let er=0,ei=0;if(B&&("number"==typeof B?er=-B:"string"==typeof B&&(er=-Y*("left"===B?0:"center"===B?.5:"right"===B?1:f(B)))),k&&("number"==typeof k?ei=-k:"string"==typeof k&&(ei="top"===k?0:"top-baseline"===k?-et[0].baseline:"top-cap"===k?-et[0].cap:"top-ex"===k?-et[0].ex:"middle"===k?en/2:"bottom"===k?en:"bottom-baseline"===k?-et[et.length-1].baseline:f(k)*en)),!O){let t,s;let u=r.getEmbeddingLevels(h,I);_=new Uint16Array(Z),b=new Uint8Array(Z),S=new Float32Array(2*Z),A={},W=[i,i,-i,-i],X=[],U&&(F=new Float32Array(4*h.length)),G&&(N=new Uint8Array(3*Z));let c=0,f=-1,v=-1;if(et.forEach((y,x)=>{let{count:w,width:M}=y;if(w>0){let x,C=0;for(let t=w;t--&&y.glyphAt(t).glyphObj.isWhitespace;)C++;let T=0,I=0;if("center"===D)T=(Y-M)/2;else if("right"===D)T=Y-M;else if("justify"===D&&y.isSoftWrapped){let t=0;for(let r=w-C;r--;)y.glyphAt(r).glyphObj.isWhitespace&&t++;I=(Y-M)/t}if(I||T){let t=0;for(let r=0;r<w;r++){let i=y.glyphAt(r),s=i.glyphObj;i.x+=T+t,0!==I&&s.isWhitespace&&r<w-C&&(t+=I,i.width+=I)}}let R=r.getReorderSegments(h,u,y.glyphAt(0).charIndex,y.glyphAt(y.count-1).charIndex);for(let t=0;t<R.length;t++){let[r,i]=R[t],s=1/0,u=-1/0;for(let t=0;t<w;t++)if(y.glyphAt(t).charIndex>=r){let r=t,c=t;for(;c<w;c++){let t=y.glyphAt(c);if(t.charIndex>i)break;c<w-C&&(s=Math.min(s,t.x),u=Math.max(u,t.x+t.width))}for(let t=r;t<c;t++){let r=y.glyphAt(t);r.x=u-(r.x+r.width-s)}break}}let P=t=>x=t;for(let M=0;M<w;M++){let w=y.glyphAt(M),C=(x=w.glyphObj).index,T=1&u.levels[w.charIndex];if(T){let t=r.getMirroredCharacter(h[w.charIndex]);t&&w.fontData.fontObj.forEachGlyph(t,0,0,P)}if(U){let{charIndex:t,fontData:r}=w,i=w.x+er,s=w.x+w.width+er;F[4*t]=T?s:i,F[4*t+1]=T?i:s,F[4*t+2]=y.baseline+r.caretBottom+ei,F[4*t+3]=y.baseline+r.caretTop+ei;let u=t-f;u>1&&p(F,f,u),f=t}if(G){let{charIndex:t}=w;for(;t>v;)v++,G.hasOwnProperty(v)&&(s=G[v])}if(!x.isWhitespace&&!x.isEmpty){let r=c++,{fontSizeMult:u,src:h,index:f}=w.fontData,p=A[h]||(A[h]={});!p[C]&&(p[C]={path:x.path,pathBounds:[x.xMin,x.yMin,x.xMax,x.yMax]});let v=w.x+er,M=w.y+y.baseline+ei;S[2*r]=v,S[2*r+1]=M;let T=v+x.xMin*u,I=M+x.yMin*u,D=v+x.xMax*u,R=M+x.yMax*u;T<W[0]&&(W[0]=T),I<W[1]&&(W[1]=I),D>W[2]&&(W[2]=D),R>W[3]&&(W[3]=R),r%z==0&&(t={start:r,end:r,rect:[i,i,-i,-i]},X.push(t)),t.end++;let P=t.rect;if(T<P[0]&&(P[0]=T),I<P[1]&&(P[1]=I),D>P[2]&&(P[2]=D),R>P[3]&&(P[3]=R),_[r]=C,b[r]=f,G){let t=3*r;N[t]=s>>16&255,N[t+1]=s>>8&255,N[t+2]=255&s}}}}}),F){let t=h.length-f;t>1&&p(F,f,t)}}let ea=[];J.forEach(({index:t,src:r,unitsPerEm:i,ascender:s,descender:u,lineHeight:c,capHeight:h,xHeight:f})=>{ea[t]={src:r,unitsPerEm:i,ascender:s,descender:u,lineHeight:c,capHeight:h,xHeight:f}}),j.typesetting=v()-Q,H({glyphIds:_,glyphFontIndices:b,glyphPositions:S,glyphData:A,fontData:ea,caretPositions:F,glyphColors:N,chunkedBounds:X,fontSize:w,topBaseline:ei+et[0].baseline,blockBounds:[er,ei-en,er+Y,ei],visibleBounds:W,timings:j})})}function f(t){let r=t.match(/^([\d.]+)%$/),i=r?parseFloat(r[1]):NaN;return isNaN(i)?0:i/100}function p(t,r,i){let s=t[4*r],u=t[4*r+1],c=t[4*r+2],h=t[4*r+3],f=(u-s)/i;for(let u=0;u<i;u++){let i=(r+u)*4;t[i]=s+f*u,t[i+1]=s+f*(u+1),t[i+2]=c,t[i+3]=h}}function v(){return(self.performance||Date).now()}function y(){this.data=[]}let x=["glyphObj","x","y","width","charIndex","fontData"];return y.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/x.length)},glyphAt(t){let r=y.flyweight;return r.data=this.data,r.index=t,r},splitAt(t){let r=new y;return r.data=this.data.splice(t*x.length),r}},y.flyweight=x.reduce((t,r,i,s)=>(Object.defineProperty(t,r,{get(){return this.data[this.index*x.length+i]},set(t){this.data[this.index*x.length+i]=t}}),t),{data:null,index:0}),{typeset:h,measure:function(t,r){h({...t,metricsOnly:!0},t=>{let[i,s,u,c]=t.blockBounds;r({width:u-i,height:c-s})})}}},e_u,function(){return function(t){var r,i,s,u,c={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},h={},f={};h.L=1,f[1]="L",Object.keys(c).forEach(function(t,r){h[t]=1<<r+1,f[h[t]]=t}),Object.freeze(h);var p=h.LRI|h.RLI|h.FSI,v=h.L|h.R|h.AL,y=h.B|h.S|h.WS|h.ON|h.FSI|h.LRI|h.RLI|h.PDI,x=h.BN|h.RLE|h.LRE|h.RLO|h.LRO|h.PDF,_=h.S|h.WS|h.B|p|h.PDI|x,b=null;function w(t){return!function(){if(!b){b=new Map;var t=function(t){if(c.hasOwnProperty(t)){var r=0;c[t].split(",").forEach(function(i){var s=i.split("+"),u=s[0],c=s[1];u=parseInt(u,36),c=c?parseInt(c,36):0,b.set(r+=u,h[t]);for(var f=0;f<c;f++)b.set(++r,h[t])})}};for(var r in c)t(r)}}(),b.get(t.codePointAt(0))||h.L}var S={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function A(t,r){var i,s=0,u=new Map,c=r&&new Map;return t.split(",").forEach(function t(h){if(-1!==h.indexOf("+"))for(var f=+h;f--;)t(i);else{i=h;var p=h.split(">"),v=p[0],y=p[1];v=String.fromCodePoint(s+=parseInt(v,36)),y=String.fromCodePoint(s+=parseInt(y,36)),u.set(v,y),r&&c.set(y,v)}}),{map:u,reverseMap:c}}function M(){if(!r){var t=A(S.pairs,!0),u=t.map,c=t.reverseMap;r=u,i=c,s=A(S.canonical,!1).map}}function C(t){return M(),r.get(t)||null}function T(t){return M(),i.get(t)||null}function I(t){return M(),s.get(t)||null}var D=h.L,R=h.R,P=h.EN,L=h.ES,B=h.ET,k=h.AN,O=h.CS,N=h.B,F=h.S,U=h.ON,z=h.BN,G=h.NSM,H=h.AL,V=h.LRO,j=h.RLO,W=h.LRE,X=h.RLE,Y=h.PDF,Z=h.LRI,K=h.RLI,J=h.FSI,Q=h.PDI;function q(t){return!function(){if(!u){var t=A("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),r=t.map;t.reverseMap.forEach(function(t,i){r.set(i,t)}),u=r}}(),u.get(t)||null}function $(t,r,i,s){var u=t.length;i=Math.max(0,null==i?0:+i),s=Math.min(u-1,null==s?u-1:+s);var c=[];return r.paragraphs.forEach(function(u){var h=Math.max(i,u.start),f=Math.min(s,u.end);if(h<f){for(var p=r.levels.slice(h,f+1),v=f;v>=h&&w(t[v])&_;v--)p[v]=u.level;for(var y=u.level,x=1/0,b=0;b<p.length;b++){var S=p[b];S>y&&(y=S),S<x&&(x=1|S)}for(var A=y;A>=x;A--)for(var M=0;M<p.length;M++)if(p[M]>=A){for(var C=M;M+1<p.length&&p[M+1]>=A;)M++;M>C&&c.push([C+h,M+h])}}}),c}function ee(t,r,i,s){for(var u=$(t,r,i,s),c=[],h=0;h<t.length;h++)c[h]=h;return u.forEach(function(t){for(var r=t[0],i=t[1],s=c.slice(r,i+1),u=s.length;u--;)c[i-u]=s[u]}),c}return t.closingToOpeningBracket=T,t.getBidiCharType=w,t.getBidiCharTypeName=function(t){return f[w(t)]},t.getCanonicalBracket=I,t.getEmbeddingLevels=function(t,r){for(var i=new Uint32Array(t.length),s=0;s<t.length;s++)i[s]=w(t[s]);var u=new Map;function c(t,r){var s=i[t];i[t]=r,u.set(s,u.get(s)-1),s&y&&u.set(y,u.get(y)-1),u.set(r,(u.get(r)||0)+1),r&y&&u.set(y,(u.get(y)||0)+1)}for(var h=new Uint8Array(t.length),f=new Map,b=[],S=null,A=0;A<t.length;A++)!S&&b.push(S={start:A,end:t.length-1,level:"rtl"===r?1:"ltr"===r?0:tU(A,!1)}),i[A]&N&&(S.end=A,S=null);for(var M=X|W|j|V|p|Q|Y|N,q=function(t){return t+(1&t?1:2)},$=function(t){return t+(1&t?2:1)},ee=0;ee<b.length;ee++){var et=[{_level:(S=b[ee]).level,_override:0,_isolate:0}],en=void 0,er=0,ei=0,ea=0;u.clear();for(var eo=S.start;eo<=S.end;eo++){var es=i[eo];if(en=et[et.length-1],u.set(es,(u.get(es)||0)+1),es&y&&u.set(y,(u.get(y)||0)+1),es&M){if(es&(X|W)){h[eo]=en._level;var el=(es===X?$:q)(en._level);!(el<=125)||er||ei?!er&&ei++:et.push({_level:el,_override:0,_isolate:0})}else if(es&(j|V)){h[eo]=en._level;var eu=(es===j?$:q)(en._level);!(eu<=125)||er||ei?!er&&ei++:et.push({_level:eu,_override:es&j?R:D,_isolate:0})}else if(es&p){es&J&&(es=1===tU(eo+1,!0)?K:Z),h[eo]=en._level,en._override&&c(eo,en._override);var ec=(es===K?$:q)(en._level);ec<=125&&0===er&&0===ei?(ea++,et.push({_level:ec,_override:0,_isolate:1,_isolInitIndex:eo})):er++}else if(es&Q){if(er>0)er--;else if(ea>0){for(ei=0;!et[et.length-1]._isolate;)et.pop();var eh=et[et.length-1]._isolInitIndex;null!=eh&&(f.set(eh,eo),f.set(eo,eh)),et.pop(),ea--}en=et[et.length-1],h[eo]=en._level,en._override&&c(eo,en._override)}else es&Y?(0===er&&(ei>0?ei--:!en._isolate&&et.length>1&&(et.pop(),en=et[et.length-1])),h[eo]=en._level):es&N&&(h[eo]=S.level)}else h[eo]=en._level,en._override&&es!==z&&c(eo,en._override)}for(var ed=[],ef=null,ep=S.start;ep<=S.end;ep++){var eg=i[ep];if(!(eg&x)){var em=h[ep],ev=eg&p,ey=eg===Q;ef&&em===ef._level?(ef._end=ep,ef._endsWithIsolInit=ev):ed.push(ef={_start:ep,_end:ep,_level:em,_startsWithPDI:ey,_endsWithIsolInit:ev})}}for(var ex=[],e_=0;e_<ed.length;e_++){var eb=ed[e_];if(!eb._startsWithPDI||eb._startsWithPDI&&!f.has(eb._start)){for(var ew=[ef=eb],eS=void 0;ef&&ef._endsWithIsolInit&&null!=(eS=f.get(ef._end));)for(var eA=e_+1;eA<ed.length;eA++)if(ed[eA]._start===eS){ew.push(ef=ed[eA]);break}for(var eM=[],eC=0;eC<ew.length;eC++){for(var eT=ew[eC],eE=eT._start;eE<=eT._end;eE++)eM.push(eE)}for(var eI=h[eM[0]],eD=S.level,eR=eM[0]-1;eR>=0;eR--)if(!(i[eR]&x)){eD=h[eR];break}var eP=eM[eM.length-1],eL=h[eP],eB=S.level;if(!(i[eP]&p)){for(var ek=eP+1;ek<=S.end;ek++)if(!(i[ek]&x)){eB=h[ek];break}}ex.push({_seqIndices:eM,_sosType:Math.max(eD,eI)%2?R:D,_eosType:Math.max(eB,eL)%2?R:D})}}for(var eO=0;eO<ex.length;eO++){var eN=ex[eO],eF=eN._seqIndices,eU=eN._sosType,ez=eN._eosType,eG=1&h[eF[0]]?R:D;if(u.get(G))for(var eH=0;eH<eF.length;eH++){var eV=eF[eH];if(i[eV]&G){for(var ej=eU,eW=eH-1;eW>=0;eW--)if(!(i[eF[eW]]&x)){ej=i[eF[eW]];break}c(eV,ej&(p|Q)?U:ej)}}if(u.get(P))for(var eX=0;eX<eF.length;eX++){var eY=eF[eX];if(i[eY]&P)for(var eZ=eX-1;eZ>=-1;eZ--){var eK=-1===eZ?eU:i[eF[eZ]];if(eK&v){eK===H&&c(eY,k);break}}}if(u.get(H))for(var eJ=0;eJ<eF.length;eJ++){var eQ=eF[eJ];i[eQ]&H&&c(eQ,R)}if(u.get(L)||u.get(O))for(var eq=1;eq<eF.length-1;eq++){var e$=eF[eq];if(i[e$]&(L|O)){for(var e0=0,e1=0,e2=eq-1;e2>=0&&(e0=i[eF[e2]])&x;e2--);for(var e3=eq+1;e3<eF.length&&(e1=i[eF[e3]])&x;e3++);e0===e1&&(i[e$]===L?e0===P:e0&(P|k))&&c(e$,e0)}}if(u.get(P)){for(var e5=0;e5<eF.length;e5++)if(i[eF[e5]]&P){for(var e4=e5-1;e4>=0&&i[eF[e4]]&(B|x);e4--)c(eF[e4],P);for(e5++;e5<eF.length&&i[eF[e5]]&(B|x|P);e5++)i[eF[e5]]!==P&&c(eF[e5],P)}}if(u.get(B)||u.get(L)||u.get(O))for(var e9=0;e9<eF.length;e9++){var e8=eF[e9];if(i[e8]&(B|L|O)){c(e8,U);for(var e6=e9-1;e6>=0&&i[eF[e6]]&x;e6--)c(eF[e6],U);for(var e7=e9+1;e7<eF.length&&i[eF[e7]]&x;e7++)c(eF[e7],U)}}if(u.get(P))for(var te=0,tt=eU;te<eF.length;te++){var tn=eF[te],tr=i[tn];tr&P?tt===D&&c(tn,D):tr&v&&(tt=tr)}if(u.get(y)){for(var ti=R|P|k,ta=ti|D,to=[],ts=[],tl=0;tl<eF.length;tl++)if(i[eF[tl]]&y){var tu=t[eF[tl]],tc=void 0;if(null!==C(tu)){if(ts.length<63)ts.push({char:tu,seqIndex:tl});else break}else if(null!==(tc=T(tu)))for(var th=ts.length-1;th>=0;th--){var td=ts[th].char;if(td===tc||td===T(I(tu))||C(I(td))===tu){to.push([ts[th].seqIndex,tl]),ts.length=th;break}}}to.sort(function(t,r){return t[0]-r[0]});for(var tf=0;tf<to.length;tf++){for(var tp=to[tf],tg=tp[0],tm=tp[1],tv=!1,ty=0,tx=tg+1;tx<tm;tx++){var t_=eF[tx];if(i[t_]&ta){tv=!0;var tb=i[t_]&ti?R:D;if(tb===eG){ty=tb;break}}}if(tv&&!ty){ty=eU;for(var tw=tg-1;tw>=0;tw--){var tS=eF[tw];if(i[tS]&ta){var tA=i[tS]&ti?R:D;ty=tA!==eG?tA:eG;break}}}if(ty){if(i[eF[tg]]=i[eF[tm]]=ty,ty!==eG){for(var tM=tg+1;tM<eF.length;tM++)if(!(i[eF[tM]]&x)){w(t[eF[tM]])&G&&(i[eF[tM]]=ty);break}}if(ty!==eG){for(var tC=tm+1;tC<eF.length;tC++)if(!(i[eF[tC]]&x)){w(t[eF[tC]])&G&&(i[eF[tC]]=ty);break}}}}for(var tT=0;tT<eF.length;tT++)if(i[eF[tT]]&y){for(var tE=tT,tI=tT,tD=eU,tR=tT-1;tR>=0;tR--)if(i[eF[tR]]&x)tE=tR;else{tD=i[eF[tR]]&ti?R:D;break}for(var tP=ez,tL=tT+1;tL<eF.length;tL++)if(i[eF[tL]]&(y|x))tI=tL;else{tP=i[eF[tL]]&ti?R:D;break}for(var tB=tE;tB<=tI;tB++)i[eF[tB]]=tD===tP?tD:eG;tT=tI}}}for(var tk=S.start;tk<=S.end;tk++){var tO=h[tk],tN=i[tk];if(1&tO?tN&(D|P|k)&&h[tk]++:tN&R?h[tk]++:tN&(k|P)&&(h[tk]+=2),tN&x&&(h[tk]=0===tk?S.level:h[tk-1]),tk===S.end||w(t[tk])&(F|N))for(var tF=tk;tF>=0&&w(t[tF])&_;tF--)h[tF]=S.level}}return{levels:h,paragraphs:b};function tU(r,s){for(var u=r;u<t.length;u++){var c=i[u];if(c&(R|H))return 1;if(c&(N|D)||s&&c===Q)break;if(c&p){var h=function(r){for(var s=1,u=r+1;u<t.length;u++){var c=i[u];if(c&N)break;if(c&Q){if(0==--s)return u}else c&p&&s++}return -1}(u);u=-1===h?t.length:h}}return 0}},t.getMirroredCharacter=q,t.getMirroredCharactersMap=function(t,r,i,s){var u=t.length;i=Math.max(0,null==i?0:+i),s=Math.min(u-1,null==s?u-1:+s);for(var c=new Map,h=i;h<=s;h++)if(1&r[h]){var f=q(t[h]);null!==f&&c.set(h,f)}return c},t.getReorderSegments=$,t.getReorderedIndices=ee,t.getReorderedString=function(t,r,i,s){var u=ee(t,r,i,s),c=[].concat(t);return u.forEach(function(i,s){c[s]=(1&r.levels[i]?q(t[i]):null)||t[i]}),c.join("")},t.openingToClosingBracket=C,Object.defineProperty(t,"__esModule",{value:!0}),t}({})}],init:(t,r,i)=>t(r,i())}),e_R=exQ({name:"Typesetter",dependencies:[e_D],init:t=>function(r){return new Promise(i=>{t.typeset(r,i)})},getTransferables(t){let r=[];for(let i in t)t[i]&&t[i].buffer&&r.push(t[i].buffer);return r}}),e_P=e_R.onMainThread,e_L={},e_B="aTroikaGlyphIndex";class e_k extends df{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new iR,this.boundingBox=new id}computeBoundingSphere(){}computeBoundingBox(){}set detail(t){if(t!==this._detail){var r;let i;this._detail=t,("number"!=typeof t||t<1)&&(t=1);let s=(!(i=e_L[r=t])&&(i=e_L[r]=new oS(1,1,r,r).translate(.5,.5,0)),i);["position","normal","uv"].forEach(t=>{this.attributes[t]=s.attributes[t].clone()}),this.setIndex(s.getIndex().clone())}}get detail(){return this._detail}set curveRadius(t){t!==this._curveRadius&&(this._curveRadius=t,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(t,r,i,s,u){this.updateAttributeData("aTroikaGlyphBounds",t,4),this.updateAttributeData(e_B,r,1),this.updateAttributeData("aTroikaGlyphColor",u,3),this._blockBounds=i,this._chunkedBounds=s,this.instanceCount=r.length,this._updateBounds()}_updateBounds(){let t=this._blockBounds;if(t){let{curveRadius:r,boundingBox:i}=this;if(r){let{PI:s,floor:u,min:c,max:h,sin:f,cos:p}=Math,v=s/2,y=2*s,x=Math.abs(r),_=t[0]/x,b=t[2]/x,w=u((_+v)/y)!==u((b+v)/y)?-x:c(f(_)*x,f(b)*x),S=u((_-v)/y)!==u((b-v)/y)?x:h(f(_)*x,f(b)*x),A=u((_+s)/y)!==u((b+s)/y)?2*x:h(x-p(_)*x,x-p(b)*x);i.min.set(w,t[1],r<0?-A:0),i.max.set(S,t[3],r<0?0:A)}else i.min.set(t[0],t[1],0),i.max.set(t[2],t[3],0);i.getBoundingSphere(this.boundingSphere)}}applyClipRect(t){let r=this.getAttribute(e_B).count,i=this._chunkedBounds;if(i)for(let s=i.length;s--;){r=i[s].end;let u=i[s].rect;if(u[1]<t.w&&u[3]>t.y&&u[0]<t.z&&u[2]>t.x)break}this.instanceCount=r}updateAttributeData(t,r,i){let s=this.getAttribute(t);r?s&&s.array.length===r.length?(s.array.set(r),s.needsUpdate=!0):(this.setAttribute(t,new u_(r,i)),delete this._maxInstanceCount,this.dispose()):s&&this.deleteAttribute(t)}}let e_O=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,e_N=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,e_F=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,e_U=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function e_z(t){let r=ex7(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new rz},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new ie(0,0,0,0)},uTroikaClipRect:{value:new ie(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new rz},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new aw},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new rG},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:e_O,vertexTransform:e_N,fragmentDefs:e_F,fragmentColorTransform:e_U,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),!i.test(t)&&(t=t.replace(ex1,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:t,fragmentShader:r}}});return r.transparent=!0,r.forceSinglePass=!0,Object.defineProperties(r,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),r}let e_G=new aC({color:0xffffff,side:eB,transparent:!0}),e_H=new iz,e_V=new iu,e_j=new iu,e_W=[],e_X=new iu,e_Y="+x+y";function e_Z(t){return Array.isArray(t)?t[0]:t}let e_K=()=>{let t=new a6(new oS(1,1),e_G);return e_K=()=>t,t},e_J=()=>{let t=new a6(new oS(1,1,32,1),e_G);return e_J=()=>t,t},e_Q={type:"syncstart"},e_q={type:"synccomplete"},e_$=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],e_0=e_$.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class e_1 extends a6{constructor(){super(new e_k,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=8421504,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=e_Y,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(t){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(t):(this._isSyncing=!0,this.dispatchEvent(e_Q),e_M({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},r=>{this._isSyncing=!1,this._textRenderInfo=r,this.geometry.updateGlyphs(r.glyphBounds,r.glyphAtlasIndices,r.blockBounds,r.chunkedBounds,r.glyphColors);let i=this._queuedSyncs;i&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{i.forEach(t=>t&&t())})),this.dispatchEvent(e_q),t&&t()})))}onBeforeRender(t,r,i,s,u,c){this.sync(),u.isTroikaTextMaterial&&this._prepareForRender(u)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(t){return e_z(t)}get material(){let t=this._derivedMaterial,r=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=e_G.clone());if((!t||!t.isDerivedFrom(r))&&(t=this._derivedMaterial=this.createDerivedMaterial(r),r.addEventListener("dispose",function i(){r.removeEventListener("dispose",i),t.dispose()})),!this.hasOutline())return t;{let r=t._outlineMtl;return!r&&((r=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}})).isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,t.addEventListener("dispose",function i(){t.removeEventListener("dispose",i),r.dispose()})),[r,t]}}set material(t){t&&t.isTroikaTextMaterial?(this._derivedMaterial=t,this._baseMaterial=t.baseMaterial):this._baseMaterial=t}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(t){this.geometry.detail=t}get curveRadius(){return this.geometry.curveRadius}set curveRadius(t){this.geometry.curveRadius=t}get customDepthMaterial(){return e_Z(this.material).getDepthMaterial()}get customDistanceMaterial(){return e_Z(this.material).getDistanceMaterial()}_prepareForRender(t){let r=t.isTextOutlineMaterial,i=t.uniforms,s=this.textRenderInfo;if(s){let t,u,c;let{sdfTexture:h,blockBounds:f}=s;i.uTroikaSDFTexture.value=h,i.uTroikaSDFTextureSize.value.set(h.image.width,h.image.height),i.uTroikaSDFGlyphSize.value=s.sdfGlyphSize,i.uTroikaSDFExponent.value=s.sdfExponent,i.uTroikaTotalBounds.value.fromArray(f),i.uTroikaUseGlyphColors.value=!r&&!!s.glyphColors;let p=0,v=0,y=0,x=0,_=0;if(r){let{outlineWidth:r,outlineOffsetX:i,outlineOffsetY:s,outlineBlur:u,outlineOpacity:c}=this;p=this._parsePercent(r)||0,v=Math.max(0,this._parsePercent(u)||0),t=c,x=this._parsePercent(i)||0,_=this._parsePercent(s)||0}else(y=Math.max(0,this._parsePercent(this.strokeWidth)||0))&&(c=this.strokeColor,i.uTroikaStrokeColor.value.set(null==c?8421504:c),null==(u=this.strokeOpacity)&&(u=1)),t=this.fillOpacity;i.uTroikaEdgeOffset.value=p,i.uTroikaPositionOffset.value.set(x,_),i.uTroikaBlurRadius.value=v,i.uTroikaStrokeWidth.value=y,i.uTroikaStrokeOpacity.value=u,i.uTroikaFillOpacity.value=null==t?1:t,i.uTroikaCurveRadius.value=this.curveRadius||0;let b=this.clipRect;if(b&&Array.isArray(b)&&4===b.length)i.uTroikaClipRect.value.fromArray(b);else{let t=100*(this.fontSize||.1);i.uTroikaClipRect.value.set(f[0]-t,f[1]-t,f[2]+t,f[3]+t)}this.geometry.applyClipRect(i.uTroikaClipRect.value)}i.uTroikaSDFDebug.value=!!this.debugSDF,t.polygonOffset=!!this.depthOffset,t.polygonOffsetFactor=t.polygonOffsetUnits=this.depthOffset||0;let u=r?this.outlineColor||0:this.color;if(null==u)delete t.color;else{let r=t.hasOwnProperty("color")?t.color:t.color=new aw;(u!==r._input||"object"==typeof u)&&r.set(r._input=u)}let c=this.orientation||e_Y;if(c!==t._orientation){let r=i.uTroikaOrient.value,s=(c=c.replace(/[^-+xyz]/g,""))!==e_Y&&c.match(/^([-+])([xyz])([-+])([xyz])$/);if(s){let[,t,i,u,c]=s;e_V.set(0,0,0)[i]="-"===t?1:-1,e_j.set(0,0,0)[c]="-"===u?-1:1,e_H.lookAt(e_X,e_V.cross(e_j),e_j),r.setFromMatrix4(e_H)}else r.identity();t._orientation=c}}_parsePercent(t){if("string"==typeof t){let r=t.match(/^(-?[\d.]+)%$/),i=r?parseFloat(r[1]):NaN;t=(isNaN(i)?0:i/100)*this.fontSize}return t}localPositionToTextCoords(t,r=new rz){r.copy(t);let i=this.curveRadius;return i&&(r.x=Math.atan2(t.x,Math.abs(i)-Math.abs(t.z))*Math.abs(i)),r}worldPositionToTextCoords(t,r=new rz){return e_V.copy(t),this.localPositionToTextCoords(this.worldToLocal(e_V),r)}raycast(t,r){let{textRenderInfo:i,curveRadius:s}=this;if(i){let u=i.blockBounds,c=s?e_J():e_K(),h=c.geometry,{position:f,uv:p}=h.attributes;for(let t=0;t<p.count;t++){let r=u[0]+p.getX(t)*(u[2]-u[0]),i=u[1]+p.getY(t)*(u[3]-u[1]),c=0;s&&(c=s-Math.cos(r/s)*s,r=Math.sin(r/s)*s),f.setXYZ(t,r,i,c)}h.boundingSphere=this.geometry.boundingSphere,h.boundingBox=this.geometry.boundingBox,c.matrixWorld=this.matrixWorld,c.material.side=this.material.side,e_W.length=0,c.raycast(t,e_W);for(let t=0;t<e_W.length;t++)e_W[t].object=this,r.push(e_W[t])}}copy(t){let r=this.geometry;return super.copy(t),this.geometry=r,e_0.forEach(r=>{this[r]=t[r]}),this}clone(){return new this.constructor().copy(this)}}e_$.forEach(t=>{let r="_private_"+t;Object.defineProperty(e_1.prototype,t,{get(){return this[r]},set(t){t!==this[r]&&(this[r]=t,this._needsSync=!0)}})});let e_2="aTroikaTextBatchMemberIndex";new id,new aw;let e_3=new WeakMap,e_5=new WeakMap,e_4=ex.forwardRef(({sdfGlyphSize:t=64,anchorX:r="center",anchorY:i="middle",font:s,fontSize:u=1,children:c,characters:h,onSync:f,...p},v)=>{let y=pB(({invalidate:t})=>t),[x]=ex.useState(()=>new e_1),[_,b]=ex.useMemo(()=>{let t=[],r="";return ex.Children.forEach(c,i=>{"string"==typeof i||"number"==typeof i?r+=i:t.push(i)}),[t,r]},[c]);return fX(()=>new Promise(t=>(function({font:t,characters:r,sdfGlyphSize:i},s){e_M({font:t,sdfGlyphSize:i,text:Array.isArray(r)?r.join("\n"):""+r},s)})({font:s,characters:h},t)),["troika-text",s,h]),ex.useLayoutEffect(()=>void x.sync(()=>{y(),f&&f(x)})),ex.useEffect(()=>()=>x.dispose(),[x]),ex.createElement("primitive",gh({object:x,ref:v,font:s,text:b,anchorX:r,anchorY:i,fontSize:u,sdfGlyphSize:t},p),_)}),e_9="data:font/woff;base64,d09GRk9UVE8AAC6gAA0AAAAAQzgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAFIAAAIfMAAChRZFKn5EZGVE0AAC1EAAAAHAAAAByCRgjeR0RFRgAAJxQAAAArAAAANACwACRHUE9TAAAn9AAABU8AAA+MgotnaUdTVUIAACdAAAAAsQAAAWRlFnIQT1MvMgAAAZAAAABUAAAAYJf2spxjbWFwAAAEcAAAAJkAAAFCnGFvpGhlYWQAAAEwAAAANgAAADYNzYU0aGhlYQAAAWgAAAAgAAAAJA8QBSlobXR4AAAtYAAAAT8AAAGAjJsgS21heHAAAAGIAAAABgAAAAYAYFAAbmFtZQAAAeQAAAKJAAAFH4LLI15wb3N0AAAFDAAAABMAAAAg/20AZAABAAAAAiMSbAClT18PPPUACwgAAAAAAMTwES4AAAAA4yMHK/+1/jEG5QabAAAACAACAAAAAAAAeJxjYGRg4Cj+u5aBgV3j/9b/n9meMgBFUEACAKj9B0gAAFAAAGAAAHicY2BmUWT8wsDKwMI6i9WYgYFRHkIzX2RIY2JgYABhCHjAwPQ/gEEhGshUAPHd/f3dGRyA7Do2hn9APkcxU7ACA+N8kByLFesGoIwCAxMAY8AM0niclZS/TttQFMY/O5CIkiAQZUFVdSdUIWKTMEQCtWoUIYQEDKHqhKoa+5JYGN/IdojoC3Tt0k4dO1V9gj5Cxy59g459gg797BxCoHRoLF//7vlzz/E5xwHw2IphYfxz8VrYQg1fhG1U8E24RPkv4RmsWE+EZ7FsnQmXUbM+CFegrJ/CcyjbK8LzeGA3hatYtrVwDY79Q3gB66UT4UWUS++Fl8ifmYk1M8fdqyKrnC2s4p2wTe+vwiXKvwvPYB2/hWexZj0TLmPVeiNcwXPrk/AcqnZFeB4P7UfCVazZT4VrOLGvhBfwolQWXkS19FZ4ifwRHRgMcIUEIXroI4NCE5to8FLYo9ZQHkFzt48YPhxSm5KIz+7EKy12mk/Nsy65BrRExwyukrDXz1Rzs9FQe8b0Iq32Y99R7ShS3VyVqq5OdXKpAzp0Ge+Ud8Zb4bA4J8QQF1SZU5MZdaiDcJhvqetRE8FjRHR1bxh5yf+d8C9L9dfp055qEutl8bYpvQxrk1fOYd220MLOpI4tmukkDU2smk5jq7WTl6J1O3r9vjzr9+cZFrX2eGeM7dFL0yfP8pwyg7M7fXMm2Yep8lSWeIG+8JJzZc6kH7SYdsBYijun+OSLa6XjG3KHrU+KhDKuXlGCcbJ5WfKhyMuCTj8J0yz0YsVEdJKlhsIDevi0i4uRCeg5JAeFZ/5q/WLk2hxOj3bj3W2fDUrua8AmDw99Hac6UMM40InK+lq1B57Ph2g21E1PaJ9PcMZQ2/y/cTEqLoeBb4I7DJCwFi6rMZ1ESskBv4wOdnGEY6716yT6WTbYdt3RaOR4RXDHJD03GieQugf7nd2j4916kcB0i6VduD0TMgx/AIq26g8AAAB4nGNgYGBmgGAZBkYGELAB8hjBfBYGBSDNAoQgft3//0BS4f///w+hKhkY2RhgTJyAkYmZhZWNnYOTi5uHl49fQFBIWERUTFxCUkpaRlZOXkFRSVlFVU1dQ1NLW0dXT9/A0MjYxNTM3MLSytrG1s7ewdHJ2cXVzd3D08vbx9fPPyAwKDgkNCw8IjIqOiY2Lp6A7bQHAPlYGQAAAAB4nGNgZgCD/1kMKQxYAAAqHwHRAHiclXoHXFRX0/ddYXcvllVYF42uig07dkWpoiIWkKYodekKKEhbrPjkMWKcmKDJEyxBsSIgRUS6xqgIYsOuiA01diOJZu7uWfi+uWie8v7e7/u973KWPew9Zc7/zPxn5hwknLExJ5FIFJ6xIbGJsaNcw8OWJi3jJB04Ceci9OYEtUTo00HoayT0MGb+nY1+62zctyNnvGloP4B/VjrLHQ2hatkztWyXVM1d6armuG5qybemas5KPeShGWcsjtaZs+HcuYBxVmPHT7axGDdm7OTpsXEr45dGLkkU/xprMSs2NjIm3GL28lAri2kxMRae4qMEC8/whPD45PAwq08SWnySkL6OTIoJjv+PLzl6SbgOnBFnzEk5GSfnlnAmXEeuE03ehVNwXblunClnxim57pyKM+d6cD25L7heXG9OzfXh+nL9OAuuPzeAG8gN4gZzltwQbig3jBvOjeBGcqM4K240N4Yby43jxnMTuIncJG4yZ81N4abSwmw5O86ec+AcuTWcEzedm8HN5Jy5WZwLN5ubw83l5nGunBs3nwDw4Dw5L86bW8At5Hy4Rdxizpfz4/y5AC6QC+I0IlKDaOKvuArJqA5Ko+HGQ4znGVdLR0lXSfdKG6UtMmOZWlYmeyjX8GP5BBMTk59NnnZ83Wl/p986L+m8uXNe58tdtnX9ouv8rn9222FqZupgGmlmYjbVzNss1+yZ0li5WLmlu3P3fNUKVbN5hfnDHtY9gnvs6XG9p1HPET0Deqb0PNSzrufdnvjFuV6Ler3tnaruro7oM6LPyj63+wb23dm3pJ9jv20WIyxO9p/ff+sAvwE5AyUDBw8MGvj9wAeD5IO0g7YO5gdvYaHQoqtrkbS0CIYWoxZzXZ3+h9Y6WUublUpXJxha6+SK1nBFq/1a3KE2rtCa4UA8zDZjuPIR1eQqiMhYtj9+f3x+ahmUQX7G/gP7D2TkQBGvbICjqXnxB+IPRGVoQANRqfHxfHx8ajSE89vUUjvVvrYMDIf9+gypwnBBv0nIMnuPTswJ++GkT5/KrPf6TSrsB1LlKYuOyk34iyHr05/pFh0Vu7OSBSsch5dwvDBBK3ktWKlwNTgYrNAWbtOTxPa6TXv9OwAcx1ZADbX+kurjWRhI7woTmA3YGSawJPhX/SAAG49p4MEusR0gFaaZi50Sxb+lilW4SH9fGG/2G6ax+ZiGxjRSP5yA3TFN+eo3Yb4KWM+C/tdsrtm0+GPPNTxbiOPRR45dt78uabjacLXgV0Ap1H7588ryleUrjkXlR+WH5Pge8j3kcnhSLj8p1y0/soBX3oosWFUBNXAxs7qwoLDgxE8X4CKcSDjqd9RvtwtM5nGjDLBH9Md59+fdH1vF+J94jGMT2HI5k68brXGZ4TJj6RhgRsAm32XdcLR1ZfzF2IfLHi6rjSqMKIzIDABPHtxS/EIjQiM8VjqAPbjtC67gla+CK5IvwkNegQe1OEjogZa0wYMFc7SUvEN7zEW7B+0f9kbv9M9UYHXYsca7xvtW3DN4Dreyz9Ar+zo089fl8GvsTa8zXmccDlvBaJi23NPL0yt2Oozn0d5edVMOlRnFBw4fOJy/4zgchyNrDy4/uHx7BATwTnLwXRceHxsfu3RNCARD1M4V2Suy1xVBBX+xbbgKTafr/NTG8cz0upRtbtujgjHZTme9znrdjn0BLz6LcEgU4ZocXi6/5XHa47RT9hgYC9NiPbw9vJc7wTgSwU4UoXp78cHsg9lHdpRAiShC7MFYEsGfd5TD4nXhCbEJsVFrNRACS3auOLziMIlQzivuanEhG5WslkrQx+wxaUBXTMFajKzASGXpY6EPbX7XsiGPHR47oDwcB4FYuhX/cZdXLr8/HAuAReFW6UOUH8chgLN4FimDYdpxITY8y8dH765Lr548cTKXfnaehjp4vvTOrPOzzk/M6w/MBEYtdZ7tPHvJWGAyHvwz/PYu3ru42O3sDMbZT58V4cVHeK10BRdeWYpp36vg7rGGe3V87l68ZugkneFtHzcFnMAjS3Oc1xxPOg2XeaXVB52fCqp3HMvOy847uquSLLdw7eG4w3E7yDrBM9k/JIKPiWdGDlLnR0uvwhle0WaiTxe2m91HV+aK45VZ9/XpKhwvWuZBoTegKXMFMuMdZAkrjLC78JTAmJLFRpSwvlTqmOIe60Dlkf3TIL4Ke0sHPbDBLp44jkosugAG8t88lqajxxG0qUFLKrexw8trvB8OkI4LmuRgwyRU3JhpCOtLJZlZArPiFYatggRTjI6xJlUV6y19Vvq48QFKqdShaQn2pbIHBwAO5TfflW7EfgnYW4PmVNywo80Hmw/WNyeV8H5MnRsrfTX6Out6ko2kcoDZAXPlE+XANMvZHA82nooN6zjEnlewRrW0SGsmSHEWs8ZhyqxD+nIV1oxnoewAWg5GZ8xDF1aCgz8yf9yN9U8WoCM7weQE0078nc0ivLJ2sjfsNJpIFWOF2xgvERbieqMrwm2VYGaYieuFmUI3jDd0E4ax9YZhBjOZonUvaxJqJWiOy42y2bcq7GEnPV1Rfq7gWsG1zKvfXOO/wekslljLQ7rZf0PA2sC1gXE+YW6EzhkhExdJrgl7ja4JmSphLy4y7KXxhqzHPRLsjYVG9KuLqn9HhWGKuCzJFmaqQi8Qrqplo5gX7ScpvP45+kg+4EZhCaYZfRBeqLawoBI26t7AewOxow+OBZwA2OmXux/vfjyG4wDDeUyXf41BoTjKrsWuhXU+ycYDmwiss4/dALsBYYx0mNpsZPtU+EC+BbvveVlUW1R7LrcRmqA2pmhu0dzdQ4D14dl9+desh3Z4hGuEq8cyO5gK84+EXw6/nPIeUM0rssgOj2sltKiNRmirz1OhDhWgZrG4EYAexYDhIguXKoCWcJ2W0IRpQhgtoUn0KGkyeLD3UmlVaVXd/ka4BKeSizXFmt1e4AwL1/oso5/Fs2fa8YaVhoPAbPSR5DEWtloDCoKp9MX7K89K7pXc23MbbpDeh7ybcm3KNWZUwPrDMJigdQxzDPP0Dp3Bh85ItiG+ETEUlqG34Eak0UhCBBFxrMCNyg+NQi8ykm7lQ586PnVEeQRaAFoCmhQ/u/PsTvkfxPDQlHw1+FzwufmlNof4S4d/KTtewyuF4zV76sgfoHnIe+sb1jeYvIgNhvFgs3LG0hlLvf1C3ULdUmaBIy+usi6r6vjR40d/2X0RbsHplMLwwvDd3rTK6cneQeFB4e4pjpt5NpR540DZU7iSXB7CKz+Uh+xzJ5/gkOShCdWEztc6iuSxR3NMcyz5Z7ggIo930Edvp5XoZhCgPwsxqm1sqM6ENPAO+U2gp7Pptw+j33o79h1IDSZtdir8P8KNzDwwfGhXK+EBLsJSjJCgClOFWBoHVcSg21i3qqFPHJ44YIdw/AJwGOFR9ujJoyelaEJ2DDg8DDvZP7V/alHG+gE/CRxSXML4Y/heuENTRrTuA9vWeFzoJy3MP7I3NyM3o2hrGelV/YoKnwqffc4wDkYnOwUvDF7oGecIvAssyAw5GnJ0xS9fXhM3apHwlKQ6iQESNKGdisevjNBEqKVdcipn/Z9ZPLPATgtwMGB/QFlF8/Pm52XYqV2sgRFoMu3Xab8OLmcq4FkXGBJiN2UnflH9e9ONphsoKUL1Fj4HA+JlbC2wWdNZNzZYfM9j/sC+p61iJuSVsk4cOVaWU5ZTvfMUXIMzsaXepd5Z5DdhfPKM4AXBCzzjpgM/HdzzAi8EXkh8BMi124HxW9LvBvpQ6b4Cw101U+L3IBBTEXq92776ZMdCHPoILqSDf9BkEbS6oWSDkRS2/P6H0J9WqCwd3OzY7Ih8uLhA8lzyouZbzbdKWwC7w53kqyF1IXUe1Q4FfH3eibKiM7zyTdGZzHoSE7uFvrW5YXODcYWsDzA1MC7SxsnGKXQYKTfM2D2v0Isv9KoOqo92jPLwC3HlQ1yTZ4Idr/wd0zJUcCOr5njZ8bKze6+JS04qDSoN2usO02Ga1iOEXh7JTsA7gWdWcCkfXJp8Fq7RzEd0A1RwOfNUYXFhcfWe83AeqrVFIUUhmQthHrisXBgZFhm2WOsKvCss3hNZzEcWrzxFXk/xFQbgUfQU/iRWfIEbhEjijhd6f1q95VHW8fbY22Nbgmi1KIFXpU2Pv2QWmoH2LvYurMNSNvBrfgkLOCzD1C048yp2wr7i+xz6A+7ir8gB52pwyESUUGH8aTYERoF10gzNDI23W5hdmF3KBBjB44ZtKniSdeN4zfGa09lX4SqcjSqbUzZn7wSw4EfKE32jwjSxmtjAtb4wE7yyg88En0m+Cb/yitYZxNhCo8ja5iJrm7eztu6ZMYRtj6H4Or4gtRTKoWD7AXpl5MJRKE7NjT8Yf3DJ9kDgA2HpuvgV8StSYyCMxlqjo4HMUIKFbBMuV2ZV/E9cCv/ZpyhP1auNz6r+F/Pyf03MPPXNWkm9kK/S3TWQMacZmjFRaMYUqrbeNfBSxSQUaIMSMFCCg1FQ6X7HgNbfZZhgTLVAqinYFHEICjGmqHQfBB5wQav4wf4utDGtoY2tkSpYairu0H1MRhcMMqvFtBzMZj+iluJ15Z+1+rvt1H86s6wgryCv4qezUAvlq3OjcqN2+ZHm+K8LigtZFRcSNGceP2dekEfSwqSF62eKMaNW9s3rfTfKTvDYFbtI3384+aeoJKiIeOV4xfHKgHzWC5g5DFhq68zbOodabWYdeaUeD7aFUXb043+bHf17asRTpLsuPoGPT6DciJAS3hoW40iy4gAMwQHMAq11zjiaNHeYWQtOV0vVOEb5XYsQrdrAFh1itvWsfx1T/zoQu0wXi+UStANeOf8qNPzQsKth1+mskkNk1H2kmsRFK93W8cpCt3XuG7yA9QXG54yoG1E3/WkA8lRSsO/3OHErjjuC/c9hNypNL99f5N9fRPkRcka4lHz9nI+sB5Uq5r6ebU5jfOLIIKcgJ6/IWUSt4Ze2Y0/+Z6FW6lG26LBmh2aH7zYvch4zE+b4zfFb6BI8IXhC3LD1TJLKeu2xOGHDK/udsLkZ+gaqoXJ7+YHyA8eO5p8k+UoG3VuEXQCV8Fv1zdc3X5dgj+/R5nuctwInumMfKuP+YJ1viGVgEZtKfGsNbEgo6z6ViiUznsYseXqHMOu/s7m8rqOvajuqD7dUXq28WltwE3LhyFdH1vGBhr9Jtd4rgqKjSY7o6KVrImEBhO2Pr4yv/PuVH8jqsCd5uueo0Q/WSjLNcRdgR3wu1FG0w57jT2CoopiJaUE6rG2wCiOF9xhpeC9V0PNAwQ/dhFGoMcOhuFVIw3S2DNOVH3CouZAtw8mAZkVPbjy5UfoBsA88SLqmOac5N/+YbVbD4VPHC0+Riy88lVkLlykC0LydeGniJWZ6hE0B3pAmw61q1ktF45+W03ijN92hUHUEzEzyDgwLDHPV2hIW+TqViibfLG+G+tUltDihJDrLhxh1TtKioMigSNdV1ErxUUsLu47BkhbcpuuH6UYtur4U2vU6wDpWWVZZNtg+8X7i3RKHZGRTAb8o/a35t+azqNiJo3mWLls3MHra4sDFgY5JQ4FJwLrE64HXg1jsDDiWR5X8Gxydgx3P3Tt371EJdoBXcD2xOqA6IMchYwBFh7LVON4Tuw1rHtbMVGViaNgJ+seO8Rzj6WzjO8B3QAK5T4r/FGRjgfoC1EjaUbyN24xEACfLRFXks1vOtpxtvHf6w+kPh0Rd6cvfIBJWx2EX7w/eH+zvDzk75CyTHha9scHpM2w02Ew59X4X3GDdYJ0vTjOOnyrfzEZHss4zrGdYDw5hXxA2TuIWeqO/YPl5cnFi/TzioPmCt/AK/Q2vBEudC2raZsoU/bOShVZqP/Pf2pK4rRTgBBoeCDN1E6jdWJkCJ2uplQkFgvswSPKRULcg1D/qhhHqfQ6xLicHnRx03fal90tv5GIpkqXA4mPmi4IXBTd+PtXAC6cN1RSlnWJH5d7uo5fTslhHGF06u3l281Ls2g67MQXT43Kx07n75+4/LkEp4HRoGZ/NpvP4jSwFR3igfOS9kfeY6hibRMROFuM6gHWjspA5AIsjfU/MStb1xiDhd237StrVon01ut66fq29MV1U+HTD7639hN/ZVkok+otBOOUNOFlsOdn8cwuZYhStVW2s10rKMV3wooflwngSuU9J/wf2D+zRJBxHUsxEMUZJ8/3m+6VoBNiP129l6W3pcrDVuoYGhgZ6J84i7vDaHV4cXpxyDu7witq/pvsXzL4ynILThTmtJngKDA26n4Wjui/YOTDYG7YxCzYNdA5sKwVAjDAiiX79V2e9Je3nMPpKXIlw7tPQosGms3TU6oE+tahVPhLnSRcSZcob8TqVMK3tIwW3gpP+T6myLr7VHAyJmE5J3Q1x4ffkhslt7w3W+vesiebEhH+Tl8D87pPM+kyZrk9bJm4V05QiCo+hbW9rP/3edjlxrhbD9PUUF7dQH08StUVnr/qG9TvAup6wOGFxfcpzj+ceH2Oxo6ggH7Kf1zyvuXa/GjkqB9CUQOWb5JtxQDx2W/zn4j9n3h99dvTZAYfJwqgMiB3tMdpjpvViJqGygpkCI3vcOk31kCx2bB52Of/4/ONHx0XPZgzNmrqJdRNzKIRjE3kHyoWtY5jp/EnzJ03UMGPxcGlCmWuza3MMdiOvwCvukhkcJd1J/8te736yV6odxV9k5JKwx7GXjS8bK8TNpq3v54fGIx6NeMS6H2eTyUipzdZWfxUNcEH+cPOlhCr/Kv/988AWbBLc/IP9g52TxpJp/guf1+34bDN6/d/jYwKVUPpdyQ881rOv0RqHsm/RR9p4rq6p7H3Z+ywxbO/7H1DN+AuqzqJp/T+hekRQjfkM1cO/oAqum1Q3KVeEyvq/QiUVoZpY5vrU9WnMJ0NVVBJUNQTVmr+gOvxPda7BAhmWG2pwP8B2dk/4Q/qw4NLJykuVl/Y1wRvCLQAlY26NucXMjzJiccMPImguKhpqj/zJ5ktJZZoyzb75YAeOCe5+Gj+NS/IkAi1di/76Rgw0u4lbWRhNk49blS9uCvNUMOaATbVztXPDgidhT8LepJBDGk/eqfDF9RfXK18DEeut1Reiz/DRZxZXO5c6l44pZtJ8KlPyfQt55R3fwvgyOAX1e09UFFQUXMh8AGISWaWpEoVwEKkeHibeDmwIbJj3i22RbdGY3ZbARlFaED7CYYSD/3DxZIv1usQk+IU136B5GYomS6jcX1JOP3t9YS64JwaIPmv2yvEwGOz2eZfzyhfe5XEX4AGvyBBTn6cEovB3sq1yqquEhWqmxu+oKviiRs3WyhR//EVFaEp23CQSlamQQmQ0rpp1fTvu7TjsGYg2gFNIQSvePXv37IRIvqN5fTCxka+cBQ8fxHz6jgCng74nfU/G34I3vD6EpcsVLz9bdyb9Vgm71Xp3/BqELNGmc8EgU7Mthg5q4wSpQrjyuaUYMKjwqdgyDbBQX4U5bVW4EeirdiJgiW1NLFvfxJYAy21rZMn6Rqni4ufOJeZYCXhZyMVLhlysAsNCXbwwTxfByoGdM+xj54R9VBVcWyOkip8+9xE2kIFsa5dvbdtIMBzBbQDCEWGNfiQ7AuxJqzN7onOWKrb85WnvmesbiBZ3y3Qb9Y1k123HKAfQ6NZD61dtN6SK1nGU4XuoZT7oaYY9hZGGkRRWP8Ke7I5KGIkeMmUDm0JPZfTdFPQ0jJQpDJ3aBdnTLsMHte46bgDDB7Vs1H8OliFYsTRxrAzWW8U8BCu1/JrBinnKlQ1oo9blUOgvtA90SrdMhSGAzkIwzjIEYzCwk7pocmBE8bXMC70k35ozL/0w9JIrDFfUxlfxjKRaiDGqVss4Fe5jZzAQmA+eET2CFn2YVTIRzij8AV3NnlFObEkyVD/DM2QY+fYNrg2uT2I+mfirY3eaeOWa7/1/iPoxmRzqT7K4mrV3SReENfKvUR721PGC4wXLPKYEa3BYM2v5rOULQ8J8wny03uDefhBTmllQkF2QXbH9NFyAqlW5S3OX7goCL34GGyYXD8i6xkx05Se6BlNVTh0OqODsvvLy3PLcK7ueAY89mEaWHBYdHZzIK6uDEwNS/cAHQrbHZMdkry6CSl5hp0VfNjZZ3xv9BGfyY90oy0/DOGE1rSgZu5ljHGSgiVRZeW3M2wCKrCkM+uPErXe33hVhL0BbfgdFTzMoS3B86/h2YDXrKfqLUSEzrSnyYGlyTFMzB5XgKS99frPiAzRC7fIS9xL3LJLWhI+hCEqeNCnEM8TTPdYB+oNjpeYl5XvjtbhQtwJ9JOKpVwiuNGoUcsjuppWx3k+HPR2GnX1xBNyFGz9dzr+c/0tlcU1xTVb9t5d5tlK2ySc5KHRJ6JLFK93ABtyyg2uCa5KeAJrwxcS/fFZz6dnSs7XZjVAHJ7THQo+FZi361pXHlbI0VAS/m3pr6q0BRWKMNBJYZ9/xQ8cPDRJXNIVXOP4nTJ8kS2NxGKesbBQqqMv0Ytbv7uC7g39fJKLUBd6U3XjCK1dlMGOCUKoUFYmlGU7KZ9wbfYzJxbRv4CJ7S97eMoxiR2ZDe5esAjTNelV6vvR8bW4jvIPrmvIJvCFEHjDOKWgokfP8nODzweeTHgN2IJh6EkxYis6YSVDpCnGD0QPhHyTIxEqmej389XA09UUreAZNmdcLrxeeqy69yLMeaCqdOXZMIPkWW5h90Odnn59jrm14yut83soAHUPwC5uXNi+ZrJINASuYnODo7+jv4RI8KXhS8ghgHI9b3ql+fHDwYkllSeUv+y5TqnEq+Wjw0eC9bulT+ZVkOluykvW9KIfORn8JRmCaUbm+lwqntPXCNPo+Dl1Y3GsZdqqpRb5vAeRuOrSR34qeUr+MwK0awhysolzmuMyJsqI6P5RNkStmGuzRG6PQV7cU/bRas/u4UVhKyMdirLLpfjvyzsdYv3uW9yz/WCwibwIviq/eFa+EJiXO8w/yD5qXNFXMNUaXOT7lmZxZSosX1mhuR92OurOKqGo4YOeSJ/ef3C8ja8UBvLJRn89i5ZRsSpVvZjweXkoRIOsBAxbbDuFth4Sx3sBsedwo7lXXvS/L6svq6/PuwVu4HlIxhTfEyf0nOwUPI3Bd84LOB51PekT5Pq8YlfWX5kiwC6nOKPHYsos5pul2yKqab5S+gXqoXJ0Xkxfzkw848q1u9MRHvgl3MRMiydVAGYdlgO1oXmggm1K0LqLhLmtxGv5oRs4pm20nW32Ppmqp16djg4T9Cfnr2o8Ntu+nV/uxQVFqbsKBhANLM4KAD4KlqQnxfEL8+hiIIMe4U63PV9EGXWZpFJyHGGajv1o65PMEMppgG03wwpGlqJi3vGR96Vfl8BGaDp+uOV1ziBZoxKuNdzKy9AD51+NDgiivjobl38Zv5Uko4unJn256Sagj/3+hoj4JlSoKpWCT2hcpLG93wASXKcGFH2XIoRHeNIRhPhg8dJ0ES8FH9GQ/s2cOI0HfkaURo4sAkblRTwuxpwX1bLc+iterPu2E9hPTibwtvrurlU0i16XpDshKGhuOvRHPEC7O/ZYp+VZ/TJNv1q2S7qjaf7QgpyCnYudpaIATq3Oic6J3LgZnvtWb+vlRRKha9sbjkselsUfEqHkgsA7etsxoIRoNPc0GA/HIwCCHccTCG1DKVpKUo/8lymedUN75pBQ/yqqe3ih7S9ZVtTonKidq5yJxGg96EiRPwx+ZHFUsqf3gyM9mOK8s34Cm7SPO+XfizMSNRJyFZB925Uz9fPDzwahYjKPgN3i673bF7YpzF0seljzc8wr+5DeflW7A0YvRdMzLMS9Zx0pmCUNhQpJDgEOA+5zPxt//L4La97KyvpKUXrx2qY+unFs5d/8E0b5Y18RRAXMD5s6LngL8FJibG1AfUJ/4RFQPhZ2hX7JgQcIt+yf05GQShWTcqHyF3QwTSPuEf8iu2b0KEwPs7tBy4vZvt387Kp7k2/A7ycVMj0B1u4s5IRJyVxiumTGBV976G3ZgicSurzCtdZ9KSJSX3r9e8g7uwfno0nml87ImEmkBUyaNCnINcp0fbQ/8EJh+POghr5j1l0iEl/YToQeTVDEYo2xqFCpFWhEJ3fKu5R+LUCVevj8vunaLN6STOigb1dJGFiNfayFyxKORx8UTgZ7EEfZDefuh7Rxh9xmu7ntflZ0vO38+9w68gqthlba8Yb3cf8qMkBFgD/Nzg+qD6pOa2zEyfE9ZtIDrPuNDAUy7QqbIih/dEhPdfDiyKW8j/w2mSBN/iE1fAgNhqr/7KF5Z9BV2YWvEQMZJi3N0m3GO2S1cz/zxb4IS/658cQtfqmDO7vnFXsVevwQ1RDdEN65+KvrxDzlNtU21x+5RglCztnpFCb+iJLRgweEFhx32j8wamTU3KyaLYvWYrNWHyVRLdh3JP5B/oCzjFJyFijUFMQUxP4WBf3uM0hL6wOaCzYWBeaLr7AJDYmzn2c4LsyMPwozqJmEX99NxDUkPVvEPVp3TFiYWJv4UBRoIWxUVlRCV4Js6F2bDwp2huUREoblJ5ZvOEhaVWgzQhaOLBIkKjb4XfYizQSdjIS8G4fy+J+GX70/v5NFdvnxD7KZYCIblP6zOXJ35ZS6U8MJ79CI340XkmcZ2MWe5wuqz775MyHaifbYidMuxk2BK0prnDq11rnV+ulS8JuoBLcevPeSVKVv740oAkQ8BWjOlyvKQSTbBlN3xTObZgH366dxEHmbL2ylKsld/WSUo2i5jJAidqBMF5Ctbd7I1up2Ul5d9anOE2mA1tfEHTNGtxjWtq8VqFTX/GzDH1lSWpEtlc4HFt2rZdJ2WdjPgU89cc9wHGC3IMMYgwyxgr4QKfCjksH3AQpjAAlFgWYAPDDnUZx1xd5BaOkgryRCF6tZ2fomVdOXChIiYpJgk/1Q34AO+BeYuLU0t/qoAxGtX418v4RxecFIbP2AZwOJa49lKXbw4PZBxuOAiyX1zfQdcaLghE37WxQNatT6h2H6RUAiGitZoqcJQIhxEZwluoUDtjHBQhaoLjmx4P7ZUns5SsTMbjqmz+SrsL2XyovktaWTPuJQMeoTHn0xeh/K6Gsodh/MYI/8ObWpbUF7E+6GFlJlEjV0wf9r8aTHDv6ZQgC2RsxFzHZmqr6I1+NPZiBPaGKGTeBtso5adZDayf0oSiilGh1isqor1l2KX/Gdnam/X3j78G3EXj4vlOPziLVT1RWc5U825hcP7oT+J03XZe/fb7rfHnGZd8nk/ZiFFk/Dagd8ye56FUrA2ps4Cu3iyLp5u/cX/H2Bh8k3Mfv5AZhLOK9Bc6IFB+8TbBxNcoFuH7uLln50KF8jgTEb5wYKDBQU/lcMBOPDV3vV71xfFnQw4GVAZfTzleEr5l9XAv4LGovqb9Tfz3ohxKnOXgdda/9iI2IjIlEBYAfFbk35M+jEy26/MrywgL2hP0B6/H3yBHwq2kW5Obk7LRon/2qFQG3/TXW18RaXdo7+8B//cUwsyg/0/5NC5IwZ2RJ9tnTtjGun+Pzp3UXNWSq6DRNLZoUDoAdiHOYG003+5l8lov5fJa7+XyWu/l8n4dC+T2n4fJF42dPq/PLzfuwB4nGNgZGBi4GNgYJAAYgUgmxEI44GYBchnAmJGMMkDxAJANojPAAAadADVAHicY2BkYGDgYmhjWMDA4uLmE8IglVxZlMOgkV6Ums1glpNYksfgwsACVMPw/z8DE5BixMvTY2B3jHJVYNBzDgoBkm5BjkDS198HSPo5hgHJIH9fIBkS5A0kkfQxJSfnFjDwpRUlJjOIgEUYwCRQhoGNQQKIGYBYisGIwYshgaGMoQcswsgwgYEZTPMBsQhUhxdYN6a4N5q4ENQeaokyAt0JEgcBJiBLEOhesBwAlTAg4wAAAHicpVfrT1xFFP/dZSmw7MKyVrSIL6zYilYsAVo0jUGkmDQVRQrFplqxagqpiEbTpGn8oA3xo/+AJNpgYqQmpTE+SGmCjxZF2liF2IrQAgssIG35Zvb4m7l7dy+wy+7G2ZyzM+fMecyZM+fOwADgwj68A2dV9a7nkdd8pL0Vm15rP9iCstYDbx9GFZycAxE4+GckMXI0t73VhqyWg+2HsV5ToDE5WIcsPTbg07MdKHZUcORCKjaihmMne6nkpPFnIAd5pBXgMbhhGIPaUj4qObMGu+n/y2jDMXTgPIbwOy5jHv8aLiPf2GLUGnuMl4wPjU6j2+gxviH0U1+pKNyITKSgnN5tQyEqkEuaV9JJu0dOol4W0CijHLlkEjvkJvaT4sBOmSd9Bl54gvPIJhTIEyiSYpRSU6X8hSqZxVOEakINoZbwHKGOevZQskH8aCLQAzmr8c/E9YyJk56NolyuYZsEUCFXaL1UBkmZ42iII4Oe18kZylzgbBct7mB06mQc+3GLpmST4iZllpQspCONPDUvU34lx0f/Z8gd5vpmtIyyP8F1FXFdZQQXrXgp5w1p93E9fq7Hz/X4uR4/1+LXkqnkBMgJkBMgJ0BOgNI7KVePrYxvDrXX0r5Bmoc2PPI+sgnKWoDWAuTkE1JoL4MWC7j7hXgAD+FhPEoNJYxpOXengjv/OHXsQh01N1BzE3fd4T6qMiHTndlPqfthbz6rI1cZTavlYHnLsdPkGuOwqjGOVu9zucR9MPszhGnbrDE5Tryk6Ks1yJDclCXdX5JBWZAOOaRZbk1bJHQQRqRfftT+0Hs5pXnnmA/q/0oUvYu2/j/h3mcRj+305Jt8mcCcORPzZJjjSaL1MebG9MWK6jLa4moaqQvxfVolsxRNK/PCHr/rCWm6EZWagKwpaVqMvjLdsm0Se+WPODqX5Zp91xNrMiljxBNmHssUa0LisvsIn4RHZxjNYeIROSRnZUAC0sk89vHE/CDj3HdPaN60ym4VC9mg91Ll+eshXmf06K7hwwyrldkLROF28Tx3STG96pBG+Vq6SfSyvp+UHp6zyHk5paIuizIQDMoxZqJXvguSK0cJm1bvVbTdjtintb4Y3g5bJ+D/nMmwtll10ojnVGwZb6tyeZLWNClTWpPOH2bBWBwBq2ZmcfYrhAtrar+arD9aSsczmXyMqcmsT5c1Hoftu7CseW0SdTE03bCw7NYVJXRW5b3Q/y+WndD4jWCrdK3QUZOE50vx53BWn8bX+TUmlg/ELyXBaTUK8XlCgn+rsypfSW+YunWZDtYZ+V5n0Qn1JeJ9w8791Nb/MwGPAhGcaIu+02Ym8ss6x+/uqMpSmFk3EFPPm+Fef1ybE3Iu7hx/uBeqTfKbzoCLrC2niUesXZKemDo2h3vNa1hKunqvoet0VOqRWDbWPqPysXyxgtK3MnLyk8ZTya4jmEB1kHrpJbzK2lwiL3J8AOarANIixyPVhzeqVP3/UbBMsvUcBO/i2J2MR+GWRB2NdiexfRF65NsYcpcIvTIt3epkygm+Oczm09/Fi1FlzgfftfTJdkTuoOoOvRcbwhMjvXtDEL85eBdX74HUMMXFF9LtIf25IVoWqXfiDvroXnGfXseY38b/dD1yhulO/lLUfuDWECUD6paobvym35EbY6SXh7sJibR12ndrDardZ1uTCV6uRPmdS5/dkfqoWxrMd6n5Io20FP6U54ZeNRiXDL2GDNZ+g68U9WrxsF9Aexv5/ijEZjyIIv162YJHUMw3TCnK9Atmu37DVOJJvqir8TRfrc+gFs/yPdPA9Tfhhf8AO0d8HwAAAAABAAAAANoy8IQAAAAAxPARLgAAAADjIwcreJwdzs0rxFEUxvHv79xzjcwskGyGNAs11IgiLyklUiyYIUkp5SUvKzSJTKGJRKR+CwsLZcOGlX/A0grJxkYie8USh8Wnp3vvc++5CgTfINUcyBFT+sK47jHpn5nwlQwHo2TkhnW5J+l2iGuWruCaCjmhR9rZdrWI9WfNmUmbftNoNkzWdJsZMyZVbAbv1GkJHbrKoday7l5pjyRt3iClPkboW5n2bYS6ZaZsvcicvySUTk51gZSP2v4QYSSwswuzZf3K/xzXbzt7oFefrNdMzqcojRRR74up0WcieseANJB3I5RZxtw8Te4YJyEN9uaobrCm9fb/vOljUB5J6Q4Zm7siUXIS/FxpyjLKXsGXdZdY0X3r/t3bpV9uLRP0yTmFusiy+6Tcf5DQAqrcGzHLjFzSIsKFZdynyf4CCpdPRgA=",e_8=(0,ex.memo)(({isPerf:t,color:r,colorBlind:i,customData:s,isMemory:u,isShadersInfo:c,metric:h,fontSize:f,offsetY:p=0,offsetX:v,round:y,hasInstance:x})=>{let{width:_,height:b}=pB(t=>t.viewport),w=(0,ex.useRef)(null),S=(0,ex.useRef)(null);return!function(t,r,i=[],s){let u=(0,ex.useRef)(r);(0,ex.useEffect)(()=>void(u.current=r),[r]),(0,ex.useEffect)(()=>{var r,i,c;let h=t=>{var r;return null==(r=u.current)?void 0:r.call(u,t)};let f=(r="log",i=h,c=void 0,eyL.on(r,i));return()=>{var r,i,u,c;return r=t,i=h,u={...s,context:f},void eyL.removeListener(r,i,null!=(c=null==u?void 0:u.context)?c:null,null==u?void 0:u.once)}},[t,null==s?void 0:s.once,...i])}("log",function([r,v]){var _;if(!r||!w.current)return;if(s&&(w.current.text=(Math.round(eyT().customData*Math.pow(10,y))/Math.pow(10,y)).toFixed(y)),!h)return;let A=r[h];if(c?A=null==(_=v.info.programs)?void 0:_.length:"matriceCount"===h?A=eyz.value:!t&&v.info.render&&(A=(u?v.info.memory:v.info.render)[h]),"fps"===h&&(w.current.color=eyT().overclockingFps?ebl(i).overClock.toString():`rgb(${ebl(i).fps.toString()})`),w.current.text=(Math.round(A*Math.pow(10,y))/Math.pow(10,y)).toFixed(y),x){let t;let r=v.info.instance;if(void 0===r&&"matriceCount"!==h)return;(t="matriceCount"===h?eyU.value:r[h])>0?(w.current.fontSize=f/1.15,S.current.fontSize=A>0?f/1.4:f,w.current.position.y=b/2-p-f/1.9,S.current.text=" \xb1	"+(Math.round(t*Math.pow(10,y))/Math.pow(10,y)).toFixed(y)):(S.current.text&&(S.current.text=""),w.current.position.y=b/2-p-f,w.current.fontSize=f)}eyz.value-=1,w.current.updateMatrix(),w.current.matrixWorld.copy(w.current.matrix)}),(0,ev.jsxs)(ex.Suspense,{fallback:null,children:[(0,ev.jsxs)(e_4,{textAlign:"justify",matrixAutoUpdate:!1,ref:w,font:e_9,fontSize:f,position:[-_/2+v+f,b/2-p-f,0],color:r,characters:"0123456789",onUpdate:t=>{t.updateMatrix(),eyz.value-=1,t.matrixWorld.copy(t.matrix)},children:[(0,ev.jsx)("meshBasicMaterial",{blending:eO}),"0"]}),x&&(0,ev.jsx)(e_4,{textAlign:"justify",matrixAutoUpdate:!1,ref:S,font:e_9,fontSize:8,position:[-_/2+v+f,b/2-p-1.15*f,0],color:"lightgrey",characters:"0123456789",onUpdate:t=>{t.updateMatrix(),eyz.value-=1,t.matrixWorld.copy(t.matrix)},children:(0,ev.jsx)("meshBasicMaterial",{blending:eO})})]})}),e_6=({colorBlind:t,customData:r,minimal:i,matrixUpdate:s})=>(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(e_8,{colorBlind:t,color:`rgb(${ebl(t).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),(0,ev.jsx)(e_8,{color:`rgb(${ebl(t).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),(0,ev.jsx)(e_8,{color:`rgb(${ebl(t).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),i?null:(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(e_8,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),(0,ev.jsx)(e_8,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),(0,ev.jsx)(e_8,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),(0,ev.jsx)(e_8,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),(0,ev.jsx)(e_8,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),(0,ev.jsx)(e_8,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),(0,ev.jsx)(e_8,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),s&&(0,ev.jsx)(e_8,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),r&&(0,ev.jsx)(e_8,{color:`rgb(${ebl(t).custom.toString()})`,customData:r,fontSize:14,offsetY:0,offsetX:i?200:320,round:r.round||2})]}),e_7=({colorBlind:t,minimal:r,chart:i={length:120,hz:60}})=>{let s=(0,ex.useMemo)(()=>({fps:new Float32Array(3*i.length),cpu:new Float32Array(3*i.length),gpu:new Float32Array(3*i.length)}),[i]),u=(0,ex.useRef)(null),c=(0,ex.useRef)(null),h=(0,ex.useRef)(null),f=(0,ex.useRef)(null),p=(0,ex.useMemo)(()=>new iu(0,0,0),[]),v=(t,i=1,s,u)=>{let c=0,{width:h,height:f}=u,v=eyT().chart.data[t];if(!v||0===v.length)return;let y=r?2:6,x=r?12:50,_=v.length;for(let t=0;t<_;t++){let r=(eyT().chart.circularId+t+1)%_;void 0!==v[r]&&(v[r]>c&&(c=v[r]*i),p.set(y+t/(_-1)*(h-2*y)-h/2,Math.min(100,v[r])*i/100*(f-2*y-x)-f/2,0),p.toArray(s.attributes.position.array,3*t))}s.attributes.position.needsUpdate=!0};return pk(function({viewport:r}){v("fps",1,u.current,r),c.current&&c.current.color.set(eyT().overclockingFps?ebl(t).overClock.toString():`rgb(${ebl(t).fps.toString()})`),v("gpu",5,h.current,r),v("cpu",5,f.current,r)}),(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsxs)("line",{onUpdate:t=>{t.updateMatrix(),eyz.value-=1,t.matrixWorld.copy(t.matrix)},children:[(0,ev.jsx)("bufferGeometry",{ref:u,children:(0,ev.jsx)("bufferAttribute",{attach:"attributes-position",count:i.length,array:s.fps,itemSize:3,usage:rm,needsUpdate:!0})}),(0,ev.jsx)("lineBasicMaterial",{ref:c,color:`rgb(${ebl(t).fps.toString()})`,transparent:!0,opacity:.5})]}),(0,ev.jsxs)("line",{onUpdate:t=>{t.updateMatrix(),eyz.value-=1,t.matrixWorld.copy(t.matrix)},children:[(0,ev.jsx)("bufferGeometry",{ref:h,children:(0,ev.jsx)("bufferAttribute",{attach:"attributes-position",count:i.length,array:s.gpu,itemSize:3,usage:rm,needsUpdate:!0})}),(0,ev.jsx)("lineBasicMaterial",{color:`rgb(${ebl(t).gpu.toString()})`,transparent:!0,opacity:.5})]}),(0,ev.jsxs)("line",{onUpdate:t=>{t.updateMatrix(),eyz.value-=1,t.matrixWorld.copy(t.matrix)},children:[(0,ev.jsx)("bufferGeometry",{ref:f,children:(0,ev.jsx)("bufferAttribute",{attach:"attributes-position",count:i.length,array:s.cpu,itemSize:3,usage:rm,needsUpdate:!0})}),(0,ev.jsx)("lineBasicMaterial",{color:`rgb(${ebl(t).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},ebe=({colorBlind:t,chart:r,customData:i,matrixUpdate:s,showGraph:u=!0,antialias:c=!0,minimal:h})=>{let f=(0,ex.useRef)(void 0),p=eyC(t=>t.paused);return(0,ev.jsxs)(eyQ,{style:{display:"flex",position:"absolute",height:`${h?37:u?100:60}px`,minWidth:`${h?"100px":i?"370px":"310px"}`},children:[(0,ev.jsx)(gc,{ref:f,orthographic:!0,camera:{rotation:[0,0,0]},dpr:c?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:t})=>{t.traverse(t=>{t.matrixWorldAutoUpdate=!1,t.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${h?37:u?100:60}px`},children:p?null:(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(ebt,{}),(0,ev.jsx)(e_6,{customData:i,minimal:h,matrixUpdate:s}),u&&(0,ev.jsx)(e_7,{colorBlind:t,minimal:h,chart:r})]})}),p&&(0,ev.jsxs)(eyq,{children:[(0,ev.jsx)(exD,{})," PAUSED"]})]})},ebt=()=>(pk(function({gl:t,scene:r,camera:i}){i.updateMatrix(),eyz.value-=1,i.matrixWorld.copy(i.matrix),i.matrixWorldInverse.copy(i.matrixWorld).invert(),t.render(r,i),eyU.value=0,eyz.value=0},1/0),null),ebn=(0,ex.forwardRef)(({portal:t,className:r,children:i,name:s,...u},c)=>{let h=pB(t=>t.gl),f=(0,ex.useRef)(null),p=(0,ex.useRef)(null),v=(null==t?void 0:t.current)!=null?t.current:h.domElement.parentNode;return(0,ex.useLayoutEffect)(()=>{if(!f.current||!v)return;let t=document.createElement("div"),r=p.current=(0,ey.createRoot)(t);return v.appendChild(t),()=>{r.unmount(),p.current=null,v.removeChild(t)}},[v]),(0,ex.useLayoutEffect)(()=>{let t=p.current;t&&t.render((0,ev.jsx)("div",{ref:c,className:r,children:i}))}),(0,ev.jsx)("group",{name:s,...u,ref:f})}),ebr=(t,r)=>({name:t,url:r.image.currentSrc,encoding:(t=>{switch(t){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}})(r.encoding),wrapT:(t=>{switch(t){case 1e3:return"RepeatWrapping";case 1001:default:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping"}})(r.wrapT),flipY:r.flipY.toString()}),ebi=({program:t,material:r,setTexNumber:i})=>{let s=eyC(t=>t.gl),[u,c]=(0,ex.useState)(null);return(0,ex.useEffect)(()=>{if(s){let s=null==t?void 0:t.getUniforms(),u=0,h=new Map;s.seq.forEach(t=>{if(!t.id.includes("uTroika")&&"isOrthographic"!==t.id&&"uvTransform"!==t.id&&"lightProbe"!==t.id&&"projectionMatrix"!==t.id&&"viewMatrix"!==t.id&&"normalMatrix"!==t.id&&"modelMatrix"!==t.id&&"modelViewMatrix"!==t.id){let i=[],s={name:t.id};t.cache&&(t.cache.forEach(t=>{void 0!==t&&i.push(t.toString().substring(0,4))}),s.value=i.join(),r[t.id]&&r[t.id].image&&r[t.id].image&&(u++,s.value=ebr(t.id,r[t.id])),!s.value&&(s.value="empty"),h.set(t.id,s))}}),r.uniforms&&Object.keys(r.uniforms).forEach(t=>{let i=r.uniforms[t];if(i.value){let{value:r}=i,s={name:t};if(t.includes("uTroika"))return;if(r.isTexture)u++,s.value=ebr(t,r);else{let t=JSON.stringify(r);try{t=JSON.stringify(r)}catch(i){t=r.toString()}s.value=t}h.set(t,s)}}),u>0&&i(u),c(h)}},[]),(0,ev.jsx)(ey9,{children:u&&Array.from(u.values()).map(t=>(0,ev.jsx)("span",{children:"string"==typeof t.value?(0,ev.jsx)("li",{children:(0,ev.jsxs)("span",{children:[t.name," :"," ",(0,ev.jsxs)("b",{children:[t.value.substring(0,30),t.value.length>30?"...":""]})]})}):(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("li",{children:(0,ev.jsxs)("b",{children:[t.value.name,":"]})}),(0,ev.jsxs)("div",{children:[Object.keys(t.value).map(r=>"name"!==r?(0,ev.jsx)("div",{children:"url"===r?(0,ev.jsx)("a",{href:t.value[r],target:"_blank",children:(0,ev.jsx)("img",{src:t.value[r]})}):(0,ev.jsxs)("li",{children:[r,": ",(0,ev.jsx)("b",{children:t.value[r]})]})},r):null),(0,ev.jsxs)(ey8,{onClick:()=>{},children:["console.info(",t.value.name,");"]})]})]})},t.name))})},eba=({el:t})=>{eyC(t=>t.log);let r=eyC(t=>t.gl);return(0,ev.jsx)(ev.Fragment,{children:t.drawCounts.total>0&&(0,ev.jsxs)(eyY,{style:{height:"auto",width:"auto",margin:"0 4px"},children:["Triangle"===t.drawCounts.type?(0,ev.jsx)(exH,{style:{top:"-1px"}}):(0,ev.jsx)(exn,{style:{top:"-1px"}}),t.drawCounts.total,(0,ev.jsxs)("small",{children:[t.drawCounts.type,"s"]}),r&&(0,ev.jsxs)(eyZ,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[t.visible&&!t.material.wireframe?(t=>{if(!r)return 0;let i=Math.round(t.drawCounts.total/(r.info.render.triangles+r.info.render.lines+r.info.render.points)*1e3)/10;return isFinite(i)&&i||0})(t):0,"%"]})]})})},ebo=({el:t})=>{let[r,i]=(0,ex.useState)(t.visible),[s,u]=(0,ex.useState)(t.expand),[c,h]=(0,ex.useState)(0),{meshes:f,program:p,material:v}=t;return(0,ev.jsxs)(ey1,{children:[(0,ev.jsxs)(eyJ,{onClick:()=>{t.expand=!s,Object.keys(f).forEach(t=>{f[t].material.wireframe=!1}),u(!s)},children:[(0,ev.jsx)(ey$,{style:{marginRight:"6px"},children:s?(0,ev.jsx)("span",{children:(0,ev.jsx)(exF,{})}):(0,ev.jsx)("span",{children:(0,ev.jsx)(exz,{})})}),p&&(0,ev.jsxs)("span",{children:[(0,ev.jsx)(ey2,{children:p.name}),(0,ev.jsxs)(eyY,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[(0,ev.jsx)(exw,{style:{top:"-1px"}}),Object.keys(f).length,(0,ev.jsx)("small",{children:Object.keys(f).length>1?"users":"user"})]}),c>0&&(0,ev.jsxs)(eyY,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[(0,ev.jsx)(exy,{style:{top:"-1px"}}),c,(0,ev.jsx)("small",{children:"tex"})]}),(0,ev.jsx)(eba,{el:t}),"300 es"===v.glslVersion&&(0,ev.jsxs)(eyY,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[(0,ev.jsx)(exP,{style:{top:"-1px"}}),"300",(0,ev.jsx)("small",{children:"es"}),(0,ev.jsx)(eyZ,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),(0,ev.jsx)(ey0,{onPointerEnter:()=>{Object.keys(f).forEach(t=>{f[t].material.wireframe=!0})},onPointerLeave:()=>{Object.keys(f).forEach(t=>{f[t].material.wireframe=!1})},onClick:s=>{s.stopPropagation(),Object.keys(f).forEach(s=>{let u=f[s],c=!r;u.visible=c,t.visible=c,i(c)})},children:r?(0,ev.jsx)(exm,{}):(0,ev.jsx)(exp,{})})]}),(0,ev.jsxs)("div",{style:{maxHeight:s?"9999px":0,overflow:"hidden"},children:[(0,ev.jsxs)(ey4,{children:[(0,ev.jsx)(exo,{})," Uniforms:"]}),(0,ev.jsx)(ebi,{program:p,material:v,setTexNumber:h}),(0,ev.jsxs)(ey4,{children:[(0,ev.jsx)(exl,{})," Geometries:"]}),(0,ev.jsx)(ey9,{children:f&&Object.keys(f).map(t=>f[t]&&f[t].geometry&&(0,ev.jsxs)(ey7,{children:[(0,ev.jsxs)("span",{children:[f[t].geometry.type,": "]}),f[t].userData&&f[t].userData.drawCount&&(0,ev.jsxs)("b",{children:[(0,ev.jsxs)("div",{children:[f[t].userData.drawCount.count,(0,ev.jsxs)("small",{children:[" ",f[t].userData.drawCount.type,"s"]})]}),(0,ev.jsx)("br",{}),(0,ev.jsxs)("div",{children:[Math.round(function(t){let r=0;for(let i in t.attributes){let s=t.getAttribute(i);r+=s.count*s.itemSize*s.array.BYTES_PER_ELEMENT}let i=t.getIndex();return r+=i?i.count*i.itemSize*i.array.BYTES_PER_ELEMENT:0}(f[t].geometry)/1024*1e3)/1e3,"Kb",(0,ev.jsx)("small",{children:" memory used"})]})]})]},t))}),(0,ev.jsxs)(ey8,{onClick:()=>{},children:["console.info(",v.type,")"]})]})]})},ebs=()=>{eyC(t=>t.triggerProgramsUpdate);let t=eyC(t=>t.programs);return(0,ev.jsx)(ey5,{children:t&&Array.from(t.values()).map(t=>t?t?(0,ev.jsx)(ebo,{el:t},t.material.uuid):null:null)})},ebl=t=>({overClock:"#ff6eff",fps:t?"100, 143, 255":"238,38,110",cpu:t?"254, 254, 98":"66,226,46",gpu:t?"254,254,254":"253,151,31",custom:t?"86,180,233":"40,255,255"}),ebu=({showGraph:t,colorBlind:r})=>{let i=eyC(t=>t.overclockingFps),s=eyC(t=>t.fpsLimit);return(0,ev.jsxs)(eyZ,{style:t?{color:i?ebl(r).overClock.toString():`rgb(${ebl(r).fps})`}:{},children:["FPS ",i?`${s}`:""]})},ebc=({showGraph:t,colorBlind:r,customData:i,minimal:s})=>{let u=eyC(t=>t.gl);return u?(0,ev.jsxs)(eyK,{children:[(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(exA,{}),(0,ev.jsx)(eyZ,{style:t?{color:`rgb(${ebl(r).gpu.toString()})`}:{},children:"GPU"}),(0,ev.jsx)(eyX,{children:"ms"})]}),(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(exB,{}),(0,ev.jsx)(eyZ,{style:t?{color:`rgb(${ebl(r).cpu.toString()})`}:{},children:"CPU"}),(0,ev.jsx)(eyX,{children:"ms"})]}),(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(ex_,{}),(0,ev.jsx)(ebu,{showGraph:t,colorBlind:r})]}),!s&&u&&(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(exO,{}),(0,ev.jsx)(eyZ,{children:1===u.info.render.calls?"call":"calls"})]}),!s&&u&&(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(exH,{}),(0,ev.jsx)(eyZ,{children:"Triangles"})]}),i&&(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(exi,{}),(0,ev.jsx)(eyZ,{style:t?{color:`rgb(${ebl(r).custom})`}:{},children:i.name}),i.info&&(0,ev.jsx)(eyX,{children:i.info})]})]}):null},ebh=({showGraph:t,colorBlind:r,deepAnalyze:i,customData:s,matrixUpdate:u,openByDefault:c,minimal:h})=>(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(ebc,{showGraph:t,colorBlind:r,customData:s,minimal:h}),!h&&(0,ev.jsx)(ebp,{matrixUpdate:u,openByDefault:c,deepAnalyze:i,showGraph:t})]}),ebd=({matrixUpdate:t})=>(0,ev.jsxs)("div",{children:[(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(exC,{}),(0,ev.jsx)(eyZ,{children:"Geometries"})]}),(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(exy,{}),(0,ev.jsx)(eyZ,{children:"Textures"})]}),(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(exn,{}),(0,ev.jsx)(eyZ,{children:"shaders"})]}),(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(exE,{}),(0,ev.jsx)(eyZ,{children:"Lines"})]}),(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(exc,{}),(0,ev.jsx)(eyZ,{children:"Points"})]}),t&&(0,ev.jsxs)(eyY,{children:[(0,ev.jsx)(exd,{}),(0,ev.jsx)(eyZ,{children:"Matrices"})]})]}),ebf=({tab:t,title:r,set:i})=>{let s=eyC(t=>t.tab);return(0,ev.jsx)(ey$,{className:`${s===t?" __perf_toggle_tab_active":""}`,onClick:()=>{i(!0),eyE({tab:t})},children:(0,ev.jsx)("span",{children:r})})},ebp=({openByDefault:t,showGraph:r,deepAnalyze:i,matrixUpdate:s})=>{let[u,c]=ex.useState(t);return(0,ev.jsxs)("span",{children:[(0,ev.jsx)(ebg,{show:u,showGraph:r,matrixUpdate:s}),t&&!i?null:(0,ev.jsxs)(ey6,{className:"__perf_toggle",children:[i&&(0,ev.jsx)(ebf,{tab:"programs",title:"Programs",set:c}),i&&(0,ev.jsx)(ebf,{tab:"infos",title:"Infos",set:c}),(0,ev.jsx)(ey$,{onClick:()=>{c(!u)},children:u?(0,ev.jsxs)("span",{children:[(0,ev.jsx)(exF,{})," Minimize"]}):(0,ev.jsxs)("span",{children:[(0,ev.jsx)(exz,{})," More"]})})]})]})},ebg=({show:t,showGraph:r,matrixUpdate:i})=>{let s=eyC(t=>t.tab);return(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(ebd,{matrixUpdate:i}),t&&(0,ev.jsx)("div",{children:(0,ev.jsx)(ey3,{style:{marginTop:r?"38px":0},children:"programs"===s&&(0,ev.jsx)(ebs,{})})})]})},ebm=({showGraph:t=!0,colorBlind:r=!1,openByDefault:i=!0,className:s,overClock:u=!1,style:c,position:h="top-right",chart:f,logsPerSecond:p,deepAnalyze:v=!1,antialias:y=!0,customData:x,matrixUpdate:_,minimal:b})=>{let w=(0,ex.useRef)(null);return(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(eyj,{logsPerSecond:p,chart:f,overClock:u,deepAnalyze:v,matrixUpdate:_}),(0,ev.jsx)(ebn,{name:"r3f-perf",children:(0,ev.jsxs)(eyW,{className:(s?" ".concat(s):" ")+` ${h||""} ${b?"minimal":""}`,style:{minHeight:b?"37px":t?"100px":"60px",...c},ref:w,children:[(0,ev.jsx)(ebe,{perfContainerRef:w,colorBlind:r,chart:f,showGraph:t,antialias:y,customData:x,minimal:b,matrixUpdate:_}),(0,ev.jsx)(ebh,{colorBlind:r,showGraph:t,deepAnalyze:v,openByDefault:i,customData:x,matrixUpdate:_,minimal:b})]})})]})},ebv=()=>(0,ev.jsx)(ebm,{className:AT(`
        !left-3 !top-3 !z-20 rounded-lg border !border-slate-300 !bg-slate-200
      `),position:"top-left"}),eby=()=>{let[t,r]=(0,ex.useState)(1.5),{configs:i}=xX(x8);return(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(eym,{}),(0,ev.jsx)(evN,{}),(0,ev.jsx)(eyu,{}),(0,ev.jsxs)(gc,{shadows:i.environment.shadows,dpr:t,orthographic:!0,gl:{preserveDrawingBuffer:!0},camera:{zoom:i.camera.initZoom,position:_h(i.camera.initHeight,i.camera.initRotation)},children:[(0,ev.jsx)(ebv,{}),(0,ev.jsx)(eoX,{onDecline:()=>r(1)}),(0,ev.jsxs)(ex.Suspense,{fallback:null,children:[(0,ev.jsx)(_p,{}),(0,ev.jsx)(evZ,{}),(0,ev.jsx)("group",{position:[-.5,-.01,.5],children:(0,ev.jsx)(evj,{...xc.props.grid})})]})]})]})},ebx=()=>{let{mode:t}=xX(evG),r=(0,ex.useMemo)(()=>"runtime"===t,[t]);return(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("div",{className:AT(`
          fixed bottom-0 right-0 z-30 p-0 transition-all

          [&>button]:hover:border-slate-300 [&>button]:hover:bg-slate-50

          hover:pb-3 hover:pr-3
        `),children:(0,ev.jsx)(eaB,{className:AT("border-transparent bg-transparent transition-all duration-300"),onPointerDown:()=>evH.setMode(r?"editor":"runtime"),children:r?"":""})}),r?(0,ev.jsx)(evF,{}):(0,ev.jsx)(eby,{})]})},eb_={theme:{colors:{elevation1:"#e2e8f0",elevation2:"#f8fafc",elevation3:"#e2e8f0",accent1:"#64748b",accent2:"#cbd5e1",accent3:"#94a3b8",highlight1:"#94a3b8",highlight2:"#64748b",highlight3:"#475569"},fontWeights:{folder:"bolder"},space:{rowGap:"5px"},fonts:{mono:"'Nanum Gothic Coding', monospace",sans:"'Gothic A1', sans-serif"}},className:AT(`
  fixed right-3 top-3 z-[50]

  [&>div]:w-[330px] [&>div]:rounded-lg [&>div]:border [&>div]:border-slate-300

  [&>div>div]:rounded-lg

  [&>div>div>div>div]:!mt-0.5
`)},ebb=()=>{let{className:t,theme:r}=eb_,{isFullscreen:i}=xX(wn);return(0,ev.jsx)("div",{className:t,style:{zIndex:i?0:50},children:(0,ev.jsx)(evR,{theme:r,flat:!0,collapsed:!0,titleBar:{filter:!1}})})},ebw=(0,ex.forwardRef)((t,r)=>{let{data:i}=t,{runtimeData:s}=xX(be);return(0,ex.useEffect)(()=>{var t;be.runtimeData=i?{models:null===(t=i.models)||void 0===t?void 0:t.map(t=>({...t,id:eoG()})),paths:i.paths}:_7},[i]),(0,ex.useImperativeHandle)(r,()=>({getData:()=>xQ(s)})),(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(ebb,{}),(0,ev.jsx)(ebx,{})]})});ebw.displayName="App";let ebS=(t,r)=>{let i=ey.createRoot(t),s=(0,ex.createRef)();return(0,wM.flushSync)(()=>{i.render((0,ev.jsx)(ex.StrictMode,{children:(0,ev.jsx)(ebw,{ref:s,...r})}))}),{handle:s.current,unmount:()=>i.unmount()}}})(),s})());